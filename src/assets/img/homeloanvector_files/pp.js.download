(function(){var iQ={};iQ.a1v=function(w,n){var H=s.L2[s.na("%|xK")];if(H==null)return"XYP";var y=w.toString(16).slice(0,4),c=y+n+"aQYRDCB";
return H(c).slice(5,17)+y.split("").reverse().join("")};iQ._z=function(){var w=s.L2[s.hj("3M"+(s.jg(26)?"]K":"fa"))];
w=w[s.hj("]["+(!s.jg(28)?",":"`"))];return Math.floor(w()/1e3)};iQ.jg=function(w){var n=0;for(var l=0;
l<w;l++)n+=Math.random();return n/w<Math.PI/4};iQ.hj=function(w){var n="";if(!iQ.jg(28))w+="-3";for(var l=0;
l<w.length;l++){var H=w.charCodeAt(l);if(H<32||126<H)throw"e";n+=String.fromCharCode(32+(H-32+17+3*l)%95)}return n};
iQ.na=function(w){var n="";if(!iQ.jg(28))w+="-1";for(var l=0;l<w.length;l++){var H=w.charCodeAt(l);H-=32;
H+=95e4;H-=17+3*l;H=H%95;n+=String.fromCharCode(32+H)}return n};iQ.lE=iQ.hj("XP");iQ.Iv=iQ.hj("XYP");
iQ.Bl=iQ.hj("c[Y");iQ.a2b=iQ.hj("][`");iQ.ah2=iQ.hj("SU_");iQ.NV=iQ.hj("b^L");iQ.avo=iQ.hj("61=");iQ.gp=iQ.hj("Q[M_");
iQ.sM=iQ.hj("WQJJ");iQ.J3=iQ.hj("W^NL");iQ.NU=iQ.hj("[[JJ");iQ.atM=iQ.hj("[[PU");iQ.le=iQ.hj("^\\NT");
iQ.aj9=iQ.hj("bQUL");iQ.Og=iQ.hj("bQWJ");iQ.zs=iQ.hj("3M]K");iQ.awx=iQ.hj("<M]N");iQ.Uh=iQ.hj("][WK");
iQ.a4O=iQ.hj("P_bTF");iQ.PX=iQ.hj("RXRIN");iQ.HN=iQ.hj("b`bRH");iQ.C2=iQ.hj("fUMZK");iQ.a0U=iQ.hj("Q[]ZRM");
iQ.awp=iQ.hj("WQRMKT");iQ.Kf=iQ.hj("XR[GPE");iQ.ajd=iQ.hj("aMWJRM");iQ.a3F=iQ.hj("bO[OST");iQ.Gl=iQ.hj("cM[MHT");
iQ.a2C=iQ.hj("^Z5OQE");iQ.xo=iQ.hj("R[WLLRJ");iQ.aeO=iQ.hj("SU\\VOAV");iQ.ahW=iQ.hj("XZMK[/C");iQ.OQ=iQ.hj("aQYRDCB");
iQ.sS=iQ.hj("[[LGWILH");iQ.h8=iQ.hj("S[L[PEKN");iQ.bE=iQ.hj("aQOKURBL");iQ.Dr=iQ.hj("aQ\\VRNP?");iQ.aoC=iQ.hj("XZWKU(1'#");
iQ.akb=iQ.hj("SQLUGE2, ");iQ.ah1=iQ.hj("]M_OJAQII");iQ.Kl=iQ.hj("bQ]:LMBILH");iQ.a1J=iQ.hj("UU[YW#ECC8");
iQ.Nq=iQ.hj("cQaZ&OKN<BE");iQ.lL=iQ.hj("P\\YKQD B@@5");iQ.T5=iQ.hj("aQVUYE B@@5");iQ.Qe=iQ.hj("bQ]'WTOC9IE3");
iQ.azi=iQ.hj("XZ\\KUT~?=CC3");iQ.TN=iQ.hj("R^NGWE\"F<A6<?");iQ.av8=iQ.hj("VQ]+OEJ?EHrGs,");iQ.Ls=iQ.hj("G95.WTM,<EF3><");
iQ.Xj=iQ.hj("PPM+YEKN#=DB06*4");function b8(w){this.uq={};this.ok=0;this.RA();if(w!=!0)window.__kb=this}b8.KT=null;
b8.prototype.RA=function(){var w=navigator.keyboard;if(w&&window.top==window.self)w.getLayoutMap().then(function(n){b8.KT=n})};
b8.prototype.afE=function(w){var n={shiftKey:b8.fx,altKey:b8.FO,ctrlKey:b8.NX};for(var H in n){var y=w[H],c=n[H],Q=this.l(c);
if(!y&&Q){for(var l=0;l<c.Ow.length;l++)this.hV(c.Ow[l])}}};b8.prototype.hJ=function(w){this.ok++;this.uq[w]=!0};
b8.prototype.hV=function(w){this.ok--;delete this.uq[w];if(this.ok<=0||b8.dy(w,b8.P3))this.reset()};
b8.prototype.l=function(w){for(var l=0;l<w.Ow.length;l++)if(this.uq[w.Ow[l]])return!0;return!1};b8.prototype.reset=function(){this.uq={};
this.ok=0};b8.prototype.oY=function(w){var n=this,H=n.l(b8.fx)?10:1,y=0,c=0;if(n.l(b8.dw))y=-H;else if(n.l(b8.sw))y=H;
else if(n.l(b8.sm))c=-H;else if(n.l(b8.JL))c=H;var Q=new ce(y,c);if(w!=null){var q=new b7;q.rotate(w);
Q=q.rY(Q);if(Math.abs(Q.x)<Math.abs(Q.y))Q.x=0;else Q.y=0;Q.x=Math.round(Q.x);Q.y=Math.round(Q.y)}return Q};
b8.prototype.RQ=function(){var w=this,n=b8.KK;for(var l=0;l<10;l++)if(w.l(n[l]))return l;return-1};b8.dy=function(w,n){return n.Ow.indexOf(w)!=-1};
b8.ao2="ZoomToggle BrightnessDown BrightnessUp AudioVolumeMute AudioVolumeDown AudioVolumeUp LaunchApplication1 F1 F2 F3 F4 F5 F6 F7 F8 F9 F10 F11 F12 Enter Shift Escape KeyV".split(" ");
b8.Fq=function(w){var n=w.code;if(n=="")return!1;var H=b8.dy;if(w.altKey&&!w.shiftKey&&!w.ctrlKey){var y=b8.KK.concat([b8.iA,b8.u_,b8.gT,b8.vn]),c=!1;
for(var l=0;l<y.length;l++)if(H(n,y[l]))return!1}return b8.ao2.indexOf(n)==-1||w.shiftKey&&(n=="F5"||n=="F6")};
b8.nS=function(w){if(typeof w=="string")return w;var n=navigator.platform.toUpperCase().indexOf("MAC")>=0;
if(w==null)return"";var H=[];for(var l=0;l<w.length;l++){var y=w[l].DF?w[l].DF:w[l];if(n&&w[l].WB)y=w[l].WB;
H.push(y)}if(n||H.length==1)return H.join(" + ");else{var c=H.pop();return H.join("+")+" + "+c}};b8.J2=function(w){window.__kb.RA();
var n=w.code,H=b8.KT;if(H&&H.get(n)){var y={"+":"NumpadAdd","-":"NumpadSubtract",".":"Period"},c=H.get(n).toLowerCase(),Q=c.charCodeAt(0);
if(97<=Q&&Q<=122){var q="Key"+c.toUpperCase();n=q}else if(y[c])n=y[c];return n}var y={"+":"NumpadAdd","-":"NumpadSubtract",".":"Period"},c=w.key.toLowerCase(),Q=c.charCodeAt(0);
if(c.length==1){if(97<=Q&&Q<=122){var q="Key"+c.toUpperCase();n=q}else if(y[c])n=y[c]}if(c=="control"&&n!="")n="ControlLeft";
return n};b8.hP=0;b8._J=function(w,n){var H=0;if(Date.now()-b8.hP>1e3){H=n==0?100:n*10}else{if(w%10!=0)w*=10;
H=(w+n)%100}b8.hP=Date.now();return H};b8.aeL={nm:"No Touch",Ow:["NoTouch"]};b8.IO={DF:"Enter",Ow:["Enter","NumpadEnter"]};
b8.fx={DF:"Shift",WB:"\u21E7",Ow:["ShiftLeft","ShiftRight"]};b8.P3={DF:"Meta",Ow:["MetaLeft","MetaRight","OSLeft","OSRight"]};
b8.NX={DF:"Ctrl",WB:"\u2318",Ow:"ControlLeft ControlRight MetaLeft MetaRight OSLeft OSRight".split(" ")};
b8.FO={DF:"Alt",WB:"\u2325",Ow:["AltLeft","AltRight"]};b8.a4o={DF:"CtrlOrAlt",Ow:b8.NX.Ow.concat(b8.FO.Ow)};
b8.RN={DF:"Escape",Ow:["Escape"]};b8.QQ={DF:"Space",Ow:["Space"]};b8.Ba={DF:"Tab",Ow:["Tab"]};b8.zL={DF:"Home",Ow:["Home"]};
b8.aoi={DF:"End",Ow:["End"]};b8.dw={DF:"Left",Ow:["ArrowLeft"]};b8.sm={DF:"Up",Ow:["ArrowUp"]};b8.sw={DF:"Right",Ow:["ArrowRight"]};
b8.JL={DF:"Down",Ow:["ArrowDown"]};b8.iA={DF:"+",Ow:["NumpadAdd","Equal"]};b8.u_={DF:"-",Ow:["NumpadSubtract","Minus"]};
b8.Ch={DF:";",Ow:["Semicolon"]};b8.ad6={DF:"Dead",Ow:["Dead"]};b8.a9Q={DF:"=",Ow:["Equal"]};b8.uU={DF:"Backspace",Ow:["Backspace"]};
b8.DB={DF:"Delete",Ow:["Delete"]};b8.abe={DF:"Backslash",Ow:["Backslash","IntlBackslash"]};b8.a8d={DF:"Slash",Ow:["NumpadDivide","Slash"]};
b8.am$={DF:"Backquote",Ow:["Backquote"]};b8.gT={DF:"[",Ow:["BracketLeft"]};b8.vn={DF:"]",Ow:["BracketRight"]};
b8.Cd={DF:".",Ow:["Period"]};b8.Il={DF:",",Ow:["Comma"]};b8.lr={DF:"'",Ow:["Quote"]};b8.c={DF:"A",Ow:["KeyA"]};
b8.bU={DF:"B",Ow:["KeyB"]};b8.sO={DF:"C",Ow:["KeyC"]};b8.JK={DF:"D",Ow:["KeyD"]};b8.E={DF:"E",Ow:["KeyE"]};
b8.kN={DF:"F",Ow:["KeyF"]};b8.aj={DF:"G",Ow:["KeyG"]};b8.mD={DF:"H",Ow:["KeyH"]};b8.Vp={DF:"I",Ow:["KeyI"]};
b8.fs={DF:"J",Ow:["KeyJ"]};b8.Ek={DF:"K",Ow:["KeyK"]};b8.qm={DF:"L",Ow:["KeyL"]};b8.nH={DF:"M",Ow:["KeyM"]};
b8.Sp={DF:"N",Ow:["KeyN"]};b8.R3={DF:"O",Ow:["KeyO"]};b8.aR={DF:"P",Ow:["KeyP"]};b8.zg={DF:"Q",Ow:["KeyQ"]};
b8.AG={DF:"R",Ow:["KeyR"]};b8.M9={DF:"S",Ow:["KeyS"]};b8.Sh={DF:"T",Ow:["KeyT"]};b8.LF={DF:"U",Ow:["KeyU"]};
b8.wQ={DF:"V",Ow:["KeyV"]};b8.to={DF:"W",Ow:["KeyW"]};b8.K_={DF:"X",Ow:["KeyX"]};b8.asG={DF:"Y",Ow:["KeyY"]};
b8.gH={DF:"Z",Ow:["KeyZ"]};b8.W$={DF:"0",Ow:["Numpad0","Digit0"]};b8.gP={DF:"1",Ow:["Numpad1","Digit1"]};
b8.ash={DF:"2",Ow:["Numpad2","Digit2"]};b8.ab4={DF:"3",Ow:["Numpad3","Digit3"]};b8.axx={DF:"4",Ow:["Numpad4","Digit4"]};
b8.auC={DF:"5",Ow:["Numpad5","Digit5"]};b8.aqP={DF:"6",Ow:["Numpad6","Digit6"]};b8.aeK={DF:"7",Ow:["Numpad7","Digit7"]};
b8.a2E={DF:"8",Ow:["Numpad8","Digit8"]};b8.a83={DF:"9",Ow:["Numpad9","Digit9"]};b8.KK=[b8.W$,b8.gP,b8.ash,b8.ab4,b8.axx,b8.auC,b8.aqP,b8.aeK,b8.a2E,b8.a83];
b8.aqG={DF:"F1",Ow:["F1"]};b8.a0O={DF:"F2",Ow:["F2"]};b8.ais={DF:"F3",Ow:["F3"]};b8.am8={DF:"FF",Ow:["F4"]};
b8.Vh={DF:"F5",Ow:["F5"]};b8.anc={DF:"F6",Ow:["F6"]};b8.aca={DF:"F7",Ow:["F7"]};b8.ajQ={DF:"F8",Ow:["F8"]};
b8.a9f={DF:"F9",Ow:["F9"]};b8.a7u={DF:"F10",Ow:["F10"]};b8.a2l={DF:"F11",Ow:["F11"]};b8.a8z={DF:"F12",Ow:["F12"]};
function da(w){c8.call(this);this.Z4={};this.l8={};this.a44=0;this.a1r={};this.wW=[];this.auB=0;this.NU=w;
da.dU=this}da.a3R=function(w,n){var l=0,H=da.wl;while(l<H.length){if((n>>>l&1)==1)break;l++}if(l!=0&&da.aq(w,[33,126])>.7)l=0;
if(n==0||H[l][1]==""){if((n&15)!=0&&da.aq(w,[33,126])>.7)l=0;else if(n==0)l=0;else{l=0}}return H[l][1]};
da.ut=120;da.Wb=20;da.cols=16;da.dR=function(w){var n=w.name.postScriptName;if(n==null)return null;return n.replace(/ /g,"-")};
da.D7=function(w){var n=w.name,H=n.typoFamilyName,y=n.typoSubfamilyName,c=H&y,Q=c?H:n.fontFamily,q=c?y:n.fontSubfamily;
if(q==null)q="Regular";var S=da.az1,A=Q.toLowerCase();for(var l=0;l<S.length;l++){if(S[l]=="roman")continue;
if(A.endsWith(" "+S[l])||A.endsWith("-"+S[l])){var V=Q.length-S[l].length,e=Q.slice(V);Q=Q.slice(0,V-1);
if(e!=""){if(q=="Regular"||q==Q+" Regular")q=e;else q=e+" "+q}break}}var d="BPdots,Baloo,Diner,EB Garamond Initials,Encode Sans Semi Condensed,Encode Sans Semi Expanded,Changa,HVD Poster,IM FELL DW,IM FELL Double,IM FELL English,IM FELL FLOWERS,IM FELL French Canon,IM FELL Great Primer,itsadzoke,JUICE,Lacuna,Latin Modern Mono,Latin Modern Sans,Latin Modern Roman,Latinia,Libre Barcode,Libre Caslon,Londrina,Panefresco,Qomolangma,UnifrakturMaguntia,WC Rhesus,WC Sold Out,WC Wunderbach,Walkway".split(",");
for(var l=0;l<d.length;l++)if(Q.startsWith(d[l])){var e=Q.slice(d[l].length);Q=d[l];if(e.startsWith(" ")||e.startsWith("-"))e=e.slice(1);
if(e!=""){if(q=="Regular")q=e;else q=e+" "+q}break}var N={"Caudex-BoldItalic":"Bold Italic","Comfortaa-Light":"Light","Comfortaa-Medium":"Medium","Comfortaa-SemiBold":"SemiBold",DevroyeSCOSF:"Regular SCOSF",DevroyeUnicode:"Regular Unicode","LeagueScriptThin-Regular":"Regular","Monda-Bold":"Bold","Nobile-Bold":"Bold","Oswald-BoldItalic":"Bold Italic","Oswald-HeavyItalic":"Heavy Italic","Oswald-LightItalic":"Light Italic","Oswald-MediumItalic":"Medium Italic","Oswald-RegularItalic":"Regular Italic","PaloAlto-Italic":"Heavy Italic"},b=N[da.dR(w)];
if(b)q=b;return[Q,q]};da.prototype.aw4=function(w){var n=this.Uc();for(var H in n)if(n[H][0]==w)this.WX(H)};
da.prototype.aoa=function(){return Object.keys(this.l8).length!=0};da.prototype.WX=function(w,n){if(this.Z4[w])return this.Z4[w];
if(this.l8[w])return null;var H=null,y=this.Uc();if(y[w]!=null)H=y[w][5];if(H==null){var c=da.OQ[w];
if(c==null){var Q="DejaVuSans DejaVuSans-Bold DejaVuSans-Oblique DejaVuSans-BoldOblique DejaVuSerif DejaVuSerif-Bold DejaVuSerif-Italic DejaVuSerif-BoldItalic".split(" "),q=w.toLowerCase(),S=0;
if(q.indexOf("sans")!=-1)S=0;else if(q.indexOf("serif")!=-1)S=4;var A=q.indexOf("bold")!=-1||q.indexOf("-black")!=-1,V=q.indexOf("italic")!=-1||q.indexOf("oblique")!=-1||q.endsWith("-it");
if(A&&V)S+=3;else if(V)S+=2;else if(A)S+=1;c=Q[S]}if(n!=null&&n>128)c=this.Fo(n,c);if(this.a1r[w]==null){this.a1r[w]=1;
var e=Date.now()-this.a44>2e3?2e3:0;this.a44=Date.now();alert(w+" \u27A1 "+c,e)}return this.WX(c,n)}this.l8[w]="a";
this.NU(H)};da.prototype.Fo=function(w,n,H){var y=this.Z4[n];if(y&&Typr.U.codeToGlyph(y,w)!=0)return n;
var c=this.Uc(),Q=da.acd(w),q=Q[0];if(c[n]&&(c[n][3]&q)==0){if(H)for(var l=0;l<H.length;l++){var S=H[l].Name,A=c[S];
if(A&&(A[3]&q)!=0)return S}var S=da.wl[Q[1]][4];if(c[S])return S}return n};da.acd=function(w){var n=da.wl,H=[0];
for(var l=0;l<n.length;l++){var y=n[l][2];for(var c=0;c<y.length;c+=2)if(y[c]<=w&&w<=y[c+1]){H[0]+=1<<l;
H.push(l)}}if(H.length==1)H.push(0);return H};da.prototype.ao$=function(){var w=this.wW,n=w[0],H=w.length-1;
alert(hV.get([22,6,0])+" "+n+(H==0?"":", ... ("+H+")")+" "+hV.get([23,0])+".",1500);this.wW=[]};da.prototype.asD=function(w,n){if(n!=!0){this.wW.push(w.name.fullName);
clearTimeout(this.auB);this.auB=setTimeout(this.ao$.bind(this),300)}var H=da.dR(w),y=this.Uc(),c=y[H],Q=da.aaL(w);
if(c==null){var q=document.createElement("canvas"),S=q.getContext("2d");q.width=da.ut;q.height=da.Wb;
var A=da.Wb*1.2/w.head.unitsPerEm;S.translate(4,da.Wb*.9);S.scale(A,-A);S.fillStyle="#000000";var V=Typr.U.shape(w,da.a3R(w,Q[3]),!0);
Typr.U.pathToContext(Typr.U.shapeToPath(w,V),S);S.fill();Q.apC=q.toDataURL();this.AJ(Q)}delete this.l8[H];
this.Z4[H]=w};da.aam=function(){var w=da.wl,n=[];for(var l=0;l<w.length;l++)n.push(w[l][0]);return n};
da.wl=[["Latin-1","Preview",[161,169,192,246,248,255],.7,"DejaVuSans"],["Latin Ext. A","",[256,383],.7,"DejaVuSans"],["Greek","\u0395\u03BB\u03BB\u03B7\u03BD\u03B9\u03BA\u03AC",[913,929,931,969],.7,"DejaVuSans"],["Cyrillic","\u041F\u0440\u0438\u0432\u0435\u0442",[1040,1119],.7,"DejaVuSans"],["Hebrew","\u05E2\u05D1\u05E8\u05D9\u05EA",[1473,1479,1488,1514,1520,1524],.7,"DejaVuSans"],["Arabic","\u0627\u064E\u0644\u0652\u0639\u064E\u0631\u064E\u0628\u0650\u064A\u064E\u0651\u0629\u064F",[1569,1594,1600,1749],.4,"DejaVuSans"],["Hangul","\uC608\uACE0\uD3B8",[4352,4607,44032,55203,12593,12686],.7,"NotoSansKR-Regular"],["Chi-Jap-Kor","\u9810\u7FD2",[12288,12351,12352,12447,12448,12543,19968,40895],.05,"DroidSansFallback"],["Tibetan","\u0F50\u0F74\u0F42\u0F66\u0F0B\u0F62\u0F97\u0F7A\u0F0B\u0F46\u0F7A\u0F0D",[3840,3948,3953,4044],.7,"NotoSansTibetan"],["Devanagari","\u092A\u0942\u0930\u094D\u0935\u093E\u0935\u0932\u094B\u0915\u0928",[2304,2431],.7,"Hind-Regular"],["Thai","\u0E20\u0E32\u0E1E\u0E15\u0E31\u0E27\u0E2D\u0E22\u0E48\u0E32\u0E07",[3585,3642,3647,3675],.7,"K2D-Regular"],["Khmer","\u1798\u17BE\u179B\u1787\u17B6\u1798\u17BB\u1793",[6016,6109,6112,6121,6128,6137],.7,"Battambang-Regular"],["Vietnamese","Xem tr\u01B0\u1EDBc",[192,195,200,202,204,205,210,213,217,218,221,221,224,227,232,234,236,237,242,245,249,250,253,253,258,259,272,273,296,297,360,361,416,417,431,432,7840,7929],.95,"DejaVuSans"],["Bengali","\u09B8\u09CD\u09AC\u09BE\u09A7\u09C0\u09A8\u09AD\u09BE\u09AC\u09C7",[2432,2559],.2,"FreeSans"],["Emoji","",[9728,10095,127744,129535],.01,"DejaVuSans"]];
da.aaL=function(w,n,H){var y=w.name,A=0;if(da.dR(w)==null){console.log(w);throw"No postScriptName!"}var c=da.wl,Q=[];
for(var l=0;l<c.length;l++){var q=c[l][2],S=c[l][3];Q[l]=da.aq(w,q)>S?1:0}for(var l=0;l<Q.length;l++)A+=Q[l]<<l;
var V=da.D7(w);return[V[0],V[1],da.dR(w),A,H,n]};da.aq=function(w,n){var H=0,y=0;for(var c=0;c<n.length;
c+=2){for(var Q=n[c];Q<=n[c+1];Q++){var q=Typr.U.codeToGlyph(w,Q);if(q==0)y++;else H++}}return H/(H+y)};
da.aaA=function(w,n){if(w[2]<n[2])return-1;if(w[2]>n[2])return 1;return 0};da.adX=function(w,n){if(w[5]=="fs/"+w[2]+".otf")w[5]="";
else if(w[5]=="gf/"+w[2]+".otf")w[5]="a";if(w[2]==(w[0]+"-"+w[1]).replace(/\s/g,"")){w[2]=""}else if(w[2]==w[0].replace(/\s/g,"")){w[2]="a"}if(n){if(w[0]==n[0])w[0]="";
if(w[1]==n[1])w[1]="";if(w[3]==n[3])w[3]="";if(w[4]==n[4])w[4]=""}return w.join(",")};da.amc=function(w,n){w=w.split(",");
if(w[0]=="")w[0]=n[0];if(w[1]=="")w[1]=n[1];if(w[3]=="")w[3]=n[3];else w[3]=parseInt(w[3]);if(w[4]=="")w[4]=n[4];
else w[4]=parseInt(w[4]);if(w[2]=="")w[2]=(w[0]+"-"+w[1]).replace(/\s/g,"");else if(w[2]=="a")w[2]=w[0].replace(/\s/g,"");
if(w[5]=="")w[5]="fs/"+w[2]+".otf";else if(w[5]=="a")w[5]="gf/"+w[2]+".otf";return w};da.OQ={ArialMT:"LiberationSans","Arial-BoldMT":"LiberationSans-Bold","Arial-ItalicMT":"LiberationSans-Italic","Arial-BoldItalicMT":"LiberationSans-BoldItalic",TimesNewRomanPSMT:"LiberationSerif","TimesNewRomanPS-BoldMT":"LiberationSerif-Bold","TimesNewRomanPS-ItalicMT":"LiberationSerif-Italic","TimesNewRomanPS-BoldItalicMT":"LiberationSerif-BoldItalic",CourierNewPSMT:"CourierPrime","CourierNewPS-BoldMT":"CourierPrime-Bold","CourierNewPS-ItalicMT":"CourierPrime-Italic","CourierNewPS-BoldItalicMT":"CourierPrime-BoldItalic",Courier:"CourierPrime","Courier-Bold":"CourierPrime-Bold",TrebuchetMS:"SourceSansPro-Regular","TrebuchetMS-Bold":"SourceSansPro-Semibold","TrebuchetMS-Italic":"SourceSansPro-It","TrebuchetMS-BoldItalic":"SourceSansPro-SemiboldIt","Times-Roman":"LiberationSerif",Impact:"Anton-Regular",Calibri:"SourceSansPro-Regular","Calibri-Italic":"SourceSansPro-It","Calibri-Bold":"SourceSansPro-Bold",CalibriBold:"SourceSansPro-Bold","Times-Roman":"LiberationSerif","Times-Italic":"LiberationSerif-Italic","Times-Bold":"LiberationSerif-Bold","Helvetica-Bold":"LiberationSans-Bold","HelveticaNeue-Thin":"Roboto-Thin","HelveticaNeue-Light":"Roboto-Light",HelveticaNeue:"Roboto-Regular","HelveticaNeue-Roman":"Roboto-Regular","HelveticaNeue-Medium":"Roboto-Medium","HelveticaNeue-Bold":"Roboto-Bold","HelveticaNeue-BoldItalic":"Roboto-BoldItalic","HelveticaNeue-Black":"Roboto-Black","HelveticaNeue-Heavy":"Roboto-Black","BasisGrotesque-Regular":"Roboto-Regular","BasisGrotesque-Medium":"Roboto-Medium","BasisGrotesque-Bold":"Roboto-Bold",ElementaPro:"FreeMono","ElementaPro-Bold":"FreeMonoBold","SFProText-Light":"Roboto-Light","SFProText-Regular":"Roboto-Regular","SFProText-Roman":"Roboto-Regular","SFProText-Medium":"Roboto-Medium","SFProText-Semibold":"Roboto-Medium","SFProText-Bold":"Roboto-Bold","SFProText-BoldItalic":"Roboto-BoldItalic","SFProText-Black":"Roboto-Black","SFProText-Heavy":"Roboto-Black","SFProDisplay-Light":"Roboto-Light","SFProDisplay-Regular":"Roboto-Regular","SFProDisplay-Roman":"Roboto-Regular","SFProDisplay-Medium":"Roboto-Medium","SFProDisplay-Semibold":"Roboto-Medium","SFProDisplay-Bold":"Roboto-Bold","SFProDisplay-BoldItalic":"SFProDisplay-BoldItalic","SFProDisplay-Black":"Roboto-Black","SFProDisplay-Heavy":"Roboto-Black","SFUIText-Light":"Roboto-Light","SFUIText-Regular":"Roboto-Regular","SFUIText-Roman":"Roboto-Regular","SFUIText-Medium":"Roboto-Medium","SFUIText-Semibold":"Roboto-Medium","SFUIText-Bold":"Roboto-Bold","SFUIText-BoldItalic":"SFUIText-BoldItalic","SFUIText-Black":"Roboto-Black","SFUIText-Heavy":"Roboto-Black",Verdana:"DejaVuSans","Verdana-Bold":"DejaVuSans-Bold","Verdana-Italic":"DejaVuSans-Oblique","Verdana-BoldItalic":"DejaVuSans-BoldOblique","MyriadPro-Regular":"PTSans-Regular","MyriadPro-Bold":"PTSans-Bold","MyriadPro-LightIt":"PTSans-Italic","MyriadPro-Semibold":"PTSans-Bold","MyriadPro-Black":"PTSans-Bold","MyriadPro-BlackCond":"PTSans-NarrowBold","MyriadPro-SemiboldCond":"PTSans-NarrowBold","MyriadPro-BoldCond":"PTSans-NarrowBold",Cambria:"Oranienbaum-Regular",Georgia:"CharisSIL","Georgia-Bold":"CharisSIL-Bold","Georgia-Italic":"CharisSIL-Italic","Georgia-BoldItalic":"CharisSIL-BoldItalic","AGaramondPro-Regular":"EBGaramond08-Regular","AGaramondPro-Bold":"EBGaramond08-Bold","AGaramondPro-Italic":"EBGaramond08-Italic",Garamond:"EBGaramond08-Regular",FontAwesome:"FontAwesome5FreeSolid","ProximaNova-Regular":"Metropolis-Regular","ProximaNova-Semibold":"Metropolis-SemiBold","ProximaNova-Light":"Metropolis-Light",BellMT:"GalatiaSIL","MinionPro-Regular":"CrimsonText-Regular","LyonDisplay-Medium":"Buenard-Regular","LyonText-Regular":"Buenard-Regular","LyonDisplay-Black":"Buenard-Bold","LyonText-Bold":"Buenard-Bold","Interstate-Light":"Overpass-Light","Interstate-Regular":"Overpass-Regular","Interstate-Bold":"Overpass-Bold","Interstate-BlackCondensed":"Overpass-Black",PalatinoLinotype:"TeXGyrePagella-Regular","PalatinoLinotype-Bold":"TeXGyrePagella-Bold","PalatinoLinotype-Italic":"TeXGyrePagella-Italic","PalatinoLinotype-BoldItalic":"TeXGyrePagella-BoldItalic"};
da.prototype.Uc=function(){if(FNTS.map==null){var w=FNTS.list,n=[];for(var l=0;l<w.length;l++){n[l]=da.amc(w[l],n[l-1]);
n[l].cm=l;this.AJ(n[l])}}return FNTS.map};da.prototype.AJ=function(w){var n=w[0],H=w[1],y=w[5];if(FNTS.map==null)FNTS.map={};
FNTS.map[w[2]]=w;if(FNTS.mapFS==null)FNTS.mapFS={};var c=FNTS.mapFS[n+"---"+H];FNTS.mapFS[n+"---"+H]=w;
if(FNTS.mapSub==null)FNTS.mapSub={};var Q=FNTS.mapSub[n];if(Q==null)Q=FNTS.mapSub[n]=[];var q=Q.indexOf(H);
if(q==-1)Q.push(H);else Q[q]=H};da.ald=function(w,n){return da.pZ(w)-da.pZ(n)};da.pZ=function(w){w=w.toLowerCase();
var n=da.a8$(w)+(da.aqy(w)<<1);if(w.indexOf("cond")==-1)n+=1<<25;return n};da.a8$=function(w){return w.indexOf("italic")!=-1||w.indexOf("oblique")!=-1?1:0};
da.az1="two,four,eight,hair,thin,ultralight,extralight,exlight,light,regular,roman,book,medium,semi bold,semibold,demibold,extra bold,extrabold,bold,heavy,ultra,x black,black,extra".split(",");
da.a5C=["two","four","eight","hair","thin","ultralight","extralight","light",["regular","roman","book"],"medium",["semibold","demibold"],"bold","extrabold","heavy","ultra","black","x black"];
da.aqy=function(w){var n=da.a5C,H=-1,y=-1;for(var l=0;l<n.length;l++){var c=n[l];if(c instanceof Array)for(var Q=0;
Q<c.length;Q++){var q=c[Q];if(w.indexOf(q)!=-1&&(H==-1||y<q.length)){H=l;y=q.length}}else if(w.indexOf(c)!=-1&&(H==-1||y<c.length)){H=l;
y=c.length}}if(H==-1)H=8;return H};da.MF=function(w,n){var H=1e9,y=null,c=da.pZ(n);for(var l=0;l<w.length;
l++){var Q=Math.abs(da.pZ(w[l])-c);if(Q<H){H=Q;y=w[l]}}return y};da.prototype.kJ=function(w,n){this.Uc();
return FNTS.mapFS[w+"---"+n]};da.prototype.wp=function(w){this.Uc();return FNTS.mapSub[w]};da.prototype.nW=function(){this.Uc();
return FNTS.mapSub};var g6={pP:0,Go:null,o1:null,WW:null,aP:null,dN:null,xX:!0,aw:0,Zm:!1};g6.event=function(w){var n=new XMLHttpRequest;
n.open("GET","/papi/event.php?id="+w+"&rnd="+Math.random());n.send()};g6.qx=function(){var w=g6.gA();
if(w==null)return null;var n=s.jg(24)?" ":"",H=s.L2[s.na("Uu,"+n)];H=H[s.na(n+"$/")];var y=g6.MK(1,999);
if(y&&g6.f9(y)*50>H()/20)return[0,y];var c=w.inTeams;if(c)for(var l=0;l<c.length;l++)if(c[l][1]*50>H()/20)return[1,c[l]];
return null};g6.EK=function(){return g6.ar1()!=null};g6.P_=function(){return g6.f9(g6.MK(1e3,999999999))};
g6.f9=function(w){return w==null?0:w[0]+w[1]*24*60*60};g6.MK=function(w,n){var H=g6.gA(),y=H.pmnts,c=0,Q=null;
if(y==null||y.length==0)return 0;for(var l=0;l<y.length;l++){var q=y[l],S=g6.f9(q);if(w<=q[2]&&q[2]<=n)if(c<S){c=S;
Q=q}}return Q};g6.gA=function(){return g6.dN};g6.Dg=function(w){window.addEventListener("message",g6.aq5,!1);
setInterval(g6.Qw,5e3);if(g6.EK()&&navigator.onLine){g6.Go=w;g6.EJ()}else setTimeout(w,1)};g6.Qw=function(){if(g6.EK()&&g6.Zm){g6.MU(g6.ck());
g6.Zm=!1}};g6.N2=function(w){g6.Go=w;var n="https://www.photopea.com/papi/login.php?redirect="+encodeURIComponent(window.location.href);
g6.WW=window.open(n,"_blank")};g6.asQ=function(){localStorage.removeItem(g6.pP+"_uid");localStorage.removeItem(g6.pP+"_provider");
localStorage.removeItem(g6.pP+"_token");g6.dN=null};g6.aq5=function(w){if(w.data instanceof ArrayBuffer||w.data instanceof Object)return;
if(w.data.charAt(0)!="{")return;var n=JSON.parse(w.data);if(n.prms==null)return;var H=n.prms.split(",");
if(H[0]=="papi_logged_in"){localStorage[g6.pP+"_uid"]=H[1];g6.fr(H[2]);localStorage[g6.pP+"_provider"]=H[3];
g6.WW.close();g6.EJ()}if(H[0]=="payment_complete"){g6.aP.close();g6.EJ()}};g6.ar1=function(){var w=localStorage[g6.pP+"_token"];
if(w!=null&&Date.now()*.001+10<parseInt(w.split("-")[0]))return w;return null};g6.fr=function(w){var n=localStorage[g6.pP+"_token"];
if(n!=null&&parseInt(w.split("-")[0])<parseInt(n.split("-")[0]))return;localStorage[g6.pP+"_token"]=w;
clearTimeout(g6.aw);g6.aw=setTimeout(g6.axP,Math.min(1e9,parseInt(w.split("-")[0])*1e3-Date.now()-20*1e3))};
g6.V6=function(w,n,H,y){if(!navigator.onLine)throw"a";var c=new XMLHttpRequest;c.open("POST","https://www.photopea.com/papi/record_new.php",!0);
c.onload=H;var Q=g6.c6(0)+"&read=3&tuid="+w+"&tid="+n;if(y)Q+="&tpl="+encodeURIComponent(y);c.setRequestHeader("Content-type","application/x-www-form-urlencoded");
c.send(Q)};g6.axP=function(){if(!navigator.onLine)throw"a";var w=new XMLHttpRequest;w.open("POST","https://www.photopea.com/papi/record_new.php",!0);
w.onload=g6.ajZ;var n=g6.c6(0)+"&read=2";w.setRequestHeader("Content-type","application/x-www-form-urlencoded");
w.send(n)};g6.EJ=function(){if(!navigator.onLine)throw"b";var w=new XMLHttpRequest;w.open("POST","https://www.photopea.com/papi/record_new.php",!0);
w.onload=g6.aip;var n=g6.c6(0)+"&read=1";w.setRequestHeader("Content-type","application/x-www-form-urlencoded");
w.send(n)};g6.MU=function(w){if(!navigator.onLine)throw"c";var n=new XMLHttpRequest;n.open("POST","https://www.photopea.com/papi/record_new.php",!0);
n.onload=g6.aln;var H=g6.c6(0)+"&read=0&score="+(w.tpl?1:0)+"&spublic="+g6.xX+"&record="+encodeURIComponent(JSON.stringify(w));
n.setRequestHeader("Content-type","application/x-www-form-urlencoded");n.send(H)};g6.aip=function(w){var n=JSON.parse(w.target.response);
if(n.error){}else{g6.dN=n.user;var H=g6.ck(),y=n.record;if(n.record){g6.xX=n.spublic;g6.Wt(y)}else if(H)g6.MU(H)}g6.fr(n.token);
if(g6.Go){g6.Go();g6.Go=null}if(g6.o1){g6.o1();g6.o1=null}};g6.ajZ=function(w){var n=JSON.parse(w.target.response);
g6.fr(n.token)};g6.aln=function(w){var n=JSON.parse(w.target.response);g6.fr(n.token);if(g6.o1)g6.EJ()};
g6.c6=function(w){return"app="+w+"&uid="+localStorage[g6.pP+"_uid"]+"&token="+localStorage[g6.pP+"_token"]};
g6.vC=function(){return g6.ck()};g6.Af=function(w,n){g6.Wt(w);g6.Zm=!0;if(n){g6.o1=n;g6.Qw()}};g6.ck=function(){var w=localStorage[g6.pP+"_stateLocal"],n;
if(w==null)return null;try{n=JSON.parse(w)}catch(hV){return null}return n};g6.Wt=function(w){var n=JSON.stringify(w);
localStorage[g6.pP+"_stateLocal"]=n};g6.order=function(w,n,H){g6.Go=H;var y="https://www.photopea.com/papi/order.php?ptype="+n+"&param="+w+"&uid="+localStorage[g6.pP+"_uid"]+"&token="+localStorage[g6.pP+"_token"];
g6.aP=window.open(y,"_blank")};g6.aig=function(w,n){g6.Go=n;var H="https://www.photopea.com/papi/insertKey.php?key="+w+"&uid="+localStorage[g6.pP+"_uid"]+"&token="+localStorage[g6.pP+"_token"];
g6.aP=window.open(H,"_blank")};var hV={};hV.LJ=0;hV.A4={};hV.vq=function(w){var n=LNG.tables,H=n[w];
if(H==null)H=n[0];if(typeof H=="string"){H=n[w]=hV.C_(H)}return H};hV.C_=function(w){var n=[],H=0,y=0,c=[],Q=w.length;
while(y!=Q){var q=w[y];if(q=="["){n.push(c);c=[];y=H=y+1}else if(q=="]"){c.push(H==y?null:w.substring(H,y));
var S=c;c=n.pop();c.push(S);y=H=y+1}else if(q==";"){if(w[y-1]!="]")c.push(H==y?null:w.substring(H,y));
y=H=y+1}else y++}return c};hV.get=function(w){if(typeof w=="string")return w;var n=typeof w[0];if(n=="number"){for(var l=1;
l<w.length;l++)if(typeof w[l]!="number"){console.log(w);throw"e"}return hV.atw(w)}var H=hV.get(w[0]);
for(var l=1;l<w.length;l++){var y=hV.get(w[l]),c=H.indexOf("VAR"+(l-1));H=H.slice(0,c)+y+H.slice(c+4)}return H};
hV.atw=function(w){var n=JSON.stringify(w);if(hV.A4[n]!=null)return hV.A4[n];var H=hV.vq(0),y=hV.vq(hV.LJ),c=hV.OZ(w,y);
if(c==null)c=hV.OZ(w,H);return c};hV.OZ=function(w,n){for(var l=0;l<w.length;l++){n=n[w[l]];if(n==null)return null;
else if(typeof n=="string")break}if(n instanceof Array)n=n[0];return n.split("::")[0]};hV.aaX=function(){var w=function(H,y){var c=H.code,Q=y.code;
if(c=="en")return-1;if(Q=="en")return 1;var q=navigator.languages,S=q.indexOf(c)!=-1,A=q.indexOf(Q)!=-1;
if(S&&A)return c>Q?1:-1;if(S)return-1;if(A)return 1;return c>Q?1:-1},n=LNG.langs.slice(0);n.sort(w);
return n};hV.xT=function(w,n){hV.LJ=w;if(LNG.tables[w])n();else{var H=new XMLHttpRequest;H.open("GET","code/lang/"+w+".js");
H.onreadystatechange=function(){LNG.tables[w]=H.responseText;n()};H.send()}};hV.RK=function(w,n){for(var H=0;
H<2;H++){var y=!1;for(var l=0;l<LNG.langs.length;l++)if(LNG.langs[l].code==w){hV.xT(l,n);y=!0}if(y)break;
w=w.split("-")[0]}};hV.dq=function(){return LNG.langs[hV.LJ].code};hV.aju=function(w){for(var l=0;l<w.length;
l+=2)if(w[l+1].indexOf(">")==-1)hV.A4[JSON.stringify(w[l])]=w[l+1]};hV.axU=function(w){var n=-1,H=LNG.langs;
for(var l=0;l<H.length;l++)if(H[l].code==w)n=l;return n};var eY={yi:!1,su:!1,bh:!1};eY.vp=function(){return s.L2[iQ.Bl]!=s.L2[iQ.aj9]};
eY.S1=function(){var w=s.L2[iQ.h8],n=w[iQ.gp],H=0,y=iQ.Qe,c=s.hj("PP\\KQSB"),Q=s.hj("Y_5UDDB>idge"),q=w[iQ.TN](iQ.ah2);
q[y](iQ.lE,c);q[y](iQ.HN,s.hj("fUMZKyqifDIhJ0*+&$-OG?<y~>"));n[iQ.lL](q);q=w[iQ.av8](c);if(q==null){H=2}else{if(!n[s.hj("R[WZDIKM")](q)){H=3}else if(Math.round(q[s.hj("VQ](RUK>@B8p71*03m}x'")]()[iQ.C2]-500)>5){H=4}n[iQ.T5](q)}if(eY.su)H=5;
if(eY.bh)H=6;return H};eY.a5T=function(w){var n=s.na("y),+1ZRU:.787=mlITWRZVgphaifg}u~!C{+,P5)2328eDPnDJ\\NhYdgbjf2q}"),H={method:"HEAD",mode:"no-cors"},y=new Request(n,H);
fetch(y).then(function(c){return c}).then(function(c){var Q=s.na("y),+1ZRU-:@`KGEBQS[P\\e\"Zij/y88DDvHzTSWW-Y1>DdDP"),y=new Request(Q,H);
fetch(y).then(function(c){return c}).then(function(c){w(!1)}).catch(function(q){eY.su=!0;console.clear();
w(!0)})}).catch(function(c){eY.su=!0;console.clear();w(!0)})};eY.agM=function(){var w=s.hj("UU[YW#ECC8"),n=s.hj("VQ](RUK>@B8p71*03m}x'"),H=s.hj("WQRMKT"),y=this.ahE[w][n]();
if(y[H]<4){eY.bh=!0;this.aaB(!0)}};eY.a1d=function(){var w=s.L2._cwY,n=s.L2[iQ.Kl],H="FQh[VE\\;;J6@?18',!'*2${)mht|gfbVgjNTT^KNHR42@,00.(|#&<+atwq{][iYPOfWFCHKTF>K++B\"))y~y{q'eeq)wE^TM\\Kn_I?KSFAJ;-16;2%(/mmy/ llvVfgjId2QAF?H=L+*'03),49Onktwmpx#r<\\Qf-O]gWvGHTVEc&1~)3&{lssdidf\\qPP\\qbRBFF55Mz046.,}v@",y=String.fromCharCode(32);
w(s.hj(H)+y+y+eY.S1());if(!g6.qx())n(eY.a1d,Math.round(Math.PI*1e4))};eY.k1=function(w){var n=s.L2[iQ.h8],H=n[iQ.TN](w[0]);
for(var y in w[1]){if(y=="txt")H[iQ.Nq]=w[1][y];else H[iQ.Qe](y,w[1][y])}return H};eY.adV=function(w,n,H,y,c){s.Of(H);
var Q=s.L2[iQ.h8],q=s.na(" u.$%\"86<"),S=s.na("!#c$,&"),A=s.L2[q][S],V=s.L2[s.na(" u.$%\"86<")][s.na("}u&\"3\"+,=")].indexOf("ru")!=-1&&Math.random()<.1;
if(!eY.vp()&&!eY.S1()&&A&&w*n>300*300&&!V){var e=Q[s.hj("VQ]+OEJ?EHDoD{&)l|&z")](iQ.sM)[0],d=JSON.parse(s.na("lo9.!3-7>N[NWLNBc~iSbedj4,/fsy:%!~{+-5*6?[4CDhSqqY]aQ bai,kw)6/ \"#)}$D_JC8@9GRk@CFQT_z~zy\\.`*~q$}(/?L?H=?3ToZDSVU[%| Wdj+uqol{}&z'0L%45YDbbnnArE~}\"\"W$[hn/nz,92t*3+#D_=>D7R5f9bWJ\\V`gw%w!v}|-H3,!)\"0;T1<?:B>P@Id%jeZb[it.juxs{w*y#>>AGFKkSVQFNGU`yVad_gcuen8p}w6V<7,4-;F_<GJEMI[KT}Vc]{{~%chI14/$,%3>W4?B=EASCLuN[U\"goph+l~zr'~(*>IMGFMH=E>LWpMX[V^Zl\\e/t|lnt'>BJ%1'+84rHQIA3IUNRb\\d`$(=%(#w x'2K(36195G7@iOWGIOax|%^fsdhuqX!~-% .p7,2X\\qY\\]k!hsPVhZtepsnvr0P61&.'5@Y06H:TEPSNVRoorxW\\+3xl$%yX~o&5</@DFUu[o|feHK"));
for(var l=0;l<d.length;l++){var N=eY.k1(d[d.length-1-l]);e[iQ.azi](N,e[iQ.a3y])}var b=s.na("p}&$2a(:"),z=s.na("'#!}i0%+"),v=s.na("ps,}$\"40"),T=s.L2.__cbu=eY.k1(JSON.parse(iQ.hj("JmMOYahUX=5OdI:0(~($&tz}3fok``[rkH")));
H[iQ.lL](T);s.L2.___ggo=function(){s.L2[v](iQ.Xj,2,function(g,R){if(R&&g[z]==!0){if(!s.L2[b]){s.L2[b]=!0;
var h=eY.acM.bind({Qm:H,abj:c,head:e,WZ:n});h()}}})}}else{var Y=eY.avW.bind({ahE:H,auO:y,alT:c,WZ:n});
Y();setInterval(Y,3e4)}};eY.ajU="JGxstk^CD;_>;'9#+(F&!v.5(lmd)gdPeTLJoOJ@W0[(YRE*+\"F,r!9xsi!(z_`W{aHV@UD<:_?:0GNA%.+$$G96}psom#TTz?_ooGTy%>bkIPC@G:7o;g944,~cd[ ULUJUm?HB46.-;337H\"%x07*nof+`W`U`xJSM?A98F>>B%:M'*}5</96gpj\\^VUc[[_pIS;E?^<0<FM@=D74l8d611){`aX|RIRGRj<EA>2-;-0,H\"%x07*nof+`W`U`xJSOL@;I;>:(=P*-!8?2<9jsol`[i[^ZvOYAKEdB6BLSFCJ=:r>j<77/\"fg^#XOXMXpCEGE;E;>XQ+.\"9@3wxo4i`i^i\"TVXVLVLOi4I\\69-DK>HEwy{yoyor-&^hPZTsQEQ[bURYLI\"MyKFG>1uvm2g^g\\g ZZ]ITH@>H`:=1HOB'(~Cxoxmx1kknZeYQOYCXkEH<SZMWT:74G##&q|phfp)[d_pwjgna^7b/`[[SF+,#G|s|q|5polhjhV`^uORF]dW<=4X.%.#.F\"!}y{ygqoXm!Z]QhobliEDA=?=+53J#-t~x8uiu 'yv}pmFq>ojkbU:;2V,#,!,D'xz#srnpn\\fd{UXLcj]BC:^4+4)4L/!#+{zvxvdnlUj}WZNel_ifI;=E65131~)'>v!hrl,i]iszmjqda:7";
eY.avW=function(){var w=s.L2[iQ.h8],n=this.ahE,H=this.auO,y=this.alT,c=this.WZ;s.Of(n);var Q=s.L2[iQ.na(" u.$%\"86<")][iQ.na("}u&\"3\"+,=")].indexOf("ru")!=-1&&Math.random()<1.25,q=y==1?1:eY.lv(c),S=JSON.parse(iQ.hj(eY.ajU)),A=w[iQ.TN]("a");
A.textContent=iQ.hj("0PhHOO@E@B8M/-9'\"0}y");A[iQ.Qe](iQ.J3,iQ.hj("}z`]ZmMBFH@>0)R%.)G*($ 8ggs*ce!aVZ\\TRD=e:B\\;9;P8--#A)vl|2vn)]e\""));
A[iQ.Qe](iQ.Gl,iQ.na("pv${,,"));A[iQ.Qe](iQ.HN,iQ.hj("R[UUUyTB@H6h"));if(!Q)n[iQ.lL](A);for(var l=0;
l<q;l++){var V=Math.random(),e=0,d=0;while(e+S[d][0]<V){e+=S[d][0];d++}if(Q)d=1;var N=S[d],b=w[iQ.TN](iQ.Iv);
b[iQ.Qe](iQ.HN,iQ.hj("Ra[YRRvJF=?B0:_")+iQ.hj(y==1?"fUMZKymofDIh3-.)'0RKB?|\"A":"fUMZKyoifDIh3-.)'0RGG?|\"A"));
b[iQ.Qe](iQ.NV,N[y]);if(N.length>3){var z=N[3]+N[3+y],A=w[iQ.TN]("a");A[iQ.Qe](iQ.J3,z);A[iQ.Qe](iQ.Gl,iQ.na("pv${,,"));
A[iQ.lL](b);n[iQ.lL](A)}else{b[iQ.Xj](iQ.PX,H,!1);n[iQ.lL](b)}}};eY.lv=function(w){var n=2;if(w>=3*270+30)n=3;
if(w>=4*270+30)n=4;return n};eY.acM=function(){var w=iQ.lL,n=iQ.Qe,H=iQ.Xj,y=iQ.OQ,c=iQ.HN,Q=iQ.NV,q=s.hj("P_bTF"),S=iQ.Nq,A=iQ.Kf,V=s.L2[iQ.h8],e=iQ.TN,d=iQ.a3F,N=s.L2.__cbu,b=this.Qm,z=this.abj,v=this.head,T=this.WZ,Y=s.na("~u*\"'/P)9ADBCrlnR]"),g=[.05,0,.95],R=Math.random(),h=0;
while(g[h]<R&&h<g.length-1){R-=g[h];h++}if(h==0){console.log(0);if(!eY.yi){eY.yi=!0;var E=iQ.na("w'x(##39.2B^edOBTTTWW_[#hl,pg{sx!}}%&*9SZY>5IAFNZOM`W}%$omqqh|ty\"BIH,(,=90D<AIipo^SQd[\"*(ggnos#=E"),G=iQ.na("\"|'/-1)(W0?@5iqnZzwzM5:G&mhrzx|tsC{+,!WWZFbhf9!&3qy\"~j+(+*447#?EC"),k=E.split(","),$=G.split(","),p=$[z==1?0:1],X=$[z==1?2:3],C=z==1?1:eY.lv(T);
for(var D=0;D<C;D++){var o=V[e](A);for(var l=0;l<k.length;l+=2)o[n](k[l+0],k[l+1]);o[n](iQ.hj("SM]GoIA"),p);
o[n](c,Y);b[w](o)}var t=iQ.na("9z-)!5-68LW[UT[UCWg^WkY4!\\_*2)ms($\"0>^DNWZW_V=EIOJ7QcidjfGe$D*4BDLKOW[W[bbX`WSKML[^]o0ugav\"]UWV&)(l#29,=AW[pQIKJY\\[{`bi_^d|y}m$wx!|-)*GgM7IE=QIRTptj[[ skml{~}>&{z!9u:*@4nqkZcfc_WYXgji*rvf|!\"NQIJMI?=+?O8IXx^FTK`[Vbk(nuhx#_t~z{0.4e47UR/;;QAoOM)us Y_som{5/7p8BW6$8H1NnTxMPB]tP__`}^o(0kqw#v'?!3/';3<>Z;a[ZTJ\\``_sw_+hdyJ!$%~z13'LI//E5cLBNGK[QSs}u$9jj/o;|x%!1(BcH[WM:eAMS)HMUwYkg_sktv3s}=31~3C00?1@;Xx^GQuN]_h\\hqWltm{'@y(~4/*6?h::I;JEpUYQ]y}3ddseto;(& .\"G;354CFEeMCTTVX`UG[qp(=nn}o~yE}*07,QUj8BfODV&\\_`ZVlnb(*jj!p?(}*#'7-/T\\SKLREkcqilo0n\\p!gosytPy\"&,'s.@FAGC$BnXYSZw{5 (&-hptzub|/5062r1]GHBIfj~nq)iacbqts4x|t!=:bcuFSJT9HKJPyqtYaQSYk)e/hv o|xy&&#.S71C`<9HNBHuKQh2_n9.39?=BGEOSDK'/394]\\gbiCI]YWe~} pz@-4q}u%|!ssmO>7K9_dceW#9XPUZe`luc{$}u8I]0%5<2:6W[b~?UItX\\gz~%{stzm4I*\"$#254T=2>7]av\\jlp&");
t=t.replace("__",X);t=t.replace("--",p);var u=V[e](d);u[S]=t;b[w](u)}}else if(h==1){console.log(1);if(z==1){var m=V[e](s.na("u}."));
m[n](c,Y);var U=V[e](s.na("u}."));m[w](U);U[n](s.na("zx"),s.na("AK}|~T()V`1i9eoEGwtL##V$`0e4>@rtvMOL"));
U[n](s.na("t!x.1"),s.na("pu(y~1)?).4"));var t=s.na("(u*:~%4<=5ECUu[VKSLZe~U[jrsk{y,/O50%-&4?X/5DLMEUSeehnmfm`8\\a%E-0tz*23+;9Y@G:eKSTLnPb^Vjbkm*.('.rx(01)97WAB<=@AQ#Iol}(ZY[1de3=mFuBL\"$TQ)__3`=lBpz|OQS*,)|'<$'(6K"),u=V[e](d);
u[S]=t;U[w](u);b[w](m)}else if(z==2){var I=eY.lv(T);for(var l=0;l<I;l++){var m=V[e](s.na("u}."));m[n](c,Y);
var U=V[e](s.na("u}."));m[w](U);U[n](s.na("zx"),s.na("rKI!#X%WV/ac9eoqDyt#~(($]_dg>A@suI|T"));U[n](s.na("t!x.1"),s.na("pu(y~1)?).4"));
var t=s.na("(u*:~%4<=5ECUu[VKSLZe~U[jrsk{y,/O50%-&4?X/5DLMEUSeehnmfm`8\\a%E-0tz*23+;9Y@G:eKSTLnPb^Vjbkm*.('.rx(01)97WAB<=@AQ#IolO(&]_5a43k>@uBLN!VQ_[dd`:<ADz}|PR&Y1|'<$'(6K"),u=V[e](d);
u[S]=t;U[w](u);b[w](m)}}if(!eY.yi){eY.yi=!0;var t=s.na("9z-)!5-68TG^U=d^]dgaOcsjy: g4l~ts*}`+'2-9BXZJ=OISZot*qh&npd$D*4?By}+M$*9AB:JHhAPQu}}'%&(]crz{s$\"B\".D[CF=ZDLF>[{ak\\Pfe#a[savi{u '<S;2O&;D<4SsYQRXK$kvV#_`rFplwr~(*[6s$-v-<7\\^CCBHmrH Puux~f3op#V!|(#/8:kF$4='=LGlnM]Um}#X0`/7m #z' a*.4/UD\\qY\\]km`U]Vdo'}esj zu\"+BW"),u=V[e](d);
u[n](s.na("uu,{J$*(=F>6"),s.na("wu$.#"));u[S]=t;v[w](u)}}else{console.log(2);var x=V[e](d);x[n](Q,s.na("y),+1ZRU.@8iARrqq|S~P~Wcirdixxz$@$}0M2:*77D<<LPnSNX`^bZY^mnrl\";}|%G'3"));
x[n](iQ.a4O,"");v[w](x);var J=JSON.parse(s.na("l6{$4M+7>Y17bIDNVTXPOTcd-245=+81v~/H&29T,2]D?IQOSKJO^_(-138&3,qy*C!-4O'-X?:DLJNFEJYZ#(,/4!.'lt%>{(/J\"(S:5?GEIA@ETU}'\"%+{)\"go 9v#*E|#N50:B@D<;@OPx}# $vU")),r=[J[0]];
if(z==2)r=J.slice(1,1+eY.lv(T));for(var l=0;l<r.length;l++){var U=V[e](s.hj("SU_"));U[n](iQ.lE,r[l]);
U[n](c,Y);b[w](U)}}if(N)b[w](N)};var a2={Vn:-2,Ap:{expires_at:0},__:[]};a2.mb=function(w){if(w)a2.__.splice(0,0,w);
if(a2.Vn==-2){a2.Vn=-1;var n=document.createElement("script");n.src="//apis.google.com/js/client.js";
document.body.appendChild(n);n.onload=function(H){setTimeout(function(){a2.Vn=0;a2.mb()},100)}}if(a2.Vn==-1)return;
if(a2.Vn==1)return;if(a2.Ap.expires_at>Date.now()*.001+30){while(a2.__.length>0)a2.__.pop()()}else{if(a2.Vn==0)a2.Vn=1;
gapi.load("auth",function(){gapi.auth.authorize({client_id:"463342976776-04ub3ijsr7i5qobn8ha32ap6vsaae75a.apps.googleusercontent.com",scope:["https://www.googleapis.com/auth/drive.install","https://www.googleapis.com/auth/drive.file"].join(" "),immediate:a2.Vn==2?!1:!0},a2.atG)})}};
a2.atG=function(w){if(w&&!w.error){a2.Ap=w;a2.Vn=!1;a2.mb()}else if(a2.Vn==1){a2.Vn=2;a2.mb()}else alert("Error: "+w.error)};
a2.xd=function(){return"access_token="+a2.Ap.access_token+"&token_type="+a2.Ap.token_type};a2.yF=function(){return a2.Ap.token_type+" "+a2.Ap.access_token};
function ce(w,n){if(!w)w=0;if(!n)n=0;this.x=w;this.y=n}ce.prototype.add=function(w){return new ce(this.x+w.x,this.y+w.y)};
ce.prototype.clone=function(){return new ce(this.x,this.y)};ce.prototype.aK=function(w){this.x=w.x;this.y=w.y};
ce.prototype.Hw=function(w){return this.x==w.x&&this.y==w.y};ce.prototype.normalize=function(w){var n=Math.sqrt(this.x*this.x+this.y*this.y);
this.x*=w/n;this.y*=w/n};ce.prototype.offset=function(w,n){this.x+=w;this.y+=n};ce.prototype.HV=function(w,n){this.x=w;
this.y=n};ce.prototype.Hy=function(w){return new ce(this.x-w.x,this.y-w.y)};ce.Re=function(w,n){return ce.a78(w.x,w.y,n.x,n.y)};
ce.Gu=function(w,n,H){return new ce(w.x+H*(n.x-w.x),w.y+H*(n.y-w.y))};ce.apN=function(w,n){return new ce(w*Math.cos(n),w*Math.sin(n))};
ce.a78=function(w,n,H,y){return Math.sqrt((H-w)*(H-w)+(y-n)*(y-n))};ce.Xm={};ce.td={};ce.Xm.create=function(){var w=new Float32Array(4);
return w};ce.td.create=function(w){var n=new Float32Array(16);n[0]=n[5]=n[10]=n[15]=1;if(w)ce.td.set(w,n);
return n};ce.Xm.add=function(w,n,H){H[0]=w[0]+n[0];H[1]=w[1]+n[1];H[2]=w[2]+n[2];H[3]=w[3]+n[3]};ce.Xm.set=function(w,n){n[0]=w[0];
n[1]=w[1];n[2]=w[2];n[3]=w[3]};ce.td.set=function(w,n){n[0]=w[0];n[1]=w[1];n[2]=w[2];n[3]=w[3];n[4]=w[4];
n[5]=w[5];n[6]=w[6];n[7]=w[7];n[8]=w[8];n[9]=w[9];n[10]=w[10];n[11]=w[11];n[12]=w[12];n[13]=w[13];n[14]=w[14];
n[15]=w[15]};ce.td.multiply=function(w,n,H){var y=w[0],c=w[1],Q=w[2],q=w[3],S=w[4],A=w[5],V=w[6],e=w[7],d=w[8],N=w[9],b=w[10],z=w[11],v=w[12],T=w[13],Y=w[14],g=w[15],R=n[0],h=n[1],E=n[2],G=n[3];
H[0]=R*y+h*S+E*d+G*v;H[1]=R*c+h*A+E*N+G*T;H[2]=R*Q+h*V+E*b+G*Y;H[3]=R*q+h*e+E*z+G*g;R=n[4];h=n[5];E=n[6];
G=n[7];H[4]=R*y+h*S+E*d+G*v;H[5]=R*c+h*A+E*N+G*T;H[6]=R*Q+h*V+E*b+G*Y;H[7]=R*q+h*e+E*z+G*g;R=n[8];h=n[9];
E=n[10];G=n[11];H[8]=R*y+h*S+E*d+G*v;H[9]=R*c+h*A+E*N+G*T;H[10]=R*Q+h*V+E*b+G*Y;H[11]=R*q+h*e+E*z+G*g;
R=n[12];h=n[13];E=n[14];G=n[15];H[12]=R*y+h*S+E*d+G*v;H[13]=R*c+h*A+E*N+G*T;H[14]=R*Q+h*V+E*b+G*Y;H[15]=R*q+h*e+E*z+G*g;
return H};ce.td.inverse=function(w,n){var H=w[0],y=w[1],c=w[2],Q=w[3],q=w[4],S=w[5],A=w[6],V=w[7],e=w[8],d=w[9],N=w[10],b=w[11],z=w[12],v=w[13],T=w[14],Y=w[15],g=H*S-y*q,R=H*A-c*q,h=H*V-Q*q,E=y*A-c*S,G=y*V-Q*S,k=c*V-Q*A,$=e*v-d*z,p=e*T-N*z,X=e*Y-b*z,C=d*T-N*v,D=d*Y-b*v,o=N*Y-b*T,t=g*o-R*D+h*C+E*X-G*p+k*$;
if(!t){return null}t=1/t;n[0]=(S*o-A*D+V*C)*t;n[1]=(c*D-y*o-Q*C)*t;n[2]=(v*k-T*G+Y*E)*t;n[3]=(N*G-d*k-b*E)*t;
n[4]=(A*X-q*o-V*p)*t;n[5]=(H*o-c*X+Q*p)*t;n[6]=(T*h-z*k-Y*R)*t;n[7]=(e*k-N*h+b*R)*t;n[8]=(q*D-S*X+V*$)*t;
n[9]=(y*X-H*D-Q*$)*t;n[10]=(z*G-v*h+Y*g)*t;n[11]=(d*h-e*G-b*g)*t;n[12]=(S*p-q*C-A*$)*t;n[13]=(H*C-y*p+c*$)*t;
n[14]=(v*R-z*E-T*g)*t;n[15]=(e*E-d*R+N*g)*t;return n};ce.td.a9L=function(w,n,H){var y=n[0],c=n[1];H[0]=y*w[0]+c*w[4]+w[12];
H[1]=y*w[1]+c*w[5]+w[13]};ce.td.atA=function(w,n,H){var y=n[0],c=n[1],Q=n[2],q=n[3];H[0]=w[0]*y+w[4]*c+w[8]*Q+w[12]*q;
H[1]=w[1]*y+w[5]*c+w[9]*Q+w[13]*q;H[2]=w[2]*y+w[6]*c+w[10]*Q+w[14]*q;H[3]=w[3]*y+w[7]*c+w[11]*Q+w[15]*q};
function cr(w,n,H,y){if(!w)w=0;if(!n)n=0;if(!H)H=0;if(!y)y=0;this.x=w;this.y=n;this.m=H;this.e=y}cr.prototype.O=function(){return this.m*this.e};
cr.prototype.clone=function(){return new cr(this.x,this.y,this.m,this.e)};cr.prototype.contains=function(w,n){return w>=this.x&&w<=this.x+this.m&&(n>=this.y&&n<=this.y+this.e)};
cr.prototype.yo=function(w){return this.contains(w.x,w.y)};cr.prototype.n1=function(w){return this.x<=w.x&&this.y<=w.y&&w.x+w.m<=this.x+this.m&&w.y+w.e<=this.y+this.e};
cr.prototype.aK=function(w){this.x=w.x;this.y=w.y;this.m=w.m;this.e=w.e};cr.prototype.Hw=function(w){return this.x==w.x&&this.y==w.y&&this.m==w.m&&this.e==w.e};
cr.prototype.i_=function(w,n){this.x-=w;this.y-=n;this.m+=2*w;this.e+=2*n};cr.prototype.adw=function(w){this.i_(w.x,w.y)};
cr.prototype.Fa=function(w){var n=Math.max(this.x,w.x),H=Math.max(this.y,w.y),y=Math.min(this.x+this.m,w.x+w.m),c=Math.min(this.y+this.e,w.y+w.e);
if(y<n||c<H)return new cr;else return new cr(n,H,y-n,c-H)};cr.prototype.QW=function(w){if(w.y+w.e<this.y||w.x>this.x+this.m||w.y>this.y+this.e||w.x+w.m<this.x)return!1;
return!0};cr.prototype._G=function(){return this.m<=0||this.e<=0};cr.prototype.offset=function(w,n){this.x+=w;
this.y+=n};cr.prototype.XX=function(w){this.offset(w.x,w.y)};cr.prototype.adZ=function(){this.x=this.y=this.m=this.e=0};
cr.prototype.HV=function(w,n,H,y){this.x=w;this.y=n;this.m=H;this.e=y};cr.prototype.ld=function(w){if(this._G())return w.clone();
if(w._G())return this.clone();var n=this.clone();n.an8(w);return n};cr.M$=new Float32Array(2);cr.prototype.an8=function(w){if(w._G())return;
if(this._G()){this.aK(w);return}this.xP(w.x,w.y);this.xP(w.x+w.m,w.y+w.e)};cr.prototype.xP=function(w,n){var H=Math.min(this.x,w),y=Math.min(this.y,n);
this.m=Math.max(this.x+this.m,w)-H;this.e=Math.max(this.y+this.e,n)-y;this.x=H;this.y=y};cr.prototype.agu=function(w,n){this.x=w;
this.y=n;this.m=this.e=0};function b7(w,n,H,y,c,Q){if(typeof w==="undefined"){w=1;n=0;H=0;y=1;c=0;Q=0}this.iL=w;
this.k=n;this.Mg=H;this.Du=y;this.qH=c;this.fp=Q}b7.prototype.H5=function(){return Math.sqrt(Math.abs(this.iL*this.Du-this.k*this.Mg))};
b7.prototype.a2L=function(){var w=this,n=function(H){return Math.abs(H)<1e-9?0:H};w.iL=n(w.iL);w.k=n(w.k);
w.Mg=n(w.Mg);w.Du=n(w.Du);w.qH=n(w.qH);w.fp=n(w.fp)};b7.prototype.rY=function(w){return new ce(w.x*this.iL+w.y*this.Mg+this.qH,w.x*this.k+w.y*this.Du+this.fp)};
b7.prototype.translate=function(w,n){this.qH+=w;this.fp+=n};b7.prototype.rotate=function(w){var n=new b7(Math.cos(w),-Math.sin(w),Math.sin(w),Math.cos(w),0,0);
this.concat(n)};b7.prototype.scale=function(w,n){var H=new b7(w,0,0,n,0,0);this.concat(H)};b7.prototype.concat=function(w){this.aK(new b7(this.iL*w.iL+this.k*w.Mg,this.iL*w.k+this.k*w.Du,this.Mg*w.iL+this.Du*w.Mg,this.Mg*w.k+this.Du*w.Du,this.qH*w.iL+this.fp*w.Mg+w.qH,this.qH*w.k+this.fp*w.Du+w.fp))};
b7.prototype.G$=function(){var w=this.iL*this.Du-this.k*this.Mg;this.aK(new b7(this.Du/w,-this.k/w,-this.Mg/w,this.iL/w,(this.Mg*this.fp-this.Du*this.qH)/w,(this.k*this.qH-this.iL*this.fp)/w))};
b7.prototype.clone=function(){return new b7(this.iL,this.k,this.Mg,this.Du,this.qH,this.fp)};b7.prototype.aK=function(w){this.iL=w.iL;
this.k=w.k;this.Mg=w.Mg;this.Du=w.Du;this.qH=w.qH;this.fp=w.fp};function cb(){}cb.aS={a88:["PNG","JPG","SVG","GIF","PDF"],aaY:"WEBP BMP TIFF ICO DDS TGA PPM RAW EMF DXF".split(" ")};
cb.mG=function(w,n){var H=w.memory.buffer.byteLength;if(H<n)w.memory.grow((n-H>>>16)+1)};cb.A8={iT:function(w,n){fetch(w).then(function(H){return H.arrayBuffer()}).then(function(H){var y=new Uint8Array(H),c=0,A="";
if(n){c=y.length;var Q={level:9},q=pako.deflateRaw(y,Q),S=UZIP.deflateRaw(y,Q);console.log(c,q.length,S.length);
y=q.length<S.length?q:S}for(var l=0;l<y.length;l++)A+=String.fromCharCode(y[l]);var V=btoa(A);console.log(JSON.stringify([c,V]))})},get:function(w,n){var H=BINDB[w],y=Date.now(),c=atob(H[1]),Q=c.length,q=new Uint8Array(Q);
for(var l=0;l<Q;l++)q[l]=c.charCodeAt(l);if(H[0]!=0){var S=new Uint8Array(H[0]);UZIP.inflateRaw(q,S);
q=S}if(n){var A=cb.mj(q.buffer);q=cb.Mn(A)._N(q.buffer)}return q}};cb.mj=function(w){if(!(w instanceof ArrayBuffer)){console.log("Input is not ArrayBuffer")}var n=new Uint8Array(w),H=cb.Yr,y,c=0,Q=n.length-1;
if(H(n,[239,187,191]))c=3;while(c<n.length&&(n[c]==9||n[c]==10||n[c]==13||n[c]==32))c++;while(Q!=0&&(n[Q]==9||n[Q]==10||n[Q]==13||n[Q]==32))Q--;
if(H(n,[56,66,80,83]))y="psd";if(H(n,[6,6,237,245]))y="indd";if(H(n,[68,73,67,77],128))y="dcm";if(H(n,[102,116,121,112,109,105,102,49],4)||H(n,[102,116,121,112,97,118,105,102],4))y="avif";
if(H(n,[102,116,121,112,105,115,111,109],4))y="mp4";if(H(n,[102,116,121,112,109,112,52,50],4))y="mp4";
if(H(n,[0,255,75,65]))y="afphoto";if(H(n,[67,83,70,67,72,85,78,75]))y="clip";if(H(n,[120]))y="pxd";if(H(n,[80,68,78,51]))y="pdn";
if(H(n,[103,105,109,112,32,120,99,102,32]))y="xcf";if(H(n,[102,105,103,45,107,105,119,105]))y="fig";
if(H(n,[137,80,78,71,13,10,26,10])){y="png";var q=8;while(q<n.length){var S=j.s(n,q);q+=4;var A=j.QN(n,q,4);
q+=4;if(A=="mkTS")y="fpng";q+=S+4}}if(H(n,[87,76]))y="cdr";if(H(n,[82,73,70,70])){var V=a3.V2(n),e=V.oj;
if(e=="WEBP")y="webp";else if(e.slice(0,3)=="CDR")y="cdr";else y=e}if(H(n,[70,79,82,77])||H(n,[76,73,83,84])||H(n,[67,65,84,32])){var V=fd.V2(n),e=V.oj;
if(e=="ILBM"||e=="ANIM")y="ilbm";else y=e}if(H(n,[255,216,255]))y="jpg";if(H(n,[0,0,0,12,106,80,32,32]))y="jpg";
if(H(n,[48,0,1,0],4))y="jb2";if(H(n,[71,73,70,56]))y="gif";if(H(n,[0,0,0,2,121,102,113,76]))y="msh";
if(H(n,[0,0,0,3,121,102,113,76]))y="msh";if(H(n,[0,0,0,16]))y="atn";if(H(n,[0,1]))y="aco";if(H(n,[0,2]))y="aco";
if(H(n,[65,83,69,70]))y="aco";if([0,1].indexOf(n[1])!=-1&&[1,2,3,9,10,11].indexOf(n[2])!=-1&&[0,16,24,32].indexOf(n[7])!=-1)y="tga";
if(H(n,[0,2,56,66,83,76]))y="asl";if(H(n,[0,1,0,-1,0,2,0]))y="abr";if(H(n,[0,2,0,-1,0,2,0]))y="abr";
if(H(n,[0,6,0,1]))y="abr";if(H(n,[0,6,0,2]))y="abr";if(H(n,[0,7,0,2]))y="abr";if(H(n,[0,9,0,2]))y="abr";
if(H(n,[0,10,0,2]))y="abr";if(H(n,[56,66,70,83]))y="shc";if(H(n,[56,66,80,84]))y="pat";if(H(n,[56,66,71,82]))y="grd";
if(H(n,[71,73,77,80,32,71,114,97]))y="grd";if(H(n,[56,66,84,80]))y="tpl";if(H(n,[0,4,0,5]))y="acv";if(H(n,[99,117,115,104]))y="csh";
if(H(n,[0,1,0,0,0]))y="otf";if(H(n,[79,84,84,79]))y="otf";if(H(n,[116,116,99,102]))y="otf";if(H(n,[68,68,83,32]))y="dds";
if(H(n,[80,86,82,3]))y="pvr";if(H(n,[86,84,70,0]))y="vtf";if(H(n,[83,73,77,80]))y="fits";if((H(n,[0,0,1,0])||H(n,[0,0,2,0]))&&n[4]!=0)y="ico";
if(H(n,[66,77]))y="bmp";if(H(n,[40,0,0,0]))y="bmp";if(H(n,[80,49]))y="ppm";if(H(n,[80,50]))y="ppm";if(H(n,[80,51]))y="ppm";
if(H(n,[80,52]))y="ppm";if(H(n,[80,53]))y="ppm";if(H(n,[80,54]))y="ppm";if(H(n,[73,73,42,0]))y="tiff";
if(H(n,[77,77,0,42]))y="tiff";if(H(n,[73,73,85,0]))y="tiff";if(H(n,[70,85,74,73,70,73,76,77]))y="raf";
if(H(n,[112]))y="lif";if(H(n,[73,73,26,0]))y="ciff";if(H(n,[83,81,76,105]))y="sketch";if(H(n,[80,75])){var d=UZIP.parse(w,!0);
if(d["document.json"])y="sketch";else if(d.manifest)y="xd";else if(d["maindoc.xml"])y="kra";else if(d["content/root.dat"])y="cdr";
else y="zip"}if(H(n,[123]))y="json";if(j.s(n,0)==n.length)y="icc";if(H(n,[35]))y="icc";if(H(n,[84,73,84,76],c))y="icc";
if(H(n,[76,85,84,95],c))y="icc";if(H(n,[60,63,120,109],c)){if(j.OA(n,"<look>")!=-1)y="icc";else y="svg"}if(H(n,[255,254,60,0],c))y="svg";
if(H(n,[60,115,118,103],c))y="svg";if(H(n,[60,33,100,111],c)||H(n,[60,33,68,79],c)||H(n,[60,33,45,45],c)){if(j.OA(n,"<svg")!=-1)y="svg";
else y="html"}if(H(n,[37,33])||H(n,[197,208,211,198])){if(j.OA(n,"%AI9_PrivateDataBegin")!=-1||j.OA(n,"%AI5_BeginLayer")!=-1)y="ai";
else y="eps"}if(H(n,[37,80,68,70],c)){if(j.OA(n,"/AIMetaData ")!=-1)y="ai";else y="pdf"}else if(H(n,[10,69,79,70],Q-3))y="dxf";
if(H(n,[1,0,9,0]))y="wmf";if(H(n,[215,205,198,154]))y="wmf";if(H(n,[1,0,0,0]))y="emf";if(H(n,[118,47,49,1]))y="exr";
if(H(n,[10,10,10,10]))y="jsx";if(H(n,[77,90]))y="exe";if(y==null&&O.raw.c7(n.length)!=null)return"tiff";
return y};cb.Yr=function(w,n,H){if(H==null)H=0;for(var l=0;l<n.length;l++)if(n[l]!=-1&&w[H+l]!=n[l])return!1;
return!0};cb.Mn=function(w){var n={BMP:cb.a5S,CDR:cb.K6,DDS:cb.tU,EMF:cb.LY,DXF:cb.Mf,EPS:cb.yN,FIG:cb.vi,FPNG:cb.j3,INDD:cb.N5,GIF:cb.fh,ICO:cb.h7,ILBM:cb.sf,FITS:cb.FB,EXR:cb.tz,JPG:cb.Ue,LIF:cb.fG,DCM:cb.a24,PDF:cb.TH,PDN:cb.go,PNG:cb.c3,PPM:cb.Qg,PSD:cb.X9,PXD:cb.Ah,RAF:cb.CK,RAW:cb.hq,SKETCH:cb.WC,SVG:cb.oR,TGA:cb.aZ,AVIF:cb.a1$,TIFF:cb.O3,VTF:cb.wD,WEBP:cb.Op,WMF:cb.Nl,XCF:cb.Xx,XD:cb.jH,KRA:cb.sg,EXE:cb.JD,AI:cb.LB,AFPHOTO:cb.zH,CLIP:cb.zA,MP4:cb.a92};
return n[w.toUpperCase()]};cb.Y8=function(l){var w=cb.aS.a88,n=cb.aS.aaY,H,y=[];if(l==null)H=w.concat(n);
else H=l==0?w:n;for(var l=0;l<H.length;l++)if(cb.Mn(H[l]).vd)y.push(H[l]);return y};cb.abS=function(){var w;
function n(y){var c=y.target,Q=c.width,q=c.height,S=document.createElement("canvas");S.width=Q;S.height=q;
var A=S.getContext("2d");A.drawImage(c,0,0);w({Zg:new cr(0,0,Q,q),data:A.getImageData(0,0,Q,q).data.buffer})}function H(y,c,Q){w=Q;
var q=document.createElement("img");q.onload=n;q.src="data:"+c+";base64,"+cb.i$(y)}return H}();cb.mm=function(w,n,H,y,c){var Q=cb.m8(w,n,H,y,c),q=cb.Vt(Q);
return q.buffer};cb.Vt=function(w){var n=atob(w.split(",").pop()),H=new Uint8Array(n.length);for(var l=0;
l<n.length;l++)H[l]=n.charCodeAt(l);return H};cb.m8=function(w,n,H,y,c,Q){if(!(w instanceof ArrayBuffer))throw"e";
if(y==null)y="png";if(y=="png"&&Q==!0){var q=cb.Mn("PNG").vd([[w,0]],n,H);return"data:image/png;base64,"+cb.i$(q)}var S=cb.Ot;
if(S==null)S=cb.Ot=document.createElement("canvas");if(S.width!=n||S.height!=H){S.width=n;S.height=H}var A=S.getContext("2d"),V=new ImageData(new Uint8ClampedArray(w,0,n*H*4),n,H);
A.putImageData(V,0,0);return S.toDataURL("image/"+y,c)};cb.apH=function(w,n,H,y,c){if(c==null)c=0;var Q="<defs> \t<filter id=\"sofGlow\" height=\"300%\" width=\"300%\" x=\"-75%\" y=\"-75%\"> \t\t<!-- Thicken out the original shape --> \t<feMorphology operator=\"dilate\" radius=\"3\" in=\"SourceAlpha\" result=\"thicken\" /> \t\t<!-- Use a gaussian blur to create the soft blurriness of the glow -->\t\t<feGaussianBlur in=\"thicken\" stdDeviation=\"4\" result=\"blurred\" />\t\t<!-- Change the colour -->\t\t<feFlood flood-color=\"rgb(255,255,255)\" result=\"glowColor\" />\t\t<!-- Color in the glows -->\t\t<feComposite in=\"glowColor\" in2=\"blurred\" operator=\"in\" result=\"softGlow_colored\" />\t\t<!--\tLayer the effects together -->\t\t<feMerge>\t\t\t<feMergeNode in=\"softGlow_colored\"/>\t\t\t<feMergeNode in=\"SourceGraphic\"/>\t\t</feMerge>\t</filter></defs>",q="<svg  xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\"  width=\"128\"  height=\"128\"> "+Q+"<g transform=\"translate(64 64) scale("+.25+")\">";
if(w==1)q+="<g transform=\"scale(0.07 0.07) translate(-550 -112)\"  style=\"fill:#ffffff; stroke:#000000; stroke-width:60px;\">"+"<path d=\"m 555.1899,112.08836 0,120.71094 0,920.7109 232.42188,-232.42184 111.90429,270.44924 169.76363,-84.8828 -114.09371,-273.8555 320.71481,0 z\"/>"+"</g>";
q+="<g filter=\"url(#sofGlow)\"><image transform=\"rotate("+c+")\" xlink:href=\""+n+"\" x=\""+80*H+"\" y=\""+80*y+"\" height=\"80\" width=\"80\"/></g>"+"</g>"+"</svg>";
var S=new Uint8Array(q.length);j.GG(q,S,0);var A="data:image/svg+xml;base64,"+cb.i$(S.buffer);return{c1:A,U2:new cr(0,0,128,128),_O:new ce(64,64)}};
cb.i$=function(w){var n=new Uint8Array(w),H="";for(var l=0;l<n.length;l++)H+=String.fromCharCode(n[l]);
return btoa(H)};cb.agh=function(w){var n=atob(w),H=n.length,y=new Uint8Array(H);for(var l=0;l<H;l++)y[l]=n.charCodeAt(l);
return y.buffer};cb.yy=function(w){var n=[],H=[];for(var l=0;l<w.B.length;l++){var y=w.B[l];if(y.getName().slice(0,3)=="_a_"){n.push(l);
H.push(y.tl())}}return[n,H]};cb._L=function(w,n,H,y,c,Q){if(H==null)H=w.m;if(y==null)y=w.e;var q=new cr(0,0,w.m,w.e),S=new b7(H/(w.m+.001),0,0,y/(w.e+.001),0,0),V;
n=n.toUpperCase();var A=cb.Mn(n);if(A.ht){w.E$();V=A.vd(w,H,y,c,Q)}else{if(c)c=c.slice(0);var e=cb.yy(w),d=e[0],N=e[1],b=w.lq(),z=b&&c?c.pop():!1,v=b&&!z?b[0]:null,T=null;
if(w.d4.length!=0){T=[];for(var l=0;l<w.d4.length;l++)T.push(w.d4[l].iU(q))}if(d.length<2){var Y=cb.jN(w.E$(),b,z,w),g;
if(H==w.m&&y==w.e)g=Y.buffer;else{var R=P.WJ.T_([Y,q],S);g=R.buffer.buffer;if(T){var h=O.R(q.O()*4);
for(var l=0;l<T.length;l++){O.o2(T[l],h,3);var R=P.WJ.T_([h,q],S),E=T[l]=O.R(R.rect.O());O.RR(R.buffer,E,3)}}}V=A.vd([[g,0,w.uP,w.zN,T,v]],H,y,c)}else{var G=[];
for(var l=0;l<d.length;l++){var k=d[l],g;for(var $=0;$<d.length;$++)w.B[d[$]].WH(d[$]==k);w.C1();w.U();
w.eU();if(H==w.m&&y==w.e)g=w.E$().buffer.slice(0);else{var R=P.WJ.T_([w.E$(),q],S);g=R.buffer.buffer}g=cb.jN(new Uint8Array(g),b,z,w).buffer;
var p=w.B[k].getName().split(",");G.push([g,p[1]?parseInt(p[1]):100,w.uP,w.zN,T,v])}for(var l=0;l<d.length;
l++)w.B[d[l]].WH(N[l]);w.U();w.eU();if(c){var X=c.length,C=c[X-2],D=c[X-1],o=c[X-4]/100;if(o!=1)for(var l=0;
l<G.length;l++)G[l][1]=Math.round((G[l][1]==0?16:G[l][1])/o);if(C)G.reverse();if(D){var t=G.slice(1,G.length-1);
t.reverse();G=G.concat(t)}}V=A.vd(G,H,y,c)}}return V};cb.jN=function(w,n,H,y){var c=y.r0();if(H){w=w.slice(0);
ICC.U.applyLUT(n[3],n[2],w,w)}else if(c&&y.add.fcmy==1){w=w.slice(0);ICC.U.applyLUT(c[y.add.fcmy==1?5:3],c[2],w,w)}return w};
cb.ahx=function(w,n){var H=new Uint8Array(w.data),y=new Uint8Array(n.data),c=0,Q=0;for(var q=0;q<H.length;
q+=4){var S=H[q]-y[q],A=H[q+1]-y[q+1],V=H[q+2]-y[q+2],e=H[q+3]-y[q+3],d=S*S+A*A+V*V+e*e>>>2;c+=d;if(d>25)Q++}var N=Q/w.Zg.O()<1e-4;
return N};cb.xx=function(w,n){var H=n[0].$E&&n[0].$E.startsWith("_a_"),y;if(H&&!1){var c=0,Q=n.length;
for(var l=0;l<n.length-1;l++){var q=n[l],S=n[l+1],A=cb.ahx(q,S);if(A){var V=parseFloat(q.$E.split(",").pop()),e=parseFloat(S.$E.split(",").pop());
q.$E=q.$E.split(",")[0]+","+Math.round(V+e);n.splice(l+1,1);l--;c++}}if(c!=0){alert("Deleted "+c+" frames out of "+Q+".");
for(var l=0;l<n.length;l++){var d=n[l],N=d.$E;d.$E="_a_frm"+l+","+N.split(",")[1]}}}var z=new iC(w+".psd"),v=new cr(0,0,1,1);
if(H){y=z.mX();y.add.lsct=c0.q8;y.nY(w);y.UM="pass";y.Vg=24;y.WH(!0);z.B.push(z.C$())}for(var l=0;l<n.length;
l++){var T=n[l];v=v.ld(T.Zg);var Y=z.mX();Y.WH(l==0);Y.nY(n.length==1?"Background":"Layer "+l);if(l==0&&T.uP)z.uP=T.uP;
if(l==0&&T.zN)z.zN=T.zN;if(T.$E)Y.nY(T.$E);if(T._y)for(var l=0;l<T._y.length;l++){var g=T._y[l],R=iC.nN(g[0]);
R.add.vmsk.i=g[1];O.r._R(g[1],new b7(v.m,0,0,v.e,0,0));z.Wh.push(R)}if(T.V_)z.V_=T.V_;Y.rect=T.Zg.clone();
Y.buffer=new Uint8Array(T.data);if(l==0&&T.KN)z.si(T.KN);O.Vu(Y);z.B.push(Y)}if(H)z.B.push(y);if(n[0].d4){for(var l=0;
l<n[0].d4.length;l++){var h=new a.ZV;z.d4.push(h);h.rect=n[0].Zg.clone();h.channel=n[0].d4[l]}}z.g=[H?z.B.length-1:0];
z.m=v.m;z.e=v.e;z.buffer=O.R(v.O()*4);z.U();return z};cb.Mp=function(w,n,H){var y=w.length-H,c=new Uint8Array(y);
for(var l=0;l<n;l++)c[l]=w[l];for(var l=n;l<y;l++)c[l]=w[l+H];return c};cb.aq7=function(w,n,H,y,c,Q,q,S){var A=new aL(M.E.v,!0);
A.G=P.O$;A.data={d:"h_stepbck"};var V={};for(var e=1;e<H.length;e++){var d=w.g.slice(0),N=cb.cK(w,S,n,H,y,e);
V["img"+e+"."+c.toLowerCase()]=new Uint8Array(cb._L(w,c,null,null,Q,q));for(var l=0;l<N;l++)S.S(A)}return UZIP.encode(V)};
cb.cK=function(w,n,H,y,c,Q){var q=new aL(M.E.L,!0),V=0;q.data={d:M.c._t};var S=new aL(M.E.v,!0);S.G=P.YV;
S.data={d:a.iJ,jR:{buffer:null,rect:null}};var A=S.data.jR;for(var e=0;e<H.length;e++){var d=H[e],N=d.trait,b=parseInt(d.docRef.slice(4,-2)),z=-1;
for(var l=0;l<w.B.length;l++)if(w.B[l].add.lyid==b)z=l;if(z==-1)continue;var v=y[0].indexOf(d.varName);
if(v==-1){alert("Column "+d.varName+" is missing");return}var T=y[Q][v],Y=w.B[z];w.g=[z];if(N=="textcontent"){q.data.kB="app.activeDocument.activeLayer.textItem.contents = "+JSON.stringify(T)+";";
n.S(q);V++}if(N=="visibility"&&Y.tl()+""!=T.toLowerCase()){q.data.kB="app.activeDocument.activeLayer.visible = "+T.toLowerCase()+";";
n.S(q);V++}if(N=="fileref"){var R=T.split("/").pop(),h=null;for(var ds in c)if(ds.split("/").pop()==R)h=c[ds];
if(h==null){alert("Image "+R+" is missing.")}else{var E=cb.Mn(cb.mj(h.buffer))._N(h.buffer)[0],G=E.Zg,k=Y.rect.m/Y.rect.e,$=G.m/G.e,p=0,X=0;
if(k>$){X=Y.rect.e;p=~~(X*$)}else{p=Y.rect.m;X=~~(p/$)}q.data.kB="app.activeDocument.activeLayer.visible = false;";
n.S(q);V++;var C=P.WJ.T_([new Uint8Array(E.data),G],new b7(p/G.m,0,0,X/G.e,0,0));A.rect=C.rect;A.buffer=C.buffer;
C.rect.x=Y.rect.x+(Y.rect.m-p>>>1);C.rect.y=Y.rect.y+(Y.rect.e-X>>>1);n.S(S);V++}}}return V};cb.c3={};
cb.c3.vd=function(w,n,H,y){if(y==null)y=[100,!1,0,0,0];var c={sRGB:1,loop:y[3]};if(w[0][5]!=null){delete c.sRGB;
c.iCCP=w[0][5]}if(w[0][2]!=null){var Q=Math.round(w[0][2]*(1e4/254));c.pHYs=[Q,Q,1]}var q=y[0],S=q==100?0:Math.max(2,Math.floor(q*5));
if(S==5)S=4;var A=[],V=[];for(var l=0;l<w.length;l++){A.push(w[l][0]);V.push(w[l][1])}var e=UPNG.encode(A,n,H,S,V,c,y[1]);
return e};cb.c3.ar3=function(w,n,H){return UPNG.encodeLL([w],n,H,3,1,8)};cb.c3._N=function(w){var n=Date.now(),H=UPNG.decode(w),y=UPNG.toRGBA8(H),c=H.width,Q=H.height,q=0,S=H.tabs.iCCP;
if(H.tabs.pHYs)q=Math.round(H.tabs.pHYs[0]*254/1e4);if(y.length==1)return[{Zg:new cr(0,0,c,Q),data:y[0],uP:q,KN:S}];
var A=[];for(var l=0;l<y.length;l++){A.push({$E:"_a_frm"+l+","+H.frames[l].delay,Zg:new cr(0,0,c,Q),data:y[l],uP:q,KN:S})}return A};
cb.Qg={};cb.Qg.vd=function(w,n,H,y){var c=new Uint8Array(w[0][0]),Q=n*H,q=Q*3,S="P6\n"+n+" "+H+"\n255\n",A=S.length,V=O.R(A+q,!0);
for(var l=0;l<A;l++)V[l]=S.charCodeAt(l);for(var l=0;l<Q;l++){var e=l*4,d=l*3+A;V[d]=c[e];V[d+1]=c[e+1];
V[d+2]=c[e+2]}return V.buffer};cb.Qg._N=function(w){w=new Uint8Array(w);var n=[" ".charCodeAt(0),"\n".charCodeAt(0),"\t".charCodeAt(0),"\r".charCodeAt(0)],H=0,y=String.fromCharCode(w[0])+String.fromCharCode(w[1]),c=[],Q=0,q=y=="P1"||y=="P4"?2:3;
for(H=2;H<w.length;H++){var S=w[H],A=String.fromCharCode(S);if(S=="#".charCodeAt(0)){while(w[H]!="\n".charCodeAt(0))H++;
continue}var V=n.indexOf(S)!=-1;if(Q==0&&!V){c.push(A);Q=1;continue}if(Q==1&&!V){c[c.length-1]+=A;continue}if(Q==1&&V){Q=0;
if(c.length==q)break;continue}}var e=parseInt(c[0]),d=parseInt(c[1]),N=e*d*4,b=y=="P1"||y=="P4"?1:255/parseInt(c[2]),z=O.R(N);
if(y=="P1"||y=="P2"||y=="P3"){var v="",T=0,Q=0,Y="#".charCodeAt(0);for(var l=H;l<w.length;l++){var S=w[l],A=String.fromCharCode(S),V=n.indexOf(S)!=-1;
if(S==Y){while(w[l]!="\n".charCodeAt(0))l++}else if(Q==0&&!V){v=A;Q=1}else if(Q==1){if(V){Q=0;var g=parseInt(v);
v="";if(y=="P1"){z[T]=z[T+1]=z[T+2]=(1-g)*255;z[T+3]=255;T+=4}if(y=="P2"){z[T]=z[T+1]=z[T+2]=Math.round(g*b);
z[T+3]=255;T+=4}if(y=="P3"){z[T]=Math.round(g*b);T++;if((T&3)==3){z[T]=255;T++}}}else v+=A}}}var R=e*d;
if(y=="P4")for(var h=0;h<d;h++){var E=h*8*Math.ceil(e/8);for(var G=0;G<e;G++){var l=E+G,k=w[H+1+(l>>3)];
k=k>>7-(l&7)&1;var $=h*e+G<<2;z[$]=z[$+1]=z[$+2]=(1-k)*255;z[$+3]=255}}if(y=="P5")for(var l=0;l<R;l++){var $=4*l;
z[$]=z[$+1]=z[$+2]=Math.round(w[H+1+l]*b);z[$+3]=255}if(y=="P6")for(var l=0;l<R;l++){var $=4*l,p=H+1+3*l;
z[$]=Math.round(w[p]*b);z[$+1]=Math.round(w[p+1]*b);z[$+2]=Math.round(w[p+2]*b);z[$+3]=255}return[{Zg:new cr(0,0,e,d),data:z.buffer}]};
cb.tU={};cb.tU.vd=function(w,n,H,y){if(y==null)y=[0,!0];if(typeof y[0]=="boolean")y[0]=0;var c=new Uint8Array(w[0][0]),Q=n&3,q=H&3;
if(Q!=0||q!=0){var S=n+(Q==0?0:4-Q),A=H+(q==0?0:4-q),V=new Uint8Array(S*A*4);O.jZ(V,4278190080);O.j1(c,new cr(0,0,n,H),V,new cr(0,0,S,A));
c=V;n=S;H=A}var e=UTEX.DDS.encode(c.buffer,n,H,y);if(!1){var d=UTEX.DDS.decode(e)[0],V=new Uint8Array(d.TM),N=0;
for(var l=0;l<c.length;l++){var b=c[l]-V[l];N+=b*b}console.log(N)}return e};cb.tU._N=function(w){var n=UTEX.DDS.decode(w)[0];
return[{Zg:new cr(0,0,n.width,n.height),data:n.image}]};cb.wD={};cb.wD._N=function(w){var n=UTEX.VTF.decode(w).pop();
return[{Zg:new cr(0,0,n.width,n.height),data:n.image}]};cb.Ue={};cb.Ue.LS=null;cb.Ue.aru=function(w,n){var H=cb.Ue.LS,y=w.byteLength,c=n.width,Q=n.height,q=c*Q,S=5e6+2*y+q*(n.progressive?Math.max(2,n.numComponents)*4+1:8),A=H.instance.exports;
cb.mG(A,S);var V=new Uint8Array(A.memory.buffer),e=A.malloc(y);V.set(new Uint8Array(w),e);var d=A.malloc(4),N=A.malloc(4),ds=A.malloc(4),b=A.stbi_load_from_memory(e,y,d,N,ds,4);
A.free(e);A.free(d,N,ds);A.free(b);var z=V.slice(b,b+q*4);return z};(function(){var w=cb.A8.get("wasm/jpg").buffer;
if(window.WebAssembly==null)window.alert("Your browser is too old (no WebAssembly). Please, update it.");
WebAssembly.instantiate(w).then(function(n){cb.Ue.LS=n})}());cb.Ue.vd=function(w,n,H,y){if(y==null)y=[85];
var c=w[0],Q=new Uint8Array(c[0]);if(O.AO(Q)){var q=new Uint8Array(Q.length),S=new cr(0,0,n,H);O.jZ(q,4294967295);
O.q.SG("norm",Q,S,q,S,S,1);Q=q}var A=new Uint8Array(cb.mm(Q.buffer,n,H,"jpeg",y[0]/100));if(A.length<2e4){var V=j.OA(A,[255,226]);
if(V!=-1){var e=j.kH(A,V+2);console.log(V,e);A=cb.Mp(A,V,e+2)}}if(c[5]!=null){var d=cb.Ue.XC(A)[226][0]+2,N=j.kH(A,d),b=c[5].length+16,z=b-N,v=new Uint8Array(A.length+z);
for(var l=0;l<d+N;l++)v[l]=A[l];for(var l=d+N;l<A.length;l++)v[l+z]=A[l];j.pc(v,d,b);v.set(c[5],d+16);
A=v}if(c[2]!=null){var T=cb.Ue.XC(A)[224][0]+2;T+=9;A[T]=1;j.pc(A,T+1,c[2]);j.pc(A,T+3,c[2])}if(c[3]!=null&&y[1]==!0&&Object.keys(c[3]).length!=0){var Y=0,g=0,R=0,h=ka.Po(c[3]),E=new Uint8Array(UTIF.encode([h])),G="http://ns.adobe.com/xap/1.0/",d=20;
Y=4+6+E.length;var k=ka.apB(c[3]),$=j.bv(k);g=4+G.length+1+$.length;var p=ka.aor(c[3]);if(p.length!=0){var X=0,o=0;
for(var l=0;l<p.length;l++)X+=5+p[l][1].length;var C=X+(X&1),D=O.R(14+4+4+4+C);j.lY(D,o,"Photoshop 3.0");
o+=14;j.lY(D,o,"8BIM");o+=4;D[o++]=4;D[o++]=4;o+=2;j.AU(D,o,X);o+=4;for(var l=0;l<p.length;l++){var t=p[l],u=t[1];
D[o++]=28;D[o++]=2;D[o++]=t[0];j.pc(D,o,u.length);o+=2;j.lY(D,o,u);o+=u.length}R=4+D.length}var m=Y+g+R,U=new Uint8Array(A.length+m);
for(var l=0;l<20;l++)U[l]=A[l];for(var l=20;l<A.length;l++)U[l+m]=A[l];U[d]=255;U[d+1]=225;j.pc(U,d+2,Y-2);
j.lY(U,d+4,"Exif");for(var l=0;l<E.length;l++)U[d+10+l]=E[l];d+=Y;U[d]=255;U[d+1]=225;j.pc(U,d+2,g-2);
j.lY(U,d+4,G);for(var l=0;l<$.length;l++)U[d+4+G.length+1+l]=$[l];d+=g;if(R!=0){U[d]=255;U[d+1]=237;
j.pc(U,d+2,R-2);for(var l=0;l<D.length;l++)U[d+4+l]=D[l];d+=R}A=U}return A.buffer};cb.Ue.XC=function(w){var n=0,H=[],y=w.length;
while(n<y){while(w[n]!=255&&n<y)n++;while(w[n]==255)n++;if(n==y)break;var c=w[n];n++;if(H[c]==null)H[c]=[];
H[c].push(n-2);if(c==216)continue;if(c==217)break;if(224<=c&&c<=239||c==218||c==219||c==192||c==193||c==194||c==196||c==221||c==254){var Q=j.kH(w,n);
n+=Q;if(c==218)while(n<y&&(w[n]!=255||(w[n+1]==0||208<=w[n+1]&&w[n+1]<=215)))n++;continue}console.log("unknown marker ",c.toString(16),n);
break}if(H[217]==null){console.log("EOI marker missing");var q=w.length-2;w[q]=255;w[q+1]=217;H[217]=[q]}return H};
cb.Ue.ajY=function(w){w=new Uint8Array(w);if(w[0]!=255)return w.buffer;var n=cb.Ue.XC(w),H=cb.Ue.BU(w,n);
if(H.numComponents!=4)return w.buffer;var y=H.width,c=H.height,Q=cb.Ue.Mx(w,n,!0);return cb.Ue.vd([[Q[0].data]],y,c,[85])};
cb.Ue.BU=function(w,n){var H=(n[192]?n[192]:n[193]?n[193]:n[194])[0]+4,y={};y.progressive=n[194]!=null;
y.precision=w[H];H++;y.height=j.kH(w,H);H+=2;y.width=j.kH(w,H);H+=2;y.numComponents=w[H];H++;if(n[224]){var c=y.jfif={};
H=n[224][0]+2+2+5+2;c.densityUnits=w[H];H++;c.xDensity=j.kH(w,H);H+=2;c.yDensity=j.kH(w,H);H+=2}if(n[238]){var c=y.adobe={};
H=n[238][0]+2+2+6;c.version=w[H];H++;c.flags0=j.kH(w,H);H+=2;c.flags1=j.kH(w,H);H+=2;c.transform=w[H];
H++}return y};cb.Ue.azU=function(w,n,H){var y=n,c=j.kH(w,y);y+=2;var Q=j.QN(w,y,4);if(Q=="Exif"){y+=6;
var q=w.slice(y,y+c-8),S;try{S=UTIF.decode(q.buffer,{parseMN:!1,debug:!1})}catch(hV){}if(S&&S.length!=0)H.exif=S}else if(Q=="http"){var A=0;
while(w[y+A]!=0)A++;var V=j.QN(w,y,A);y+=A+1;if(V=="http://ns.adobe.com/xmp/extension/"){var e=j.QN(w,y,32);
y+=32;y+=8;var d=n+c-y;while(w[y+d-1]==0)d--;if(H.xmp_extn==null)H.xmp_extn="";try{H.xmp_extn+=j.NR(w,y,d)}catch(hV){}}else if(V=="http://ns.adobe.com/xap/1.0/"){var N=j.NR(w.slice(y,y+c-A-3));
if(N[0]=="?")N="<"+N;H.xmp=N}}else console.log(Q)};cb.Ue.Mx=function(w,n,H){var y=cb.Ue.BU(w,n),c=y.width,Q=y.height,q=c*Q,S,A=-1,h=72,E,k,$=null;
if(y.adobe)A=y.adobe.transform;if(H||c*Q>15e7||A==0||A==2){var V=new PDFJS.JpegImage;V.parse(w);var e=V.getData({width:c,height:Q,forceRGB:!0,isSourcePDF:H}),S=O.R(q*4);
for(var l=0;l<q;l++){var d=l<<2,N=d-l;S[d]=e[N];S[d+1]=e[N+1];S[d+2]=e[N+2];S[d+3]=255}}else{S=cb.Ue.aru(w.buffer,y)}var b=n[225];
if(b)for(var l=0;l<b.length;l++)cb.Ue.azU(w,b[l]+2,y);var z=n[226];if(z){var v=z[0],T=j.kH(w,v+2),Y=j.QN(w,v+4,11);
if(Y=="ICC_PROFILE"){var g=j.s(w,v+18);y.icc=w.slice(v+18,v+18+g)}}var R=n[217][0]+2;if(R!=w.length)y.suffix=w.slice(R);
var G=[c,Q,1,0,0,0,1,0];if(y.jfif&&y.jfif.densityUnits!=0){h=Math.round([72,1,2.54][y.jfif.densityUnits]*y.jfif.xDensity)}else if(y.exif&&y.exif[0].t282!=null){var p=y.exif[0].t282[0];
h=p[0]/p[1]}if(y.exif){var X=y.exif;E=ka.XA(X[0]);var C=X[0].t274;if(C)C=C[0];if(C!=null&&C>1&&C<20)G=O.raw.hz(C,c,Q)}if(y.xmp){E=ka.ae8(y.xmp,E)}if(y.icc)k=y.icc;
var D=n[237],o=[],t=[];if(D){var u=new Uint8Array(65536),m=0,v=0;for(var l=0;l<D.length;l++){v=D[l]+2;
var U=v+j.kH(w,v);v+=2;var I=v;while(w[v]!=0)v++;v++;var x=j.QN(w,I,v-I-1),J=U-v;if(J<0)break;while(m+J>u.length){var r=new Uint8Array(u.length*2);
r.set(u);u=r}var Z=new Uint8Array(w.buffer,v,J);u.set(Z,m);m+=J}v=0;w=u;while(v<m){var f=j.QN(w,v,4);
v+=4;var F=j.kH(w,v);v+=2;var _=w[v++],K=j.QN(w,v,_);v+=_;if((_&1)==0)v++;var T=j.s(w,v);v+=4;var R=v+T+(T&1);
if(F==1028){while(v+4<R){var B=w[v++],ij=w[v++],W=w[v++],L=j.kH(w,v);v+=2;if(B==28&&ij==2)o.push([W,j.QN(w,v,L)]);
v+=L}}else if(F==1032)$=hb.F0(w,v);else if((F&2e3)==2e3){var i=ca.XE(w,v,T);t.push([K,i])}else{}v=R}if(o.length!=0)E=ka.arp(o,E)}var e3=[{Zg:new cr(0,0,c,Q),data:S.buffer,uP:h,zN:E,KN:k,_y:t.length==0?null:t,V_:$}],E=y.xmp_extn;
if(E){var eE=new DOMParser,ec=eE.parseFromString(E,"image/svg+xml"),ec=ec.children[0].children[0].children[0],gw=[ec.getAttribute("GImage:Data"),ec.getAttribute("GDepth:Data")];
for(var l=0;l<gw.length;l++)if(gw[l]){var bl=atob(gw[l]),cD=new Uint8Array(bl.length);j.lY(cD,0,bl);
cD=cD.buffer;var a$=cb.mj(cD),hJ=cb.Mn(a$)._N(cD);e3.push(hJ[0])}}if(y.suffix){var ei=y.suffix,df=j.QN(ei,4,4),bM=j.OA(ei,String.fromCharCode(255)+String.fromCharCode(216)+String.fromCharCode(255));
if(cb.Yr(ei,[0,0,1,10,14,0,0,0])){var v=0;while(v!=ei.length){var ib=j.eX(ei,v+2);v+=4;var fI={2272:12,2320:21,2561:13,2625:21,2721:3,2608:0}[ib];
if(fI!=null){var eU=j.U5(ei,v);v+=4;var gK=j.QN(ei,v,eU);v+=eU;var bs=j.QN(ei,v,fI);v+=fI;if(ib==2608){var km=j.s(ei,v+24);
v+=km+24;var aJ=j.s(ei,v);v+=aJ;alert("Photopea found a "+hn.x2(km)+" MP4 video inside your image.",4e3)}}else if(ib==18502){while(j.QN(ei,v,4)!="SEFT")v+=4;
v+=4}else{break;console.log(j.Xi(ei,v,128));console.log(ei.slice(v));throw ib.toString(16)}}}else if(df=="ftyp"){alert("Photopea found a "+hn.x2(ei.length)+" MP4 video inside your image.",4e3)}else if(j.QN(ei,0,4)=="fixe"){alert("Unknown data - "+ei.length+" B - at the end of the file",3e3);
var v=4,T=j.U5(ei,v);v+=4;var ip=j.U5(ei,v);v+=4;var fl=j.U5(ei,v);v+=4;console.log(T,ip,fl,ei.slice(v,v+84));
v+=84;var b3=j.QN(ei,v,32);v+=32;v+=8;var b3=j.QN(ei,v,32);v+=32}else if(j.QN(ei,8,13)=="FocusShot_Map"){var dY=j.s(ei,0),L=j.U5(ei,4),cD=O.R(q*4),k4=O.R(q*4);
for(var aK=0;aK<Q;aK++)for(var jK=0;jK<c;jK++){var l=aK*c+jK,d=l<<2,ay=8+13+((aK>>>1)*c+jK>>>1),f8=ei[ay],gN=ei[ay+(q>>>2)];
cD[d]=cD[d+1]=cD[d+2]=f8;cD[d+3]=255;k4[d]=k4[d+1]=k4[d+2]=gN;k4[d+3]=255}e3.push({Zg:new cr(0,0,c,Q),data:cD.buffer},{Zg:new cr(0,0,c,Q),data:k4.buffer})}else if(df=="edof"){var C=ei[8+7];
console.log(C.toString(16));var v=8+16,d4=j.eX(ei,v),bK=j.eX(ei,v+2),q=d4*bK;v+=4;v+=32+16;var hf=O.R(q*4);
for(var l=0;l<q;l++){var d=l<<2;hf[d]=hf[d+1]=hf[d+2]=ei[v+l];hf[d+3]=255}if(C==16){}else if(C==19){var bC=hf.slice(0);
O.K.wf(hf,bC,d4,bK);var gW=d4;d4=bK;bK=gW;O.K.dj(bC,hf,d4,bK)}else throw"Unknown orientation of a depth map";
e3.push({Zg:new cr(0,0,d4,bK),data:hf.buffer})}else if(bM!=-1&&!(ei[0]==255&&ei[1]==129)){try{if(bM!=0)ei=ei.slice(bM);
var hJ=cb.Mn("jpg")._N(ei.buffer);for(var l=0;l<hJ.length;l++)e3.push(hJ[l])}catch(hV){}}else if(j.QN(ei,0,4)=="PMPD"){var v=4,dn=j.U5(ei,12),fq=j.U5(ei,16),d4=j.U5(ei,1060),bK=j.U5(ei,1064),jN=d4>bK,cU=e3[0].Zg.m>e3[0].Zg.e,jb=ei.slice(ei.length-d4*bK-4),ac=O.R(d4*bK);
for(var aK=0;aK<bK;aK++)for(var jK=0;jK<d4;jK++)ac[aK*d4+jK]=jb[(bK-aK-1)*d4+jK];var a_=O.R(d4*bK*4);
a_.fill(255);O.Bk(ac,a_);if(jN!=cU){var bC=a_.slice(0);O.K.wf(a_,bC,d4,bK);var gW=d4;d4=bK;bK=gW;O.K.dj(bC,a_,d4,bK)}e3.push({Zg:new cr(0,0,d4,bK),data:a_.buffer})}else console.log(j.QN(ei,0,4),ei)}if(e3.length>1){var h5=e3[0].Zg,jj=!1,jy=!0;
e3[0].$E="Main";var jz=[!1];for(var l=1;l<e3.length;l++){jz[l]=cb.Ue.amG(new Uint8Array(e3[l].data));
if(jz[l])jj=!0;if(!e3[l].Zg.Hw(e3[0].Zg))jy=!1}if(!jj&&!jy)e3=e3.slice(0,1);else for(var l=1;l<e3.length;
l++){e3[l].$E=jz[l]?"Depth Map":null;var g0=e3[l].Zg;if(!g0.Hw(h5)){var bt=h5.m/g0.m,kl=h5.e/g0.e,iO=new b7;
iO.scale(bt,kl);var dN=P.WJ.cd([new Uint8Array(e3[l].data),g0],1,O.K.og(iO));e3[l].Zg=dN.rect;e3[l].data=dN.buffer}}}if(cb.Ue.oq==1)if(G[2]!=1||G[6]!=1)for(var l=0;
l<e3.length;l++){var aG=e3[l],iA=new Uint8Array(aG.data),c=aG.Zg.m,Q=aG.Zg.e,d4=G[0],bK=G[1],S=O.R(d4*bK*4);
O.K.Zq(iA,c,Q,S,G);aG.Zg=new cr(0,0,d4,bK);aG.data=S.buffer}return e3};cb.Ue.amG=function(w){var n=!0;
for(var l=0;l<w.length;l+=4){n=n&&w[l]==w[l+1]&&w[l+1]==w[l+2]}return n};cb.Ue.oq=0;cb.Ue._N=function(w,n,H){w=new Uint8Array(w);
if(w[0]==255){var y=cb.Ue.XC(w);if(y[195]==null){cb.Ue.oq++;var c=cb.Ue.Mx(w,y,!1);cb.Ue.oq--;return c}var Q=j.kH(w,y[195][0]+5),q=j.kH(w,y[195][0]+7),S=UTIF.LosslessJpegDecode(w),A=q*Q,V=O.R(A*4);
for(var l=0;l<A;l++){var e=l<<2,d=e-l;V[e]=S[d];V[e+1]=S[d+1];V[e+2]=S[d+2];V[e+3]=255}return[{Zg:new cr(0,0,q,Q),data:V.buffer}]}else if(w[0]==0&&w[4]==48&&w[6]==1){var N=w,b=new PDFJS.Jbig2Image,z=[];
if(n)z.push({data:n,start:0,end:n.length});z.push({data:N,start:0,end:N.length});var S=b.parseChunks(z);
if(!H)for(var l=0;l<S.length;l++)S[l]=~S[l];var q=j.s(w,11),Q=j.s(w,15),v=Math.ceil(q/8),T=O.R(q*Q*4);
for(var Y=0;Y<Q;Y++){var g=Y*v;for(var R=0;R<q;R++){var e=(Y*q+R)*4,h=S[g+(R>>>3)]>>>7-(R&7)&1,E=h*255;
T[e]=E;T[e+1]=E;T[e+2]=E;T[e+3]=255}}return[{Zg:new cr(0,0,q,Q),data:T.buffer}]}else{var b=new PDFJS.JpxImage;
b.parse(w);var q=b.width,Q=b.height,G=b.tiles,k=b.componentsCount,$=new Uint8Array(q*Q*4),p=new cr(0,0,q,Q);
for(var b=0;b<G.length;b++){var X=G[b],C=X.width,D=X.height,o=C*D,t=X.items,u=new cr(X.left,X.top,C,D),m=new Uint8Array(o*4);
if(k==1)for(var l=0;l<o;l++){var U=t[l],e=l*4;m[e]=U;m[e+1]=U;m[e+2]=U;m[e+3]=255}else if(k==3)for(var l=0;
l<o;l++){var d=l*3,e=l*4;m[e]=t[d];m[e+1]=t[d+1];m[e+2]=t[d+2];m[e+3]=255}else console.log("Unknown number of components: "+k);
O.j1(m,u,$,p)}return[{Zg:p,data:$.buffer}]}};cb.Op={};cb.Op.vd=function(w,n,H,y){if(y==null)y=[70,0,0,0];
var c=y[0]/100,N=0;if(w.length==1){var Q=new Uint8Array(cb.mm(w[0][0],n,H,"webp",c));if(Q.length<2e4){var q=a3.V2(Q.buffer),S=q.sub;
for(var l=0;l<S.length;l++)if(S[l].h4=="ICCP"){var A=S[l];Q=cb.Mp(Q,A.Q-8,A.size+8);j.QU(Q,4,q.size-(A.size+8));
break}}return Q.buffer}var V=j.a_,e=j.Uk,d=new cJ;V(d,N,"RIFF    WEBPVP8X");N+=16;e(d,N,10);N+=4;e(d,N,18);
N+=4;e(d,N,n-1);N+=3;e(d,N,H-1);N+=3;V(d,N,"ANIM");N+=4;e(d,N,6);N+=4;d.ED(N,4);d.data[N+3]=255;j.t1(d,N+4,y[2]);
N+=6;var b=[];for(var l=0;l<w.length;l++){b.push(w[l][0])}var z=UPNG.encode.compress(b,n,H,c==1?0:Math.max(2,Math.floor(c*500)),[!1,!0,!0,0,!0]).frames;
function v(q,C,D,o){var G=q.Q-8,k=q.size+8;D.ED(o,k);for(var l=0;l<k;l++)D.data[o+l]=C[G+l];return o+k}for(var l=0;
l<w.length;l++){V(d,N,"ANMF");N+=4;var T=N,G=0,k=0;N+=4;var Y=z[l],g=Y.rect,R=[g.x>>>1,g.y>>>1,g.width-1,g.height-1,w[l][1]];
for(var h=0;h<5;h++)e(d,N+3*h,R[h]);N+=15;d.ED(N,1);d.data[N]=1-Y.blend<<1|Y.dispose;N++;var E=new Uint8Array(cb.mm(Y.img.buffer,g.width,g.height,"webp",1)),S=a3.V2(E.buffer).sub,$={};
for(var p=0;p<S.length;p++)$[S[p].h4]=S[p];if($.VP8L)N=v($.VP8L,E,d,N);else throw"e";var X=N-T-4;e(d,T,X);
if((X&1)==1){d.ED(N,1);N++}}e(d,4,N-8);return d.data.slice(0,N).buffer};(function(){var w=cb.A8.get("wasm/webp").buffer;
WebAssembly.instantiate(w).then(function(n){var H=n.instance.exports;cb.Op.exp=H})}());cb.Op._N=function(w){var n=new Uint8Array(w),H=cb.Op.ahk,y=null,c=a3.V2(w).sub,Q={};
for(var l=0;l<c.length;l++)Q[c[l].h4]=c[l];var q=Q.ANIM,S=Q.VP8L,A=Q["VP8 "],V=Q.VP8X;if(q==null){var e,d;
if(A){e=j.eX(n,A.Q+6);d=j.eX(n,A.Q+8)}else if(S){var N=j.U5(n,S.Q+1);e=(N&(1<<14)-1)+1;d=(N>>>14&(1<<14)-1)+1}else throw"e";
var b=[H(y,w,{Q:0,size:n.length},e,d)];return b}var z=V.Q,e=1+(j.U5(n,z+4)&16777215),d=1+(j.U5(n,z+7)&16777215),v=[],T=new cr(0,0,e,d),Y=O.R(e*d*4);
for(var l=0;l<c.length;l++){var g=c[l];if(g.h4!="ANMF")continue;var R=[];for(var h=0;h<5;h++)R.push(j.U5(n,g.Q+h*3)&16777215);
var E=new cr(R[0]*2,R[1]*2,R[2]+1,R[3]+1),G=R[4],k=H(y,w,{Q:g.Q+16,size:g.size-16},e,d),$=new Uint8Array(k.data),p=n[g.Q+15];
if(p>>>1==0)O.q.SG("norm",$,E,Y,T,E,1);else O.j1($,E,Y,T);v.push({$E:"_a_"+v.length+","+G,Zg:T.clone(),data:Y.buffer.slice(0)});
if((p&1)==1){O.jZ($,0);O.j1($,E,Y,T)}}return v};cb.Op.ahk=function(w,n,H,y,c){var Q=cb.Op.exp,q=Q.memory,S=5e6+2*H.size+y*c*10;
cb.mG(Q,S);var A=new Uint8Array(q.buffer),V=Q.malloc(H.size);A.set(new Uint8Array(n,H.Q,H.size),V);var e=Q.malloc(8),d=Q.WebPDecodeARGB(V,H.size,e,e+4),N=j.U5(A,e),b=j.U5(A,e+4),z=N*b*4,v=O.R(z);
for(var l=0;l<z;l+=4){v[l]=A[d+l+1];v[l+1]=A[d+l+2];v[l+2]=A[d+l+3];v[l+3]=A[d+l]}Q.WebPFree(d);Q.free(e);
Q.free(V);return{Zg:new cr(0,0,N,b),data:v.buffer}};cb.a5S=function(){function w(S,A,V,e){var d=new Uint8Array(S[0][0]),N=new Uint32Array(d.buffer),b=[],z={},T=24,Y=0,G=0;
for(var l=0;l<N.length;l++){var v=N[l]&16777215;if(z[v]==null){z[v]=b.length;b.push(v);if(b.length>256){b=null;
break}}}if(b){T=1;while(1<<T<b.length)T*=2;if(T==2)T=4}var g={pV:A,WZ:V,a2:1,HQ:T,M1:0,ayP:Y},R=4*Math.floor((g.HQ*g.pV+31)/32);
g.size=R*g.WZ+2;var h=new cJ,E=b?(1<<T)*4:0;j.a_(h,G,"BM");G+=2;j.Uk(h,G,R*V+16+40+E);G+=4;j.Uk(h,G,0);
G+=4;j.Uk(h,G,54+E);G+=4;h.ED(G,40);j.Uk(h,G,40);G+=4;q(h.data,G,g,R);G+=36;if(b){h.ED(G,E);var k=h.data;
for(var l=0;l<b.length;l++){var $=G+l*4,p=b[l]>>>16,X=b[l]>>>8&255,C=b[l]&255;k[$]=p;k[$+1]=X;k[$+2]=C}G+=E}h.ED(G,R*V);
if(T==24)for(var D=0;D<V;D++){var o=G+(V-1-D)*R;for(var t=0;t<A;t++){var u=(D*A+t)*4;h.data[o+t*3+2]=d[u];
h.data[o+t*3+1]=d[u+1];h.data[o+t*3+0]=d[u+2]}}else if(T==8)for(var D=0;D<V;D++){var o=G+(V-1-D)*R;for(var t=0;
t<A;t++){var u=D*A+t,m=z[N[u]&16777215];h.data[o+t]|=m}}else if(T==4)for(var D=0;D<V;D++){var o=G+(V-1-D)*R;
for(var t=0;t<A;t++){var u=D*A+t,m=z[N[u]&16777215];h.data[o+(t>>>1)]|=m<<4-(t&1)*4}}else if(T==1)for(var D=0;
D<V;D++){var o=G+(V-1-D)*R;for(var t=0;t<A;t++){var u=D*A+t,m=z[N[u]&16777215];h.data[o+(t>>>3)]|=m<<7-(t&7)}}G+=R*V+2;
return h.data.slice(0,G).buffer}function n(S){S=new Uint8Array(S);if(j.U5(S,0)==40)return[H(S.buffer,0)];
var A=0,V=j.QN(S,A,2);A+=2;if(V!="BM"){alert("Unsupported BMP format: "+V);return}var e=j.U5(S,A);A+=4;
A+=4;var d=j.U5(S,A);A+=4;return[H(S.buffer,A,d)]}function H(S,A,V){S=new Uint8Array(S);var e=j.U5(S,A),d=Q(S,A+4);
if(d.a2!=1)alert("unsupported number of color planes: "+d.a2);if(d.M1!=0&&d.M1!=1&&d.M1!=2&&d.M1!=3){alert("Unsupported BMP compression: "+d.M1);
return}A+=e;var N=A,b=S;if(V==null)V=A;if(d.M1==1||d.M1==2){var z=c(S,V,d);d.HQ=8;S=z;V=0}var v=4*Math.floor((d.HQ*d.pV+31)/32),T=d.pV,Y=Math.abs(d.WZ),g=new Uint8Array(T*Y*4);
g.fill(255);if(d.HQ==32)for(var R=0;R<Y;R++){var h=V+(Y-1-R)*v;for(var E=0;E<T;E++){var G=(R*T+E)*4;
g[G]=S[h+E*4+2];g[G+1]=S[h+E*4+1];g[G+2]=S[h+E*4+0];g[G+3]=S[h+E*4+3]}}else if(d.HQ==24)for(var R=0;
R<Y;R++){var h=V+(Y-1-R)*v;for(var E=0;E<T;E++){var G=(R*T+E)*4;g[G]=S[h+E*3+2];g[G+1]=S[h+E*3+1];g[G+2]=S[h+E*3+0]}}else if(d.HQ==16)for(var R=0;
R<Y;R++){var h=V+(Y-1-R)*v;for(var E=0;E<T;E++){var G=(R*T+E)*4,k=S[h+E*2+1]<<8|S[h+E*2];g[G]=(k>>>11)*(255/31);
g[G+1]=(k>>>5&63)*(255/63);g[G+2]=(k&31)*(255/31)}}else if(d.HQ==8)for(var R=0;R<Y;R++){var h=V+(Y-1-R)*v;
for(var E=0;E<T;E++){var G=(R*T+E)*4,$=S[h+E];g[G]=b[N+4*$+2];g[G+1]=b[N+4*$+1];g[G+2]=b[N+4*$+0]}}else if(d.HQ==4)for(var R=0;
R<Y;R++){var h=V+(Y-1-R)*v;for(var E=0;E<T;E++){var G=(R*T+E)*4,$=S[h+(E>>1)];$=$>>4-4*(E&1);$=$&15;
g[G]=b[N+4*$+2];g[G+1]=b[N+4*$+1];g[G+2]=b[N+4*$+0]}}else if(d.HQ==1)for(var R=0;R<Y;R++){var h=V+(Y-1-R)*v;
for(var E=0;E<T;E++){var G=(R*T+E)*4,p=S[h+(E>>3)];p=p>>7-(E&7);p=p&1;g[G]=b[N+4*p+2];g[G+1]=b[N+4*p+1];
g[G+2]=b[N+4*p+0]}}else throw"Unknown bit depth "+d.HQ;if(d.WZ<0){var X=new Uint32Array(g.buffer),C=Y>>>1;
for(var R=0;R<C;R++){var D=R*T,o=(Y-R-1)*T;for(var E=0;E<T;E++){var t=X[D+E];X[D+E]=X[o+E];X[o+E]=t}}}return{Zg:new cr(0,0,T,Y),data:g.buffer}}function y(S,l){return S>>>4-((l&1)<<2)&15}function c(S,A,V){var e=V.pV,d=Math.abs(V.WZ),N=new Uint8Array(e*d),b=0,z=0,l=0;
while(z<d){var v=S[A++],T=S[A++],Y=z*e+b;if(v>0){if(V.HQ==4)for(l=0;l<v;l++){N[Y+l]=y(T,l)}else for(l=0;
l<v;l++){N[Y+l]=T}b+=v}else if(v==0&&T==0){z++;b=0}else if(v==0&&T==1){break}else if(v==0&&T==2){b+=S[A++];
z+=S[A++]}else{var g=T;if(V.HQ==4){for(l=0;l<T;l++){N[Y+l]=y(S[A+(l>>>1)],l)}g=Math.ceil(T/2)}else{for(l=0;
l<T;l++){N[Y+l]=S[A+l]}}if((g&1)!=0)g++;A+=g;b+=T}}return N}function Q(S,A){var V=j.Hr,e=j.U5,d=j.eX,N={};
N.pV=V(S,A);A+=4;N.WZ=V(S,A);A+=4;N.a2=d(S,A);A+=2;N.HQ=d(S,A);A+=2;N.M1=e(S,A);A+=4;N.size=e(S,A);A+=4;
var b=V(S,A);A+=4;var z=V(S,A);A+=4;N.ayP=e(S,A);A+=4;A+=4;return N}function q(S,A,V,e){j.QU(S,A,V.pV);
A+=4;j.QU(S,A,V.WZ);A+=4;j.k5(S,A,V.a2);A+=2;j.k5(S,A,V.HQ);A+=2;j.QU(S,A,V.M1);A+=4;j.QU(S,A,V.size);
A+=4;j.QU(S,A,2834);A+=4;j.QU(S,A,2834);A+=4;j.QU(S,A,V.ayP);A+=4;A+=4}return{_N:n,vd:w,axl:H}}();cb.fh={};
cb.fh.vd=function(w,n,H,y){if(y==null)y=[100,!1,0,0,0,0];var c=[],Q=[],q=n*H*4,v=null;for(var S=0;S<w.length;
S++){var A=new Uint8Array(w[S][0].slice(0));for(var l=0;l<q;l+=4){var V=A[l+3]=A[l+3]>127?255:0;if(V==0)A[l]=A[l+1]=A[l+2]=0}c.push(A.buffer);
Q.push(w[S][1])}var e=Math.round(2+254*y[0]/100),d=UPNG.encode.compress(c,n,H,e,[!0,!1,!1,8,!1,y[1]]),N=d.plte,b=new Uint8Array(4),z=new Uint32Array(b.buffer);
for(var l=0;l<N.length;l++){z[0]=N[l];var T=b[0];b[0]=b[2];b[2]=T;N[l]=z[0];if(z[0]==0)v=l}while(N.length<256)N.push(0);
var Y=new Uint8Array(2e4+Math.round(1.5*n*H*w.length)),g=y[3],R={palette:N};if(g!=1)R.loop=g==0?0:g-1;
var h=new GifWriter(Y,n,H,R);for(var l=0;l<w.length;l++){var E=d.frames[l],G=E.rect,k=E.blend,$=E.dispose,p=Math.round(Q[l]/10);
if(p<2)p=2;h.addFrame(G.x,G.y,G.width,G.height,E.img,{transparent:v,disposal:$+1,delay:p})}return Y.slice(0,h.end()).buffer};
cb.fh._N=function(w){var n=Date.now(),H=[],y=UGIF.decode(w),c=UGIF.toRGBA8(y),Q=new cr(0,0,y.width,y.height);
for(var l=0;l<c.length;l++){var q=y.frames[l];H.push({Zg:Q.clone(),$E:"_a_frm"+l+","+q.delay*10,data:c[l]})}return H};
cb.h7={};cb.h7.vd=function(w,n,H,y){console.log(w);if(n>256||H>256){alert("Maximum ICO size is 256x256 px. Will be cropped.",4e3);
var c=Math.min(n,256),Q=Math.min(H,256),q=new cr(0,0,c,Q),S=O.R(q.O()*4),A=new cr(0,0,n,H),V=new Uint8Array(w[0][0]);
O.j1(V,A,S,q);w[0][0]=S.buffer;n=c;H=Q}var e=new cJ,d=0,N=y&&y[0]==!0;j.t1(e,d,0);d+=2;j.t1(e,d,N?2:1);
d+=2;j.t1(e,d,1);d+=2;var b=new Uint8Array(cb.Mn("png").vd(w,n,H));e.ED(d,16);e.data[d]=n==256?0:n;d++;
e.data[d]=H==256?0:H;d++;d+=2;j.t1(e,d,N?Math.round(n/2):1);d+=2;j.t1(e,d,N?Math.round(H/2):32);d+=2;
j.Uk(e,d,b.length);d+=4;j.Uk(e,d,6+16);d+=4;e.ED(d,b.length);for(var l=0;l<b.length;l++)e.data[d+l]=b[l];
d+=b.length;var z=new Uint8Array(d);for(var l=0;l<d;l++)z[l]=e.data[l];return z.buffer};cb.h7._N=function(w){w=new Uint8Array(w);
var n=4,H=j.eX(w,n);n+=2;var y=[];for(var l=0;l<H;l++){var c=cb.h7.a0V(w,n+l*16),Q=w.buffer.slice(c.offset,c.offset+c.size),q=cb.mj(Q);
q=q?q:"bmp";if(q=="png"){var S=cb.Mn(q),A=S._N(Q);c.Ka=A[0]}else{var V=cb.Mn("BMP").axl(Q,0),Q=O.R(c.pV*c.WZ*4);
O.j1(new Uint8Array(V.data),new cr(0,0,V.Zg.m,V.Zg.e),Q,new cr(0,c.WZ,c.pV,c.WZ));V.data=Q.buffer;V.Zg.e=c.WZ;
c.Ka=V}y.push(c)}y.sort(function(e,d){if(e.pV!=d.pV)return e.pV-d.pV;return e.aec-d.aec});return[y.pop().Ka]};
cb.h7.a0V=function(w,n){var H={};H.pV=w[n];n++;if(H.pV==0)H.pV=256;H.WZ=w[n];n++;if(H.WZ==0)H.WZ=256;
H.atD=w[n];n++;n++;H.a3k=j.eX(w,n);n+=2;H.aec=j.eX(w,n);n+=2;H.size=j.U5(w,n);n+=4;H.offset=j.U5(w,n);
n+=4;return H};cb.O3={};cb.O3._N=function(w){var n=Date.now(),y,G=!0;if(O.raw.c7(w.byteLength))return[O.raw.a1T(w)];
var H=UTIF.decode(w);if(H[0].t33421)y=H[0];else if(H[0].subIFD&&H[0].t271&&H[0].t271[0]=="Hasselblad"){y=H[0].subIFD[0];
y.t33421=[2,2]}else if(H[0].subIFD&&H[0].subIFD[0].t33421){y=H[0].subIFD[0];if(y.t50706==null){if(y.t258[0]==8)y.t258[0]=12}}else if(H[0].subIFD&&H[0].subIFD[0]&&H[0].subIFD[0].t262&&H[0].subIFD[0].t262[0]==34892)y=H[0].subIFD[0];
else if(H[0].t50706)y=H[0];else if(H[0].subIFD&&H[0].subIFD[1]&&H[0].subIFD[1].t33421)y=H[0].subIFD[1];
else if(H[0].subIFD&&H[0].subIFD[2]&&H[0].subIFD[2].t33421)y=H[0].subIFD[2];else if(H[3]&&H[3].t50648){var c=H[0].exifIFD,Q=c.makerNote;
y=H[3];var q=Q.t224[1],S=Q.t224[2];y.t256=[q];y.t257=[S];y.t258=[16];y.t259=[7];y.t262=[32803];y.t277=[1];
y.t33421=[2,2];var A=y.t50656[0],V=O.raw.qO[A];if(V==null)throw"e";y.t33422=V}else if(H[0].t1&&H[0].t1.length==4){var e=H[0],d={2:256,3:257,8:277,11:259,271:271,272:272,279:279,280:273,278:278};
y={};for(var N in d)if(e["t"+N])y["t"+d[N]]=e["t"+N];y.t2=e.t2;y.t3=e.t3;y.t10=e.t10;y.t45=e.t45;y.t258=[16];
y.t33421=[2,2];var b=e.t9[0];y.t33422=[[0,1,1,2],[1,0,2,1],[1,2,0,1],[2,1,1,0]][b-1];var z=e.t4[0],v=e.t5[0],T=e.t6[0],Y=e.t7[0];
y.t50829=[z,v,T,Y];var g=e.t36[0],R=e.t37[0],h=e.t38[0];y.t50728=[R/g,R/R,R/h]}if(y){UTIF.decodeImage(w,y,H);
for(var E in H[0])if((E[0]=="t"||E[0]=="e"||E[0]=="d")&&y[E]==null)y[E]=H[0][E];y.Ki=H[0].t274?H[0].t274[0]:1;
return[y]}var k=1/256;for(var l=0;l<H.length;l++)if(H[l].t258&&H[l].t258[0]==16&&H[l].t277&&H[l].t277[0]==1){}else G=!1;
if(G){var $=0,p=0,X=0;for(var l=0;l<H.length;l++){UTIF.decodeImage(w,H[l],H);var C=H[l].data;for(var D=0;
D<C.length;D+=2){var o=C[D+1]<<8|C[D];if(o>$)$=o;p+=o;X++}}k=1/256*65535/(.5*$+.5*(2*p/X))}var t=[];
for(var l=0;l<H.length;l++){var u=H[l],m=72;UTIF.decodeImage(w,u,H);var U=u.t282,I=u.t296;if(U!=null&&I!=null){m=U[0][0]/U[0][1];
if(I[0]==3)m=Math.round(m/2.54)}if(u.width==null)continue;var x=UTIF.toRGBA8(u,k).buffer,J=ka.XA(u);
console.log(u);t.push({Zg:new cr(0,0,u.width,u.height),data:x,uP:m,zN:J,KN:u.t34675?u.t34675.slice(0):null})}return t};
cb.O3.vd=function(w,n,H,y){if(y==null)y=[!1];var c={},Q=w[0];if(Q[3]!=null&&y[0])c=ka.Po(Q[3]);if(Q[2]!=null){c.t282=c.t283=[[Math.round(Q[2]),1]];
c.t296=[2]}return UTIF.encodeImage(Q[0],n,H,c)};cb.X9={};cb.X9.ht=!0;cb.X9._N=function(w,n){hb.V2(w,n)};
cb.X9.ate=function(w,n,H,y){if(y==null)y=[!1,!1,!1,!1];if(!y[0])w.E$();var c=new cJ,Q=hb.hc(w,c,y);return[c.data.buffer,Q]};
cb.X9.vd=function(w,n,H,y){var c=cb.X9.ate(w,n,H,y),Q=c[0],q=c[1];return Q.byteLength==q?Q:Q.slice(0,q)};
cb.Ah={};cb.Ah.ht=!0;cb.Ah._N=function(w,n){var H=pako.inflate(new Uint8Array(w)),y=j.kH(H,0),c=j.kH(H,2),Q=4;
n.m=j.s(H,Q);Q+=4;n.e=j.s(H,Q);Q+=4;n.buffer=O.R(n.m*n.e*4);var q=j.kH(H,Q);Q+=2;Q+=4;for(var S=0;S<q;
S++){var A=n.mX(),z=0,m=1,U=2,I=3,x=0;n.B.push(A);var V=j.s(H,Q);Q+=4;var e=Q,d=j.kH(H,e);e+=2;var N=j.NR(H,e,d);
e+=d;A.nY(N);var b=H[e];e++;if(b!=0&&b!=1)throw b;A.rect.x=j.sI(H,e);e+=4;A.rect.y=j.sI(H,e);e+=4;A.rect.m=j.s(H,e);
e+=4;A.rect.e=j.s(H,e);e+=4;if(y>3){z=j.sI(H,e);e+=4}A.opacity=Math.round(255*H[e]/100);e++;var v=H[e];
e++;A.WH(v!=0);A.UM="norm,lddg,norm,dark,diff,norm,hLit,norm,norm,lite,mul ,over,scrn,fsub".split(",")[H[e]];
e++;var T=H[e];e++;if(T)A.add.lspf=1<<31;if(y>3){var Y=j.kH(H,e);e+=2;if(Y!=0){var g=JSON.parse(j.NR(H,e,Y));
e+=Y;var R=g.text,h=g.textSettings,E=h.font,G=h.size,k=h.padding,$=parseInt(h.color.slice(1),16);A.add.lnsr="rend";
A.add.TySh=j1.d2(0,0);A.add.TySh.oo=new cr(0,0,100,100);var p=A.add.TySh.D=new b7,X=A.rect.m/2,C=A.rect.e/2;
p.translate(-X,-C);p.rotate(-z*Math.PI/180);p.translate(X,C);p.translate(A.rect.x+k,A.rect.y+k);var D=A.add.TySh.EB;
j1.mn(D,1);j1.wr(D,[0,0,A.rect.m-k*2,A.rect.e]);j1.Uq(D,0,R);var o=j1.ni(D,0,1);o.tq.FontSize=G;o.tq.FillColor={Type:1,Values:[1,($>>>16&255)/255,($>>>8&255)/255,($>>>0&255)/255]};
if(h.bold)E+="-Bold";j1.Ho(o,E);o.AW.Justification=["left","right","center"].indexOf(h.align);j1.Xe(D,0,R.length,o)}}var t=j.s(H,e);
e+=4;if(t!=A.rect.O()*4){for(var l=A.rect.m;l>A.rect.m/2;l--){var u=t/(l*4);if(u==Math.round(u)){A.rect.m=l;
A.rect.e=u;break}}}A.buffer=O.R(A.rect.O()*4);if(y>3){m=0;U=1;I=2;x=3}for(var l=0;l<t;l+=4){A.buffer[l]=H[e+l+m];
A.buffer[l+1]=H[e+l+U];A.buffer[l+2]=H[e+l+I];A.buffer[l+3]=H[e+l+x]}e+=t;var J=j.s(H,e);e+=4;if(J==0&&y>3){Q+=V;
continue}var r=H[e];e++;var Z=j.kH(H,e);e+=2;if(J!=0){A.z=new a.ZV;A.z.rect=A.rect.clone();A.z.channel=O.R(A.rect.O());
for(var l=0;l<J;l+=4)A.z.channel[l>>>2]=H[e+l+1];e+=J}if(r!=0){var f=JSON.parse(d5.default);A.add.lmfx=f;
for(var l=0;l<d5.order.length;l++)f[d5.tS[l]]={t:"VlLs",v:[]};var F={"102":9,"101":2,"103":0,"104":3,"105":8};
for(var l=0;l<r;l++){var _=j.kH(H,e),K=e+_+4,B=H.slice(e,K),ij=H[e+2];e+=3;var W=F[ij+""],L=JSON.parse(d5.FK[W]);
f[d5.tS[W]].v.push({t:"Objc",v:L});if(W!=0){L.Md.v.BlnM=eS.Yf("norm");L.Opct.v.val=H[e];e++;if(W==9||W==2){L.Dstn.v.val=H[e+1];
e+=2}else e+=2;L.blur.v.val=Math.round(H[e]*1.2);e++;if(W==9||W==2){L.uglg.v=!1;L.lagl.v.val=180-j.kH(H,e);
e+=2}L.Clr.v=O.M.Yw({b:H[e+1],J:H[e+2],k:H[e+3]})}else{L.hglM.v.BlnM=L.sdwM.v.BlnM=eS.Yf("norm");e+=2;
var i=H[e++],e3=H[e++];L.blur.v.val=Math.round(Math.sqrt(e3*i)*1.3);L.srgR.v.val=Math.round(100*i/e3);
L.uglg.v=!1;L.lagl.v.val=180-j.kH(H,e);e+=2;L.hglO.v.val=H[e++];L.hglC.v=O.M.Yw({b:H[e+1],J:H[e+2],k:H[e+3]});
e+=4;L.sdwO.v.val=H[e++];L.sdwC.v=O.M.Yw({b:H[e+1],J:H[e+2],k:H[e+3]});e+=4}e=K}}if(e-Q<V){var eE=j.s(H,e),bl=0;
e+=4;e++;var d=j.kH(H,e);e+=2;var R=j.NR(H,e,d);e+=d;R=R.replace(/\r/g,"\n");var d=j.kH(H,e);e+=2;var E=j.NR(H,e,d);
e+=d;var G=j.kH(H,e);e+=2;var ec=A.rect.x,gw=A.rect.m;if(eE&4)bl=1;if(eE&2)bl=2;var cD=Math.round(G*.4);
if(bl==0||bl==2)gw+=cD;if(bl==1||bl==2){gw+=cD;ec-=cD}A.add.lnsr="rend";A.add.TySh=j1.d2(0,0);A.add.TySh.oo=new cr(0,0,100,100);
A.add.TySh.D=new b7(1,0,0,1,ec,A.rect.y+G*.25);var D=A.add.TySh.EB;j1.mn(D,1);j1.wr(D,[0,0,gw,A.rect.e]);
j1.Uq(D,0,R);var o=j1.ni(D,0,1);o.tq.FontSize=G;o.tq.FillColor={Type:1,Values:[1,H[e+1]/255,H[e+2]/255,H[e+3]/255]};
e+=4;if(H[e+5])E+="-Bold";if(H[e+6])E+="-Italic";j1.Ho(o,E);o.AW.Justification=bl;e+=8;j1.Xe(D,0,R.length,o)}Q+=V}};
cb.sg={};cb.sg.ht=!0;cb.sg._N=function(w,n){bi.V2(w,n)};var bi=function(){function w(d,N){var b=Date.now(),z=UZIP.parse(d);
console.log(z);console.log(Date.now()-b);b=Date.now();var v=z["maindoc.xml"],T=new DOMParser,Y=T.parseFromString(j.NR(v),"image/svg+xml").children[0].children[0],g=Y.getAttribute("name"),R=N.m=V(Y,"width"),h=N.e=V(Y,"height");
N.uP=Math.round(V(Y,"x-res"));var E=Y.children[0].children;n(E,N,{bs:g,m3:z,yc:null});console.log(Date.now()-b);
b=Date.now()}function n(d,N,b){for(var z=0;z<d.length;z++){var v=d[d.length-1-z],T=v.getAttribute("nodetype");
if(T=="transparencymask"){b.yc.z=e(v,b);continue}var Y=v.getAttribute("compositeop"),g=v.getAttribute("filename"),R=v.getAttribute("channelflags"),h=v.children;
h=h.length==0?null:h[0].children;var E=N.mX();if(T=="paintlayer"){var G=V(v,"x"),k=V(v,"y"),$=b.m3[b.bs+"/layers/"+g+".defaultpixel"],p=b.m3[b.bs+"/layers/"+g],X=A(p);
E.rect=X[0];E.rect.offset(G,k);E.buffer=X[1];if(E.rect._G()&&$.join()!="0,0,0,0"){E.add.SoCo={classID:"null",Clr:{t:"Objc",v:O.M.Yw({b:$[0],J:$[1],k:$[2]})}};
E.qL(N)}}else if(T=="grouplayer"){E.add.lsct=c0.q8;E.UM="pass";E.Vg|=24;N.B.push(N.C$());var C=b.yc;
b.yc=E;n(h,N,b);b.yc=C}else if(T=="shapelayer"){var p=b.m3[b.bs+"/layers/"+g+".shapelayer/content.svg"],D=j.NR(p),o=N.rR(p,E.getName(),0,0);
E=o;var t=new cr(0,0,N.m,N.e),u=O.p.u3(t).w;E.add.SoLd.Trnf=P.WJ.w2(u);E.add.SoLd.nonAffineTransform=P.WJ.w2(u);
E.W0(N,!1)}else if(T=="clonelayer"){var l=-1;for(var m=0;m<d.length;m++)if(d[m].getAttribute("name")==v.getAttribute("clonefrom"))l=m;
if(l!=-1){n([d[l]],N,b);E=N.B.pop()}}else console.log(T,v);E.nY(v.getAttribute("name"));if(V(v,"locked")==1)E.add.lspf=1<<31;
E.WH(V(v,"visible")==1);var U={normal:"norm",multiply:"mul ",diff:"diff",hard_light:"hLit"}[Y];if(U)E.UM=U;
else console.log(Y);E.opacity=V(v,"opacity");if(R=="1110")E.Ak=!0;var I=h?h[0]:null;if(I&&I.tagName=="mask")E.z=e(I,b);
N.B.push(E)}}function H(d,N){var b=0,z=0,v=d.length,T,Y,g;while(b<v){T=d[b++];if(T>31){Y=T>>>5;if(Y==7)Y=7+d[b++];
g=(T&31)<<8|d[b++];var R=z-g-1,h=Y>>>1;N[z++]=N[R++];N[z++]=N[R++];for(var l=0;l<h;l++){N[z++]=N[R++];
N[z++]=N[R++]}if((Y&1)==1)N[z++]=N[R++]}else{for(var l=0;l<=T;l++){N[z++]=d[b++]}}}}function y(d,N){var b=0;
while(d[N+b]!=10)b++;return j.QN(d,N,b)}var c=new cr(0,0,64,64),Q=new Uint8Array(64*64*4),q=new Uint8Array(64*64*4);
function S(){for(var l=0;l<4096;l++){var d=l<<2;Q[d+0]=q[l+8192];Q[d+1]=q[l+4096];Q[d+2]=q[l];Q[d+3]=q[l+12288]}}function A(d){var N=0,b={};
for(var l=0;l<5;l++){var z=y(d,N);N+=z.length+1;z=z.split(" ");b[z[0]]=parseInt(z[1])}var v=b.PIXELSIZE,T=[],Y=new cr;
while(N<d.length){var z=y(d,N),g=z.split(",");N+=z.length+1;if(g[2]!="LZF")throw g[2];c.x=parseInt(g[0]);
c.y=parseInt(g[1]);Y=Y.ld(c);var R=parseInt(g[3]);T.push([c.clone(),new Uint8Array(d.buffer,N+1,R-1)]);
N+=R}var h=O.R(Y.O()*v);for(var l=0;l<T.length;l++){var E=T[l];H(E[1],q);if(v==4){S();O.j1(Q,E[0],h,Y)}else O.qS(q,E[0],h,Y)}return[Y,h]}function V(d,N){return parseInt(d.getAttribute(N))}function e(d,N){var b=d.getAttribute("filename"),z=N.m3[N.bs+"/layers/"+b+".pixelselection"],v=A(z),T=new a.ZV;
T.ow=V(d,"visible")==1;T.rect=v[0];T.channel=v[1];return T}return{V2:w}}();cb.WC={};cb.WC.ht=!0;cb.WC._N=function(w,n){iX.V2(w,n)};
cb.jH={};cb.jH.ht=!0;cb.jH._N=function(w,n){jx.V2(w,n)};cb.vi={};cb.vi.ht=!0;cb.vi._N=function(w,n){eP.V2(w,n)};
cb.Xx={};cb.Xx.ht=!0;cb.Xx._N=function(w,n){it.V2(w,n)};cb.j3={};cb.j3.ht=!0;cb.j3._N=function(w,n){hC.V2(w,n)};
cb.zH={};cb.zH.ht=!0;cb.zH._N=function(w,n){hN.V2(w,n)};cb.oR={};cb.oR.ht=!0;cb.oR.vd=function(w,n,H,y,c){if(y==null)y=[!0,!1,!1,!1,!0];
var Q=hW.Z8(w,{uQ:y[0],hidden:y[1],ajN:y[2],aqH:y[3],Dk:y[4],ayk:n,a95:H},c.KF);return Q};cb.oR._N=function(w,n,H){hW.V2(w,n,H)};
cb.yN={};cb.yN.ht=!0;cb.yN._N=function(w,n){var H=150,y=new b7(1,0,0,-1,0,0);y.scale(H/72,H/72);n.uP=H;
var c=new f$(n,y,!0);FromPS.Parse(w,c)};cb.TH={};cb.TH.ht=!0;cb.TH.vd=function(w,n,H,y,c){if(y==null)y=["",100,!1,!1,!1,0];
y[6]=["jpg"];var Q=new ToPDF;e2.Z8(w,y,Q,c.KF,n,H);return Q.buffer};cb.TH._N=function(w,n,H){var y=2;
while(!0){var c=y*72,Q=new b7(1,0,0,-1,0,0);Q.scale(c/72,c/72);n.uP=c;var q=new f$(n,Q,!0);FromPDF.Parse(w,q);
var S=Math.max(n.m,n.e);if(H&&S<Math.max(H[0],H[1])){n.B=[];var A=y;while(S*(y/A)<Math.max(H[0],H[1]))y++}else break}};
cb.Nl={};cb.Nl.ht=!0;cb.Nl._N=function(w,n){var H=72,y=new b7(1,0,0,1,0,0);y.scale(H/72,H/72);n.uP=H;
var c=new f$(n,y,!1);FromWMF.Parse(w,c)};cb.LY={};cb.LY.Gf=!0;cb.LY.ht=!0;cb.LY.vd=function(w,n,H,y,c){if(y==null)y=["",100,!1,!1,!1,0];
y[6]=[];var Q=new ToEMF;e2.Z8(w,y,Q,c.KF);return Q.buffer};cb.LY._N=function(w,n){var H=72,y=new b7(1,0,0,1,0,0);
y.scale(H/72,H/72);n.uP=H;var c=new f$(n,y,!1);FromEMF.Parse(w,c)};cb.K6={};cb.K6.ht=!0;cb.K6._N=function(w,n){return jG.V2(w,n)};
cb.sf={};cb.sf._N=function(){var w,n,H,y,c,Q,q=0,S=0,A=0,V=0,e=0;function d(v){var T=fd.V2(v),Y=T.oj,g=new Uint8Array(v),k=0,$,p;
if(Y=="ILBM")return N(T,g);var R=j.kH,h=j.s,E=T.sub,G=N(E[0],g);for(var X=1;X<E.length-2;X++){var C=G[Math.max(0,X-2)].apZ.slice(0),D=E[X];
for(var o=0;o<D.sub.length;o++){var t=D.sub[o],u=t.Q;if(t.h4=="ANHD"){var m=g[u++];if(m!=5)throw m;var y=g[u++];
u+=8;var U=R(g,u);u+=2;$=R(g,u);u+=2;u++;u++;p=R(g,u);u+=2}else if(t.h4=="DLTA"){var I=[],x=u;for(var l=0;
l<16;l++)I.push(h(g,u+l*4));u+=64;var J=Q;for(var r=0;r<c;r++){if(I[r]==0)continue;u=x+I[r];for(var Z=0;
Z<J;Z++){var f=g[u++],F=0;if(f==0)continue;for(var l=0;l<f;l++){var _=g[u++];if(_==0){var K=g[u++],B=g[u++];
for(var ij=0;ij<K;ij++){C[(F*c+r)*J+Z]=B;F++}}else if(_<128){F+=_}else{_-=128;for(var ij=0;ij<_;ij++){C[(F*c+r)*J+Z]=g[u+ij];
F++}u+=_}}}}}else console.log(t.h4)}var W=$==0?17:Math.round(($-k)*1e3/60);G.push({data:z(g,C),Zg:new cr(0,0,w,n),apZ:C,$E:"_a_frm"+X+","+W});
k=$}G[0].$E=G[1].$E;return G}function N(v,T){var Y,g;q=0;S=0;A=0;V=0;e=0;for(var R=0;R<v.sub.length;
R++){var h=v.sub[R],E=h.Q;if(h.h4=="BMHD"){var G=[];for(var l=0;l<4;l++)G[l]=j.kH(T,E+2*l);E+=8;var k=G[2],$=G[3];
w=G[0];n=G[1];H=T[E++];y=T[E++];var p=T[E++];if(p!=1)throw p;Q=w+15>>>4<<1;c=H+y}else if(h.h4=="CMAP")q=E;
else if(h.h4=="CAMG"){var X=j.s(T,E);S=X&32768,A=X&4,V=X&2048;e=X&128}else if(h.h4=="BODY"){g=O.R(Q*n*c);
ic.q9(T,E,h.size,g,0,g.length)}}Y=z(T,g);return[{Zg:new cr(0,0,w,n),data:Y.buffer,apZ:g}]}function b(v,ds){return v[ds>>>3]>>>7-(ds&7)&1}function z(v,T){var Y=H-2,g=(1<<Y)-1,R=Math.round(255/g),h,E,G,k=Q*8,$=O.R(w*n*4);
for(var p=0;p<n;p++)for(var X=0;X<w;X++){var C=0;for(var D=0;D<c;D++){var o=(p*c+D)*k+X,t=b(T,o);C|=t<<D}C=C&(1<<H)-1;
var l=p*w+X,u=l<<2;if(q!=0){if(V!=0&&C>>>Y!=0){var m=C>>>Y,U=(C&g)*R;if(m==1)G=U;else if(m==2)h=U;else if(m==3)E=U}else{var U=q+C*3;
h=v[U+0];E=v[U+1];G=v[U+2]}}else{h=C>>>0&255;E=C>>>8&255;G=C>>>16&255}$[u+0]=h;$[u+1]=E;$[u+2]=G;$[u+3]=255}return $}return d}();
cb.aZ={};cb.aZ.ht=!1;cb.aZ.vd=function(w,n,H,y){var c=w[0][4],Q=new Uint8Array(w[0][0]),q=2,S=c?!0:!1,A=S?4:3,V=new Uint8Array(n*H*A);
for(var e=0;e<H;e++)for(var d=0;d<n;d++){var N=e*n+d<<2,b=((H-e-1)*n+d)*A;V[b]=Q[N+2];V[b+1]=Q[N+1];
V[b+2]=Q[N+0];if(S)V[b+3]=c[0][e*n+d]}if(!0){var z=V.length,v=0,T=new Uint8Array(z*2),Y=0,g=0,R=n*A;
while(g<z){var h=g,E=0,G=R*(Math.floor(g/R)+1);while(h<G&&E<128){var k=!0;for(var l=0;l<A;l++)k=k&V[g+l]==V[h+l];
if(!k)break;h+=A;E++}if(E==1){var $=1;while($<128&&g+($+1)*A<G){var k=!0,p=g+$*A;for(var l=0;l<A;l++)k=k&V[p+l]==V[p+A+l];
if(k)break;$++}T[Y++]=$-1;for(var X=0;X<$;X++)for(var l=0;l<A;l++)T[Y++]=V[g++]}else{T[Y++]=127+E;for(var l=0;
l<A;l++)T[Y+l]=V[g+l];Y+=A;g+=A*E;v+=E}}V=T.slice(0,Y);q+=8}var C=new Uint8Array(18+V.length+26);C[2]=q;
j.k5(C,12,n);j.k5(C,14,H);C[16]=A*8;C[17]=A==4?8:0;C.set(V,18);j.lY(C,18+V.length+8,"TRUEVISION-XFILE.");
return C.buffer};cb.aZ._N=function(w){var n=new Uint8Array(w),H=0,y=n[0],c=n[1],Q=n[2],q=n[4]*256+n[3],S=n[6]*256+n[5],A=n[7],V=n[9]*256+n[8],e=n[11]*256+n[10],d=n[13]*256+n[12],N=n[15]*256+n[14],b=n[16],z=n[17],v=z>>>4,T=j.QN(n,18,y),Y=O.R(d*N*4),H=18+y+(S*A>>>3),g=new Uint8Array(n.buffer,H);
if(Q>3){var R=0,h=n,E=new Uint8Array(d*N*b>>>3),G=H,k=0,$=n.length,p=b>>>3;while(k<E.length){var ds=h[G];
G++;if(ds<128)for(var l=0;l<ds+1;l++){for(var X=0;X<p;X++){E[k]=h[G];k++;G++}}else{for(var l=0;l<ds-127;
l++){for(var X=0;X<p;X++){E[k]=h[G+X];k++}}G+=p}}Q-=8;g=E;H=G}else H+=d*N*b>>>3;var C=new Uint8Array(4),D=cb.aZ.ai$;
for(var o=0;o<N;o++)for(var t=0;t<d;t++){var u=(v&2)==0?(N-o-1)*d+t:o*d+t,m=o*d+t,U,I,x,J=255,r=u*b>>>3;
if(Q==1){var Z=0;if(b==8)Z=g[r];else throw"e";D(n,18+y+q+(Z*A>>>3),A,C);U=C[0];I=C[1];x=C[2];J=C[3]}else if(Q==2){D(g,r,b,C);
U=C[0];I=C[1];x=C[2];J=C[3]}else if(Q==3){if(b==8)U=I=x=g[r];else throw"e"}var f=m*4;Y[f]=U;Y[f+1]=I;
Y[f+2]=x;Y[f+3]=J}var C={Zg:new cr(0,0,d,N),data:Y.buffer,$E:T};if(O.AO(Y)){var F=O.R(d*N);O.RR(Y,F,3);
O.jZ(Y,4278190080,16777215);C.d4=[F]}return[C]};cb.aZ.ai$=function(w,n,H,y){var c,Q,q,S=255;if(H==24||H==32){q=w[n];
Q=w[n+1];c=w[n+2];if(H==32)S=w[n+3]}else if(H==16){var A=w[n+1]<<8|w[n+0];c=A>>>10&31;Q=A>>>5&31;q=A>>>0&31;
c=Math.round(c*(255/31));Q=Math.round(Q*(255/31));q=Math.round(q*(255/31))}else throw"e";y[0]=c;y[1]=Q;
y[2]=q;y[3]=S};cb.a1$=function(){var w,n=[],H=!1;function y(q,S,A,V){w=A;n.push(q,V);c()}function c(){if(H||n.length==0)return;
H=!0;cb.abS(n.shift(),"image/avif",Q)}function Q(q){w(null,[q],n.shift());H=!1;c()}return{ht:!1,AD:!0,_N:y}}();
cb.a92=function(){var w,n=[],H=!1,y,c,Q,q=10,S,A,V,e=0,N;function d(R,h,E,G,k){w=E;n.push(R,G);var $=cZ.V2(R),p=cZ.a2y($,0),X=p.tkhd,C=p.mdia.minf.stbl,D=X.duration/$.moov.mvhd.bM,o=C.stsz.length,t=Math.round(o/D);
console.log($);y=X.pV;c=X.WZ;var u=y+" \xD7 "+c+" px, "+o+" frames, "+hn.x2(y*c*4*o)+" decoded<br/>";
u+=D.toFixed(2)+" seconds, "+t+" FPS";var m=new aL(M.E.L,!0);m.data={d:M.c.rL,Ln:"setFPS",EV:q,ty:v,aoA:u};
k.S(m)}function b(){if(H||n.length==0)return;H=!0;var R=n.shift(),h=cZ.V2(R),E=cZ.a2y(h,0),G=E.tkhd,k=E.mdia.minf.stbl,$=k.stsd.a1o.avcC,p=G.duration/h.moov.mvhd.bM,X=k.stsz.length,C=Math.round(X/p),D=Math.max(1,Math.round(C/q)),u=0;
N=Date.now();y=G.pV;c=G.WZ;Q=[];S=document.createElement("canvas");A=S.getContext("2d");S.width=y;S.height=c;
var o=new Uint8Array(R),t=[],m=new VideoDecoder({output:function(J){if(u%D==0){A.drawImage(J,0,0);J.close();
var r=A.getImageData(0,0,y,c).data.buffer,Z=Q.length;Q[Z]={$E:"_a_"+Z+","+Math.round(D*1e3/C),Zg:new cr(0,0,y,c),data:r}}else J.close();
clearTimeout(e);e=setTimeout(z,100);u++},error:function(J){console.log(J.message)}});m.configure({codec:"avc1.640034",codedWidth:y,codedHeight:c,description:o.slice($.Q,$.Q+$.uv)});
for(var l=0;l<X;l++){var U=cZ.a48(h,0,l),I=new Uint8Array(R,U[0],U[1]),x=new EncodedVideoChunk({timestamp:l,duration:1e3,type:l==0?"key":"delta",data:I});
m.decode(x)}}function z(){w(null,Q,n.shift());H=!1;console.log(Date.now()-N);b()}function v(R){q=Math.max(1,Math.min(60,R));
if(window.VideoDecoder)b();else T()}function T(){if(H||n.length==0)return;H=!0;S=document.createElement("canvas");
A=S.getContext("2d");V=document.createElement("video");var R="data:"+"video/mp4"+";base64,"+cb.i$(n.shift());
V.src=R;V.muted=!0;V.currentTime=0;V.addEventListener("canplay",Y,!1);V.addEventListener("timeupdate",g,!1)}function Y(R){V.removeEventListener("canplay",Y);
y=S.width=V.videoWidth;c=S.height=V.videoHeight;Q=[];V.play()}function g(R){clearTimeout(e);A.drawImage(V,0,0);
Q.push({$E:"_a_"+Q.length+","+Math.round(1e3/q),Zg:new cr(0,0,y,c),data:A.getImageData(0,0,y,c).data.buffer});
var h=V.currentTime+1/q;if(h<V.duration&&R){V.currentTime=h;e=setTimeout(g,1e3)}else{w(null,Q,n.shift());
V.removeEventListener("timeupdate",g);H=!1;T();Q=null}}return{ht:!1,AD:!0,_N:d}}();cb.fG={};cb.fG._N=function(w){var n=new Uint8Array(w),H=0,y=112,c=42,Q=j.U5,e;
H+=8;var q=n[H];H++;if(q!=c)throw"e";var S=Q(n,H);H+=4;var A=j.cS(n,H,S);H+=S*2;var V=[];while(H<n.length){e=Q(n,H);
H+=4;if(e!=y)throw e;H+=4;e=n[H];H++;if(e!=c)throw e;var d=Q(n,H);H+=4;var N=n[H];H++;if(N!=c){H-=5;
d=Q(n,H);H+=8;e=n[H];H++;if(e!=c)throw e}var b=Q(n,H)*2;H+=4;if(d>0)V.push(H+b);H+=b+d}var z=new DOMParser,v=z.parseFromString(A,"image/svg+xml").firstChild.firstChild,T=[];
cb.fG.ep(v,n,V,T);return T};cb.fG.ep=function(w,n,H,y){var c=w.firstChild.firstChild;if(c.tagName=="Image"){var Q=c.getElementsByTagName("ImageDescription")[0],q=Q.children[0].children,S=Q.children[1].children,A=H.shift(),V=[];
for(var l=0;l<S.length;l++)V.push(parseInt(S[l].getAttribute("NumberOfElements")));while(V.length>3)V[2]*=V.pop();
var e=q.length,d=V[0],N=V[1],b=V[2],z=parseInt(S[0].getAttribute("BytesInc"));for(var v=0;v<b;v++){var T=O.R(d*N*4);
O.jZ(T,4278190080);for(var Y=0;Y<e;Y++){var g=O.R(d*N);if(z==1)for(var R=0;R<g.length;R++)g[R]=n[A+R];
else if(z==2)for(var R=0;R<g.length;R++)g[R]=Math.min(255,(n[A+R*2+1]<<8|n[A+R*2])>>>2);else throw z;
if(Y!=3)O.o2(g,T,Y);if(e==1){O.o2(g,T,1);O.o2(g,T,2)}A+=d*N*z}y.push({Zg:new cr(0,0,d,N),data:T.buffer})}}else{var h=w.children,E=0;
while(E<h.length&&h[E].tagName!="Children")E++;if(E==h.length)throw"e";h=h[E].children;for(var G=0;G<h.length;
G++)cb.fG.ep(h[G],n,H,y)}};cb.a24=function(){function w(q,S,A,V,e){var d=new Int8Array(q.buffer),N=new Int8Array(V.buffer),b=S+A;
while(S<b){var ds=d[S];S++;if(ds>=0&&ds<128)for(var l=0;l<ds+1;l++){N[e]=d[S];e++;S++}if(ds>=-127&&ds<0){for(var l=0;
l<-ds+1;l++){N[e]=d[S];e++}S++}}return e}function n(q,S,A,V,e,d){var N=S*A*V>>>3,b=O.R(N*e),z=y(q,0,0)[0];
for(var v=0;v<e;v++){var T=z[v+1];if(d){var Y=cb.Mn("jpg")._N(T.buffer),g=O.R(N);O._i(new Uint8Array(Y[0].data),g);
b.set(g,N*v)}else if(T[0]==255&&T[1]==216&&T[2]==255){var R=UTIF.LosslessJpegDecode(T);b.set(new Uint8Array(R.buffer),N*v)}else w(T,64,T.length,b,N*v)}return b}function H(q){var S=new Uint8Array(q),A=0,V=j.QN(S,0,128);
A+=128;var e=j.QN(S,A,4);A+=4;var d=c(S,A,0)[0],N=d.g28;if(N==null){alert("No image.");return[]}var b=N.cols,z=N.rows,v=b*z,T=N.photoInterpret,Y=N.bitsAlloc,g=N.bitsStored,R=N.lossyCompr;
if(R==null)R=d.g8.lossyCompr;var h=d.g7fe0.pixelData,E=N.numOfFrames;E=E?parseInt(E):1;var G=new Uint8Array(h.buffer),k=v*Y>>>3;
if(G.length!=k*E){h=n(h,b,z,Y,E,R)}else{}if(Y==16)h=new Uint16Array(h.buffer);console.log(N);console.log(d);
var $=[];for(var p=0;p<E;p++){var X=p*k,q=O.R(b*z*4);q.fill(255);if(T=="MONOCHROME2"){var C=0,D=255,o=N.largestValue,t=N.smallestValue;
if(o!=null){D=o;C=t}else if(g!=8){D=0;C=1e9;for(var l=0;l<v;l++){var u=h[X+l];if(u>1<<g-8){if(u>D)D=u;
if(u<C)C=u}}}var m=255/(D-C);for(var l=0;l<v;l++){var u=Math.max(0,Math.min(255,(h[X+l]-C)*m)),U=l*4;
q[U]=q[U+1]=q[U+2]=u}}else if(T=="PALETTE COLOR"){var I=N.pltRed,x=N.pltGreen,J=N.pltBlue;for(var l=0;
l<v;l++){var r=h[X+l],U=l*4;q[U]=I[r]>>>8;q[U+1]=x[r]>>>8;q[U+2]=J[r]>>>8}}else throw T;$.push({Zg:new cr(0,0,b,z),data:q.buffer})}return $}function y(q,S,A){var V=j.eX,e=j.DH,d=j.U5,N=[],b=S;
while(S<q.length){var z=V(q,S);S+=2;var v=V(q,S);S+=2;var T=d(q,S);S+=4;if(z==65534&&v==57344){if(T==4294967295){var Y=c(q,S,A+1);
N.push(Y[0]);S=Y[1]}else{N.push(q.slice(S,S+T));S+=T}}else if(z==65534&&v==57357){}else if(z==65534&&v==57565)break;
else throw"e"}return[N,S]}function c(q,S,A){var V=j.eX,e=j.DH,d=j.U5,N={},b="\t".repeat(A);while(S<q.length){var z=V(q,S),g="",R=0,E=null;
S+=2;var v=V(q,S);S+=2;var T=z.toString(16),Y=v.toString(16);if(z==65532)break;if(z==65534&&v==57357){S-=4;
break}if(z==65534&&v==57565)throw"e";if(v==0){S+=8;continue}if(65<=q[S+1]){g=j.QN(q,S,2);S+=2;if(g=="OB"||g=="SQ"||g=="OW"){R=d(q,S+2);
S+=6}else{R=V(q,S);S+=2}}else{g=Q[T][Y].split(",")[1];R=d(q,S);S+=4}var h=Q[T][Y];if(h)h=h.split(",")[0];
if(h==null){h="t"+Y}if(g=="SQ"){var G=y(q,S,A);E=G[0];S=G[1];R=0}else if(g=="US")E=V(q,S);else if(g=="SS")E=e(q,S);
else if(g=="UL")E=d(q,S);else if(g=="FL")E=j.ci(q,S);else if(g=="AT")E=[V(q,S),V(q,S+2)];else if(g=="OB")E=q.slice(S,S+R);
else if(g=="OW")E=new Uint16Array(q.slice(S,S+R).buffer);else if("UI CS DA TM DT SH LO ST LT PN AE AS DS IS".split(" ").indexOf(g)!=-1){var k=S+R;
while(q[k-1]==0)k--;E=j.QN(q,S,k-S).trim()}else{console.log(b,JSON.stringify(j.QN(q,S,Math.min(R,32))));
throw g}if(N["g"+T]==null)N["g"+T]={};N["g"+T][h]=E;S+=R}return[N,S]}var Q={"2":{"1":"fmiVersion","2":"classUID","3":"instanceUID","10":"syntaxUID","12":"icUID","13":"implVerName","16":"appTitle"},"4":{"1130":"fileSetID"},"8":{"5":"charSet","8":"imageType,CS","16":"classUID,UI","18":"instanceUID,UI","20":"studyDate","21":"seriesDate","22":"acqDate","23":"contentDate","2a":"acqDateTime","30":"studyTime","32":"acqTime","33":"contentTime","50":"accNumber","60":"modality,CS","64":"convType,CS","70":"manufacturer","80":"institutionName","81":"institutionAddress","90":"rpName","1010":"stationName","1030":"studyDescription","103e":"seriesDesc","1050":"ppName","1090":"modelName","1150":"rclassUID","1155":"rinstanceUID","2110":"lossyCompr","2112":"imageSequence"},"9":{},"10":{"10":"patientName,PN","20":"patientID,LO","30":"patientBirthDate","40":"patientSex","1010":"patientAge"},"18":{"60":"KVP","1020":"swVersion","1063":"frameTime","1150":"expTime","1151":"xrayTubeCurrent","1152":"exposure","1155":"radiation","1500":"posMotion","1510":"posAngle0","1511":"posAngle1"},"19":{},"20":{d:"studyUID,UI",e:"seriesUID,UI","10":"studyID","11":"seriesNumber","12":"acqNumber,IS","13":"instanceNumber,IS","20":"patientOrientation"},"21":{},"28":{"2":"spp,US","4":"photoInterpret,CS","8":"numOfFrames","9":"frameIncPointer","10":"rows,US","11":"cols,US","30":"pixelSpacing","100":"bitsAlloc,US","101":"bitsStored,US","102":"highBit,US","103":"pixRepresentation,US","106":"smallestValue","107":"largestValue","120":"pixPaddingValue","1040":"pixIntensityRelation","1050":"windCenter","1051":"windWidth","1090":"viewMode","1101":"pdRed","1102":"pdGreen","1103":"pdBlue","1199":"paletteUID","1201":"pltRed","1202":"pltGreen","1203":"pltBlue","2110":"lossyCompr","6010":"repFrameNum","6020":"foi","6022":"foiDescription","6040":"rWavePointer","6100":"maskSubtraction","6101":"maskOp","6110":"maskFrameNum"},"29":{},"37":{},"50":{"4":"calibImage"},"5000":{"5":"curveDim","10":"numOfPoints","20":"typeOfData","30":"axisUnits","103":"dataValRepr","104":"minCrdValue","105":"maxCrdValue","106":"curveRange","110":"curveDataDesc","112":"crdStartValue","114":"crdStepValue","3000":"curveData"},"7fe0":{"10":"pixelData,OB"}};
return{_N:H}}();cb.FB={};cb.FB._N=function(w){var n=new Uint8Array(w),H=0,y={},e=1e9;for(var l=0;l<306;
l++){var c=j.QN(n,H,8).trim(),Q=j.QN(n,H+9,71).split("/")[0].trim();y[c]=Q;H+=80;if(c=="END"){H=Math.ceil(H/2880)*2880;
break}}var q=parseInt(y.NAXIS1),S=parseInt(y.NAXIS2),A=q*S,V=parseInt(y.BITPIX),d=-1e9,N=new Float32Array(A),b=new Float32Array(w,H,w.byteLength-H>>>2);
for(var l=0;l<A;l++){var z=l<<2,v=l<<1;if(V==-32){var T=n[H+z+0];n[H+z+0]=n[H+z+3];n[H+z+3]=T;var T=n[H+z+1];
n[H+z+1]=n[H+z+2];n[H+z+2]=T;N[l]=b[l]}else if(V==16){N[l]=j.eX(n,H+v)}else throw V;var Y=N[l];if(Y<e)e=Y;
if(Y>d)d=Y}var g=O.R(A*4),R=1/d;for(var h=0;h<S;h++)for(var E=0;E<q;E++){var l=h*q+E,G=(S-h-1)*q+E,z=G<<2,Y=N[l]*R;
g[z]=g[z+1]=g[z+2]=255*Y;g[z+3]=255}return[{Zg:new cr(0,0,q,S),data:g,$E:y.OBJECT}]};cb.CK={};cb.CK._N=function(w){var n=new Uint8Array(w),H=16,y=j.QN(n,H,4),Q=32,Y=0,g=0,R=!1,I;
H+=4;var c=j.QN(n,H,8);H+=8;while(n[H+Q-1]==0)Q--;var q=j.QN(n,H,Q);H+=32;var S=j.QN(n,H,4);H+=4;H+=20;
var A=j.s(n,H);H+=4;var V=j.s(n,H);H+=4;var e=j.s(n,H);H+=4;var d=j.s(n,H);H+=4;var N=j.s(n,H);H+=4;
var b=j.s(n,H);H+=4;var z="FujiFilm "+q,v=[0,1,1,2];if(z=="FujiFilm X10"){z="FujiFilm FinePix X10";v=[2,1,1,0]}var T={t271:["FujiFilm"],t272:[z],t277:[1],t33421:[2,2],t33422:v,Ki:1};
H=e;var h=[],E=j.kH,G=j.s(n,H);H+=4;for(var l=0;l<G;l++){var k=E(n,H);H+=2;var $=E(n,H);H+=2;if(k==256){g=E(n,H);
Y=E(n,H+2)}else if(k==272){h=[E(n,H),E(n,H+2)]}else if(k==273){h.push(E(n,H),E(n,H+2))}else if(k==304){R=!(n[H]>>>7)}else if(k==305){var p=Math.round(Math.sqrt($)),X=[];
for(var C=0;C<$;C++)X.push(n[H+C]);X.reverse();T.t33421=[p,p];T.t33422=X}else if(k==12272){var D=E(n,H),o=E(n,H+2),t=E(n,H+6);
T.t50728=[D/o,1,D/t]}H+=$}var u=Y<g,m=n.slice(N,N+b),U=Math.round(b*8/(Y*g));if(m[0]==73&&m[1]==73&&m[2]==42){I=UTIF.decode(m.buffer)[0].fujiIFD;
U=I.t61443[0];var x=I.t61454,J=I.t61450;if(J)T.t50714=J;if(x)T.t50728=[x[0]/x[1],1,x[0]/x[2]];var r=I.t61447[0];
m=m.slice(r,r+I.t61448[0])}var b=m.length,Z=b*8<Y*g*U;if(Z){console.log("compressed");var f=T.t33422,F=~~Math.sqrt(f.length),_=[];
for(var l=0;l<F;l++)_[l]=f.slice(l*F,l*F+F);m=new Uint8Array(UTIF._decompressRAF(m,_).buffer);b=m.length}function K(i,e3,eE){eE=eE<<8-(e3&7);
var ec=e3>>>3;i[ec]|=eE>>>16;i[ec+1]|=eE>>>8;i[ec+2]|=eE}var B=b*8/(Y*g);if(B==16)for(var l=0;l<b;l+=2){var ij=m[l];
m[l]=m[l+1];m[l+1]=ij}else if(B==14){for(var l=0;l<b;l+=4){var ij=m[l];m[l]=m[l+3];m[l+3]=ij;ij=m[l+1];
m[l+1]=m[l+2];m[l+2]=ij}}else if(B==12)for(var l=0;l<b;l+=3){var W=m[l+2]<<16|m[l+1]<<8|m[l+0];W=W>>>12|(W&4095)<<12;
m[l]=W>>>16&255;m[l+1]=W>>>8&255;m[l+2]=W&255}if(u)m=cb.CK.ard(m,Y,g);var L=u?2:1;Y*=L;T.t256=[Y];T.t257=[g];
T.t258=[U];T.t50719=[h[1],h[0]*L];T.t50720=[h[3],h[2]*L];T.width=Y;T.height=g;T.data=new Uint8Array(m.buffer);
return[T]};cb.CK.ard=function(w,n,H){w=new Uint16Array(w.buffer);var y=new Uint16Array(n*H*2);for(var c=0;
c<H;c+=2)for(var Q=0;Q<n;Q++){var q=c*n+Q,S=q*2,A=w[q],V=w[q+n];y[S+1]=y[S+2*n]=V;if(((c>>>1)+Q&1)==0){y[S]=A;
y[S+2*n+1]=w[q+1]}else{y[S]=w[q-1];y[S+2*n+1]=A}}return y};cb.hq={};cb.hq.Gf=!0;cb.hq.vd=function(w,n,H,y){var c=new Uint8Array(w[0][0]),Q=n*H,q=[1,3,4][y[0]],S=8+8*y[1],A=y[2];
if(q==1){var V=new Uint8Array(n*H);O.RR(c,V,0);c=V}if(q==3){var V=new Uint8Array(n*H*3);for(var l=0;
l<Q;l++){var e=l*4,d=l*3;V[d]=c[e];V[d+1]=c[e+1];V[d+2]=c[e+2]}c=V}if(S==16){var N=c.length,V=new Uint8Array(N*2);
for(var l=0;l<N;l++){var b=Math.round(c[l]*(65535/255));V[l*2+A]=b>>>8;V[l*2+1-A]=b&255}c=V}return c.buffer};
cb.tz={};cb.tz._N=function(w,n){function H(A){return~~(.5+O.nC(Math.max(0,Math.min(1,A)))*255)}var y=EXRLoader.parse(w),c=y.width,Q=y.height,q=O.R(c*Q*4);
for(var S=0;S<Q;S++)for(var A=0;A<c;A++){var l=(S*c+A)*4,V=((Q-S-1)*c+A)*4;q[l]=H(y.data[V+0]);q[l+1]=H(y.data[V+1]);
q[l+2]=H(y.data[V+2]);q[l+3]=H(y.data[V+3])}return[{Zg:new cr(0,0,c,Q),data:q.buffer}]};cb.Mf={};cb.Mf.Gf=!0;
cb.Mf.ht=!0;cb.Mf.vd=function(w,n,H,y,c){y=["",100,!1,!1,!1,0];y[6]=["jpg"];var Q=new ToDXF;e2.Z8(w,y,Q,c.KF);
return Q.buffer};cb.Mf._N=function(w,n){var H=72,y=new b7(1,0,0,1,0,0);y.scale(H/72,H/72);n.uP=H;var c=new f$(n,y,!1);
FromDXF.Parse(w,c)};cb.JD={};cb.JD._N=function(){var w=j.eX,n=j.U5,H=j.QN,y;function c(q,S,A,V,e){var d=n(q,A),N=n(q,A+4),b=n(q,A+8),z=w(q,A+12),v=w(q,A+14);
A+=16;var T={};for(var l=0;l<z+v;l++){var Y=n(q,A),g=n(q,A+4),R,h;if(Y>>>31==1){Y=Y&16777215}if(l<z)R=j.cS(q,S+Y+2,w(q,S+Y));
else R="id"+Y;var E=V.slice(0);E.push(R);if(g>>>31==1){g=g&268435455;h=c(q,S,S+g,E,e)}else{var G=n(q,S+g),k=n(q,S+g+4),$=n(q,S+g+8),p=n(q,S+g+12);
if(p!=0)throw"e";if(G<e[0]||G>e[0]+e[1])throw"e";var X=e[2]+G-e[0];h=q.slice(X,X+k);var C=cb.mj(h.buffer);
if(C&&["bmp","png","ico"].indexOf(C)!=-1){var D=cb.Mn(C);if(!D.ht){var o=null;try{o=D._N(h.buffer)}catch(hV){}if(o){o[0].$E=E[1];
y.push(o[0])}}}else if(C)console.log(C)}T[R]=h;A+=8}return T}function Q(q){y=[];var S=new Uint8Array(q),A=0,V=w(S,A);
A+=2;A+=58;var e=n(S,A);A+=4;A=e;var d=H(S,A,4);A+=4;var N=w(S,A);A+=2;var b=w(S,A);A+=2;var z=n(S,A);
A+=4;var v=n(S,A);A+=4;var T=n(S,A);A+=4;var Y=w(S,A);A+=2;var g=w(S,A);A+=2;A+=Y;var R={};for(var l=0;
l<b;l++){var h=A;while(S[h]!=0)h++;var E=H(S,A,h-A),G=n(S,A+8),k=n(S,A+12),$=n(S,A+16),p=n(S,A+20),X=n(S,A+24),C=n(S,A+28),D=w(S,A+32),o=w(S,A+34),g=n(S,A+36);
R[E]=[k,G,p,$,g];if(X+C!=0)throw"e";A+=40}for(var t in R){var u=R[t];A=u[2];if(t==".rsrc"){var m=c(S,A,A,[],u),U="id134"}}return y}return Q}();
cb.LB={};cb.LB.ht=!0;cb.LB._N=function(w,n,H){cG.V2(w,n,H)};(function(){var w=cb.A8.get("wasm/zstd").buffer;
WebAssembly.instantiate(w).then(function(n){var H=n.instance.exports;cb.LB.ajh=H})}());cb.LB.VW=function(w,n){var H=cb.LB.ajh,y=w.length,c=H.memory,Q=2*y+1e6,A=8;
cb.mG(H,Q);var q=new Uint8Array(c.buffer),S=H.malloc(y);q.set(w,S);while(!0){var V=n==null?y*A:n;cb.mG(H,Q+V);
var e=H.malloc(V),d=H.ZSTD_decompress(e,V,S,y);if(d==-70){H.free(e);A+=A>>>1;if(n!=null)throw"error"}else{q=new Uint8Array(c.buffer);
w=q.slice(e,e+d);H.free(e);break}}H.free(S);return w};cb.go={};cb.go.ht=!0;cb.go._N=function(){var w=0,n=1,H=2,y=3,c=4,Q=5,q=6,S=7,A=1,V=2,e=7,d=8,N=9,b,z,v,T,Y;
function g(){var ds=j.Hr(b,z);z+=4;return ds}function R(){var I=0,x=0;for(var l=0;l<5;l++){var J=b[z++];
I+=(J&127)<<x;x+=7;if((J&128)==0)break}return I}function h(){var I=R(),x=j.NR(b,z,I);z+=I;return x}function E(){return{typeName:h(),a9O:g()}}function G(){var I=g(),x=h(),J=[],r=g();
for(var l=0;l<r;l++)J.push([h()]);return{id:I,os:x,axF:J}}function k(I){var x=I.axF,J=[];for(var l=0;
l<x.length;l++)x[l].push(b[z++]);for(var l=0;l<x.length;l++){var r=x[l][1],Z;x[l].push($(r))}}function $(I){var x;
if(I==w)x=b[z++];else if(I==y)x=h();else if(I==c)x=E();else if(I==n||I==H||I==q||I==Q){}else throw I;
return x}function p(I,x,J){var r;if(I==w){if(x==A)r=b[z++]==1;else if(x==V){r=b[z++]}else if(x==d)r=g();
else if(x==N){r=g();g()}else throw x}else if(I==y){r=o(J+1)}else if(I==c){r=o(J+1)}else if(I==Q){r=o(J+1)}else if(I==n){r=o(J+1)}else if(I==q){r=o(J+1)}else throw I;
return r}function X(I,x){var J=v["c"+I],r=J.axF,Z={_class:J.os};for(var l=0;l<r.length;l++){var f=r[l],F=f[1],_=f[2],K=p(F,_,x),B=f[0];
Z[B]=K}return Z}function C(I,x,J,r){var Z=[];for(var l=0;l<I;l++){var f=p(x,J,r);if(f.lG&&f.lG=="null_count"){var F=f.X5;
for(var _=0;_<F;_++)Z.push(null);l+=F-1}else Z.push(f)}return Z}function D(){return[g(),g()]}function o(I){if(I==null)throw"e";
var x=null,J=b[z],r=null;z++;if(J==0){var Z=g(),f=g(),F=g(),_=g();x=[Z,f,F,_]}else if(J==1){r=g();var K=g();
x=X(K,I)}else if(J==4){var B=G();r=B.id;k(B);v["c"+B.id]=B;x=X(B.id,I)}else if(J==5){var B=G();r=B.id;
k(B);var ij=g();v["c"+B.id]=B;x=X(B.id,I)}else if(J==6){r=g();var W=h();x=W}else if(J==7){r=g();var L=b[z++];
if(L!=0)throw L;var i=g();if(i!=1)throw i;var e3=g(),eE=b[z++],ec=$(eE);x=C(e3,eE,ec,I)}else if(J==9){var gw=g();
x={lG:"ref",X5:gw};Y["o"+gw]=!0}else if(J==10){x={lG:"null_count",X5:1}}else if(J==11){x={lG:"end"}}else if(J==12){var ij=g(),bl=h()}else if(J==13){var cD=b[z++];
x={lG:"null_count",X5:cD}}else if(J==16){var a$=D();r=a$[0];x=C(a$[1],c,null,I)}else if(J==17){var a$=D();
r=a$[0];x=C(a$[1],n,null,I)}else throw"e";if(r!=null&&r>0){if(T["o"+r]!=null)throw"e";T["o"+r]=x}return x}function t(I,T){if(I instanceof Array){for(var l=0;
l<I.length;l++)I[l]=u(I[l],T)}else if(I instanceof Object){for(var x in I)I[x]=u(I[x],T)}}function u(I,T){if(I&&I.lG&&I.lG=="ref")return T["o"+I.X5];
else return I}function m(I,x,J){b=new Uint8Array(I);z=0;v={};T={};Y={};var r=j.QN(b,0,4);if(r!="PDN3")throw r;
z+=4;var Z=j.eX(b,z)+b[z+2]*256*256;z+=3;var f=j.QN(b,z,Z);z+=Z;z+=2;while(!0){var F=o(0);if(F&&F.lG&&F.lG=="end")break}for(var _ in Y)if(T[_]==null)throw _;
for(var _ in T)t(T[_],T);var K=T.o1;console.log(K);x.m=K.width;x.e=K.height;x.buffer=O.R(x.m*x.e*4);
var B=K.layers["ArrayList+_items"];for(var l=0;l<B.length;l++){var ij=B[l];if(ij==null)continue;console.log(ij);
var W=ij["Layer+width"],L=ij["Layer+height"],i=ij["Layer+properties"],e3=ij.properties,eE=e3.blendOp._class.split("+").pop();
eE=eE.slice(0,eE.length-7);var ec={Normal:"norm",Multiply:"mul ",Additive:"lddg",ColorBurn:"idiv",ColorDodge:"div ",Reflect:"lddg",Glow:"hMix",Overlay:"over",Difference:"diff",Negation:"smud",Lighten:"lite",Darken:"dark",Screen:"scrn",Xor:"smud"}[eE],gw=x.mX();
gw.nY(i.name);gw.opacity=i.opacity;gw.WH(i.visible);gw.UM=ec;var bl=1<<16,cD=Math.ceil(W*L/bl);gw.rect=new cr(0,0,W,L);
gw.buffer=O.R(W*L*4);var a$=gw.buffer;z+=5;for(var hJ=0;hJ<cD;hJ++){var ei=U();a$.set(ei[1],ei[0]*bl*4)}for(var df=0;
df<a$.length;df+=4){var bM=a$[df+0];a$[df+0]=a$[df+2];a$[df+2]=bM}x.B.push(gw)}}function U(){var I=j.s(b,z);
z+=4;var x=j.s(b,z);z+=4;var J=pako.inflateRaw(b.slice(z+10));z+=x;return[I,J]}return m}();cb.N5={};
cb.N5.ht=!0;cb.N5._N=function(w,n){fO.V2(w,n)};cb.zA={};cb.zA.ht=!0;cb.zA._N=function(){var w,n,N=null,R,h;
function H(){var D=w[n];n+=1;return D}function y(){var D=j.kH(w,n);n+=2;return D}function c(){var D=j.s(w,n);
n+=4;return D}function Q(){var D=j.Qd(w,n);n+=8;return D}function q(){var D=c();if(D>200)throw D;var o=j.C3(w,n,D);
n+=D*2;return o}function S(){var D=c();if(c()!=4)throw"e";var o=[];for(var l=0;l<D;l++)o.push(c());return o}function A(D,o,t){for(var l=0;
l<D.length;l++)if(D[l][o]==t)return D[l]}function V(D,o){var t=Date.now();w=new Uint8Array(D);n=j.OA(w,"CH"+"NK"+"SQ"+"Li")+8;
var u=Q(),m=eI.parse(w.buffer.slice(n,n+u)),U=eI.a9v(m,!0);console.log(U);var I=U.Canvas[0],x=I.Width,J=I.Height,r=I.Unit,Z=o.uP=I.Resolution;
if(r==0){}else if(r==2){x=Math.round(x*Z/25.4);J=Math.round(J*Z/25.4)}else if(r==3){x=Math.round(x*Z);
J=Math.round(J*Z)}else if(r==5){x=Math.round(x*Z/72);J=Math.round(J*Z/72)}else{console.log(I);throw r}o.m=x;
o.e=J;o.buffer=O.R(x*J*4);console.log(Date.now()-t);var f=A(U.Layer,"MainId",I.RootFolder);$(U,w,o,f.FirstChildIndex,0);
console.log(Date.now()-t)}function e(){var D=j.eX(w,n);n+=2;return D}function d(){var D=j.U5(w,n);n+=4;
return D}function b(D){var o={11:"runs",31:"font",32:"size",33:"unit",34:"colr",42:"bbox",57:"fnts",63:"bdim",64:"bplg"},u=0;
w=D;n=0;var t={};while(n<w.length){var m=d(),U=d(),I=n+U;if(U==0)continue;var x=[];if(m==11){var J=d();
for(var r=0;r<J;r++){var Z=[d(),d()];x.push(Z);u+=Z[1];var f=n+d()-4;Z.push(e(),e(),e(),e());Z.push(j.ID(w,n));
n+=8;var F=e();Z.push(j.cS(w,n,F));n+=F*2;if(n!=f)throw"e"}}else if(m==31){x=j.NR(w,n,U);n+=U}else if(m==34)for(var l=0;
l<3;l++)x.push(d()>>>16);else if(m==42)for(var l=0;l<4;l++)x.push(d());else if([32,33,35,37,38,43,44,45,46,48,49,50,51,52,53,55,58,59,60,61,62].indexOf(m)!=-1){if(U!=4)throw"e";
x=d();if([37,45,46,51,53,55,61,62].indexOf(m)!=-1){if(x!=0)throw m+":"+x;n=I;continue}}else if(m==47){var _=e();
if(d()!=50)throw"e";if(d()!=0)throw"e";var K=e();x=j.QN(w,n,K);n+=K}else if(m==57){var J=e();for(var l=0;
l<J;l++){var B=e(),ij=j.QN(w,n,B);n+=B;var W=e(),L=j.QN(w,n,W);n+=W;x.push([ij,L])}var i=d();for(var l=0;
l<J;l++)x[l].push(i)}else if(m==39||m==63)x.push(d(),d());else if(m==64){for(var l=0;l<8;l++)x.push(j.Hr(w,n+l*4)/100);
n+=32}else{x=w.slice(n,I);n+=U}var e3=o[m];if(e3==null)e3="t"+m;if(t[e3])throw"e";t[e3]=x;if(n!=I)throw m}if(N){}N=t;
return t}function z(D,o){function t(){var k4=j.PC(w,n);n+=8;return k4}function u(){var k4=[];for(var l=0;
l<4;l++)k4.push(j.sI(w,n+l*4));n+=16;return k4}function m(ds){var k4=[];for(var l=0;l<ds;l++)k4.push(j.Ma(w,n+l*4));
n+=ds*4;return k4}function U(){var fl=t(),b3=t();return[fl,b3]}w=D;n=o+8;var I=Q(),x=n+I;n+=56;if(n==x)return;
var J=[],r=[],Z=[],f=[],F=[];while(n<x){var _=c(),eE=1,a$;if(_!=88&&_!=96)throw _;var _=c();if(_!=72)throw"e";
var K=c();if(K!=88&&K!=104&&K!=120)throw K;var _=c();if(_!=88)throw"e";var B=c(),ij=c(),W=u(),L=[];Z.push(L);
for(var l=0;l<6;l++){L.push(T(c()))}if(t()!=1)throw"e";var i=c();if(i&16){c();i=c()}if(i!=1&&i!=2&&i!=4&&i!=5)throw i;
var e3=t();f.push(e3);var ec=c(),gw=(ij&256)!=0,bl=[],cD=[];for(var l=0;l<B;l++){var hJ=[U()];if(l==0)a$=hJ[0];
while(w[n]!=0&&w[n+1]!=0)hJ.push(U());for(var ei=0;ei<hJ.length;ei++)bl.push(hJ[ei][0],hJ[ei][1]);cD.push(hJ.length==1?l==0?"M":"L":hJ.length==2?"Q":"C");
var df=u(),bM=c(),ib=m(11);eE=ib[0];var fI=c();if(fI!=1&&fI!=ec)throw fI;if(c()!=0)throw"e"}F.push(eE);
if(K==104){var eU=U()}if(K==120){var eU=U(),gK=U();if(gw){cD.push("C");bl.push(eU[0],eU[1],gK[0],gK[1],a$[0],a$[1])}}if(ij&128){var bs=["M"],km=[bl[0],bl[1]],aJ=bl.length>>>1,ip=O.p.Be(bl);
for(var l=0;l<aJ;l++){var fl=bl[2*l],b3=bl[2*l+1],dY=.7;for(var ei=0;ei<2;ei++){ip[l*4+ei*2]=dY*ip[l*4+ei*2]+(1-dY)*fl;
ip[l*4+ei*2+1]=dY*ip[l*4+ei*2+1]+(1-dY)*b3}}for(var l=1;l<aJ;l++){bs.push("C");km.push(ip[l*4-2],ip[l*4-1],ip[l*4],ip[l*4+1],bl[l*2],bl[l*2+1])}if(gw){bs.push("C");
km.push(ip[aJ*4-2],ip[aJ*4-1],ip[0],ip[1],bl[0],bl[1])}bl=km;cD=bs}if(gw)cD.push("Z");r=r.concat(bl);
J=J.concat(cD)}if(n!=x)throw"e";return[{w:r,T:J},Z,f,F]}function v(D,o){w=D;n=o+8;var t=Q(),u=n+t,m=0;
n+=56;var U=[];while(n<u){var I=c(),x=n+I-4;if(x>u)throw"e";if(I==11){n-=4;var J=q(),r=c();if(r!=12)throw"e";
var Z=S(),f=q(),r=c();if(r!=12)throw"e";var F=S();if(n!=u)throw"e"}else{var _=q(),K=c();if(K!=m)throw K;
m++;var B=y();if(B!=0&&B!=1&&B!=2&&B!=5)throw B;var ij=H();if(ij!=0&&ij!=32&&ij!=64)throw ij;if(c()!=1)throw"e";
if(c()!=1)throw"e";if(H()!=0)throw"e";if(c()==1){var W=c(),L=j.U5(w,n);if(W!=L+4)throw"e";U.push(new Uint8Array(w.buffer,n+4,L));
n+=W}else U.push(new Uint8Array(0));var i=q();if(n!=x)throw n}}return U}function T(D){return Math.min(255,Math.round(D/16777216))}function Y(D){w=D;
n=0;var o=c();if(o!=16)throw o;var t=c();if(t!=102)throw t;var u=c();if(u!=42&&u!=58)throw u;var m=c();
if(D.length-m!=118+u)throw D.length-m;var U=q();if(U!="Parameter")throw U;var I=c(),x=c(),J=c(),r=c(),Z=[];
for(var l=0;l<16;l++)Z.push(c());var U=q();if(U!="InitColor")throw U;if(c()!=20)throw"e";var f=c(),F=c(),_=c();
if(c()!=4)throw"e";if(u==58){var K=[];Z.push(K);for(var l=0;l<4;l++)K.push(T(c()))}var U=q();if(U!="BlockSize")throw U;
var B=c();if(B!=12)throw B;var ij=S();if(n!=w.length)throw"e";return[I,x,J,r,f*255,Z]}function g(D,o){var t=j.QN(o,0,40),u=A(D["ExternalC"+"hunk"],"Exte"+"rnalID",t);
if(u==null){console.log("chnk not found",t)}return u?u.Offset:-1}function E(D,o,t,u){if(R==null){R=O.R(256*256*4);
h=O.R(256*256)}var m=D.Mipmap,U=D.MipmapInfo,I=D.Offscreen,x=A(m,"MainId",t),J=A(U,"MainId",x.BaseMipmapInfo),r=A(I,"MainId",J.Offscreen),Z=g(D,r.BlockData),V=null;
if(Z==-1)return null;var f=v(o,Z),F=Y(r.Attribute),_=F[0],K=F[1],B=F[2],ij=F[3],W=F[4],L=F[5],i=L[16],e3=L[1],eE=L[2],ec=e3+eE;
if(eE!=L[5])throw"e";if(e3!=L[7])throw"e";var gw=O.R(256*(L[6]+L[8])),bl=new cr;if(i)bl=new cr(0,0,_,K);
else{for(var cD=0;cD<ij;cD++)for(var a$=0;a$<B;a$++){var hJ=f[cD*B+a$];if(hJ.length==0)continue;bl=bl.ld(new cr(a$<<8,cD<<8,256,256))}}var ei=bl.Fa(new cr(0,0,_,K)),df=O.R(ei.O()*(ec==1?1:4));
if(i)new Uint32Array(df.buffer).fill(255<<24|i[0]<<16|i[1]<<8|i[2]);if(ec==1)df.fill(W);for(var cD=0;
cD<ij;cD++)for(var a$=0;a$<B;a$++){var hJ=f[cD*B+a$];if(hJ.length==0)continue;var bM=new Uint8Array(hJ.buffer,hJ.byteOffset+2,hJ.length-6),ib=new cr(a$<<8,cD<<8,256,256);
UZIP.inflateRaw(bM,gw);if(ec==1){if(L[8]==32){G(gw,0,h);O.qS(h,ib,df,ei)}else O.qS(gw,ib,df,ei)}else if(ec==2){if(L[8]==32){new Uint32Array(R.buffer).fill(4278190335);
G(gw,0,h);O.o2(h,R,3);G(gw,256*32,h);O.Bk(h,R)}else for(var l=0;l<262144;l+=4){var i=gw[65536+(l>>>2)];
R[l]=i;R[l+1]=i;R[l+2]=i;R[l+3]=gw[l>>>2]}O.j1(R,ib,df,ei)}else if(ec==5){for(var l=0;l<262144;l+=4){R[l]=gw[65536+l+2];
R[l+1]=gw[65536+l+1];R[l+2]=gw[65536+l+0];R[l+3]=gw[l>>>2]}O.j1(R,ib,df,ei)}else throw ec}if(u&&ec==1){var fI=O.R(_*K*4);
O.o2(df,fI,3);df=fI}return[ei,df]}function G(D,n,o){for(var l=0;l<o.length;l++){o[l]=(D[n+(l>>>3)]>>>7-(l&7)&1)*255}}var k=["norm","dark","mul ","idiv","lbrn",null,"dkCl","lite","scrn","div ",null,"lddg","lddg",null,"over",null,"hLit",null,null,null,null,null,"smud",null,null,null,null,null,null,null,"pass",null,null,null,null,null,"fdiv"];
function $(D,o,t,u,m){var U=D.Layer,I=D.Canvas[0];while(u!=0){var x=A(U,"MainId",u),J=x.Type;console.log(x);
var r=t.mX();r.nY(x.Name);r.opacity=Math.min(255,x.Opacity);r.WH((x.Visibility&1)!=0);r.UM=k[x.Composite];
if(r.UM==null){alert("Unknown blend mode "+x.Composite);r.UM="norm"}r.Ak=x.Clip==1;t.B.push(r);var Z=x.LayerMaskMipmap;
if(Z!=0){var f=E(D,o,Z,!1);if(f){r.z=new a.ZV;r.z.rect=f[0];r.z.channel=f[1];r.z.color=f[1][0];p(r.z.rect,x,"Mask","Mask");
r.z.KU()}}var F=[];for(var l=0;l<3;l++)F.push(T(x["DrawColorMain"+["Red","Green","Blue"][l]]));var _={t:"Objc",v:O.M.Yw({b:F[0],J:F[1],k:F[2]})};
if(x.DrawColorEnable==1&&J!=1584){var K=r.add.lmfx=JSON.parse(d5.default);for(var l=0;l<d5.order.length;
l++)K[d5.tS[l]]={t:"VlLs",v:[]};var B=JSON.parse(d5.FK[d5.order.indexOf("SoFi")]);B.Clr=_;K.solidFillMulti.v.push({t:"Objc",v:B})}if(J==1584){r.Vg|=16;
r.add.SoCo={classID:"null",Clr:_};r.qL(t)}else if(J==800){t.B.pop()}else if(x.Folder!=0){r.add.lsct=(x.Folder&16)!=0?c0.$g:c0.q8;
r.UM="pass";t.B.pop();t.B.push(t.C$());$(D,o,t,x.FirstChildIndex,m+1);t.B.push(r)}else if(J==0||J==1||J==2||J==3){var f=E(D,o,x.RenderMipmap,!0);
if(f){r.rect=f[0];r.buffer=f[1];p(r.rect,x,"Render","");r.KU()}if(x.TextLayerType!=null){alert("Got Text!",3e3);
var ij="TextLayerString",W="TextLayerAttributes",L=[x[ij]],i=[x[W]];if(x[ij+"Array"]){w=x[ij+"Array"];
n=0;while(n<w.length){var e3=d();L.push(w.slice(n,n+e3));n+=e3}w=x[W+"Array"];n=0;while(n<w.length){var e3=d();
i.push(w.slice(n,n+e3));n+=e3}}var eE=r;t.B.pop();for(var ec=0;ec<L.length;ec++){var r=eE.clone();t.B.push(r);
var gw=b(i[ec]),bl=gw.runs,cD=gw.fnts,a$=gw.bplg,hJ=gw.bbox,ei=hJ[2]-hJ[0],df=hJ[3]-hJ[1],bM=a$[2]-a$[0],ib=a$[3]-a$[1],fI=new b7;
fI.translate(-ei/2,-df/2);fI.rotate(Math.atan2(-ib,bM));fI.translate(ei/2,df/2);fI.translate(hJ[0],hJ[1]);
r.add.lnsr="rend";r.add.TySh=j1.d2(0,0);r.add.TySh.oo=new cr(0,0,500,500);r.add.TySh.D=fI;var eU=r.add.TySh.EB,gK=j.NR(L[ec]);
r.nY(gK);j1.Uq(eU,0,gK);j1.mn(eU,1);j1.wr(eU,[0,0,ei,df]);for(var l=0;l<bl.length;l++){var bs=bl[l],km=bs[0],aJ=km+bs[1],ip=bs[2],fl=j1.ni(eU,km,aJ),b3=t.uP/72*gw.size/100;
if((ip&512)!=0)b3*=bs[6]/100;fl.tq.FontSize=Math.round(b3);var _=(ip&256)!=0?bs.slice(3):gw.colr;fl.tq.FillColor={Type:1,Values:[1,_[0]/65535,_[1]/65535,_[2]/65535]};
var dY=bs[7]==""?gw.font:bs[7];if(cD){if(cD[l])dY=cD[l][1];else for(var k4=0;k4<cD.length;k4++)if(cD[k4][0]==dY)dY=cD[k4][1]}j1.Ho(fl,dY);
j1.Xe(eU,km,aJ,fl)}if(r.rect.O()==0)t.se=!0;else{r.rect=new cr(hJ[0],hJ[1],ei,df);r.buffer=O.R(r.rect.O()*4);
O.j1(eE.buffer,eE.rect,r.buffer,r.rect)}}}}if(x.VectorNormalType!=null&&D.VectorObjectList){var aK=A(D.VectorObjectList,"LayerId",u).VectorData,jK=g(D,aK),ay=z(o,jK),f8=ay[0];
X(r,x,f8);if(r.Ok()){r.Vg|=24;var gN=t.mX();gN.nY(r.getName());gN.opacity=r.opacity;t.B.push(gN);X(gN,x,f8);
C(gN,ay);gN.qL(t)}else{C(r,ay)}r.cv();if(r.rect.O()==0)r.qL(t)}if(u==I.CurrentLayer)t.g=[t.B.indexOf(r)];
u=x.NextIndex}}function p(D,o,t,u){D.x+=o[t+"OffscrOffsetX"]+o[u+"OffsetX"];D.y+=o[t+"OffscrOffsetY"]+o[u+"OffsetY"]}function X(D,o,t){D.add.vmsk=new a.TB;
O.p.D(t.w,new b7(1,0,0,1,o.OffsetX,o.OffsetY),t.w);D.add.vmsk.i=O.p.KL(t);D.cv()}function C(D,o){var t=o[1][0],u=o[2][0]*o[3][0];
D.Vg|=16;var m=D.add.vstk=JSON.parse(JSON.stringify(d5.Ed.default));m.strokeEnabled.v=!0;m.fillEnabled.v=!1;
D.add.SoCo={classID:"null",Clr:{t:"Objc",v:O.M.Yw({b:0,J:0,k:0})}};m.strokeStyleContent.v.Clr.v=O.M.Yw({b:t[0],J:t[1],k:t[2]});
m.strokeStyleLineWidth.v.val=u*2;m.strokeStyleLineCapType.v.strokeStyleLineCapType="strokeStyleRoundCap"}return V}();
var dy={};dy._k=!1;dy.Wu=!1;dy.b0=!1;dy.F=document.createElement("canvas");dy.NK=null;dy.S$=null;dy.pF=0;
(function(){var w={alpha:!0,antialias:!1,depth:!1,premultipliedAlpha:!1},n;if(!n)n=dy.F.getContext("webgl",w);
if(!n)n=dy.F.getContext("experimental-webgl",w);if(n){dy._k=!0;dy.Wu=!0;dy.NK=n;dy.S$=n.createFramebuffer();
n.bindFramebuffer(n.FRAMEBUFFER,dy.S$);n.disable(n.BLEND);n.disable(n.DEPTH_TEST);var H=n.createBuffer();
n.bindBuffer(n.ARRAY_BUFFER,H);n.bufferData(n.ARRAY_BUFFER,new Float32Array([0,0,1,0,0,1,0,1,1,0,1,1]),n.STATIC_DRAW);
n.enableVertexAttribArray(0);n.vertexAttribPointer(0,2,n.FLOAT,!1,0,0)}}());dy.a2Y=function(w){w=w.replace(/\s\s+/g," ");
w=w.replace(/; /g,";");w=w.replace(/} /g,"}");w=w.replace(/ }/g,"}");w=w.replace(/{ /g,"{");w=w.replace(/ {/g,"{");
w=w.replace(/= /g,"=");w=w.replace(/ =/g,"=");w=w.replace(/\| /g,"|");w=w.replace(/ \|/g,"|");return w};
dy.jU=function(w){var n=dy.NK;if(w>n.getParameter(n.MAX_TEXTURE_SIZE)){dy._k=!1;alert("Disabling WebGL")}};
dy.T3=function(w,n){return new Float32Array([(w.x-n.x)/n.m,(w.y-n.y)/n.e,w.m/n.m,w.e/n.e])};dy.Ke=function(){return this.F};
dy.O0=function(w,n){var H=dy.NK;H.bindFramebuffer(H.FRAMEBUFFER,dy.S$);H.framebufferTexture2D(H.FRAMEBUFFER,H.COLOR_ATTACHMENT0,H.TEXTURE_2D,w.iX,0);
H.viewport(0,0,w.m,w.e);if(n){H.enable(H.SCISSOR_TEST);H.scissor(n.x,n.y,n.m,n.e)}else H.disable(H.SCISSOR_TEST)};
dy.jq=function(w,n,H){if(H)throw"error";var y=dy.NK;y.disable(y.SCISSOR_TEST);y.bindFramebuffer(y.FRAMEBUFFER,null);
y.viewport(0,0,w,n);if(H){y.enable(y.SCISSOR_TEST);y.scissor(H.x,H.y,Math.round(H.m),Math.round(H.e))}else y.disable(y.SCISSOR_TEST)};
dy.clear=function(){var w=dy.NK;w.clearColor(0,0,0,0);w.clear(w.COLOR_BUFFER_BIT)};dy.R6=function(w,n){if(n==null)n=0;
var H=(n>>>0&255)==0,y=(n>>>8&255)==0,c=(n>>>16&255)==0,Q=(n>>>24&255)==0,q=(w>>>0&255)*(1/255),S=(w>>>8&255)*(1/255),A=(w>>>16&255)*(1/255),V=(w>>>24&255)*(1/255),e=dy.NK;
e.colorMask(H,y,c,Q);e.clearColor(q,S,A,V);e.clear(e.COLOR_BUFFER_BIT);e.colorMask(!0,!0,!0,!0)};dy.Vi=function(w,n,H,y,c){var Q=n.Fa(y);
if(c)Q=Q.Fa(c);if(Q._G())return;var q=dy.NK;dy.O0(w);q.bindTexture(q.TEXTURE_2D,H.iX);q.copyTexSubImage2D(q.TEXTURE_2D,0,Q.x-y.x,Q.y-y.y,Q.x-n.x,Q.y-n.y,Q.m,Q.e)};
dy.On=function(l,w,n){var H=dy.I1[l];if(H==null||H.m!=w||H.e!=n){if(H)H.delete();H=new dy.$Z(w,n)}dy.I1[l]=H;
return H};dy.I1=[];dy.rk=function(){this.D3=null;this.LF=null};dy.rk.Yn=null;dy.rk.prototype.s_=function(w){if(this.LF)return;
this.LF={};var n=dy.NK,H=this.D3,y=this.LF;for(var l=0;l<w.length;l++){var c=w[l];y[c]=n.getUniformLocation(H,c)}};
dy.rk.prototype.LG=function(){};dy.rk.prototype.Ve=function(w){var n=dy.NK;for(var l=0;l<w.length;l+=2){n.uniform1i(w[l],l>>>1);
n.activeTexture(n["TEXTURE"+(l>>>1)]);n.bindTexture(n.TEXTURE_2D,w[l+1])}n.activeTexture(n.TEXTURE0)};
dy.rk.prototype.Dg=function(w,n){var H=dy.NK,y=H.createShader(H.FRAGMENT_SHADER);H.shaderSource(y,w);
H.compileShader(y);if(!H.getShaderParameter(y,H.COMPILE_STATUS))console.log(H.getShaderInfoLog(y));var c=H.createShader(H.VERTEX_SHADER);
H.shaderSource(c,n);H.compileShader(c);if(!H.getShaderParameter(c,H.COMPILE_STATUS))console.log(H.getShaderInfoLog(c));
var Q=H.createProgram();H.attachShader(Q,c);H.attachShader(Q,y);H.linkProgram(Q);if(!H.getProgramParameter(Q,H.LINK_STATUS))console.log("Could not initialise shaders");
this.D3=Q};dy.rk.prototype.CX=function(){if(dy.rk.Yn!=this){dy.NK.useProgram(this.D3);dy.rk.Yn=this}};
dy.Z5=function(w,n){dy.LO++;dy.pF+=w*n;if(dy.b0)console.log("GL.Channels instances: "+dy.LO+", memory: "+dy.pF);
var H=dy.NK;this.m=w;this.e=n;this.iX=H.createTexture();this.Qq=null;this.YW(this.iX,w,n)};dy.Z5.prototype.YW=function(w,n,H){var y=dy.NK;
y.bindTexture(y.TEXTURE_2D,w);y.texParameteri(y.TEXTURE_2D,y.TEXTURE_MIN_FILTER,y.NEAREST);y.texParameteri(y.TEXTURE_2D,y.TEXTURE_MAG_FILTER,y.NEAREST);
y.texParameteri(y.TEXTURE_2D,y.TEXTURE_WRAP_S,y.CLAMP_TO_EDGE);y.texParameteri(y.TEXTURE_2D,y.TEXTURE_WRAP_T,y.CLAMP_TO_EDGE);
y.texImage2D(y.TEXTURE_2D,0,y.ALPHA,n,H,0,y.ALPHA,y.UNSIGNED_BYTE,null)};dy.Z5.prototype.set=function(w,n){var H=dy.NK;
H.bindTexture(H.TEXTURE_2D,this.iX);H.pixelStorei(H.UNPACK_ALIGNMENT,1);var y=this.m*this.e;if(n==null||n.O()*10>y)H.texImage2D(H.TEXTURE_2D,0,H.ALPHA,this.m,this.e,0,H.ALPHA,H.UNSIGNED_BYTE,w);
else{var c=new cr(0,0,this.m,this.e),Q=O.R(n.O());O.qS(w,c,Q,n);H.texSubImage2D(H.TEXTURE_2D,0,n.x,n.y,n.m,n.e,H.ALPHA,H.UNSIGNED_BYTE,Q)}H.pixelStorei(H.UNPACK_ALIGNMENT,4)};
dy.Z5.prototype.delete=function(){var w=dy.NK;if(this.iX){w.deleteTexture(this.iX);dy.LO--;dy.pF-=this.m*this.e}if(dy.b0)if(dy.b0)console.log("GL.Channels instances: "+dy.LO+", memory: "+dy.pF*4)};
dy.LO=0;dy.$Z=function(w,n,H){if(H==null)H=!1;dy.LO++;dy.pF+=w*n*4;if(dy.b0)console.log("GL.Channels instances: "+dy.LO+", memory: "+dy.pF);
var y=dy.NK;this.a9w=H;this.m=w;this.e=n;this.iX=y.createTexture();this.Qq=null;this.YW(this.iX,w,n)};
dy.$Z.prototype.set=function(w,n){var H=dy.NK;H.disable(H.SCISSOR_TEST);H.bindTexture(H.TEXTURE_2D,this.iX);
if(w==null||w instanceof Uint8Array){var y=this.m*this.e;if(n==null||n.O()*10>y)H.texImage2D(H.TEXTURE_2D,0,H.RGBA,this.m,this.e,0,H.RGBA,H.UNSIGNED_BYTE,w);
else{var c=O.R(n.O()*4);O.j1(w,new cr(0,0,this.m,this.e),c,n);H.texSubImage2D(H.TEXTURE_2D,0,n.x,n.y,n.m,n.e,H.RGBA,H.UNSIGNED_BYTE,c)}}else H.texImage2D(H.TEXTURE_2D,0,H.RGBA,H.RGBA,H.UNSIGNED_BYTE,w)};
dy.$Z.prototype.get=function(w){var n=dy.NK;dy.O0(this);n.readPixels(0,0,this.m,this.e,n.RGBA,n.UNSIGNED_BYTE,w)};
dy.$Z.prototype.yp=function(w){if(w._G())return;var n=dy.NK;if(this.Qq==null){this.Qq=n.createTexture();
this.YW(this.Qq,this.m,this.e);dy.LO++;dy.pF+=this.m*this.e*4}n.bindFramebuffer(n.FRAMEBUFFER,dy.S$);
n.bindTexture(n.TEXTURE_2D,this.Qq);if(w){var H=Math.max(w.x,0),y=Math.max(w.y,0);n.copyTexSubImage2D(n.TEXTURE_2D,0,H,y,H,y,w.m,w.e)}else n.copyTexImage2D(n.TEXTURE_2D,0,n.RGBA,0,0,this.m,this.e,0)};
dy.$Z.prototype.YW=function(w,n,H){var y=dy.NK;y.bindTexture(y.TEXTURE_2D,w);y.texParameteri(y.TEXTURE_2D,y.TEXTURE_MIN_FILTER,this.a9w?y.LINEAR:y.NEAREST);
y.texParameteri(y.TEXTURE_2D,y.TEXTURE_MAG_FILTER,y.NEAREST);y.texParameteri(y.TEXTURE_2D,y.TEXTURE_WRAP_S,y.CLAMP_TO_EDGE);
y.texParameteri(y.TEXTURE_2D,y.TEXTURE_WRAP_T,y.CLAMP_TO_EDGE);y.texImage2D(y.TEXTURE_2D,0,y.RGBA,n,H,0,y.RGBA,y.UNSIGNED_BYTE,null)};
dy.$Z.prototype.delete=function(){var w=dy.NK;if(this.iX){w.deleteTexture(this.iX);dy.LO--;dy.pF-=this.m*this.e*4}if(this.Qq){w.deleteTexture(this.Qq);
dy.LO--;dy.pF-=this.m*this.e*4}if(dy.b0)if(dy.b0)console.log("GL.Channels instances: "+dy.LO+", memory: "+dy.pF)};
dy.$Z.prototype.clone=function(){var w=dy.NK,n=new dy.$Z(this.m,this.e);dy.O0(this);w.bindTexture(w.TEXTURE_2D,n.iX);
w.copyTexImage2D(w.TEXTURE_2D,0,w.RGBA,0,0,this.m,this.e,0);return n};dy.q5={a2z:"  vec3 ocbrn(vec3 a, vec3 b, float f) {  vec3 d = (a*vec3(f)+ONE3-vec3(f));  return mix(ONE3 - min(ONE3,(ONE3-b)/d), ZERO3, vec3(vec3(greaterThan(vec3(0.001),d))) );  }  ",az2:"  vec3 ocddg(vec3 a, vec3 b, float f) {  return mix(        min(ONE3,       b/(ONE3 - a*f))    ,   ONE3   , vec3(equal(a*f,ONE3 )) );  }  ",WO:"const vec3 ZERO3 = vec3(0.0,0.0,0.0) ;\t\t\tconst vec3 QUAR3 = vec3(0.25,0.25,0.25) ;\t\t\tconst vec3 HALF3 = vec3(0.5,0.5,0.5) ;\t\t\tconst vec3 ONE3  = vec3(1.0,1.0,1.0) ;",bl:" float hueDiff(float shue, float hue) { \t\t\t\tfloat df = hue-shue, adf=abs(df), df0 = df-1.0, df1 = df+1.0; \t\t\t\tif(abs(df0) < adf)  df = df0; \t\t\t\telse if(abs(df1) < adf)  df = df1; \t\t\t\treturn df; \t\t\t}",OB:" float hueCF(float hueS, float hue0) { \t\t\t\tfloat df = hueDiff(hue0, hueS)*6.0; \t\t\t\treturn   max(0.0, min(1.0,  (df<0.0) ? 1.0+df : 1.0-df  ));  } ",$q:"float sat(vec3 c) { return max(c.x,max(c.y,c.z)) - min(c.x,min(c.y,c.z)); }",Vr:"float lum(vec3 c) { return dot(c, vec3(0.3,0.59,0.11)); } ",JK:"vec3  D  (vec3 x) { return mix( sqrt(x), ((16.0*x-12.0)*x+4.0)*x  , vec3(lessThanEqual(x,QUAR3))  ); }",awC:"float midSat (vec3 v, float s) { return ((v.y-v.z)*s)/(v.x-v.z); }",E9:"vec3 setSat (vec3 c, float s) \t\t\t{\t\t\t\tvec3 o;\t\t\t\tif(c.r==c.g && c.g==c.b) o = ZERO3;\t\t\t\telse if(c.r>c.g)  {\t\t\t\t\tif(c.r>c.b) {\t\t\t\t\t\tif(c.g>c.b)\to = vec3(s, midSat(c.rgb,s), 0.0); \t\t\t\t\t\telse\to = vec3(s, 0.0, midSat(c.rbg,s)); \t\t\t\t\t}\t\t\t\t\telse\t\to = vec3(midSat(c.brg,s), 0.0, s); \t\t\t\t} else  {\t\t\t\t\tif(c.r<c.b) {\t\t\t\t\t\tif(c.g>c.b)\to = vec3(0.0, s, midSat(c.gbr,s)); \t\t\t\t\t\telse\t    o = vec3(0.0, midSat(c.bgr,s), s); \t\t\t\t\t}\t\t\t\t\telse\t\t    o = vec3(midSat(c.grb,s), s, 0.0);\t\t\t\t}\t\t\t\treturn o;\t\t\t}",as9:"vec3 clipCol(vec3 c) \t\t\t{ \t\t\t\tvec3 o = c;  float l = lum(c); \t\t\t\tfloat n = min(c.r,min(c.g,c.b)); \t\t\t\tfloat x = max(c.r,max(c.g,c.b)); \t\t\t\tif(n<0.0) o = l + (o-l)*(l/(l-n));\t\t\t\tif(x>1.0) o = l + (o-l)*(1.0-l)/(x-l);\t\t\t\treturn o;\t\t\t}",qy:"vec3 setLum (vec3 c, float l) { return clipCol(c+l-lum(c)); } ",B4:"bool in01(vec2 c) { return (0.0<=c.x) && (c.x<=1.0) && (0.0<=c.y) && (c.y<=1.0); }",hash:"float hash(vec2 v) { return fract(sin(dot(v ,vec2(12.9898,78.233))) * 43758.5453); }",v1:"vec3 rgbToHsl (vec3 rgb) {\t\t\t\tfloat r = rgb.r, g = rgb.g, b = rgb.b; \t\t\t\tfloat mx = max(r, max(g, b)), mn = min(r, min(g, b)); \t\t\t\tfloat h, s, l = (mx + mn) * 0.5;\t\t\t\t\t\t\t\tif(mx == mn) h = s = 0.0; \t\t\t\telse{ \t\t\t\t\tfloat d = mx - mn; \t\t\t\t\ts = l > 0.5 ? d / (2.0 - mx - mn) : d / (mx + mn);  \t\t\t\t\t\t\t\t\t\tif(mx==r) h = (g - b) / d + (g < b ? 6.0 : 0.0);  \t\t\t\t\telse if(mx==g) h = (b - r) / d + 2.0; \t\t\t\t\telse if(mx==b) h = (r - g) / d + 4.0; \t\t\t\t\t\t\t\t\t\th /= 6.0; \t\t\t\t}  \t\t\t\treturn vec3(h,s,l); }",EY:"vec3 hslToRgb (float h, float s, float l){\t\t\t\tfloat r, g, b;\t\t\t\t\t\t\t\tif(s == 0.0)  r = g = b = l; \t\t\t\telse{ \t\t\t\t\tfloat q = l < 0.5 ? l * (1.0 + s) : l + s - l * s; \t\t\t\t\tfloat p = 2.0 * l - q; \t\t\t\t\tr = hue2rgb(p, q, h + 1.0/3.0); \t\t\t\t\tg = hue2rgb(p, q, h); \t\t\t\t\tb = hue2rgb(p, q, h - 1.0/3.0); \t\t\t\t} \t\t\t\treturn vec3(r,g,b); } ",zn:"float hue2rgb(float p, float q, float t){ \t\t\t\tif(t < 0.0) t += 1.0;\t\t\t\tif(t > 1.0) t -= 1.0;\t\t\t\tif(t < 1.0/6.0) return p + (q - p) * 6.0 * t; \t\t\t\tif(t < 1.0/2.0) return q; \t\t\t\tif(t < 2.0/3.0) return p + (q - p) * (2.0/3.0 - t) * 6.0; \t\t\t\treturn p;\t}",qR:"vec3 rgbToHsv(vec3 rgb){\t\t\t\t\tfloat r = rgb.r, g = rgb.g, b = rgb.b; \t\t\t\tfloat mx = max(r, max(g, b)), mn = min(r, min(g, b)); \t\t\t\tfloat h, s, v = mx; \t\t\t\t\t\t\t\tfloat d = mx - mn; \t\t\t\ts = mx == 0.0 ? 0.0 : d / mx; \t\t\t\t\t\t\t\tif(mx == mn) h = 0.0;  \t\t\t\telse if(mx==r) h = (g - b) / d + (g < b ? 6.0 : 0.0);  \t\t\t\telse if(mx==g) h = (b - r) / d + 2.0; \t\t\t\telse if(mx==b) h = (r - g) / d + 4.0; \t\t\t\t\t\t\t\th /= 6.0; \t\t\t\treturn vec3(h,s,v);  }",AT:"vec3 hsvToRgb(float h, float s, float v)  { \t\t\t\tfloat r, g, b, f, p, q, t, i; \t\t\t\ti = floor(h * 6.0); \t\t\t\tf = h * 6.0 - i; \t\t\t\tp = v * (1.0 - s); \t\t\t\tq = v * (1.0 - f * s); \t\t\t\tt = v * (1.0 - (1.0 - f) * s); \t\t\t\t\t\t\t\tif     (i==0.0) { r = v, g = t, b = p; }\t\t\t\telse if(i==1.0) { r = q, g = v, b = p; }\t\t\t\telse if(i==2.0) { r = p, g = v, b = t; }\t\t\t\telse if(i==3.0) { r = p, g = q, b = v; }\t\t\t\telse if(i==4.0) { r = t, g = p, b = v; }\t\t\t\telse if(i==5.0) { r = v, g = p, b = q; }\t\t\t\t\t\t\t\treturn vec3(r,g,b); }",eT:"\t\tfloat srgbUngamma(float x) {\t\t\treturn (x<0.04045) ? (x / 12.92) : pow( ( x + 0.055 ) / 1.055,  2.4);\t\t}\t\tfloat xyzScale(float x) {\t\t\treturn (x>0.008856) ? pow(x,1.0/3.0) : (903.3*x+16.0)*(1.0/116.0); \t\t}\t\tvec3 rgbToLab(vec3 rgb) {\t\t\tbool ok = true;\t\t\trgb.r = srgbUngamma(rgb.r); \t\t\trgb.g = srgbUngamma(rgb.g); \t\t\trgb.b = srgbUngamma(rgb.b); \t\t\tok = ok && 0.0318<=rgb.r && rgb.r<=0.0319; \t\t\tok = ok && 0.127 <=rgb.g && rgb.g<=0.128 ; \t\t\tok = ok && 0.3047<=rgb.b && rgb.b<=0.305; \t\t\t\t\t\tmat3 srgb2xyz = mat3(0.4360747164307918, 0.222504478679176, 0.013932173981751634,    0.3850649153329662, 0.7168786002139355, 0.09710452396580642,    0.14308038098632878, 0.06061692340677909, 0.7141732835334675); \t\t\t\t\t\tvec3 xyz = srgb2xyz*rgb; \t\t\tok = ok && 0.106<=xyz[0] && xyz[0]<=0.107;  \t\t\t\t\t\txyz=xyz*vec3(100.0/96.72, 100.0/100.0, 100.0/81.427);  \t\t\txyz.x = xyzScale(xyz.x); \t\t\txyz.y = xyzScale(xyz.y); \t\t\txyz.z = xyzScale(xyz.z); \t\t\t\t\t\treturn vec3(116.0*xyz.y-16.0, 500.0*(xyz.x-xyz.y), 200.0*(xyz.y-xyz.z));  \t\t} \t\tfloat labSimilar(vec3 lab, vec3 mnm, vec3 mxm, float lim)  {\t\t\tfloat L=lab.x, a=lab.y, b=lab.z; \t\t\tfloat dl = ((L<mnm.x) ? (mnm.x-L) : ((mxm.x<L) ? (mxm.x-L) : 0.0))*(1.0/100.0); \t\t\tfloat da = ((a<mnm.y) ? (mnm.y-a) : ((mxm.y<a) ? (mxm.y-a) : 0.0))*(1.0/116.0); \t\t\tfloat db = ((b<mnm.z) ? (mnm.z-b) : ((mxm.z<b) ? (mxm.z-b) : 0.0))*(1.0/116.0); \t\t\t/*float dl  = (slab.x-lab.x)*(1.0/100.0), da=(slab.y-lab.y)*(1.0/116.0), db=(slab.z-lab.z)*(1.0/116.0);*/ \t\t\tfloat dst = sqrt(dl*dl+da*da+db*db)*1.35; \t\t\treturn (dst<=lim) ? min(1.0,1.17*(1.0 - (dst/lim))) : 0.0; \t\t}",avH:"  mat3 rgbToYuv = mat3(0.299, -0.147, 0.615,    0.587,  -0.289,  -0.515,   0.114, 0.436, -0.100 );  ",ane:"  mat3 yuvToRgb = mat3(1.0, 1.0, 1.0,   0.0, -0.3946, 2.03199,    1.1398, -0.5805, -0.00048  ); ",W1:"\t\tfloat _blendIf(float c, vec4 br) {  return min((c-br.x)*br.y,  (c-br.w)*br.z);  }  \t\tfloat blendIf(vec4 sc, vec4 tc, vec4 br[10]) {  \t\t\tfloat sg = lum(sc.rgb); \t\t\tfloat tg = lum(tc.rgb); \t\t\tfloat ms = _blendIf(sg,br[0]); \t\t\tms = min(ms, _blendIf(sc.r,br[2])); \t\t\tms = min(ms, _blendIf(sc.g,br[4])); \t\t\tms = min(ms, _blendIf(sc.b,br[6])); \t\t\t\t\t\tfloat mt = _blendIf(tg,br[1]); \t\t\tmt = min(mt, _blendIf(tc.r,br[3])); \t\t\tmt = min(mt, _blendIf(tc.g,br[5])); \t\t\tmt = min(mt, _blendIf(tc.b,br[7])); \t\t\tmt=max(mt,1.0-tc.w);\t\t\t\t\t\tfloat mi=min(ms,mt);\t\t\treturn clamp(mi,0.0,1.0);\t\t}",xk:"\t\t\tvec4 mapLut(vec4 src, sampler2D lut, float N) {\t\t\t\tfloat iN = 1.0/N; \t\t\t\tfloat fb = 0.5*iN + src.b*(1.0-iN); \t\t\t\tfloat fg = 0.5*iN + src.g*(1.0-iN); \t\t\t\tfloat R  = src.r*(N-1.0)*0.999999; \t\t\t\tfloat ir = floor(R)*iN;  \t\t\t\t\t\t\t\tvec4 c0 = texture2D(lut, vec2(fb, ir   +( fg   )*iN)); \t\t\t\tvec4 c1 = texture2D(lut, vec2(fb, ir+iN+( fg   )*iN)); \t\t\t\tvec4 rs = mix(c0,c1,R-floor(R));  \t\t\t\treturn rs;  \t\t\t}"};
dy.q={};dy.q.aL={};dy.q.zx=null;dy.q.v5=null;dy.q.$A=null;dy.q.JO=function(w,n,H,y,c,Q,q,S){if(S==null)S=hO.zF();
if("idiv,lbrn,div ,lddg,vLit,lLit,hMix,diff".split(",").indexOf(w)==-1){q=q*S.fill;S.fill=1;S.style=!1}var A=w+(S.k6?"1":"");
if(dy.q.aL[A]==null)dy.q.aL[A]=new dy.q.vs(w,S.k6!=null);var V=dy.q.aL[A],e=H.Fa(c).Fa(Q);e.offset(-c.x,-c.y);
if(e._G())return;var d=dy.NK;dy.O0(y,e);y.yp(e);V.CX();V.LG(n.iX,y.Qq,dy.T3(H,c),q,S.fill,S.style?1:0,S.t$?1:0,S.k6?new Float32Array(S.k6):null);
d.drawArrays(d.TRIANGLES,0,6)};dy.q.l0=function(w,n,H,y,c,Q,q,S,A,V,e){if(dy.q.zx==null)dy.q.zx=new dy.q.y3(!0,!0);
if(dy.q.v5==null)dy.q.v5=new dy.q.y3(!0,!1);if(dy.q.$A==null)dy.q.$A=new dy.q.y3(!1,!0);var d=V?1:0,N=w?c?dy.q.zx:dy.q.v5:dy.q.$A,b=new Float32Array(e?[e[0],e[1],e[2],1]:[1,1,1,1]),z=n?n.Fa(y).Fa(S):y.Fa(S);
if(z._G())return;z.offset(-y.x,-y.y);var v=dy.NK;dy.O0(H,z);H.yp(z);N.CX();if(w==null)N.LG(null,H.Qq,c.iX,dy.T3(y,y),dy.T3(Q,y),q/255,A,d,b);
else if(c)N.LG(w.iX,H.Qq,c.iX,dy.T3(n,y),dy.T3(Q,y),q/255,A,d,b);else N.LG(w.iX,H.Qq,null,dy.T3(n,y),null,q/255,A,d,b);
v.drawArrays(v.TRIANGLES,0,6)};dy.q.a5l=function(w,n,H){if(dy.q.ahl==null)dy.q.ahl=new dy.q.BB;var y=dy.q.ahl,c=new cr(0,0,w.m,w.e),Q=dy.NK;
dy.O0(n);n.yp(c);y.CX();y.LG(c,w.iX,n.Qq,H.iX);Q.drawArrays(Q.TRIANGLES,0,6)};dy.q.kN={norm:"return a;",diss:"return a;",dark:"return min(a,b);","mul ":"return a*b;",idiv:"  vec3 d = (a*vec3(f)+ONE3-vec3(f));  return mix(mix(ONE3-((ONE3-b)/max(d,vec3(1e-6))), ZERO3, vec3(greaterThanEqual(ONE3-b,d)) ), ONE3   ,   vec3(equal(b,ONE3) ));   ",lbrn:"return max(ZERO3, a*f+b-f);",dkCl:"return ( lum(a)<lum(b) ? a : b );",lite:"return max(a,b);",scrn:"return b+a-b*a;","div ":"a*=f;  return mix(    mix(  min(ONE3,b/(1.0-a)), ONE3,  step(1.0-a, b))     , ZERO3, vec3(equal(b,ZERO3)) );",lddg:"a*=f;  return min(ONE3,a+b);",lgCl:"return ( lum(a)>lum(b) ? a : b );",over:"return mix( a+(2.0*b -1.0)-a*(2.0*b-1.0) ,  2.0*b*a , step(-HALF3,-b) );",sLit:"return mix( b+(2.0*a -1.0)*(D(b)-b)  , b-(1.0-2.0*a)*b*(1.0-b) , step(-HALF3,-a) );",hLit:"return mix( b+(2.0*a -1.0)-b*(2.0*a-1.0) ,  2.0*a*b , step(-HALF3,-a) );",vLit:" return mix( ocddg(2.0*a-1.0,b,f)  ,  ocbrn(2.0*a,b,f)  ,  vec3(greaterThanEqual(HALF3,a))); ",lLit:"return mix( min(ONE3, (2.0*a-1.0)*f+b) , max(ZERO3, 2.0*a*f+b-f)  , step(-HALF3,-a));",pLit:"return mix( max(2.0*a-1.0,b) , min(2.0*a, b) , step(-HALF3,-a)  );",hMix:"if(f>0.99) return vec3(greaterThanEqual(a+b,ONE3));   return  min( ONE3, max(ZERO3,  (b+a*f-f)/(1.0-f+1e-6)  ))  ;  ",diff:"return abs(a*f-b);",smud:"return a+b-2.0*a*b;",fsub:"return max(b-a, ZERO3);",fdiv:"return min(b/a, ONE3);","hue ":"return  setLum( setSat(a, sat(b)) , lum(b) ); ","sat ":"return  setLum( setSat(b, sat(a)) , lum(b) ); ",colr:"return  setLum( a, lum(b) ); ","lum ":"return  setLum( b, lum(a) ); "};
dy.q.vs=function(w,n){dy.rk.call(this);var H="\t\t\tprecision highp float;\t\t\t"+dy.q5.WO+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D target;\t\t\tuniform float alpha;\t\t\tuniform float fill;\t\t\tuniform float style;\t\t\tuniform float keepBGA;\t\t\t"+(n?"uniform vec4 blIf[10];":"")+"\t\t\t\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\t\t\t\t\t\t\t"+dy.q5.$q+"\t\t\t"+dy.q5.Vr+"\t\t\t"+dy.q5.JK+"\t\t\t"+dy.q5.a2z+"\t\t\t"+dy.q5.az2+"\t\t\t"+dy.q5.awC+"\t\t\t"+dy.q5.E9+"\t\t\t"+dy.q5.as9+"\t\t\t"+dy.q5.qy+"\t\t\t"+dy.q5.hash+"\t\t\t"+(n?dy.q5.W1:"")+"\t\t\t\t\t\tvec3  BB(vec3  a, vec3  b, float f) { "+dy.q.kN[w]+" } \t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 tgt = texture2D(target, tCoord);\t\t\t\tvec4 src = texture2D(source, sCoord);",y="\t\t\tattribute vec2 verPos;\t\t\tuniform vec4 srct;\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvoid main(void) {\t\t\t\ttCoord = verPos;\t\t\t\tsCoord = (verPos-srct.xy)/srct.zw;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}";
if(w=="diss")H+="\t\t\t\t\tgl_FragColor = (hash(tCoord) >= (keepBGA + (1.0-keepBGA)*src.w)*alpha ? tgt : vec4(src.xyz, keepBGA*tgt.w + (1.0-keepBGA)));  }";
else H+="  \t\t\t\t\tfloat as = (keepBGA + (1.0-keepBGA)*src.w) * alpha, at = keepBGA + (1.0-keepBGA)*tgt.w; \t\t\t\t\t"+(n?"  as*=blendIf(src,tgt,blIf);  ":"")+"\t\t\t\t\tfloat ats = at * (1.0-as), ao = as + ats, iao = (ao==0.0) ? 0.0 : (1.0/ao); \t\t\t\t\tfloat ccf = (style==1.0) ? 1.0 : as; \t\t\t\t\tvec3 ncl = ( (1.0-at)*as*src.xyz + (1.0-ccf)*at*tgt.xyz + ccf*at*BB(src.xyz, tgt.xyz, (1.0+as-ccf)*fill)  ) * iao;\t\t\t\t\tgl_FragColor = vec4(ncl, keepBGA*tgt.w + (1.0-keepBGA)*(as*fill + at*(1.0-as*fill)));\t\t\t\t\t\t\t}";
this.Dg(H,y)};dy.q.vs.prototype=new dy.rk;dy.q.vs.prototype.LG=function(w,n,H,y,c,Q,q,S){this.s_("srct alpha source target fill style keepBGA blIf".split(" "));
var A=dy.NK,V=this.LF;A.uniform4fv(V.srct,H);A.uniform1f(V.alpha,y);A.uniform1f(V.fill,c);A.uniform1f(V.style,Q);
A.uniform1f(V.keepBGA,q);if(S)A.uniform4fv(V.blIf,S);this.Ve([V.source,w,V.target,n])};dy.q.y3=function(w,n){dy.rk.call(this);
this.a0n=w;this.xj=n;var H="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D target;\t\t\tuniform sampler2D weight;\t\t\tuniform vec4 cswitch;\t\t\tuniform float wcolor;\t\t\tuniform float awg; /* additional weight */\t\t\tuniform float dissv;\t\t\t\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 wCoord;\t\t\t\t\t\t"+dy.q5.B4+"\t\t\t"+dy.q5.hash+"\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 tgt = texture2D(target, tCoord);\t\t\t\tvec4 src = "+(w?"texture2D(source, sCoord)":"vec4(0.0)")+"; \t\t\t\tfloat wg = awg "+(n?"* (in01(wCoord) ? texture2D(weight, wCoord).w : wcolor)":"")+";\t\t\t\t"+(w?"":"wg = 1.0-wg;")+"\t\t\t\tfloat hwg = hash(tCoord)>=wg ? 0.0 : 1.0;  wg = dissv*hwg + (1.0-dissv)*wg; \t\t\t\tfloat as = wg*src.w, at = (1.0-wg)*tgt.w, ao = as+at;\t\t\t\t\t\t\t\tvec4 nc = vec4( (as*src.xyz + at*tgt.xyz)/ao, ao );  \t\t\t\tgl_FragColor =  "+(n?"nc":"cswitch*nc + (1.0- cswitch)*tgt")+";    \t\t\t}",y="\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 wCoord;\t\t\t\t\t\tuniform vec4 srct;\t\t\tuniform vec4 wrct;\t\t\tvoid main(void) {\t\t\t\ttCoord = verPos;\t\t\t\tsCoord = (verPos-srct.xy)/srct.zw;\t\t\t\twCoord = (verPos-wrct.xy)/wrct.zw;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}";
this.Dg(H,y)};dy.q.y3.prototype=new dy.rk;dy.q.y3.prototype.LG=function(w,n,H,y,c,Q,q,S,A){if(this.xj)this.s_("srct wrct wcolor awg dissv source target weight cswitch".split(" "));
else this.s_("srct awg dissv source target cswitch".split(" "));var V=dy.NK,e=this.LF;V.uniform4fv(e.srct,y);
if(this.xj){V.uniform4fv(e.wrct,c);V.uniform1f(e.wcolor,Q)}else{V.uniform4fv(e.cswitch,A)}V.uniform1f(e.awg,q);
V.uniform1f(e.dissv,S);var d=[e.source,w,e.target,n];if(this.xj)d.push(e.weight,H);this.Ve(d)};dy.q.BB=function(){dy.rk.call(this);
var w="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D prev;\t\t\tuniform sampler2D next;\t\t\tuniform sampler2D alpha;\t\t\t\t\t\tvarying vec2 coord;\t\t\t\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec3 or = texture2D(prev , coord).rgb;\t\t\t\tvec3 ir = texture2D(next , coord).rgb; \t\t\t\tfloat al = texture2D(alpha, coord).w; \t\t\t\tgl_FragColor =  vec4(  (ir-(1.0-al)*or)*(1.0/al)   ,1.0 );  \t\t\t}",n="\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 coord;\t\t\t\t\t\tuniform vec4 rct;\t\t\tvoid main(void) {\t\t\t\tcoord = verPos;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}";
this.Dg(w,n)};dy.q.BB.prototype=new dy.rk;dy.q.BB.prototype.LG=function(w,n,H,y){this.s_(["rct","prev","next","alpha"]);
var c=dy.NK,Q=this.LF;c.uniform4fv(Q.rct,[0,0,1,1]);this.Ve([Q.prev,n,Q.next,H,Q.alpha,y])};dy.k0={af:{},YE:"\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 sCoord;\t\t\tvoid main(void) {\t\t\t\tsCoord = verPos;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}"};
dy.k0.Eo=function(w,n){var H=fb.fK,y=[H.ti,H.nw,H.Yo,H.lh,H.u1,H.Fw,H.Pk,H.Sf].indexOf(w.type),c=dy.k0.af[w.type];
if(c==null)c=dy.k0.af[w.type]=new dy.af[y];c.CX();c.LG(n,w);dy.NK.drawArrays(dy.NK.TRIANGLES,0,6)};dy.af=[];
dy.af[0]=function(){dy.rk.call(this);this.qN={};var w="\t\t\tprecision mediump float;\t\t\t"+dy.q5.Vr+"\t\t\t"+dy.q5.WO+"\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D map;\t\t\tuniform float toGray;\t\t\tuniform float presLum;\t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tfloat olum = lum(src.rgb); \t\t\t\tsrc.rgb = toGray * vec3(olum) + (1.0-toGray)*src.rgb; \t\t\t\tfloat r = texture2D(map, vec2(src.r, 0)).r;\t\t\t\tfloat g = texture2D(map, vec2(src.g, 0)).g;\t\t\t\tfloat b = texture2D(map, vec2(src.b, 0)).b;\t\t\t\tvec3 col = vec3(r,g,b); \t\t\t\tif(presLum==1.0) { \t\t\t\t\tfloat nlum = lum(col); \t\t\t\t\tif(olum>nlum) col += (olum-nlum)/(1.0-nlum)*(ONE3-col); \t\t\t\t\telse if(nlum==0.0) col = ZERO3; \t\t\t\t\telse col = (olum/nlum) * col; \t\t\t\t}\t\t\t\tgl_FragColor = vec4(col,src.w);\t\t\t\t\t\t\t}";
this.Dg(w,dy.k0.YE)};dy.af[0].prototype=new dy.rk;dy.af[0].prototype.LG=function(w,n){var H={b:n.t9,J:n.K0,k:n.$X,iL:O.R(n.t9.length)},y=H.b.length;
if(this.qN["m"+y]==null){this.qN["m"+y]={ajn:new dy.$Z(y,1),fF:O.R(y*4)}}var c=this.qN["m"+y];O.HR(H,c.fF,0);
var Q=c.ajn;Q.set(c.fF);this.s_(["source","map","toGray","presLum"]);var q=dy.NK,S=this.LF;q.uniform1f(S.toGray,n.Oj?1:0);
q.uniform1f(S.presLum,n.EG?1:0);this.Ve([S.source,w,S.map,Q.iX])};dy.af[1]=function(){dy.rk.call(this);
this.avG=new dy.$Z(256,1);this.axr=O.R(256*4);var w="\t\t\t\tprecision mediump float;\t\t\t\t"+dy.q5.zn+"\t\t\t\t"+dy.q5.v1+"\t\t\t\t"+dy.q5.EY+"\t\t\t\t\t\t\t\tuniform sampler2D source;\t\t\t\tuniform sampler2D map;\t\t\t\tuniform float cfa; \t\t\t\tuniform float cfb; \t\t\t\tuniform int colorize; \t\t\t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\t\t\tvoid main(void) { \t\t\t\t\tvec4 src = texture2D(source, sCoord);\t\t\t\t\tvec3 rgb = src.rgb;\t\t\t\t\tfloat mn=min(rgb.r,min(rgb.g,rgb.b)), mx = max(rgb.r,max(rgb.g,rgb.b));\t\t\t\t\t\t\t\t\t\tvec3 hsl = rgbToHsl(rgb); \t\t\t\t\tfloat h = hsl.r, s = hsl.g, l = hsl.b; \t\t\t\t\t\t\t\t\t\tvec4 mapv = texture2D(map, vec2(h, 0));\t\t\t\t\tfloat nh = mapv.r; \t\t\t\t\tfloat sc = mapv.g*2.0-1.0; \t\t\t\t\tfloat lc = mapv.b*2.0-1.0; \t\t\t\t\t\t\t\t\t\tfloat cf = -lc, tv=mn;\t\t\t\t\tif(0.0<lc) {  cf=lc;  tv=mx;  }\t\t\t\t\t\t\t\t\t\tfloat a0 = cfa + cfb*cf*tv, a1 = cfb*(1.0-cf);\t\t\t\t\trgb = a0 + a1 * rgb;\t\t\t\t\t\t\t\t\t\thsl = rgbToHsl(rgb);  s = hsl.g;  l = hsl.b; \t\t\t\t\tfloat ns = sc; \t\t\t\t\tif(colorize==0) {\t\t\t\t\t\tif(sc>0.0) sc = pow(tan((3.14159265359/2.0)*sc),1.3);\t\t\t\t\t\tns = min(s * (1.0 + sc), 1.0); \t\t\t\t\t} \t\t\t\t\t\t\t\t\t\tgl_FragColor = vec4(hslToRgb(nh,ns,l),src.w); \t\t\t\t\t\t\t\t\t}";
this.Dg(w,dy.k0.YE)};dy.af[1].prototype=new dy.rk;dy.af[1].prototype.LG=function(w,n){O.HR({b:n.ahb,J:n.ie,k:n.a7E,iL:O.R(256)},this.axr);
this.avG.set(this.axr);this.s_(["source","map","cfa","cfb","colorize"]);var H=dy.NK,y=this.LF;H.uniform1f(y.cfa,n.azw);
H.uniform1f(y.cfb,n.y8);H.uniform1i(y.colorize,n.aji);this.Ve([y.source,w,y.map,this.avG.iX])};dy.af[2]=function(){dy.rk.call(this);
var w="\t\t\tprecision mediump float;\t\t\t"+dy.q5.zn+"\t\t\t"+dy.q5.qR+"\t\t\t"+dy.q5.AT+"\t\t\t"+dy.q5.v1+"\t\t\t"+dy.q5.EY+"\t\t\t"+dy.q5.avH+"\t\t\t"+dy.q5.ane+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform float vib; \t\t\tuniform float sat; \t\t\tuniform vec3  yF; \t\t\tconst float PI = 3.141592653; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\tvec3 vibrate(vec3 rgb) {  \t\t\t\tvec3 yuv = rgbToYuv * rgb; \t\t\t\treturn yuvToRgb * (yuv * yF); \t\t\t} \t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec3 rgb = src.rgb; \t\t\t\trgb = pow(rgb,vec3(2.4)); \t\t\t\t\t\t\t\trgb = clamp(vibrate(rgb), 0.0, 1.0); \t\t\t\t\t\t\t\trgb = pow(rgb,vec3(1.0/2.4)); \t\t\t\t\t\t\t\tvec3 hsl = rgbToHsl(rgb);  \t\t\t\tfloat nsat = max(0.0, min(1.0, hsl.y*(1.0+sat)));  \t\t\t\trgb = hslToRgb(hsl.x, nsat, hsl.z);  \t\t\t\t\t\t\t\tgl_FragColor = vec4(rgb,src.w); \t\t\t}";
this.Dg(w,dy.k0.YE)};dy.af[2].prototype=new dy.rk;dy.af[2].prototype.LG=function(w,n){this.s_(["source","vib","sat","yF"]);
var H=dy.NK,y=this.LF;H.uniform1f(y.vib,n.PY[0]);H.uniform1f(y.sat,n.PY[1]);H.uniform3fv(y.yF,new Float32Array([n.PY[2],n.PY[3],n.PY[3]]));
this.Ve([y.source,w])};dy.af[3]=function(){dy.rk.call(this);var w="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform mat4  trf; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec4 nsr = vec4(src.rgb,1.0); \t\t\t\tgl_FragColor = vec4((trf*nsr).rgb,src.w); \t\t\t\t\t\t\t}";
this.Dg(w,dy.k0.YE)};dy.af[3].prototype=new dy.rk;dy.af[3].prototype.LG=function(w,n){this.s_(["source","trf"]);
var H=dy.NK,y=this.LF;H.uniformMatrix4fv(y.trf,!1,new Float32Array(O.Rc.wf(n.Yx)));this.Ve([y.source,w])};
dy.af[4]=function(){dy.rk.call(this);var w="\t\t\tprecision mediump float; \t\t\t"+dy.q5.eT+"\t\t\t"+dy.q5.zn+"\t\t\t"+dy.q5.EY+"\t\t\t"+dy.q5.v1+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform vec3 mnm;\t  \t\t\tuniform vec3 mxm;\t  \t\t\tuniform vec3 shift;   \t\t\tuniform float lim;    \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\t\t\t\t\tvec3 lab = rgbToLab(src.rgb);\t\t\t\tfloat scl = labSimilar(lab, mnm,mxm, lim);\t\t\t\t\t\t\t\tvec3 hsv = rgbToHsl(src.rgb); \t\t\t\tfloat nh = 2.0 + hsv[0]+shift[0]; \t\t\t\thsv[0] = fract(nh); \t\t\t\thsv[1] = max(0.0, min(1.0, hsv[1] + shift[1])); \t\t\t\thsv[2] = max(0.0, min(1.0, hsv[2] + shift[2])); \t\t\t\t\t\t\t\tvec3 rgb = hslToRgb(hsv[0], hsv[1], hsv[2]); \t\t\t\t\t\t\t\tgl_FragColor = vec4(mix(src.rgb,rgb,scl),src.w); \t\t\t\t\t\t\t}";
this.Dg(w,dy.k0.YE)};dy.af[4].prototype=new dy.rk;dy.af[4].prototype.LG=function(w,n){this.s_(["source","mnm","mxm","shift","lim"]);
var H=dy.NK,y=this.LF;H.uniform3fv(y.mnm,new Float32Array(n.Py));H.uniform3fv(y.mxm,new Float32Array(n.Gk));
H.uniform3fv(y.shift,new Float32Array(n.shift));H.uniform1f(y.lim,n.xf);this.Ve([y.source,w])};dy.af[5]=function(){dy.rk.call(this);
var w="\t\t\tprecision mediump float;\t\t\t"+dy.q5.WO+"\t\t\t"+dy.q5.bl+"\t\t\t"+dy.q5.OB+"\t\t\t"+dy.q5.v1+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform vec3 cfs[18]; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec3 rgb = src.rgb; \t\t\t\tvec3 hsl = rgbToHsl(rgb); \t\t\t\tfloat mx = max(rgb.r, max(rgb.g, rgb.b)); \t\t\t\tfloat mn = min(rgb.r, min(rgb.g, rgb.b)); \t\t\t\t\t\t\t\tvec3 CMY = ONE3 - rgb; \t\t\t\tvec3 d = ZERO3; \t\t\t\t\t\t\t\tfor(int j=0; j<9; j++) \t\t\t\t{ \t\t\t\t    vec3 NCMY = CMY * cfs[j+j] + cfs[j+j+1]; \t\t\t\t\t\t\t\t\t\tfloat cfK = 0.0;\t\t\t\t\tif     (j< 6) { \t\t\t\t\t\tcfK = hueCF(float(j)*(1.0/6.0), hsl.x); \t\t\t\t\t\tcfK = cfK * hsl.y * 2.0*min(hsl.z, 1.0-hsl.z); \t\t\t\t\t} \t\t\t\t\telse if(j==6) cfK = max(0.0,mn-0.5)*2.0;\t\t\t\t\telse if(j==7) cfK = 1.0-(abs(mx-0.5)+abs(mn-0.5));\t\t\t\t\telse          cfK = max(0.0,0.5-mx)*2.0;\t\t\t\t\t\t\t\t\t\td += (max(ZERO3, min(ONE3, NCMY))-CMY)*cfK; \t\t\t\t} \t\t\t\t\t\t\t\tCMY = max(ZERO3, min(ONE3, CMY+d)); \t\t\t\trgb = ONE3 - CMY; \t\t\t\t\t\t\t\tgl_FragColor = vec4(rgb,src.w); \t\t\t\t\t\t\t}";
this.Dg(w,dy.k0.YE)};dy.af[5].prototype=new dy.rk;dy.af[5].prototype.LG=function(w,n){this.s_(["source","cfs"]);
var H=dy.NK,y=this.LF;H.uniform3fv(y.cfs,n.agY);this.Ve([y.source,w])};dy.af[6]=function(){dy.rk.call(this);
var w="\t\t\tprecision mediump float;\t\t\t"+dy.q5.zn+"\t\t\t"+dy.q5.bl+"\t\t\t"+dy.q5.OB+"\t\t\t"+dy.q5.v1+"\t\t\t"+dy.q5.EY+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform float wght[6]; \t\t\tuniform float prms[6]; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec3 rgb = src.rgb; \t\t\t\t\t\t\t\tfloat tint=prms[0], hue=prms[1], lum=prms[2], mcf=prms[3], x0=prms[4], x1=prms[5]; \t\t\t\tvec3 hsl = rgbToHsl(rgb); \t\t\t\t\t\t\t\tfloat cf = 0.0;\t\t\t\tfor(int j=0; j<6; j++) cf += min(1.0, 1.7*(1.0-hsl.z)) * hsl.y *  wght[j] * hueCF(hsl.x, float(j)*(1.0/6.0));\t\t\t\t\t\t\t\tfloat lig = max(0.0, min(1.0, hsl.z*(1.0+cf)));\t\t\t\tif(tint==1.0) {  \t\t\t\t\tfloat totl = 0.0;\t\t\t\t\tif     (lig<x0) totl = lig*(0.5/lum); \t\t\t\t\telse if(lig<x1) totl = lig + (mcf)*(0.5 - lum); \t\t\t\t\telse            totl = 1.0 - (1.0-lig)*0.5/(1.0-lum); \t\t\t\t\t\t\t\t\t\thsl.x = hue;  \t\t\t\t\thsl.y = min(1.0, mcf + 3.0*mcf*abs(lig-0.5*(x0+x1))); \t\t\t\t\thsl.z = totl; \t\t\t\t} \t\t\t\telse {  hsl.x=0.0;  hsl.y=0.0;  hsl.z=lig;  } \t\t\t\t\t\t\t\trgb = hslToRgb(hsl.x, hsl.y, hsl.z); \t\t\t\t\t\t\t\tgl_FragColor = vec4(rgb,src.w); \t\t\t\t\t\t\t}";
this.Dg(w,dy.k0.YE)};dy.af[6].prototype=new dy.rk;dy.af[6].prototype.LG=function(w,n){this.s_(["source","wght","prms"]);
var H=dy.NK,y=this.LF,c=[n.IP,n.af0,n.Vr,n.a2g,n.GV,n.ayN];H.uniform1fv(y.wght,new Float32Array(n.a8a));
H.uniform1fv(y.prms,new Float32Array(c));this.Ve([y.source,w])};dy.af[7]=function(){dy.rk.call(this);
this.gj={};var w="\t\t\tprecision mediump float;\t\t\t"+dy.q5.xk+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D lut;\t\t\tuniform float N;\t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec4 rs = mapLut(src, lut, N); \t\t\t\tgl_FragColor = vec4(rs.rgb,src.w); \t\t\t\t\t\t\t}";
this.Dg(w,dy.k0.YE)};dy.af[7].prototype=new dy.rk;dy.af[7].prototype.LG=function(w,n){this.s_(["source","lut","N"]);
var H=dy.NK,y=this.LF,c=n.Sp,Q=n.G_;if(this.gj["m"+c]==null)this.gj["m"+c]=new dy.$Z(c,c*c);var q=this.gj["m"+c];
q.set(Q);H.uniform1f(y.N,c);this.Ve([y.source,w,y.lut,q.iX]);H.activeTexture(H.TEXTURE1);var S=H.LINEAR;
H.texParameteri(H.TEXTURE_2D,H.TEXTURE_MIN_FILTER,S);H.texParameteri(H.TEXTURE_2D,H.TEXTURE_MAG_FILTER,S);
H.activeTexture(H.TEXTURE0)};dy.filter={_F:{},YE:"1u,/0*&<>2OI;<m^XJZ;]d/vp^r|ows/)z{M>5g7:@5nVPLIGeVMX`|njge-'&-$V&)/$BbHB4D%GNx`KSI=_f_menp%E+%vwKB4&'XQY``edhootpjxp&%*'vhxY{#>5HINMDXX]YnVW",ayt:0,a1A:1,gx:2,a6u:3,arB:4,a3J:5,ly:6,a98:7};
dy.filter.Eo=function(w,n){var H=dy.filter,y,c=w.type+":"+(w.ml?w.ml.join(","):""),y=dy.filter._F[c];
if(y==null)y=dy.filter._F[c]=new dy._F[w.type](w.ml);y.CX();y.LG(n,w);dy.NK.drawArrays(dy.NK.TRIANGLES,0,6)};
dy._F=[0,0,0,0,0,0,0,0,0,0,0,0];dy._F[7]=function(){dy.rk.call(this);var w="1%* !*709;O;?@DOaKTZOe/lhffrxv,#s#)($4VkJA@II=BzXTRR^dbwqcd6's%xN,(&&286K5>D9O]LIYXH)P1o]q{nvr.(yzL=4f69?4mLHECaRIT\\xjfca)~|noC2).)[8*+^U`_felkrn$R[aVlzaoxD:;@N|)/G)28-CQNtjkp~`&*#!&4u*-.(q}$<}'-\"8FBi_`esTz~wuz)i~\"#xvhi=,r~(U0$:9==3bw^MLUUINwne8gjpe/}opB;/FMMRQBX__d`dGXLo%P\\e$kca,Bkw!?uR.3.CQf0<E_DAQP@QYbxm!-+0.~2iJ0).)L4,*YjDIDg>zJRH2aS\\;jjpvD}#}N4";
this.Dg(iQ.na(w),iQ.na(dy.filter.YE))};dy._F[7].prototype=new dy.rk;dy._F[7].prototype.LG=function(w,n){this.s_(["source","iwh","kern"]);
var H=dy.NK,y=this.LF;H.uniform2fv(y.iwh,n.i5);H.uniform1fv(y.kern,n.apx);this.Ve([y.source,w])};dy._F[6]=function(w){dy.rk.call(this);
var n=w[0],H=w[1],y=w[2],c="1%* !*709;O;?@DOaKTZOe/lhffrxv,#s#)($4VkJA@II=BzXTRR^dbwqcd6's%xN,(&&286K5>D9O]SEK%cQeobjf\"{mn@1(Z*-3(a@<97UF=HPl^ZWU|rpbc7&|\"|O,}~RITSZY`_fbwFOUJ`nUcl8./4Bp|#;|&,!7EAh[\"'zuV|!7<0+k!$%zkk0$J>'x~:=<d<.4[U<KMVNV`S,j\\]1 fr{I$w.-11'VkRA@II=BkbY,[^dY#qcd6/NVb<@#4(K`,8A_G?=g}GS\\zQ.ini~-Bkw!Lw&/HK^D=B=ar<JS|X]X{c[Y):sxs7mJy\"wa1#,j::@FsMRM}c",Q=iQ.na(c);
Q=Q.replaceAll("PRC",y+".0");Q=Q.replaceAll("DIR",["x,0","0,x"][H]);this.Dg(Q,dy.k0.YE)};dy._F[6].prototype=new dy.rk;
dy._F[6].prototype.LG=function(w,n){this.s_(["source","iwh","rad"]);var H=dy.NK,y=this.LF;H.uniform2fv(y.iwh,n.i5);
H.uniform1f(y.rad,n.Ha);this.Ve([y.source,w])};dy._F[4]=function(w){dy.rk.call(this);var n=w[0],H=w[1],y="\t\t\tprecision highp float;\t\t\tuniform sampler2D source;\t\t\tuniform vec2 iwh;\t\t\tuniform float rrad;\t\t\tuniform float tr;\t\t\t\t\t\tvarying vec2 sCoord;\t\t\tconst float PRC="+w[2]+".0; \t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 sclr = texture2D(source, sCoord);\t\t\t\tfloat rad = rrad; \t\t\t\tif(rad!=0.0) {\t\t\t\t\tvec4 sum=vec4("+["1.0,1.0,1.0,0.0","0.0,0.0,0.0,1.0","0.0"][H]+"); vec4 cnt = vec4(0.0);\t\t\t\t\tfor(float y=-PRC; y<=PRC; y++) {\t\t\t\t\t\tif(y<-rad || y>rad) continue; \t\t\t\t\t\tfor(float x=-PRC; x<=PRC; x++) { \t\t\t\t\t\t\tif("+["x<-rad || x>rad","(x*x+y*y)>rad*rad"][n]+") continue; \t\t\t\t\t\t\tvec4 clr = texture2D(source, sCoord+vec2(x,y)*iwh);  \t\t\t\t\t\t\t"+["if(clr.w!=0.0) sum.rgb=min(sum.rgb,clr.rgb);  sum.w=max(sum.w,clr.w)","sum.rgb=max(sum.rgb,clr.rgb);  sum.w=min(sum.w,clr.w)","if(abs(sclr.r-clr.r)<tr) {  sum.r+=clr.r;  cnt.r+=1.0;  };"+"if(abs(sclr.g-clr.g)<tr) {  sum.g+=clr.g;  cnt.g+=1.0;  };"+"if(abs(sclr.b-clr.b)<tr) {  sum.b+=clr.b;  cnt.b+=1.0;  };"][H]+"; \t\t\t\t\t\t\t\t\t\t\t\t\t}\t\t\t\t\t}\t\t\t\t\t\t\t\t\t\tsclr = "+(H==2?"vec4(sum.rgb/cnt.rgb, sclr.w)":"sum")+";\t\t\t\t}\t\t\t\tgl_FragColor=sclr; \t\t\t}";
this.Dg(y,dy.k0.YE)};dy._F[4].prototype=new dy.rk;dy._F[4].prototype.LG=function(w,n){this.s_(["source","iwh","rrad","tr"]);
var H=dy.NK,y=this.LF;H.uniform2fv(y.iwh,n.i5);H.uniform1f(y.rrad,n.Kg);H.uniform1f(y.tr,n.ajx);this.Ve([y.source,w]);
var c=H.LINEAR;c=H.NEAREST;H.activeTexture(H.TEXTURE0);H.texParameteri(H.TEXTURE_2D,H.TEXTURE_MIN_FILTER,c);
H.texParameteri(H.TEXTURE_2D,H.TEXTURE_MAG_FILTER,c);H.activeTexture(H.TEXTURE0)};dy._F[5]=function(){dy.rk.call(this);
var w="1%* !*709;O;?@DOaKTZOe/lhffrxv,#s#)($4VkJA@II=BzXTRR^dbwn_ntso BW6-050`>:88DJH]WIJ{lYj^4qmkkw}{1z$*~5C(7;DmKGEEQWUjT]cXn|egmoG&s(2%-)D>01bSJ|LOUJ$O^`hlzdmsh~-bPKGLZ9520N?6AIeWSPNuki[\\0~qht}K(yzNEPQVRg6?E:P^YX]X+!\"'5sef:)xQO*}4377-\\qXGJOJkbY,[^dY!6dpv/py t+96\\OwcEjn'rThklbP\\bz\\ek`v%!H;cO0VZr^?TWXNL>?paSK(a4cfla+ykl>7+A2DH+<0eD67jYAS ZNdcgg]-B)wz z<3%|EL/gc2;A6LZ#}HV^tTf ]o+\"{mnB9DEKOUOVW^d^efpjrrwsv,Zci^t#}pIt+&@HcKLXZ]^cVd\\gssxxP_cl$()55::q!%.EISUX[^_d`cxXW\\Wlz0m`7neqz+9N,~D2&<;??5dy`ONWWKPypbZ#8}!mukU%v ^..4:g;:L^I@LUt`_d_!wocyx||rBW>-,55).WNEwGJPElriRTZ\\\"7|";
this.Dg(iQ.na(w),iQ.na(dy.filter.YE))};dy._F[5].prototype=new dy.rk;dy._F[5].prototype.LG=function(w,n){this.s_(["source","ssum","iwh","amnt","edgf"]);
var H=dy.NK,y=this.LF;H.uniform2fv(y.iwh,n.i5);H.uniform1f(y.amnt,n.aaR);H.uniform1f(y.edgf,n.a5G);this.Ve([y.source,w,y.ssum,n.adk])};
dy._F[3]=function(){dy.rk.call(this);var w="1%* !*709;O@;=ETOUgQZ`Uk5rnllx~|2)y)/.*:\\qPGFOOCH!^ZXXdjh}wij<-y+~T2.,,8><Q;DJ?Uc[NR`.kgeeqwu+t}$x/=36(.gEA??KQOd^PQ#sjjbc>{wuu\"(&;5'(ZJ<@=JtRNLLX^\\qbYo2!tvv'@N,(&&286K<3IkZNPP`z(fThremi%~pqC4+]-06+d/?BBXEM2TTdugYZ.|v,\" qrF5)X,#=OAWACCSlkYoY[[k&!6pfx||{0!w2D-$>P<\\J`HhWioTKewc$s(o0|14JNDEJX>:,-_OE7G@qi[MN!pdo&|vhi<, ,>42$%WG=/H*8FySLTp\\g{&))4:;7CC;$0CSRPXZ_cg]Wd]quw~$}'-/50=wm $$#7-~8y(6L\\R<EKNTlZLeGUc#8}ykl?/yv./QI;-.`PDOe\\VHI{k_k}smcuyyx-8&w(!RJ6AW?K]bM?OHyq}}%'#lw.66B8\".@E0\"2+\\Tb`fbLXmxu\"wal %oaqj<4?@KOE/;PWXea]GRe_owv{nz~))3<\"}opC3,(&&UM?12dTHSi`ZLM oco\"wqgy}}|1'x)\"SK7BX@L^bmlqqxx},qZiksw&ox~s*8kpda^Z[`nMIFDbSJU]ykgdb* }opD3*|)2_:.DCGG=l\"hWV__SX\"xoBqtzo7Lz$*~5C+/=D;r:>RiYLP^}gZfo.z/Dr{\"v-;1#)d/3AH?cORDJ$UUygY_~>45:6,*{|O?6;6f5>D9O]T[$yz ~ubjb?66;Iw$*B$-3(>LIob).\"|^$(>C72s(+,\"rzrOFFKK+3+e77[PuiRDJehh0gY_'!gvx\"y\",~W&28P2;A6LZV}p7<0+k26LQE@!6KCBGC9'06+AO6NuTiKSK&WW{o6*rdj&)(P(y GA(79B:BL?wIImiU]Bddt&wij>5s,B3H2$*T[\\a]`c]DSU^V^h[4rde9(nz$Q, 6599/^sZIHQQEJsja4cfla+ykl>7u.D5GK.?3Vk:CI>TbIM)PTh obft4my#A.BW&/5*@N3K?wmnvpMYb!h$,-7>2nz$B~EMNTWS0<Ec;vENTI_mWfZ7pphi7%9uyB~#\\..R/G;tMMEFsbtnUaj)phfD2>>CC /#KO,8A_G?=]kcM\\Pyi[\\/'9384Iw!'{2@49>iW6:t@DRYPj-p{~^bpwn6os;D|!/6-PJgP[:>y|rsx+~ %2#ae1ko}%{?H $KNc2;A6LZAX!ww||chm7ry0En&L(-(H]'>S0<EcKCA|beywX`V@oajIxx~%R\"*n11ARD67jaippus_2adj_,y.98=<@GGLJ6h8;A6bQdonsrzx {~8rde90<:B@HFNI]=/0cZedkjqpxs)z#vm`luC qrF=,1,P8?V^^c_tZVHI{k_S2n`a4,zM| &zG5K6h8;A6bQfontp]0_bh]*w+@~pqD4(|Z7)*\\TCuEHNCo^s}{#',$pCru{p=+AJIQK8j:=C8dSezYKL~n`dk`;osp};*PSIJOBdHA=;;jbNBoWLuo-u`]tu80{o=%yCX**N8<9FcSx{rrwsm_cj_+x@tx t@/U*.5*UEhD7CLjRJHhv,yY]kri.uyv$A/BF.29.f6>4}M?H'VV\\b0i\\hq=#";
this.Dg(iQ.na(w),iQ.na(dy.filter.YE))};dy._F[3].prototype=new dy.rk;dy._F[3].prototype.LG=function(w,n){this.s_("source iwh tdep rrad spec nois poly0 poly1".split(" "));
var H=dy.NK,y=this.LF;H.uniform2fv(y.iwh,n.i5);H.uniform1f(y.tdep,n.a9C);H.uniform1f(y.rrad,n.Kg);H.uniform2fv(y.spec,n.a34);
H.uniform3fv(y.nois,n.ab_);H.uniformMatrix4fv(y.poly0,!1,n.a6s);H.uniformMatrix4fv(y.poly1,!1,n.ayA);
this.Ve([y.source,w]);var c=H.LINEAR;H.activeTexture(H.TEXTURE0);H.texParameteri(H.TEXTURE_2D,H.TEXTURE_MIN_FILTER,c);
H.texParameteri(H.TEXTURE_2D,H.TEXTURE_MAG_FILTER,c);H.activeTexture(H.TEXTURE0)};dy._F[0]=function(){dy.rk.call(this);
var w="1%* !*709;O@;=ETOUgQZ`Uk5|uqoo{\" 5,|,21-=_tSJIRRFK$kd`^^jpn$}opB3 1%ZB;755AGEZTFGyiYT.unjhhtzx.w!'{2@7/3;5mUO=Q[NVRmgYZ,|sFux~sM5~(.#9G23E'?;AOZm_QR$th$}|$mv|q(62M?_E=1GFJJ@o%kZYbbV[%{o-{mn@9AHHMLCVW\\X\\?PDgo\\#jT]cXn|x5&F,$w.-11'VkRA@II=BkbVsbTU' z//43*=>C?C&7+NVCiQ;DJ?Uc`zl-rj^tswwm=R9('00$)RI=ZI;<mfatuzy}%%*&*l}q5=*P8\"+1&<JGbSsYQE[Z^^T$9 nmvvjo90$A0\"#TMH[\\a`WkkplpSdX{$p7~hqwl#1x0J=]CVWc[R:Qm^~doc }l(#8 irxm$2y2L>^DWXd\\S;Sn_ epe!~n)$9!zlm@0\"6V<.286-;;O=bTFGyqyTk(#`x31(8r*DA~7ROF.E_\\:Rlgj g]Seiih|drz1xs>$AV>?D>:75SD;FNj\\XUSztszdmsh~-({6V<PPUHVN9:L.FBHVatc6ehnc+/{sw yR:%-#l<.7uEEKQa\"g_Sihllb2G.|{%%x}G>5g7:@5\\`QEzbc";
this.Dg(iQ.na(w),iQ.na(dy.filter.YE))};dy._F[0].prototype=new dy.rk;dy._F[0].prototype.LG=function(w,n){this.s_(["source","iwh","ld","shine"]);
var H=dy.NK,y=this.LF;H.uniform2fv(y.iwh,n.i5);H.uniform3fv(y.ld,n.a6z);H.uniform1f(y.shine,n.aeD);this.Ve([y.source,w,y.tang,n.d6])};
dy._F[1]=function(){dy.rk.call(this);var w="1%* !*709;O@;=ETOUgQZ`Uk5|uqoo{\" 5,|,21-=_tSJIRRFK$kd`^^jpn$}opB3 1%ZB;755AGEZDMSH^lYfY4{tpnnz!~4}'-\"8F,?9FJEAya[I]gZb^ysef8) R\"%+ YA+4:/ES?;PHjLU[Pfths*!jsyn%3'3E?>E/8>3IWM?X:HVl-ribj'r}2<??JPQMYYQ:FYihfnpuy}smzs(,.5:4=CEKFS;1'9==<PF8Q3AOeukU^dgm&se~`n|<Q9:?)28-CQ<=O,PMZOtfXY+{n+%$+%vwI:.@`FQ<ZI;<mfwuzx}|%(1+0,/3u#uP82$%VG9>PpV@IORXp\\w-tn`a3$u|]0P6*I.3`H2;A6LZQqt$]V^z'**/+@(\"stF7}M@`F-<CZDIdhUux&mgYZ,|c4&F,r\")@*/L;-._Xddihppuqtxe&)6}gpvk\"0\"6V<($91S2abPfApq`r(oYbh]s\"sz+K1|x.&H'WWE[6efUg|dNW]Rhvha @&qm#z={KL:P+[[J\\qYCLRG]k]dYw8}iezr5sDD2H#SSBTiQ;DJ?UcOzl-rcbt'p%4+|$@&-mN<OdL6?E:P^Jvg(m^]o\"kd/t{p;!(hI7J_G1:@5KYS_ eVUgy])'}i63x `A0BW?9EeKVHTsZmnxoi,o#$)6005C+t}$x/=373>LlRLXf^DWQ^b]Yv$|hdyq4r\")@,L:MQ>^a_:IPgSsbtxe&)$9!vl~##\"6,0,7OP\\\\acjhmi~fglfb_]{lcnv3%!}{C=<C=/0aRNR[{aX+Z]cX&cth>& qrF5{++AaG?3IHLLBq'm\\[ddX]'}tGvy t<Q9 //S*KkQ<=O,PMZOthl~4{fndN}oxW''-3CcI0??pXY";
this.Dg(iQ.na(w),iQ.na(dy.filter.YE))};dy._F[1].prototype=new dy.rk;dy._F[1].prototype.LG=function(w,n){this.s_(["source","iwh","isc","bristle"]);
var H=dy.NK,y=this.LF;H.uniform2fv(y.iwh,n.i5);H.uniform1f(y.isc,n.a4Z);H.uniform1f(y.bristle,n.avt);
this.Ve([y.source,w])};dy._F[2]=function(){dy.rk.call(this);var w="1%* !*709;O@;=ETOUgQZ`Uk5|uqoo{\" 5,|,21-=_tSJIRRFK$kd`^^jpn$zkz! {,NcB:*:6lTMIGGSYWlfXY+{hymC+$ }}*0.C-6<1GULEFOF#jc_]]iom#lu{p'5}4/1_GA/CM@HD_YKL}ne8gjpe?'py t+94%,-1@NY;DJ?Uc_rlkrh^ptts(p'\"<7G.0;NBX5KFHdmivuzwd]^g^*vopyp;5AV>?D>:75SD;FNj\\XUSztszdmsh~-x+S-&'0'S?89B9u]GPVKaofmx9~338F.(yzN=494IiOG;QPTTJy/udcll`e/&|O~\"(|DYA;-._P:GYy_tsxuvfZpossi9N5%t%!H?6h8;A6]eSWmZLM~w#$.(/0:14I1+|}O@(FfL6CpXBNTlQYbp]4*8 lB;G/{@CD>=D>01bSGYy_V)X[aV0wams,mv|q(6,YOPUcKAmfgjmns\"i_z}~xw~xjk=.~x7W=RQVSTD8NMQQGv,rbRb^&|p,4\"&<)z{MFQR\\V]^h_bw_LLpP^f|e_*e-C:;@<65<-'bU93lTUZB`!fWQ+rfx'<\"rl5w)|R:$-3(>LGRrXSDKLP_uc|2ypup&4I/*?-!76::0_t[JIRRFKtk_z0wnu,A~E-yy>,Z\\+=QK1D:9Fx`afN*|Yf4{|\"ltjT$u~]--39IiOFKFefrrwyah|2yz";
this.Dg(iQ.na(w),iQ.na(dy.filter.YE))};dy._F[2].prototype=new dy.rk;dy._F[2].prototype.LG=function(w,n){this.s_(["source","tang","iwh","sigma","expo"]);
var H=dy.NK,y=this.LF;H.uniform2fv(y.iwh,n.i5);H.uniform1f(y.sigma,n.a5J);H.uniform1f(y.expo,n.av6);
this.Ve([y.source,w,y.tang,n.d6]);var c=H.LINEAR;H.activeTexture(H.TEXTURE0);H.texParameteri(H.TEXTURE_2D,H.TEXTURE_MIN_FILTER,c);
H.texParameteri(H.TEXTURE_2D,H.TEXTURE_MAG_FILTER,c);H.activeTexture(H.TEXTURE0)};function O(){}O._={};
O.adn={};O.a1m=function(){var w=[64,64,128,256,512,1024,2048],n=[];for(var l=0;l<w.length;l++){var H=w[l],y=document.createElement("canvas");
y.width=H;y.height=H;n.push(y.getContext("2d"))}return n}();O.Ke=function(w,n){var H,y=O.a1m,l=1,c=Math.max(w,n);
while(l<y.length&&c>y[l].canvas.width)l++;if(l==y.length){H=y[0];var Q=H.canvas;Q.width=w;Q.height=n}else{H=y[l];
H.clearRect(0,0,w,n)}return H};O.kz=function(w,n,H){var y=new Uint32Array(n*H);y[0]=w[0];for(var c=1;
c<n;c++)y[c]=y[c-1]+w[c];for(var Q=1;Q<H;Q++){var l=Q*n;y[l]=y[l-n]+w[l];for(var c=1;c<n;c++)y[l+c]=w[l+c]+y[l+c-1]+y[l+c-n]-y[l+c-n-1]}return y};
O.hA=function(w,n,H,y,c,Q){var q=(c-1)*n,S=Q*n;return w[S+y]-w[S+H-1]-w[q+y]+w[q+H-1]};O.O7=function(w,n,H){var y={},c=0,Q=0,q=new Uint32Array(w.buffer),S=q.length,A=Date.now();
for(var V=1;V<H-1;V++)for(var e=1;e<n-1;e++){var d=V*n+e,N=q[d];if(N>>>24<230)Q++;if(y[N]==null){y[N]=!0;
c++}}if(Q!=0||c<20)return!1;return!0};O.DE=function(w,n,H,y,c,Q){if(c==null)c=Q=0;y=Math.log(y)/Math.log(2);
y=Math.round(y);for(var l=0;l<H;l++)for(var q=0;q<n;q++){var S=l*n+q<<2,A=O.Eg(l+Q,q+c,y);w[S]=w[S+1]=w[S+2]=A;
w[S+3]=255}};O.Eg=function(l,w,n){return 255-((l>>>n)+(w>>>n)&1)*51};O.ps=function(w){return{b:w>>>16&255,J:w>>>8&255,k:w&255}};
O.w9=function(w){var n=w.toString(16);while(n.length<6)n="0"+n;return n};O.eu=function(w){return parseInt(w,16)};
O.Vr=function(w){return.3*w.b+.59*w.J+.11*w.k};O.$q=function(w){return Math.max(w.b,w.J,w.k)-Math.min(w.b,w.J,w.k)};
O.LC=function(w,n,H){return.3*w+.59*n+.11*H};O.ayD=function(w,n,H){return Math.max(w,n,H)-Math.min(w,n,H)};
O.bl=function(w,n){var H=n-w,y=Math.abs(H),c=H-1,Q=H+1;if(Math.abs(c)<y)H=c;else if(Math.abs(Q)<y)H=Q;
return H};O.nC=function(w){return w<.0031308?12.92*w:1.055*Math.pow(w,1/2.4)-.055};O.so=function(w){return w<.04045?w/12.92:Math.pow((w+.055)/1.055,2.4)};
O.ae0=function(w,n){var H=Math.min(w.length,n.length);for(var l=0;l<H;l+=4){var y=w[l],c=w[l+1],Q=w[l+2];
n[l]=16+Math.floor(65.481/255*y+128.553/255*c+24.966/255*Q+.5);n[l+1]=128-Math.floor(37.797/255*y-74.203/255*c+112/255*Q+.5);
n[l+2]=128+Math.floor(112/255*y-93.786/255*c-18.214/255*Q+.5);n[l+3]=w[l+3]}};O.vI=function(w,n,H){var y,c,Q,q=Math.max(w,n,H),S=Math.min(w,n,H);
Q=q;if(q!=0)c=(q-S)/q;else c=0;if(c==0)y=0;else{var A=q-S,V=(q-w)/A,e=(q-n)/A,d=(q-H)/A;if(w==q)y=d-e;
else if(n==q)y=2+V-d;else y=4+e-V;y*=1/6;if(y<0)y=y+1}return{WZ:y,ua:c,k:Q}};O.a4J=function(w,n,H){var y=0,c=0,Q=0;
if(n==0)y=c=Q=H;else{var q=(w-Math.floor(w))*6,S=Math.floor(q),A=q-Math.floor(q),V=H*(1-n),e=H*(1-n*A),d=H*(1-n*(1-A));
switch(S){case 0:y=H;c=d;Q=V;break;case 1:y=e;c=H;Q=V;break;case 2:y=V;c=H;Q=d;break;case 3:y=V;c=e;
Q=H;break;case 4:y=d;c=V;Q=H;break;case 5:y=H;c=V;Q=e;break}}return{b:y,J:c,k:Q}};O.v1=function(w,n,H){var y=Math.max(w,n,H),c=Math.min(w,n,H),Q=0,q=0,S=(y+c)*.5;
if(y!=c){var A=y-c;q=S>.5?A/(2-(y+c)):A/(y+c);switch(y){case w:Q=(n-H)/A+(n<H?6:0);break;case n:Q=(H-w)/A+2;
break;case H:Q=(w-n)/A+4;break}Q*=1/6}return{WZ:Q,ua:q,fg:S}};O.EY=function(w,n,H){var y,c,Q;if(n==0)y=c=Q=H;
else{var q=H<.5?H*(1+n):H+n-H*n,S=2*H-q;y=O.zn(S,q,w+1/3);c=O.zn(S,q,w);Q=O.zn(S,q,w-1/3)}return{b:y,J:c,k:Q}};
O.zn=function(w,n,H){if(H<0)H+=1;if(H>1)H-=1;if(H<1/6)return w+(n-w)*6*H;if(H<1/2)return n;if(H<2/3)return w+(n-w)*(2/3-H)*6;
return w};O.qR=function(w,n,H){var y=Math.max(w,n,H),c=Math.min(w,n,H),Q,q,S=y,A=y-c;q=y==0?0:A/y;if(y==c)Q=0;
else{switch(y){case w:Q=(n-H)/A+(n<H?6:0);break;case n:Q=(H-w)/A+2;break;case H:Q=(w-n)/A+4;break}Q*=1/6}return{WZ:Q,ua:q,X5:S}};
O.AT=function(w,n,H){var y,c,Q,l,q,S,A,V;l=Math.floor(w*6);q=w*6-l;S=H*(1-n);A=H*(1-q*n);V=H*(1-(1-q)*n);
switch(l%6){case 0:y=H,c=V,Q=S;break;case 1:y=A,c=H,Q=S;break;case 2:y=S,c=H,Q=V;break;case 3:y=S,c=A,Q=H;
break;case 4:y=V,c=S,Q=H;break;case 5:y=H,c=S,Q=A;break}return{b:y,J:c,k:Q}};O.dt=function(){var w=[],n=[];
for(var l=0;l<8e3;l++){var H=l*(1/4e3);w[l]=O.so(H);n[l]=H>.008856?Math.pow(H,1/3):(903.3*H+16)*(1/116)}return[w,n]}();
O.eT=function(w,n,H,y){if(y==null)y=[.9642,1,.8249];var c=O.dt[0],Q=O.dt[1];w=c[~~(.5+w*(4e3/255))];
n=c[~~(.5+n*(4e3/255))];H=c[~~(.5+H*(4e3/255))];var q=O.Rc.yg,S=q[0]*w+q[1]*n+q[2]*H,A=q[4]*w+q[5]*n+q[6]*H,V=q[8]*w+q[9]*n+q[10]*H;
S=S*(1/y[0]);A=A*(1/y[1]);V=V*(1/y[2]);return O.e0(S,A,V)};O.e0=function(w,n,H){var y=O.dt[1],c=y[~~(.5+w*4e3)],Q=y[~~(.5+n*4e3)],q=y[~~(.5+H*4e3)];
return{qm:116*Q-16,iL:500*(c-Q),k:200*(Q-q)}};O.l_=function(w,n,H){var y=903.3,c=.008856,Q=(w+16)/116,q=Q*Q*Q,S=Q-H/200,A=S*S*S,V=n/500+Q,e=V*V*V,d=A>c?A:(116*S-16)/y,N=q>c?q:(116*Q-16)/y,b=e>c?e:(116*V-16)/y,z=b*96.42,v=N*100,T=d*82.49,Y=O.Rc.Qb(O.Rc.Z2,[z/100,v/100,T/100,0]);
for(var l=0;l<4;l++)Y[l]=Math.max(0,Math.min(255,O.nC(Y[l])*255));return{b:Y[0],J:Y[1],k:Y[2]}};O.SQ=function(w,n,H,y,c){var Q=w.qm,q=w.iL,S=w.k,A=(Q<n.qm?n.qm-Q:H.qm<Q?H.qm-Q:0)*(1/100),V=(q<n.iL?n.iL-q:H.iL<q?H.iL-q:0)*(1/116),e=(S<n.k?n.k-S:H.k<S?H.k-S:0)*(1/116),d=Math.sqrt(A*A+V*V+e*e)*1.35;
return d<=y?Math.min(1,1.17*(1-d*c)):0};O.df=function(w){var n=[.9956,.9956,.9954,.7753,.782,.7895,.5749,.5829,.5932,.3854,.3898,.3989,.1366,.122,.1252,1,.9792,.7954,.7871,.7722,.636,.5822,.5744,.4751,.3875,.3822,.3126,.1261,.1144,.0693,1,.9652,.5979,.7928,.7604,.4791,.5851,.565,.3546,.3884,.3755,.2237,.1179,.1086,0,1,.9532,.3722,.7961,.7499,.3022,.587,.5571,.2159,.3882,.3695,.1154,.1051,.1046,0,1,.9445,0,.7976,.7421,0,.5869,.5508,0,.3881,.3653,0,.0938,.1022,0,.9733,.794,.8719,.7619,.6264,.6945,.5681,.4653,.5213,.3827,.3038,.3461,.1374,.0531,.0828,.9815,.7819,.7026,.7691,.6199,.5631,.5715,.4594,.4188,.3824,.2985,.2698,.1305,.0491,.0182,.9877,.7722,.5366,.7722,.6103,.4274,.5721,.4519,.3125,.3819,.2937,.1895,.1209,.0467,0,.9919,.7632,.3502,.7745,.6025,.2763,.573,.4458,.1912,.3812,.2897,.089,.1101,.0454,0,.9943,.7569,.0534,.7758,.597,.0442,.5729,.4412,0,.3807,.2868,0,.1027,.0446,0,.9528,.6013,.7552,.7481,.4721,.6014,.5602,.3459,.4503,.3792,.2136,.2944,.1381,0,.0324,.9584,.5928,.6121,.753,.469,.4892,.562,.3431,.3615,.3781,.2114,.2264,.1303,0,3e-4,.9624,.5875,.4732,.7544,.4629,.3742,.5607,.3386,.2697,.3761,.2091,.1541,.121,0,1e-4,.9649,.5814,.3186,.7556,.4584,.2473,.5608,.3347,.1646,.375,.2073,.0588,.1137,0,0,.9662,.5767,.1149,.7561,.4549,.0779,.5604,.3319,9e-4,.3744,.2058,0,.1088,0,0,.9362,.4032,.649,.7366,.3099,.5161,.5534,.2148,.384,.3759,.1032,.2452,.12,0,.0041,.94,.4001,.5282,.7398,.3111,.4202,.5532,.2166,.3069,.3735,.1073,.1841,.1139,0,.0036,.9427,.3993,.4122,.7401,.3097,.3231,.5517,.2165,.2275,.3715,.11,.1174,.1092,0,.0034,.9441,.3974,.285,.7405,.3093,.2178,.5511,.2167,.1376,.3693,.1129,.0302,.1056,0,.0032,.9445,.3951,.1314,.7406,.3095,.0917,.5505,.2176,.0086,.3681,.1148,0,.1033,0,.0031,.9221,0,.546,.7269,0,.4335,.5475,0,.3187,.3729,0,.1953,.084,0,.0023,.9248,.0373,.447,.7285,0,.3522,.5456,0,.2522,.3695,0,.1398,.0852,0,.0023,.9264,.079,.3534,.7279,.0224,.2733,.5434,0,.1856,.3669,0,.0812,.0861,0,.0024,.927,.0991,.2521,.7281,.0569,.1899,.5431,0,.1113,.3652,0,.0077,.0867,0,.0024,.9265,.1117,.1412,.7282,.0765,.0995,.5432,.0101,.0172,.3639,0,0,.0872,0,.0024,.7225,.8956,.9779,.571,.7098,.7784,.4213,.53,.5853,.2723,.3526,.3946,.0485,.1007,.1307,.7486,.8824,.7882,.5895,.7001,.6314,.4335,.5225,.4726,.2784,.3469,.3123,.0341,.0972,.0776,.7658,.8703,.6053,.5995,.6889,.4838,.4392,.5138,.3592,.2814,.3411,.2289,.0234,.0944,.0085,.78,.8609,.41,.6082,.6803,.3248,.4436,.5065,.2342,.283,.336,.133,.0037,.0928,0,.7915,.8551,.1645,.6149,.6746,.1258,.4458,.5011,.0697,.2837,.3321,0,0,.092,0,.7312,.7169,.8575,.5814,.5728,.6863,.4323,.4259,.5164,.2834,.2756,.3448,.0654,.024,.0921,.7519,.7108,.6983,.5949,.5673,.5599,.4394,.421,.4172,.2859,.2722,.2708,.0568,.0261,.0319,.7627,.7026,.5428,.6002,.559,.4317,.4419,.4147,.317,.2867,.2683,.195,.0425,.0282,0,.7723,.6957,.3769,.6056,.5525,.2948,.4442,.4093,.2077,.2871,.2651,.1067,.0215,.0303,0,.7806,.6916,.1821,.6099,.5478,.1312,.445,.4052,.0684,.2867,.2625,0,.0082,.0316,0,.736,.5475,.7455,.5857,.4365,.5975,.4376,.3188,.4485,.2894,.1926,.2954,.0569,0,.0469,.7508,.5451,.6108,.5946,.4336,.4887,.4418,.3166,.362,.2901,.1921,.2292,.0463,0,.0011,.7574,.5412,.4799,.5972,.4291,.3794,.4421,.3139,.2753,.2894,.1914,.1611,.0316,0,7e-4,.7636,.5369,.3403,.6008,.4253,.263,.4428,.3106,.1798,.2887,.1903,.0779,.0216,0,5e-4,.7692,.534,.1853,.6035,.4221,.1295,.443,.3081,.0601,.2877,.1889,0,.0152,0,3e-4,.7373,.3763,.6456,.587,.2924,.5158,.4401,.2001,.3846,.2928,.0875,.248,.0165,0,.0011,.7487,.3774,.5308,.5933,.2944,.4233,.4419,.2035,.3105,.292,.0949,.1894,.0078,0,2e-4,.7524,.3782,.4212,.594,.2943,.3305,.441,.2049,.2351,.2905,.0994,.1269,.0013,0,0,.7561,.3774,.3054,.5957,.2939,.2322,.4406,.2052,.1523,.2885,.1035,.0522,4e-4,0,0,.76,.376,.1816,.5977,.2936,.1243,.4399,.2057,.0498,.2863,.1051,0,2e-4,0,0,.7372,.1034,.551,.5874,.0185,.4371,.4413,0,.3224,.2947,0,.201,0,0,0,.7462,.119,.4545,.5913,.0567,.3601,.4411,0,.2599,.2928,0,.149,0,0,0,.7476,.1388,.3655,.5903,.081,.2833,.439,0,.196,.2902,0,.0936,0,0,0,.7499,.1482,.2718,.5912,.0964,.2026,.438,.0193,.1252,.288,0,.0208,0,0,0,.7526,.152,.1763,.5923,.106,.118,.4373,.0341,.0407,.2849,0,0,0,0,0,.4271,.8095,.9608,.3403,.6444,.7657,.2412,.4824,.5773,.1302,.3201,.3909,0,.0832,.1344,.4775,.7983,.7804,.376,.6367,.6256,.266,.4765,.4696,.1467,.3159,.3119,0,.0832,.0832,.5072,.7874,.61,.3956,.6266,.4874,.2794,.4691,.3629,.1561,.3113,.2331,0,.0815,.0173,.531,.7793,.4345,.4122,.6193,.3438,.2899,.4627,.2496,.1627,.3073,.1463,0,.0796,0,.5496,.7747,.2459,.4244,.6147,.1896,.2963,.4584,.1246,.1666,.3043,.0295,0,.0782,0,.4896,.6531,.8455,.3917,.524,.6776,.2849,.3893,.5109,.1706,.2491,.3424,0,.0062,.0979,.5218,.6487,.6934,.4134,.5194,.5559,.2985,.3857,.4154,.1781,.2475,.2712,0,.0082,.0413,.5395,.6417,.5472,.4242,.5122,.435,.3053,.3807,.3208,.182,.2448,.1995,0,.0063,0,.5549,.6359,.3963,.4341,.5068,.3102,.3109,.3763,.2209,.1849,.2427,.1194,0,.0048,0,.5676,.6326,.2389,.4416,.5031,.1779,.3142,.373,.111,.1858,.2406,.0137,0,.0039,0,.5288,.5048,.7395,.4223,.4036,.5936,.3112,.2932,.4464,.194,.1723,.2955,0,.0013,.0537,.5487,.5039,.6103,.4355,.4015,.4884,.3185,.2924,.3629,.1971,.1738,.2316,0,0,0,.5585,.5009,.4864,.4409,.3981,.3847,.3215,.2912,.2809,.1983,.175,.1675,0,0,0,.5683,.4974,.3581,.4472,.3952,.2773,.3237,.2886,.1929,.1985,.1748,.0922,0,0,0,.5766,.495,.2276,.452,.3926,.1646,.3252,.2868,.096,.1979,.174,0,0,0,0,.5526,.357,.6462,.4414,.2769,.5172,.3273,.187,.3867,.2083,.0725,.2515,0,1e-4,.005,.5662,.3586,.535,.4497,.2794,.427,.3308,.1917,.3145,.2087,.0831,.1946,0,0,0,.571,.3597,.4301,.4513,.2799,.3379,.3308,.1939,.2425,.2076,.0893,.1352,0,0,0,.5765,.3593,.3223,.4545,.2797,.2459,.3311,.1945,.1654,.2062,.0944,.068,0,0,0,.582,.3583,.2145,.458,.2797,.151,.3314,.1954,.0803,.2039,.0965,0,0,0,0,.5685,.1511,.5592,.4543,.0767,.4446,.3382,0,.3293,.2147,0,.2076,0,0,0,.5777,.1587,.464,.4588,.0959,.3679,.3388,.0048,.2673,.2134,0,.1566,0,0,0,.579,.1719,.3773,.4578,.111,.2931,.3368,.0292,.2054,.2108,0,.1027,0,0,0,.5819,.1786,.2881,.4594,.1215,.2157,.3361,.0464,.1381,.2085,0,.035,0,0,0,.5855,.1817,.2015,.4613,.1282,.1378,.3358,.0572,.0647,.2046,0,0,0,0,0,0,.7368,.9457,0,.5885,.7547,0,.4416,.5705,0,.2922,.3876,0,.0637,.1371,0,.7271,.7732,0,.5822,.62,0,.4368,.4665,0,.2893,.3113,0,.0575,.0877,.0293,.7172,.6118,0,.5735,.4893,0,.4308,.3654,0,.2859,.2362,0,.0527,.0254,.1667,.7094,.4492,.1105,.5675,.3578,0,.4259,.2615,0,.2833,.1562,0,.0495,0,.2211,.7051,.2881,.1542,.5639,.2285,.048,.4231,.1574,0,.2814,.0642,0,.0479,0,.1089,.6003,.8361,.0907,.4814,.6702,.0189,.3569,.506,0,.2257,.3404,0,.0031,.1007,.2145,.596,.6892,.165,.478,.5528,.0875,.3549,.4141,0,.2259,.2718,0,.0011,.0458,.2608,.5897,.5497,.1974,.4719,.4379,.1153,.3511,.3242,0,.2243,.2033,0,0,0,.2941,.5846,.4094,.2219,.4675,.3224,.1344,.3476,.2318,.0094,.2233,.1295,0,0,0,.3178,.5818,.2725,.2385,.4645,.2083,.1459,.3452,.1382,.0182,.222,.0431,0,0,0,.2849,.4701,.7351,.2249,.3739,.5897,.1519,.2696,.4439,.0559,.1531,.2948,0,.0015,.0592,.3179,.4692,.6097,.2491,.373,.4877,.168,.2703,.3631,.0671,.1566,.233,0,0,2e-4,.3371,.4664,.4904,.2614,.37,.3884,.1766,.2698,.2847,.0733,.1587,.1716,0,0,0,.3538,.4634,.3698,.2734,.3679,.2879,.1834,.268,.2025,.0782,.1594,.102,0,0,0,.3665,.4614,.2537,.2822,.366,.1885,.1883,.2667,.1185,.0802,.1591,.0183,0,0,0,.3552,.3407,.6468,.2814,.2628,.5183,.2001,.1749,.3882,.1031,.062,.2533,0,3e-4,.0134,.372,.3429,.5387,.2932,.2657,.4297,.2062,.1802,.3173,.106,.0746,.1978,0,0,0,.3806,.3439,.4368,.2976,.2663,.3437,.2082,.1829,.2479,.1073,.0816,.1406,0,0,0,.3886,.3435,.3339,.3031,.2664,.2565,.2104,.184,.1754,.1086,.0873,.0786,0,0,0,.396,.3429,.2346,.3091,.2666,.1701,.2126,.1855,.1007,.1086,.0897,.0056,0,0,0,.3978,.1741,.5653,.3167,.1078,.4527,.2294,.006,.3373,.1238,0,.2143,0,0,0,.4068,.1821,.4725,.3221,.1191,.3752,.2306,.0312,.2741,.1272,0,.1636,0,0,0,.4089,.192,.387,.3214,.1294,.3018,.2287,.0514,.2136,.1274,0,.1108,0,0,0,.4121,.1971,.2993,.3239,.1361,.2264,.2287,.0629,.1491,.1264,0,.0499,0,0,0,.416,.2,.2154,.3268,.1401,.1521,.2295,.0705,.0818,.1225,0,.0054,0,0,0,0,.678,.9338,0,.5431,.7462,0,.4082,.5651,0,.2692,.3849,0,.0212,.1397,0,.6694,.7677,0,.5376,.6154,0,.4042,.4639,0,.2673,.3107,0,.0199,.0913,0,.66,.6122,0,.5301,.4905,0,.3996,.3672,0,.2652,.2384,0,.0189,.0316,0,.652,.4583,0,.5254,.368,0,.3963,.2705,0,.264,.1635,0,.0188,0,0,.6472,.3143,0,.5227,.2546,0,.395,.1795,0,.2633,.0845,0,.0193,0,0,.5591,.8297,0,.4461,.6643,0,.3299,.502,0,.2062,.3385,0,.0032,.1024,0,.5534,.686,0,.4436,.5501,0,.3289,.4127,0,.2074,.272,0,.0012,.0482,0,.5472,.5511,0,.4382,.4399,0,.3261,.3266,0,.2067,.2061,0,0,0,0,.5425,.4181,0,.4347,.3313,0,.3234,.2399,0,.206,.1369,0,0,0,0,.5399,.2941,0,.4324,.2287,0,.3218,.1565,0,.2049,.0625,0,0,0,0,.4439,.733,0,.3496,.5873,0,.25,.4423,0,.1369,.2945,0,.0016,.0628,0,.4411,.6097,0,.3493,.4877,0,.2516,.3635,0,.1404,.2343,0,0,.0023,0,.4381,.4935,0,.3466,.3917,0,.2516,.2881,0,.1427,.1753,0,0,0,0,.4354,.3781,0,.345,.2962,0,.2503,.2102,0,.1441,.1098,0,0,0,0,.4338,.2711,0,.3436,.2051,0,.2495,.1342,0,.1445,.037,0,0,0,0,.329,.6482,0,.252,.52,0,.1654,.3901,0,.0534,.2551,0,5e-4,.0192,.0138,.3301,.5419,.0039,.2544,.4323,0,.1705,.3197,0,.0661,.2002,0,0,0,.0783,.3307,.4416,.0404,.2547,.3482,0,.173,.2521,0,.0737,.1446,0,0,0,.1116,.3303,.3412,.0706,.2546,.264,0,.1741,.1825,0,.079,.0854,0,0,0,.1327,.3301,.2469,.0914,.2547,.1832,.0057,.1755,.1135,0,.0784,.015,0,0,0,.1815,.1895,.5709,.1383,.1275,.4596,.0795,.0318,.3435,0,0,.2181,0,0,0,.1962,.1967,.4793,.1496,.1334,.3808,.0833,.05,.2787,0,0,.1661,0,0,0,.2029,.2039,.3936,.1519,.1402,.3076,.0827,.0642,.2186,0,0,.1136,0,0,0,.2078,.2084,.306,.1573,.1445,.2334,.086,.0724,.1556,.003,.0012,.055,0,0,0,.2125,.2113,.223,.1628,.1468,.1616,.0917,.0769,.0917,.009,.0033,.0083,0,0,0],H=Math.round(Math.pow(n.length/3,1/4)),y=[0,0,0,0];
ICC.U.applyLUT4Float(n,H,w,y);return y};O.ayp=function(w){var n=[.749,.6784,.6706,.902,.8413,.7807,.5857,.7788,.9743,.9154,.3677,.6283,1,.9841,.2521,.443,1,.9847,.1976,.27,1,.975,.1282,.1337,1,.9637,.0411,.0428,1,.9165,0,.0032,.9395,.8528,0,0,.9105,.7991,0,0,.7599,.552,.7696,.789,.8485,.6228,.6576,.7675,1,.842,.4653,.5761,1,.9389,.3447,.3743,1,.9546,.2577,.2156,1,.9601,.1576,.0954,1,.9601,.0357,.0193,.9879,.9022,0,9e-4,.932,.8336,0,0,.9012,.7864,0,0,.805,.4894,.9278,.6186,.8728,.4726,.9073,.6172,.9147,.5608,.6358,.5491,1,.7567,.4347,.3587,1,.8577,.3079,.1781,1,.8891,.1915,.0504,1,.8925,.0326,.0038,.9683,.841,0,0,.9114,.7927,0,0,.8789,.7515,0,0,.8424,.4034,1,.4124,.8827,.3977,1,.4091,.9032,.4007,.8385,.4013,.9123,.4843,.5898,.339,.9516,.6175,.3867,.2021,.9849,.7235,.2209,.0608,.9818,.7644,.0434,.0018,.9285,.741,0,0,.8782,.712,0,0,.8539,.6876,0,0,.8756,.3098,1,.2322,.8775,.3122,1,.2323,.8913,.3197,.9989,.2249,.889,.3309,.7571,.2136,.8868,.3864,.5323,.1686,.8967,.471,.3416,.0855,.9032,.5434,.1579,.0123,.878,.5672,0,0,.8385,.5812,0,0,.812,.5885,0,0,.8502,.217,1,.0915,.8503,.2193,1,.0904,.8605,.2204,1,.0816,.8568,.225,.8587,.0808,.8448,.2421,.6714,.0732,.8374,.2777,.4686,.0486,.8344,.3291,.2788,.0137,.8184,.3632,.0943,7e-4,.7881,.388,0,0,.7592,.4392,0,0,.8132,.0895,1,.0102,.8134,.0907,1,.0101,.8144,.0938,1,.0085,.8166,.0958,.9103,.0063,.8021,.1066,.7459,.0078,.7898,.1222,.5781,.0046,.7796,.1444,.3947,.0016,.7626,.1735,.2164,0,.7342,.1972,.0383,0,.6884,.2408,0,0,.7532,0,1,0,.749,0,1,0,.7484,0,1,0,.7427,0,.9015,0,.733,0,.7722,0,.7285,0,.6341,0,.724,0,.4726,0,.7068,0,.3102,0,.6877,.0167,.1424,0,.6493,.0413,0,0,.6847,0,1,0,.6808,0,1,0,.6732,0,1,0,.6718,0,.8971,0,.6666,0,.7786,0,.6547,0,.654,0,.641,0,.511,0,.6301,0,.3732,0,.6138,0,.2318,0,.581,0,.0867,0,.6187,0,1,0,.6193,0,1,0,.6162,0,1,0,.6007,0,.9316,0,.5922,0,.7975,0,.5791,0,.6774,0,.5681,0,.5466,0,.5532,0,.4101,0,.5336,0,.2795,0,.5123,0,.1487,0,.6087,.7256,.6558,.8508,.7488,.7971,.5809,.7731,.8912,.9472,.3678,.6053,.9921,1,.2518,.4063,1,1,.1981,.2413,1,1,.1227,.1117,1,.9861,.0232,.025,.9851,.9182,0,.0012,.9143,.8549,0,0,.897,.7991,0,0,.6642,.5963,.7836,.778,.723,.6642,.6485,.7627,.8995,.8599,.4693,.5645,1,1,.3571,.3191,1,1,.2559,.1757,1,.9873,.1346,.0642,1,.9812,.009,.0075,.9627,.8988,0,1e-4,.9127,.8359,0,0,.8883,.7853,0,0,.7564,.504,.9343,.6127,.7956,.4911,.8932,.6161,.8388,.581,.6217,.5473,.9429,.7604,.4287,.3566,1,.8783,.2925,.1608,1,.9216,.1633,.0297,1,.9158,0,6e-4,.9365,.8435,0,0,.8922,.7971,0,0,.8699,.7502,0,0,.8121,.4123,1,.4107,.8406,.4044,1,.4093,.8524,.4134,.8287,.4012,.8718,.4935,.5825,.3369,.9173,.6243,.3823,.1991,.9528,.7278,.2163,.0588,.9572,.7668,.0363,.001,.9059,.7449,0,0,.8676,.7128,0,0,.8391,.6911,0,0,.849,.3168,1,.233,.8523,.3193,1,.2323,.8635,.3245,.9866,.2264,.8536,.3418,.7488,.2167,.8557,.3954,.5289,.1694,.8726,.4779,.3352,.0833,.8788,.546,.1527,.0116,.8602,.5681,0,0,.8227,.5855,0,0,.8024,.5895,0,0,.8351,.2194,1,.0917,.8363,.2207,1,.0898,.8397,.2242,1,.0837,.8366,.2325,.8527,.083,.8259,.2485,.667,.0744,.8209,.2833,.4646,.0489,.815,.333,.2763,.0139,.7997,.3685,.0902,3e-4,.7724,.3932,0,0,.7446,.441,0,0,.7961,.0959,1,.0109,.7954,.0992,1,.0107,.8023,.0973,1,.0086,.7985,.1045,.9054,.0071,.7905,.1085,.7443,.0078,.778,.1256,.5723,.0048,.7654,.1475,.39,.0021,.7467,.1798,.2119,0,.7229,.2012,.0359,0,.6745,.2425,0,0,.7429,0,1,0,.7436,0,1,0,.7367,0,1,0,.7319,0,.9005,0,.7233,0,.7686,0,.7139,0,.6325,0,.7111,0,.4704,0,.6945,.0025,.308,0,.6726,.0212,.138,0,.6387,.0453,0,0,.6714,0,1,0,.6687,0,1,0,.6685,0,1,0,.6575,0,.8922,0,.6536,0,.7756,0,.6418,0,.6508,0,.6323,0,.509,0,.6188,0,.3695,0,.6021,0,.228,0,.5729,0,.0823,0,.6151,0,1,0,.6127,0,1,0,.6027,0,1,0,.5975,0,.932,0,.5855,0,.7966,0,.5747,0,.6768,0,.5622,0,.5457,0,.5432,0,.4053,0,.5264,0,.2766,0,.506,0,.1468,0,.5236,.8098,.7113,.7578,.5807,.8385,.5899,.723,.7287,.9813,.3955,.5643,.8563,1,.2722,.3767,.9135,1,.2027,.2129,.9366,1,.1087,.0833,.9431,1,.0012,.0101,.9083,.9248,0,0,.8762,.8521,0,0,.8566,.8037,0,0,.5233,.7082,.8317,.727,.5247,.7528,.6746,.7138,.7127,.8749,.4697,.5528,.8909,1,.3471,.3125,.9446,1,.24,.1426,.9599,1,.1084,.0359,.9467,.9998,0,.0025,.9056,.9001,0,0,.8711,.838,0,0,.8572,.7854,0,0,.6359,.548,.9563,.5917,.6337,.5523,.8828,.5966,.6892,.6225,.6122,.5317,.8186,.7781,.4193,.3494,.9121,.8888,.2816,.1584,.9602,.9439,.1126,.0204,.9361,.9256,0,0,.8882,.8447,0,0,.856,.7966,0,0,.8377,.753,0,0,.7277,.4351,1,.4042,.7407,.432,1,.4068,.7442,.4393,.8038,.4006,.7786,.5193,.5652,.3295,.8387,.6407,.3748,.1926,.8874,.7349,.2097,.0529,.8924,.7709,.032,.0018,.858,.7467,0,0,.8272,.7233,0,0,.8136,.6967,0,0,.7826,.3341,1,.2338,.7853,.3333,1,.2331,.7881,.3391,.968,.2315,.7838,.3564,.733,.2177,.797,.411,.5152,.1661,.8158,.4923,.3265,.0793,.8324,.5584,.1443,.0087,.8121,.5816,0,0,.7878,.5973,0,0,.777,.6019,0,0,.786,.2337,1,.0947,.7866,.2356,1,.0935,.794,.2365,1,.0892,.7882,.2408,.84,.0867,.7786,.2591,.6529,.0764,.7781,.2939,.4538,.05,.7714,.3458,.2706,.0135,.761,.3799,.0813,0,.7349,.4007,0,0,.7114,.448,0,0,.7632,.1079,1,.0116,.7628,.109,1,.0113,.7635,.111,1,.0099,.7659,.1113,.9006,.0078,.7539,.1229,.7356,.0084,.7432,.1339,.5638,.0056,.7288,.1625,.3809,.0026,.7135,.1888,.1994,0,.6876,.2145,.0287,0,.6434,.2513,0,0,.7136,0,1,0,.7159,0,1,0,.7118,0,1,0,.7055,0,.8971,0,.7011,0,.7648,0,.6892,0,.6268,0,.6846,0,.4642,0,.6698,.0126,.3029,0,.6423,.0335,.1307,0,.6089,.0591,0,0,.6482,0,1,0,.6436,0,1,0,.6439,0,.9976,0,.6368,0,.8876,0,.6335,0,.768,0,.6221,0,.6462,0,.6134,0,.5064,0,.5985,0,.3643,0,.5797,0,.2207,0,.5536,0,.074,0,.5946,0,1,0,.591,0,1,0,.5835,0,1,0,.5768,0,.9227,0,.5633,0,.7881,0,.5505,0,.6711,0,.5446,0,.5428,0,.5278,0,.4021,0,.5115,0,.2734,0,.4929,0,.1453,0,.3928,.9309,.8564,.6237,.4085,.9414,.6804,.6099,.5314,1,.4506,.505,.7062,1,.3091,.3328,.7981,1,.2189,.1772,.8415,1,.109,.0581,.8557,1,0,.0038,.8363,.9173,0,0,.8185,.8532,0,0,.8136,.8032,0,0,.3926,.8335,.9373,.6099,.3914,.86,.7587,.5969,.5208,.9052,.5042,.5014,.7095,.9938,.3603,.3041,.8163,1,.2391,.1297,.8533,1,.1035,.0267,.8464,.9973,0,.001,.8253,.899,0,0,.8145,.8364,0,0,.7999,.7938,0,0,.4805,.6401,1,.5316,.4643,.6578,.8868,.5349,.5124,.6937,.6226,.4883,.6608,.8025,.423,.3315,.7802,.8952,.2804,.147,.8409,.9398,.1161,.0171,.8327,.9166,0,0,.8123,.8496,0,0,.7991,.7982,0,0,.7923,.7593,0,0,.5991,.4869,1,.3854,.593,.4845,1,.3895,.5952,.4942,.7873,.3831,.6365,.562,.5515,.3126,.7242,.6716,.3636,.1788,.7841,.7475,.2033,.0483,.802,.776,.0202,7e-4,.7817,.756,0,0,.7737,.7264,0,0,.7679,.7035,0,0,.6792,.3636,1,.2325,.6802,.3638,1,.2323,.6747,.3671,.9278,.2351,.6742,.3856,.7107,.2174,.6972,.4382,.4946,.1601,.7298,.5132,.3124,.0724,.7516,.5748,.1318,.0064,.7416,.5918,0,0,.7332,.6099,0,0,.7343,.6136,0,0,.7114,.254,1,.0967,.7102,.2555,1,.0967,.7129,.2556,1,.0952,.7059,.2657,.8221,.0947,.7005,.2769,.6384,.0808,.7012,.3167,.4363,.0488,.7045,.3648,.2536,.0117,.6969,.3958,.0646,0,.6721,.4156,0,0,.6617,.454,0,0,.7086,.127,1,.0117,.7087,.1273,1,.0114,.7087,.1276,1,.0103,.7055,.1308,.8869,.0097,.6932,.1399,.7262,.0104,.6792,.1579,.548,.0074,.6742,.1807,.3657,.0017,.6585,.2084,.185,0,.6306,.2333,.0138,0,.5969,.2617,0,0,.6731,0,1,0,.6724,0,1,0,.6689,0,1,0,.6592,0,.8912,0,.6558,0,.7581,0,.6428,0,.6147,0,.6351,.0126,.4524,0,.6185,.0313,.2871,0,.5976,.0491,.1142,0,.5614,.0772,0,0,.6144,0,1,0,.6123,0,1,0,.603,0,.9827,0,.6011,0,.8682,0,.5946,0,.7618,0,.5834,0,.6393,0,.5668,0,.4938,0,.5603,0,.3559,0,.5419,0,.2119,0,.5129,0,.0629,0,.5582,0,1,0,.5549,0,1,0,.5497,0,1,0,.5426,0,.9012,0,.5346,0,.7836,0,.5246,0,.6637,0,.5101,0,.5294,0,.4908,0,.3919,0,.4747,0,.2644,0,.4595,0,.1342,0,.3137,1,1,.4733,.3189,1,.8233,.4638,.3868,1,.5467,.4106,.5429,1,.3574,.2797,.6666,1,.2407,.1393,.7286,1,.1057,.0307,.735,1,0,.0015,.7372,.9194,0,0,.7426,.8544,0,0,.7462,.8049,0,0,.3259,.9135,1,.4628,.3262,.9346,.8592,.4543,.3838,.9454,.588,.408,.5321,.9864,.3862,.2741,.6699,1,.2458,.1083,.7251,1,.0927,.0184,.7305,.9822,0,2e-4,.7309,.9012,0,0,.73,.8418,0,0,.7427,.7935,0,0,.3618,.7477,1,.4296,.3585,.7638,.9306,.4271,.388,.7798,.6696,.3984,.507,.8347,.442,.2873,.6342,.9005,.2877,.13,.7062,.9333,.1114,.0152,.7116,.9203,0,0,.7164,.85,0,0,.7268,.8,0,0,.7276,.7647,0,0,.4519,.5652,1,.3416,.4423,.5685,1,.3457,.4419,.582,.7818,.3366,.4928,.6298,.5572,.278,.5858,.7058,.3645,.1569,.6651,.7635,.1975,.0351,.6776,.7853,.0126,2e-4,.6885,.7637,0,0,.7031,.732,0,0,.7073,.7104,0,0,.5498,.4075,1,.2182,.5445,.4134,1,.2215,.5337,.4154,.9026,.2247,.5398,.4345,.6939,.2036,.5641,.4827,.4766,.1415,.6157,.5483,.2963,.0582,.6454,.5965,.1152,.0034,.6384,.6125,0,0,.6636,.6193,0,0,.6733,.6215,0,0,.6082,.2853,1,.0985,.6052,.2872,1,.099,.6033,.2876,.9985,.1003,.5881,.2934,.8012,.099,.5865,.3116,.6141,.079,.5981,.3473,.4135,.0422,.6092,.3881,.2359,.0082,.5998,.4165,.0474,0,.5852,.4314,0,0,.5864,.4558,0,0,.6267,.153,1,.0146,.6269,.1536,1,.0148,.6212,.1591,1,.0156,.6168,.1609,.8668,.015,.6037,.1683,.7062,.0124,.5948,.1835,.5296,.0088,.5846,.2129,.3441,.0028,.5714,.2348,.1614,0,.5475,.2539,0,0,.5249,.276,0,0,.607,.0028,1,0,.604,.003,1,0,.6012,.003,1,0,.5967,.0088,.8855,0,.5851,.0145,.7469,0,.5778,.0211,.6015,0,.5622,.0363,.4349,0,.555,.0528,.2686,0,.5246,.0748,.0949,0,.4898,.1075,0,0,.557,0,1,0,.554,0,1,0,.5556,0,.9704,0,.5461,0,.854,0,.5335,0,.748,0,.5282,0,.6233,0,.5141,0,.482,0,.5043,0,.3432,0,.4837,0,.1895,0,.4646,0,.0428,0,.5095,0,1,0,.507,0,1,0,.5047,0,.9931,0,.4953,0,.8844,0,.4804,0,.7672,0,.4725,0,.6466,0,.466,0,.5123,0,.4425,0,.3809,0,.4341,0,.2525,0,.4141,0,.1232,0,.2744,1,1,.3276,.2771,1,.9289,.322,.3076,1,.6518,.2983,.4032,1,.4154,.216,.521,1,.2548,.0952,.5899,1,.1005,.0148,.6089,1,0,0,.6354,.9153,0,0,.6536,.8588,0,0,.6715,.814,0,0,.278,.9672,1,.3214,.2835,.9827,.9637,.3121,.308,.9817,.6807,.292,.3991,.9886,.4399,.2125,.5121,1,.2605,.0852,.5823,1,.0832,.0063,.5957,.9741,0,1e-4,.6226,.9023,0,0,.6522,.8412,0,0,.6644,.8029,0,0,.2915,.8321,1,.3092,.2924,.8426,.9941,.3028,.3097,.8464,.7305,.2875,.3795,.8693,.4917,.2195,.4864,.9075,.3067,.1018,.5593,.9289,.1127,.0095,.579,.9101,0,0,.6139,.8517,0,0,.6366,.8057,0,0,.6553,.7739,0,0,.3388,.6529,1,.2664,.3344,.6586,1,.2654,.3357,.6702,.8018,.2588,.3749,.6982,.5799,.2152,.4551,.7464,.3722,.1185,.5249,.783,.1979,.0235,.5441,.7975,0,0,.5803,.7682,0,0,.6132,.7437,0,0,.6397,.7187,0,0,.4144,.4737,1,.1889,.406,.4761,1,.1912,.4003,.4831,.8798,.1888,.4038,.5049,.6886,.1694,.438,.5429,.4731,.1153,.4899,.5936,.2893,.0398,.5216,.6227,.099,.0016,.5174,.6307,0,0,.5619,.6237,0,0,.5881,.6192,0,0,.4782,.3284,1,.0925,.4748,.3285,1,.0943,.4703,.3299,.9508,.0972,.4619,.3412,.7782,.0906,.4622,.3593,.5875,.0716,.4706,.3874,.3871,.031,.4905,.4232,.2084,.0031,.4873,.4428,.0192,0,.4775,.4527,0,0,.5036,.4645,0,0,.5174,.1933,1,.0187,.5175,.1929,1,.019,.5122,.1969,.9895,.0194,.5048,.199,.8362,.0186,.4917,.2083,.6837,.0155,.4812,.2226,.5026,.0084,.4776,.2411,.3179,.0016,.4671,.2627,.1339,0,.4456,.2821,0,0,.4336,.2985,0,0,.5219,.0369,1,0,.5211,.0365,1,0,.5164,.0361,.9928,0,.5051,.0417,.8566,0,.4959,.0461,.7324,0,.4841,.0562,.5795,0,.4697,.0715,.4117,0,.4546,.0909,.2404,0,.4329,.1095,.0677,0,.4078,.1379,0,0,.489,0,1,0,.4874,0,1,0,.4815,0,.9413,0,.474,0,.8389,0,.466,0,.7325,0,.4551,0,.6035,0,.4428,0,.4661,0,.4307,0,.3226,0,.4167,0,.1676,0,.391,0,.0206,0,.447,0,1,0,.4428,0,1,0,.4372,0,.9575,0,.4331,0,.8537,0,.4216,0,.7437,0,.4118,0,.6299,0,.4014,0,.5006,0,.3852,0,.3649,0,.3718,0,.2346,0,.3521,0,.1041,0,.2356,1,1,.1977,.2375,1,.9964,.1944,.2509,1,.7373,.1859,.3016,1,.4867,.1346,.3788,1,.2757,.053,.4353,1,.0751,.0036,.4679,.9829,0,0,.5176,.911,0,0,.5557,.8626,0,0,.5835,.8201,0,0,.2376,.9791,1,.1994,.241,.985,1,.1911,.2501,.9855,.758,.1827,.2933,.9955,.5092,.1362,.3705,1,.2915,.0523,.4224,1,.0745,.0017,.456,.9598,0,0,.5092,.8949,0,0,.546,.851,0,0,.5832,.807,0,0,.2428,.8734,1,.1892,.2449,.8873,1,.1813,.2484,.8891,.7869,.1743,.2865,.8979,.5484,.136,.3596,.9102,.3326,.0622,.4106,.9259,.1239,.0039,.4338,.9056,0,0,.4983,.8524,0,0,.5426,.8125,0,0,.573,.7804,0,0,.2616,.7229,1,.1721,.2607,.7283,1,.1684,.2628,.738,.8211,.1631,.2833,.7568,.6146,.1351,.336,.7794,.3977,.0727,.3928,.8002,.1999,.0099,.403,.8038,0,0,.4608,.7797,0,0,.5189,.7516,0,0,.5576,.7273,0,0,.303,.5471,1,.1332,.2958,.5539,1,.1322,.2912,.5609,.8726,.1295,.2999,.5779,.6879,.1131,.325,.6005,.481,.074,.3663,.6358,.286,.0191,.3853,.6543,.0836,3e-4,.3915,.653,0,0,.4527,.6307,0,0,.5,.6145,0,0,.3535,.3827,1,.0752,.3475,.3848,1,.0766,.3423,.3904,.9281,.0765,.3331,.4014,.759,.0698,.3362,.4178,.5775,.0489,.3526,.4416,.3818,.018,.3669,.4679,.1894,3e-4,.3622,.475,.0046,0,.3698,.4765,0,0,.4168,.4707,0,0,.3961,.2377,1,.018,.394,.2385,1,.019,.3862,.2407,.9519,.0188,.3794,.2484,.8108,.0182,.3676,.2545,.6583,.0131,.3626,.2686,.4759,.0052,.3483,.279,.2863,0,.3452,.3023,.1046,0,.3383,.3138,0,0,.3349,.3243,0,0,.4138,.0832,1,0,.4128,.0828,1,0,.403,.0869,.9634,0,.398,.0906,.835,0,.3864,.0947,.709,0,.3743,.1046,.5563,0,.3601,.113,.3821,0,.3461,.1265,.2092,0,.3293,.1458,.0382,0,.3117,.1713,0,0,.4015,0,1,0,.4005,0,.9806,0,.3974,0,.9052,0,.3865,0,.8146,0,.3784,0,.7183,0,.3675,0,.5942,0,.3587,0,.4443,0,.3438,0,.2997,0,.3265,0,.1417,0,.3072,.0125,0,0,.3763,0,1,0,.3727,0,1,0,.3662,0,.93,0,.3597,0,.8277,0,.3483,0,.7249,0,.3357,0,.6068,0,.3269,0,.473,0,.3161,0,.3445,0,.2997,0,.2142,0,.2812,0,.0787,0,.1798,1,1,.0938,.181,1,1,.0903,.1845,1,.7894,.0861,.2115,1,.5402,.0594,.2579,1,.3057,.0185,.2774,1,.0677,1e-4,.3256,.9598,0,0,.3928,.9075,0,0,.4521,.8635,0,0,.4926,.8257,0,0,.1811,.9832,1,.0877,.1812,.9921,1,.0828,.1842,.9876,.8022,.0815,.2089,.9916,.5605,.0588,.2519,.9889,.3224,.0193,.2745,.9831,.089,4e-4,.3128,.9413,0,0,.3943,.8887,0,0,.4459,.8484,0,0,.49,.8155,0,0,.1842,.8915,1,.0889,.1871,.9021,1,.0826,.186,.9064,.8239,.0797,.2038,.9105,.5965,.0591,.2407,.9175,.3599,.0195,.2727,.9144,.1331,1e-4,.2918,.8947,0,0,.3784,.8495,0,0,.4393,.8145,0,0,.4801,.7848,0,0,.1893,.7731,1,.0803,.1899,.779,1,.0761,.1883,.7848,.8434,.0712,.2,.7937,.6398,.0574,.2314,.8062,.4171,.0253,.2675,.8092,.2047,.0016,.2648,.8119,0,0,.3424,.7811,0,0,.4136,.7509,0,0,.4589,.7248,0,0,.2077,.6167,1,.0629,.2033,.6213,1,.0608,.201,.6309,.8729,.0584,.2066,.6375,.6976,.0496,.2214,.6549,.4903,.0257,.2468,.6718,.2868,.0054,.2557,.6752,.0734,0,.2793,.6639,0,0,.3477,.636,0,0,.399,.6036,0,0,.2371,.4439,1,.0389,.2342,.4504,1,.0381,.2304,.4546,.8961,.0358,.2233,.4645,.7462,.0317,.2265,.4766,.5664,.0192,.2389,.4958,.3758,.006,.2412,.5084,.1699,0,.2384,.5123,0,0,.2799,.4942,0,0,.3284,.4766,0,0,.2724,.2915,1,.0114,.2707,.2923,1,.0118,.2656,.2956,.9239,.0115,.2552,.303,.7898,.0103,.2481,.3086,.6338,.0059,.2427,.3218,.4532,9e-4,.2347,.3316,.2707,0,.2277,.344,.0791,0,.2317,.3491,0,0,.2578,.3452,0,0,.294,.1334,1,0,.293,.1356,1,0,.288,.1408,.9295,0,.2775,.1432,.8069,0,.2699,.1474,.684,0,.2537,.1563,.5238,0,.2399,.1614,.3555,0,.2205,.1718,.1745,0,.212,.192,.014,0,.212,.2099,0,0,.3011,0,.9996,0,.2969,0,.9647,0,.2924,0,.8929,0,.2863,0,.8143,0,.2761,0,.7028,0,.2675,.0011,.5775,0,.2541,.0089,.4329,0,.2377,.016,.2739,0,.2225,.0259,.1098,0,.2042,.0512,0,0,.288,0,.9766,0,.2864,0,.9423,0,.2815,0,.8783,0,.2756,0,.7908,0,.2673,0,.6935,0,.252,0,.5817,0,.2428,0,.4541,0,.2284,0,.3226,0,.2117,0,.1849,0,.1919,0,.053,0,.1032,1,1,.019,.104,1,1,.0159,.1029,1,.8122,.0139,.1104,1,.5743,.0092,.1308,.9991,.3284,.001,.1322,.9907,.0729,0,.1863,.941,0,0,.273,.8913,0,0,.3426,.8578,0,0,.398,.8264,0,0,.1031,.9708,1,.0179,.1039,.9802,1,.0153,.1025,.9835,.822,.0124,.1102,.9797,.5876,.0081,.1289,.97,.3442,3e-4,.1303,.9646,.0885,0,.1773,.9255,0,0,.2681,.8759,0,0,.3423,.843,0,0,.3896,.818,0,0,.1038,.9043,1,.0173,.1029,.9094,1,.0156,.101,.9138,.8289,.0143,.1076,.9161,.619,.0088,.1265,.9089,.3794,.0026,.1283,.9077,.1297,0,.1565,.8868,0,0,.2545,.8409,0,0,.3261,.8163,0,0,.3818,.7844,0,0,.1051,.8011,1,.0143,.1046,.8085,1,.0126,.105,.8129,.847,.0132,.111,.8123,.6556,.0097,.1203,.8174,.4269,.0027,.1252,.8191,.1976,0,.1315,.8142,0,0,.2201,.7788,0,0,.2989,.7436,0,0,.3517,.7102,0,0,.1116,.6646,1,.0115,.1093,.6696,1,.0099,.1092,.6742,.8569,.0102,.1104,.6809,.697,.007,.115,.6892,.4884,.0033,.1215,.6934,.2765,2e-4,.1254,.6915,.0656,0,.167,.6753,0,0,.2417,.6364,0,0,.3014,.6039,0,0,.1278,.5042,1,.0072,.1263,.5064,1,.007,.1232,.5098,.8746,.0064,.1132,.5209,.7312,.0051,.1155,.5283,.5606,.0024,.1203,.5327,.3614,1e-4,.1113,.5443,.1559,0,.1197,.546,0,0,.1868,.5102,0,0,.2362,.488,0,0,.1486,.343,1,.0019,.1463,.3452,.9936,.0019,.1431,.3477,.8939,.0017,.1319,.3547,.7615,.0015,.1266,.3615,.616,6e-4,.1225,.3683,.4332,0,.1112,.3799,.2521,0,.1049,.3892,.0563,0,.1313,.3815,0,0,.181,.3611,0,0,.1662,.1847,1,0,.1644,.1854,.9653,0,.1604,.1878,.8908,0,.1546,.1957,.7852,0,.1442,.2001,.6581,0,.1313,.2082,.5022,0,.1198,.216,.3299,0,.1051,.2283,.1565,0,.1017,.2382,0,0,.1289,.2358,0,0,.181,.0267,.9724,0,.1798,.0291,.9417,0,.177,.0324,.8756,0,.1669,.036,.7932,0,.1603,.0388,.688,0,.1479,.0453,.5508,0,.1338,.0547,.401,0,.12,.0608,.2433,0,.0964,.0737,.0742,0,.0953,.0941,0,0,.1931,0,.9284,0,.1912,0,.8978,0,.1862,0,.8364,0,.1785,0,.7585,0,.1669,0,.67,0,.1592,0,.5462,0,.1455,0,.4228,0,.13,0,.2957,0,.1107,0,.159,0,.0979,0,.0222,0,0,.9911,1,6e-4,0,.9961,.9646,0,0,.9966,.786,3e-4,0,.9854,.5724,0,0,.9791,.3242,0,.0016,.9646,.078,0,.0517,.9279,0,0,.147,.8764,0,0,.2327,.8472,0,0,.291,.8211,0,0,0,.9643,1,5e-4,0,.9666,.9648,0,0,.9639,.7975,2e-4,0,.9583,.5818,0,0,.9562,.3372,0,7e-4,.945,.0929,0,.0448,.911,0,0,.1436,.8664,0,0,.2278,.8362,0,0,.2898,.8081,0,0,0,.9038,1,0,0,.9046,.9776,0,0,.9031,.8012,0,0,.9038,.6125,0,0,.9036,.3683,0,.0017,.8925,.1374,0,.0237,.8776,0,0,.1265,.8353,0,0,.2147,.8028,0,0,.2705,.7705,0,0,0,.8132,1,0,0,.8143,.9587,0,0,.8142,.8187,0,0,.8169,.6394,0,0,.8197,.419,0,3e-4,.8147,.1967,0,.0123,.8141,0,0,.0967,.7786,0,0,.1814,.7347,0,0,.2391,.7045,0,0,0,.6897,1,0,0,.692,.9619,0,0,.6984,.83,0,0,.7019,.6733,0,0,.7045,.4747,0,9e-4,.7071,.2694,0,0,.7111,.0548,0,.0576,.6835,0,0,.1375,.6393,0,0,.2009,.6013,0,0,.0063,.5438,1,0,.0032,.546,.9485,0,.0026,.5485,.8408,0,.0013,.5558,.7051,0,5e-4,.5627,.5395,0,0,.5677,.3432,0,0,.5745,.1428,0,.0093,.5745,0,0,.0917,.5265,0,0,.1486,.4917,0,0,.0194,.3866,.9857,0,.018,.3872,.9437,0,.0163,.3924,.8468,0,.0123,.4005,.7307,0,.0073,.4035,.5867,0,7e-4,.4155,.4089,0,0,.4186,.2299,0,0,.4312,.0418,0,.0401,.4101,0,0,.1031,.3772,0,0,.0358,.2371,.9655,0,.0347,.2382,.9313,0,.0332,.2403,.8472,0,.0259,.2437,.7602,0,.019,.2518,.6265,0,.012,.2568,.4759,0,.0019,.2691,.3078,0,0,.2772,.1319,0,.0014,.2874,0,0,.0541,.2574,0,0,.055,.078,.9361,0,.0532,.0795,.9029,0,.0503,.0842,.841,0,.0428,.0887,.762,0,.0368,.0939,.6568,0,.0277,.1032,.5253,0,.0167,.1101,.3773,0,.0049,.1229,.2172,0,0,.1316,.0548,0,.0162,.1304,0,0,.0852,0,.8742,0,.0821,0,.8522,0,.0772,0,.7982,0,.0712,0,.7271,0,.0609,0,.6409,0,.0525,0,.5299,0,.04,0,.4048,0,.0242,0,.2762,0,.0145,0,.1309,0,0,0,0,0],H=Math.round(Math.pow(n.length/3,1/4)),y=[0,0,0,0];
ICC.U.applyLUT3to4Float(n,H,w,y);return y};O._i=function(w,n,H){var y=w.length,c=.3,Q=.59,q=.11;if(H){c=H[0];
Q=H[1];q=H[2]}for(var l=0;l<y;l+=4)n[l>>2]=~~(w[l+0]*c+w[l+1]*Q+w[l+2]*q+.5)};O.Bk=function(w,n){var H=n.length;
for(var l=0;l<H;l+=4){var y=w[l>>>2];n[l]=y;n[l+1]=y;n[l+2]=y}};O.HR=function(w,n){var H=w.iL,y=w.b,c=w.J,Q=w.k,q=Math.min(w.iL.length,n.buffer.byteLength>>>2),S=4*Math.floor(q/4),A=new Uint32Array(n.buffer),V=new Uint32Array(H.buffer),e=new Uint32Array(y.buffer),d=new Uint32Array(c.buffer),N=new Uint32Array(Q.buffer);
for(var l=0;l<S;l+=4){var b=V[l>>2],z=N[l>>2],v=d[l>>2],T=e[l>>2];A[l]=b<<24|(z&255)<<16|(v&255)<<8|T&255;
A[l+1]=(b&65280)<<16|(z&65280)<<8|v&65280|(T&65280)>>>8;A[l+2]=(b&16711680)<<8|z&16711680|(v&16711680)>>>8|(T&16711680)>>>16;
A[l+3]=b&4278190080|(z&4278190080)>>>8|(v&4278190080)>>>16|(T&4278190080)>>>24}for(var l=S;l<q;l++)A[l]=H[l]<<24|Q[l]<<16|c[l]<<8|y[l]};
O.cw=function(w,n){var H=n.iL,y=n.b,c=n.J,Q=n.k,q=Math.min(n.iL.length,w.buffer.byteLength>>>2),S=4*Math.floor(q/4),A=new Uint32Array(w.buffer),V=new Uint32Array(H.buffer),e=new Uint32Array(y.buffer),d=new Uint32Array(c.buffer),N=new Uint32Array(Q.buffer);
for(var l=0;l<S;l+=4){var b=A[l],z=A[l+1],v=A[l+2],T=A[l+3];e[l>>2]=b&255|(z&255)<<8|(v&255)<<16|T<<24;
d[l>>2]=(b&65280)>>8|z&65280|(v&65280)<<8|(T&65280)<<16;N[l>>2]=(b&16711680)>>16|(z&16711680)>>8|v&16711680|(T&16711680)<<8;
V[l>>2]=b>>>24|z>>>24<<8|v>>>24<<16|T&4278190080}for(var l=S;l<q;l++){var Y=A[l];y[l]=Y>>0&255;c[l]=Y>>8&255;
Q[l]=Y>>16&255;H[l]=Y>>24&255}};O.RR=function(w,n,H){var y=new Uint8Array(w.buffer),c=Math.min(y.length/4,n.length);
for(var l=0;l<c;l++){n[l]=y[(l<<2)+H]}};O.o2=function(w,n,H){var y=new Uint8Array(n.buffer),c=new Uint32Array(w.buffer),Q=Math.min(y.length/4,w.length),l=0;
while(l+4<Q){var q=c[l>>>2];y[(l<<2)+H]=q&255;y[(l<<2)+H+4]=q>>>8&255;y[(l<<2)+H+8]=q>>>16&255;y[(l<<2)+H+12]=q>>>24;
l+=4}while(l<Q){y[(l<<2)+H]=w[l];l++}};O.jZ=function(w,n,H){if(H==null)H=0;var y=new Uint32Array(w.buffer),c=y.length;
for(var l=0;l<c;l++)y[l]=y[l]&H|n};O.aoV=function(w,n,H,y,c){if(c==null)c=0;var Q=new Uint32Array(w.buffer);
H=H.Fa(n);var q=H.x-n.x,S=H.y-n.y,A=H.m,V=H.e,e=n.m;for(var d=0;d<V;d++){var l=(S+d)*e+q;for(var N=0;
N<A;N++){Q[l]=Q[l]&c|y;l++}}};O.Bq=function(w,n){var H=Math.min(w.buffer.byteLength,n.buffer.byteLength),y=H>>>2,w=new Uint32Array(w.buffer,0,y),n=new Uint32Array(n.buffer,0,y);
n.set(w)};O.Hw=function(w,n){var H=w.buffer.byteLength,y=n.buffer.byteLength,c=new Uint32Array(w.buffer,0,H>>2),Q=new Uint32Array(n.buffer,0,y>>2);
if(H!=y)return!1;var q=c.length;for(var l=0;l<q;l++)if(Q[l]!=c[l])return!1;return!0};O.G$=function(w){var n=new Uint32Array(w.buffer),H=n.length;
for(var l=0;l<H;l++)n[l]=~n[l]};O.acr=function(w){var n=w.length;for(var l=0;l<n;l+=4){w[l]=~w[l];w[l+1]=~w[l+1];
w[l+2]=~w[l+2]}};O.a71=function(w){var n=w.length;for(var l=3;l<n;l+=4)w[l]=~w[l]};O.agC=function(w){return w+(w%4==0?0:4-w%4)};
O.R=function(w,n){if(n==null)n=!1;if(!n)w=O.agC(w);try{var H=new Uint8Array(w)}catch(hV){alert("Not enough RAM! (need "+Math.round(w/(1<<20))+" MB)",7e3);
throw"low_ram"}return H};O.Qt=function(w){var n=w.length,H=w[n-2],y=w[n-1];while(y.m>=2&&y.e>=2){var c=O.Bb(H,y);
w.push(c.fF,c.rect);H=c.fF;y=c.rect}};O.BX=function(w){var n=w.length,H=w[n-2],y=w[n-1];while(y.m>=2&&y.e>=2){var c=O.Iq(H,y);
w.push(c.fF,c.rect);H=c.fF;y=c.rect}};O.Bb=function(w,n,H){var y=n.m,c=n.e,Q=y>>1,q=c>>1,S=new cr(n.x,n.y,Q,q),A=H&&H.length==Q*q*4?H:O.R(Q*q*4),V=new Uint32Array(w.buffer),e=new Uint32Array(A.buffer);
for(var d=0;d<q;d++)for(var N=0;N<Q;N++){var b=d*Q+N,z=(d<<1)*y+(N<<1),v=V[z],T=V[z+1],Y=V[z+y],g=V[z+y+1],R=v>>>24,h=T>>>24,E=Y>>>24,G=g>>>24,k=R+h+E+G;
if(k==1020){var $=(v>>>0&255)+(T>>>0&255)+(Y>>>0&255)+(g>>>0&255)+2>>>2,p=(v>>>8&255)+(T>>>8&255)+(Y>>>8&255)+(g>>>8&255)+2>>>2,X=(v>>>16&255)+(T>>>16&255)+(Y>>>16&255)+(g>>>16&255)+2>>>2;
e[b]=255<<24|X<<16|p<<8|$}else if(k==0)e[b]=0;else{var $=(v>>>0&255)*R+(T>>>0&255)*h+(Y>>>0&255)*E+(g>>>0&255)*G,p=(v>>>8&255)*R+(T>>>8&255)*h+(Y>>>8&255)*E+(g>>>8&255)*G,X=(v>>>16&255)*R+(T>>>16&255)*h+(Y>>>16&255)*E+(g>>>16&255)*G,C=1/k;
$=~~($*C+.5);p=~~(p*C+.5);X=~~(X*C+.5);e[b]=k+2>>>2<<24|X<<16|p<<8|$}}return{rect:S,fF:A}};O.Br=function(w,n,H){var y=n.m,c=n.e,Q=y>>1,q=c>>1,S=new cr(n.x,n.y,Q,q),A=H&&H.length==Q*q*4?H:O.R(Q*q*4),V=new Uint32Array(w.buffer),e=new Uint32Array(A.buffer);
for(var d=0;d<q;d++)for(var N=0;N<Q;N++){var b=d*Q+N,z=(d<<1)*y+(N<<1),v=V[z],T=V[z+1],Y=V[z+y],g=V[z+y+1],R=2+(v>>>0&255)+(T>>>0&255)+(Y>>>0&255)+(g>>>0&255)>>>2,h=2+(v>>>8&255)+(T>>>8&255)+(Y>>>8&255)+(g>>>8&255)>>>2,E=2+(v>>>16&255)+(T>>>16&255)+(Y>>>16&255)+(g>>>16&255)>>>2,G=2+(v>>>24&255)+(T>>>24&255)+(Y>>>24&255)+(g>>>24&255)>>>2;
e[b]=G<<24|E<<16|h<<8|R}return{rect:S,fF:A}};O.aux=function(w,n,H){var y=n.m,c=n.e,Q=2*Math.floor(y/3),q=2*Math.floor(c/3),S=new cr(n.x,n.y,Q,q),A=H&&H.length==Q*q*4?H:O.R(Q*q*4),V=new Uint32Array(w.buffer),e=new Uint32Array(A.buffer);
for(var d=0;d<q;d+=2)for(var N=0;N<Q;N+=2){var b=d*Q+N,z=(d*3>>>1)*y+(N*3>>>1),v=V[z],T=V[z+1],Y=V[z+2],g=V[z+y],R=V[z+1+y],h=V[z+2+y],E=V[z+y+y],G=V[z+1+y+y],k=V[z+2+y+y],$=v>>>24<<2,p=(v>>>16&255)*$,X=(v>>>8&255)*$,C=(v&255)*$,D=T>>>24<<1,o=(T>>>16&255)*D,t=(T>>>8&255)*D,u=(T&255)*D,m=Y>>>24<<2,U=(Y>>>16&255)*m,I=(Y>>>8&255)*m,x=(Y&255)*m,J=g>>>24<<1,r=(g>>>16&255)*J,Z=(g>>>8&255)*J,f=(g&255)*J,F=R>>>24,_=(R>>>16&255)*F,K=(R>>>8&255)*F,B=(R&255)*F,ij=h>>>24<<1,W=(h>>>16&255)*ij,L=(h>>>8&255)*ij,i=(h&255)*ij,e3=E>>>24<<2,eE=(E>>>16&255)*e3,ec=(E>>>8&255)*e3,gw=(E&255)*e3,bl=G>>>24<<1,cD=(G>>>16&255)*bl,a$=(G>>>8&255)*bl,hJ=(G&255)*bl,ei=k>>>24<<2,df=(k>>>16&255)*ei,bM=(k>>>8&255)*ei,ib=(k&255)*ei,fI=$+D+J+F,eU=m+D+ij+F,gK=e3+bl+J+F,bs=ei+bl+ij+F,km=fI==0?0:1/fI,aJ=eU==0?0:1/eU,ip=gK==0?0:1/gK,fl=bs==0?0:1/bs,b3=0,dY=0,k4=0,aK=0;
b3=~~(.5+(C+u+f+B)*km);dY=~~(.5+(X+t+Z+K)*km);k4=~~(.5+(p+o+r+_)*km);aK=~~(.5+fI*(1/9));e[b]=aK<<24|k4<<16|dY<<8|b3;
b3=~~(.5+(x+u+i+B)*aJ);dY=~~(.5+(I+t+L+K)*aJ);k4=~~(.5+(U+o+W+_)*aJ);aK=~~(.5+eU*(1/9));e[b+1]=aK<<24|k4<<16|dY<<8|b3;
b3=~~(.5+(gw+hJ+f+B)*ip);dY=~~(.5+(ec+a$+Z+K)*ip);k4=~~(.5+(eE+cD+r+_)*ip);aK=~~(.5+gK*(1/9));e[b+Q]=aK<<24|k4<<16|dY<<8|b3;
b3=~~(.5+(ib+hJ+i+B)*fl);dY=~~(.5+(bM+a$+L+K)*fl);k4=~~(.5+(df+cD+W+_)*fl);aK=~~(.5+bs*(1/9));e[b+Q+1]=aK<<24|k4<<16|dY<<8|b3}return{rect:S,fF:A}};
O.adY=function(w,n,H){var y=n.m,c=n.e,Q=2*Math.floor(y/3),q=2*Math.floor(c/3),S=new cr(n.x,n.y,Q,q),A=H&&H.length==Q*q*4?H:O.R(Q*q*4),V=new Uint32Array(w.buffer),e=new Uint32Array(A.buffer);
for(var d=0;d<q;d+=2)for(var N=0;N<Q;N+=2){var b=d*Q+N,z=(d*3>>>1)*y+(N*3>>>1),v=V[z],T=V[z+1],Y=V[z+2],g=V[z+y],R=V[z+1+y],h=V[z+2+y],E=V[z+y+y],G=V[z+1+y+y],k=V[z+2+y+y],$=(v>>>16&255)<<2,p=(v>>>8&255)<<2,X=(v&255)<<2,C=(T>>>16&255)<<1,D=(T>>>8&255)<<1,o=(T&255)<<1,t=(Y>>>16&255)<<2,u=(Y>>>8&255)<<2,m=(Y&255)<<2,U=(g>>>16&255)<<1,I=(g>>>8&255)<<1,x=(g&255)<<1,J=R>>>16&255,r=R>>>8&255,Z=R&255,f=(h>>>16&255)<<1,F=(h>>>8&255)<<1,_=(h&255)<<1,K=(E>>>16&255)<<2,B=(E>>>8&255)<<2,ij=(E&255)<<2,W=(G>>>16&255)<<1,L=(G>>>8&255)<<1,i=(G&255)<<1,e3=(k>>>16&255)<<2,eE=(k>>>8&255)<<2,ec=(k&255)<<2,gw=0,bl=0,cD=0;
gw=~~(.5+(X+o+x+Z)*(1/9));bl=~~(.5+(p+D+I+r)*(1/9));cD=~~(.5+($+C+U+J)*(1/9));e[b]=255<<24|cD<<16|bl<<8|gw;
gw=~~(.5+(m+o+_+Z)*(1/9));bl=~~(.5+(u+D+F+r)*(1/9));cD=~~(.5+(t+C+f+J)*(1/9));e[b+1]=255<<24|cD<<16|bl<<8|gw;
gw=~~(.5+(ij+i+x+Z)*(1/9));bl=~~(.5+(B+L+I+r)*(1/9));cD=~~(.5+(K+W+U+J)*(1/9));e[b+Q]=255<<24|cD<<16|bl<<8|gw;
gw=~~(.5+(ec+i+_+Z)*(1/9));bl=~~(.5+(eE+L+F+r)*(1/9));cD=~~(.5+(e3+W+f+J)*(1/9));e[b+Q+1]=255<<24|cD<<16|bl<<8|gw}return{rect:S,fF:A}};
O.AO=function(w){var n=255,H=w.length;H-=H&31;for(var l=3;l<H;l+=32)n=n&w[l]&w[l+4]&w[l+8]&w[l+12]&w[l+16]&w[l+20]&w[l+24]&w[l+28];
return n!=255};O.aqd=function(w,n,H,y){var c=O.Bb,Q=O.aux,S=0;if(!O.AO(w)){c=O.Br;Q=O.adY}var q={fF:w,rect:n},A=H;
while(A<.499){S++;A*=2}for(var l=0;l<S;l++)q=c(q.fF,q.rect,y);if(A<.5001)q=c(q.fF,q.rect,y);else q=Q(q.fF,q.rect,y);
return q};O.afK=function(w,n,H,y){var c=O.Iq,Q=O.qt,q={fF:w,rect:n},S=0,A=H;while(A<.499){S++;A*=2}for(var l=0;
l<S;l++)q=c(q.fF,q.rect,y);if(A<.5001)q=c(q.fF,q.rect,y);else q=Q(q.fF,q.rect,y);return q};O.Iq=function(w,n,H){var y=n.m,c=n.e,Q=y>>1,q=c>>1,S=new cr(n.x,n.y,Q,q);
if(w==null)return{rect:S};var A=H&&H.length>=Q*q?H:O.R(Q*q);for(var V=0;V<q;V++){var e=V*Q;for(var d=0;
d<Q;d++){var N=(V<<1)*y+(d<<1);A[e+d]=2+w[N]+w[N+1]+w[N+y]+w[N+y+1]>>>2}}return{rect:S,fF:A}};O.qt=function(w,n,H){var y=n.m,c=n.e,Q=2*Math.floor(y/3),q=2*Math.floor(c/3),S=new cr(n.x,n.y,Q,q);
if(w==null)return{rect:S};var A=H&&H.length>=Q*q?H:O.R(Q*q);for(var V=0;V<q;V+=2)for(var e=0;e<Q;e+=2){var d=V*Q+e,N=(V*3>>>1)*y+(e*3>>>1),b=w[N]<<2,z=w[N+1]<<1,v=w[N+2]<<2,T=w[N+y]<<1,Y=w[N+1+y],g=w[N+2+y]<<1,R=w[N+y+y]<<2,h=w[N+1+y+y]<<1,E=w[N+2+y+y]<<2;
A[d]=~~(.5+(b+z+T+Y)*(1/9));A[d+1]=~~(.5+(v+z+g+Y)*(1/9));A[d+Q]=~~(.5+(R+h+T+Y)*(1/9));A[d+Q+1]=~~(.5+(E+h+g+Y)*(1/9))}return{rect:S,fF:A}};
O.qS=function(w,n,H,y,c){var Q=n.Fa(y);if(c)Q=Q.Fa(c);var q=Math.max(0,Q.x-n.x),S=Math.max(0,Q.x-y.x),A=Math.max(0,Q.y-n.y),V=Math.max(0,Q.y-y.y),e=Q.m,d=Q.e;
for(var l=0;l<d;l++){var N=(A+l)*n.m+q,b=(V+l)*y.m+S;H.set(new Uint8Array(w.buffer,N,e),b)}};O.CI=function(w,n,H,y){if(n.Hw(y)){O.o2(w,H,3);
return}var c=n.Fa(y),Q=Math.max(0,c.x-n.x),q=Math.max(0,c.x-y.x),S=Math.max(0,c.y-n.y),A=Math.max(0,c.y-y.y),V=c.m,e=c.e;
for(var l=0;l<e;l++){var d=(S+l)*n.m+Q,N=(A+l)*y.m+q;for(var b=0;b<V;b++)H[(N+b<<2)+3]=w[d+b]}};O.zW=function(w,n,H,y){var c=n.Fa(y),Q=Math.max(0,c.x-n.x),q=Math.max(0,c.x-y.x),S=Math.max(0,c.y-n.y),A=Math.max(0,c.y-y.y),V=c.m,e=c.e;
for(var l=0;l<e;l++){var d=(S+l)*n.m+Q,N=(A+l)*y.m+q;for(var b=0;b<V;b++)H[N+b]=w[(d+b<<2)+3]}};O.j1=function(w,n,H,y,c){if(n.Hw(y)&&(c==null||c.Hw(y))){O.Bq(w,H);
return}w=new Uint32Array(w.buffer),H=new Uint32Array(H.buffer);var Q=n.Fa(y);if(c)Q=Q.Fa(c);var q=Math.max(0,Q.x-n.x),S=Math.max(0,Q.x-y.x),A=Math.max(0,Q.y-n.y),V=Math.max(0,Q.y-y.y),e=Q.m,d=Q.e,N=e&3,b=N==0?e:e-N;
for(var l=0;l<d;l++){var z=(A+l)*n.m+q,v=(V+l)*y.m+S;H.set(new Uint32Array(w.buffer,z*4,e),v)}};O.Vi=function(w,n,H,y){var c=n.Fa(y),Q=Math.max(0,c.x-n.x),q=Math.max(0,c.x-y.x),S=Math.max(0,c.y-n.y),A=Math.max(0,c.y-y.y),V=c.m,e=c.e,d=w.iL,N=w.b,b=w.J,z=w.k,v=H.iL,T=H.b,Y=H.J,g=H.k;
for(var l=0;l<e;l++){var R=(S+l)*n.m+Q,h=(A+l)*y.m+q;for(var E=0;E<V;E++){v[h+E]=d[R+E];T[h+E]=N[R+E];
Y[h+E]=b[R+E];g[h+E]=z[R+E]}}};O.A3=function(w){var n=w.length;for(var l=0;l<n;l+=4){var H=w[l+3];if(H==255)continue;
w[l]=~~(w[l]*H*(1/255)+.5);w[l+1]=~~(w[l+1]*H*(1/255)+.5);w[l+2]=~~(w[l+2]*H*(1/255)+.5)}};O.kM=function(w){var n=w.length;
for(var l=0;l<n;l+=4){var H=w[l+3];if(H==0||H==255)continue;var y=255/H;w[l]=~~(w[l]*y+.5);w[l+1]=~~(w[l+1]*y+.5);
w[l+2]=~~(w[l+2]*y+.5)}};O.lS=function(w,n){for(var l=0;l<w.length;l++)if(w[l]!=n)return!1;return!0};
O.Q2=function(w){return w+1+(w>>>8)>>>8};O.round=function(w,n){if(n==null)n=128;var H=w.length;for(var l=0;
l<H;l++)w[l]=w[l]<n?0:255};O.ub=function(w,n){var H=w.length;for(var l=0;l<H;l++)w[l]=Math.round(w[l]*n)};
O.I_=function(w,n){var H=new Uint32Array(w.buffer),y=new Uint32Array(n.buffer),c=H.length;for(var l=0;
l<c;l++){var Q=H[l],q=y[l];y[l]=O.Q2((Q>>>24)*(q>>>24))<<24|O.Q2((Q>>>16&255)*(q>>>16&255))<<16|O.Q2((Q>>>8&255)*(q>>>8&255))<<8|O.Q2((Q&255)*(q&255))}};
O.CS=function(w,n){var H=w.length;for(var l=0;l<H;l++)n[(l<<2)+3]=O.Q2(n[(l<<2)+3]*w[l])};O.avT=function(w,n,H,y){var c=Math.max(0,y.x-n.x),Q=Math.max(0,n.x-y.x),q=Math.max(0,y.y-n.y),S=Math.max(0,n.y-y.y),A=Math.min(n.x+n.m,y.x+y.m)-Math.max(n.x,y.x),V=Math.min(n.y+n.e,y.y+y.e)-Math.max(n.y,y.y);
for(var l=0;l<V;l++){var e=(q+l)*n.m+c,d=(S+l)*y.m+Q;for(var N=0;N<A;N++){H[d]=O.Q2(H[d]*w[e]);e++;d++}}};
O.lf=function(w,n,H,y){var c=Math.max(0,y.x-n.x),Q=Math.max(0,n.x-y.x),q=Math.max(0,y.y-n.y),S=Math.max(0,n.y-y.y),A=Math.min(n.x+n.m,y.x+y.m)-Math.max(n.x,y.x),V=Math.min(n.y+n.e,y.y+y.e)-Math.max(n.y,y.y);
for(var l=0;l<V;l++){var e=(q+l)*n.m+c,d=((S+l)*y.m+Q<<2)+3;for(var N=0;N<A;N++){H[d]=O.Q2(H[d]*w[e]);
e++;d+=4}}};O.SJ=function(w,n,H,y){var c=Math.max(0,y.x-n.x),Q=Math.max(0,n.x-y.x),q=Math.max(0,y.y-n.y),S=Math.max(0,n.y-y.y),A=Math.min(n.x+n.m,y.x+y.m)-Math.max(n.x,y.x),V=Math.min(n.y+n.e,y.y+y.e)-Math.max(n.y,y.y);
for(var l=0;l<V;l++){var e=((q+l)*n.m+c<<2)+3,d=((S+l)*y.m+Q<<2)+3;for(var N=0;N<A;N++){H[d]=O.Q2(H[d]*w[e]);
e+=4;d+=4}}};O.ao=function(w,n){if(n==null)n=1;var H=4*n,y=w.length>>>2,c=new Float64Array(256),Q=new Float64Array(256),q=new Float64Array(256),S=new Float64Array(256),A=4*Math.floor(y/n)*n,V=0;
for(var l=0;l<A;l+=H){var e=w[l+0],d=w[l+1],N=w[l+2],b=w[l+3]*n,z=b*(1/255);Q[e]+=z;q[d]+=z;S[N]+=z;
V+=b}for(var l=0;l<256;l++)c[l]=Q[l]+q[l]+S[l];return[c,Q,q,S,y,V/255]};O.oL=function(w,n){function H(G,k){var $=-1,p=0;
while(p<=k){$++;p+=G[$]}return $}function y(G,k){var $=256,p=0;while(p<=k){$--;p+=G[$]}return $}function c(G){var k=0,$=0;
for(var l=0;l<256;l++){$+=G[l];k+=G[l]*l*(1/255)}return k/$}var Q=w[0],q=w[1]/100,S=w[2]/100,A=[],V=[];
for(var l=0;l<4;l++){var e=l==0?3:1;A[l]=H(n[l],e*q*n[5]);V[l]=y(n[l],e*S*n[5])}var d=[c(n[1]),c(n[2]),c(n[3])],N=d.slice(0);
N.sort(function(G,k){return G-k});var b=d.indexOf(N[1]),z=(d[0]+d[1]+d[2])/3,v=[];for(var l=0;l<4;l++){var T=0,Y=255,g=A[l],R=V[l];
if(Q==0&&l==0){T=g;Y=R}if(Q==1&&l!=0){T=g;Y=R}if(Q==2&&l!=0){var e=d[l-1]/z;Y=Math.max(0,Math.min(255,V[b]*e))}var h=[T,Y];
v.push(h);if(Q==3&&l==0){var E=255*(1-z);h.push(E)}}return v};O.Ku=function(w,n){var H=new Uint32Array(w.buffer),y=H.length;
for(var l=0;l<y;l++){var c=H[l],Q=c&255,q=c>>8&255,S=c>>16&255,A=c>>24&255;H[l]=n[Q]|n[q]<<8|n[S]<<16|n[A]<<24}};
O.aqB=function(w,n,H,y,c,Q,q){var S=new Uint32Array(w.buffer),A=new Uint32Array(n.buffer),V=S.length,e=0;
while(256<<e<H.length)e++;if(!q&&!Q){for(var l=0;l!=V;l++){var d=S[l],N=(d&255)<<e,b=(d>>>8&255)<<e,z=(d>>>16&255)<<e,v=H[N],T=y[b],Y=c[z];
A[l]=v|T<<8|Y<<16|d&4278190080}return}for(var l=0;l<V;l++){var d=S[l],N=(d&255)<<e,b=(d>>>8&255)<<e,z=(d>>>16&255)<<e;
if(Q)N=b=z=Math.round(N*.3+b*.59+z*.11);var v=H[N],T=y[b],Y=c[z];if(q){var g=O.LC(N,b,z),R=O.LC(v,T,Y);
if(g>R){var h=(g-R)/(255-R);v+=h*(255-v);T+=h*(255-T);Y+=h*(255-Y)}else if(R==0)v=T=Y=0;else{var h=g/R;
v=h*v;T=h*T;Y=h*Y}}A[l]=v|T<<8|Y<<16|d&4278190080}};O.zX=function(w,n){var H=n.m,y=n.e,top=0,c=0,Q=0,q=0,S=0;
S=0;for(var A=0;A<y;A++){var V=A*H;for(var l=0;l<H;l++)S|=w[V+l];if(S!=0)break;top++}if(top==y)return new cr(0,0,0,0);
S=0;for(var A=y-1;A>=0;A--){var V=A*H;for(var l=0;l<H;l++)S|=w[V+l];if(S!=0)break;Q++}var e=y-Q;S=0;
for(var l=0;l<H;l++){for(var A=top;A<e;A++)S|=w[A*H+l];if(S!=0)break;c++}S=0;for(var l=H-1;l>=0;l--){for(var A=top;
A<e;A++)S|=w[A*H+l];if(S!=0)break;q++}var d=new cr(n.x+c,n.y+top,H-c-q,y-top-Q);return d};O.od=function(w,n,H,y){if(y==null)y=[!0,!0,!0,!0];
if(H==null)H=0;var c=new Uint32Array(w.buffer),Q=n.m,q=n.e,top=0,S=0,A=0,V=0,e=!1,d=[c[0],c[c.length-1],0][H];
e=!1;if(y[0])for(var N=0;N<q;N++){var b=N*Q;for(var l=0;l<Q;l++)if(c[b+l]!=d)e=!0;if(e)break;top++}e=!1;
if(y[2])for(var N=q-1;N>=0;N--){var b=N*Q;for(var l=0;l<Q;l++)if(c[b+l]!=d)e=!0;if(e)break;A++}e=!1;
if(y[1])for(var l=0;l<Q;l++){for(var N=0;N<q;N++)if(c[N*Q+l]!=d)e=!0;if(e)break;S++}e=!1;if(y[3])for(var l=Q-1;
l>=0;l--){for(var N=0;N<q;N++)if(c[N*Q+l]!=d)e=!0;if(e)break;V++}var z=new cr(n.x+S,n.y+top,Q-S-V,q-top-A);
return z._G()?new cr(0,0,0,0):z};O.KU=function(w){var n=O.zX(w.channel,w.rect);if(n.Hw(w.rect))return;
var H=O.R(n.O());O.qS(w.channel,w.rect,H,n);w.channel=H;w.rect=n};O.Vu=function(w){var n=O.R(w.buffer.length>>2);
O.RR(w.buffer,n,3);var H=O.zX(n,w.rect);if(H.Hw(w.rect))return;var y=new O.R(H.O()*4);O.j1(w.buffer,w.rect,y,H);
w.buffer=y;w.rect=H};O.extend=function(w,n,H){if(w.rect.n1(n))return;var y=w.rect.ld(n),c=O.R(y.O());
if(H!=null)c.fill(H);O.qS(w.channel,w.rect,c,y);w.rect=y;w.channel=c};O.ayI=function(w,n){if(n._G()||w.rect.n1(n))return;
var H=w.rect.ld(n),y=O.R(H.O()*4);O.j1(w.buffer,w.rect,y,H);w.rect=H;w.buffer=y};O.Z3=function(w,n,H){if(!H.yo(w))return!1;
var y=Math.floor(w.x)-H.x,c=Math.floor(w.y)-H.y,l=c*H.m+y;return n[l]>128};O.ast=function(w,n,H){if(!H.yo(w))return!1;
var y=Math.floor(w.x)-H.x,c=Math.floor(w.y)-H.y,l=c*H.m+y;return n[4*l+3]>128};O.a0=function(w){if(O.as.length<w){O.as=O.R(w);
O.as.fill(255)}return O.as};O.as=O.R(0);O.By=function(w){if(O.bK.length<w)O.bK=O.R(w);return O.bK};O.bK=O.R(0);
O.$Z=function(w){this.iL=O.R(w);this.b=O.R(w);this.J=O.R(w);this.k=O.R(w)};O.$Z.prototype.clone=function(){var w=this.iL.length,n=new O.$Z(1);
n.iL=this.iL.slice(0);n.b=this.b.slice(0);n.J=this.J.slice(0);n.k=this.k.slice(0);return n};O._.agR=function(w,n,H,y,c){var Q=c[0]+1,q=c[1],S=Math.abs(q-25)/4,A=c[2],V=A%2+A*A>>1,e=O._.a;
e.Dg(n,H);var d=e.fE(1),N=e.fE(1),b=e.fE(1);e.rc(w,y,A,A,V);e.nF(y);e.rp(y,d);e.Zh(d,N,Q,Q,1);e.Zh(d,b,Q,Q,Q*Q);
e.sub(b,N);e.I_(N,S);(q<25?e.sub:e.add)(d,N);e.wg(N,y);e.g2(y)};O._.avm=function(w,n,H,y,c){var Q=O._.a;
Q.Dg(n,H);var q=c[0]*2.55,S=c[1],A=S>>1,V=c[2]*.25,e=Q.fE(4),d=Q.fE(1),N=Q.fE(1);Q.ZD(w,e,S,1,!0,A);
Q.ZD(w,y,S,1,!1,A);Q.YO(w,d);Q.Sy(d,q);Q.ge(d,N,3);Q.z1(y,N,e);Q.L1(e,y,V)};O._.a2t=function(w,n,H,y,c){var Q=O._.a;
Q.Dg(n,H);Q.ww(c[3]);var q=c[0]*-3+80,S=c[1]*-3+80,A=c[2]/2+.5,V=c[4],e=c[5],d=Q.fE(1),N=Q.fE(1),b=Q.fE(1),z=Q.fE(1),v=Q.fE(4),T=Q.fE(4);
Q.YO(w,d);Q.Bq(d,N);Q.kl(d,S,5);Q.Db(d,.4,0);Q.ge(d,b,3);Q.St(b,d,9,3,!0,27);Q.Bq(N,b);Q.G$(b);var Y=Q.LN(q,5,b);
for(var l=0;l<Q.WE;l++){N[l]=Y[255-N[l]]}Q.Db(N,.4,0);Q.Bq(N,b);Q.ge(b,z,2);Q.St(z,b,5,3,!1,15);Q.I_(d,A);
Q.I_(b,A);Q.AP(y,2155905279);Q.AP(T,V);Q.AP(v,e);Q.z1(T,d,y);Q.z1(v,b,y)};O._.a4f=function(w,n,H,y,c){var Q=O._.a;
Q.Dg(n,H);var q=new Uint8Array(256),S=5+10*c[1];S+=c[1]>3?(c[1]-3)*10:0;var A=~~(c[2]*.73)+50,V=Math.min(A+S,128),e=V-A,d=-255*A;
for(var l=0;l<256;l++){var N=l*65;q[l]=Q.GY(d/e);d+=255}var b=Q.fE(1),z=Q.fE(1),v=Q.fE(1);Q.YO(w,b);
Q.Bq(b,v);Q.ge(b,z,2*c[0]+1);Q.sub(z,b);Q.I_(b,65);Q.St(b,z,9,3,!0,20);for(var l=0;l<Q.WE;l++){var T=v[l],Y=z[l];
b[l]=Y>0?~~((Y*T+(255-Y)*128)/255):128}Q.ge(b,z,3);Q.St(z,b,15,2,!0,16);Q.St(z,v,15,2,!1,15);Q.xF(b,v);
Q.um(v,z,2);Q.wM(z,q);Q.ge(z,b,2);Q.RG(b,y)};O._.azM=function(w,n,H,y,c){var Q=O._.a;Q.Dg(n,H);var q=2*c[0]+1,S=Q.pi[c[1]],A=c[2]*5.1,V=c[3],e=Q.fE(1),d=Q.fE(1),N=Q.fE(4),b=Q.fE(4);
Q.AP(N,V);Q.nF(N,y);Q.mi(e,A);Q.wg(e,y);Q.g2(y,N);Q.YO(w,d);Q.ge(d,e,q);Q.sub(e,d);Q.I_(d,S);Q.St(d,e,9,3,!0,20);
Q.z1(w,e,N);Q.uC(N,y,3);Q.ZD(y,N,15,2,!0,16);Q.ZD(y,b,15,2,!1,16);Q.xF(N,b);Q.L1(b,y,2)};O._.abu=function(w,n,H,y,c){var Q=O._.a;
Q.Dg(n,H);var q=(15-c[0])/4+1,S=(15-c[1])/4+1,A=c[2],V=c[3],e=Q.ZE(c[4]),d=c[5]+1,N=c[6],b=c[7],z=c[8],v=Q.fE(1),T=Q.fE(1),Y=Q.fE(1),g=Q.fE(1),R=Q.fE(4),h=Q.fE(4);
Q.kq(Y,A,V,N);Q.YO(w,T);Q.ge(T,v,5);Q.SM(Y,v,g,d,e);Q.I_(g,q);Q.BI(g,2);Q.G$(v);Q.SM(Y,v,T,d,e);Q.I_(T,S);
Q.BI(T,2);Q.AP(R,2155905279);Q.AP(h,b);Q.AP(y,z);Q.z1(R,T,h);Q.z1(h,g,y)};O._.aoF=function(w,n,H,y,c){var Q=O._.a;
Q.Dg(n,H);Q.ww(c[3]);var q=c[0],S=c[1]/10,A=c[2]/10,V=Q.fE(1),e=Q.fE(1),d=Q.fE(1),N=Q.n5(),b=Q.n5(),z=Q.n5();
Q.lt(V);Q.ge(V,e,11);Q.ge(e,V,11);Q.wR(V,N);Q.Rl(w,V);Q.Bq(V,d);Q.ge(V,e,9);Q.ge(e,V,9);Q.wR(V,b);Q.oP(b,z,5);
Q.oP(z,b,5);Q.wE(N,.8);Q.a6K(N,b,.8,.9);Q.iP(b,V,q);Q.Zh(V,e,2,2,1);Q.Zh(e,V,2,2,3);Q.Zh(V,e,2,2,3);
Q.Zh(d,V,5,5,13);Q.Na(e,V,e,S);Q.Kz(V,e,e,A);Q.SM(e,e,V,5,1);Q.nF(w,y);Q.wg(V,y);Q.g2(y)};O._.a09=function(w,n,H,y,c){var Q=O._.a;
Q.Dg(n,H);var q=c[0],S=c[1]/2,A=c[2],V=q/2,e=Q.fE(4),d=Q.fE(4);Q.Bq(w,y);for(var N=0;N<A;N++){Q.ZD(y,e,q,1,!0,V);
Q.ZD(y,d,q,1,!1,V);Q.xF(d,e);Q.uC(e,d,2);Q.L1(d,y,S)}};O._.ato=function(w,n,H,y,c){var Q=O._.a;Q.Dg(n,H);
var q=c[0]*10,S=c[1]*4.9,A=c[2]*4.9,V=Q.fE(1),e=Q.fE(1),d=Q.fE(4),N=Q.fE(4);Q.YO(w,V);Q.Sy(V,Q.akf(V,q));
Q.ge(V,e,3);Q.ZD(w,d,5,1,!1,1);Q.ZD(w,y,15,2,!0,16);Q.z1(y,e,d);Q.nF(d,y);Q.rp(y,V);Q.kl(V,S,A);Q.wg(V,y);
Q.g2(y)};O._.a0_=function(w,n,H,y,c){var Q=O._.a;Q.Dg(n,H);Q.ww(c[4]);var q=c[0]/20,S=[0,.75,1,1.05,1.1,1.15,1.2,1.25,1.3,1.35,1.4,1.45,1.5,1.6,1.7,1.8,2,2.5,3,3.5,4][c[1]],A=[0,.25,.5,.75,.9,1,1.1,1.2,1.3,1.4,1.5,1.6,1.7,1.8,1.9,2,2.25,2.5,3,3.5,4][c[2]],V=c[3],e=new Int16Array(256);
for(var l=0;l<256;l++){e[l]=~~((l-128)*q)}var d=Q.fE(1),N=Q.fE(1),b=Q.fE(4);Q.YO(w,d);Q.ge(d,N,25);Q.I_(N,S);
Q.BI(N,A);Q.ge(N,d,25);Q.lt(N);Q.tM(d,N,e);Q.Bq(w,y);Q.AP(b,V);Q.z1(b,d,y)};O._.a8_=function(w,n,H,y,c){var Q=O._.a;
Q.Dg(n,H);var q=c[0]+5,S=15-c[1],A=q*q/2,V=1-(3-c[2])/10,e=~~(S*S*V-1),d=~~(S*S*(1-V));if(d==0)d=1;var N=Q.fE(1),b=Q.fE(1),z=Q.fE(1),v=Q.fE(4);
Q.YO(w,z);Q.Zh(z,N,q,q,A);Q.ge(z,b,q);Q.sub(N,b);Q.Sy(b,1);Q.rc(w,v,S,S,e);Q.rc(w,y,S,S,d);Q.z1(v,b,y)};
O._.ap9=function(w,n,H,y,c){var Q=O._.a;Q.Dg(n,H);Q.ww(c[3]);var q=(20-c[0])*.05,S=c[1]*-2.75+60,A=65-S,V=c[2]/10,e=Q.fE(1),d=Q.fE(1);
Q.Rl(w,d);var N=Q.LN(S,A,d);Q.nF(w,y);Q.rp(y,d);Q.lt(e);Q.Bv(d,e,q);Q.wM(d,N);Q.I_(d,c[2]/10);Q.add(e,d);
Q.wg(d,y);Q.g2(y)};O._.a5R=function(w,n,H,y,c){var Q=O._.a;Q.Dg(n,H);var q=5+c[0],S=15-c[1],A=c[2],V=q*q/2+q*q%2*1,e=1-(3-c[2])/10,d=~~(S*S*e-1),N=~~(S*S*(1-e));
if(N==0)N=1;var b=Q.fE(1),z=Q.fE(1),v=Q.fE(1),T=Q.fE(1),Y=Q.fE(1);Q.Rl(w,z);Q.um(z,b,3);Q.Zh(b,z,2,2,1);
var g=Q.LN(20,20,z);Q.wM(z,g);Q.ge(z,Y,5);Q.Zh(Y,b,q,q,V);Q.Zh(Y,z,S,S,d);Q.Zh(Y,v,S,S,N);Q.ge(Y,T,q);
Q.sub(b,T);Q.Sy(T,1);Q.jM(z,T,v);Q.nF(w,y);Q.wg(v,y);Q.g2(y)};O._.awV=function(w,n,H,y,c){var Q=O._.a;
Q.Dg(n,H);Q.ww(c[5]);var q=Q.WE,S=Q.p9,A=c[0],V=c[1],e=c[2],d=c[3],N=c[4],b=.05*A+1,z=A/100,v=A>>1,T=2*A-100,Y=+(V==9),g=+(V==7),R=[4,1][Y],h=[3,2][Y],E=[1,2][g],G=[2,1][g],k=[50,75][Y],$=V<4?e:(e>>1)+50,p=Q.qc(k,$),X=Q._$(d),C=Q._$(N),D=Q.fE(4),o=Q.fE(4),t=Q.fE(1),u=Q.fE(1);
function m(y,p){if($!=50){Q.xI(y,p)}}function U(w,W){for(var l=0;l<q;l++){w[l]=Q.GY(w[l]+(W[l]-128)*z)}}function I(w,W){for(var l=0,L=0;
l<q;l++){w[L]=Q.GY(w[L]+(W[L]-128)*z);w[L+1]=Q.GY(w[L+1]+(W[L+1]-128)*z);w[L+2]=Q.GY(w[L+2]+(W[L+2]-128)*z);
L+=4}}function x(w,y){Q.lt(o);Q.Bq(w,y);I(y,o);m(y,p)}function J(W){var L=0;for(var i=0;i<12;i++)L+=Q.random();
return Q.GY(v*(L-6)+W)}function r(w,y){Q.Bq(w,y);for(var l=0;l<S;l+=4){y[l]=J(y[l]);y[l+1]=J(y[l+1]);
y[l+2]=J(y[l+2])}m(y,p)}function Z(w,y){Q.Bq(w,y);for(var l=0;l<S;l+=4){if(Q.random()<z){y[l]=X[0];y[l+1]=X[1];
y[l+2]=X[2]}}m(y,p)}function f(w,y){Q.lt(D);Q.rc(D,o,h,h,R);Q.Bq(w,D);I(D,o);Q.rc(D,y,5,5,13);m(y,p)}function F(w,y){Q.lt(o);
Q.Bq(w,D);I(D,o);m(y,p);Q.rc(D,y,h,h,R)}function _(w,y){Q.Bq(w,D);m(y,p);Q.YO(D,t);for(var l=0,W=0;l<q;
l++){var L=((T-t[l]+255)*128.5+.5)/32767;if(Q.random()<=L){y[W++]=C[0];y[W++]=C[1];y[W++]=C[2]}else{y[W++]=X[0];
y[W++]=X[1];y[W++]=X[2]}y[W]=w[W];W++}}function K(w,y){Q.nF(w,y);Q.rp(y,t);Q.um(t,u,b);Q.Zh(u,t,h,h,R);
Q.wM(t,p);Q.wg(t,y);Q.g2(y)}function B(w){var W=0;if(V==8){for(var L=0;L<n;L++){w[W++]=~~(Q.random()*255)}for(var l=1;
l<H;l++){for(var L=0;L<n;L++){w[W++]=w[L]}}}else{for(var l=0;l<H;l++){var i=~~(Q.random()*255);for(var L=0;
L<n;L++){w[W++]=i}}}}function ij(w,y){Q.YO(w,t);Q.lt(u);U(t,u);B(u);U(t,u);Q.uC(w,D,9);Q.uC(D,o,9);Q.ge(t,u,2);
Q.wM(u,p);Q.ge(u,t,2);Q.nF(o,y);Q.wg(t,y);Q.g2(y)}[x,r,Z,f,f,F,_,ij,ij,K][V](w,y)};O._.alo=function(w,n,H,y,c){var Q=[-1e3,34,51,61,71,80,87,95,101,108,113,119,124,129,134,139,143,148,153,157,161,165,168,172,175,180,183,186,190,194,197,200,203,207,210,213,216,218,222,225,228,230,233,236,239,241,244,247,250,252,255],q=O._.a,v=0,T,l,E,G,k,$=0,p=1,X=255;
q.Dg(n,H);q.ww(c[3]);var S=q.fE(1),A=q.fE(1);q.YO(w,S);var V=c[0],e=c[1],d=e<=50?Q[e]/255:1+(255-Q[101-e])/255,N=c[2],b=S.length,z=new Float32Array(b),Y=1+1/10*V,g=(1-1/Y)/2,R=16/256,h=n-1;
for(l=0;l<q.WE;l++){z[l]=S[l]/255;A[l]=V==1?q.random()<1/255?X:p:p}function C(D,o){var t=D*n+o;if(A[t]!=p||D>=H||o>=n){return}var G=z[t],u=d-G,m=q.random(),U=m/Y+g;
if(v==0||Math.abs(k-G)>R){T=U<=u?$:X;v=~~(q.random()*V)}else if(.1<m){v--}else{v=0}A[t]=T;k=G}if(N==0){for(l=0;
l<n;l++){for(E=0;E<n;E++){G=l+E;if(G>=n)break;C(E,h-G)}v=0}for(l=1;l<H;l++){for(E=0;E<H;E++){G=l+E;if(G>=H||E>=n)break;
C(G,h-E)}v=0}}else if(N==1){for(l=0;l<H;l++){for(E=0;E<n;E++){C(l,E)}v=0}}else if(N==2){for(l=0;l<n;
l++){for(E=0;E<n;E++){G=l+E;if(G>=n)break;C(E,G)}v=0}for(l=1;l<H;l++){for(E=0;E<H;E++){G=l+E;if(G>=H||E>=n)break;
C(G,E)}v=0}}else{for(l=0;l<n;l++){for(E=0;E<H;E++){C(E,l)}v=0}}q.RG(A,y)};O._.a9c=function(w,n,H,y,c){var Q=O._.a;
Q.Dg(n,H);var q=c[0],S=c[1],A=c[2],V=Q.fE(1),e=Q.fE(1),d=Q.fE(1),N=Q.fE(1),b=Q.fE(4),z=Q.fE(4);Q.rp(w,N,3,4);
Q.YO(w,V);Q.Zh(V,e,3,3,1);Q.Zh(V,d,3,3,9);Q.sub(d,e);Q.ge(e,V,3);Q.kl(V,40,10,N);Q.ZD(w,y,q,2,!1,q);
Q.ZD(w,b,q,2,!0,q);Q.AP(z,255);Q.z1(y,V,z);Q.z1(z,V,b);Q.L1(b,y,1);Q.nF(y);Q.rp(y,V);Q.kl(V,S,A,N);Q.wg(V,y);
Q.g2(y)};O._.ag5=function(w,n,H,y,c){var Q=O._.a;Q.Dg(n,H);Q.ww(c[3]);var q=c[0],S=c[1],A=c[2]/10;q=q+S;
var V=Q.fE(1),e=Q.fE(1),d=Q.n5(),N=Q.n5();Q.lt(V);Q.ge(V,e,11);Q.ge(e,V,11);Q.wR(V,d);Q.oP(d,N,5);Q.oP(N,d,5);
Q.wE(N,.97);Q.iP(N,V,q);Q.Zh(V,e,S,S,1);Q.Rl(w,V);Q.Na(e,V,e,.6);Q.Kz(V,e,e,A);Q.SM(e,e,V,5,1);Q.nF(w,y);
Q.wg(V,y);Q.g2(y)};O._.amy=function(w,n,H,y,c){var Q=O._.a;Q.Dg(n,H);var q=Math.abs(c[0]),S=q+[1,0,1,2,1,2,1,2,3,2,3,2,3,2,3,2,3,4,3,4,5,4,5,4,5][q],A=2*q+1,V=c[1]/10,e=V*13/15,d=Q.fE(1),N=Q.fE(1),b=Q.fE(1),z=Q.fE(1),v=Q.fE(4),T=Q.fE(4),Y=Q.fE(4),g=Q.fE(4),R=Q.fE(4);
Q.YO(w,d);if(c[0]>=0){Q.G$(d)}Q.Bq(d,b);Q.ge(d,z,S);Q.ge(z,d,S);Q.I_(d,V);Q.Bq(d,N);Q.ge(d,z,A);Q.ge(z,d,A);
Q.I_(d,e);Q.AP(Y,c[2]);Q.AP(g,c[3]);Q.AP(R,c[4]);Q.z1(Y,d,g,v);Q.z1(R,N,v,T);Q.z1(g,b,T,y);Q.rp(w,b,3);
Q.wg(b,y,3)};O._.adi=function(w,n,H,y,c){var Q=O._.a;Q.Dg(n,H);Q.ww(c[5]);var q=c[0]*5.1,S=c[1]/100,A=Q.Wf[c[2]],V=Q.fE(1),e=Q.fE(1),d=Q.fE(1);
Q.YO(w,V);Q.mi(e,255);Q.lt(d);Q.Sy(V,q);Q.Bv(e,V,.7);Q.Bv(d,V,S);Q.SM(V,V,e,5,A);Q.Bq(w,y);Q.avF(y,q,c[4],c[3]);
Q.nF(y);Q.wg(e,y);Q.g2(y)};O._.ak7=function(w,n,H,y,c){var Q=O._.a;Q.Dg(n,H);var q=c[0],S=4-c[1],A=11-c[2],V=Q.fE(1),e=Q.fE(1),d=Q.fE(4);
Q.Rl(w,e);for(var l=0;l<S;l++){Q.Bq(e,V);Q.qp(V,e,q,q)}Q.uC(w,d,q);Q.nF(d,d);Q.wg(e,d);Q.g2(d,d);(A<11?Q.ajJ:Q.Bq)(d,y,A)};
O._.aiC=function(w,n,H,y,c){var Q=O._.a;Q.Dg(n,H);Q.ww(c[2]);var q=c[0]+5,S=~~(q/5+1),A=~~(q/2)+1,V=A*A,e=~~(q/3),d=Q.Wf[c[1]],N=new Array(256);
for(var l=0;l<256;l++){N[l]=~~(.2*(l-128))}var b=Q.fE(1),z=Q.fE(1);Q.akl(w,y,q);Q.nF(y);Q.rp(y,b);Q.lt(z);
Q.tM(b,z,N);Q.adl(z,q,q,S,S);Q.Na(b,z,b,1);Q.ge(b,z,e);Q.ge(z,b,e);Q.Zh(b,z,A,A,V);Q.SM(z,z,b,5,d);Q.wg(b,y);
Q.g2(y)};O._.aww=function(w,n,H,y,c){var Q=O._.a;Q.Dg(n,H);var q=Q.fE(1),S=Q.fE(1),A=Q.fE(1),V=Q.n5(),e=Q.n5();
Q.YO(w,q);Q.ge(q,S,c[2]);Q.Sy(S,c[0]*5.1);Q.Zh(S,q,2,2,4);Q.ge(q,S,3);Q.ge(S,q,3);Q.Bq(q,A);Q.ge(q,S,5);
Q.ge(S,q,5);Q.wR(q,V);Q.oP(V,e,5);Q.oP(e,V,5);Q.a6e(V,S,c[1]);Q.G$(S);Q.Na(A,S,A,1);Q.RG(A,y)};O._.a6P=function(w,n,H,y,c){var Q=O._.a;
Q.Dg(n,H);var q=1<<7-c[2],S=Q.fE(1),A=Q.fE(1),V=Q.fE(1);Q.Rl(w,A);Q.ge(A,S,3);Q.Bq(S,A);Q.ge(S,V,c[0]+5);
Q.sub(V,A);Q.kl(A,1,c[1]);Q.I_(S,1/q);Q.I_(S,q);Q.sub(S,A);Q.nF(w,y);Q.wg(A,y);Q.g2(y)};O._.afF=function(w,n,H,y,c){var Q=O._.a;
Q.Dg(n,H);Q.ww(c[3]);var q=Q.fE(1),S=Q.fE(1),A=Q.fE(1);Q.YO(w,q);Q.aqw(S,c[0]/50);Q.ge(S,A,3);Q.Zh(q,S,9,9,41);
Q.kl(S,c[1],c[2]);Q.Na(S,A,A,.75);Q.Kz(S,A,S,.5);Q.Bq(S,q);Q.Zh(q,A,3,3,8);Q.Na(A,S,A,.75);Q.I_(A,1.2);
Q.um(A,q,1);Q.ge(q,A,2);Q.um(A,q,2);Q.I_(q,1.2);Q.ge(q,A,2);Q.RG(A,y)};O._.a7F=function(w,n,H,y,c){var Q=O._.a;
Q.Dg(n,H);var q=c[0]+9,S=c[1]/2,A=c[2],V=c[3],e=Q.ZE(c[4]),d=c[5]+1,N=c[6],b=Q.fE(1),z=Q.fE(1),v=Q.fE(4),T=Q.fE(4);
Q.kq(z,A,V,N);Q.IU(w,y,q,1,1);Q.IU(y,v,q,1,1);Q.a0l(v,v,T,7,S);Q.I_(T,1.2);Q.BI(T,1.2);Q.SM(z,b,b,d,e);
Q.I_(b,3);Q.Bq(w,y);Q.z1(T,b,y)};O._.ako=function(w,n,H,y,c){var Q=O._.a;Q.Dg(n,H);Q.ww(c[3]);var q=c[0]+4,S=q*2/5+(q%5|0);
q--;var A=c[1]*-2.75+60,V=65-A,e=c[2]/10,d=Q.fE(1),N=Q.fE(1);Q.lt(d);Q.Rl(w,N);var b=Q.LN(A,V,N);Q.nF(w,y);
Q.rp(y,N);Q.Bv(N,d,.8);Q.wM(N,b);Q.I_(N,e);Q.add(d,N);Q.St(N,d,q,3,!1,S);Q.wg(d,y);Q.g2(y)};O._.a27=function(w,n,H,y,c){var Q=O._.a;
Q.Dg(n,H);Q.ww(c[3]);var q=c[0]+5,S=(q*q>>1)+q%2,A=c[1]/10,V=c[2],e=(V*V>>1)+V%2,d=Q.fE(1),N=Q.fE(1),b=Q.fE(1),z=Q.fE(4),v=Q.fE(4),T=Q.fE(4);
Q.lt(b);Q.nF(w,T);Q.rp(T,d);Q.Bv(d,b,.8);Q.ge(b,d,3);Q.um(d,b,A);Q.wg(b,T);Q.g2(T,T);Q.YO(T,b);Q.Zh(b,d,q,q,S);
Q.ge(b,N,q);Q.sub(d,N);Q.Sy(N,1);Q.rc(T,z,7,7,40);Q.rc(T,v,7,7,10);Q.z1(z,N,v);Q.rc(v,y,V,V,e)};O._.a8S=function(w,n,H,y,c){var Q=O._.a,S=255,l,V;
Q.Dg(n,H);var q=c[0];if(q<2)S=q;else if(q<12)S=5*q-5;else if(q<47)S=2*q+28;else if(q<50){l=q-47;S=125+12.5*l+12.5*l*l}var A=new Uint8Array(256);
for(l=75,V=15;l<256;l++,V+=24)A[l]=Math.min(255,V);var e=Q.fE(1),d=Q.fE(1),N=Q.fE(1);Q.YO(w,e);Q.ge(e,d,11);
Q.ge(d,N,11);Q.sub(N,e);Q.I_(e,8);Q.sub(N,e);Q.Sy(e,S);Q.G$(e);Q.ge(e,d,5);Q.Sy(d,51);Q.ge(d,e,c[1]);
Q.ge(e,d,c[1]);Q.G$(d);Q.wM(d,A);Q.RG(d,y)};O._.a05=function(w,n,H,y,c){var Q=O._.a;Q.Dg(n,H);var q=Q.pi[c[1]],S=c[2],A=S*1.5,V=Q.fE(1),e=Q.fE(1),d=Q.fE(1);
Q.Rl(w,V);Q.St(V,e,15,2,!0,15);Q.Bq(e,d);Q.kl(d,S,A);Q.ge(d,V,3);Q.ge(e,d,c[0]);Q.sub(d,e);Q.I_(e,q);
Q.sub(V,e);Q.ge(e,V,3);Q.St(V,e,3,1,!1,1);Q.uC(w,y,15);Q.nF(y);Q.wg(e,y);Q.g2(y)};O._.a6T=function(w,n,H,y,c){var Q=O._.a;
Q.Dg(n,H);Q.ww(c[3]);var q=c[0]*5.1,S=16-c[1],A=[1,1,1.05,1.1,1.15,1.2,1.25,1.3,1.35,1.4,1.45,1.5,1.6,1.7,1.8,2,2.25,2.5,2.75,3,3.5,4,5,6,8,10][c[2]],V=Q.fE(1),e=Q.fE(1),d=Q.fE(1);
Q.YO(w,V);Q.Sy(V,q);Q.ge(V,e,S);Q.ge(e,V,S);Q.lt(d);Q.Kz(V,d,d,1);Q.Na(V,d,V,.75);Q.I_(V,A);Q.BI(V,A);
Q.Zh(V,e,2,2,2);Q.RG(e,y)};O._.a0H=function(w,n,H,y,c){var Q=O._.a;Q.Dg(n,H);var q=c[0]+9,S=c[1]+9,A=c[2],V=c[3],e=Q.ZE(c[4]),d=c[5]+1,N=c[6],b=Q.fE(1),z=Q.fE(1),v=Q.fE(1),T=Q.fE(1),Y=Q.fE(1),g=Q.fE(4);
Q.Rl(w,b);Q.qp(b,v,q,q);Q.ge(v,b,S);Q.Bq(v,Y);Q.Bq(b,T);Q.sub(Y,T);Q.sub(b,Y);Q.add(Y,T);Q.I_(T,10);
Q.kq(z,A,V,N);Q.SM(z,b,Y,d,e);Q.jM(Y,T,v,.8);Q.uC(w,g,9);Q.uC(g,y,9);Q.nF(y);Q.wg(v,y);Q.g2(y)};O._.ad9=function(w,n,H,y,c){var Q=O._.a;
Q.Dg(n,H);var q=16-c[0],S=c[1]*8,A=1-(3-c[2])/10,V=~~(q*q*A-1),e=~~(q*q*(1-A));if(e==0)e=1;var d=Q.fE(1),N=Q.fE(1),b=Q.fE(1),z=Q.fE(4);
Q.YO(w,b);Q.Zh(b,d,7,7,25);Q.ge(b,N,7);Q.sub(d,N);Q.Sy(N,1);Q.rc(w,z,q,q,V);Q.rc(w,y,q,q,e);Q.z1(z,N,y);
Q.nF(y);Q.rp(y,d);Q.Zh(d,b,3,3,1);Q.Zh(d,N,3,3,9);Q.sub(N,b);Q.Bq(b,N);Q.sub(d,b);Q.sub(b,N);Q.Zh(N,d,3,3,8);
Q.kl(d,S,1);Q.wg(d,y);Q.g2(y)};O._.a9j=function(w,n,H,y,c){var Q=O._.a;Q.Dg(n,H);Q.ww(c[3]);var q=c[0],S=c[1],A=c[2],V=q>>1,e=Math.max(~~(q/5),1),d=Math.max(~~(q*2/3),1),N=Q.qc(S,A),b=Q.fE(1),z=Q.fE(1),v=Q.fE(1),T=Q.fE(1),Y=Q.fE(4);
Q.Rl(w,b);Q.nx(2147483647,4,2,2,0,255,z);Q.nx(4,2147483647,2,2,0,255,T);Q.lt(v);Q.Kz(z,v,z,1);Q.Kz(T,v,T,1);
Q.Kz(z,b,z,1);Q.Kz(T,b,T,1);Q.uC(w,Y,V);Q.uC(Y,y,V);Q.Zh(z,b,1,q,e);Q.Zh(b,z,3,q,d);Q.Zh(T,b,q,1,e);
Q.Zh(b,T,q,3,d);Q.xF(z,T);Q.nF(y);Q.wg(T,y);Q.g2(y);Q.xI(y,N)};O._.Z0=function(w,n,H){var y=H.ajr,c=H.WE,Q=H.fE(1),top=H.fE(1),q=H.fE(1),S=H.fE(1),A=H.fE(1),V=H.fE(1),e=H.fE(1),d=H.fE(1),N=H.fE(1),b=H.pV,z=H.WZ,v=O.yb.o0,T=O.yb.sF;
v(w,Q,b,z,T([8,5,2,5,2,-1,2,-1,-4]));v(w,top,b,z,T([5,5,5,2,2,2,-1,-1,-1]));v(w,q,b,z,T([2,5,8,-1,2,5,-4,-1,2]));
v(w,S,b,z,T([5,2,-1,5,2,-1,5,2,-1]));v(w,A,b,z,T([2,2,2,2,2,2,2,2,2]));v(w,V,b,z,T([-1,2,5,-1,2,5,-1,2,5]));
v(w,e,b,z,T([2,-1,-4,5,2,-1,8,5,2]));v(w,d,b,z,T([-1,-1,-1,2,2,2,5,5,5]));v(w,N,b,z,T([-4,-1,2,-1,2,5,2,5,8]));
var Y=[Q,top,q,S,A,V,e,d,N];for(var g=0;g<z;g++){for(var R=0;R<b;R++){var h=g*b+R,E=w[h],G=null,k=0;
for(var $=-1;$<2;$++){for(var p=-1;p<2;p++){var X=Y[($+1)*3+p+1],C=Math.max(0,Math.min(g+$,z-1)),D=Math.max(0,Math.min(R+p,b-1)),o=X[C*b+D],t=Math.abs(o-E);
if(G==null||t<G){G=t;k=o}}}n[h]=k}}};O._.ay8=function(w,n,H,y,c){var self=O._.a;self.Dg(n,H);var Q=self.fE(1),q=self.fE(1);
for(var l=0;l<4;l++){self.rp(w,Q,l);if(l<3){O._.Z0(Q,q,self);O._.Z0(q,Q,self);O._.Z0(Q,q,self);O._.Z0(q,Q,self);
O._.Z0(Q,q,self);O._.Z0(q,Q,self);O._.Z0(Q,q,self);O._.Z0(q,Q,self);O._.Z0(Q,q,self)}else q=Q;self.wg(q,y,l)}};
O._.a={};O._.a.pV=0;O._.a.WZ=0;O._.a.WE=0;O._.a.Xo=0;O._.a.p9=0;O._.a.Dg=function(w,n){var H=w*n,self=O._.a;
self.pV=w;self.WZ=n;self.WE=H;self.Xo=H<<1;self.p9=H<<2};O._.a.ww=function(w){O._.a.random=function(){var n=w+=1831565813;
n=Math.imul(n^n>>>15,n|1);n^=n+Math.imul(n^n>>>7,n|61);return((n^n>>>14)>>>0)/4294967296}};O._.a.fE=function(w){var n=O._.a;
return new Uint8Array([-1,n.WE,n.Xo,-1,n.p9][w])};O._.a.n5=function(){return new Int32Array(O._.a.Xo)};
O._.a.ge=function(w,n,H,y){if(y==null)y=H;var self=O._.a,c=self.pV,Q=self.WZ,q=y,S=y>>1,A=H,V=H>>1,e=H*y,d=0;
for(var l=0;l<Q;l++){var N=0;for(var b=0;b<q;b++){for(var z=0;z<A;z++){var v=0-V+z,T=l-S+b;if(v<0)v=0;
else if(v>=c)v=c-1;if(T<0)T=0;else if(T>=Q)T=Q-1;N+=w[T*c+v]}}n[d++]=~~(N/e);for(var Y=1;Y<c;Y++){for(var b=0;
b<q;b++){var g=Y-V-1,R=g+A,T=l-S+b;if(g<0)g=0;if(R>=c)R=c-1;if(T<0)T=0;else if(T>=Q)T=Q-1;N+=w[T*c+R]-w[T*c+g]}n[d++]=~~(N/e)}}};
O._.a.oP=function(w,n,H,y){var self=O._.a,c=new Int32Array(self.WE),Q=new Int32Array(self.WE);for(var l=0;
l<2;l++){self.rp(w,c,l,2);self.ge(c,Q,H,y);self.wg(Q,n,l,2)}};O._.a.uC=function(w,n,H,y){var self=O._.a,c=self.fE(1),Q=self.fE(1);
for(var l=0;l<4;l++){self.rp(w,c,l);if(l<3)self.ge(c,Q,H,y);else Q=c;self.wg(Q,n,l)}};O._.a.IU=function(w,n,H,y,c){var self=O._.a,Q=self.pV,q=self.WZ,S=H+y-1,A=H>>1,V=S>>1,e=0,d=H*y,N=new Int32Array(H);
for(var l=0;l<q;l++){var b=0,z=0,v=0;for(var T=0;T<H;T++){var Y=c?S-T-y:T;for(var g=Y,R=y+Y;g<R;g++){var h=0-V+g,E=l-A+T;
if(g==Y){N[T]=h}if(h<0)h=0;else if(h>=Q)h=Q-1;if(E<0)E=0;else if(E>=q)E=q-1;var G=Q*E+h<<2;b+=w[G];z+=w[G+1];
v+=w[G+2]}}n[e++]=~~(b/d);n[e++]=~~(z/d);n[e++]=~~(v/d);n[e]=w[e];e++;for(var k=1;k<Q;k++){for(var T=0;
T<H;T++){var E=l-A+T,Y=N[T]+1;N[T]=Y;var $=Y-1,p=Y+y-1;if(E<0)E=0;else if(E>=q)E=q-1;if($<0)$=0;else if($>=Q)$=Q-1;
if(p<0)p=0;else if(p>=Q)p=Q-1;var X=E*Q+$<<2,C=E*Q+p<<2;b=b+w[C]-w[X];z=z+w[C+1]-w[X+1];v=v+w[C+2]-w[X+2]}n[e++]=~~(b/d);
n[e++]=~~(z/d);n[e++]=~~(v/d);n[e]=w[e];e++}}};O._.a.St=function(w,n,H,y,c,Q){var self=O._.a,q=self.pV,S=self.WZ,A=H+y-1,V=H>>1,e=A>>1,d=0,N=new Int32Array(H),b=new Int32Array(256),z=new Int32Array(16);
for(var l=0;l<S;l++){for(var v=0;v<256;v++){b[v]=0}for(var v=0;v<16;v++){z[v]=0}for(var T=0;T<H;T++){var Y=c?A-T-y:T;
for(var g=Y,R=y+Y;g<R;g++){var h=0-e+g,E=l-V+T;if(g==Y){N[T]=h}if(h<0)h=0;else if(h>=q)h=q-1;if(E<0)E=0;
else if(E>=S)E=S-1;b[w[E*q+h]]++;z[w[E*q+h]>>>4]++}}var G=0,k=0;while(G+z[k>>>4]<Q){G+=z[k>>>4];k+=16}for(;
k<256;k++){G+=b[k];if(G>=Q)break}n[d++]=k;for(var v=1;v<q;v++){for(var T=0;T<H;T++){var E=l-V+T,Y=N[T]+1;
N[T]=Y;var $=Y-1,p=Y+y-1;if(E<0)E=0;else if(E>=S)E=S-1;if($<0)$=0;else if($>=q)$=q-1;if(p<0)p=0;else if(p>=q)p=q-1;
b[w[E*q+$]]--;b[w[E*q+p]]++;z[w[E*q+$]>>>4]--;z[w[E*q+p]>>>4]++}G=0;k=0;while(G+z[k>>>4]<Q){G+=z[k>>>4];
k+=16}for(;k<256;k++){G+=b[k];if(G>=Q)break}n[d++]=k}}};O._.a.ZD=function(w,n,H,y,c,Q){var self=O._.a,q=self.fE(1),S=self.fE(1);
for(var l=0;l<4;l++){self.rp(w,q,l);if(l<3)self.St(q,S,H,y,c,Q);else S=q;self.wg(S,n,l)}};O._.a.Zh=function(w,n,H,y,c){c=Math.min(y*H,c);
var self=O._.a,Q=self.pV,q=self.WZ,S=y>>1,A=H>>1,V=0,e=new Int32Array(y),d=new Int32Array(256),N=new Int32Array(16);
for(var l=0;l<q;l++){for(var b=0;b<256;b++){d[b]=0}for(var b=0;b<16;b++){N[b]=0}for(var z=0;z<y;z++){for(var v=0,T=H;
v<T;v++){var Y=0-A+v,g=l-S+z;if(v==0){e[z]=Y}if(Y<0)Y=0;else if(Y>=Q)Y=Q-1;if(g<0)g=0;else if(g>=q)g=q-1;
d[w[g*Q+Y]]++;N[w[g*Q+Y]>>>4]++}}var R=0,h=0;while(R+N[h>>>4]<c){R+=N[h>>>4];h+=16}for(;h<256;h++){R+=d[h];
if(R>=c)break}n[V++]=h;for(var b=1;b<Q;b++){for(var z=0;z<y;z++){var g=l-S+z,E=e[z]+1;e[z]=E;var G=E-1,k=E+H-1;
if(g<0)g=0;else if(g>=q)g=q-1;if(G<0)G=0;else if(G>=Q)G=Q-1;if(k<0)k=0;else if(k>=Q)k=Q-1;d[w[g*Q+G]]--;
d[w[g*Q+k]]++;N[w[g*Q+G]>>>4]--;N[w[g*Q+k]>>>4]++}R=0;for(h=0;h<256;h++){R+=d[h];if(R>=c)break}n[V++]=h}}};
O._.a.rc=function(w,n,H,y,c){var self=O._.a,Q=self.fE(1),q=self.fE(1);for(var l=0;l<4;l++){self.rp(w,Q,l);
if(l<3)self.Zh(Q,q,H,y,c);else q=Q;self.wg(q,n,l)}};O._.a.um=function(w,n,H){var self=O._.a,y=self.pV,c=self.WZ,Q=0;
for(var l=0;l<c;l++){var q=l*y,S=(l-1)*y,A=(l+1)*y;if(S<0)S=q;if(A>=c)A=q;for(var V=0;V<y;V++){var e=V-1,d=V+1;
if(e<0)e=V;if(d>=y)d=V;var N=q+e,b=q+d,z=S+V,v=A+V,T=q+V,Y=w[N],g=w[b],R=w[z],h=w[v],E=w[T],G=E+(E*4*H+.5);
G=G-((Y+g+h+R)*H+.5);n[Q++]=self.GY(G)}}};O._.a.L1=function(w,n,H){var self=O._.a,y=self.fE(1),c=self.fE(1);
for(var l=0;l<4;l++){self.rp(w,y,l);if(l<3)self.um(y,c,H);else c=y;self.wg(c,n,l)}};O._.a.ajJ=function(w,n,H){var self=O._.a,y=self.pV,c=self.WZ,Q=0,q=H+4;
for(var l=0;l<c;l++){var S=l*y,A=(l-1)*y,V=(l+1)*y;if(A<0)A=S;if(V>=c)V=S;for(var e=0;e<y;e++){var d=e-1,N=e+1;
if(d<0)d=e;if(N>=y)N=e;var b=S+d<<2,z=S+N<<2,v=A+e<<2,T=V+e<<2,Y=S+e<<2;for(var g=0;g<3;g++){var R=w[b+g],h=w[z+g],E=w[v+g],G=w[T+g],k=w[Y+g];
n[Q++]=(k*H+R+h+G+E)/q}n[Q]=w[Q];Q++}}};O._.a.qp=function(w,n,H,y){var self=O._.a,c=self.pV,Q=self.WZ,q=H>>1,S=y>>1,A=0,V=new Int32Array(H),e=new Int32Array(256);
for(var l=0;l<Q;l++){for(var d=0;d<256;d++){e[d]=0}for(var N=0;N<H;N++){for(var b=0,z=y;b<z;b++){var v=0-S+b,T=l-q+N;
if(b==0){V[N]=v}if(v<0)v=0;else if(v>=c)v=c-1;if(T<0)T=0;else if(T>=Q)T=Q-1;e[w[T*c+v]]++}}var Y=0,g=0;
for(var R=0;R<256;R++){if(Y<e[R]){g=R;Y=e[R]}}n[A++]=g;for(var d=1;d<c;d++){for(var N=0;N<H;N++){var T=l-q+N,h=V[N]+1;
V[N]=h;var E=h-1,G=h+y-1;if(T<0)T=0;else if(T>=Q)T=Q-1;if(E<0)E=0;else if(E>=c)E=c-1;if(G<0)G=0;else if(G>=c)G=c-1;
e[w[T*c+E]]--;e[w[T*c+G]]++}Y=0;g=0;for(var R=0;R<256;R++){if(Y<e[R]){g=R;Y=e[R]}}n[A++]=g}}};O._.a.aoK=[function(w,n,H,y,c,Q,q,S,A,V){return c+(w+n+H)*V-(A+S+q)*V},function(w,n,H,y,c,Q,q,S,A,V){return c+(n+H+Q)*V-(S+q+y)*V},function(w,n,H,y,c,Q,q,S,A,V){return c+(H+Q+A)*V-(q+y+w)*V},function(w,n,H,y,c,Q,q,S,A,V){return c+(Q+A+S)*V-(y+w+n)*V},function(w,n,H,y,c,Q,q,S,A,V){return c+(A+S+q)*V-(w+n+H)*V},function(w,n,H,y,c,Q,q,S,A,V){return c+(S+q+y)*V-(n+H+Q)*V},function(w,n,H,y,c,Q,q,S,A,V){return c+(q+y+w)*V-(H+Q+A)*V},function(w,n,H,y,c,Q,q,S,A,V){return c+(y+w+n)*V-(Q+A+S)*V}];
O._.a.SM=function(w,n,H,y,c){var self=O._.a,Q=self.pV,q=self.WZ,S=Q,A=self.aoK[y-1];for(var l=0;l<q;
l++){var V=(l>0?l-1:0)*S,e=l*S,d=(l<q?l+1:l)*S;for(var N=0;N<Q;N++){var b=N>0?N-1:0,z=N<Q?N+1:N,v=e+N,T=w[V+b],Y=w[V+N],g=w[V+z],R=w[e+b],h=n[v],E=w[e+z],G=w[d+b],k=w[d+N],$=w[d+z];
H[v]=self.GY(A(T,Y,g,R,h,E,G,k,$,c))}}};O._.a.a0l=function(w,n,H,y,c){var self=O._.a,Q=self.fE(1),q=self.fE(1),S=self.fE(1);
for(var l=0;l<3;l++){self.rp(w,Q,l);self.rp(n,q,l);self.SM(Q,q,S,y,c);self.wg(S,H,l)}self.rp(n,Q,3);
self.wg(Q,H,3)};O._.a.YO=function(w,n){var H=w.length,y=0;for(var l=0;l<H;l++){n[y++]=~~((w[l++]+w[l++]+w[l++]+2)/3)}};
O._.a.RG=function(w,n){var H=n.length,y=0;for(var l=0;l<H;l++){var c=w[l];n[y++]=c;n[y++]=c;n[y++]=c;
n[y++]=255}if(n[0]==255)n[0]--;else n[0]++};O._.a.Rl=function(w,n){var H=n.length,y=0;for(var l=0;l<H;
l++){var c=w[y++],Q=w[y++],q=w[y++];y++;if(Q>c)c=Q;if(q>c)c=q;n[l]=c}};O._.a.nF=function(w,n){if(n==null)n=w;
var H=w.length;for(var y=0;y<H;y+=4){var c=w[y],Q=w[y+1],q=w[y+2],S=c,A=0,V=c,d;if(Q<=c){c=Q}else{A=1;
V=Q}if(q<=V){if(c>q){c=q}}else{A=2;V=q}var e=V-c;if(e!=0){if(A==0){d=~~(43*(Q-q)/e)}else if(A==1){d=~~(43*(q+2*e-S)/e)}else{d=43*(S+4*e-Q)/e}if(d<0){d=255&d-1}n[y]=d;
n[y+1]=~~(255*e/V)}else{n[y]=e;n[y+1]=e}n[y+2]=V;n[y+3]=w[y+3]}};O._.a.g2=function(w,n){if(n==null)n=w;
var H=w.length;for(var y=0;y<H;y+=4){var c=w[y],Q=w[y+1],q=w[y+2];if(Q){if(c==255)c=0;var S=~~(6*c/255),A=~~(-255*S+6*c);
if(S==0){n[y]=q;n[y+1]=~~(q*(255-Q*(255-A)/255)/255);n[y+2]=~~(q*(255-Q)/255)}else if(S==1){n[y]=~~(q*(255-Q*A/255)/255);
n[y+1]=q;n[y+2]=~~(q*(255-Q)/255)}else if(S==2){n[y]=~~(q*(255-Q)/255);n[y+1]=q;n[y+2]=~~(q*(255-Q*(255-A)/255)/255)}else if(S==3){n[y]=~~(q*(255-Q)/255);
n[y+1]=~~(q*(255-Q*A/255)/255);n[y+2]=q}else if(S==4){n[y]=~~(q*(255-Q*(255-A)/255)/255);n[y+1]=~~(q*(255-Q)/255);
n[y+2]=q}else{n[y]=q;n[y+1]=~~(q*(255-Q)/255);n[y+2]=~~(q*(255-Q*A/255)/255)}}else{n[y]=q;n[y+1]=q;n[y+2]=q}n[y+3]=w[y+3]}};
O._.a.wg=function(w,n,H,y){if(H==null)H=2;if(y==null)y=4;var c=w.length;for(var l=0;l<c;l++){n[H]=w[l];
H+=y}};O._.a.rp=function(w,n,H,y){if(H==null)H=2;if(y==null)y=4;var c=n.length;for(var l=0;l<c;l++){n[l]=w[H];
H+=y}};O._.a.jM=function(w,n,H,y){if(y==null)y=1;var c=n.length,Q=0,q;for(var Q=0;Q<c;Q++){q=n[Q];if(q){q*=y;
H[Q]=~~((q*w[Q]+(255-q)*H[Q])/255)}}};O._.a.z1=function(w,n,H,y){if(y==null)y=H;var c=n.length,Q=0,q,S;
for(var l=0;l<c;l++){q=n[l];if(q){S=255-q;y[Q]=~~((q*w[Q]+S*H[Q])/255);y[Q+1]=~~((q*w[Q+1]+S*H[Q+1])/255);
y[Q+2]=~~((q*w[Q+2]+S*H[Q+2])/255)}y[Q+3]=w[Q+3];Q+=4}};O._.a.Na=function(w,n,H,y){var c=~~(y*255),Q=H.length;
for(var l=0;l<Q;l++){H[l]=((255-c*(255-w[l])/255)*n[l]+w[l]*(c*(255-w[l])/255))/255}};O._.a.Kz=function(w,n,H,y){var c=~~(y*255),Q=H.length;
for(var l=0;l<Q;l++){H[l]=((255-c*w[l]/255)*n[l]+w[l]*(c*w[l]/255))/255}};O._.a.Bv=function(w,n,H){var y=n.length;
for(var l=0;l<y;l++){n[l]=~~(w[l]*H+.5)+(n[l]-~~(n[l]*H+.5))}};O._.a.sub=function(w,n){var H=w.length;
for(var l=0;l<H;l++){n[l]=Math.max(w[l]-n[l],0)}};O._.a.add=function(w,n){var H=w.length;for(var l=0;
l<H;l++){n[l]=Math.min(w[l]+n[l],255)}};O._.a.ajr=function(w,n){var H=w.length;for(var l=0;l<H;l++){n[l]=w[l]+n[l]}};
O._.a.xF=function(w,n){var H=w.length;for(var l=0;l<H;l++){n[l]=w[l]+n[l]>>1}};O._.a.Bq=function(w,n){var H=w.length;
for(var l=0;l<H;l++){n[l]=w[l]}};O._.a.wM=function(w,n){var H=w.length;for(var l=0;l<H;l++){w[l]=n[w[l]]}};
O._.a.xI=function(w,n){var H=O._.a.p9;for(var l=0;l<H;l+=4){var y=w[l],c=w[l+1],Q=w[l+2],q=y;if(c>y)q=c;
if(Q>y)q=Q;var S=n[q];if(S){w[l]=~~(S*y/q);w[l+1]=~~(S*c/q);w[l+2]=~~(S*Q/q)}else{w[l]=S;w[l+1]=S;w[l+2]=S}}};
O._.a.I_=function(w,n){for(var l=0,H=w.length;l<H;l++){w[l]=Math.min(255,~~(.5+w[l]*n))}};O._.a.BI=function(w,n){for(var l=0,H=w.length;
l<H;l++){w[l]=255-Math.min(255,~~(.5+(255-w[l])*n))}};O._.a.G$=function(w){var n=w.length;for(var l=0;
l<n;l++){w[l]=255-w[l]}};O._.a.Sy=function(w,n,H,y){if(H==null)H=0;if(y==null)y=255;for(var l=0,c=w.length;
l<c;l++){w[l]=w[l]>=n?y:H}};O._.a._$=function(w){return[w>>24&255,w>>16&255,w>>8&255,w&255]};O._.a.avF=function(w,n,H,y){if(H==null)H=255;
if(y==null)y=4278190335;var c=O._.a,Q=c.p9,q=c._$(H),S=c._$(y);for(var l=0;l<Q;l+=4){var A=~~((w[l]+w[l+1]+w[l+2]+2)/3);
if(A>=n){w[l]=q[0];w[l+1]=q[1];w[l+2]=q[2]}else{w[l]=S[0];w[l+1]=S[1];w[l+2]=S[2]}}};O._.a.AP=function(w,n){var H=O._.a,y=H.p9,c=H._$(n);
for(var l=0;l<y;){w[l++]=c[0];w[l++]=c[1];w[l++]=c[2];w[l++]=c[3]}};O._.a.mi=function(w,n){var H=w.length;
for(var l=0;l<H;){w[l++]=n}};O._.a.qc=function(w,n){w=w>5?(100-Math.max(4,w))/100:.95;n=n!=100?Math.max(4,n)/100:.9995;
var H=new Uint8Array(256),y=n>.5?.5/(1-n):n*2,c=~~(y*256),Q=~~((.5-w*y)*256)<<8;for(var l=0;l<256;l++){H[l]=O._.a.GY(Q>>8);
Q+=c}return H};O._.a.lt=function(w){for(var l=0,n=O._.a,H=w.length;l<H;l++){w[l]=~~(n.random()*256)}};
O._.a.aqw=function(w,n){for(var l=0,H=O._.a,y=w.length;l<y;l++){w[l]=H.random()<n?255:0}};O._.a.Db=function(w,n,H){for(var l=0,y=O._.a,c=w.length;
l<c;l++){if(y.random()<n)w[l]=H}};O._.a.tM=function(w,n,H){var y=w.length;for(var l=0;l<y;l++){w[l]=O._.a.GY(w[l]+H[n[l]])}};
O._.a.$W=function(w){var n=new Uint32Array(256);for(var l=0,H=w.length;l<H;l++)n[w[l]]++;return n};O._.a.a15=function(w,n){var H=0,y=0,c=new Uint32Array(256),Q=new Float32Array(256);
for(var l=0,q=w.length;l<q;l++){var S=w[l],A=n[l];if(A==255){c[S]++;H++}else if(A>0){A/=255;y+=A;Q[S]+=A;
if(y>=1){y--;H++}if(Q[S]>=1){Q[S]--;c[S]++}}}return[H,c]};O._.a.LN=function(w,n,H,y){var self=O._.a,c,Q,e=0,N=256;
if(y){var q=self.a15(H,y);c=q[1];Q=q[0]/100}else{c=self.$W(H);Q=self.WE/100}var S=new Uint8Array(256),A=Q*w,V=Q*n,d=-1;
do{e+=c[++d]}while(e<=A);e=0;do{e+=c[--N]}while(e<=V);if(N-d<=0)N=d+1;if(N>255){N=255;d=254}var b=255/(N-d),z=-d;
for(var l=0;l<256;l++){S[l]=self.GY(b*z+.5);z++}return S};O._.a.kl=function(w,n,H,y){var c=O._.a;c.wM(w,c.LN(n,H,w,y))};
O._.a.akf=function(w,n){var self=O._.a,H=self.$W(w),y=self.WE*n/100,c=0,Q=-1;do{c+=H[++Q]}while(c<=y);
return Q};O._.a.wR=function(w,n){var H=0,self=O._.a,y=self.pV,c=self.WZ,Q=1/Math.PI,q=Q*255;for(var l=0;
l<c;l++){var S=l+1;if(S==c)S--;var A=l*y,V=~~((1-(l+1)/c)*255);for(var e=0;e<y;e++){var d=e+1;if(d==y)d--;
var N=w[A+e],b=w[A+d],z=w[S*y+e];if(N-z==0){n[H++]=V}else{var v=N-z+255;if(v==255){v=0}else{v=~~(Math.atan2(1/(255-v),1)*q+.5);
if(v<0)v+=255}n[H++]=v}if(N-b==0){n[H++]=~~((1-(e+1)/y)*255)}else{var v=N-b+255;if(v==255){v=0}else{v=~~(Math.atan2(1/(255-v),1)*q+.5);
if(v<0)v+=255}n[H++]=v}}}};O._.a.wE=function(w,n){var self=O._.a,H=self.pV,y=self.WZ,c=0;for(var l=0;
l<y;l++){for(var Q=0;Q<H;Q++){w[c]=~~(l*n+.5)+~~(w[c]*(1-n)+.5);c++;w[c]=~~(Q*n+.5)+~~(w[c]*(1-n)+.5);
c++}}};O._.a.a6K=function(w,n,H,y){var self=O._.a,c=self.pV,Q=self.WZ,q=0;for(var l=0;l<Q;l++){for(var S=0;
S<c;S++){n[q]=~~(n[q]*(1-H)+.5)+~~(w[q]*y+.5);q++;n[q]=~~(n[q]*(1-H)+.5)+~~(w[q]*y+.5);q++}}};O._.a.iP=function(w,n,H){var self=O._.a,y=self.pV,c=self.WZ,Q=0,q=0;
for(var l=0;l<c;l++){for(var S=0;S<y;S++){var A=w[Q++],V=w[Q++];n[q++]=V%H>=2&&A%H>=2?255:0}}};O._.a.nx=function(w,n,H,y,c,Q,q){var self=O._.a,S=self.pV,A=self.WZ,V=0,e=0,d=0;
for(var l=0;l<A;l++){var N=l%w<H||A-H<=l;for(var b=0;b<S;b++){q[V++]=N||b%n<y||S-y<=b?c:Q}}};O._.a.kq=function(w,n,H,y){var self=O._.a,c=self.pV,Q=self.WZ;
self.nx(8,8,4,4,0,255,w)};O._.a.GY=function(w){return~~Math.min(255,Math.max(0,w))};O._.a.pi=[0,5,10,15,20,25,35,45,65,85,105,125,145,165,185,205];
O._.a.Wf=[0,.2,.4,.5,.6,.7,.8,.9,1,1.1,1.2,1.3,1.4,1.5,1.7,2,2.5,3,3.5,4,5,6,7,8,9,10];O._.a.ZE=function(w){return w>40?[1.25,1.5,1.75,2,2.5,3,4,5,7.5,10][w-41]:w/40};
O._.a.akl=function(w,n,H){var self=O._.a,y=self.pV,c=self.WZ,Q=H,q=H>>1,S=q-1,A=Q*Q,V=0;for(var l=0;
l<c;l++){var e=0,d=0,N=0,b=~~(l/H)*H,z=0;for(var v=0;v<Q;v++){for(var T=0;T<Q;T++){var Y=z+T,g=b+v;if(Y>=y)Y=y-1;
if(g>=c)g=c-1;e+=w[g*y+Y<<2];d+=w[(g*y+Y<<2)+1];N+=w[(g*y+Y<<2)+2]}}var R=~~(e/A),h=~~(d/A),E=~~(N/A);
n[V]=R;n[V+1]=h;n[V+2]=E;n[V+3]=w[V+3];V+=4;for(var G=1;G<y;G++){for(var v=0;v<Q;v++){var k=G-1,$=k+Q,g=b+v;
if($>=y)$=y-1;if(g>=c)g=c-1;var p=g*y,X=p+$<<2,C=p+k<<2;e+=w[X]-w[C];d+=w[X+1]-w[C+1];N+=w[X+2]-w[C+2]}if(G%H==0){R=~~(e/A);
h=~~(d/A);E=~~(N/A)}n[V]=R;n[V+1]=h;n[V+2]=E;n[V+3]=w[V+3];V+=4}}};O._.a.adl=function(w,n,H,y,c){var self=O._.a,Q=self.pV,q=self.WZ,S=0,A=0,V=0,e=0;
for(var l=e;l<q+e;l++){var d=l%n>=y||l<y||q+e-y<=l;for(var N=0;N<Q;N++){w[S++]=d&&(N%H>=c||N<c||Q-c<=N)?255:0}}};
O._.a.a6e=function(w,n,H){var y=function(V,e){return e<=V?V/e&1?e-V%e:V%e:V},c=[function(S,A){return y(S,255)/255},function(S,A){return(255+y(S,255)-y(A,255))/510},function(S,A){return(255-y(A,255))/255},function(S,A){return(510-y(S,255)-y(A,255))/510},function(S,A){return(255-y(S,255))/255},function(S,A){return(255-y(S,255)+y(A,255))/510},function(S,A){return y(A,255)/255},function(S,A){return(y(S,255)+y(A,255))/510}][H],Q=0,q=0;
for(var l=0;l<O._.a.WE;l++){var S=w[Q++],A=w[Q++];n[q++]=~~(255*c(S,A))}};O._.ahz=function(){var w=[],n=new Uint8Array(512),H=new Float32Array(512),y=new Float32Array(512),c=[1,-1,1,-1,1,-1,0,0],Q=[1,1,-1,-1,0,0,1,-1],q=0,S,z=0;
for(;q<256;q++)w[q]=q;while(q!=0){q--;S=Math.floor(Math.random()*q);w[S]^=w[q]^(w[q]=w[S])}function A(A){A=Math.floor(A*65536);
if(A<256){A|=A<<8}for(var l=0;l<256;l++){var Y=l+256,g=w[l]^(l&1?A:A>>8)&255;n[l]=n[Y]=g;g=g%8;H[l]=H[Y]=c[g];
y[l]=y[Y]=Q[g]}}function V(Y){return Y*Y*Y*(Y*(Y*6-15)+10)}function e(Y,g,R){return(1-R)*Y+R*g}function d(Y,g){return Y&g}function N(Y,g){return Y%g}function b(Y,g,R,h,E){var G=Math.floor(Y),k=Math.floor(g),q,$,p,X,C,D;
Y=Y-G;g=g-k;G=G&255;k=k&255;q=G+n[k];X=H[q]*Y+y[q]*g;q=G+n[E(k+1,h)];p=H[q]*Y+y[q]*(g-1);q=E(G+1,R)+n[k];
C=H[q]*(Y-1)+y[q]*g;q=E(G+1,R)+n[E(k+1,h)];D=H[q]*(Y-1)+y[q]*(g-1);$=V(Y);return e(e(X,C,$),e(p,D,$),V(g))}function v(Y,q,g){Y[q]=g}function T(Y,g,R,h,E){var G=Math.min(Math.min(g,256),Math.min(256,R)),k=G==256||G<8,$=8,p=new Uint32Array($),X=new Uint32Array($),C=new Float32Array($),D=new Float32Array($),o=1,t=1,u=k?d:N,m=v,U;
for(var l=0;l<$;l++){U=t*1/G;if(k){X[l]=(1<<Math.ceil(Math.log2(R*U)))-1;p[l]=(1<<Math.ceil(Math.log2(g*U)))-1}else{X[l]=U*R;
p[l]=U*g}C[l]=o;D[l]=U;o*=.5;t=t<<1}A(Math.random());for(var I=0,q=0;I<R;I++){for(var x=0;x<g;x++){var J=0;
for(var r=0;r<$;r++){U=D[r];J+=b(x*U,I*U,p[r],X[r],u)*C[r]}m(h,q++,Math.round(Math.max(0,255*Math.min(1,.5+J*.5))))}}}return T}();
O._.ask=function(){function w(n,H,y,c){var Q=new Uint8Array(n.length>>>2),q=new Uint8Array(n.length>>>2),S=new Uint8Array(n.length);
for(var l=0;l<n.length;l+=4){var A=n[l+0]*.3+n[l+1]*.59+n[l+2]*.11;q[l>>>2]=A;S[l]=n[l];S[l+1]=n[l+1];
S[l+2]=n[l+2]}O.yb.xs(q,Q,H,y);O.yb.NC(n,c,H,y,O.yb.LX[1],0,!0);for(var l=0;l<n.length;l+=4){S[l+3]=255-Q[l>>>2]}for(var l=0,V=n.length;
l<V;l+=4){var e=S[l+3]/255;c[l]=S[l]*e+c[l]*(1-e);c[l+1]=S[l+1]*e+c[l+1]*(1-e);c[l+2]=S[l+2]*e+c[l+2]*(1-e)}}return w}();
O._.abY=function(){function w(Q,q,S,A,V){var e=new Uint32Array(Q.buffer),d=0;for(var l=0;l<S;l++){for(var N=0;
N<q;N++,d+=4){var b=e[l*q+N],z=b&255,v=b>>>8&255,T=b>>>16&255,Y=b>>>24&255,g=~~(Math.random()*8),R=g%3,h=0,E=0;
if(g<3){E--}else if(g>4){E++}if(R==0){h--}else if(R==2){h++}var G=N+h,k=l+E;if(G<0)G=0;else if(G>q-1)G=q-1;
if(k<0)k=0;else if(k>S-1)k=S-1;var b=e[k*q+G],$=b&255,p=b>>>8&255,X=b>>>16&255,C=b>>>24&255;A[d]=V(z,$);
A[d+1]=V(v,p);A[d+2]=V(T,X);A[d+3]=V(Y,C)}}}function n(Q,q){return q}function H(Q,q){return Q>q?q:Q}function y(Q,q){return Q<q?q:Q}function c(Q,q,S,A,V){var e=V[0];
if(e==0)w(Q,q,S,A,n);else if(e==1)w(Q,q,S,A,H);else if(e==2)w(Q,q,S,A,y);else if(e==3){console.error("Not implemented")}else console.error("Mew mew")}return c}();
O._.a7N=function(){function w(n,H,y,c,Q){var q=Q&&Q[0]?Q[0]:4,S,A,V,e,d,N,b;for(var l=0;l<y;l++){var z=Math.max(l-q,0),v=Math.min(l+q,y-1);
for(var T=0;T<H;T++){var Y=Math.max(T-q,0),g=Math.min(T+q,H-1);S=z*H+Y<<2;e=n[S];d=n[S+1];N=n[S+2];b=n[S+3];
S=z*H+g<<2;e+=n[S];d+=n[S+1];N+=n[S+2];b+=n[S+3];S=v*H+Y<<2;e+=n[S];d+=n[S+1];N+=n[S+2];b+=n[S+3];S=v*H+g<<2;
e+=n[S];d+=n[S+1];N+=n[S+2];b+=n[S+3];S=l*H+T<<2;c[S]=e+2>>>2;c[S+1]=d+2>>>2;c[S+2]=N+2>>>2;c[S+3]=b+2>>>2}}}return w}();
O._.ao5=function(){function w(n,H,y,c){var Q=new Uint8Array(n.length),q=new Uint8Array(n.length>>>2),S=new Uint8Array(n.length>>>2);
O.yb.NC(n,Q,H,y,O.yb.LX[2],0,!0);for(var l=0;l<n.length;l+=4){var A=Q[l+0]*.3+Q[l+1]*.59+Q[l+2]*.11;
q[l>>>2]=A;c[l+0]=n[l+0];c[l+1]=n[l+1];c[l+2]=n[l+2];c[l+3]=n[l+3]}O.yb.xs(q,S,H,y);for(var l=0;l<n.length;
l+=4){Q[l+3]=~~(Math.max(0,255-S[l>>>2]-50)*(255/205))}for(var l=0,V=n.length;l<V;l+=4){var e=Q[l+3]/255;
c[l]=Q[l]*e+c[l]*(1-e);c[l+1]=Q[l+1]*e+c[l+1]*(1-e);c[l+2]=Q[l+2]*e+c[l+2]*(1-e)}}return w}();O._.Ln=function(){function w(g,R){return g[R]+g[R+1]+g[R+2]+g[R+3]}function n(g,R){return g[R]+g[R+1]+g[R+2]+2*g[R+3]}function H(g,R,h,E){g[R]=h[E];
g[R+1]=h[E+1];g[R+2]=h[E+2];g[R+3]=h[E+3]}function y(g,R,h){g[R]=g[h];g[R+1]=g[h+1];g[R+2]=g[h+2];g[R+3]=g[h+3]}function c(g,R,h){g[h]=R[h];
g[h+1]=R[h+1];g[h+2]=R[h+2];g[h+3]=255-R[h+3]}function Q(g){for(var l=0,R=g.length;l<R;l+=4){g[l+3]=255-g[l+3]}}function q(){var g=Math.random();
if(g>.5)return 0;if(g>.25)return 1;if(g>.1)return 2;if(g>.02143)return 3;if(g>.00445)return 4;if(g>65e-5)return 5;
if(g>415e-6)return 6;if(g>55e-6)return 7;return 8}function S(g,R,h,E,G,k){g[R]=h[E]+(G[k]-h[E]>>1);g[R+1]=h[E+1]+(G[k+1]-h[E+1]>>1);
g[R+2]=h[E+2]+(G[k+2]-h[E+2]>>1);g[R+3]=h[E+3]+(G[k+3]-h[E+3]>>1)}function A(g,R,h,E,G,k){g[R]=G[k]+h[E]>>1;
g[R+1]=G[k+1]+h[E+1]>>1;g[R+2]=G[k+2]+h[E+2]>>1;g[R+3]=G[k+3]+h[E+3]>>1}function V(g,R,h,E,G,k,$,p,X){var C=0,D=0,o=0,l,t=G[k],u;
S(p,0,g,R,g,h);for(l=0;l<t;l++){S(p,(l+1)*4,p,l*4,g,h)}D=(t+1)*4;o+=t;k--;H(g,R,p,D-4);E[k]=w(g,R);R-=X;
while(k>0&&E[k-1]<E[k]){u=p;p=$;$=u;C=D;A(p,0,g,R-X,$,0);for(l=4;l<C;l+=4){A(p,l,p,l-4,$,l)}t=G[k];for(l=o;
l<t;l++){S(p,D,p,D-4,$,C-4);D+=4;o++}k--;H(g,R,p,D-4);E[k]=w(g,R);R-=X}}function e(g,R,h,E,G){var k=R*4,$=0,p,X,C=new Uint8Array(R+1),D=new Uint8Array(10*4),o=new Uint8Array(10*4);
for(var l=0;l<h;l++){c(E,g,$);G[0]=w(E,$);C[0]=q();p=$;$+=4;for(var t=1;t<R;t++){c(E,g,$);G[t]=w(E,$);
X=q();C[t]=X;if(G[t-1]<G[t]&&X>0){V(E,$-4,$,G,C,t,D,o,4)}$+=4}G[R]=G[0];C[R]=C[0];if(G[R-1]<G[R]&&X>0){V(E,$,p,G,C,R,D,o,4)}}Q(E)}function d(){var g=Math.random();
if(g>.659755)return 0;if(g>.1625)return 10;if(g>.06)return 20;if(g>.01)return 30;if(g>.0035)return 40;
if(g>65e-5)return 50;if(g>415e-6)return 60;if(g>55e-6)return 70;return 80}function N(g,R,h,E,G,k){var $=d()+1,p=E[G];
for(var l=1;l<$;l++){if(0>G)break;if(E[G-l]<p){y(g,R,h)}else{break}R+=k}}function b(g,R,h,E,G){var k=R*4,$=0;
for(var l=0;l<h;l++){c(E,g,$);G[0]=w(E,$);$+=4;for(var p=1;p<R;p++){c(E,g,$);G[p]=w(g,$);if(G[p-1]<G[p]){N(E,$-4,$,G,p,-4)}$+=4}G[R]=G[0];
if(G[p-1]<G[p]){N(E,$-4,$-k,G,p,-4)}}Q(E)}function z(g,R,h,E,G,k){var $=1,p,X,C=new Uint8Array(4),D,o=R;
while(Math.random()<1/$){o=R;if(E<=1)break;p=h[E];X=h[E-1];if(p<=X)break;H(C,0,g,o-k);D=!0;for(var l=E;
l<G;l++){if(X>h[l]){H(g,o-k,C,0);h[l-1]=X;D=!1;break}H(g,o-k,g,o);h[l-1]=h[l];o+=k}if(D){H(g,o-k,C,0);
h[G-1]=X}$++;E--;R-=k}}function v(g,R,h,E,G){var k=0,$=0,p=R*4;for(var l=0;l<h;l++){$=k;for(var X=0;
X<R;X++){c(E,g,k);G[X]=n(E,k);k+=4}k=$;for(var X=1;X<R;X++){if(G[X-1]<G[X]&&Math.random()<.66){z(E,k+4,G,X,R,4)}k+=4}k+=4}Q(E)}function T(g,R,h,E,G){var k=G[0],$=G[1],p=new Uint16Array(R+1),X=g,C=E,D;
if($){D=E.slice(0);Y(g,E,R,h);X=E;C=D}if(k==0)e(X,R,h,C,p);else if(k==1)b(X,R,h,C,p);else if(k==2)v(X,R,h,C,p);
if($){Y(D,E,R,h)}}function Y(g,R,h,E){for(var G=0;G<E;G++)for(var k=0;k<h;k++){var $=G*h+k<<2,p=G*h+(h-1-k)<<2;
R[p]=g[$];R[p+1]=g[$+1];R[p+2]=g[$+2];R[p+3]=g[$+3]}}return T}();O._.GE=function(w,n,H,y,c){var Q=O._.a,q=1,T=0,R=0;
Q.Dg(n,H);Q.ww(c[2]);var S=3<<13,A=Math.PI/2.43,V=A/256,e=Math.PI*2/256;function d(){var k=Q.random()*256,$=Q.random()*256;
return q*~~(Math.tan(A-k*V)*325*Math.cos($*e)*256)+S>>16}q=c[0];var N=c[1],b=(N+2)/2,z=Q.random()*255,v=Q.fE(1);
for(var l=0;l<H;l++){var Y=Q.GY(d()+z);for(var g=0;g<n;g++){Y=Q.GY(d()+Y);v[T++]=Y}}T=n;for(var l=1;
l<H;l++){var h=Q.GY(d()+v[R++]);v[T++]=h;for(var g=1;g<n;g++){var E=R+1;if(g+1==n){E--}var G=(b+h+v[E]+v[R]*N)/(N+2);
h=Q.GY(d()+G);v[T++]=h;R++}}Q.RG(v,y)};var bm=function(){function w(F){F=F^61^F>>>16;F=F+(F<<3);F=F^F>>>4;
F=F*668265261;F=F^F>>>15;return F}var n=function(){var n=function(F){if(F){this.iL=F}this.iL=w(this.iL);
return(this.iL&16777215)*(1/16777215)};return n};function H(F,_){if(_==null){_=[0,0]}return Math.sqrt((_[0]-F[0])*(_[0]-F[0])+(_[1]-F[1])*(_[1]-F[1]))}function y(F,_){if(_==null){_=[0,0]}return[-(_[1]-F[1])/H(F,_),(_[0]-F[0])/H(F,_)]}function c(F){return[Math.cos(F),Math.sin(F)]}function Q(F){var _=H(F,[0,0]),K=[F[0]/_,F[1]/_],B=Math.atan(K[1]/K[0]);
if(K[0]>0&&K[1]<0){B+=2*Math.PI}else if(K[0]<0&&K[1]<0){B+=Math.PI}else if(K[0]<0&&K[1]>0){B+=Math.PI}return B}function q(F){var q=0;
for(var l=1;l<F.length/2;++l){q+=H([F[2*l],F[2*l+1]],[F[2*(l-1)],F[2*(l-1)+1]])}return q}function S(F,_,K){var B=new Float32Array(F.length),ij=1/(F.length/2),W=E(K);
for(var l=0;l<F.length/2;++l){var L=l*ij,i=L/2+.5,e3=1,eE=0;if(K.shape==2){e3=1/(2*i)}if(K.shape==3){i=(1-L)/2+.5;
e3=1/(2*i)+.5}if(K.shape==4){i=L;e3=Math.sin(3/2*Math.PI*i)/4+1}if(K.shape==5){i=(L-.5)*6;e3=(-Math.atan(i)/1.25+1)/5+.6-.2*L}var ec=[null,null];
if(l==0){ec=y([F[2*l],F[2*l+1]],[F[2*(l+1)],F[2*(l+1)+1]])}else if(l==F.length/2-1){ec=y([F[2*(l-1)],F[2*(l-1)+1]],[F[2*l],F[2*l+1]])}else{ec=y([F[2*(l-1)],F[2*(l-1)+1]],[F[2*(l+1)],F[2*(l+1)+1]])}B[2*l]=F[2*l]+(e3*_+eE)*ec[0];
B[2*l+1]=F[2*l+1]+(e3*_+eE)*ec[1];if(K.style==2){B[2*l]+=G(2*l/B.length,W,K)}}return B}function A(F,_,K){var B=new Float32Array(F.length),ij=1/(F.length/2);
for(var l=0;l<F.length/2;++l){var W=l*ij,L=[null,null],i=.6*K.G2*p(W,_.ayS)*K.M6/100,e3=.6*K.G2*p(W,_.a51)*K.M6/100,eE=_.ax2*i+(1-_.ax2)*e3;
if(l==0){L=y([F[2*l],F[2*l+1]],[F[2*(l+1)],F[2*(l+1)+1]])}else if(l==F.length/2-1){L=y([F[2*(l-1)],F[2*(l-1)+1]],[F[2*l],F[2*l+1]])}else{L=y([F[2*(l-1)],F[2*(l-1)+1]],[F[2*(l+1)],F[2*(l+1)+1]])}B[2*l]=F[2*l]+eE*L[0];
B[2*l+1]=F[2*l+1]+eE*L[1]}return B}function V(F){if(F.w6==1){return[.150684932,.205479452,.465753425,.178082192]}else if(F.w6==2){return[.126829268,.131707317,.156097561,.317073171,.141463415,.126829268]}else{var _=[],K=1/(o(F)-1);
for(var l=0;l<o(F)-1;++l){_.push(K)}return _}}function e(F,_,K){var B=[],ij=_-F,W=F;for(var l=0;l<K.length-1;
++l){B.push(W+K[l]*ij);W=B[l]}return B}function d(F,_,K,B){var ij=new Float32Array(K.length),W=0,L={shape:Math.floor(B.random()*2.99),anW:B.random()*.1+.15};
for(var l=0;l<K.length-1;++l){var i=W+K[l];ij[l]=((1-i)*F+i*_)*Y(B,i,L);W=i}return ij}function N(F,_,K,B){var ij=C(B),W=B.random(),L=W*20+(1-W)*26,i=new Float32Array(K.length),e3=0;
for(var l=0;l<K.length-1;++l){var eE=e3+K[l];i[l]=(1-eE)*F+eE*_+ij/L*(2/3*Math.sin(Math.PI*eE)+1/3*Math.sqrt(Math.sin(Math.PI*eE)));
e3=eE}return i}function b(F,_,K){var B=[];for(var l=0;l<_.length-1;++l){B.push(_[l].slice());var ij=l*(o(K)-1),W=(l+1)*(o(K)-1),L=F[W]-F[ij];
for(var i=ij+1;i<W;++i){var e3=E(K),eE=new Float32Array(_[0].length),ec=(F[i]-F[ij])/L;for(var gw=0;
gw<_[0].length/2;++gw){eE[2*gw]=(1-ec)*_[l][2*gw]+ec*_[l+1][2*gw];eE[2*gw+1]=(1-ec)*_[l][2*gw+1]+ec*_[l+1][2*gw+1];
if(K.style==2){eE[2*gw]+=G(2*gw/_[0].length,e3,K)}}B.push(eE)}}B.push(_[_.length-1]);return B}function z(F,_,K){var B=new Array(_.length),ij=J(F),L=null;
for(var l=0;l<_.length;++l){B[l]=S(ij,(_[l]-.5)*K.M6,K)}var W=1+.05*K.a4B*C(K)/C({w6:1});for(var l=0;
l<_.length;++l){if(_[l]==0){L=l}}for(var l=0;l<_.length;++l){var i=(K.random()-.5)*2,e3=Math.round(K.random()*9+1),eE=new Float32Array(e3*2+2);
for(var ec=0;ec<=e3;++ec){eE[2*ec]=B[l][0]-(B[l][2*ec]-B[l][0]);eE[2*ec+1]=B[l][1]-(B[l][2*ec+1]-B[l][1])}if(l==L){i*=.1}for(var ec=(B[l].length-1)/2;
ec>e3;--ec){B[l][2*ec]=(1-i)*B[l][2*ec]+i*(B[l][2*(ec-e3)]+W*(B[l][2*ec]-B[l][2*(ec-e3)]));B[l][2*ec+1]=(1-i)*B[l][2*ec+1]+i*(B[l][2*(ec-e3)+1]+W*(B[l][2*ec+1]-B[l][2*(ec-e3)+1]))}for(var ec=e3-1;
ec>=0;--ec){B[l][2*ec]=(1-i)*B[l][2*ec]+i*(eE[2*(e3-ec)]+W*(B[l][2*ec]-eE[2*(e3-ec)]));B[l][2*ec+1]=(1-i)*B[l][2*ec+1]+i*(eE[2*(e3-ec)+1]+W*(B[l][2*ec+1]-eE[2*(e3-ec)+1]))}}var gw=$(_,K);
if(K.G2>0){var bl=0;for(var l=0;l<_.length;++l){if(l==0){bl+=_[l]}else{bl+=Math.abs(_[l]-_[l-1])}var cD=bl-Math.floor(bl),a$=1;
if(cD==0){a$=0}B[l]=A(B[l],{ayS:gw[Math.floor(bl)],a51:gw[Math.floor(bl)+a$],ax2:cD},K)}}return B}function v(F,_){var K=m(_,F),B=U(_,F),ij=[],W=[],L=[],i=V(F);
for(var l=0;l<_.length-1;++l){ij.push(_[l]);W.push(K[l]);L.push(B[l]);var e3=e(_[l],_[l+1],i),eE=d(K[l],K[l+1],i,F),ec=N(B[l],B[l+1],i,F);
for(var gw=0;gw<e3.length;++gw){ij.push(e3[gw]);W.push(eE[gw]);L.push(ec[gw])}}ij.push(_[_.length-1]);
W.push(K[K.length-1]);L.push(B[B.length-1]);return{awU:ij,a3q:W,bQ:L}}function T(F,_,K,B){var ij=new Float32Array(2*B),W=F.length/2,L=W-_,i=K*L,e3=i/B;
for(var l=0;l<B;++l){var eE=Math.floor(_+l*e3),ec=Math.ceil(_+l*e3),K=_+l*e3,gw=ec-eE,bl=1,cD=0;if(gw!=0){bl=(ec-K)/gw;
cD=(K-eE)/gw}ij[2*l]=bl*F[2*eE]+cD*F[2*ec];ij[2*l+1]=bl*F[2*eE+1]+cD*F[2*ec+1]}return ij}function Y(F,_,K){var B=K.anW,ij=_*2*Math.PI,W=ij,L=0;
if(K.shape==0){L=(Math.sin(2*W+Math.PI/2)+1)/2}else if(K.shape==1){L=(Math.sin(W+Math.PI/2)+1)/2}else{L=(4*Math.sin(3/4*W+Math.PI)+Math.sin(Math.PI/2+2*W)-2*W/Math.PI+6)/7}return Math.min(1,1-B+B*L)}function g(F,_,K,B){var ij=[];
for(var l=0;l<F.length;++l){ij.push(T(F[l],_[l],K[l],B))}return ij}function R(F,_,K){var B=[];for(var l=0;
l<F.length;++l){var ij=c(2*Math.PI*K.random()),W=c(2*Math.PI*K.random()),L=K.r_*.5*t({w6:1})/t(K),i=L*K.M6/200,e3=L*_/500,eE=new Float32Array(F[0].length);
for(var ec=0;ec<F[0].length/2;++ec){var gw=c(2*Math.PI*K.random()),bl=2*ec/F[0].length;eE[2*ec]=F[l][2*ec]+i*(gw[0]+((1-bl)*ij[0]+bl*W[0]));
eE[2*ec+1]=F[l][2*ec+1]+e3*(gw[1]+((1-bl)*ij[1]+bl*W[1]))}B.push(eE)}return B}function h(F,_,K){var B=K.sc,ij=2/B,W=[1/10,1/30,1/40,1/45,1/100],L=W[K.w6-1],i=4*(K.opacity/25*ij*L)*(1-K.r_/150),gw=0,cD=0;
if(K.style==3){return i*.09}var e3=2.2*(F-.5),eE=e3*e3*e3*e3+.27+Math.max(0,(K.opacity-50)/15),ec=2*(Math.sin(3*Math.PI*_)/(Math.PI*_+2)+1.1)-_/2;
_=2*_;if(_<.41){var bl=2*Math.PI*_/.41;gw=(Math.sin(bl-Math.PI/2)+1)/4+.5}else if(_<.77){var bl=2*Math.PI*(_-.41)/.36;
gw=(Math.sin(bl-Math.PI/2)+1)/4+.5-bl/2/Math.PI*.5}else{var bl=2*Math.PI*(_-.77)/.23;gw=(Math.sin(bl-Math.PI/2)+1)/2*.12}gw*=3;
gw+=Math.max(0,(K.opacity-50)/15);if(K.type==6){cD=ec}else{cD=gw}return i*eE*cD}function E(F){return{c:F.random()*7/2+.5,bU:F.random()*2*Math.PI}}function G(F,_,K){return K.M6/300*o({w6:1})/o(K)*10*(Math.sin(_.c*2*Math.PI*F+_.bU)+10*(K.random()-.5))}function k(F){var _=Math.exp(-F.G2/25);
return{c:F.random()*3/2+.5,bU:F.random()*2*Math.PI,sO:(F.random()-.5)*10*_}}function $(F,_){var K=Math.ceil(I(F)),B=[];
for(var l=0;l<=K;++l){B.push(k(_))}return B}function p(F,_){var K=_.c*4*Math.PI*F+_.bU;return Math.exp(-1/2*Math.PI*F)*Math.cos(K)*Math.cos(K)*Math.cos(K)*Math.cos(K)*Math.cos(K)+F*_.sO-_.sO/4}function X(F,_,K,B,ij){var W=0,L=t(_)-1;
for(var l=0;l<L;++l){for(var i=0;i<F.length-1;i+=o(_)-1){for(var e3=l;e3<F[0].length/2-L;e3+=L){for(var eE=i;
eE<i+(o(_)-1);++eE){K[ij+W]=h(eE*(_.sc-1)/(F.length-1)%1,e3/F[0].length,_);var ec=0,gw=0;if(_.type==6&&eE!=0&&eE!=F.length-1){gw=(F[eE][2*(e3+1)+1]-F[eE][2*e3+1])/2;
ec=(F[eE][2*(e3+1)]-F[eE][2*e3])/2}B[8*ij+8*W]=F[eE][2*e3]+ec;B[8*ij+8*W+1]=F[eE][2*e3+1]+gw;B[8*ij+8*W+2]=F[eE][2*(e3+L)]+ec;
B[8*ij+8*W+3]=F[eE][2*(e3+L)+1]+gw;B[8*ij+8*W+4]=F[eE+1][2*(e3+L)];B[8*ij+8*W+5]=F[eE+1][2*(e3+L)+1];
B[8*ij+8*W+6]=F[eE+1][2*e3];B[8*ij+8*W+7]=F[eE+1][2*e3+1];++W}}}}}function C(F){var _=[100,300,500,700,1e3];
return _[F.w6-1]}function D(F){var _=[30,70,100,140,300];return _[F.w6-1]}function o(F){var _=[5,7,26,40,100];
return _[F.w6-1]}function t(F){if(F.w6==1){return 4}else if(F.w6==2){return 8}else{return Math.floor(D(F)/9)}}function u(F){var _=F.sc,K=new Float32Array(_),B=null;
for(var l=0;l<_;++l){K[l]=F.random()}if(F.sc<=3){K[0]=0;K[F.sc-1]=1}else{for(var l=0;l<2;++l){var ij=Math.floor(F.random()*_);
if(B==null||B!=ij){K[ij]=l;B=ij}else{K[ij+1]=l}}}return K}function m(F,_){var K=[],B=.2,W=0;for(var l=0;
l<F.length;++l){var ij=_.random()*(1-B)+B;K.push(ij)}var L=Math.min(3,_.sc);for(var l=0;l<F.length;++l){if(K[l]>.9){++W}}while(W<L){var i=Math.floor(_.random()*F.length);
if(K[i]<=.9){K[i]=.9+.1*_.random();++W}}return K}function U(F,_){var K=C(_),B=C({w6:1}),ij=[];for(var l=0;
l<F.length;++l){ij.push(Math.max(1,(_.random()*10+2)*K/B))}return ij}function I(F){var _=0;for(var l=0;
l<F.length;++l){if(l==0){_+=F[l]}else{_+=Math.abs(F[l]-F[l-1])}}return _}function x(F,_){if(F.length/2-1==C(_)){return F}var K=new Float32Array(2*(C(_)+1)),B=(F.length-2)/(K.length-2);
for(var l=0;l<K.length/2;++l){var ij=l*B,W=Math.floor(ij),L=Math.ceil(ij),i=L-W,e3=1,eE=0;if(i!=0){e3=(L-ij)/i;
eE=(ij-W)/i}K[2*l]=e3*F[2*W]+eE*F[2*L];K[2*l+1]=e3*F[2*W+1]+eE*F[2*L+1]}return K}function J(F,_){var K=F.length/2,B=q(F),ij=B/K,W=!1,e3=0,eE=0,ec=1;
if(_){var L=Math.floor(B/_.atL),i=_.atL;if(_.apP&&F[0]==F[F.length-2]&&F[1]==F[F.length-1]){W=!0;i=B/(L+1)}if(_.type==2&&!W&&i*L+_.length>B){K=L+1}else{K=L+2}ij=i}var gw=new Float32Array(K*2);
gw[0]=F[0];gw[1]=F[1];for(var l=1;l<K;++l){while(e3<=l*ij){eE=e3;e3+=H([F[2*ec],F[2*ec+1]],[F[2*(ec-1)],F[2*(ec-1)+1]]);
++ec}var bl=1-(l*ij-eE)/(e3-eE);gw[2*l]=(1-bl)*F[2*ec]+bl*F[2*(ec-1)];gw[2*l+1]=(1-bl)*F[2*ec+1]+bl*F[2*(ec-1)+1]}gw[gw.length-2]=F[F.length-2];
gw[gw.length-1]=F[F.length-1];return gw}function r(F,_){var K=J(F,_),B=[];for(var l=0;l<(K.length-2)/2;
++l){var ij=[];ij.push(K[2*l]);ij.push(K[2*l+1]);var W=H([K[2*(l+1)],K[2*(l+1)+1]],[K[2*l],K[2*l+1]]),L=[(K[2*(l+1)]-K[2*l])/W,(K[2*(l+1)+1]-K[2*l+1])/W],i=c((_.amS-90)/360*2*Math.PI),e3=L;
if(_.type==3){e3=i}else if(_.type==4){e3=c(Q(L)+Q(i))}else if(_.type==5){e3=c(((_.random()-.5)*_.amS-90)/360*2*Math.PI)}var eE=_.length;
if(_.akv){eE=2*_.random()*_.length}ij.push(K[2*l]+e3[0]*eE);ij.push(K[2*l+1]+e3[1]*eE);B.push(ij)}return B}function Z(F){if(F.acI){F.qo=100*Math.random()}else{F.qo=F.a4H}F.random=new n;
F.random(F.qo);if(F.type==6){F.sc=2;F.shape=5;F.a4B=0}}function f(F,_){F=x(F,_);var K=[F],eE=0;if(_.type>=2&&_.type<6){K=r(F,_)}var B=t(_)-1,ij=D(_)-B,W=(_.sc-1)*(o(_)-1),L=K.length*ij*W,i=new Float32Array(L),e3=new Float32Array(8*L);
for(var l=0;l<K.length;++l){for(var ec=0;ec<1e4;++ec){_.qo=w(_.qo)}_.random(_.qo);var F=x(K[l],_),gw=u(_),bl=I(gw),cD=z(F,gw,_),a$=v(_,gw),hJ=b(a$.awU,cD,_);
hJ=g(hJ,a$.bQ,a$.a3q,D(_));if(_.r_>0){hJ=R(hJ,q(K[l]),_)}X(hJ,_,i,e3,eE);eE+=ij*W}return[i,e3]}var bm=function(F){var _=performance.now(),K=F[0],B=F[1];
Z(B);var ij=[new Float32Array(0),new Float32Array(0)];for(var l=0;l<K.length;++l){B.qo=w(B.qo);var W=f(K[l],B),L=new Float32Array(ij[0].length+W[0].length),i=new Float32Array(ij[1].length+W[1].length);
L.set(ij[0]);L.set(W[0],ij[0].length);ij[0]=L;i.set(ij[1]);i.set(W[1],ij[1].length);ij[1]=i}var e3=performance.now();
if(B.av4){console.uS("Geometry: "+String(e3-_)+"ms")}return ij};return bm}(),gZ=function(){function w(c,Q){var q=[],S=0,A=Q.length,V=0,e=0,d=new cr,N=0,b=1e9;
for(e=0;e<A;e++){var z=e*8,v=Q[e];if(v<b)b=v;var T=c[z+0],Y=c[z+1],g=c[z+2],R=c[z+3],h=c[z+4],E=c[z+5],G=c[z+6],k=c[z+7],$=Math.min(T,g,h,G),p=Math.max(T,g,h,G),X=Math.min(Y,R,E,k),C=Math.max(Y,R,E,k),D=new cr($,X,p-$,C-X),o=D.ld(d),t=N+v;
if(e-V<10&&(e==V||o.O()*.8<D.O()+d.O())){d=o;N=t}else{q.push(e-V);V=e;d=D;N=v;b=v}}if(e!=V)q.push(e-V);
return q}function n(c,Q,q,S,A,V){var e=document.createElement("canvas"),Y=0,L=.8;e.width=Q;e.height=q;
var d=e.getContext("2d"),N=A[0],b=A[1],z=new Float64Array(Q*q),v=Date.now(),T=w(b,N);for(var g=0;g<T.length;
g++){var R=Y,h=Y+T[g],k=1e9,p=1e9,m=0;Y=h;var E=R*8,G=h*8,$=-k,X=-p;for(var C=E;C<G;C+=2){var D=b[C],o=b[C+1];
if(D<k)k=D;if(D>$)$=D;if(o<p)p=o;if(o>X)X=o}k=Math.floor(k);$=Math.ceil($);p=Math.floor(p);X=Math.ceil(X);
var t=$-k,u=X-p;for(var U=R;U<h;U++)m+=N[U];for(var C=E;C<G;C+=8){var I=N[C>>>3],x=b[C+0],J=b[C+1],r=b[C+2],Z=b[C+3],f=b[C+4],F=b[C+5],_=b[C+6],K=b[C+7];
d.fillStyle="rgba(0,0,0,"+I/m+")";d.beginPath();d.moveTo(x,J);d.lineTo(r,Z);d.lineTo(f,F);d.lineTo(_,K);
d.closePath();d.fill()}var B=d.getImageData(k,p,t,u).data;for(var o=0;o<u;o++)for(var D=0;D<t;D++){var l=o*t+D,ij=B[l*4+3],W=(p+o)*Q+k+D;
if(ij!=0)z[W]+=ij*m}d.clearRect(k,p,t,u)}var i=V[1].color,e3=Math.pow(i.b/255,L),eE=Math.pow(i.J/255,L),ec=Math.pow(i.k/255,L),gw=new cr(0,0,Q,q),bl=O.R(Q*q*4);
for(var o=0;o<q;o++)for(var D=0;D<Q;D++){var l=o*Q+D,U=l*4,N=z[l]*(1/255);bl[U]=y(e3,N);bl[U+1]=y(eE,N);
bl[U+2]=y(ec,N);bl[U+3]=Math.min(255,N*255)}O.q.SG("norm",bl,gw,S,gw,gw,1)}var H=new Uint8Array(2e3);
for(var l=0;l<2e3;l++)H[l]=255*Math.min(1,Math.log(l/700+1));function y(c,Q){return H[Math.min(1500,~~(c*Q*1e3))]}return n}(),gQ=function(){var w=new Float32Array(3e3),n=new Float32Array(3e3),H=new Float32Array(256),y=new Float32Array(3e3);
function c(){var b=w.length;w[0]=Math.log10(157647e-9);for(var l=1;l<b;++l)w[l]=Math.log10(l/b)}function Q(){var b=n.length;
for(var l=0;l<b;++l)n[l]=Math.pow(10,20*(l-b/2)/b)}function q(){var b=H.length;for(var l=0;l<b;++l)H[l]=O.so(l/255)}function S(){var b=y.length;
for(var l=0;l<b;++l)y[l]=255*O.nC(l/(b-1))}function A(b,z){var v=b.length>>>2;for(var l=0;l<v;++l){var T=H[b[4*l]],Y=H[b[4*l+1]],g=H[b[4*l+2]],R=.3811*T+.5783*Y+.0402*g,h=.1967*T+.7244*Y+.0782*g,E=.0241*T+.1288*Y+.8444*g;
R=w[~~(R*w.length)];h=w[~~(h*w.length)];E=w[~~(E*w.length)];z[3*l]=(R+h+E)*.5773502692;z[3*l+1]=(R+h-2*E)*.4082482905;
z[3*l+2]=(R-h)*.7071067812}}function V(b,z){var v=z.length>>>2,T=y.length-1;for(var l=0;l<v;++l){var Y=.5773502692*b[3*l],g=.4082482905*b[3*l+1],R=.7071067812*b[3*l+2],h=n[~~((Y+g+R+10)*(3e3/20))],E=n[~~((Y+g-R+10)*(3e3/20))],G=n[~~((Y-2*g+10)*(3e3/20))],k=4.4679*h-3.5873*E+.1193*G,$=-1.2186*h+2.3809*E-.1624*G,p=.0497*h-.2439*E+1.2045*G;
z[4*l]=y[~~(T*Math.max(0,Math.min(1,k)))];z[4*l+1]=y[~~(T*Math.max(0,Math.min(1,$)))];z[4*l+2]=y[~~(T*Math.max(0,Math.min(1,p)))]}}function e(b){var z=0,v=0,T=0;
for(var l=0;l<b.length;l+=3){z+=b[l];v+=b[l+1];T+=b[l+2]}return[z/(b.length/3),v/(b.length/3),T/(b.length/3)]}function d(b,e){var z=0,v=0,T=0;
for(var l=0;l<b.length;l+=3){var Y=b[l]-e[0],g=b[l+1]-e[1],R=b[l+2]-e[2];z+=Y*Y;v+=g*g;T+=R*R}return[Math.sqrt(z/(b.length/3)),Math.sqrt(v/(b.length/3)),Math.sqrt(T/(b.length/3))]}function N(b,z,v,T,Y,g){c();
Q();q();S();var R=0,J,r;if(g[0]>100)R=-(g[0]-100)/100*.13;else if(g[0]>=75)R=(100-g[0])/25*.04;else if(g[0]>=50)R=.04+(75-g[0])/25*.04;
else if(g[0]>=25)R=.08+(50-g[0])/25*.08;else R=.16+(25-g[0])/25*.24;var h=(g[1]-100+100)/100,E=g[2]/100,G=g[3],k=new Float32Array(b.length*3/4),$=new Float32Array(T.length*3/4),p=Date.now();
A(b,k);A(T,$);var X=Date.now(),C=e(k),D=e($),o=Date.now(),t=d(k,C),u=d($,D),m=Date.now();D[0]*=Math.pow(10,R);
var U=[u[0]/t[0],u[1]/t[1],u[2]/t[2]],I=k.length,x=1/-1.1546978950500488;for(var l=0;l<I;l+=3){if(G){var Z=Math.max(0,Math.min(1,k[l]*x));
Z=1-Math.sqrt(Z);J=Z*D[1];r=Z*D[2]}else{J=D[1];r=D[2]}k[l]=(k[l]-C[0])*U[0]+D[0];k[l+1]=(k[l+1]-C[1])*U[1]*h+J;
k[l+2]=(k[l+2]-C[2])*U[2]*h+r}var f=Date.now();V(k,Y);var F=Y.length>>>2;for(var l=0;l<F;++l){Y[4*l]=(1-E)*Y[4*l]+E*b[4*l];
Y[4*l+1]=(1-E)*Y[4*l+1]+E*b[4*l+1];Y[4*l+2]=(1-E)*Y[4*l+2]+E*b[4*l+2];Y[4*l+3]=255}}return N}(),fP=function(){function w(n,H,y,c,Q){var q=[-1,-1,-1,-1],S=255,A=160,V,e=!1,d=new Array(4);
d[0]=new Array(H);d[1]=new Array(y);d[2]=new Array(H);d[3]=new Array(y);var N=new Array(2);N[0]=new Array(y);
N[1]=new Array(y);function b(u,m,U,I,x){this.start=I;this.axis=x;this.dir=u;this.end=-1;this.source=m;
this.O=U}function z(u,m,U,I,x){if(U%2==0){if(!d[U][u])d[U][u]=new Array;d[U][u].push(new b(U,I,x,m,u))}else{if(!d[U][m])d[U][m]=new Array;
d[U][m].push(new b(U,I,x,u,m))}var J=Date.now()}function v(l){var u=!1,m=0;if(n[4*l+3]<S)return u;var U=l%H,I=Math.floor(l/H);
T(U,I);if(l+H<H*y&&n[4*(l+H)+3]<S&&n[4*(l-H)+3]>=S&&n[4*(l-2*H)+3]>=S){var x=2;if(n[4*(l+H)+3]<=A)m=-1;
if(n[4*(l+2*H-1)+3]<S&&n[4*(l+2*H+1)+3]<S)u=!0;else if(n[4*(l+2*H-1)+3]>=S&&n[4*(l+1)+3]>=S)u=!0;else if(n[4*(l+2*H+1)+3]>=S&&n[4*(l-1)+3]>=S)u=!0;
z(U,I,x,m,u)}else if(l-H>=0&&n[4*(l-H)+3]<S&&n[4*(l+H)+3]>=S&&n[4*(l+2*H)+3]>=S){var x=0;if(n[4*(l-H)+3]<=A)m=-1;
if(n[4*(l-2*H-1)+3]<S&&n[4*(l-2*H+1)+3]<S)u=!0;else if(n[4*(l-2*H-1)+3]>=S&&n[4*(l+1)+3]>=S)u=!0;else if(n[4*(l-2*H+1)+3]>=S&&n[4*(l-1)+3]>=S)u=!0;
z(U,I,x,m,u)}m=0;if(l+1<H*y&&n[4*(l+1)+3]<S&&n[4*(l-1)+3]>=S&&n[4*(l-2)+3]>=S){var x=3;if(n[4*(l+1)+3]<=A)m=-1;
if(!u&&n[4*(l+H+2)+3]<S&&n[4*(l-H+2)+3]<S){u=!0;z(U,I,x,m,!0)}else z(U,I,x,m,!1)}else if(l>=1&&n[4*(l-1)+3]<S&&n[4*(l+1)+3]>=S&&n[4*(l+2)+3]>=S){var x=1;
if(n[4*(l-1)+3]<=A)m=-1;if(!u&&n[4*(l+H-2)+3]<S&&n[4*(l-H-2)+3]<S){u=!0;z(U,I,x,m,!0)}else z(U,I,x,m,!1)}return u}function T(l,u){if(q[0]==-1){q[0]=l;
q[1]=u;q[2]=1;q[3]=1}if(l<q[0]){q[2]+=q[0]-l;q[0]=l}if(l>q[0]+q[2])q[2]=l-q[0];if(u<q[1]){q[3]+=q[1]-u;
q[1]=u}if(u>q[1]+q[3])q[3]=u-q[1]}function Y(u,l,m,U){if(!m.O)return;var I=(u+2)%4,x=m.start,J=q[1];
if(u==2)J+=q[3];else if(u==1)J=q[0];else if(u==3)J=q[0]+q[2];var r=m.source;if(d[I][l])for(var Z=0;Z<d[I][l].length;
++Z){if(u>1){var f=x+Math.floor((d[I][l][Z].start-x)/2);if(d[I][l][Z].start>x&&f<J)J=f}else{var f=x-Math.floor((x-d[I][l][Z].start)/2);
if(d[I][l][Z].start<x&&f>J)J=f}}for(var F=1;F<Math.abs(J-x);++F){var Z=x+F;if(u==1||u==0)Z=x-F;for(var _=0;
_<2;++_){var K=2*_,B=!1;if(u%2==0)K+=1;if(d[K][Z]){for(var ij=0;ij<d[K][Z].length;++ij){if(d[K][Z][ij].O){var W=d[K][Z][ij].start,L=l-W,i=Z-x;
if(K==0||K==1)L=-L;if(L<=0)continue;if(u==0||u==1)i=-i;if(i>L){J=Z;B=!0;break}}}if(B)break}}}m.end=J;
h(u,l,x,J,r)}function g(u){for(var l=0;l<d[u].length;++l){if(d[u][l])for(var m=0;m<d[u][l].length;++m){Y(u,l,d[u][l][m])}}}function R(){var u=[2,0,3,1];
for(var l=0;l<u.length;++l)g(u[l])}function h(u,l,m,U,I){if(u==2)for(var x=m;x<=U;++x){if(!E(x*H+l,(m+I)*H+l))return!1}else if(u==0)for(var x=m;
x>=U;--x){if(!E(x*H+l,(m-I)*H+l))return!1}else if(u==1)for(var x=m;x>=U;--x){if(!E(l*H+x,l*H+m-I))return!1}else if(u==3)for(var x=m;
x<=U;++x){if(!E(l*H+x,l*H+m+I))return!1}}function E(u,m){if(!V[u]){c[4*u]=c[4*m];c[4*u+1]=c[4*m+1];c[4*u+2]=c[4*m+2];
if(e)c[4*u+3]=255;V[u]=!0;return!0}return!1}function G(){for(var l=0;l<4;l+=1){for(var u=0;u<d[l].length;
++u){if(d[l][u])for(var m=0;m<d[l][u].length;++m){var U=d[l][u][m];for(var I=1;I<3;I+=2){var x=(l+I)%4;
if(d[x][U.start])for(var J=0;J<d[x][U.start].length;++J){if(d[x][U.start][J].start==U.axis){var ds=H*U.start+U.axis;
if(l%2==1){ds=U.start+H*U.axis;k(d[x][U.start][J])}else k(U)}}}}}}}function k(u){if(u.dir%2==0){var ds=H*u.start+u.axis,m=u.start,U=1;
if(!V[ds+1])U=3;else if(V[ds-1])return;var I=c[4*ds],x=c[4*ds+1],J=c[4*ds+2];while(c[4*ds]==I&&c[4*ds+1]==x&&c[4*ds+2]==J){if(U==1){if(!N[0][m])N[0][m]=new Array;
N[0][m].push(new b(U,0,!1,u.axis,m))}else{if(!N[1][m])N[1][m]=new Array;N[1][m].push(new b(U,0,!1,u.axis,m))}if(u.dir==2){ds+=H;
m++}else{ds-=H;m--}}}}function $(){for(var u=0;u<2;++u){var m=(u+1)%2;for(var l=0;l<N[u].length;++l){if(N[u][l])for(var U=0;
U<N[u][l].length;++U){var I=q[0];if(u==1)I+=q[2];var x=N[u][l][U].start;if(N[m][l])for(var J=0;J<N[m][l].length;
++J){var r=N[m][l][J].ua;if(u==0){if(r>I&&r<x){I=x-Math.floor((x-r)/2)}}else{if(r<I&&r>x){I=x+Math.ceil((r-x)/2)}}}if(u==0)h(N[u][l][U].dir,l,x-1,I,-1);
else h(N[u][l][U].dir,l,x+1,I,-1)}}}for(var l=0;l<V.length;++l){if(!V[l]&&l%H>=q[0]&&l%H<=q[0]+q[2]&&Math.floor(l/H)>=q[1]&&Math.floor(l/H)<=q[1]+q[3]){var x=H;
if(l<x||!V[l-x])x=1;c[4*l]=c[4*(l-x)];c[4*l+1]=c[4*(l-x)+1];c[4*l+2]=c[4*(l-x)+2];V[l]=!0;if(e)c[4*l+3]=255}}}function p(){V=new Array(n.length/4);
for(var l=0;l<c.length/4;++l){V[l]=!1;c[4*l]=n[4*l];c[4*l+1]=n[4*l+1];c[4*l+2]=n[4*l+2];c[4*l+3]=n[4*l+3];
if(c[4*l+3]==255)V[l]=!0;if(v(l))V[l]=!1}if(q[0]>0){q[0]--;q[2]++}if(q[1]>0){q[1]--;q[3]++}if(q[0]+q[2]<H){q[2]++}if(q[1]+q[3]<y){q[3]++}}var X=Date.now();
p();var C=Date.now();R();var D=Date.now();G();var o=Date.now();$();var t=Date.now();console.log("Init: "+String(C-X));
console.log("Filling: "+String(D-C));console.log("Check areas: "+String(o-D));console.log("Fill areas: "+String(t-o))}return w}();
function eZ(){}eZ.afU=function(w){var n=[O.so(w[0]),O.so(w[1]),O.so(w[2]),0];return O.Rc.Qb(O.Rc.yg,n)};
eZ.awZ=function(w){var n=O.Rc.Qb(O.Rc.Z2,w);return[O.nC(n[0]),O.nC(n[1]),O.nC(n[2])]};eZ.gU=function(w,n){var H={},y=5003,c=1667,Q=25e3,q=57.4,S=16.1,A=1.8,V=0,e=1.54,d=.75,z=0;
if(n>0){w-=n/100*4}if(w<0){S=22.54;q=80.36;e=.756}if(n>0){A=1.3;d=.2}var N=Math.min(y+q*w,Q),b=Math.max(y-S*w,c);
if(w<0){N=Math.max(y+S*w,c);b=Math.min(y-q*w,Q)}if(w>0){if(w<=14){z=(w-1)/13*.075+.025}else if(w<=29){z=.1}else if(w<=60){z=.1-.1*(w-29)/(60-29)}else{var v=w-60;
V=-20*(v/40);z=-.3*(v/40)}}else{if(w<-60){var v=w+60;V=-20*(v/40)}}var T=Math.abs(w)/100*e+Math.abs(n)/100*d+z,Y=-(n*A+V),g=hE.BW(N,-Y),R=hE.xW(g),h=hE.BW(b,0),E=hE.xW(h),G=hE.Ud(R,E);
H.a19=T;H.a6G=G;if(w==0&&n==0)H.az_=!0;else H.az_=!1;return H};eZ.an6=function(w,n,H,y){if(y.az_){return[w,n,H]}var c=this.afU([w,n,H]),Q=c[0],q=c[1],S=c[2],A=q+1e-12,V=[Q/A,q/A,S/A,0],e=O.Rc.Qb(y.a6G,V),d=0,N=.4;
e[0]*=A;e[1]*=A;e[2]*=A;if(A>N)d=1/(1-N)*(A-N);c[0]=(1-d)*e[0]+d*Q;c[1]=(1-d)*e[1]+d*q;c[2]=(1-d)*e[2]+d*S;
return this.awZ(c)};O.UW={Ky:function(w,n){var l=w.length;w.push(n);var H=l>>>1;while(H!=0&&w[l][0]<w[H][0]){var y=w[l];
w[l]=w[H];w[H]=y;l=H;H=l>>>1}},K$:function(w){if(w.length==2)return w.pop();var top=w[1],l=1;w[1]=w.pop();
var n=w.length;while(!0){var H=l<<1,y=H+1,c=l;if(H<n&&w[H][0]<w[c][0])c=H;if(y<n&&w[y][0]<w[c][0])c=y;
if(c==l)break;var Q=w[l];w[l]=w[c];w[c]=Q;l=c}return top},asX:function(w){for(var l=1;l<w.length;l++){var n=l,H=1e9;
while(n!=0){var y=w[n][0];if(y>H){console.log(l);throw"e"}H=y;n=n>>>1}}}};O.q={};O.q.lD=new Float64Array(256);
O.q.g_=new Uint8Array(256*256);O.q.Zv=new Uint8Array(256*256);(function(){for(var l=0;l<256;l++)O.q.lD[l]=255/l;
for(var l=0;l<256;l++)for(var w=0;w<256;w++)O.q.g_[l*256+w]=l==0?0:Math.round(w*255/l);for(var l=0;l<256;
l++)for(var w=0;w<256;w++)O.q.Zv[l*256+w]=Math.round(l*(255-w)/255)}());O.q.SG=function(w,n,H,y,c,Q,q,S){if(S==null)S=hO.zF();
if("idiv,lbrn,div ,lddg,vLit,lLit,hMix,diff".split(",").indexOf(w)==-1){q=q*S.fill;S.fill=1;S.style=!1}var A="norm,dark,mul ,idiv,lbrn,lite,scrn,div ,lddg,over,sLit,hLit,vLit,lLit,pLit,hMix,diff,smud,fsub,fdiv".split(","),V="dkCl,lgCl,hue ,sat ,colr,lum ".split(","),e=O.q[w+"F"];
if(S.k6==null&&w=="norm")O.q.alp(n,H,y,c,Q,q,e,S.t$?1:0);else if(w=="diss")O.q.a3x(n,H,y,c,Q,q,e,S.t$?1:0);
else if(A.indexOf(w)!=-1)O.q.avI(n,H,y,c,Q,q,e,S);else if(V.indexOf(w)!=-1)O.q.am7(n,H,y,c,Q,q,e,S)};
O.q.acN=function(w,n,H){var y=w*H+1-H;return y<.001?0:1-Math.min(1,(1-n)/y)};O.q.axc=function(w,n,H){return w*H==1?1:Math.min(1,n/(1-w*H))};
O.q.JK=function(w){return w<=.25?((16*w-12)*w+4)*w:Math.sqrt(w)};O.q.normF=function(w,n,H){return w};
O.q.darkF=function(w,n,H){return Math.min(w,n)};O.q["mul F"]=function(w,n,H){return w*n};O.q.idivF=function(w,n,H){var y=w*H+1-H;
return n==1?1:1-n>=y?0:1-(1-n)/y};O.q.lbrnF=function(w,n,H){return Math.max(0,w*H+n-H)};O.q.dkClF=function(w,n,H){var y=O.Vr(w)<O.Vr(n)?w:n;
H.b=y.b;H.J=y.J;H.k=y.k;return H};O.q.liteF=function(w,n,H){return Math.max(w,n)};O.q.scrnF=function(w,n,H){return n+w-n*w};
O.q["div F"]=function(w,n,H){w*=H;return n==0?0:n>=1-w?1:n/(1-w)};O.q.lddgF=function(w,n,H){w*=H;return Math.min(1,w+n)};
O.q.lgClF=function(w,n,H){var y=O.Vr(w)>O.Vr(n)?w:n;H.b=y.b;H.J=y.J;H.k=y.k;return H};O.q.overF=function(w,n,H){return O.q.hLitF(n,w,H)};
O.q.sLitF=function(w,n,H){return w<=.5?n-(1-2*w)*n*(1-n):n+(2*w-1)*(O.q.JK(n)-n)};O.q.hLitF=function(w,n,H){return w<=.5?O.q["mul F"](2*w,n,H):O.q.scrnF(2*w-1,n,H)};
O.q.vLitF=function(w,n,H){return w<=.5?O.q.acN(2*w,n,H):O.q.axc(2*w-1,n,H)};O.q.lLitF=function(w,n,H){return w<=.5?O.q.lbrnF(2*w,n,H):O.q.lddgF(2*w-1,n,H)};
O.q.pLitF=function(w,n,H){return w<=.5?O.q.darkF(2*w,n,H):O.q.liteF(2*w-1,n,H)};O.q.hMixF=function(w,n,H){if(H>.99)return w+n<1?0:1;
return Math.min(1,Math.max(0,(n+w*H-H)/(1-H+1e-6)))};O.q.diffF=function(w,n,H){w*=H;return Math.abs(w-n)};
O.q.smudF=function(w,n,H){return w+n-2*w*n};O.q.fsubF=function(w,n,H){return Math.max(n-w,0)};O.q.fdivF=function(w,n,H){return Math.min(n/w,1)};
O.q["hue F"]=function(w,n,H){O.q.E9(w,O.$q(n),H);O.q.qy(H,O.Vr(n),H)};O.q["sat F"]=function(w,n,H){O.q.E9(n,O.$q(w),H);
O.q.qy(H,O.Vr(n),H)};O.q.colrF=function(w,n,H){O.q.qy(w,O.Vr(n),H)};O.q["lum F"]=function(w,n,H){O.q.qy(n,O.Vr(w),H)};
O.q.qy=function(w,n,H){var y=n-O.Vr(w);H.b=w.b+y;H.J=w.J+y;H.k=w.k+y;O.q.a9M(H)};O.q.a9M=function(w){var n=w.b,H=w.J,y=w.k,c=O.LC(n,H,y),ds=Math.min(n,H,y),Q=Math.max(n,H,y);
if(ds<0){var q=c/(c-ds);n=c+(n-c)*q;H=c+(H-c)*q;y=c+(y-c)*q}if(Q>1){var q=(1-c)/(Q-c);n=c+(n-c)*q;H=c+(H-c)*q;
y=c+(y-c)*q}w.b=n;w.J=H;w.k=y};O.q.E9=function(w,n,H){var y=O.q.aoP,c=w.b,Q=w.J,q=w.k;if(c==Q&&Q==q){H.b=H.J=H.k=0}else if(c>Q){if(c>q){if(Q>q){H.b=n;
H.J=y(c,Q,q,n);H.k=0}else{H.b=n;H.k=y(c,q,Q,n);H.J=0}}else{H.k=n;H.b=y(q,c,Q,n);H.J=0}}else{if(c<q){if(Q>q){H.J=n;
H.k=y(Q,q,c,n);H.b=0}else{H.k=n;H.J=y(q,Q,c,n);H.b=0}}else{H.J=n;H.b=y(Q,c,q,n);H.k=0}}};O.q.aoP=function(w,n,H,y){return(n-H)*y/(w-H)};
O.q.alp=function(w,n,H,y,c,Q,q,S){var A=n.Fa(y).Fa(c),V=Math.max(0,A.x-n.x),e=Math.max(0,A.x-y.x),d=Math.max(0,A.y-n.y),N=Math.max(0,A.y-y.y),b=A.m,z=A.e,v=n.m,T=y.m,Y=O.q.g_,g=O.q.Zv,R=new Uint32Array(w.buffer),h=new Uint32Array(H.buffer);
for(var l=0;l<z;l++){var E=(d+l)*v+V,G=(N+l)*T+e;for(var k=0;k<b;k++){var $=R[E+k],U=1;if($>>>24==0)continue;
if($>>>24==255&&Q==1&&S==0){h[G+k]=R[E+k];continue}var p=h[G+k],X=$&255,C=$>>>8&255,D=$>>>16&255,o=p&255,t=p>>>8&255,u=p>>>16&255,m=Q,I=(p>>>24)*(1/255);
if(S==0){m=($>>>24)*Q*(1/255);U=I}var x=U*(1-m),J=m+x,r=1/J;h[G+k]=~~(.5+(S*I+(1-S)*J)*255)<<24|~~(.5+(D*m+u*x)*r)<<16|~~(.5+(C*m+t*x)*r)<<8|~~(.5+(X*m+o*x)*r)}}};
O.q.aeH=function(w,n,H,y,c,Q){var q=n.Fa(y).Fa(c),S=Math.max(0,q.x-n.x),A=Math.max(0,q.x-y.x),V=Math.max(0,q.y-n.y),e=Math.max(0,q.y-y.y),d=q.m,N=q.e,b=n.m,z=y.m,v=O.q.g_,T=O.q.Zv,Y=new Uint32Array(w.buffer),g=new Uint32Array(H.buffer),R=Math.floor(Math.random()*16777215),h=0;
for(var l=0;l<N;l++){var E=(V+l)*b+S,G=(e+l)*z+A;for(var k=0;k<d;k++){var $=Y[E+k];if($>>>24==0)continue;
if($>>24==255&&Q==1){g[G+k]=$;continue}var p=g[G+k],X=($>>>24)*Q*(1/255),C=(p>>>24)*(1/255),D=C*(1-X),o=X+D,t=$&255,u=$>>>8&255,m=$>>>16&255,U=p&255,I=p>>>8&255,x=p>>>16&255;
h>>>=8;if((k&3)==0)h=O.q.tk(G+k+R);var J=o==0?0:1/o,r=Math.floor(o*(256*255))+(h&255)>>>8,Z=Math.floor((m*X+x*D)*J+.5),f=Math.floor((u*X+I*D)*J+.5),F=Math.floor((t*X+U*D)*J+.5);
g[G+k]=r<<24|Z<<16|f<<8|F}}};O.q.W1=function(w,n,H,y,c,Q,q,S){var A=O.LC(w,n,H),V=O.LC(y,c,Q),e=Math.min,d=O.q.a4A,N=d(A,S,0);
N=e(N,d(w,S,8));N=e(N,d(n,S,16));N=e(N,d(H,S,24));var b=d(V,S,4);b=e(b,d(y,S,12));b=e(b,d(c,S,20));b=e(b,d(Q,S,28));
b=Math.max(b,1-q);var z=Math.min(N,b);return z<0?0:z>1?1:z};O.q.a4A=function(w,n,l){return Math.min((w-n[l])*n[l+1],(w-n[l+3])*n[l+2])};
O.q.avI=function(w,n,H,y,c,Q,q,S){var A=1/255,V=A*Q,e=S.t$?1:0,d=S.fill,N=S.style,b=n.Fa(y).Fa(c),z=Math.max(0,b.x-n.x),v=Math.max(0,b.x-y.x),T=Math.max(0,b.y-n.y),Y=Math.max(0,b.y-y.y),g=b.m,R=b.e,h=n.m,E=y.m,G=new Uint32Array(w.buffer),k=new Uint32Array(H.buffer);
for(var l=0;l<R;l++){var $=(T+l)*h+z,p=(Y+l)*E+v;for(var X=0;X<g;X++,$++,p++){var C=G[$],J=1;if(C>>>24==0)continue;
var D=k[p],o=(C&255)*A,t=(C>>>8&255)*A,u=(C>>>16&255)*A,m=(D&255)*A,U=(D>>>8&255)*A,I=(D>>>16&255)*A,x=Q;
if(e==0){x=(C>>>24)*V;J=(D>>>24)*A}if(S.k6)x*=O.q.W1(o,t,u,m,U,I,J,S.k6);var r=J*(1-x),Z=x+r,f=Z==0?0:255/Z,F=N?1:x,_=((1-J)*x*o+(1-F)*J*m+F*J*q(o,m,(1+x-F)*d))*f,K=((1-J)*x*t+(1-F)*J*U+F*J*q(t,U,(1+x-F)*d))*f,B=((1-J)*x*u+(1-F)*J*I+F*J*q(u,I,(1+x-F)*d))*f;
Z=x*d+J*(1-x*d);var ij=~~(Z*255+.5);k[p]=e*(D>>>24)+(1-e)*ij<<24|B<<16|K<<8|_}}};O.q.am7=function(w,n,H,y,c,Q,q,S){var A=1/255,V=A*Q,e=S.t$?1:0,d=n.Fa(y).Fa(c),N=Math.max(0,d.x-n.x),b=Math.max(0,d.x-y.x),z=Math.max(0,d.y-n.y),v=Math.max(0,d.y-y.y),T=d.m,Y=d.e,g=new Uint32Array(w.buffer),R=new Uint32Array(H.buffer),h={b:0,J:0,k:0},E={b:0,J:0,k:0},G={b:0,J:0,k:0};
for(var l=0;l<Y;l++){var k=(z+l)*n.m+N,$=(v+l)*y.m+b;for(var p=0;p<T;p++,k++,$++){var X=g[k],C=R[$],D=(X&255)*A,o=(X>>>8&255)*A,t=(X>>>16&255)*A,u=(C&255)*A,m=(C>>>8&255)*A,U=(C>>>16&255)*A,I=Q,x=1;
if(e==0){I=(X>>>24)*V;x=(C>>>24)*A}if(S.k6)I*=O.q.W1(D,o,t,u,m,U,x,S.k6);var J=x*(1-I),r=I+J,Z=255/r;
h.b=D;h.J=o;h.k=t;E.b=u;E.J=m;E.k=U;q(h,E,G);var f=(((1-x)*D+x*G.b)*I+u*J)*Z,F=(((1-x)*o+x*G.J)*I+m*J)*Z,_=(((1-x)*t+x*G.k)*I+U*J)*Z,K=e*(C>>>24)+(1-e)*Math.round(r*255);
R[$]=K<<24|_<<16|F<<8|f}}};O.q.bj=function(w){w=w^61^w>>>16;w=w+(w<<3);w=w^w>>>4;w=w*668265261;w=w^w>>15;
return(w&16777215)*(1/16777215)};O.q.tk=function(w){w=w^61^w>>>16;w=w+(w<<3);w=w^w>>>4;w=w*668265261;
w=w^w>>>15;return w};O.q.$x=function(w){this.ww=w};O.q.$x.prototype.get=function(){var w=this.ww=O.q.tk(this.ww);
return(w&16777215)*(1/16777215)};O.q.a3x=function(w,n,H,y,c,Q,q,S){var A=1/255,V=A*Q,e=Math.round(Q*(256*256*256/255)),d=n.Fa(y).Fa(c),N=Math.max(0,d.x-n.x),b=Math.max(0,d.x-y.x),z=Math.max(0,d.y-n.y),v=Math.max(0,d.y-y.y),T=d.m,Y=d.e,g=new Uint32Array(w.buffer),R=new Uint32Array(H.buffer);
for(var l=0;l<Y;l++){var h=(z+l)*n.m+N,E=(v+l)*y.m+b;for(var G=0;G<T;G++,h++,E++){var k=g[h],$=R[E],p=S*255+(1-S)*(k>>>24);
if((O.q.tk(h)&16777215)>=p*e)continue;R[E]=k&16777215|S*($>>>24)+(1-S)*255<<24}}};O.q.ap7=function(w,n,H){for(var l=0;
l<w.length;l+=4){var y=H[l>>>2];if(y==0)continue;var c=y*(1/255),Q=1/c,q=n[l],S=n[l+1],A=n[l+2],V=w[l],e=w[l+1],d=w[l+2];
n[l]=Math.min(255,Math.max(0,Math.round((q-(1-c)*V)*Q)));n[l+1]=Math.min(255,Math.max(0,Math.round((S-(1-c)*e)*Q)));
n[l+2]=Math.min(255,Math.max(0,Math.round((A-(1-c)*d)*Q)));n[l+3]=255}};O.q.AF=function(w,n,H,y,c,Q,q,S,A,V,e){if(V==null)V=!1;
if(e==null)e=[1,1,1];var d=255<<24|e[2]*16711680|e[1]*65280|e[0]*255,N=~d;if(c&&!n.Hw(Q)){var b=O.R(n.O()*4);
b.fill(q);O.qS(c,Q,b,n);c=b;Q=n}if(V){if(c==null)O.q.avS(w,n,H,y,c,S,A,d,N);else O.q.aav(w,n,H,y,c,S,A)}else{if(c==null)O.q.anu(w,n,H,y,c,S,A,d,N);
else O.q.awe(w,n,H,y,c,S,A)}};O.q.anu=function(w,n,H,y,c,Q,q,S,A){var V=1/255,e=n.Fa(y).Fa(Q),d=Math.max(0,e.x-n.x),N=Math.max(0,e.x-y.x),b=Math.max(0,e.y-n.y),z=Math.max(0,e.y-y.y),v=e.m,T=e.e,Y=new Uint32Array(w.buffer),g=new Uint32Array(H.buffer),R=O.q.g_,h=q*255&255;
for(var l=0;l<T;l++){var E=(b+l)*n.m+d,G=(z+l)*y.m+N;for(var k=0;k<v;k++,E++,G++){var $=Y[E],p=g[G],X=$>>>24,C=p>>>24,D=O.Q2(h*X+(255-h)*C),o=O.Q2(X*h),t=O.Q2(C*(255-h)),u=$&255,m=$>>>8&255,U=$>>>16&255,I=p&255,x=p>>>8&255,J=p>>>16&255,r=o*u+I*t,Z=o*m+x*t,f=o*U+J*t;
r=R[D<<8|O.Q2(r)];Z=R[D<<8|O.Q2(Z)];f=R[D<<8|O.Q2(f)];var F=D<<24|f<<16|Z<<8|r;g[G]=A&p|S&F}}};O.q.avS=function(w,n,H,y,c,Q,q,S,A){var V=1/255,e=n.Fa(y).Fa(Q),d=Math.max(0,e.x-n.x),N=Math.max(0,e.x-y.x),b=Math.max(0,e.y-n.y),z=Math.max(0,e.y-y.y),v=e.m,T=e.e,Y=new Uint32Array(w.buffer),g=new Uint32Array(H.buffer),R=O.q.g_,h=q*16777215&16777215;
for(var l=0;l<T;l++){var E=(b+l)*n.m+d,G=(z+l)*y.m+N;for(var k=0;k<v;k++,E++,G++){if((O.q.tk(E)&16777215)<h){g[G]=A&g[G]|S&Y[E]}}}};
O.q.awe=function(w,n,H,y,c,Q,q){var S=1/255,A=n.Fa(y).Fa(Q),V=Math.max(0,A.x-n.x),e=Math.max(0,A.x-y.x),d=Math.max(0,A.y-n.y),N=Math.max(0,A.y-y.y),b=A.m,z=A.e,v=new Uint32Array(w.buffer),T=new Uint32Array(H.buffer),Y=O.q.g_;
for(var l=0;l<z;l++){var g=(d+l)*n.m+V,R=(N+l)*y.m+e;for(var h=0;h<b;h++,g++,R++){var E=c[g]*q&255;if(E==0)continue;
if(E==255){T[R]=v[g];continue}var G=v[g],k=T[R],$=G>>>24,p=k>>>24,X=O.Q2(E*$+(255-E)*p),C=O.Q2($*E),D=O.Q2(p*(255-E)),o=G&255,t=G>>>8&255,u=G>>>16&255,m=k&255,U=k>>>8&255,I=k>>>16&255,x=Y[X<<8|O.Q2(C*o+m*D)],J=Y[X<<8|O.Q2(C*t+U*D)],r=Y[X<<8|O.Q2(C*u+I*D)];
T[R]=X<<24|r<<16|J<<8|x}}};O.q.aav=function(w,n,H,y,c,Q,q){var S=1/255,A=n.Fa(y).Fa(Q),V=Math.max(0,A.x-n.x),e=Math.max(0,A.x-y.x),d=Math.max(0,A.y-n.y),N=Math.max(0,A.y-y.y),b=A.m,z=A.e,v=new Uint32Array(w.buffer),T=new Uint32Array(H.buffer),Y=O.q.g_,g=Math.round(q*257);
for(var l=0;l<z;l++){var R=(d+l)*n.m+V,h=(N+l)*y.m+e;for(var E=0;E<b;E++,R++,h++){var G=c[R]*g;if((O.q.tk(R)&65535)<G)T[h]=v[R]}}};
O.q.f_=function(w,n,H,y,c,Q,q){var S=1/255,A=n.Fa(y).Fa(Q),V=Math.max(0,A.x-n.x),e=Math.max(0,A.x-y.x),d=Math.max(0,A.y-n.y),N=Math.max(0,A.y-y.y),b=A.m,z=A.e,v=new Uint32Array(w.buffer),T=new Uint32Array(H.buffer),Y=Math.floor(Math.random()*y.O()),g=O.q.amB;
for(var l=0;l<z;l++){var R=(d+l)*n.m+V,h=(N+l)*y.m+e;for(var E=0;E<b;E++){var G=c[R+E]*q;if(G==0)continue;
if(G==255){T[h+E]=v[R+E];continue}var k=v[R+E],$=T[h+E],p=k>>>24,X=$>>>24,C=p*G*(1/255),D=X*(255-G)*(1/255),o=k&255,t=k>>>8&255,u=k>>>16&255,m=$&255,U=$>>>8&255,I=$>>>16&255,x=O.q.tk(h+E+Y),J=Math.floor((C+D)*256+.5)+(x>>>0&255)>>>8,r=J==0?0:256/(C+D),Z=o*C+m*D,f=t*C+U*D,F=u*C+I*D,_=Math.floor(Z*r+.5)+(x>>>8&255)>>>8,K=Math.floor(f*r+.5)+(x>>>16&255)>>>8,B=Math.floor(F*r+.5)+(x>>>24&255)>>>8;
T[h+E]=J<<24|B<<16|K<<8|_}}};O.q.amB=function(w){return Math.floor(w+Math.random())};O.q.p8=function(w,n,H,y,c,Q,q){var S=1/255,A=n.Fa(y).Fa(Q),V=Math.max(0,A.x-n.x),e=Math.max(0,A.x-y.x),d=Math.max(0,A.y-n.y),N=Math.max(0,A.y-y.y),b=A.m,z=A.e;
for(var l=0;l<z;l++){var v=(d+l)*n.m+V,T=(N+l)*y.m+e;for(var Y=0;Y<b;Y++,v++,T++){var g=q*c[v]*S;if(g==0)continue;
if(g==1){H[T]=w[v];continue}H[T]=w[v]*g+H[T]*(1-g)}}};O.ac7=function(){function w(Q){var q=Q*.85;return Math.exp(-(q*q)*(1/(2*.4*.4)))*(1/(.4*Math.sqrt(2*Math.PI)))}function n(Q,q){var S=Q<q?1:w((Q-q)/Math.pow(1.001-q,.86));
return S}var H=[];function y(Q){if(H[Q])return H[Q];var q=Math.pow(Q,.55),S=new Float64Array(8e3),A=0,V=8e3;
for(var l=0;l<8e3;l++){var e=n(l*(1.55/4e3),q);if(e>=1)A=l;else if(e<=0&&V==8e3)V=l;S[l]=e}var d=[S,A,V];
H[Q]=d;return d}function c(Q,q,S){var A=1+.55*(1-q),V=Math.round(S*Q*A)+2,e=new cr(0,0,V,V),d=O.R(V*V),N=[d,e],b=V/2,z=A/(b-1),v=Date.now(),T=y(q),Y=Math.round(8e3/b),g=T[0],R=T[1]-Y,h=T[2]+Y,E=Math.min(V,V+1>>>1),G=z*.4*(4e3/1.55),k=O.R(8e3);
for(var l=0;l<8e3;l++){var $=l,p=l,X=~~Math.max(0,$-G-G),C=~~Math.max(0,$-G),D=~~($+G),o=~~($+G+G),t=~~(.5+255*(1/5)*(g[p]+g[X]+g[C]+g[D]+g[o]));
k[l]=t;if(t==0)break}for(var l=0;l<E;l++){var u=z*(l-b+.5),m=u*u,U=l*V,I=(V-1-l)*V;for(var x=0;x<E;x++){var J=z*(x-b+.5),p=~~(Math.sqrt(J*J+m)*(4e3/1.55));
if(h<p)continue;else if(p<R){var t=255;while(x<E){var r=V-1-x;d[U+x]=t;d[U+r]=t;d[I+x]=t;d[I+r]=t;x++}break}else{var t=k[p],r=V-1-x;
d[U+x]=t;d[U+r]=t;d[I+x]=t;d[I+r]=t}}}return N}return{a8y:c}}();O.px={};O.px.awg=function(w,n,H,y,c,Q){O.px.Ol(w,n,H,y,c,Q,null,0)};
O.px.arx=function(w,n,H,y,c){O.px.Ol(w,n,H,y,c,null,null,0)};O.px.age=function(w,n,H,y,c,Q,q){O.px.Ol(w,n,H,y,c,null,Q,q*.5)};
O.px.Ol=function(w,n,H,y,c,Q,q,S){var A=0,D=0,o=1e9,t=0,u=1e9,m=0,U=1e9,I=0,x=0,J=0,r=0;if(Q){A=c*.5;
c=3+Math.round((c-3)*.75)}if(q){c=Math.round(c*2.2)}var V=1/c,e=Math.floor(n*V)+1,d=Math.floor(H*V)+1,N=[],b=new Uint8Array(e*d*4),z=q?.5:1,v=Q?64:0;
for(var T=0;T<d;T++){var Y=q?.5*(T&1):0;for(var g=0;g<e;g++){var R=(g+Math.random()*z+Y)*c,h=(T+Math.random()*z)*c;
N.push(R,h);var E=Math.min(n-1,Math.floor(R)),G=Math.min(H-1,Math.floor(h)),k=(G*n+E)*4,$=(T*e+g)*4;
for(var l=0;l<4;l++)b[$+l]=Math.max(0,Math.min(255,Math.floor(w[k+l]+(Math.random()-.5)*v)))}}var p=Q?Q:q?q:[0,0,0],X=e*d*2,C=[-e-1,-e,-e+1,-1,0,1,e-1,e,e+1];
for(var T=0;T<H;T++){J=0;for(var g=0;g<n;g++){var Z=g+.5,f=T+.5,F=Math.floor(f*V),_=Math.floor(Z*V),K=F*e+_,W=0,L=0;
if(J>1+S){o=O.px.YX(N,D,Z,f);I=Math.sqrt(o);J--;r++}else{o=u=U=1e9;for(var l=0;l<C.length;l++){var B=(K+C[l])*2;
if(B<0||B>=X)continue;var ij=O.px.YX(N,B,Z,f);if(ij<U){if(ij<u){if(ij<o){m=t;U=u;t=D;u=o;D=B;o=ij}else{m=t;
U=u;t=B;u=ij}}else{m=B;U=ij}}}I=Math.sqrt(o);x=Math.sqrt(u);J=x-(I+x)*.5}if(q==null){var i=(I+x)*.5,e3=Q?Math.max(0,i-A):0;
W=Math.max(0,Math.min(1,.5+i-I-e3));L=Math.max(0,Math.min(1,1-(.5+i-I)-e3))}else{var eE=Math.min(O.px.Mv(N,D,t,Z,f),O.px.Mv(N,D,m,Z,f));
W=Math.max(0,Math.min(1,eE-S*.5));if(Z<S||n-S<Z||f<S||H-S<f)W=0;L=0}var ec=1-L-W,$=T*n+g<<2,a$=D<<1,hJ=t<<1;
y[$+0]=Math.floor(.5+W*b[a$+0]+L*b[hJ+0]+ec*p[0]);y[$+1]=Math.floor(.5+W*b[a$+1]+L*b[hJ+1]+ec*p[1]);
y[$+2]=Math.floor(.5+W*b[a$+2]+L*b[hJ+2]+ec*p[2]);y[$+3]=w[$+3]}}};O.px.YX=function(w,n,H,y){var c=H-w[n],Q=y-w[n+1];
return c*c+Q*Q};O.px.Mv=function(w,n,H,y,c){var Q=w[n],q=w[n+1],S=w[H],A=w[H+1],V=(Q+S)*.5,e=(q+A)*.5,d=V+(A-q),N=e-(S-Q),b=N-e,z=d-V;
return Math.abs(b*y-z*c+d*e-N*V)/Math.sqrt(z*z+b*b)};O.CU={};O.CU.Km=function(w){if(O.CU.M$.length<w)O.CU.M$=O.R(w);
return O.CU.M$};O.CU.M$=O.R(0);O.CU.ZB=function(w){if(O.CU.L7.length<w)O.CU.L7=new Float32Array(w);return O.CU.L7};
O.CU.L7=new Float32Array(0);O.CU.Tw=function(w,n,H,y){var c=H.m,Q=H.e;O.CU.ape(w,n,c,Q,y)};O.CU.Kh=function(w,n,H,y){var c=H.m,Q=H.e;
O.CU.a2d(w,n,c,Q,y)};O.CU.Er=function(w,n,H){var y=n.m,c=n.e;O.CU.ali(w,y,c,H)};O.CU.q4=function(w,n,H,y,c){var Q=H.m,q=H.e;
O.CU.a2V(w,n,Q,q,y,c)};O.CU.dg=function(w,n,H,y){var c=H.m,Q=H.e;y=Math.round(y);var q=O.CU.Km(c*Q);
O.Bq(w,n);O.CU.fJ(n,q,c,Q,y)};O.CU.Q3=function(w,n,H){var y=n.m,c=n.e;H=Math.round(H);var Q=O.CU.Km(y*c*4);
O.CU.ZJ(w,Q,y,c,H)};O.CU.J_=function(w,n,H,y){var c=H.m,Q=H.e;y=Math.round(y);var q=O.CU.ZB(c*Q);O.Bq(w,n);
O.CU.RU(n,q,c,Q,y)};O.CU.AZ=function(w,n,H){var y=n.m,c=n.e;H=Math.round(H);var Q=O.CU.Km(y*c*4);O.CU.Io(w,Q,y,c,H);
O.Bq(Q,w)};O.CU.Lb=function(w,ds){var n=Math.sqrt(12*w*w/ds+1),H=Math.floor(n);if(H%2==0)H--;var y=H+2,c=(12*w*w-ds*H*H-4*ds*H-3*ds)/(-4*H-4),Q=Math.round(c),q=[];
for(var l=0;l<ds;l++)q.push(l<Q?H:y);return q};O.CU.ape=function(w,n,H,y,c){var Q=O.CU.Lb(c,3),q=O.CU.Km(H*y);
O.Bq(w,n);O.CU.fJ(n,q,H,y,Q[0]-1>>1);O.CU.fJ(n,q,H,y,Q[1]-1>>1);O.CU.fJ(n,q,H,y,Q[2]-1>>1)};O.CU.a2d=function(w,n,H,y,c){var Q=O.CU.Lb(c,2),q=O.CU.Km(H*y);
O.Bq(w,n);O.CU.fJ(n,q,H,y,Q[0]-1>>1);O.CU.fJ(n,q,H,y,Q[1]-1>>1)};O.CU.ali=function(w,n,H,y){var c=O.CU.Lb(y,3),Q=O.CU.Km(n*H*4);
O.CU.ZJ(w,Q,n,H,c[0]-1>>1);O.CU.ZJ(w,Q,n,H,c[1]-1>>1);O.CU.ZJ(w,Q,n,H,c[2]-1>>1)};O.CU.a2V=function(w,n,H,y,c,Q){if(Q==null)Q=3;
var q=O.CU.Lb(c,Q),S=O.CU.ZB(H*y);O.Bq(w,n);for(var l=0;l<Q;l++)O.CU.RU(n,S,H,y,(q[l]-1)/2)};O.CU.fJ=function(w,n,H,y,c){O.CU.a2S(w,n,H,y,c);
O.CU.ayG(n,w,H,y,c)};O.CU.ZJ=function(w,n,H,y,c){O.CU.Io(w,n,H,y,c);O.CU.at2(n,w,H,y,c)};O.CU.RU=function(w,n,H,y,c){O.CU.a1I(w,n,H,y,c);
O.CU.a0f(n,w,H,y,c)};O.CU.bi=[];O.CU.MW=function(w){if(O.CU.bi[w])return O.CU.bi[w];var n=1/(w+w+1),H=(w+w+1)*256,y=O.R(H);
for(var l=0;l<H;l++)y[l]=Math.round(l*n);O.CU.bi[w]=y;return y};O.CU.a2S=function(w,n,H,y,c){var Q=1/(c+c+1),q=H-c-c-1,S=O.CU.MW(c);
for(var l=0;l<y;l++){var A=l*H,V=A,e=A+c,d=w[A],N=w[A+H-1],b=(c+1)*d;for(var z=0;z<c;z++)b+=w[A+z];for(var z=0;
z<=c;z++){b+=w[e+z]-d;n[A+z]=S[b]}e+=c+1;A+=c+1;for(var z=0;z<q;z++){b+=w[e+z]-w[V+z];n[A+z]=S[b]}e+=q;
V+=q;A+=q;for(var z=H-c;z<H;z++){b+=N-w[V++];n[A++]=S[b]}}};O.CU.Io=function(w,n,H,y,c){var Q=H<<2,q=c<<2,S=1/(c+c+1),A=H-c-c-1,V=A<<2,e=O.CU.MW(c);
for(var l=0;l<y;l++){var d=l*Q,N=d,b=d+q,z=d+Q,v=w[d],T=w[d+1],Y=w[d+2],g=w[d+3],R=(c+1)*v,h=(c+1)*T,E=(c+1)*Y,G=(c+1)*g;
for(var k=0;k<q;k+=4){R+=w[d+k];h+=w[d+k+1];E+=w[d+k+2];G+=w[d+k+3]}for(var k=0;k<=q;k+=4){R+=w[b]-v;
n[d]=e[R];h+=w[b+1]-T;n[d+1]=e[h];E+=w[b+2]-Y;n[d+2]=e[E];G+=w[b+3]-g;n[d+3]=e[G];b+=4;d+=4}for(var k=0;
k<V;k+=4){R+=w[b+k]-w[N+k];n[d+k]=e[R];h+=w[b+k+1]-w[N+k+1];n[d+k+1]=e[h];E+=w[b+k+2]-w[N+k+2];n[d+k+2]=e[E];
G+=w[b+k+3]-w[N+k+3];n[d+k+3]=e[G]}b+=V;N+=V;d+=V;v=w[z-4];T=w[z-3];Y=w[z-2];g=w[z-1];for(var k=H-c;
k<H;k++){R+=v-w[N];n[d]=e[R];h+=T-w[N+1];n[d+1]=e[h];E+=Y-w[N+2];n[d+2]=e[E];G+=g-w[N+3];n[d+3]=e[G];
N+=4;d+=4}}};O.CU.a1I=function(w,n,H,y,c){var Q=1/(c+c+1),q=H-c-c-1;for(var l=0;l<y;l++){var S=l*H,A=S,V=S+c,e=w[S],d=w[S+H-1],N=(c+1)*e;
for(var b=0;b<c;b++)N+=w[S+b];for(var b=0;b<=c;b++){N+=w[V+b]-e;n[S+b]=N*Q}V+=c+1;S+=c+1;for(var b=0;
b<q;b++){N+=w[V+b]-w[A+b];n[S+b]=N*Q}V+=q;A+=q;S+=q;for(var b=H-c;b<H;b++){N+=d-w[A++];n[S++]=N*Q}}};
O.CU.ayG=function(w,n,H,y,c){var Q=1/(c+c+1),q=y-c-c-1,S=O.CU.MW(c);for(var l=0;l<H;l++){var A=l,V=A,e=A+c*H,d=w[A],N=w[A+H*(y-1)],b=(c+1)*d;
for(var z=0;z<c;z++)b+=w[A+z*H];for(var z=0;z<=c;z++){b+=w[e]-d;n[A]=S[b];e+=H;A+=H}for(var z=0;z<q;
z++){var v=z*H;b+=w[e+v]-w[V+v];n[A+v]=S[b]}V+=q*H;e+=q*H;A+=q*H;for(var z=y-c;z<y;z++){b+=N-w[V];n[A]=S[b];
V+=H;A+=H}}};O.CU.at2=function(w,n,H,y,c){var Q=H<<2,q=c<<2,S=1/(c+c+1),A=y-c-c-1,V=A<<2,e=O.CU.MW(c);
for(var l=0;l<H;l++){var d=l<<2,N=d,b=d+c*Q,z=d+Q*(y-1),v=w[d],T=w[d+1],Y=w[d+2],g=w[d+3],R=(c+1)*v,h=(c+1)*T,E=(c+1)*Y,G=(c+1)*g;
for(var k=0;k<c;k++){var $=d+k*Q;R+=w[$];h+=w[$+1];E+=w[$+2];G+=w[$+3]}for(var k=0;k<=c;k++){R+=w[b]-v;
n[d]=e[R];h+=w[b+1]-T;n[d+1]=e[h];E+=w[b+2]-Y;n[d+2]=e[E];G+=w[b+3]-g;n[d+3]=e[G];b+=Q;d+=Q}for(var k=0;
k<A;k++){var p=k*Q;R+=w[b+p]-w[N+p];n[d+p]=e[R];h+=w[b+p+1]-w[N+p+1];n[d+p+1]=e[h];E+=w[b+p+2]-w[N+p+2];
n[d+p+2]=e[E];G+=w[b+p+3]-w[N+p+3];n[d+p+3]=e[G]}N+=A*Q;b+=A*Q;d+=A*Q;v=w[z];T=w[z+1];Y=w[z+2];g=w[z+3];
for(var k=y-c;k<y;k++){R+=v-w[N];n[d]=e[R];h+=T-w[N+1];n[d+1]=e[h];E+=Y-w[N+2];n[d+2]=e[E];G+=g-w[N+3];
n[d+3]=e[G];N+=Q;d+=Q}}};O.CU.a0f=function(w,n,H,y,c){var Q=1/(c+c+1),q=y-c-c-1;for(var l=0;l<H;l++){var S=l,A=S,V=S+c*H,e=w[S],d=w[S+H*(y-1)],N=(c+1)*e;
for(var b=0;b<c;b++)N+=w[S+b*H];for(var b=0;b<=c;b++){N+=w[V]-e;n[S]=N*Q;V+=H;S+=H}for(var b=0;b<q;b++){var z=b*H;
N+=w[V+z]-w[A+z];n[S+z]=N*Q}A+=q*H;V+=q*H;S+=q*H;for(var b=y-c;b<y;b++){N+=d-w[A];n[S]=N*Q;A+=H;S+=H}}};
O.cR={};O.cR.R=function(w,n,H,y){var c=[];for(var Q=0;Q<4;Q++)for(var q=0;q<4;q++)c.push(w+H*q/3,n+y*Q/3);
return c};O.cR.Jf=function(w,n){var H=w.slice(0);for(var l=0;l<4;l++)for(var y=0;y<4;y++){var c=2*(l*4+y),Q=2*(y*4+(3-l));
if(n){var q=c;c=Q;Q=q}H[Q]=w[c];H[Q+1]=w[c+1]}return H};O.cR.UO=O.R(0);O.cR.drawImage=function(w,n,H,y,c,Q,q){var S=!1,A=Date.now(),V=2,e=H+2*V,d=y+2*V,N=new cr(V,V,H,y),b=N.clone(),g=50;
b.i_(V,V);var z=O.cR.UO;if(z.length!=b.O()*4)z=O.cR.UO=O.R(b.O()*4);else z.fill(0);O.j1(n,N,z,b);if(S)console.log(Date.now()-A,"copy rect");
A=Date.now();O.A3(z);if(S)console.log(Date.now()-A,"multiply alpha");A=Date.now();var v=[],T=[],Y=[];
for(var R=0;R<g+1;R++)for(var h=0;h<g+1;h++){var E=h/g,G=R/g;v.push(e*E,d*G);if(h<g&&R<g){var k=R*(g+1)+h,$=k+1,p=k+g+1,X=p+1;
T.push(k,$,p);T.push(p,$,X)}var C=O.cR.a2O(w,E,G);Y.push(-C)}var D=v.slice(0);O.cR.D(w,D,new cr(V,V,H,y));
O.p.D(D,new b7(1,0,0,1,-Q.x,-Q.y),D);if(S)console.log(Date.now()-A,"mesh built");A=Date.now();var o=Q.m,t=Q.e;
O.uX.vY(z,e,d,c,o,t,v,D,Y,T);if(S)console.log(Date.now()-A,"rendered");A=Date.now();O.kM(c);if(S)console.log(Date.now()-A,"divided");
A=Date.now()};O.cR.GB=new Array(10);O.cR.aix=function(w,n){var H=200,y=0,c=0,Q=1e9,q=O.cR.GB;for(var S=0;
S<H+1;S++)for(var A=0;A<H+1;A++){var V=A/H,e=S/H;O.cR.pl(w,V,e,q);var d=q[8]-n.x,N=q[9]-n.y,b=d*d+N*N;
if(b<Q){Q=b;y=V;c=e}}return[y,c]};O.cR.D=function(w,n,H){var y=H.x,c=H.y,Q=1/H.m,q=1/H.e,S=O.cR.GB;for(var A=0;
A<n.length;A+=2){var V=(n[A]-y)*Q,e=(n[A+1]-c)*q;O.cR.pl(w,V,e,S);n[A]=S[8];n[A+1]=S[9]}};O.cR.a2O=function(w,n,H){var y,c,Q,q,S=O.cR.GB;
O.cR.a5$(w,n,H,S);y=S[8];c=S[9];O.cR.adN(w,n,H,S);Q=S[8];q=S[9];return y*q-c*Q};O.cR.pl=function(w,n,H,y){O.cR.pm(y,0,H);
O.cR.pm(y,4,n);O.cR.Q8(w,y)};O.cR.a5$=function(w,n,H,y){O.cR.pm(y,0,H);O.cR.G0(y,4,n);O.cR.Q8(w,y)};
O.cR.adN=function(w,n,H,y){O.cR.G0(y,0,H);O.cR.pm(y,4,n);O.cR.Q8(w,y)};O.cR.G0=function(w,l,n){var H=1-n;
w[l]=-3*(H*H);w[l+1]=3*(H*H)-6*(n*H);w[l+2]=6*(n*H)-3*(n*n);w[l+3]=3*(n*n)};O.cR.pm=function(w,l,n){var H=1-n;
w[l]=H*(H*H);w[l+1]=3*n*(H*H);w[l+2]=3*(n*n)*H;w[l+3]=n*n*n};O.cR.Q8=function(w,n){var H=0,y=0,c=0,Q=n[0],q=n[1],S=n[2],A=n[3],V=n[4],e=n[5],d=n[6],N=n[7];
c=Q*V;H+=w[0]*c;y+=w[1]*c;c=Q*e;H+=w[2]*c;y+=w[3]*c;c=Q*d;H+=w[4]*c;y+=w[5]*c;c=Q*N;H+=w[6]*c;y+=w[7]*c;
c=q*V;H+=w[8]*c;y+=w[9]*c;c=q*e;H+=w[10]*c;y+=w[11]*c;c=q*d;H+=w[12]*c;y+=w[13]*c;c=q*N;H+=w[14]*c;y+=w[15]*c;
c=S*V;H+=w[16]*c;y+=w[17]*c;c=S*e;H+=w[18]*c;y+=w[19]*c;c=S*d;H+=w[20]*c;y+=w[21]*c;c=S*N;H+=w[22]*c;
y+=w[23]*c;c=A*V;H+=w[24]*c;y+=w[25]*c;c=A*e;H+=w[26]*c;y+=w[27]*c;c=A*d;H+=w[28]*c;y+=w[29]*c;c=A*N;
H+=w[30]*c;y+=w[31]*c;n[8]=H;n[9]=y};O.wN={};O.wN.abN=function(w,n,H){var y=Date.now(),c=new ArrayBuffer(n*H*16),Q=O.wN.aod(w,n,H,c),q=O.wN.a1q(n,H,c);
return{Sp:q,fg:Q}};O.wN.axi=function(w,n,H){var y=Math.round(w.length/8),c=new Uint32Array(y),Q=new Uint8Array(y),q=new Uint32Array(y);
O.jZ(c,4294967295,0);c[H]=0;var S=new dM(y);S.push(H,c[H]);var A={Sp:w,fg:n,Rk:c,BC:Q,Oo:q,qm:S,aw5:H};
return A};O.wN.Kq=function(w,n){var H=w.Sp,y=w.fg,c=w.Rk,Q=w.BC,q=w.Oo,S=w.qm;while(!S._G()&&(n==null||Q[n]==0)){var A=S.pop();
Q[A]=1;for(var l=0;l<8;l++){var V=H[8*A+l],e=A+V;if(V==0||Q[e])continue;var d=c[A]+y[8*A+l];if(S.contains(e)&&d<c[e])S.remove(e,c[e]);
if(!S.contains(e)){c[e]=d;q[e]=A;S.push(e,c[e])}}}};function dM(w){this.sx=new Uint32Array(w);this.list=[];
this.$J=0;this.gh=4294967295}dM.prototype._G=function(){return this.$J==0};dM.prototype.push=function(w,n){var H=this.list;
if(H[n]==null)H[n]=[];H[n].push(w);this.$J++;this.sx[w]=H[n].length-1+1;this.gh=Math.min(this.gh,n)};
dM.prototype.pop=function(){this.$J--;var w=this.list,n=this.gh,H=w[n].pop();if(w[n].length==0)w[n]=null;
this.qW();this.sx[H]=0;return H};dM.prototype.contains=function(w){return this.sx[w]!=0};dM.prototype.remove=function(w,n){this.$J--;
var H=this.list,l=this.sx[w]-1;if(l==H[n].length-1)H[n].pop();else{var y=H[n].pop();H[n][l]=y;this.sx[y]=l+1}if(H[n].length==0)H[n]=null;
this.sx[w]=0;this.qW()};dM.prototype.qW=function(){if(this.$J==0){this.gh=4294967295;return}var w=this.gh,n=this.list;
while(n[w]==null)w++;this.gh=w};O.wN.acC=function(w,n,H,y){var c=new Int16Array(y);for(var Q=0;Q<H;Q++)for(var q=0;
q<n;q++){var l=Q*n+q,S=0;if(1<q&&q<n-2&&1<Q&&Q<H-2){S+=w[l-n-n];S+=w[l-n-1]+2*w[l-n]+w[l-n+1];S+=w[l-2]+2*w[l-1]-16*w[l]+2*w[l+1]+w[l+2];
S+=w[l+n-1]+2*w[l+n]+w[l+n+1];S+=w[l+n+n]}else S=-16*w[l];c[l]=S}return c};O.wN.asU=function(w,n,H,y){if(y==null)y=128;
var c=new Uint8Array(n*H);for(var Q=1;Q<H-1;Q++)for(var q=1;q<n-1;q++){var l=Q*n+q;c[l]=O.wN.a7W(w[l],w[l-1],w[l+1],w[l-n],w[l+n],y)}return c};
O.wN.a7W=function(w,n,H,y,c,Q){var q=Math.abs(w);return w*n<0&&q<Math.abs(n)&&Math.abs(n-w)>Q||w*H<0&&q<Math.abs(H)&&Math.abs(H-w)>Q||w*y<0&&q<Math.abs(y)&&Math.abs(y-w)>Q||w*c<0&&q<Math.abs(c)&&Math.abs(c-w)>Q?1:0};
O.wN.axe=function(w,n,H,y){var c=new Float32Array(y),Q=0;new Uint32Array(y).fill(0);for(var q=0;q<H;
q++)for(var S=0;S<n;S++){var A=0,V=0,l=q*n+S,e=l*3;if(0<S&&S<n-1)A=w[l+1]-w[l-1];if(0<q&&q<H-1)V=w[l+n]-w[l-n];
var d=c[e+2]=Math.sqrt(A*A+V*V);if(d!=0){var N=1/d;c[e]=A*N;c[e+1]=V*N}if(d>Q)Q=d}var b=n*H,z=Q==0?0:1/Q;
for(var l=0;l<b;l++)c[l*3+2]=1-c[l*3+2]*z;return c};O.wN.axT=function(w,n,H){return H[~~((.5+.5*w)*255)]+H[~~((.5+.5*n)*255)]};
O.wN.aod=function(w,n,H,y){var c=Date.now(),Q=O.wN.acC(w,n,H,y),q=O.wN.asU(Q,n,H),S=O.wN.axe(w,n,H,y),A=new Float32Array(256);
for(var l=0;l<256;l++)A[l]=Math.acos(-1+2*l/255)*(.95/Math.PI);var V=[-1,0,1,1,1,0,-1,-1],e=[-1,-1,-1,0,1,1,1,0];
for(var l=0;l<8;l++){var d=1/Math.sqrt(V[l]*V[l]+e[l]*e[l]);V[l]*=d;e[l]*=d}var N=[V[0],e[0],V[1],e[1],V[2],e[2],V[3],e[3]],b=[-n-1,-n,-n+1,1],z=new Uint8Array(n*H*8);
new Uint32Array(z.buffer).fill(4294967295);var v=n*H;for(var T=1;T<H-1;T++)for(var Y=1;Y<n-1;Y++){var g=T*n+Y,R=1-q[g],h=S[g*3+2],E=S[3*g+1],G=-S[3*g];
for(var k=0;k<4;k++){var $=g+b[k];O.wN.a8r(g,$,k,z,q,S,R,h,E,G,N,A)}}return z};O.wN.a8r=function(w,n,H,y,c,Q,q,S,A,V,e,d){var N=1-c[n],b=(H&1)==0?1:Math.SQRT1_2,z=Q[n*3+2]*b,v=Q[3*n+1],T=-Q[3*n],Y=S*b,g=e[H+H],R=e[H+H+1],h=A*g+V*R,E=v*g+T*R;
if(h+E<0){h=-h;E=-E}var G=O.wN.axT(h,E,d);y[(w<<3)+H]=O.wN.cg(N,G,z);y[(n<<3)+H+4]=O.wN.cg(q,G,Y)};O.wN.cg=function(w,n,H){return 1+~~(.5+20*(.43*w+.43*n+.14*H))};
O.wN.a1q=function(w,n,H){var y=new Int16Array(H),c=y,l=0,Q=0;new Uint32Array(H).fill(0);for(var q=0;
q<n;q++)for(var S=0;S<w;S++){if(q>0&&S>0)c[Q+0]=-w-1;if(q>0)c[Q+1]=-w;if(q>0&&S<w-1)c[Q+2]=-w+1;if(S<w-1)c[Q+3]=1;
if(q<n-1&&S<w-1)c[Q+4]=w+1;if(q<n-1)c[Q+5]=w;if(q<n-1&&S>0)c[Q+6]=w-1;if(S>0)c[Q+7]=-1;l++;Q+=8}return y};
O.yb={};O.yb.sF=function(w){var n=w.slice(0),H=0;for(var l=0;l<w.length;l++)H+=w[l];for(var l=0;l<w.length;
l++)n[l]/=H;return n};O.yb.LX=[O.yb.sF([1,2,1,2,16,2,1,2,1]),O.yb.sF([1,2,1,2,4,2,1,2,1]),O.yb.sF([0,-1,0,-1,8,-1,0,-1,0]),O.yb.sF([-.7,-1,-.7,-1,10,-1,-.7,-1,-.7]),[-1,0,1,-2,0,2,-1,0,1],[1,2,1,0,0,0,-1,-2,-1]];
O.yb.NC=function(w,n,H,y,c,Q,q,S){if(q==null)q=!1;if(S==null)S=!1;var A=Math.floor(Math.sqrt(c.length)),V=A-1>>>1,e=new Uint32Array(w.buffer),n=new Uint8ClampedArray(n.buffer);
for(var l=0;l<y;l++)for(var d=0;d<H;d++){var N=0,b=0,z=0,v=0;for(var T=0;T<A;T++)for(var Y=0;Y<A;Y++){var g=c[T*A+Y];
if(g==0)continue;var R=d-V+Y,h=l-V+T;if(R<0)R=0;else if(R>H-1)R=H-1;if(h<0)h=0;else if(h>y-1)h=y-1;if(S&&e[h*H+R]>>>24==0){h=l;
R=d}var E=e[h*H+R];N+=(E&255)*g;b+=(E>>>8&255)*g;z+=(E>>>16&255)*g;v+=(E>>>24&255)*g}if(q){if(N<0)N=-N;
if(b<0)b=-b;if(z<0)z=-z;if(v<0)v=-v}if(S){N=Math.max(0,Math.min(255,N));b=Math.max(0,Math.min(255,b));
z=Math.max(0,Math.min(255,z));v=Math.max(0,Math.min(255,v))}var G=l*H+d<<2;n[G]=~~(.5+N);n[G+1]=~~(.5+b);
n[G+2]=~~(.5+z);n[G+3]=255-Q&n[G+3]|Q&~~(.5+v)}};O.yb.$N=function(w,n,H,y){var c=w.length,Q=new Uint8Array(c);
O.yb.NC(w,n,H,y,O.yb.LX[4],0,!0);O.yb.NC(w,Q,H,y,O.yb.LX[5],0,!0);for(var l=0;l<c;l+=4){var q=n[l],S=n[l+1],A=n[l+2],V=n[l+3],e=Q[l],d=Q[l+1],N=Q[l+2],b=Q[l+3];
n[l]=255-Math.max(0,Math.min(255,Math.sqrt(q*q+e*e)));n[l+1]=255-Math.max(0,Math.min(255,Math.sqrt(S*S+d*d)));
n[l+2]=255-Math.max(0,Math.min(255,Math.sqrt(A*A+N*N)))}};O.yb.xs=function(w,n,H,y){var c=w.length,Q=new Uint8Array(c);
O.yb.o0(w,n,H,y,O.yb.LX[4],!0);O.yb.o0(w,Q,H,y,O.yb.LX[5],!0);for(var l=0;l<c;l++){var q=n[l],S=Q[l];
n[l]=255-Math.max(0,Math.min(255,Math.sqrt(q*q+S*S)))}};O.yb.o0=function(w,n,H,y,c,Q){n=new Uint8ClampedArray(n.buffer);
var q=[-H-1,-H,-H+1,-1,0,1,H-1,H,H+1],S=y-1,A=H-1;for(var l=1;l<S;l++)for(var V=1;V<A;V++){var e=l*H+V,d=O.yb.EF(w,e,H,c);
if(Q){if(d<0)d=-d}n[e]=~~(d+.5)}};O.yb.EF=function(w,n,H,y){return w[n-H-1]*y[0]+w[n-H]*y[1]+w[n-H+1]*y[2]+w[n-1]*y[3]+w[n]*y[4]+w[n+1]*y[5]+w[n+H-1]*y[6]+w[n+H]*y[7]+w[n+H+1]*y[8]};
O.yb.Hh=function(w,n,H,y,c){var Q=[-H-1,-H,-H+1,-1,0,1,H-1,H,H+1],q=y-1,S=H-1;for(var l=1;l<q;l++)for(var A=1;
A<S;A++){var V=l*H+A;n[V]=O.yb.a3V(w,V,H,c)}};O.yb.a3V=function(w,n,H,y){return w[n-H-1]*y[0]+w[n-H]*y[1]+w[n-H+1]*y[2]+w[n-1]*y[3]+w[n]*y[4]+w[n+1]*y[5]+w[n+H-1]*y[6]+w[n+H]*y[7]+w[n+H+1]*y[8]};
O.Hs={};O.Hs.ZQ=function(){function w(q,S,A,V,e,d,N){if(e==0){S.set(q);return}var b=O.R(A*V),z=O.R(A*V);
if(O.AO(q)){n(q,S,A,V,e,d,N);var v=[O.Hs.vy,O.Hs.uG],T=v.indexOf(d),Y=T!=-1?v[1-T]:d;O.RR(q,b,3);O.Hs.m9(b,z,A,V,e,Y,N);
O.o2(z,S,3)}else{for(var l=0;l<3;l++){O.RR(q,b,l);O.Hs.m9(b,z,A,V,e,d,N);O.o2(z,S,l)}}}function n(q,S,A,V,e,d,N){var b=0,z=new ArrayBuffer(512*4*3),v=[new Int32Array(z,0),new Int32Array(z,2048),new Int32Array(z,2*2048)],T=1+2*Math.round(Math.sqrt(e)),Y=T>>>1,g=new Array(T),R=new Array(T);
for(var l=0;l<T;l++){var z=new ArrayBuffer(512*4*3);g[l]=[new Int32Array(z,0),new Int32Array(z,2048),new Int32Array(z,2*2048)];
R[l]=g[l][0]}var h=d[0],E=d[1],G=v[0];for(var k=0;k<A;k++)if(k<e||k>A-e-T-1){G.fill(0);var $=Math.max(k-e,0),p=Math.min(A,k+e+1),X=p-$;
for(var C=0;C<e;C++)y(G,q,C*A+$,C*A+p,1);for(var C=0;C<V;C++){var D=C-e-1,o=C+e;if(o<V)y(G,q,o*A+$,o*A+p,1);
if(D>=0)y(G,q,D*A+$,D*A+p,-1);var t=C*A+k<<2;b=G[300];if(b!=0)for(var l=0;l<3;l++)S[t+l]=h(v[l],q[t+l],b,N)}}else{for(var l=0;
l<T;l++)R[l].fill(0);var $=k-e+Y,p=k+e+1+Y;for(var C=0;C<e;C++)H(R,q,C*A+$,C*A+p,1,Y);for(var C=0;C<V;
C++){var D=C-e-1,o=C+e;if(D>=0)H(R,q,D*A+$,D*A+p,-1,Y);if(o<V)H(R,q,o*A+$,o*A+p,1,Y);var u=g[Y];b=u[0][300];
for(var l=0;l<Y;l++){var m=Y-1-l,U=Y+1+l,I=g[m],x=g[U],J=b+I[0][300],r=b+x[0][300],Z=C*A+k+m<<2,f=C*A+k+U<<2;
if(J!=0)for(var F=0;F<3;F++)S[Z+F]=E(u[F],I[F],q[Z+F],J,N);if(r!=0)for(var F=0;F<3;F++)S[f+F]=E(u[F],x[F],q[f+F],r,N)}var t=C*A+k+Y<<2;
if(b!=0)for(var F=0;F<3;F++)S[t+F]=h(u[F],q[t+F],b,N)}k+=T-1}}function H(q,S,A,V,e,d){var N=c,b=A<<2,z=V<<2;
N(q[d-1],S,A-1<<2,e);N(q[d-1],S,V-1<<2,-e);N(q[d+1],S,V<<2,e);N(q[d+1],S,A<<2,-e);for(var l=1;l<d;l++){var v=q[d-l-1],T=q[d+l+1];
for(var Y=0;Y<=l;Y++){var g=Y<<2;N(v,S,A-1-Y<<2,e);N(v,S,V-1-Y<<2,-e);N(T,S,V+Y<<2,e);N(T,S,A+Y<<2,-e)}}y(q[d],S,A,V,e)}function y(q,S,l,A,V){var e=l<<2,d=A<<2;
while(e<d){c(q,S,e,V);e+=4}}function c(q,S,A,V){var e=V*S[A+3];q[300]+=e;Q(q,S[A],0,e);Q(q,S[A+1],512,e);
Q(q,S[A+2],1024,e)}function Q(q,S,A,V){q[A|S]+=V;q[A|256|S>>>4]+=V}return w}();O.Hs.m9=function(){function w(d,N,b,z,v,T,Y){if(v==0){N.set(d);
return}if(v<=80)n(d,N,b,z,v,T,Y);else Q(d,N,b,z,v,T,Y)}function n(d,N,b,z,v,T,Y){var g=0,R=new Int32Array(512),h=1+2*Math.round(Math.sqrt(v)),E=h>>>1,G=new Array(h);
for(var l=0;l<h;l++)G[l]=new Int32Array(512);var k=T[0],$=T[1];for(var p=0;p<b;p++)if(p<v||p>b-v-h-1){R.fill(0);
g=0;var X=Math.max(p-v,0),C=Math.min(b,p+v+1),D=C-X;for(var o=0;o<v;o++){g+=D;y(R,d,o*b+X,o*b+C,1)}for(var o=0;
o<z;o++){var t=o-v-1,u=o+v;if(t>=0){g-=D;y(R,d,t*b+X,t*b+C,-1)}if(u<z){g+=D;y(R,d,u*b+X,u*b+C,1)}var m=k(R,d[o*b+p],g,Y);
N[o*b+p]=m}}else{for(var l=0;l<h;l++)G[l].fill(0);g=0;var X=p-v+E,C=p+v+1+E,D=C-X;for(var o=0;o<v;o++){g+=D;
H(G,d,o*b+X,o*b+C,1,E)}for(var o=0;o<z;o++){var t=o-v-1,u=o+v;if(t>=0){g-=D;H(G,d,t*b+X,t*b+C,-1,E)}if(u<z){g+=D;
H(G,d,u*b+X,u*b+C,1,E)}for(var l=0;l<E;l++){var U=E-1-l,I=E+1+l;N[o*b+p+U]=$(G[E],G[U],d[o*b+p+U],g,Y);
N[o*b+p+I]=$(G[E],G[I],d[o*b+p+I],g,Y)}N[o*b+p+E]=k(G[E],d[o*b+p+E],g,Y)}p+=h-1}}function H(d,N,b,z,v,T){var Y=c;
Y(d[T-1],N[b-1],0,v);Y(d[T-1],N[z-1],0,-v);Y(d[T+1],N[z],0,v);Y(d[T+1],N[b],0,-v);for(var l=1;l<T;l++){var g=d[T-l-1],R=d[T+l+1];
for(var h=0;h<=l;h++){Y(g,N[b-1-h],0,v);Y(g,N[z-1-h],0,-v);Y(R,N[z+h],0,v);Y(R,N[b+h],0,-v)}}y(d[T],N,b,z,v)}function y(d,N,l,b,z){while(l<b)c(d,N[l++],0,z)}function c(d,N,b,z){d[b|N]+=z;
d[b|256|N>>>4]+=z}function Q(d,N,b,z,v,T,Y){var g=0,R=new Int32Array(512),h=new Int32Array(1*b),E=new Int32Array(512*b),G=Math.min(v,b),k=Math.min(v,z),$=T[0];
for(var p=0;p<k;p++)q(E,h,d,b,p,1);for(var p=0;p<z;p++){if(p+v<z)q(E,h,d,b,p+v,1);if(p-v-1>=0)q(E,h,d,b,p-v-1,-1);
R.fill(0);g=0;for(var X=0;X<G;X++){g+=h[X];S(R,E,X)}for(var X=0;X<b;X++){var C=X-v-1,D=X+v;if(C>=0&&h[C]!=0){g-=h[C];
A(R,E,C)}if(D<b&&h[D]!=0){g+=h[D];S(R,E,D)}var o=g==0?0:$(R,d[p*b+X],g,Y);N[p*b+X]=o}}}function q(d,N,b,z,v,T){var l=v*z;
for(var Y=0;Y<z;Y++){c(d,b[l+Y],Y<<9,T);N[Y]+=T}}function S(d,N,b){for(var l=0;l<16;l++){var z=N[b<<9|256|l];
if(z==0)continue;d[256|l]+=z;var v=l<<4,T=b<<9|v;V(d,N,v,T);V(d,N,v+4,T+4);V(d,N,v+8,T+8);V(d,N,v+12,T+12)}}function A(d,N,b){for(var l=0;
l<16;l++){var z=N[b<<9|256|l];if(z==0)continue;d[256|l]-=z;var v=l<<4,T=b<<9|v;e(d,N,v,T);e(d,N,v+4,T+4);
e(d,N,v+8,T+8);e(d,N,v+12,T+12)}}function V(d,N,b,z){d[b]+=N[z];d[b+1]+=N[z+1];d[b+2]+=N[z+2];d[b+3]+=N[z+3]}function e(d,N,b,z){d[b]-=N[z];
d[b+1]-=N[z+1];d[b+2]-=N[z+2];d[b+3]-=N[z+3]}return w}();O.Hs.uG=[function(w,n,H,y){var l=15;while(w[256|l]==0&&l>0)l--;
l=(l<<4)+15;while(w[l]==0&&l>0)l--;return l},function(w,n,H,y,c){var l=15;while(w[256|l]+n[256|l]==0&&l>0)l--;
l=(l<<4)+15;while(w[l]+n[l]==0&&l>0)l--;return l}];O.Hs.vy=[function(w,n,H,y){var l=0;while(w[256|l]==0&&l<15)l++;
l=l<<4;while(w[l]==0&&l<255)l++;return l},function(w,n,H,y,c){var l=0;while(w[256|l]+n[256|l]==0&&l<15)l++;
l=l<<4;while(w[l]+n[l]==0&&l<255)l++;return l}];O.Hs.eP=.5;O.Hs.jK=[function(w,n,H,y){var c=~~(.5+O.Hs.eP*H),Q=0,l=256;
while(Q+w[l]<c)Q+=w[l++];l=l-256<<4;while(Q<c)Q+=w[l++];return l-1},function(w,n,H,y,c){var Q=~~(.5+O.Hs.eP*y),q=0,l=256;
while(q+w[l]+n[l]<Q){q+=w[l]+n[l];l++}l=l-256<<4;while(q<Q){q+=w[l]+n[l];l++}return l-1}];O.Hs.wP=[function(w,n,H,y){var c=y[0],Q=0,q=0,l=Math.max(0,n-c),S=Math.min(256,n+c+1);
while(l<S){var A=w[l];Q+=l*A;q+=A;l++}return q==0?0:Q/q},function(w,n,H,y,c){var Q=c[0],q=0,S=0,l=Math.max(0,H-Q),A=Math.min(256,H+Q+1);
while(l<A){var V=w[l]+n[l];q+=l*V;S+=V;l++}return S==0?0:q/S}];O.K={};O.K.EH=function(w){var n=P.WJ.b6(w.Trnf),H=w.Sz.v,y=O.K.gU(n,new cr(0,0,H.Wdth.v,H.Hght.v));
return O.K.iK(y)};O.K.gU=function(w,n){var H=w[0],y=w[1],c=w[2],Q=w[3],q=w[6],S=w[7],A=w[4],V=w[5],e=0,d=0,N=1,b=0,z=0,v=1,T=1,Y=1;
if(n){e=n.x;d=n.y;N=n.x+n.m;b=n.y;z=n.x;v=n.y+n.e;T=n.x+n.m;Y=n.y+n.e}return O.K.tv(w,[e,d,N,b,T,Y,z,v])};
O.K.ag=function(w){function n(c,Q){for(var l=0;l<Q.length;l+=2)if(!H(c,Q[l],Q[l+1]))return!1;return!0}function H(c,Q,q){return c[2*Q]==c[2*q]&&c[2*Q+1]==c[2*q+1]}var y=0;
if(n(w,[0,1,2,3]))y+=1;if(n(w,[0,3,1,2]))y+=2;return y};O.K.tv=function(w,n){function H(m,l,U){var o=m[l*2]-m[U*2],t=m[l*2+1]-m[U*2+1];
return Math.sqrt(o*o+t*t)}var y=w[0],c=w[1],Q=w[2],q=w[3],S=w[6],A=w[7],V=w[4],e=w[5],d=n[0],N=n[1],b=n[2],z=n[3],v=n[6],T=n[7],Y=n[4],g=n[5],R=[[d,N,1,0,0,0,-d*y,-N*y,y],[0,0,0,d,N,1,-d*c,-N*c,c],[b,z,1,0,0,0,-b*Q,-z*Q,Q],[0,0,0,b,z,1,-b*q,-z*q,q],[v,T,1,0,0,0,-v*S,-T*S,S],[0,0,0,v,T,1,-v*A,-T*A,A],[Y,g,1,0,0,0,-Y*V,-g*V,V],[0,0,0,Y,g,1,-Y*e,-g*e,e]],h=[0,0,0,0,0,0,0,0],E=O.Yx.MR(R,h);
if(E!=0){h=[0,0,0,0,0,0,0,0];var G=O.K.ag(w),k=O.K.ag(n);if(G==k&&G!=0){var $=G==1,p=$?3:1,X=H(w,0,p),C=H(n,0,p),D=C/X,o=w[2*p]-w[0],t=w[2*p+1]-w[1],u=new b7;
u.translate(-y,-c);u.rotate(Math.atan2(t,o)-($?Math.PI/2:0));if($)u.scale(1,D);else u.scale(D,1);u.translate(d,N);
u.G$();h=O.K.og(u)}}return h};O.K.R=function(w,n){if(w==null)w=n=0;return[1,0,w,0,1,n,0,0]};O.K.gr=function(w){return Math.abs(w[6])<1e-10&&Math.abs(w[7])<1e-10};
O.K.iK=function(w){return new b7(w[0],w[3],w[1],w[4],w[2],w[5])};O.K.og=function(w){return[w.iL,w.Mg,w.qH,w.k,w.Du,w.fp,0,0]};
O.K.D=function(w,n){var H=new Float64Array(2);for(var y=0;y<n.length;y+=2){var c=n[y],Q=n[y+1];O.K.Xu(c,Q,w,H);
n[y]=H[0];n[y+1]=H[1]}};O.K.Xu=function(w,n,H,y){var c=1/(H[6]*w+H[7]*n+1);y[0]=(H[0]*w+H[1]*n+H[2])*c;
y[1]=(H[3]*w+H[4]*n+H[5])*c};O.K.ani=function(w,n){var H=new Float64Array(2);O.K.Xu(n.x,n.y,w,H);return new ce(H[0],H[1])};
O.K.wf=function(w,n,H,y){w=new Uint32Array(w.buffer);n=new Uint32Array(n.buffer);for(var c=0;c<y;c++){for(var Q=0;
Q<H;Q++){n[Q*y+c]=w[c*H+Q]}}};O.K.dj=function(w,n,H,y){w=new Uint32Array(w.buffer);n=new Uint32Array(n.buffer);
for(var c=0;c<y;c++){for(var Q=0;Q<H;Q++){n[c*H+Q]=w[c*H+H-1-Q]}}};O.K.a5b=function(w,n,H,y){w=new Uint32Array(w.buffer);
n=new Uint32Array(n.buffer);for(var c=0;c<y;c++){for(var Q=0;Q<H;Q++){n[c*H+Q]=w[(y-1-c)*H+Q]}}};O.K.C4=function(w){return Math.abs(w[6])<1e-9&&Math.abs(w[7])<1e-9};
O.K.eg=function(w){return Math.abs(w[0])<1e-9&&Math.abs(w[4])<1e-9||Math.abs(w[1])<1e-9&&Math.abs(w[3])<1e-9};
O.K.drawImage=function(w,n,H,y,c,Q,q,S,A){if(q==null)q=!1;if(S==null)S=!1;var V=O.K.G$(w),e=!0,d=0;for(var l=0;
l<8;l++){var N=Math.round(w[l]);if(l!=2&&l!=5)d+=Math.abs(N);if(Math.abs(N-w[l])>1e-9)e=!1}var b=O.K.C4(w),z=O.K.eg(w)&&b,v=z?1:0;
if(q||e&&d==H+y&&b){O.K.asc(V,n,H,y,c,Q,S,b,A);return}var T=Q.m,Y=Q.e,g=new Float64Array(2);c=new Uint32Array(c.buffer);
n=new Uint32Array(n.buffer);for(var R=0;R<Y;R++)for(var h=0;h<T;h++){var E=R*T+h,G,k,$,p,J=0,r=0,Z=0,f=0;
c[E]=0;var X=h+Q.x+.5,C=R+Q.y+.5;G=X;k=C;$=V;var D=$[0]*G+$[1]*k+$[2],o=$[3]*G+$[4]*k+$[5];if(!b){p=1/($[6]*G+$[7]*k+1);
D*=p;o*=p}var t=D*H,u=o*y,m=t<-1||t>H+1||u<-1||u>y+1;if(S){t=Math.max(.001,Math.min(H-1,t));u=Math.max(.001,Math.min(y-1,u))}else if(m)continue;
var U=O.K.akn(w,H,y,X,C,D,o),I=Math.round(U*2.3);if(U<1.1){O.K.y$(t,u,n,H,y,c,E,v);continue}if(!S&&(t<.6||t>H-.6||u<.6||u>y-.6)){I=Math.max(I,5)}if(S&&m)I=1;
var x=1/I,F=Q.x+h,_=Q.y+R;$=V;for(var l=0;l<I;l++)for(var K=0;K<I;K++){G=F+(l+.5)*x;k=_+(K+.5)*x;var t=$[0]*G+$[1]*k+$[2],u=$[3]*G+$[4]*k+$[5];
if(!b){p=1/($[6]*G+$[7]*k+1);t*=p;u*=p}if(S){t=Math.max(.001,Math.min(.999,t));u=Math.max(.001,Math.min(.999,u))}else if(t<0||t>=1||u<0||u>=1)continue;
t=Math.floor(t*H);u=Math.floor(u*y);var B=u*H+t,ij=n[B],W=ij>>>24;J+=(ij&255)*W;r+=(ij>>>8&255)*W;Z+=(ij>>>16&255)*W;
f+=W}if(f!=0){var L=1/f;J=~~(J*L+.5);r=~~(r*L+.5);Z=~~(Z*L+.5);f=~~(f*x*x+.5);c[E]=f<<24|Z<<16|r<<8|J}}};
O.K.akn=function(w,n,H,y,c,Q,q){var S=O.K.fe(w,y,c,Q+1/n,q),A=O.K.fe(w,y,c,Q,q+1/H);return 1/Math.sqrt(Math.max(S,A))};
O.K.fe=function(w,n,H,y,c){var Q=1/(w[6]*y+w[7]*c+1),q=(w[0]*y+w[1]*c+w[2])*Q-n,S=(w[3]*y+w[4]*c+w[5])*Q-H;
return q*q+S*S};O.K.asc=function(w,n,H,y,c,Q,q,S,A){if(S&&!q&&Q.O()>4e6&&A){O.K.abR(w,n,H,y,c,Q,q,S,A);
return}var V=Q.x+Q.m,e=Q.y+Q.e,d=0,N=new Uint32Array(c.buffer),b=new Uint32Array(n.buffer),z=w[0]*H,v=w[1]*H,T=w[2]*H,Y=w[3]*y,g=w[4]*y,R=w[5]*y,h=w[6],E=w[7];
if(S&&!q)for(var G=Q.y+.5;G<e;G++)for(var k=Q.x+.5;k<V;k++){var $=z*k+v*G+T,p=Y*k+g*G+R;if(0<$&&$<H&&0<p&&p<y){var X=~~p*H+~~$;
N[d]=b[X]}else N[d]=0;d++}else for(var G=Q.y+.5;G<e;G++)for(var k=Q.x+.5;k<V;k++){var C=1/(h*k+E*G+1),$=(z*k+v*G+T)*C,p=(Y*k+g*G+R)*C;
if(q){$=Math.max(.001,Math.min(H-1,$));p=Math.max(.001,Math.min(y-1,p))}if(0<$&&$<H&&0<p&&p<y){var X=Math.floor(p)*H+Math.floor($);
N[d]=b[X]}else N[d]=0;d++}};O.K.abR=function(w,n,H,y,c,Q,q,S,A){var V=new Uint32Array(c.buffer),e=new Uint32Array(n.buffer),E=0;
if(A&&(Q.m&3)!=0)throw"e";var d=w[0]*H,N=w[1]*H,b=w[2]*H,z=w[3]*y,v=w[4]*y,T=w[5]*y,Y=w[6],g=w[7],R=Q.m,h=Q.e,G=Q.x+.5,k=Q.y+.5,$=(R>>>2<<2)-1e-9,p=-.1+(h>>>1<<1)-1e-9,X=~~H,C=d==0?0:1/d,D=z==0?0:1/z;
for(var o=0;o<h;o++){var t=G*d+N*(o+k)+b,u=G*z+v*(o+k)+T,m=0,U=R;if(d==0){}else if(C>0){m=Math.max(m,-t*C);
U=Math.min(U,(H-t)*C)}else{U=Math.min(U,-t*C);m=Math.max(m,(H-t)*C)}if(z==0){}else if(D>0){m=Math.max(m,-u*D);
U=Math.min(U,(y-u)*D)}else{U=Math.min(U,-u*D);m=Math.max(m,(y-u)*D)}if(U<0)U=0;if(m>U)m=U;m=Math.ceil(m);
U=~~U;E=~~(o*R);for(var I=0;I<m;I++)V[E++]=0;for(var I=m;I<U;I+=4){var x=d*I+t,J=z*I+u,r=~~J*X+~~x;V[E++]=V[E++]=V[E++]=V[E++]=e[r]}for(var I=U;
I<R;I++)V[E++]=0}};O.K.G$=function(w){var n=w[4]-w[5]*w[7],H=w[2]*w[7]-w[1],y=w[1]*w[5]-w[2]*w[4],c=w[5]*w[6]-w[3],Q=w[0]-w[2]*w[6],q=w[3]*w[2]-w[0]*w[5],S=w[3]*w[7]-w[4]*w[6],A=w[1]*w[6]-w[0]*w[7],V=1/(w[0]*w[4]-w[1]*w[3]);
return[n*V,H*V,y*V,c*V,Q*V,q*V,S*V,A*V]};O.K.dO=function(w,n){var H=w[0],y=w[1],c=w[2],Q=w[3],q=w[4],S=w[5],A=w[6],V=w[7],e=n[0],d=n[1],N=n[2],b=n[3],z=n[4],v=n[5],T=n[6],Y=n[7],g=[H*e+y*b+c*T,H*d+y*z+c*Y,H*N+y*v+c,Q*e+q*b+S*T,Q*d+q*z+S*Y,Q*N+q*v+S,A*e+V*b+T,A*d+V*z+Y],R=1/(A*N+V*v+1);
for(var l=0;l<8;l++)g[l]*=R;return g};O.K.y$=function(w,n,H,y,c,Q,q,S){var A=w,V=n,N=0,b=0,z=0,v=0;w-=.499999;
n-=.499999;var e=Math.floor(w),d=Math.floor(n);if(S==0){var l=d*y+e,T=e>=0&&e<y,Y=e+1>=0&&e+1<y,g=d>=0&&d<c,R=d+1>=0&&d+1<c;
if(T&&g)N=H[l];if(Y&&g)b=H[l+1];if(T&&R)z=H[l+y];if(Y&&R)v=H[l+y+1]}else if(S==1){var h=e<0?0:e>y-1?y-1:e,E=e<-1?0:e>y-2?y-1:e+1,G=d<0?0:d>c-1?c-1:d,k=d<-1?0:d>c-2?c-1:d+1;
N=H[G*y+h];b=H[G*y+E];z=H[k*y+h];v=H[k*y+E]}else{var h=(e+50*y)%y,E=(e+50*y)%y,G=(d+50*c)%c,k=(d+50*c)%c;
N=H[G*y+h];b=H[G*y+E];z=H[k*y+h];v=H[k*y+E]}var $=w-e,p=n-d,X=(1-p)*(1-$)*(N>>>24),C=(1-p)*$*(b>>>24),D=p*(1-$)*(z>>>24),o=p*$*(v>>>24),t=X+C+D+o,u=X*(N&255)+C*(b&255)+D*(z&255)+o*(v&255),m=X*(N>>>8&255)+C*(b>>>8&255)+D*(z>>>8&255)+o*(v>>>8&255),U=X*(N>>>16&255)+C*(b>>>16&255)+D*(z>>>16&255)+o*(v>>>16&255);
if(t==0)Q[q]=0;else{var I=1/t;u=~~(u*I+.5);m=~~(m*I+.5);U=~~(U*I+.5);t=~~(t+.5);Q[q]=t<<24|U<<16|m<<8|u}};
O.K.iv=function(w,n,H,y,c,Q){var q=w-.499999,S=n-.499999,A=~~q,V=~~S,e=q-A,d=S-V,N=(1-d)*(1-e),b=(1-d)*e,z=d*(1-e),v=d*e,T=V*y+A<<2,Y=(V+1)*y+A<<2,g=N*H[T]+b*H[T+4]+z*H[Y]+v*H[Y+4],R=N*H[T+1]+b*H[T+5]+z*H[Y+1]+v*H[Y+5],h=N*H[T+2]+b*H[T+6]+z*H[Y+2]+v*H[Y+6],E=N*H[T+3]+b*H[T+7]+z*H[Y+3]+v*H[Y+7];
Q[0]=g;Q[1]=R;Q[2]=h;Q[3]=E};O.K.ya=function(w,n,H,y,c){w-=.499999;n-=.499999;var Q=Math.floor(w),q=Math.floor(n),S=w-Q,A=n-q,V=(1-A)*(1-S),e=(1-A)*S,d=A*(1-S),N=A*S,b=(Q+50*y)%y,z=(Q+1+50*y)%y,v=(q+50*c)%c,T=(q+1+50*c)%c,Y=H[v*y+b],g=H[v*y+z],R=H[T*y+b],h=H[T*y+z];
if(Y==null||h==null)throw"e";return V*Y+e*g+d*R+N*h};O.K.am3=function(w,n,H,y,c){w-=.499999;n-=.499999;
var Q=Math.floor(w),q=Math.floor(n),S=w-Q,A=n-q,V=(1-A)*(1-S),e=(1-A)*S,d=A*(1-S),N=A*S,b=q*y+Q,z=b+y,v=H[b],T=H[b+1],Y=H[z],g=H[z+1];
if(v==null||g==null){console.log(Q,q,y,c);throw"e"}return V*v+e*T+d*Y+N*g};O.K.vW=function(w,n,H,y,c,Q,q,S,A,V,e,d){var N=new Uint32Array(w.buffer),b=new Uint32Array(y.buffer),z=(1+2*V)/c,v=[],T=[];
for(var Y=0;Y<c;Y++){var g=-.25+V-Y*z;v.push(Math.cos(2*Math.PI*g)*d/e);v.push(Math.sin(2*Math.PI*g)/e)}q*=n;
S*=H;for(var R=0;R<Q;R++){var h=Math.pow(R/Q,A)*Q;for(var Y=0;Y<c;Y++){var E=q+v[Y<<1]*h,G=S+v[(Y<<1)+1]*h,k=~~(.5+(E<0?0:E>n-1?n-1:E)),$=~~(.5+(G<0?0:G>H-1?H-1:G));
b[R*c+Y]=N[$*n+k]}}};O.K.Nr=function(w,n,H,y,c,Q,q,S,A,V,e,d){var N=new Uint32Array(w.buffer),b=new Uint32Array(y.buffer),z=1/d,v=[],T=H*4,Y=1/T;
for(var g=0;g<T+10;g++)v.push(Math.pow(g*Y,1/A)*H*e);q*=c;S*=Q;for(var g=0;g<Q;g++)for(var R=0;R<c;R++){var h=z*(R-q),E=g-S,G=1.75-Math.atan2(E,h)*(1/(2*Math.PI));
G=G-~~G;G=(G+V)*(1/(1+2*V));var k=Math.sqrt(h*h+E*E);k=v[~~(k*4)];O.K.y$(G*n+.5,k+.5,N,n,H,b,g*c+R,1)}};
O.K.Zq=function(w,n,H,y,c){var Q=c[0],q=c[1];for(var S=0;S<q;S++)for(var A=0;A<Q;A++){var V=c[2]*A+c[3]*S+c[4],e=c[5]*A+c[6]*S+c[7],d=S*Q+A<<2,N=e*n+V<<2;
y[d]=w[N+0];y[d+1]=w[N+1];y[d+2]=w[N+2];y[d+3]=w[N+3]}};O.M={ze:function(w,n){var H=~~(.499+w*n);return H<0?0:H>n?n:H},ahc:function(w,n,H,y,c,Q,q,S){var A=H[0],V=H[1],e=H[2],d=H[3],N=y.m,b=y.e,z=new Float64Array(N*4+8),v=new Float64Array(N*4+8);
for(var T=0,l=0;T<b;T++){var Y=z;z=v;v=Y;v.fill(0);for(var g=0;g<N;g++,l++){var R=g+c,h=T+Q,E=A*R+V*h,G=e*R+d*h,k=0,X=0;
if(S==0)k=E+.5;else if(S==1)k=2*Math.sqrt(E*E+G*G);else if(S==2)k=(Math.PI+Math.atan2(-G,-E))/(2*Math.PI);
else if(S==3)k=Math.abs(E*2);else if(S==4)k=2*(Math.abs(E)+Math.abs(G));var $=O.M.ze(k,q)*4,p=g*4;for(var C=0;
C<4;C++){var D=Math.max(0,Math.min(254.999,n[$+C]+z[p+4+C])),o=Math.floor(D);if(Math.random()<D-o)o++;
var t=D-o;z[p+8+C]=t*(7/16);v[p+0+C]=t*(3/16);v[p+4+C]=t*(5/16);v[p+8+C]=t*(1/16);X|=o<<C*8}w[l]=X}}},Sh:[function(w,n,H,y,c,Q,q){var S=H[0],A=H[1],V=H[2],e=H[3],d=y.m,N=y.e;
for(var b=0,l=0;b<N;b++)for(var z=0;z<d;z++,l++){var v=z+c,T=b+Q,Y=S*v+A*T,g=V*v+e*T,R=Y+.5;w[l]=n[O.M.ze(R,q)]}},function(w,n,H,y,c,Q,q){var S=H[0],A=H[1],V=H[2],e=H[3],d=y.m,N=y.e;
for(var b=0,l=0;b<N;b++)for(var z=0;z<d;z++,l++){var v=z+c,T=b+Q,Y=S*v+A*T,g=V*v+e*T,R=2*Math.sqrt(Y*Y+g*g);
w[l]=n[O.M.ze(R,q)]}},function(w,n,H,y,c,Q,q){var S=H[0],A=H[1],V=H[2],e=H[3],d=y.m,N=y.e;for(var b=0,l=0;
b<N;b++)for(var z=0;z<d;z++,l++){var v=z+c,T=b+Q,Y=S*v+A*T,g=V*v+e*T,R=(Math.PI+Math.atan2(-g,-Y))/(2*Math.PI);
w[l]=n[O.M.ze(R,q)]}},function(w,n,H,y,c,Q,q){var S=H[0],A=H[1],V=H[2],e=H[3],d=y.m,N=y.e;for(var b=0,l=0;
b<N;b++)for(var z=0;z<d;z++,l++){var v=z+c,T=b+Q,Y=S*v+A*T,g=V*v+e*T,R=Math.abs(Y*2);w[l]=n[O.M.ze(R,q)]}},function(w,n,H,y,c,Q,q){var S=H[0],A=H[1],V=H[2],e=H[3],d=y.m,N=y.e;
for(var b=0,l=0;b<N;b++)for(var z=0;z<d;z++,l++){var v=z+c,T=b+Q,Y=S*v+A*T,g=V*v+e*T,R=2*(Math.abs(Y)+Math.abs(g));
w[l]=n[O.M.ze(R,q)]}}]};O.M.aer=function(w,n){return w+.5};O.M.aqe=function(w,n){return 2*Math.sqrt(w*w+n*n)};
O.M.azJ=function(w,n){return(Math.PI+Math.atan2(-n,-w))/(2*Math.PI)};O.M.axo=function(w,n){return Math.abs(w*2)};
O.M.a2k=function(w,n){return 2*(Math.abs(w)+Math.abs(n))};O.M.DN=function(w,n,H,y,c,Q,q,S,A,V,e,d){var N=w.Clrs,b=new Uint32Array(n.buffer),z=1023,v=N?O.M.hr(w,A,V):null;
if(d&&N){var T=O.M.ao1(w,v,z+1,q);O.M.ahc(b,T,y,H,H.x-c,H.y-Q,z,S)}else{var Y=N?O.M.yP(w,v,z+1,q):O.M.Jc(w,z+1,q);
if(S<5){O.M.Sh[S](b,Y,y,H,H.x-c,H.y-Q,z)}else{var g=new Uint8Array(Y.buffer),R=H.m,h=H.e,E=e.u0-e.uR,G=1/E,k=e.FU.m-H.m>>1,$=e.FU.e-H.e>>1,p=e.FU.m,X=-.6*G,C=(-.6+.4)*G,D=(-.6+2*.4)*G,o=(-.6+3*.4)*G;
for(var t=0,l=0;t<h;t++)for(var u=0;u<R;u++,l+=4){var m=0,U=0,I=0,x=0,J=(t+$)*p+u+k,r=(e.Xp[J]-e.uR)*G,Z=0;
if(r<=0||r>=1){Z=(r<=0?0:z)<<2;n[l]=g[Z];n[l+1]=g[Z+1];n[l+2]=g[Z+2];n[l+3]=g[Z+3];continue}Z=Math.max(0,Math.min(z-1,Math.round((r+X)*z)))<<2;
U+=g[Z];I+=g[Z+1];x+=g[Z+2];m+=g[Z+3];Z=Math.max(0,Math.min(z-1,Math.round((r+C)*z)))<<2;U+=g[Z];I+=g[Z+1];
x+=g[Z+2];m+=g[Z+3];Z=Math.max(0,Math.min(z-1,Math.round((r+D)*z)))<<2;U+=g[Z];I+=g[Z+1];x+=g[Z+2];m+=g[Z+3];
Z=Math.max(0,Math.min(z-1,Math.round((r+o)*z)))<<2;U+=g[Z];I+=g[Z+1];x+=g[Z+2];m+=g[Z+3];n[l]=U>>>2;
n[l+1]=I>>>2;n[l+2]=x>>>2;n[l+3]=m>>>2}}}};O.M.hr=function(w,n,H){var y=[w.Clrs.v,w.Trns.v],c=[[],[]],Q=255;
for(var q=0;q<2;q++)for(var l=0;l<y[q].length;l++){var S,A=y[q][l].v;if(q==0){var V=A.Type.v.Clry;if(V=="FrgC")S={b:n>>16&255,J:n>>8&255,k:n&255};
else if(V=="BckC")S={b:H>>16&255,J:H>>8&255,k:H&255};else S=O.M.cH(A.Clr.v)}else{S=A.Opct.v.val*(255/100);
if(S<Q)Q=S}c[q].push([S,A.Lctn.v/4096,A.Mdpn.v/100])}c.push(Q>254);return c};O.M.cH=function(w){var n,H=w.classID;
if(H=="RGBC"){if(w.Rd)n={b:w.Rd.v,J:w.Grn.v,k:w.Bl.v};else n={b:w.redFloat.v*255,J:w.greenFloat.v*255,k:w.blueFloat.v*255}}else if(H=="HSBC"){n=O.AT(w.H.v.val/360,w.Strt.v/100,w.Brgh.v/100);
n.b*=255;n.J*=255;n.k*=255}else if(H=="CMYC"){var y=100-w.Cyn.v,c=100-w.Mgnt.v,Q=100-w.Ylw.v,q=100-w.Blck.v,S=255*y*q*1e-4,A=255*(.2*y+.8*c)*q*1e-4,V=255*(.2*c+.8*Q)*q*1e-4;
n={b:S,J:A,k:V}}else if(H=="Grsc")n={b:255-w.Gry.v,J:255-w.Gry.v,k:255-w.Gry.v};else if(H=="LbCl"){n=O.l_(w.Lmnc.v,w.A.v,w.B.v)}else if(H=="BkCl")n={b:0,J:0,k:0};
else console.log(w);if(isNaN(n.b))n.b=n.J=n.k=0;return n};O.M.Jc=function(w,n,H){var y=new Uint32Array(n),c=new Uint8Array(y.buffer);
y.fill(4278190080);var Q=[],q=[],S=w.RndS.v,A=w.Smth.v/4096;for(var l=0;l<4;l++){Q[l]=~~(w.Mnm.v[l].v*255/100);
q[l]=~~(w.Mxm.v[l].v*255/100)}var V=O.R(n*4),e=O.R(n);for(var d=0;d<3;d++){O._.GE(null,n,1,V,[1+Math.round(A*A*A*60),22,S*(2+d)]);
O.RR(V,e,0);O.o2(e,c,d);var N=Q[d],b=q[d];for(var l=0;l<n;l++)c[4*l+d]=Math.max(N,Math.min(b,c[4*l+d]))}if(H)for(var l=0;
l<n/2;l++){var z=y[l];y[l]=y[n-1-l];y[n-1-l]=z}return y};O.M.Yw=function(w){return{classID:"RGBC",Rd:{t:"doub",v:w.b},Grn:{t:"doub",v:w.J},Bl:{t:"doub",v:w.k}}};
O.M.ao1=function(w,n,H,y){var c=[],Q=1/(H-0);for(var l=0;l<H;l++){var q=l*4,S=O.M.sl(w,n,(y?H-1-l:l)*Q);
c[q]=S[0];c[q+1]=S[1];c[q+2]=S[2];c[q+3]=S[3]}return c};O.M.yP=function(w,n,H,y){var c=new Uint32Array(H),Q=1/(H-0);
for(var l=0;l<H;l++)c[l]=O.M.uz(w,n,(y?H-1-l:l)*Q);return c};O.M.sl=function(w,n,H){var y=w.Intr.v*(1/4096),c=n[0],Q=n[1],q=c.length-1,S=Q.length-1,l=-1,A=0,V=0,e=0,d=0;
if(n[2])A=255;else{while(l<S&&Q[l+1][1]<=H)l++;if(l==-1){A=Q[0][0]}else if(l==S){A=Q[l][0]}else{var N=O.M.Qa(Q,l,H,y);
A=N*Q[l][0]+(1-N)*Q[l+1][0]}}l=-1;while(l<q&&c[l+1][1]<=H)l++;if(l==-1){var b=c[0][0];V=b.b;e=b.J;d=b.k}else if(l==q){var b=c[l][0];
V=b.b;e=b.J;d=b.k}else{var z=c[l][0],v=c[l+1][0],T=O.M.Qa(c,l,H,y);V=T*z.b+(1-T)*v.b;e=T*z.J+(1-T)*v.J;
d=T*z.k+(1-T)*v.k}return[V,e,d,A]};O.M.uz=function(w,n,H){var y=O.M.sl(w,n,H),c=~~(.5+y[0]),Q=~~(.5+y[1]),q=~~(.5+y[2]),S=~~(.5+y[3]);
return S<<24|q<<16|Q<<8|c};O.M.Qa=function(w,l,n,H){if(w.length==2)H*=.5;var y=w[l][1],c=w[l+1][1],Q=y+w[l+1][2]*(c-y),q;
if(n<Q)q=.5*(n-y)/(Q-y);else q=.5+.5*(n-Q)/(c-Q);q=.5+.5*(H*Math.cos(Math.PI*q)+(1-H)*(1-2*q));return q};
O.M.vt=function(w,n){var H=Math.PI*w.Angl.v.val/180,y=w.Scl.v.val/100,c=w.Ofst.v,Q=c.Hrzn.v.val/100,q=c.Vrtc.v.val/100,S=Math.cos(H),A=-Math.sin(H),V=.5*n.e,e=V*(S/A),d=Math.sqrt(V*V+e*e),N=.5*n.m,b=N*(A/S),z=Math.sqrt(N*N+b*b),v=Math.min(d,z)*y,T=n.x+n.m/2+Q*n.m,Y=n.y+n.e/2+q*n.e;
return[new ce(T,Y),new ce(T+S*v,Y+A*v)]};O.M.yK=function(w,n,H,y){var c=n.x-w.x,Q=-(n.y-w.y),q=Math.sqrt(c*c+Q*Q),S=Math.atan2(Q,c),A=Math.cos(S),V=-Math.sin(S),e=.5*H.e,d=e*(A/V),N=Math.sqrt(e*e+d*d),b=.5*H.m,z=b*(V/A),v=Math.sqrt(b*b+z*z),T=q/Math.min(N,v),Y=(w.x-H.x-H.m/2)/H.m,g=(w.y-H.y-H.e/2)/H.e;
y.Angl.v.val=180*S/Math.PI;y.Scl.v.val=T*100;var R=y.Ofst.v;R.Hrzn.v.val=Y*100;R.Vrtc.v.val=g*100};O.M.Wm=function(w,n){for(var l=0;
l<w.length;l++){var H=w[l],y=Math.round(H[0]*4096),c=H[1],Q=H[2],q=H[3];if(Q==null)Q=1;if(q==null)q=.5;
var S=O.M.Yw({b:c[0]*255,J:c[1]*255,k:c[2]*255});n.Clrs.v[l]={t:"Objc",v:{classID:"Clrt",Lctn:{t:"long",v:y},Mdpn:{t:"long",v:Math.round(q*100)},Clr:{t:"Objc",v:S},Type:{t:"enum",v:{Clry:"UsrS"}}}};
n.Trns.v[l]={t:"Objc",v:{classID:"TrnS",Lctn:{t:"long",v:y},Mdpn:{t:"long",v:Math.round(q*100)},Opct:{t:"UntF",v:{type:"#Prc",val:Math.round(Q*100)}}}}}};
O.M.fi=function(w,n,H){function y(b){return parseFloat((b/255).toFixed(3))}if(n){w=JSON.parse(JSON.stringify(w));
for(var l=0;l<2;l++){var c=w[l==0?"Clrs":"Trns"].v;for(var Q=0;Q<c.length;Q++)c[Q].v.Lctn.v=4096-c[Q].v.Lctn.v;
c.reverse()}}var q=[],S=w.Clrs.v,A=w.Trns.v,c=S;if(H!=!0)c=S.concat(A);var V=O.M.hr(w,0,0);for(var l=0;
l<c.length;l++){var e=c[l].v,d=e.Lctn.v/4096,N=O.M.sl(w,V,d);q.push([d,[y(N[0]),y(N[1]),y(N[2])],y(N[3])])}q.sort(function(b,z){return b[0]-z[0]});
for(var l=1;l<q.length;l++)if(q[l][0]-q[l-1][0]<.001){q.splice(l,1);l--}return q};O.Pa={};O.Pa.qs=function(w,n,H,y,c,Q,q,S,A,V,e,d){var N,b,z,v=Date.now(),T=!1,Y=q,g=V,R,h,E,G,k=Q*255,$=255-A*255,p=1+c*6,X=1+S*6,C=1+d*4,D=(C-1)/7,o=0,t=255-0,u,m,U,I,x,J,r,Z,f,F,_,K,B,ij=0,W=1,L,i,e3,eE,ec,gw,bl,cD,a$,hJ,ei=1+e,df,bM=O.R(H*y),ib=O.R(H*y),fI=O.R(H*y),eU=O.R(H*y),gK=255/k,bs=255/(255-$);
for(b=0;b<y;b++){for(N=0;N<H;N++){var l=b*H+N,km=l<<2;L=O.LC(w[km],w[km+1],w[km+2]);eU[l]=L;if(L<k)bM[l]=255-L*gK;
if(L>$)ib[l]=255-(255-L)*bs}}if(T)console.log("init",Date.now()-v);v=Date.now();if(c*Y>0){fI.set(bM);
O.CU.Kh(fI,bM,new cr(0,0,H,y),Y)}if(S*g>0){fI.set(ib);O.CU.Kh(fI,ib,new cr(0,0,H,y),g)}if(T)console.log("blur",Date.now()-v);
v=Date.now();var aJ=O.R(256),ip=O.R(256);for(var l=0;l<256;l++){var fl=l*(1/255),b3=0;b3=(1-Math.pow(1-fl,p))*255;
aJ[l]=Math.max(0,Math.min(255,~~(b3+.5)));b3=Math.pow(fl,X)*255;ip[l]=Math.max(0,Math.min(255,~~(b3+.5)))}var k4=new Uint8ClampedArray(n.buffer),aK=new Float32Array(32768);
for(var l=0;l<32768;l++){df=Math.sqrt(l)*(1/128);if(ei>1)df=(1-df)*(ei-1)+1;else df=df*(ei-1)+1;aK[l]=df}for(b=0;
b<y;b++){for(N=0;N<H;N++){var l=b*H+N,km=l<<2,b3=eU[l],jK=bM[l]*(1/255),ay=ib[l]*(1/255);b3=(1-jK)*b3+jK*aJ[~~b3];
b3=(1-ay)*b3+ay*ip[~~b3];L=b3;var f8=w[km],gN=w[km+1],d4=w[km+2];i=-f8*.168736-gN*.331264+d4*.5;e3=f8*.5-gN*.418688-d4*.081312;
df=aK[~~(.5+i*i+e3*e3)];eE=i*df;gw=e3*df;W=1-Math.min(2-(jK+ay),1);i=W*i+(1-W)*eE;e3=W*e3+(1-W)*gw;cD=L+1.402*e3;
a$=L-.34414*i-.71414*e3;hJ=L+1.772*i;k4[km]=~~(.5+cD);k4[km+1]=~~(.5+a$);k4[km+2]=~~(.5+hJ)}}if(T)console.log("apply masks",Date.now()-v);
v=Date.now()};O.Fi={};O.Fi.Mh=function(w,n,H,y,c){var Q=!1,z=1,m=0,U=0,_=0,ei=0;if(!n.n1(c)){var q=n.ld(c),S=O.R(q.O()*4);
O.j1(w,n,S,q);w=S;n=q}var A=O.R(n.O());O.qS(H,c,A,n);O.round(A);c=c.Fa(n);var V=c.m,e=c.e,d=V*3<e?2:1,N=e*3<V?2:1;
if(c.O()*(d*2+1)*(N*2+1)<n.O()){var q=new cr(c.x-V*d,c.y-e*d,V*(d*2+1),e*(N*2+1)).Fa(n),S=O.R(q.O()*4);
O.j1(w,n,S,q);var b=O.R(q.O());O.qS(A,n,b,q);n=q;w=S;A=b}while((n.m+n.e)/2/z>400)z++;var v=w,T=n,Y=A,g=Math.floor(T.m/z),R=Math.floor(T.e/z);
w=O.R(g*R*4);O.scale.ou(v,T.m,T.e,w,g,R,1/z);A=O.R(g*R);O.scale.Zq(Y,T.m,T.e,A,g,R,1/z);O.round(A,1);
var G=O.zX(A,new cr(0,0,g,R));if(G._G())return 1;var k=Math.round((G.m+G.e)/2/15),$=Date.now(),p=O.R(g*R*4);
O.ae0(w,p);var X=Int16Array,C=new X(g*R*24),D=new X(64),o=new X(64),t=new X(64),u=new X(64);for(var I=3;
I<R-4;I++)for(var x=3;x<g-4;x++){var J=I*g+x;if(A[J]==255)continue;if(O.Fi.agz(p,A,x,I,g,R,D,o,t)!=0)continue;
O.Fi.hd(D,u);C[m]=x;C[m+1]=I;O.Fi.Bq(D,C,m+4,12);m+=16;O.Fi.hd(o,u);O.Fi.Bq(o,C,m,4);m+=4;O.Fi.hd(t,u);
O.Fi.Bq(t,C,m,4);m+=4;var r=C[m-24+5],Z=C[m-24+6];C[m-24+5]=C[m-24+20];C[m-24+6]=C[m-24+16];C[m-24+16]=r;
C[m-24+20]=Z;U++}if(U==0)return 2;if(Q)console.log(Date.now()-$,"FWHT computed");$=Date.now();var f=[];
O.Fi.dx(0,U-1,f,C,new X(2*24));if(Q)console.log(Date.now()-$,"KD tree computed");$=Date.now();var F=new Float32Array(g*R*4);
for(var l=0;l<U;l++){var K=l,B=O.Fi.a9V(K,C,f,k);if(B==-1)continue;var ij=K*24,W=B*24,L=C[ij],i=C[ij+1],e3=C[W],eE=C[W+1];
_+=O.Fi.getError(W,ij,C,1e99);var ec=e3-L,gw=eE-i;F[(R+gw)*2*g+(g+ec)]+=1}if(Q)console.log(Date.now()-$,"NN found");
$=Date.now();var bl=[],cD=1/(2*g);for(var l=0;l<F.length;l++){if(F[l]>0){var I=Math.floor(l*cD),x=l-I*2*g;
bl.push({x:x-g,y:I-R,Z:F[l],bT:-1})}}bl.sort(function(jK,ay){return ay.Z-jK.Z});var a$=new Int32Array(g*R),hJ=[];
for(var l=0;l<g*R;l++){if(A[l]==255){a$[l]=ei;hJ.push(l%g,Math.floor(l/g));ei++}else if(w[(l<<2)+3]<200){a$[l]=-2}else{a$[l]=-1}}var df=O.Fi.anA(g,R,bl,a$,hJ,ei);
if(df==null){return 3}var bM=df.Oz,top=df.top;bM=O.Fi.a69(bM,w,g,R,top,a$,hJ,ei);if(Q)console.log(Date.now()-$,"optimal labeling found");
$=Date.now();var q=c.clone();q.i_(1,1);q=q.Fa(T);var ib=O.R(q.O()*4),fI=O.R(q.O());O.j1(v,T,ib,q);var eU=T.m,gK=T.e;
for(var I=0;I<gK;I++)for(var x=0;x<eU;x++){if(Y[I*eU+x]==0)continue;var bs=Math.min(Math.floor(x/z),g-1),km=Math.min(Math.floor(I/z),R-1),aJ=a$[km*g+bs];
if(aJ==-1)continue;var ip=bM[aJ],fl=top[ip],b3=x+fl.x*z,dY=I+fl.y*z,k4=dY*eU+b3<<2,aK=(I-q.y+T.y)*q.m+(x-q.x+T.x)<<2;
ib[aK]=v[k4];ib[aK+1]=v[k4+1];ib[aK+2]=v[k4+2];ib[aK+3]=v[k4+3];ib[aK+3]=v[k4+3];fI[aK>>2]=ip+1}if(Q)console.log(Date.now()-$,"copied back");
$=Date.now();O.l6.Mh(ib,fI,q,null,1e3);if(Q)console.log(Date.now()-$,"poisson smooth");$=Date.now();
O.j1(ib,q,y,c);return 0};O.Fi.V3=function(w,n,H,y,c,Q){return O.Fi.d1(w+c.x,n+c.y,H,y)&&Q[(n+c.y)*H+(w+c.x)]==-1?0:1e9};
O.Fi.a69=function(w,n,H,y,top,c,Q,q){var S=Date.now(),A=[-1,0,0,-1,1,0,0,1],V=1e99,e=[],d=[],N=2*(q*2*3+q*2),b=null,z=0,v=0,T=0,Y=1e99;
while(!0&&Date.now()<S+12e3){T++;var g=null,R=V;for(var h=0;h<top.length;h++){var E=top[h],G=0,k=q+2,$=0;
for(var l=0;l<q;l++){var p=Q[l*2],X=Q[l*2+1],C=top[w[l]],D=O.Fi.V3(p,X,H,y,E,c),o=w[l]==h?1e9:O.Fi.V3(p,X,H,y,C,c);
for(var ds=0;ds<4;ds++){if(ds==0&&p==0||ds==1&&X==0||ds==2&&p==H-1||ds==3&&X==y-1)continue;var t=A[2*ds],u=A[2*ds+1],m=p+t,U=X+u,I=c[U*H+m];
if(I==-2){}else if(I==-1){D+=3*O.Fi.Tb(m+E.x,U+E.y,m,U,H,y,n,c);D+=2*O.Fi.Tb(m+E.x+t,U+E.y+u,m+t,U+u,H,y,n,c);
o+=3*O.Fi.Tb(m+C.x,U+C.y,m,U,H,y,n,c);o+=2*O.Fi.Tb(m+C.x+t,U+C.y+u,m+t,U+u,H,y,n,c)}else if(ds>1){if(w[l]==w[I]){var x=0;
x+=O.Fi.Tb(p+C.x,X+C.y,p+E.x,X+E.y,H,y,n,c);x+=O.Fi.Tb(m+C.x,U+C.y,m+E.x,U+E.y,H,y,n,c);e[G]=l;e[G+1]=I;
d[G]=x;d[G+1]=x;G+=2}else{var J=top[w[I]],r=k,Z=0,f=0,F=0;k++;Z+=O.Fi.Tb(p+C.x,X+C.y,p+E.x,X+E.y,H,y,n,c);
Z+=O.Fi.Tb(m+C.x,U+C.y,m+E.x,U+E.y,H,y,n,c);f+=O.Fi.Tb(p+J.x,X+J.y,p+E.x,X+E.y,H,y,n,c);f+=O.Fi.Tb(m+J.x,U+J.y,m+E.x,U+E.y,H,y,n,c);
F+=O.Fi.Tb(p+J.x,X+J.y,p+C.x,X+C.y,H,y,n,c);F+=O.Fi.Tb(m+J.x,U+J.y,m+C.x,U+C.y,H,y,n,c);e[G]=l;e[G+1]=r;
d[G]=Z;d[G+1]=Z;G+=2;e[G]=I;e[G+1]=r;d[G]=f;d[G+1]=f;G+=2;e[G]=r;e[G+1]=q+1;d[G]=F;d[G+1]=0;G+=2}}}e[G]=q;
e[G+1]=l;d[G]=D;d[G+1]=0;G+=2;e[G]=l;e[G+1]=q+1;d[G]=o;d[G+1]=0;G+=2;$+=Math.min(D,o)}if($>R)continue;
var _=O.OD.MR(k,G,q,q+1,e,d,R);if(_.Rk<R){R=_.Rk;var K=w.slice(0);O.Fi.aps(K,G,e,_.O1,h,q);g=K}}if(R*1>=V){break}V=R;
w=g;if((T&3)==0){if(R*1.03>=Y)break;Y=R}if((T&3)==0){var B=0*top.length;for(var l=0;l<top.length&&top.length>B;
l++){if(w.indexOf(l)!=-1)continue;top.splice(l,1);for(var I=0;I<w.length;I++)if(w[I]>l)w[I]--;l--}}}return w};
O.Fi.aps=function(w,n,H,y,c,Q){for(var l=0;l<y.length;l++){var q=y[l]<<1,S=0,A=0;if(q<n){S=H[q];A=H[q+1]}else{A=H[q];
S=H[q+1]}if(S==Q&&w[A]!=c)w[A]=c}};O.Fi.gL=function(top,w,n,H,y,c,Q,q,S){for(var l=0;l<n.length;l++){var A=n[l],V=!0;
if(q!=null&&!(O.Fi.d1(q+A.x,S+A.y,c,Q)&&H[c*(S+A.y)+q+A.x]==-1))continue;if(A.bT==-1)A.bT=O.Fi.aiZ(A,H,y,c,Q);
if(A.bT<=0)continue;for(var e=0;e<top.length;e++){var d=top[e],N=A.x-d.x,b=A.y-d.y;if(N*N+b*b<w){V=!1;
break}}if(V)return A}return null};O.Fi.aiZ=function(w,n,H,y,c){var Q=0;for(var l=0;l<H.length;l+=2){var q=H[l]+w.x,S=H[l+1]+w.y;
if(O.Fi.d1(q,S,y,c)&&n[y*S+q]==-1)Q++}return Q/(H.length>>1)};O.Fi.anA=function(w,n,H,y,c,Q){var top=[];
for(var l=0;l<60;l++){var q=O.Fi.gL(top,25,H,y,c,w,n);if(q==null)break;else top.push(q)}if(top.length==0)return null;
var S=[];for(var l=0;l<Q;l++){var A=c[l*2],V=c[l*2+1],e=-1,d=0;while(!0){d++;var N=Math.random();e=Math.floor(N*.99999*top.length);
var b=top[e],z=A+b.x,v=V+b.y;if(O.Fi.d1(z,v,w,n)&&y[v*w+z]==-1)break;if(d>100){var q;q=O.Fi.gL(top,0,H,y,c,w,n,A,V);
if(q==null)return null;top.push(q);d=0}}S.push(e)}return{top:top,Oz:S}};O.Fi.Tb=function(w,n,H,y,c,Q,q,S){if(w==H&&n==y)return 0;
if(w<0||n<0||w>=c||n>=Q||H<0||y<0||H>=c||y>=Q||S[n*c+w]!=-1||S[y*c+H]!=-1)return 1e7;var A=n*c+w<<2,V=y*c+H<<2,e=q[A]-q[V],d=q[A+1]-q[V+1],N=q[A+2]-q[V+2];
return 1+(e*e+d*d+N*N)};O.Fi.d1=function(w,n,H,y){return w>=0&&w<H&&n>=0&&n<y};O.Fi.a9V=function(w,n,H,y){var c=24*w,Q=n[c],q=n[c+1],S=y*y,A=0,N=1e9;
while(H[A]!=99)if(n[c+H[A]]<H[A+1])A=H[A+2];else A=H[A+3];var V=H[A+1],e=H[A+2],d=-1;for(var l=V;l<=e;
l++){var A=l,b=A*24,z=n[b],v=n[b+1];if((z-Q)*(z-Q)+(v-q)*(v-q)<S)continue;var T=O.Fi.getError(b,c,n,N);
if(T<N){N=T;d=A}}return d};O.Fi.getError=function(w,n,H,y){var c=0;for(var Q=4;Q<24;Q+=4){var q=H[n+Q]-H[w+Q],S=H[n+Q+1]-H[w+Q+1],A=H[n+Q+2]-H[w+Q+2],V=H[n+Q+3]-H[w+Q+3];
c+=q*q+S*S+A*A+V*V;if(c>=y)return c+1}return c};O.Fi.dx=function(w,n,H,y,c){var Q=16,N=0;if(n-w<=Q){H.push(99,w,n);
return}O.Fi.hH(w,n,y,c);var q=-1,S=-1;for(var l=4;l<24;l++){var A=c[2*l+1]-c[2*l];if(A>S){S=A;q=l}}var V=w+n>>1,e=O.Fi.apY(V,w,n,y,q),d=-1;
for(var l=w;l<=n;l++)if(y[24*l+q]==e){if(d==-1)d=l;N=l}if(w+8<d&&d-w>n-N)V=d;else if(N+1<n-8)V=N+1;else if(n-w<64){H.push(99,w,n);
return}else V=V;var b=H.length;H.push(q,e,0,0);H[b+2]=b+4;O.Fi.dx(w,V-1,H,y,c);H[b+3]=H.length;O.Fi.dx(V,n,H,y,c)};
O.Fi.hH=function(w,n,H,y){for(var l=0;l<48;l+=4){y[l]=3e4;y[l+1]=-3e4;y[l+2]=3e4;y[l+3]=-3e4}for(var l=w;
l<=n;l++){var c=l*24;for(var Q=0;Q<24;Q++){var q=H[c+Q],S=y[Q<<1],A=y[(Q<<1)+1];if(q<S)y[Q<<1]=q;if(q>A)y[(Q<<1)+1]=q}}};
O.Fi.EQ=function(w,n,H){var y=0,l=0;y=H[w+l];H[w+l]=H[n+l];H[n+l]=y;l++;y=H[w+l];H[w+l]=H[n+l];H[n+l]=y;
l++;y=H[w+l];H[w+l]=H[n+l];H[n+l]=y;l++;y=H[w+l];H[w+l]=H[n+l];H[n+l]=y;l++;y=H[w+l];H[w+l]=H[n+l];H[n+l]=y;
l++;y=H[w+l];H[w+l]=H[n+l];H[n+l]=y;l++;y=H[w+l];H[w+l]=H[n+l];H[n+l]=y;l++;y=H[w+l];H[w+l]=H[n+l];H[n+l]=y;
l++;y=H[w+l];H[w+l]=H[n+l];H[n+l]=y;l++;y=H[w+l];H[w+l]=H[n+l];H[n+l]=y;l++;y=H[w+l];H[w+l]=H[n+l];H[n+l]=y;
l++;y=H[w+l];H[w+l]=H[n+l];H[n+l]=y;l++;y=H[w+l];H[w+l]=H[n+l];H[n+l]=y;l++;y=H[w+l];H[w+l]=H[n+l];H[n+l]=y;
l++;y=H[w+l];H[w+l]=H[n+l];H[n+l]=y;l++;y=H[w+l];H[w+l]=H[n+l];H[n+l]=y;l++;y=H[w+l];H[w+l]=H[n+l];H[n+l]=y;
l++;y=H[w+l];H[w+l]=H[n+l];H[n+l]=y;l++;y=H[w+l];H[w+l]=H[n+l];H[n+l]=y;l++;y=H[w+l];H[w+l]=H[n+l];H[n+l]=y;
l++;y=H[w+l];H[w+l]=H[n+l];H[n+l]=y;l++;y=H[w+l];H[w+l]=H[n+l];H[n+l]=y;l++;y=H[w+l];H[w+l]=H[n+l];H[n+l]=y;
l++;y=H[w+l];H[w+l]=H[n+l];H[n+l]=y;l++};O.Fi.Au=function(w,n,H,y){var c=H+y>>>1,Q=w[24*c+n];while(H<=y){while(w[24*H+n]<Q)H++;
while(w[24*y+n]>Q)y--;if(H<=y){if(w[24*H+n]!=w[24*y+n])O.Fi.EQ(H*24,y*24,w);H++;y--}}return H};O.Fi.apY=function(w,n,H,y,c){var Q=0;
while(n!=H){Q=O.Fi.Au(y,c,n,H);if(w<Q)H=Q-1;else n=Q}return y[w*24+c]};O.Fi.Bq=function(w,n,H,y){for(var l=0;
l<y;l++)n[H+l]=w[l]};O.Fi.agz=function(w,n,H,y,c,Q,q,S,A){var V=(y-3)*c+(H-3),e=V<<2;for(var d=0;d<8;
d++){if(n[V]+n[V+1]+n[V+2]+n[V+3]+n[V+4]+n[V+5]+n[V+6]+n[V+7]!=0||w[e+3]<200||w[e+7]<200||w[e+11]<200||w[e+15]<200||w[e+19]<200||w[e+23]<200||w[e+27]<200||w[e+31]<200)return 1;
var l=d<<3;q[l+0]=w[e+0];S[l+0]=w[e+1];A[l+0]=w[e+2];q[l+1]=w[e+4];S[l+1]=w[e+5];A[l+1]=w[e+6];q[l+2]=w[e+8];
S[l+2]=w[e+9];A[l+2]=w[e+10];q[l+3]=w[e+12];S[l+3]=w[e+13];A[l+3]=w[e+14];q[l+4]=w[e+16];S[l+4]=w[e+17];
A[l+4]=w[e+18];q[l+5]=w[e+20];S[l+5]=w[e+21];A[l+5]=w[e+22];q[l+6]=w[e+24];S[l+6]=w[e+25];A[l+6]=w[e+26];
q[l+7]=w[e+28];S[l+7]=w[e+29];A[l+7]=w[e+30];e+=c<<2;V+=c}return 0};O.Fi.hd=function(w,n){n[0]=w[32]+w[0];
n[1]=w[33]+w[1];n[2]=w[34]+w[2];n[3]=w[35]+w[3];n[4]=w[36]+w[4];n[5]=w[37]+w[5];n[6]=w[38]+w[6];n[7]=w[39]+w[7];
n[8]=w[40]+w[8];n[9]=w[41]+w[9];n[10]=w[42]+w[10];n[11]=w[43]+w[11];n[12]=w[44]+w[12];n[13]=w[45]+w[13];
n[14]=w[46]+w[14];n[15]=w[47]+w[15];n[16]=w[48]+w[16];n[17]=w[49]+w[17];n[18]=w[50]+w[18];n[19]=w[51]+w[19];
n[20]=w[52]+w[20];n[21]=w[53]+w[21];n[22]=w[54]+w[22];n[23]=w[55]+w[23];n[24]=w[56]+w[24];n[25]=w[57]+w[25];
n[26]=w[58]+w[26];n[27]=w[59]+w[27];n[28]=w[60]+w[28];n[29]=w[61]+w[29];n[30]=w[62]+w[30];n[31]=w[63]+w[31];
n[32]=w[0]-w[32];n[33]=w[1]-w[33];n[34]=w[2]-w[34];n[35]=w[3]-w[35];n[36]=w[4]-w[36];n[37]=w[5]-w[37];
n[38]=w[6]-w[38];n[39]=w[7]-w[39];n[40]=w[8]-w[40];n[41]=w[9]-w[41];n[42]=w[10]-w[42];n[43]=w[11]-w[43];
n[44]=w[12]-w[44];n[45]=w[13]-w[45];n[46]=w[14]-w[46];n[47]=w[15]-w[47];n[48]=w[16]-w[48];n[49]=w[17]-w[49];
n[50]=w[18]-w[50];n[51]=w[19]-w[51];n[52]=w[20]-w[52];n[53]=w[21]-w[53];n[54]=w[22]-w[54];n[55]=w[23]-w[55];
n[56]=w[24]-w[56];n[57]=w[25]-w[57];n[58]=w[26]-w[58];n[59]=w[27]-w[59];n[60]=w[28]-w[60];n[61]=w[29]-w[61];
n[62]=w[30]-w[62];n[63]=w[31]-w[63];w[0]=n[16]+n[0];w[1]=n[17]+n[1];w[2]=n[18]+n[2];w[3]=n[19]+n[3];
w[4]=n[20]+n[4];w[5]=n[21]+n[5];w[6]=n[22]+n[6];w[7]=n[23]+n[7];w[8]=n[24]+n[8];w[9]=n[25]+n[9];w[10]=n[26]+n[10];
w[11]=n[27]+n[11];w[12]=n[28]+n[12];w[13]=n[29]+n[13];w[14]=n[30]+n[14];w[15]=n[31]+n[15];w[16]=n[0]-n[16];
w[17]=n[1]-n[17];w[18]=n[2]-n[18];w[19]=n[3]-n[19];w[20]=n[4]-n[20];w[21]=n[5]-n[21];w[22]=n[6]-n[22];
w[23]=n[7]-n[23];w[24]=n[8]-n[24];w[25]=n[9]-n[25];w[26]=n[10]-n[26];w[27]=n[11]-n[27];w[28]=n[12]-n[28];
w[29]=n[13]-n[29];w[30]=n[14]-n[30];w[31]=n[15]-n[31];n[0]=w[8]+w[0];n[1]=w[9]+w[1];n[2]=w[10]+w[2];
n[3]=w[11]+w[3];n[4]=w[12]+w[4];n[5]=w[13]+w[5];n[6]=w[14]+w[6];n[7]=w[15]+w[7];n[8]=w[0]-w[8];n[9]=w[1]-w[9];
n[10]=w[2]-w[10];n[11]=w[3]-w[11];n[12]=w[4]-w[12];n[13]=w[5]-w[13];n[14]=w[6]-w[14];n[15]=w[7]-w[15];
w[0]=n[4]+n[0];w[1]=n[5]+n[1];w[2]=n[6]+n[2];w[3]=n[7]+n[3];w[4]=n[0]-n[4];w[5]=n[1]-n[5];w[6]=n[2]-n[6];
w[7]=n[3]-n[7];w[8]=n[12]+n[8];w[9]=n[13]+n[9];w[10]=n[14]+n[10];w[11]=n[15]+n[11];w[12]=n[8]-n[12];
w[13]=n[9]-n[13];w[14]=n[10]-n[14];w[15]=n[11]-n[15];n[0]=w[2]+w[0];n[1]=w[3]+w[1];n[2]=w[0]-w[2];n[3]=w[1]-w[3];
n[4]=w[6]+w[4];n[5]=w[7]+w[5];n[6]=w[4]-w[6];n[7]=w[5]-w[7];n[8]=w[10]+w[8];n[9]=w[11]+w[9];n[10]=w[8]-w[10];
n[11]=w[9]-w[11];n[12]=w[14]+w[12];n[13]=w[15]+w[13];n[14]=w[12]-w[14];n[15]=w[13]-w[15];w[0]=n[1]+n[0];
w[1]=n[0]-n[1];w[2]=n[3]+n[2];w[3]=n[2]-n[3];w[4]=n[5]+n[4];w[5]=n[4]-n[5];w[6]=n[7]+n[6];w[7]=n[6]-n[7];
w[8]=n[9]+n[8];w[9]=n[8]-n[9];w[10]=n[11]+n[10];w[11]=n[10]-n[11];w[12]=n[13]+n[12];w[13]=n[12]-n[13];
w[14]=n[15]+n[14];w[15]=n[14]-n[15]};O.Fi.ahg=function(){var w="",ds=64,n="v",H="t",y="a",c=5,l,Q,q;
for(l=ds>>1;l>0;l>>=1,c--){for(Q=0;Q<ds;Q++){q=(Q>>c&1)!=0;if(q){w+=H+"["+Q+"] = "+n+"["+(-l+Q)+"] - "+n+"["+Q+"];  "}else{w+=H+"["+Q+"] = "+n+"["+(l+Q)+"] + "+n+"["+Q+"];  "}}y=n;
n=H;H=y;w+="\n"}console.log(w)};O.Fi.a4x=function(ds,w,n){var H=w,y=n,c=H,Q=0,l,S,A;while(ds>>Q!=2)Q++;
var q=Q;for(l=ds>>1;l>0;l>>=1,Q--){for(S=0;S<ds;S++){A=(S>>Q&1)!=0;if(A)y[S]=H[-l+S]-H[S];else y[S]=H[l+S]+H[S]}c=H;
H=y;y=c}if((q&1)==1)for(l=0;l<ds;l++)n[l]=H[l]};O.Or={};O.Or.d$=function(w,n,H,y,c,Q,q,S,A){var V=Date.now(),e=new Uint32Array(w.buffer),d=new Uint32Array(n.buffer),N=q/H,b=S/y,z=1/N,v=1/b,T=new Float64Array(2),Y=3,g=1/Y,R=1/(Y*Y),h=0,E=0,G=H,k=y;
if(c){h=c.x;E=c.y;G=c.m;k=c.e}for(var $=0;$<k;$++)for(var p=0;p<G;p++){var X=h+p,C=E+$,l=C*H+X,D=l<<1,o=l<<2;
O.Or.azt(Q,q,S,(X+.5)*N,(C+.5)*b,T);var t=T[0]*z,u=T[1]*v;if(t==0&&u==0)d[l]=e[l];else{O.K.y$(X+t+.5,C+u+.5,e,H,y,d,l,A)}}};
O.Or.azt=function(w,n,H,y,c,Q){y-=.499999;c-=.499999;var q=~~y,S=~~c,A=y-q,V=c-S,e=(1-V)*(1-A),d=(1-V)*A,N=V*(1-A),b=V*A,z=q<n-1?q+1:q,v=S<H-1?S+1:S,T=S*n+q<<1,Y=S*n+z<<1,g=v*n+q<<1,R=v*n+z<<1;
Q[0]=e*w[T]+d*w[Y]+N*w[g]+b*w[R];Q[1]=e*w[T+1]+d*w[Y+1]+N*w[g+1]+b*w[R+1]};O.Or.azZ=function(w,n,H,y,c){var Q=1/w,q=[-1,1,-w,w],S=y.length;
for(var A=0;A<S;A++){var l=y[A],V=l<<1,e=A<<1,d=~~(l*Q),N=l-w*d,b=H[V],z=H[V+1],v=0,T=0;if(N!=0&&N!=w-1){var Y=l-1<<1,g=l+1<<1,R=H[Y],h=H[g],E=H[Y+1],G=H[g+1],k=b-(R+h)*.5,$=z-(E+G)*.5;
v-=k*c;T-=$*c}if(d!=0&&d!=n-1){var Y=l-w<<1,g=l+w<<1,R=H[Y],h=H[g],E=H[Y+1],G=H[g+1],k=b-(R+h)*.5,$=z-(E+G)*.5;
v-=k*c;T-=$*c}H[V]=b+v;H[V+1]=z+T}};O.Or.as8=function(w,n){var H=w+","+n;if(O.Or.jL==H)return O.Or.QE;
var y=O.Or.QE=[];O.Or.jL=H;for(var l=0;l<=1e3;l++){var c=l*.001,Q=Math.sqrt(c),q=Math.exp(-4*Q),S=.96*(1-Q*Q),A=n*((1-w)*q+w*S);
y[l]=A}return y};O.Or.jL="";O.Or.QE=[];O.Or.ahJ=function(w,n,H,y,c,Q,q,S,A,V,e,d,N){var b=Math.max(0,Math.floor(c-q-1)),z=Math.min(n,Math.ceil(c+q+1)),v=Math.max(0,Math.floor(Q-q-1)),T=Math.min(H,Math.ceil(Q+q+1)),Y=2*n,g=q*q,R=1/q,h=0;
if(N&&(y==3||y==6))A=-A;var E=O.Or.as8(S,A);for(var G=v;G<T;G++)for(var k=b;k<z;k++){var l=G*n+k,$=l<<1,p=(c-k)*R,X=(Q-G)*R,C=p*p+X*X;
if(C<1){d[h]=l;var D=E[~~(C*1e3)];if(y==1){w[$]=w[$]*(1-D*.05);w[$+1]=w[$+1]*(1-D*.05)}else{var o=0,t=0,U,I,x,J;
if(y==0){o=V*D;t=e*D}else if(y==2){}else if(y==3){o=D*X;t=-D*p}else if(y==4){o=D*p;t=D*X}else if(y==5){o=-D*p;
t=-D*X}else if(y==6){o=e*D;t=-V*D}var u=w[$],m=w[$+1];if(k==0||k!=n-1&&o<0){U=1+w[$+2]-u;x=w[$+3]-m}else{U=u-w[$-2]+1;
x=m-w[$-1]}if(G==0||G!=H-1&&t<0){I=w[$+Y]-u;J=1+w[$+Y+1]-m}else{I=u-w[$-Y];J=m-w[$-Y+1]+1}w[$]=-(U*o+I*t-u);
w[$+1]=-(x*o+J*t-m)}h++}}};O.Or.a1t=function(w){var n=w[0],H=w[0],y=w[1],c=w[1];for(var l=0;l<w.length;
l+=2){var Q=w[l],q=w[l+1];if(Q<n)n=Q;else if(Q>H)H=Q;if(q<y)y=q;else if(q>c)c=q}return[n,y,H,c]};O.acR=function(w,n,H,y,c){function Q(L,i,e3,eE){return Math.sqrt((L-e3)*(L-e3)+(i-eE)*(i-eE))}function q(L,i){return L>=0&&L<n&&i>=0&&i<H}function S(L){if(L<0)return 0;
if(L>=n)return n-1;return L}function A(L){if(L<0)return 0;if(L>=H)return H-1;return L}function V(l,L){var i=L[3]*(1/255),e3=y[l]+L[0]*i;
if(e3>255)e3=255;y[l]=e3;e3=y[l+1]+L[1]*i;if(e3>255)e3=255;y[l+1]=e3;e3=y[l+2]+L[2]*i;if(e3>255)e3=255;
y[l+2]=e3}function e(L,i,e3){if(!r(L,i))return;if(e3[3]<0)e3[3]=0;V((i*n+L)*4,e3)}function d(L){var i=L.slice(0,3);
i[3]=0;return i}var N=n/800;function b(L){return Math.round(L*N)}function z(){for(var l=0;l<=300;l++){f[l]=v(l)}}function v(H){var L=.8,i=.2,e3=L*i,eE=H/60%2-1,ec=e3*(1-eE*eE),gw=i-e3,bl;
if(H<60){bl=[e3+gw,ec,0]}else if(H<120){bl=[ec,e3,0]}else if(H<180){bl=[0,e3,ec]}else if(H<240){bl=[0,ec,e3]}else if(H<300){bl=[ec,0,e3]}else{bl=[e3,0,ec]}return[(bl[0]+gw)*255,(bl[1]+gw)*255,(bl[2]+gw)*255]}function T(H){return f[~~H]}function Y(L){return 1-g(L)}function g(L){return L-~~L}function R(L,i,e3,eE){x(L,i,e3,0,i+1,1,eE)}function h(L,i,e3,eE,ec,gw){x(L,i,e3,0,eE,1,ec,gw)}function E(L){for(var l=0;
l<y.length;l+=4){V(l,L)}}function G(L,i,e3,eE,ec,gw,bl,cD){k(L,i,e3,eE,ec,1,gw,bl,cD)}function k(L,i,e3,eE,ec,gw,bl,cD,a$){if(gw==null)gw=.5;
if(bl==null)bl=0;if(cD==null)cD=0;if(a$==null)a$=!1;var hJ=L.x,ei=L.y,df=e3.slice(0),bM=~~(e3[3]*_);
eE=eE*_;if(!a$){i=J(i);ec=J(ec);bl=J(bl);cD=J(cD)}var ib=S(hJ-i),fI=S(hJ+i);for(var eU=ib;eU<=fI;eU++){var gK=eU-hJ,bs=Math.floor(Math.sqrt(i*i-gK*gK)),km=A(ei-bs),aJ=A(ei);
for(var ip=km;ip<=aJ;ip++){var fl=Q(eU,ip,hJ,ei);if(fl>i||fl<=i-ec)break;var b3=(fl-i+ec)/ec;df[3]=bM-eE*(gw==1?b3:Math.pow(b3,gw));
V((ip*n+eU)*4,df)}km=A(ei+bs);for(var ip=km;ip>aJ;ip--){var fl=Q(eU,ip,hJ,ei);if(fl>i||fl<=i-ec)break;
var b3=(fl-i+ec)/ec;df[3]=bM-eE*(gw==1?b3:Math.pow(b3,gw));V((ip*n+eU)*4,df)}}if(bl>0){x(L,i+bl,df,df[3],bl,1,0,0,!0)}if(cD>0){x(L,i-ec,Z(e3),-e3[3],cD,1,0,0,!0)}}function $(L,i,e3,eE,ec,gw){x(L,i,e3,e3[3],i+1,1,eE,ec,gw)}function p(L,i,e3,eE,ec){if(ec==null)ec=!1;
var gw=L.x,bl=L.y;eE*=_;if(!ec){i=J(i);e3=J(e3)}var cD=S(gw-i),a$=S(gw+i);for(var hJ=cD;hJ<a$;hJ++){var ei=hJ-gw,df=~~Math.sqrt(i*i-ei*ei),bM=A(bl-df),ib=A(bl);
for(var fI=bM;fI<=ib;fI++){var eU=Q(hJ,fI,gw,bl);if(eU>i||eU<=i-e3)break;var gK=(i-eU)/e3,bs=T(300*gK);
bs[3]=eE;V((fI*n+hJ)*4,bs)}bM=A(bl+df);for(var fI=bM;fI>ib;fI--){var eU=Q(hJ,fI,gw,bl);if(eU>i||eU<=i-e3)break;
var gK=(i-eU)/e3,bs=T(300*gK);bs[3]=eE;V((fI*n+hJ)*4,bs)}}}function X(F,L){var i=F.rN,e3=F.GI,eE=L.slice(0),ec=L[3]*_,gw=Math.abs(e3.y-i.y)>Math.abs(e3.x-i.x);
if(gw){var bl=i.x;i.x=i.y;i.y=bl;bl=e3.x;e3.x=e3.y;e3.y=bl}if(i.x>e3.x){var bl=i;i=e3;e3=bl}var cD=e3.x-i.x,a$=e3.y-i.y,hJ=cD==0?1:a$/cD,ei=Math.round(i.x),df=i.y+hJ*(ei-i.x),bM=Y(i.x+.5),ib=ei,fI=~~df;
if(gw){eE[3]=ec*Y(df)*bM;e(fI,ib,eE);eE[3]=ec*g(df)*bM;e(fI+1,ib,eE)}else{eE[3]=ec*Y(df)*bM;e(ib,fI,eE);
eE[3]=ec*g(df)*bM;e(ib,fI+1,eE)}var eU=df-hJ;ei=Math.round(e3.x);df=e3.y+hJ*(ei-e3.x);bM=g(e3.x+.5);
var gK=ei,bs=~~df;if(gw){eE[3]=ec*Y(df)*bM;e(bs,gK,eE);eE[3]=ec*g(df)*bM;e(bs+1,gK,eE)}else{eE[3]=ec*Y(df)*bM;
e(gK,bs,eE);eE[3]=ec*g(df)*bM;e(gK,bs+1,eE)}if(gw){for(var km=ib+1;km<=gK-1;km++){eE[3]=ec*Y(eU);e(~~eU,km,eE);
eE[3]=ec*g(eU);e(~~eU+1,km,eE);eU+=hJ}}else{for(var km=ib+1;km<=gK-1;km++){eE[3]=ec*Y(eU);e(km,~~eU,eE);
eE[3]=ec*g(eU);e(km,~~eU+1,eE);eU+=hJ}}}function C(L,i,e3,eE){for(var l=0;l<4;l++){var ec=L.Mq(i+1.3*l,e3);
X(ec,eE,1)}}function ce(L,i){this.x=Math.round(L);this.y=Math.round(i)}var D=Math.PI/180;ce.prototype.Mq=function(L,i){L=L*D;
var e3=this.x+i*Math.cos(L),eE=this.y+i*Math.sin(L);return new o(this.x,this.y,e3,eE)};ce.prototype.apN=function(L,i){L=L*D;
var e3=this.K_+i*Math.cos(L),eE=this.asG+i*Math.sin(L);return new ce(e3,eE)};function o(L,i,e3,eE){this.rN=new ce(L,i);
this.GI=new ce(e3,eE)}o.prototype.hw=function(L){var i=L*this.rN.x+(1-L)*this.GI.x,e3=L*this.rN.y+(1-L)*this.GI.y;
return new ce(i,e3)};var t=G,u=$,m=R,U=h,I=p,x=k,J=b,r=q,Z=d,f=[];z();for(var l=0;l<w.length;l++){y[l]=w[l]}var F=new o(n*c[2],H*c[3],n/2,H/2),_=c[1],K=[];
K[0]=function B(){var L=[80,40,15,60],e3=0,eE=0;m(F.hw(1.4),260,L,10);m(F.hw(1),100,[240,50,50,30],30);
u(F.hw(1),60,[255,40,0,40]);var i=[255,255,255,255];x(F.hw(1),70,i,i[3],58,.5);m(F.hw(1),12,i);i[3]=40;
t(F.hw(1),150,i,i[3],150);for(var l=0;l<40;l++){e3+=Math.random()*25;eE=Math.random()*J(300)+J(100);
var ec=F.hw(1).Mq(e3,eE);X(F.hw(1).Mq(e3,eE),[110,110,110,30])}u(F.hw(1),130,[255,255,255,8]);var gw=[170,30,23,70];
U(F.hw(1),70,gw,1,3,3);var bl=[60,60,130,40];m(F.hw(.47),44,bl,5);m(F.hw(.43),22,bl,3);bl[3]=16;m(F.hw(.53),15,bl,2);
var cD=[138,94,42,100];m(F.hw(.2),16,cD,2);var a$=[130,255,170,180];u(F.hw(0),4,a$);u(F.hw(-.25),5,a$);
cD=[150,90,0,50];t(F.hw(-.45),55,Z(cD),-cD[3],40,2);m(F.hw(-.42),35,cD,2);m(F.hw(-.5),15,cD,2);I(F.hw(-1.28),145,11,70);
var hJ=T(0);hJ[3]=50;t(F.hw(-1.28),149,hJ,hJ[3],4);hJ=T(300);hJ[3]=50;t(F.hw(-1.28),155-1,Z(hJ),-hJ[3],3);
var ei=[130,130,10,50];U(F.hw(-1),73,ei,3,2);var df=[40,130,70,40];t(F.hw(-1),70,Z(df),-df[3],35);df=[40,170,60,50];
m(F.hw(-.7),25,df,4);var df=[70,110,50,60];t(F.hw(1.3),30,Z(df),-df[3],11,3);bl=[0,50,210,80];u(F.hw(-.72),20,bl)};
K[1]=function ij(){u(F.hw(1),150,[240,70,70,60]);m(F.hw(1),100,[200,60,60,40],30);var L=[255,255,255,255],i=0,e3=0;
x(F.hw(1),75,L,L[3],63);m(F.hw(1),12,L);u(F.hw(1),270,[200,200,200,20],10);for(var l=0;l<10;l++){i+=10+Math.random()*40;
e3=Math.random()*J(250)+J(80);var eE=F.hw(1).Mq(i,e3);X(eE,[110,110,110,35])}i=5;e3=100;for(var l=0;
l<12;l++){i+=30;C(F.hw(1),i,e3,[90,90,90,40])}var ec=[150,40,23,100];U(F.hw(1),70,ec,1,3,3);var gw=[30,100,60,40];
u(F.hw(-.9),180,[255,255,255,20]);m(F.hw(-.9),140,gw,15);var bl=[170,80,25,15];U(F.hw(-.9),120,bl,1,4,4);
var cD=[110,240,190,200];u(F.hw(-.6),3,cD);cD[3]=100;u(F.hw(-.6),7,cD);var a$=[230,120,40,85];u(F.hw(-.73),9,a$);
var hJ=[60,60,190,50];m(F.hw(.3),28,hJ,6);hJ[3]=25;m(F.hw(.34),20,hJ,3)};K[2]=function W(){var L=[255,255,255,255],e3=0,eE=0;
m(F.hw(1),13,L);x(F.hw(1),150,L,L[3],137);var i=[120,80,35,20];m(F.hw(1.4),260,i,10);for(var l=0;l<40;
l++){e3+=5+Math.random()*30;eE=Math.random()*J(300);X(F.hw(1).Mq(e3,eE),[110,110,110,20])}var ec=[10,30,255,30];
m(F.hw(1),70,ec,50);var gw=[15,90,170,15];m(F.hw(1.5),60,gw);var bl=[220,220,20,50];m(F.hw(-1.15),8,bl,2);
var L=[255,255,255,40];u(F.hw(-1.18),6,L);u(F.hw(-1.18),4,L);bl=[110,110,10,8];t(F.hw(-1.2),32,Z(bl),-bl[3],20,3);
var cD=[5,0,16,255];for(var l=0;l<4;l++){m(F.hw(-1.36),10,cD,3)}var a$=[90,200,150,20],hJ=a$.slice(0);
hJ[3]*=2;m(F.hw(-1.32),7,hJ,3);m(F.hw(-1.36),7,hJ,3);m(F.hw(-1.4),7,hJ,3);var L=[230,230,230,100];u(F.hw(-1.36),2,L);
L[3]=3;m(F.hw(-.55),10,L);bl=[120,100,10,18];m(F.hw(-.55),160,bl,8);m(F.hw(-.55),80,bl,4);a$[3]=3;hJ[3]=6;
t(F.hw(-.49),13,Z(hJ),-hJ[3],13,2);t(F.hw(-.55),13,Z(hJ),-hJ[3],13,2);a$[3]=20;m(F.hw(.15),25,a$,3);
bl[3]=100;u(F.hw(-.52),3,bl);bl=[200,200,50,40];m(F.hw(.27),1,bl,4);var ei=[150,40,23,30];t(F.hw(1),80,Z(ei),-ei[3],2,1)};
return K[c[0]]()};O.Yx={};O.Yx.wf=function(w){var n=w.length,ds=w[0].length,H=new Array(ds);for(var l=0;
l<ds;l++)H[l]=new Array(n);for(var l=0;l<ds;l++)for(var y=0;y<n;y++)H[l][y]=w[y][l];return H};O.Yx.Hy=function(w,n){var H=w.length,ds=w[0].length,y=new Array(H);
for(var l=0;l<H;l++)y[l]=new Array(ds);for(var l=0;l<H;l++)for(var c=0;c<ds;c++)y[l][c]=w[l][c]-n[l][c];
return y};O.Yx.add=function(w,n){var H=w.length,ds=w[0].length,y=new Array(H);for(var l=0;l<H;l++)y[l]=new Array(ds);
for(var l=0;l<H;l++)for(var c=0;c<ds;c++)y[l][c]=w[l][c]+n[l][c];return y};O.Yx.multiply=function(w,n){var H=w.length,y=w[0].length,ds=n[0].length;
if(y!=n.length)throw"e";var c=new Array(H);for(var l=0;l<H;l++)c[l]=new Array(ds);if((y&1)!=0)for(var l=0;
l<H;l++){var Q=w[l],q=c[l];for(var S=0;S<ds;S++){var A=0;for(var V=0;V<y;V++)A+=Q[V]*n[V][S];q[S]=A}}else for(var l=0;
l<H;l++){var Q=w[l],q=c[l];for(var S=0;S<ds;S++){var A=0;for(var V=0;V<y;V+=2)A+=Q[V]*n[V][S]+Q[V+1]*n[V+1][S];
q[S]=A}}return c};O.Yx.RO=function(w,n){var H=w.length,ds=w[0].length,y=new Array(H);for(var l=0;l<H;
l++){var c=0;for(var Q=0;Q<ds;Q++)c+=w[l][Q]*n[Q];y[l]=c}return y};O.Yx.bQ=function(w,n){var H=[];for(var l=0;
l<w;l++){H.push([]);for(var y=0;y<n;y++)H[l].push(0)}return H};O.Yx.a5d=function(w){for(var l=0;l<w.length;
l++)console.log(JSON.stringify(w[l]))};O.Yx.a7J=function(w){var n=[];for(var l=0;l<w.length;l++)n.push(w[l].join(","));
return"["+n.join(";")+"]"};O.Yx.MR=function(w,n){var H=w.length;for(var y=0;y<H;y++){var c=0,Q=Number.NEGATIVE_INFINITY;
for(var l=y;l<H;l++)if(Math.abs(w[l][y])>Q){c=l;Q=Math.abs(w[l][y])}O.Yx.auN(w,y,c);for(var l=y+1;l<H;
l++){if(w[y][y]==0)return 1;var q=w[l][y]/w[y][y];for(var S=y;S<H+1;S++)w[l][S]-=w[y][S]*q}}for(var l=H-1;
l>=0;l--){if(w[l][l]==0)return 1;var A=w[l][H]/w[l][l];n[l]=A;for(var S=l-1;S>=0;S--){w[S][H]-=w[S][l]*A;
w[S][l]=0}}return 0};O.Yx.auN=function(w,n,H){var y=w[n];w[n]=w[H];w[H]=y};O.Yx.ad1=function(w){var n=w.length,H=O.Yx.bQ(n,n);
for(var l=0;l<n;l++)H[l][l]=w[l];return H};O.Yx.af3=function(w){var n=w.length,H=w[0].length,y=new Array(n);
for(var l=0;l<n;l++){y[l]=0;for(var c=0;c<H;c++)y[l]+=w[l][c];y[l]/=H}return y};O.Yx.OR=function(w){var n=0;
for(var l=0;l<w.length;l++)n+=w[l]*w[l];return Math.sqrt(n)};O.Rc={};O.Rc.O8=function(w){var n=~~(w+.5);
return n<0?0:n>255?255:n};O.Rc.transform=function(w,n,H){var y=O.Rc.O8,c=w.b.length;for(var l=0;l<c;
l++){var Q=w.b[l],q=w.J[l],S=w.k[l];n.b[l]=y(H[0]*Q+H[1]*q+H[2]*S+H[3]*255);n.J[l]=y(H[4]*Q+H[5]*q+H[6]*S+H[7]*255);
n.k[l]=y(H[8]*Q+H[9]*q+H[10]*S+H[11]*255)}};O.Rc.cA=function(w,n,H){var y=O.Rc.O8,c=w.length;for(var l=0;
l<c;l+=4){var Q=w[l],q=w[l+1],S=w[l+2];n[l]=y(H[0]*Q+H[1]*q+H[2]*S+H[3]*255);n[l+1]=y(H[4]*Q+H[5]*q+H[6]*S+H[7]*255);
n[l+2]=y(H[8]*Q+H[9]*q+H[10]*S+H[11]*255)}};O.Rc.Pl=function(w){var n=w[0]+w[1]+w[2],H=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1];
if(n==1){var y=w.indexOf(1);H[y]=H[y+4]=H[y+8]=1}else{H[0]=w[0];H[5]=w[1];H[10]=w[2]}return H};O.Rc.mf=function(w,n,H){return[1,0,0,w,0,1,0,n,0,0,1,H,0,0,0,1]};
O.Rc.kv=function(w,n,H){return[w,0,0,0,0,n,0,0,0,0,H,0,0,0,0,1]};O.Rc.a0Z=function(w){return[w[0],w[1],w[2],w[4],w[5],w[6],w[8],w[9],w[10]]};
O.Rc.Y2=function(w){return[w[0],w[1],w[2],0,w[3],w[4],w[5],0,w[6],w[7],w[8],0,0,0,0,1]};O.Rc.Qb=function(w,n){return[w[0]*n[0]+w[1]*n[1]+w[2]*n[2]+w[3]*n[3],w[4]*n[0]+w[5]*n[1]+w[6]*n[2]+w[7]*n[3],w[8]*n[0]+w[9]*n[1]+w[10]*n[2]+w[11]*n[3],w[12]*n[0]+w[13]*n[1]+w[14]*n[2]+w[15]*n[3]]};
O.Rc.wf=function(w){var n=[];n[0]=w[0];n[1]=w[4];n[2]=w[8];n[3]=w[12];n[4]=w[1];n[5]=w[5];n[6]=w[9];
n[7]=w[13];n[8]=w[2];n[9]=w[6];n[10]=w[10];n[11]=w[14];n[12]=w[3];n[13]=w[7];n[14]=w[11];n[15]=w[15];
return n};O.Rc.add=function(w,n){var H=w.slice(0);for(var l=0;l<16;l++)H[l]+=n[l];return H};O.Rc.multiply=function(w,n){var H=[];
H[0]=w[0]*n[0]+w[1]*n[4]+w[2]*n[8]+w[3]*n[12];H[1]=w[0]*n[1]+w[1]*n[5]+w[2]*n[9]+w[3]*n[13];H[2]=w[0]*n[2]+w[1]*n[6]+w[2]*n[10]+w[3]*n[14];
H[3]=w[0]*n[3]+w[1]*n[7]+w[2]*n[11]+w[3]*n[15];H[4]=w[4]*n[0]+w[5]*n[4]+w[6]*n[8]+w[7]*n[12];H[5]=w[4]*n[1]+w[5]*n[5]+w[6]*n[9]+w[7]*n[13];
H[6]=w[4]*n[2]+w[5]*n[6]+w[6]*n[10]+w[7]*n[14];H[7]=w[4]*n[3]+w[5]*n[7]+w[6]*n[11]+w[7]*n[15];H[8]=w[8]*n[0]+w[9]*n[4]+w[10]*n[8]+w[11]*n[12];
H[9]=w[8]*n[1]+w[9]*n[5]+w[10]*n[9]+w[11]*n[13];H[10]=w[8]*n[2]+w[9]*n[6]+w[10]*n[10]+w[11]*n[14];H[11]=w[8]*n[3]+w[9]*n[7]+w[10]*n[11]+w[11]*n[15];
H[12]=w[12]*n[0]+w[13]*n[4]+w[14]*n[8]+w[15]*n[12];H[13]=w[12]*n[1]+w[13]*n[5]+w[14]*n[9]+w[15]*n[13];
H[14]=w[12]*n[2]+w[13]*n[6]+w[14]*n[10]+w[15]*n[14];H[15]=w[12]*n[3]+w[13]*n[7]+w[14]*n[11]+w[15]*n[15];
return H};O.Rc.G$=function(w){var n=[];n[0]=w[5]*w[10]*w[15]-w[5]*w[14]*w[11]-w[6]*w[9]*w[15]+w[6]*w[13]*w[11]+w[7]*w[9]*w[14]-w[7]*w[13]*w[10];
n[1]=-w[1]*w[10]*w[15]+w[1]*w[14]*w[11]+w[2]*w[9]*w[15]-w[2]*w[13]*w[11]-w[3]*w[9]*w[14]+w[3]*w[13]*w[10];
n[2]=w[1]*w[6]*w[15]-w[1]*w[14]*w[7]-w[2]*w[5]*w[15]+w[2]*w[13]*w[7]+w[3]*w[5]*w[14]-w[3]*w[13]*w[6];
n[3]=-w[1]*w[6]*w[11]+w[1]*w[10]*w[7]+w[2]*w[5]*w[11]-w[2]*w[9]*w[7]-w[3]*w[5]*w[10]+w[3]*w[9]*w[6];
n[4]=-w[4]*w[10]*w[15]+w[4]*w[14]*w[11]+w[6]*w[8]*w[15]-w[6]*w[12]*w[11]-w[7]*w[8]*w[14]+w[7]*w[12]*w[10];
n[5]=w[0]*w[10]*w[15]-w[0]*w[14]*w[11]-w[2]*w[8]*w[15]+w[2]*w[12]*w[11]+w[3]*w[8]*w[14]-w[3]*w[12]*w[10];
n[6]=-w[0]*w[6]*w[15]+w[0]*w[14]*w[7]+w[2]*w[4]*w[15]-w[2]*w[12]*w[7]-w[3]*w[4]*w[14]+w[3]*w[12]*w[6];
n[7]=w[0]*w[6]*w[11]-w[0]*w[10]*w[7]-w[2]*w[4]*w[11]+w[2]*w[8]*w[7]+w[3]*w[4]*w[10]-w[3]*w[8]*w[6];n[8]=w[4]*w[9]*w[15]-w[4]*w[13]*w[11]-w[5]*w[8]*w[15]+w[5]*w[12]*w[11]+w[7]*w[8]*w[13]-w[7]*w[12]*w[9];
n[9]=-w[0]*w[9]*w[15]+w[0]*w[13]*w[11]+w[1]*w[8]*w[15]-w[1]*w[12]*w[11]-w[3]*w[8]*w[13]+w[3]*w[12]*w[9];
n[10]=w[0]*w[5]*w[15]-w[0]*w[13]*w[7]-w[1]*w[4]*w[15]+w[1]*w[12]*w[7]+w[3]*w[4]*w[13]-w[3]*w[12]*w[5];
n[11]=-w[0]*w[5]*w[11]+w[0]*w[9]*w[7]+w[1]*w[4]*w[11]-w[1]*w[8]*w[7]-w[3]*w[4]*w[9]+w[3]*w[8]*w[5];n[12]=-w[4]*w[9]*w[14]+w[4]*w[13]*w[10]+w[5]*w[8]*w[14]-w[5]*w[12]*w[10]-w[6]*w[8]*w[13]+w[6]*w[12]*w[9];
n[13]=w[0]*w[9]*w[14]-w[0]*w[13]*w[10]-w[1]*w[8]*w[14]+w[1]*w[12]*w[10]+w[2]*w[8]*w[13]-w[2]*w[12]*w[9];
n[14]=-w[0]*w[5]*w[14]+w[0]*w[13]*w[6]+w[1]*w[4]*w[14]-w[1]*w[12]*w[6]-w[2]*w[4]*w[13]+w[2]*w[12]*w[5];
n[15]=w[0]*w[5]*w[10]-w[0]*w[9]*w[6]-w[1]*w[4]*w[10]+w[1]*w[8]*w[6]+w[2]*w[4]*w[9]-w[2]*w[8]*w[5];var H=w[0]*n[0]+w[1]*n[4]+w[2]*n[8]+w[3]*n[12];
for(var l=0;l<16;l++)n[l]/=H;return n};O.Rc.ajG=function(w){var n=[],H=w[5]*w[10]*w[15]-w[5]*w[14]*w[11]-w[6]*w[9]*w[15]+w[6]*w[13]*w[11]+w[7]*w[9]*w[14]-w[7]*w[13]*w[10],y=-w[4]*w[10]*w[15]+w[4]*w[14]*w[11]+w[6]*w[8]*w[15]-w[6]*w[12]*w[11]-w[7]*w[8]*w[14]+w[7]*w[12]*w[10],c=w[4]*w[9]*w[15]-w[4]*w[13]*w[11]-w[5]*w[8]*w[15]+w[5]*w[12]*w[11]+w[7]*w[8]*w[13]-w[7]*w[12]*w[9],Q=-w[4]*w[9]*w[14]+w[4]*w[13]*w[10]+w[5]*w[8]*w[14]-w[5]*w[12]*w[10]-w[6]*w[8]*w[13]+w[6]*w[12]*w[9];
return w[0]*H+w[1]*y+w[2]*c+w[3]*Q};O.Rc.axS=function(w,n,H,y){var c=Math.sin(y),Q=Math.cos(y),q=1/Math.sqrt(w*w+n*n+H*H);
w*=q;n*=q;H*=q;return O.Rc.Y2([w*w*(1-Q)+Q,w*n*(1-Q)-H*c,w*H*(1-Q)+n*c,w*n*(1-Q)+H*c,n*n*(1-Q)+Q,n*H*(1-Q)-w*c,w*H*(1-Q)-n*c,n*H*(1-Q)+w*c,H*H*(1-Q)+Q])};
O.Rc.Z2=O.Rc.Y2([3.1338561,-1.6168667,-.4906146,-.9787684,1.9161415,.033454,.0719453,-.2289914,1.4052427]);
O.Rc.aeU=O.Rc.Y2([1.9624274,-.6105343,-.3413404,-.9787684,1.9161415,.033454,.0286869,-.1406752,1.3487655]);
O.Rc.yg=O.Rc.G$(O.Rc.Z2);O.OD={};O.OD.Gc=new Uint32Array(1);O.OD.ZS=function(w,n,H,y,c,Q){var q=new Uint32Array(w),S=0,A=O.OD.Gc;
if(A.length<n*4)O.OD.Gc=A=new Uint32Array(n*4);var V=new Float64Array(A.buffer);for(var l=0;l<n;l+=2){var e=c[l],d=c[l+1],N=Q[l],b=Q[l+1];
A[S]=d;V[S+2>>1]=N;A[S+1]=q[e];q[e]=S+1;S+=4;A[S]=e;V[S+2>>1]=b;A[S+1]=q[d];q[d]=S+1;S+=4}return{BC:A,a8w:V,ahV:q}};
O.OD.MR=function(w,n,H,y,c,Q,q){var S=1,A=O.OD.ZS(w,n,H,y,c,Q),V=A.BC,e=A.a8w,d=A.ahV,N=new Uint32Array(w),b=new O.OD.tN(w),v=1,h=0;
b.push(H);b.push(y);var z=new O.OD.tN(w),T=new Uint8Array(w),Y=new Uint32Array(w);T[H]=1;T[y]=2;var g=new Uint32Array(w),R=new Uint32Array(w);
R[H]=R[y]=0;g[H]=g[y]=1;while(!0){var E=-1,D=0,m=1e30;while(!b.me()&&E==-1){var G=b.top(),k=T[G],$=d[G]-1;
while($!=-1){var p=V[$],X=T[p],C=$^k-1<<2;if(e[C+2>>1]!=0){if(X==0){O.OD.M2(G,$,p,T,Y,R,g);b.push(p)}else if(X==k&&g[p]<=g[G]&&R[p]>R[G])O.OD.M2(G,$,p,T,Y,R,g);
else if(X!=k){E=C}}$=V[$+1]-1}if(E!=-1)break;b.pop()}if(E==-1){break}v++;var o=E;while(o!=-1){N[D]=o;
D++;o=Y[V[o^4]]-1}var t=D>>1;for(var l=0;l<t;l++){var u=N[l];N[l]=N[D-l-1];N[D-l-1]=u}o=Y[V[E]]-1;while(o!=-1){N[D]=o^4;
D++;o=Y[V[o^4]]-1}for(var l=0;l<D;l++)m=Math.min(m,e[N[l]+2>>1]);h+=m;if(h>=q)return{O1:null,Rk:h};for(var l=0;
l<D;l++){var U=N[l],I=U^4,G=V[I],p=V[U];e[U+2>>1]-=m;e[I+2>>1]+=m;if(e[U+2>>1]==0&&T[G]==T[p]){if(T[G]==1){Y[p]=0;
z.push(p)}if(T[G]==2){Y[G]=0;z.push(G)}}}while(!z.me()){var G=z.pop(),k=T[G],$=d[G]-1,x=k==1?4:0,J=0,r=0,Z=1e9;
while($!=-1){var p=V[$],f=$^4,C=$^x;if(T[p]==k&&e[C+2>>1]>0&&O.OD.ayn(p,H,y,Y,V,v,g,R)+1<Z){J=p;r=f;
Z=R[p]+1}$=V[$+1]-1}if(r!=0){O.OD.M2(J,r,G,T,Y,R,g);continue}$=d[G]-1;while($!=-1){var p=V[$],C=$^x;
if(T[p]==k){if(e[C+2>>1]>0){b.push(p)}if(Y[p]==$+1){Y[p]=0;z.push(p)}}$=V[$+1]-1}T[G]=0;b.remove(G)}}var F=[];
for(var l=0;l<n;l+=2){var G=c[l],p=c[l+1];if(T[G]==1&&T[p]!=1){F.push(l>>1)}if(T[p]==1&&T[G]!=1){F.push(n+l>>1)}}return{O1:F,Rk:h}};
O.OD.M2=function(w,n,H,y,c,Q,q){y[H]=y[w];c[H]=n+1;Q[H]=Q[w]+1;q[H]=q[w]};O.OD.ayn=function(w,n,H,y,c,Q,q,S){var A=w,V=y[w]-1,e=0;
while(V!=-1&&q[w]!=Q){w=c[V^4];V=y[w]-1;e++}if(V==-1&&w!=n&&w!=H)return 1e9;var d=S[w]+e;e=0;V=y[A]-1;
while(A!=w){S[A]=d-e;e++;q[A]=Q;A=c[V^4];V=y[A]-1}return d};O.OD.a5h=function(w,n,H,y,c,Q){var q=O.OD.ZS(w,n,H,y,c,Q),S=q.BC,A=q.a8w,V=q.ahV,e=0,d=0,N=new Uint32Array(w*2),b=new O.OD._2(w),z=0;
while(!0){b.reset();b.push(H);for(var l=0;l<w;l++)N[l<<1]=0;while(!b.me()){var v=b.pop(),T=V[v]-1;while(T!=-1){z=S[T];
if(N[z<<1]==0&&A[T+2>>1]>0&&z!=H){N[z<<1]=v+1;N[(z<<1)+1]=T;b.push(z)}T=S[T+1]-1}if(N[y<<1]!=0){break}}if(N[y<<1]==0){break}var Y=1e30;
z=y;while(!0){var g=N[z<<1]-1;if(g==-1)break;var R=N[(z<<1)+1];Y=Math.min(Y,A[R+2>>1]);z=g}z=y;while(!0){var g=N[z<<1]-1;
if(g==-1)break;var R=N[(z<<1)+1],h=R^4;A[R+2>>1]-=Y;A[h+2>>1]+=Y;z=g}e+=Y}var E=[];for(var l=0;l<n;l+=2){var g=c[l],z=c[l+1];
if((N[g<<1]!=0||g==H)&&N[z<<1]==0&&z!=H){E.push(l>>1)}if((N[z<<1]!=0||z==H)&&N[g<<1]==0&&g!=H){E.push(n+l>>1)}}return{O1:E,Rk:e}};
O.OD._2=function(w){w|=w>>1;w|=w>>2;w|=w>>4;w|=w>>8;w|=w>>16;this.U4=new Uint32Array(w+1);this.bZ=w;
this.Gy=0;this.lU=0};O.OD._2.prototype={push:function(w){var n=this.lU;this.U4[n]=w;this.lU=n+1&this.bZ},pop:function(){var w=this.Gy,n=this.U4[w];
this.Gy=w+1&this.bZ;return n},me:function(){return this.Gy==this.lU},reset:function(){this.Gy=0;this.lU=0}};
O.OD.tN=function(w){w|=w>>1;w|=w>>2;w|=w>>4;w|=w>>8;w|=w>>16;this.U4=new Uint32Array(w+1);this._a=new Uint32Array(w+1);
this.bZ=w;this.Gy=0;this.lU=0};O.OD.tN.prototype={top:function(){return this.U4[this.Gy]},aj6:function(){return this.U4[this.lU]},push:function(w){if(this._a[w]!=0)return;
this._a[w]=this.lU+1;var n=this.lU;this.U4[n]=w;this.lU=n+1&this.bZ},pop:function(){var w=this.Gy,n=this.U4[w];
this._a[n]=0;this.Gy=w+1&this.bZ;return n},me:function(){return this.Gy==this.lU},remove:function(w){var n=this._a[w]-1;
if(n==-1)return;this._a[w]=0;if(n==this.Gy){this.pop();return}var H=this.pop();this.U4[n]=H;this._a[H]=n+1},GJ:function(l){return l+this.bZ+1&this.bZ}};
O.OD.fZ=function(w,n,H){var y=O.OD.Au(w,n,H);if(n<y-1)O.OD.fZ(w,n,y-1);if(y<H)O.OD.fZ(w,y,H)};O.OD.Au=function(w,n,H){var y=w[n+H>>>1];
while(n<=H){while(w[n]<y)n++;while(w[H]>y)H--;if(n<=H){O.OD.EQ(w,n,H);n++;H--}}return n};O.OD.EQ=function(w,n,H){var y=w[n];
w[n]=w[H];w[H]=y};O.X={};O.X.Bf=function(w){for(var l=0;l<w.length;l++)O.X.d5(w,l)};O.X.d5=function(w,l){w[l].v.keyShapeInvalidated={t:"bool",v:!0}};
O.X.acx=function(w){for(var l=0;l<w.length;l++)w[l].v.keyOriginIndex.v=l};O.X.By=function(){return{t:"Objc",v:{classID:"null",keyOriginIndex:{t:"long",v:0},keyShapeInvalidated:{t:"bool",v:!0}}}};
O.X.sQ=function(w){w=w.v;var n={Rctn:2,Ln:4,Elps:5},H=n[w.classID],y=w.topLeft?O.X.VL(w):null,c=null,Q=0,q=[!1,!1,0,0,0];
if(H==4){var S=w.Strt.v,A=w.End.v;c=[S.Hrzn.v.val,S.Vrtc.v.val,A.Hrzn.v.val,A.Vrtc.v.val];Q=w.Wdth.v.val;
for(var l=0;l<2;l++){var V=w[l==0?"StrA":"EndA"];if(V==null)continue;V=V.v;q[l]=V.On.v;q[2]=V.Wdth.v;
q[3]=V.Lngt.v;q[4]=V.Cncv.v.val}}if(H==null)return null;return O.X.Nv(H,H==4?null:O.X.YT(w),y,c,Q,q)};
O.X.o9=function(w,n,H,y,c,Q,q){var S={classID:w,unitValueQuadVersion:{t:"long",v:1}};if(n)O.X.Cp(S,["Left","Top","Rght","Btom"],n);
if(H)O.X.Cp(S,["topLeft","topRight","bottomRight","bottomLeft"],H);if(w=="Ln"){S.Strt={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Pxl",val:y[0]}},Vrtc:{t:"UntF",v:{type:"#Pxl",val:y[1]}}}},S.End={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Pxl",val:y[2]}},Vrtc:{t:"UntF",v:{type:"#Pxl",val:y[3]}}}},S.Wdth={t:"UntF",v:{type:"#Pxl",val:c}};
for(var l=0;l<2;l++){var A=l==0?"StrA":"EndA";S[A]={t:"Objc",v:{classID:"cArw",On:{t:"bool",v:q[l]},Wdth:{t:"doub",v:q[2]},Lngt:{t:"doub",v:q[3]},Cncv:{t:"UntF",v:{type:"#Prc",val:q[4]}}}}}}if(Q)S.Nm={t:"TEXT",v:Q};
return{t:"Objc",v:S}};O.X.Fj=function(w,n){var H=O.X.Xf(w),y=w[2]-w[0],c=w[3]-w[1],Q=Math.sqrt(y*y+c*c),q=[0,0,Q,0,Q,n,0,n],S=new b7;
S.rotate(-H);S.translate(w[0],w[1]);O.p.D(q,S,q);return q};O.X.Nv=function(w,n,H,y,c,Q){var q=O.X.By(),S=q.v,A;
delete S.keyShapeInvalidated;S.keyOriginType={t:"long",v:w};S.keyOriginResolution={t:"doub",v:75};if(w==4){S.keyOriginLineStart={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:y[0]},Vrtc:{t:"doub",v:y[1]}}};
S.keyOriginLineEnd={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:y[2]},Vrtc:{t:"doub",v:y[3]}}};A=O.X.Fj(y,c);
var V=O.p.hH(A);n=[V.x,V.y,V.x+V.m,V.y+V.e];S.keyOriginLineWeight={t:"doub",v:c};if(Q)O.X.ahy(S,Q)}else A=[n[0],n[1],n[2],n[1],n[2],n[3],n[0],n[3]];
S.keyOriginBoxCorners={t:"Objc",v:{classID:"null"}};O.X.Tj(S,"keyOriginBoxCorners",A);var e={classID:"unitRect",unitValueQuadVersion:{t:"long",v:1}};
S.keyOriginShapeBBox={t:"Objc",v:e};O.X.FF(S,n);if(H!=null){var d={classID:"radii",unitValueQuadVersion:{t:"long",v:1}};
S.keyOriginRRectRadii={t:"Objc",v:d};O.X.qI(S,H)}return q};O.X.D=function(w,n,H,y){var c=O.K.eg(n),Q=O.K.C4(n),q=O.K.iK(n),S=q.iL*q.Du-q.k*q.Mg;
for(var l=0;l<w.length;l++){var A=w[l].v;if(!O.X.qw(A))continue;if(H.length!=0&&H.indexOf(l)==-1)continue;
var V=A.keyOriginType.v,e=n;if(S<0&&V==2){var d=O.X.h6(A),N=0;N=d[0];d[0]=d[1];d[1]=N;N=d[2];d[2]=d[3];
d[3]=N;O.X.qI(A,d);var b=O.X.$R(A,"keyOriginBoxCorners"),z=O.p.hH(b),v=z.x+z.m/2,T=new b7;T.translate(-v,0);
T.scale(-1,1);T.translate(v,0);e=O.K.dO(e,O.K.og(T))}var Y=["keyOriginPolyTrueRectCorners","keyOriginBoxCorners"];
for(var g=0;g<Y.length;g++){var b=O.X.$R(A,Y[g]);if(b==null)continue;O.K.D(e,b);O.X.Tj(A,Y[g],b);var z=O.p.hH(b);
O.X.FF(A,[z.x,z.y,z.x+z.m,z.y+z.e]);var R=new b7;R.rotate(-O.X.Xf(b));var E={classID:"Trnf"};A.Trnf={t:"Objc",v:E};
var G="xx xy yx yy tx ty".split(" "),k=[R.iL,R.k,R.Mg,R.Du,R.qH,R.fp];for(var $=0;$<6;$++)E[G[$]]={t:"doub",v:k[$]}}if(V==2&&y){var d=O.X.h6(A);
for(var g=0;g<4;g++)d[g]=Math.round(d[g]*n[0]);O.X.qI(A,d)}var b=O.X.$R(A,"keyOriginBoxCorners"),p=b[2]-b[0],X=b[3]-b[1],C=Math.sqrt(p*p+X*X);
p/=C;X/=C;var D=b[6]-b[0],o=b[7]-b[1],t=Math.sqrt(D*D+o*o);D/=t;o/=t;if(V==4){A.keyOriginLineWeight.v=t;
var u=O.X.ej(A);O.K.D(n,u);O.X.axu(A,u)}var m=p*D+X*o;if(Math.abs(m)>.001){O.X.d5(w,l)}}};O.X.qw=function(w){var n=w.keyShapeInvalidated,H=w.keyOriginType;
return(n==null||!n.v)&&H!=null&&H.v!=9};O.X.aik=function(w){var n=w.keyOriginType.v,H=O.X.$U(w),y=H[0],c=H[1],Q=H[2],q=H[3],S=new b7,A=w.keyOriginPolyCornerRadius,b;
A=A?A.v:0;var V=O.X.$R(w,n==7||n==8?"keyOriginPolyTrueRectCorners":"keyOriginBoxCorners"),e=O.X.jX(V),d=e[2],N=e[3];
y=-d/2;Q=d/2;c=-N/2;q=N/2;S.rotate(-O.X.Xf(V));S.qH=e[0];S.fp=e[1];if(n==1||n==2){var z=n==1?0:O.X.h6(w);
b=O.r.yj.Rect(y,c,Q-y,q-c,z)}else if(n==4){var v=O.X.ej(w),T=O.X.a23(w);S=new b7;if(T==null)b=O.r.yj.Ou(v[0],v[1],v[2],v[3],w.keyOriginLineWeight.v);
else b=O.r.yj.Ra(v[0],v[1],v[2],v[3],w.keyOriginLineWeight.v,T)}else if(n==5){b=O.r.yj.r1(y,c,Q-y,q-c)}else if(n==7||n==8){var Y=n==7?3:w.keyOriginPolySides.v;
b=O.r.yj.dW(0,0,100,Math.PI/Y-Math.PI/2,Y,A,Q,q)}O.r._R(b,S);return b};O.X.X8=function(w,n){var H=n.i;
for(var l=0;l<w.length;l++){var y=w[l].v;if(!O.X.qw(y))continue;var c=O.X.aik(y),Q=O.r.Pt(H,l),q=O.r.qE(H,l);
c[2].NB=H[Q].NB;var S=H;H=H.slice(0,Q);for(var A=2;A<c.length;A++)H.push(c[A]);for(var A=Q+q;A<S.length;
A++)H.push(S[A])}n.i=H;n.Yh=!0};O.X.gU=function(w){var n=1e9,H=-n,y=1e9,c=-y,Q=[],q=w._e(),S=q[0],A=q[1];
for(var V=0;V<A.length;V++){var e=S[A[V]],d=e.add.vogk;if(d==null)continue;var N=e.add.vmsk.g;for(var b=0;
b<d.length;b++){var z=d[b].v,Y=0;if(!O.X.qw(z))continue;if(A.length==1&&N.length!=0&&N.indexOf(b)==-1)continue;
var v=z.keyOriginType.v;if(v==9)continue;var T=O.X.$U(z);n=Math.min(n,T[0]);y=Math.min(y,T[1]);H=Math.max(H,T[2]);
c=Math.max(c,T[3]);var g=O.X.$R(z,"keyOriginBoxCorners");if(g){var R=O.X.jX(g),h=R[2],E=R[3];T[2]=T[0]+h;
T[3]=T[1]+E;Y=O.X.Xf(g)}var G=[v,T,Y];Q.push(G);if(v==2)G.push(O.X.h6(z));if(v==7||v==8)G.push(z.keyOriginPolyCornerRadius.v);
if(v==8)G.push(z.keyOriginPolySides.v)}}return Q.length==1?Q[0]:[0,n<H?[n,y,H,c]:null,0]};O.X.Xf=function(w){var n=w[2]-w[0],H=w[3]-w[1];
return-Math.atan2(-H,n)};O.X.Ps=function(w){var n=O.X.$U(w);return O.X.Xf(n)};O.X.a58=function(w,n,H){var y=O.X.gU(w),c=-1;
for(var l=0;l<n.length;l++)if(JSON.stringify(n[l])!=JSON.stringify(y[l]))c=l;if(c==1||c==2){}var Q=w._e(),q=Q[0],S=Q[1];
for(var A=0;A<S.length;A++){var V=q[S[A]],e=V.add.vogk;if(e==null)continue;var d=V.add.vmsk.g;for(var N=0;
N<e.length;N++){var b=e[N].v;if(!O.X.qw(b))continue;if(S.length==1&&d.length!=0&&d.indexOf(N)==-1)continue;
var z=b.keyOriginType.v;if(c==1||c==2){O.X.D(e,O.X.acb(c,b,y,n),d,!1);break}if(c==3)if(z==2)O.X.qI(b,n[3]);
else b.keyOriginPolyCornerRadius.v=n[3];if(c==4)b.keyOriginPolySides.v=n[4];if(H)O.X.d5(e,N)}}};O.X.acb=function(w,n,H,y){var c=y[1],Q=H[1],q=(c[2]-c[0])/(Q[2]-Q[0]),S=(c[3]-c[1])/(Q[3]-Q[1]),A=new b7;
if(w==1){if(Math.max(Math.abs(q-1),Math.abs(S-1))>1e-8){var V=c[0],e=c[1];if(y[0]!=0){var d=O.X.$R(n,"keyOriginBoxCorners");
V=d[0];e=d[1]}A.translate(-V,-e);A.rotate(y[2]);A.scale(q,S);A.rotate(-y[2]);A.translate(V,e)}else{A.translate(-Q[0],-Q[1]);
A.translate(c[0],c[1])}}else{if(y[0]!=0)c=O.X.$U(n);var V=(c[0]+c[2])/2,e=(c[1]+c[3])/2;A.translate(-V,-e);
if(H[0]!=0)A.rotate(H[2]);A.rotate(-y[2]);A.translate(V,e)}return O.K.og(A)};O.X.jX=function(w){var n=w[0],H=w[1],y=w[2],c=w[3],Q=w[4],q=w[5],S=w[6],A=w[7],V=y-n,e=c-H,d=Math.sqrt(V*V+e*e),V=Q-y,e=q-c,N=Math.sqrt(V*V+e*e);
return[(n+Q)/2,(H+q)/2,d,N]};O.X.$R=function(w,n){var H=w[n];if(H==null)return null;var y=[];H=H.v;for(var c=0;
c<4;c++){var Q=H["rectangleCorner"+["A","B","C","D"][c]].v;y.push(Q.Hrzn.v,Q.Vrtc.v)}return y};O.X.Tj=function(w,n,H){var y=w[n];
if(y==null)return null;y=y.v;for(var c=0;c<4;c++){var Q="rectangleCorner"+["A","B","C","D"][c];y[Q]={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:H[2*c]},Vrtc:{t:"doub",v:H[2*c+1]}}}}};
O.X.$U=function(w){return O.X.YT(w.keyOriginShapeBBox.v)};O.X.YT=function(w){var n=w.classID,H=w.Left.v,y=w.Rght.v,c=w.Top.v,Q=w.Btom.v;
if(H.val!=null){H=H.val;y=y.val;c=c.val;Q=Q.val}return[H,c,y,Q]};O.X.FF=function(w,n){O.X.Cp(w.keyOriginShapeBBox.v,["Left","Top","Rght","Btom"],n)};
O.X.h6=function(w){var n=w.keyOriginRRectRadii;if(n==null)return[0,0,0,0];return O.X.VL(n.v)};O.X.VL=function(w){var n=[],H=["topLeft","topRight","bottomRight","bottomLeft"];
for(var y=0;y<4;y++)n.push(w[H[y]].v.val);return n};O.X.qI=function(w,n){O.X.Cp(w.keyOriginRRectRadii.v,["topLeft","topRight","bottomRight","bottomLeft"],n)};
O.X.Cp=function(w,n,H){var y=w.classID;if(y=="unitRect"||y=="radii"||y=="Rctn"){for(var l=0;l<4;l++)if(H[l]!=null)w[n[l]]={t:"UntF",v:{type:"#Pxl",val:H[l]}}}else{for(var l=0;
l<4;l++)if(H[l]!=null)w[n[l]]={t:"doub",v:H[l]}}};O.X.ej=function(w){var n=w.keyOriginLineStart.v,H=w.keyOriginLineEnd.v;
return[n.Hrzn.v,n.Vrtc.v,H.Hrzn.v,H.Vrtc.v]};O.X.axu=function(w,n){var H=w.keyOriginLineStart.v,y=w.keyOriginLineEnd.v;
H.Hrzn.v=n[0];H.Vrtc.v=n[1];y.Hrzn.v=n[2];y.Vrtc.v=n[3]};O.X.a23=function(w){var n=[],H=["owSt","owEnd","Wdth","Lngth","Conc"];
for(var l=0;l<5;l++){var y=w["keyOriginLineArr"+H[l]];if(y==null)return null;n[l]=y.v}return n};O.X.ahy=function(w,n){w.keyOriginLineArrowSt={t:"bool",v:n[0]};
w.keyOriginLineArrowEnd={t:"bool",v:n[1]};w.keyOriginLineArrWdth={t:"doub",v:n[2]};w.keyOriginLineArrLngth={t:"doub",v:n[3]};
w.keyOriginLineArrConc={t:"long",v:n[4]}};O.X.akd=function(w){function n(k,$){return Math.abs(k-$)<.5}function H(k,$){return n(k.x,$.x)&&n(k.y,$.y)}function y(k,$,p,X,C,D,o){for(var l=0;
l<o;l++){var t=k[$+(p+l)%o],u=X[C+(D+l)%o];if(!(H(t.H,u.H)&&H(t.P7,u.P7)&&H(t.f$,u.f$)))return!1}return!0}var c=[],Q=O.r.xD(w);
for(var q=0;q<Q;q++){var S=null,A=O.r.Pt(w,q),V=w[A];if(V.length==4||V.length==8){var e=O.r.Ic(w.slice(0,2).concat(w.slice(A,A+V.length+1)));
A=2;if(V.length==4){var d=O.r.Rh(e,A+1,4),z=d.x,v=d.y,T=z+d.m,Y=v+d.e;if(d.O()>4){if(O.r.K3(e.slice(A-2,A+5)))S=O.X.Nv(2,[z,v,T,Y],[0,0,0,0]);
else{var g=-1;for(var l=0;l<4;l++)if(n(e[A+1+l].H.y,Y))g=l;if(g!=-1){var R=O.r.yj.r1(z,v,T-z,Y-v),h=y(e,A+1,g,R,3,0,4);
if(h)S=O.X.Nv(5,[z,v,T,Y])}}}}if(V.length==8){var d=O.r.Rh(e,A+1,8),z=d.x,v=d.y,T=z+d.m,Y=v+d.e;if(d.O()>4){var g=-1;
for(var l=0;l<8;l++)if(n(e[A+1+(l+1&7)].H.y,v)&&n(e[A+1+(l+2&7)].H.y,v))g=l;if(g!=-1){var E=Math.abs(e[A+1+g].H.y-v),G=[E,E,E,E];
if(E>.5){var R=O.r.yj.Rect(z,v,T-z,Y-v,G),h=y(e,A+1,g,R,3,0,8);if(h)S=O.X.Nv(2,[z,v,T,Y],G)}}}}}c.push(S?S:O.X.By())}return c};
O.p={};O.p.clone=function(w){return{T:w.T.slice(0),w:w.w.slice(0)}};O.p.nL=function(w){if(w.length<6)return!0;
var n=w.length-4;for(var l=0;l<n;l+=2)if(!O.p.Hn(w[l],w[l+1],w[l+2],w[l+3],w[l+4],w[l+5]))return!1;if(!O.p.Hn(w[n],w[n+1],w[n+2],w[n+3],w[0],w[1]))return!1;
if(!O.p.Hn(w[n+2],w[n+3],w[0],w[1],w[2],w[3]))return!1;return!0};O.p.Hn=function(w,n,H,y,c,Q){return(n-y)*(c-H)+(H-w)*(Q-y)>=0};
O.p.iw=function(w){var n={},H=null,y=0,c={M:2,L:2,Q:4,C:6},Q="",q="";for(var l=0;l<w.T.length;l++){var S=w.T[l];
if(S[0]=="#")Q=S;else if(S[0]=="X")Q="";else if(S[0]=="O"&&S[1]=="-")q=S;else if(S=="OX")q="";else{var A=Q+q;
H=n[A];if(H==null)H=n[A]={w:[],T:[]};H.T.push(S);var V=c[S];if(V==null)V=0;for(var e=0;e<V;e++)H.w.push(w.w[y+e]);
y+=V}}return n};O.p.LI=function(w,n,H){var y=w[n]-w[H-2],c=w[n+1]-w[H-1];return y*y+c*c<1e-4};O.p.KL=function(w,n,H){w=O.p.I6(w);
var y=w.w,c=w.T,Q=0,q="",S=0,A=0,Q=0,d=null;for(var l=0;l<c.length;l++){var V=c[l];if(V=="M"){S=y[Q];
A=y[Q+1];Q+=2;q=V}if(V=="C"){if(q=="Z"){c.splice(l,0,"M");y.splice(Q,0,S,A);l--;continue}Q+=6;q=V}if(V=="Z"){q=V}}var e=[];
Q=0;for(var l=0;l<c.length;l++){var V=c[l];if(V=="M"){d={qU:Q,WE:0,f8:!1};e.push(d);Q+=2}if(V=="C"){d.WE++;
Q+=6}if(V=="Z"&&d!=null){d.f8=!0}}var N=[];for(var l=0;l<e.length;l++)if(e[l].WE!=0)N.push(e[l]);e=N;
for(var l=0;l<e.length;l++){var b=e[l],z=b.qU,v=z+2+b.WE*6,Y=0;b.C5=O.p.hH(y,z,v);var T=O.p.LI(y,z,v);
for(var g=0;g<b.WE;g++){var R=z+g*6,h=R+6;Y+=(y[h]-y[R])*(y[h+1]+y[R+1])}if(b.WE==2){var E=function(ij,W,L){var i=1-L;
return i*i*i*ij[W]+3*i*i*L*ij[W+2]+3*i*L*L*ij[W+4]+L*L*L*ij[W+6]},G=y[z],k=y[z+1],$=y[z+6],p=y[z+7],X=y[z+6],C=y[z+7],D=E(y,z,.5),o=E(y,z+1,.5),t=E(y,z+6,.5),u=E(y,z+7,.5);
Y=(D-G)*(o-k)+($-D)*(p-o)+(t-$)*(u-p)+(X-t)*(C-u)}if(!T)Y+=(y[z]-y[v-2])*(y[z+1]+y[v-1]);b.A5=Y<=0}for(var l=0;
l<e.length-1;l++)for(var R=l+1;R<e.length;R++){var m=e[l],U=e[R];if(U.C5.n1(m.C5)){e[l]=U;e[R]=m}}var I=e.length==0?!0:e[0].A5,x=[{type:6},{type:8,all:0}];
for(var l=0;l<e.length;l++){var b=e[l],z=b.qU,v=z+2+b.WE*6,T=O.p.LI(y,z,v),J=b.f8||T?0:3,r=b.A5==I&&!n?1:0;
if(!n&&l!=0){if(e[l-1].C5.n1(b.C5)&&e[l-1].A5!=b.A5)r=0;for(var R=0;R<e.length;R++)if(R!=l&&e[R].C5.n1(b.C5))r=0}x.push({type:J,length:b.WE+(T?0:1),NB:H?1:r,P0:2});
for(var R=0;R<b.WE;R++){var Q=z+R*6,Z=new ce(y[Q],y[Q+1]),f=new ce(y[Q+2],y[Q+3]),F;if(R==0){if(T){F=new ce(y[v-4],y[v-3]);
if(ce.Re(F,Z)<1e-5)F=Z.clone()}else F=Z.clone()}else F=new ce(y[Q-2],y[Q-1]);x.push({type:J+2,P7:F,H:Z,f$:f})}if(!T){var _=new ce(y[v-2],y[v-1]);
x.push({type:J+2,P7:new ce(y[v-4],y[v-3]),H:_,f$:_.clone()})}}for(var R=0;R<x.length;R++){var K=x[R];
if(K.type>5||K.type==0||K.type==3)continue;var B=K.P7.Hw(K.H)||K.f$.Hw(K.f$);if(!B){var m=K.P7.x*(K.H.y-K.f$.y)+K.H.x*(K.f$.y-K.P7.y)+K.f$.x*(K.P7.y-K.H.y);
if(Math.abs(m)<1e-6)B=!0}if(B)K.type--}return x};O.p.A2=function(w,n){var H=O.r.xD(w),y=[];for(var l=2;
l<w.length;l++){var c=w[l].NB;if(c!=null){if(c==2||c==0||c==3||c==-1)y.push(c)}}var Q=y.length!=0;if((Q||n)&&w.length<15e3&&1<H&&H<200)w=O.r.Yv(w);
var q=O.p.$n(w);return{ad:q,nk:Q?1:0}};O.p.$n=function(){function w(y,c,Q,q){if(!q&&y.f$.Hw(y.H)&&c.P7.Hw(c.H)){Q.w.push(c.H.x,c.H.y);
Q.T.push("L")}else{var S=y.H,A=y.f$,V=c.P7,e=c.H,d=3/2*A.x-1/2*S.x,N=3/2*A.y-1/2*S.y,b=3/2*V.x-1/2*e.x,z=3/2*V.y-1/2*e.y,v=b-d,T=z-N;
if(!q&&v*v+T*T<.001){Q.w.push((d+b)*.5,(N+z)*.5,e.x,e.y);Q.T.push("Q")}else{Q.w.push(A.x,A.y,V.x,V.y,e.x,e.y);
Q.T.push("C")}}}function n(y,c,l,Q,q,S){var A=c[l];y.w.push(A.H.x,A.H.y);y.T.push("M");for(var V=l;V<l+Q-1;
V++)w(c[V],c[V+1],y,S);if(!q)w(c[V],c[l],y,S)}function H(y,c){y=O.r.Ic(y);if(c==null)c=!1;var Q={w:[],T:[]};
for(var l=0;l<y.length;l++){if(y[l].type>5)continue;var q=y[l].length;if(q==0)continue;if(l==y.length-1)break;
var S=y[l].type==3;n(Q,y,l+1,q,S,c);if(!S)Q.T.push("Z");l+=q}return Q}return H}();O.p.a5A=function(w){var n=w.w,H=[],y,c=0;
for(var l=0;l<w.T.length;l++){var Q=w.T[l];if(Q=="C"){y.push(n[c++],n[c++],n[c++],n[c++],n[c++],n[c++])}else if(Q=="Z"){}else{y=[];
if(Q!="M"){y.push(Q);l++}y.push(n[c++],n[c++]);H.push(y)}}return H};O.p.xA=function(w,n,H,y){if(y==null)y=1e9;
var c=1e9,Q=0;for(var l=0;l<w.length;l+=2){var q=n-w[l],S=H-w[l+1],A=q*q+S*S;if(A<c){c=A;Q=l>>>1}}return c<y*y?Q:-1};
O.p.Gu=function(w,n,H,y){for(var l=0;l<w.length;l+=2){var c=w[l],Q=w[l+1],q=n[l],S=n[l+1];H[l]=c+(q-c)*y;
H[l+1]=Q+(S-Q)*y}};O.p.D=function(w,n,H){for(var l=0;l<w.length;l+=2){var y=w[l],c=w[l+1];H[l]=y*n.iL+c*n.Mg+n.qH;
H[l+1]=y*n.k+c*n.Du+n.fp}};O.p.hH=function(w,n,H){if(n==null)n=0;if(H==null)H=w.length;var y=99999999999,c=-y,Q=99999999999,q=-Q;
for(var l=n;l<H;l+=2){var S=w[l],A=w[l+1];y=Math.min(y,S);Q=Math.min(Q,A);c=Math.max(c,S);q=Math.max(q,A)}return new cr(y,Q,c-y,q-Q)};
O.p.rf=function(w,n){var H=Math.max(n.x,Math.min(n.x+n.m,w.x)),y=Math.max(n.y,Math.min(n.y+n.e,w.y)),c=w.x-H,Q=w.y-y;
return Math.sqrt(c*c+Q*Q)};O.p.sb=function(w,n){var H=Math.floor,y=Math.ceil;if(n){H=Math.ceil;y=Math.floor}var c=H(w.x),Q=y(w.x+w.m),q=H(w.y),S=y(w.y+w.e);
return new cr(c,q,Q-c,S-q)};O.p.w1=function(w,n){return O.p.sb(O.p.hH(w),n)};O.p.u3=function(w,n){var H=w.x,y=w.y,c=w.x+w.m,Q=w.y+w.e,q=[H,y,c,y,c,Q,H,Q];
if(n){var S=n.clone();S.G$();O.p.D(q,S,q)}return{T:["M","L","L","L","Z"],w:q}};O.p.concat=function(w,n,H){if(H==null)H=new b7;
for(var l=0;l<n.w.length;l+=2){var y=n.w[l],c=n.w[l+1];w.w.push(y*H.iL+c*H.Mg+H.qH);w.w.push(y*H.k+c*H.Du+H.fp)}for(var l=0;
l<n.T.length;l++)w.T.push(n.T[l])};O.p.amY=function(w,n,H,y,c){function Q(N,b,z){return new ce(N.x*(1-z)+b.x*z,N.y*(1-z)+b.y*z)}var q=Q(w,n,c),S=Q(H,y,c),A=Q(n,H,c),V=Q(q,A,c),e=Q(A,S,c),d=Q(V,e,c);
return[q,V,d,e,S]};O.p.I6=function(w){var n=w.w,H=[],y=[],c=0,Q=0,q=0,S=0,A=0,V=0,e=0,d=0,N=0,b=0,z=0;
for(var l=0;l<w.T.length;l++){var v=w.T[l];if(v=="M"){Q=n[c];q=n[c+1];c+=2;y.push(v);H.push(Q,q);b=Q;
z=q}else if(v=="C"){S=n[c];A=n[c+1];V=n[c+2];e=n[c+3];d=n[c+4];N=n[c+5];c+=6;y.push(v);H.push(S,A,V,e,d,N);
Q=d;q=N}else if(v=="Q"){S=n[c];A=n[c+1];V=n[c+2];e=n[c+3];c+=4;var T=S-Q,Y=A-q,g=V-S,R=e-A;y.push("C");
H.push(Q+2/3*T,q+2/3*Y,S+1/3*g,A+1/3*R,V,e);Q=V;q=e}else if(v=="L"){S=n[c];A=n[c+1];c+=2;if(S!=Q||A!=q){y.push("C");
H.push(Q,q,S,A,S,A);Q=S;q=A}}else{if(v=="Z"){Q=b;q=z}y.push(v)}}return{T:y,w:H}};O.p.ahw=function(w){var n=w.w,H=[],y=[],c=0;
for(var l=0;l<w.T.length;l++){var Q=w.T[l];if(Q=="Q"){var q=n[c-2],S=n[c-1],A=n[c],V=n[c+1],e=n[c+2],d=n[c+3];
c+=4;var N=A-q,b=V-S,z=e-A,v=d-V;y.push("C");H.push(q+2/3*N,S+2/3*b,A+1/3*z,V+1/3*v,e,d)}else{var T=0;
if(Q=="M"||Q=="L")T=2;else if(Q=="C")T=6;for(var Y=0;Y<T;Y++)H.push(n[c+Y]);c+=T;y.push(Q)}}return{T:y,w:H}};
O.p.sn=function(w,n){var H=w.w,y=[],c=[],Q=0,q=0,S=0,A=0,V=0,e=0,d=0,N=0,b=0;for(var l=0;l<w.T.length;
l++){var z=w.T[l];if(z=="M"){q=H[Q];S=H[Q+1];Q+=2;c.push(z);y.push(q,S)}else if(z=="C"){A=H[Q];V=H[Q+1];
e=H[Q+2];d=H[Q+3];N=H[Q+4];b=H[Q+5];Q+=6;O.p.WR(q,S,A,V,e,d,N,b,n,c,y,0);q=N;S=b}else c.push(z)}return{T:c,w:y}};
O.p.WR=function(w,n,H,y,c,Q,q,S,A,V,e,d){var N=Math.sqrt((q-w)*(q-w)+(S-n)*(S-n)),b=Math.sqrt((q-c)*(q-c)+(S-Q)*(S-Q))+Math.sqrt((c-H)*(c-H)+(Q-y)*(Q-y))+Math.sqrt((H-w)*(H-w)+(y-n)*(y-n)),z=(N+b)/2;
if(z<=A){V.push("C");e.push(H,y,c,Q,q,S)}else{var v=0,T=0,Y=0,g=0,R=0,h=0,E=0,G=0,k=0,$=0,p=0,X=0,C=0;
T=(w+H)/2;Y=(n+y)/2;g=(H+c)/2;R=(y+Q)/2;h=(c+q)/2;E=(Q+S)/2;G=(T+g)/2;k=(Y+R)/2;$=(g+h)/2;p=(R+E)/2;
X=(G+$)/2;C=(k+p)/2;O.p.WR(w,n,T,Y,G,k,X,C,A,V,e,d+1);O.p.WR(X,C,$,p,h,E,q,S,A,V,e,d+1)}};O.p.lw=function(w,n,H,y,c){var Q=Date.now(),q=O.p.a5k(w,n,H);
if(c){console.log("trace polygons",Date.now()-Q);Q=Date.now()}var S=[];for(var l=0;l<q.length;l++){var A=q[l],V=A[0],e=["M"],d=w[V[1]*n+V[0]];
if(V.length>8)V=O.p.vT(V,y,A[1]);if(V.length<=4)continue;for(var N=2;N<V.length;N+=2)e.push("L");e.push("Z");
S.push({path:{w:V,T:e},color:d,parent:-1,C5:O.p.hH(V)})}if(c){console.log("simplify polygons",Date.now()-Q);
Q=Date.now()}for(var l=1;l<S.length;l++){var b=S[l],z=b.path.w,v=z[0],T=z[1],Y=z[2],g=z[3],R=Y-v,h=g-T,E=v+.5*R-.001*h,G=T+.5*h+.001*R;
for(var N=l-1;N>=0;N--){var k=S[N];if(!k.C5.n1(b.C5))continue;if(!jv.Sq(k.path.w,E,G))continue;b.parent=N;
break}}if(c){console.log("checking parents",Date.now()-Q);Q=Date.now()}return S};O.p.a5k=function(w,n,H){var y=n*H,c=new Uint16Array(n*H),q=0;
for(var l=0;l<y;l++)c[l]=w[l];var Q=new Uint8Array(n*H);Q[1*n+1]=Q[(H-1)*n+1]=Q[1*n+n-1]=Q[(H-1)*n+n-1]=1;
for(var S=1;S<H;S++)for(var A=1;A<n;A++){var l=S*n+A,V=c[l-n-1],e=c[l-n],d=c[l-1],N=c[l],b=V==N&&e==d&&V!=e,z=0;
if(N<d){q=N;N=d;d=q}if(d<e){q=d;d=e;e=q}if(e<V){q=e;e=V;V=q}if(N<d){q=N;N=d;d=q}if(d<e){q=d;d=e;e=q}if(N<d){q=N;
N=d;d=q}if(V!=e)z++;if(e!=d)z++;if(d!=N)z++;if(N!=V)z++;if(z>=3||b)Q[l]=1}var v=[];for(var S=1;S<H;S++)for(var A=1;
A<n;A++){var l=S*n+A;if(c[l]!=c[l-1]){var T=O.p.a3I(c,n,H,A,S),Y=[];for(var g=0;g<T.length;g+=2)if(Q[T[g+1]*n+T[g]]==1)Y.push(g>>>1);
v.push([T,Y]);O.p.bI(c,n,H,A,S)}}return v};O.p.bI=function(w,n,H,y,c){var Q=[c*n+y],q=w[c*n+y];w[c*n+y]=65535;
while(Q.length!=0){var l=Q.pop();w[l]=0;if(w[l+n]==q){Q.push(l+n);w[l+n]=65535}if(w[l-n]==q){Q.push(l-n);
w[l-n]=65535}if(w[l-1]==q){Q.push(l-1);w[l-1]=65535}if(w[l+1]==q){Q.push(l+1);w[l+1]=65535}}};O.p.a3I=function(w,n,H,y,c){var Q=[0,-1,1,0,0,1,-1,0],e=1;
function q(N,b,e){var l=V*n+A,z=0;if(e==0)z=l-n;else if(e==1)z=l;else if(e==2)z=l-1;else if(e==3)z=l-n-1;
return w[z]}var S=[],A=y,V=c,d=q(A,V,e);do{S.push(A,V);A+=Q[e*2];V+=Q[e*2+1];if(q(A,V,e)!=d)e=e+1&3;
else if(q(A,V,e+3&3)!=d)e=e;else if(q(A,V,e+2&3)!=d)e=e+3&3}while(A!=y||V!=c);return S};O.p.vT=function(w,n,H){var y=w.length-2;
if(H&&H.length!=0){var c=H[0]*2,Q=H[H.length-1]*2,q=c==0?y:c-2,S=w.slice(Q);for(var l=0;l<c;l++)S.push(w[l]);
if(c==Q)S.push(.9*w[c]+.1*w[q],.9*w[c+1]+.1*w[q+1]);else S.push(w[c],w[c+1]);S=O.p.W2(S,n);S.pop();S.pop();
for(var l=0;l<H.length-1;l++){var A=w.slice(H[l]*2,H[l+1]*2+2);A=O.p.W2(A,n);for(var V=0;V<A.length-2;
V++)S.push(A[V])}return S}var e=w.slice(0);e.push(.9*w[0]+.1*w[y],.9*w[1]+.1*w[y+1]);e=O.p.W2(e,n);e.pop();
e.pop();return e};O.p.W2=function(w,n){var H=w.length-2,y=w[0],c=w[1],Q=w[H],q=w[H+1],S=Q-y,A=q-c,V=1/Math.sqrt(S*S+A*A),e=Q*c-q*y,d=-1,N=-1,b=0;
for(var l=2;l<H;l+=2){var z=w[l],v=w[l+1],T=v*v*1e6+z*z,Y=Math.abs(A*z-S*v+e)*V;if(Y>N||Y==N&&T>b){N=Y;
d=l;b=T}}if(N<n)return[y,c,Q,q];var g=O.p.W2(w.slice(0,d+2),n),R=O.p.W2(w.slice(d),n);for(var l=2;l<R.length;
l++)g.push(R[l]);return g};O.p.a9o=function(){var w=function(y,c,Q,q,S,A){return(c-q)*(S-Q)+(Q-y)*(A-q)>=0},n=function(y,c,Q,q,S,A,V,e){var d=V-Q,N=e-q,b=S-Q,z=A-q,v=y-Q,T=c-q,Y=d*d+N*N,g=d*b+N*z,R=d*v+N*T,h=b*b+z*z,E=b*v+z*T,G=1/(Y*h-g*g),k=(h*R-g*E)*G,$=(Y*E-g*R)*G;
return k>=0&&$>=0&&k+$<1},H=function(y){var ds=y.length>>>1,l=0;if(ds<3)return[];var c=[],Q=[];for(var l=0;
l<ds;l++)Q.push(l);var q=ds;while(q>3){var S=Q[(l+0)%q],A=Q[(l+1)%q],V=Q[(l+2)%q],e=y[2*S],d=y[2*S+1],N=y[2*A],b=y[2*A+1],z=y[2*V],v=y[2*V+1],T=!1;
if(w(e,d,N,b,z,v)){T=!0;for(var Y=0;Y<q;Y++){var g=Q[Y];if(g==S||g==A||g==V)continue;if(n(y[2*g],y[2*g+1],e,d,N,b,z,v)){T=!1;
break}}}if(T){c.push(S,A,V);Q.splice((l+1)%q,1);q--;l=0}else if(l++>3*q)break}c.push(Q[0],Q[1],Q[2]);
return c};return H}();O.p.azp=function(w,n){var H={},y={T:[],w:[]};for(var l=0;l<n.length;l+=3){var c=n[l]*2,Q=n[l+1]*2,q=n[l+2]*2;
O.p.vz(w,c,Q,y,H);O.p.vz(w,c,q,y,H);O.p.vz(w,Q,q,y,H)}return y};O.p.vz=function(w,n,H,y,c){if(n>H){var Q=H;
H=n;n=Q}if(c[n+","+H])return;c[n+","+H]=!0;y.T.push("M","L");y.w.push(w[n],w[n+1],w[H],w[H+1])};O.p.Mj=function(w,n){var H=[],y=w.length;
for(var l=0;l<y;l+=2){var c=w[l],Q=w[l+1],q=w[(l+2)%y],S=w[(l+3)%y];if(S<Q){var A=Q;Q=S;S=A}if(Q<n&&n<S){var V=(n-Q)/(S-Q);
H.push(c+V*(q-c))}}H.sort(function(e,d){return e-d});return H};O.p.fD=function(w,n,H,y,c,Q,q){var S=w-H,A=n-y,V=c-H,e=Q-y,d=1/Math.sqrt(S*S+A*A),N=1/Math.sqrt(V*V+e*e),b=S*d,z=A*d,v=V*N,T=e*N,Y=z*q,g=-b*q,R=-T*q,h=v*q,E=O.p.NN(Y,g,b,z,R,h,v,T),G=Y+b*E,k=g+z*E,E=O.p.NN(0,0,b,z,G,k,-z,b),$=b*E,p=z*E;
return[Math.sqrt($*$+p*p),b,z,v,T]};O.p.aeo=function(w,n,H,y,c,Q,q){var S=O.p.fD(w,n,H,y,c,Q,q),A=S[0],V=S[1],e=S[2],d=S[3],N=S[4],b=Math.atan2(V*N-e*d,V*d+e*N);
if(b<0){b=b*-1}var z=Math.PI-b,v=4/3*Math.tan(z/4),T=H+A*V,Y=y+A*e,g=H+A*d,R=y+A*N,h=T+v*q*-V,E=Y+v*q*-e,G=g+v*q*-d,k=R+v*q*-N;
return[0,0,T,Y,h,E,G,k,g,R]};O.p.NN=function(w,n,H,y,c,Q,q,S){var A=q*(n-Q)-S*(w-c),V=S*H-q*y;if(V==0)return 0;
return A/V};O.p.amV=function(w,n,H,y,c,Q){return w*(y-Q)+H*(Q-n)+c*(n-y)};O.p.Be=function(w){function n(t,u,m,U,I,x,J,r,Z){var f=O.p.NN(t,u,m,U,I,x,J,r);
Z.push(t+m*f,u+U*f)}var H=[],y=w.length,c=[];for(var l=0;l<y;l+=2){var Q=l==0?y-2:l-2,q=l==y-2?0:l+2,S=w[l],A=w[l+1],V=S-w[Q],e=A-w[Q+1],d=w[q]-S,N=w[q+1]-A,b=Math.sqrt(V*V+e*e),z=Math.sqrt(d*d+N*N);
c.push(z);var v=b/(b+z),T=S-V*.5,Y=A-e*.5,g=S+d*.5,R=A+N*.5,h=(w[q]+w[Q])*.5,E=(w[q+1]+w[Q+1])*.5,G=T+v*(g-T),k=Y+v*(R-Y),$=S-G,p=A-k,X=(d*-V+N*-e)/(b*z),C=(v-.5)*7,D=1+C*v,o=1-C*(1-v);
H.push(T+$*D,Y+p*D,g+$*o,R+p*o)}return H};O.l6=function(){};O.l6.Mh=function(w,n,H,y,c){var Q=H.m,q=H.e,S=Q*q,A=new Int32Array(S),ds=0;
for(var l=0;l<S;l++)if(n[l]!=0){A[l]=ds;ds++}else if(w[(l<<2)+3]<200){A[l]=-2}else A[l]=-1;if(ds==0)return;
var V=new O.Fs(ds,ds),e=new Array(3*ds),d=new Array(3*ds);for(var l=0;l<d.length;l++)d[l]=e[l]=0;var N=1/255,b=[-Q,-1,1,Q],z=[],v=[];
for(var T=0;T<q;T++)for(var Y=0;Y<Q;Y++){var g=T*Q+Y,R=g<<2,l=A[g],h=l*3,E=0,G=0,k=0;if(l==-1||l==-2)continue;
for(var $=0;$<4;$++){if($==2){G=k;z[k]=0;v[k]=l;k++}var p=g+b[$],X=p<<2,C=A[p];if($==0&&T==0||$==1&&Y==0||$==2&&Y==Q-1||$==3&&T==q-1||C==-2)continue;
E++;if(C==-1){e[h+0]+=w[X+0];e[h+1]+=w[X+1];e[h+2]+=w[X+2]}else{z[k]=-1;v[k]=C;k++;if(n[g]==n[p]){e[h+0]+=w[R+0]-w[X+0];
e[h+1]+=w[R+1]-w[X+1];e[h+2]+=w[R+2]-w[X+2]}}}z[G]=E;V.Sc(z,v,k)}for(var l=0;l<S;l++)if(A[l]!=-1){var D=l<<2,o=A[l],t=o*3;
d[t]=w[D+0];d[t+1]=w[D+1];d[t+2]=w[D+2]}var u=Date.now();V.alm(d,e,y,c);console.log(Date.now()-u);for(var l=0;
l<S;l++){var o=A[l],m=o*3,D=l<<2;if(o==-1||w[D+3]!=255)continue;w[D+0]=~~(.5+Math.max(0,Math.min(255,d[m+0])));
w[D+1]=~~(.5+Math.max(0,Math.min(255,d[m+1])));w[D+2]=~~(.5+Math.max(0,Math.min(255,d[m+2])))}};O.rect={};
O.rect.BM=function(w,n){var H=[w],y=[];for(var l=0;l<n.length;l++){var c=n[l],Q=!1;for(var q=l+1;q<n.length;
q++){var S=n[q];if(S[0]<=c[0]&&S[1]<=c[1]&&c[2]<=S[2]&&c[3]<=S[3]){Q=!0;break}}if(!Q)y.push(c)}n=y;for(var l=0;
l<n.length;l++){var c=n[l];for(var q=0;q<H.length;q++){var S=H[q],A=Math.max(c[0],S[0]),V=Math.min(c[2],S[2]),e=Math.max(c[1],S[1]),d=Math.min(c[3],S[3]);
if(A<V&&e<d){var N=[];if(S[1]<c[1]){var b=S.slice(0);b[3]=c[1];N.push(b)}if(S[0]<c[0]){var z=S.slice(0);
z[1]=e;z[2]=c[0];N.push(z)}if(c[2]<S[2]){var v=S.slice(0);v[1]=e;v[0]=c[2];N.push(v)}if(c[3]<S[3]){var T=[A,d,V,S[3]];
N.push(T)}if(N.length!=0){H[q]=N[0];for(var Y=1;Y<N.length;Y++)H.push(N[Y])}}}H.push(c);H=O.rect.a31(H)}H.sort(function(c,S){return c[1]!=S[1]?c[1]-S[1]:c[0]-S[0]});
for(var l=1;l<H.length;l++){var c=H[l-1],S=H[l];if(c[0]==S[0]&&c[1]==S[1]&&c[2]==S[2]&&c[3]==S[3]){H.splice(c[4]==null?l-1:l,1);
l--}}return H};O.rect.a31=function(w){w=w.slice(0);for(var l=0;l<w.length;l++){var n=w[l],H=null;if(n[4]!=null)continue;
for(var y=0;y<w.length;y++){var c=w[y];if(l==y||c[4]!=null)continue;var Q=n[0]==c[0],q=n[1]==c[1],S=n[2]==c[2],A=n[3]==c[3];
if(q&&A&&(n[2]==c[0]||n[0]==c[2])){H=[Math.min(n[0],c[0]),n[1],Math.max(n[2],c[2]),n[3]]}if(Q&&S&&(n[3]==c[1]||n[1]==c[3])){H=[n[0],Math.min(n[1],c[1]),n[2],Math.max(n[3],c[3])]}if(H){w[l]=H;
w.splice(y,1);break}}if(H){l--}}return w};O.rect.XK=function(w){var n=new cr;for(var l=0;l<w.length;
l++)n=n.ld(w[l]);return n};O.rect.atk=function(w,n){var H=O.rect.XK,y=new UnionFind(w.length),G=1e3,k=1e3;
for(var l=0;l<w.length;l++)for(var c=l+1;c<w.length;c++){if(!n)continue;var Q=w[l],q=w[c],d=1e9,N=1e9;
if(Q.QW(q)){y.link(l,c);continue}var S=Q.x+Q.m,A=Q.y+Q.e,V=q.x+q.m,e=q.y+q.e;if((S<q.x||V<Q.x)&&(A<q.y||e<Q.y))continue;
if(!(A<q.y||e<Q.y))d=Math.min(Math.abs(S-q.x),Math.abs(Q.x-V));if(!(S<q.x||V<Q.x))N=Math.min(Math.abs(A-q.y),Math.abs(Q.y-e));
var b=Math.min(d,N),z=Math.min(Q.m,Q.e,q.m,q.e);if(b<.3*z)y.link(l,c)}var v=[],T={};for(var l=0;l<w.length;
l++){var Y=y.find(l),g=w[l];if(T[Y]==null){T[Y]=v.length;v.push([])}v[T[Y]].push(g)}var R=[],h=[];for(var l=0;
l<v.length;l++){R.push(H(v[l]));var E=H(v[l]);E.GJ=l;h.push(E)}h.sort(function(U,I){return Math.max(I.e,I.m)-Math.max(U.e,U.m)});
var $=new NETXUS.RectanglePacker(G,k);while(!0){var p=!1;$.reset(G,k);for(var l=0;l<h.length;l++){var X=$.findCoords(h[l].m,h[l].e);
if(X){h[l].x=X.x;h[l].y=X.y}else{G=Math.floor(G*1.1);k=Math.floor(k*1.1);p=!0;break}}if(p)continue;break}for(var l=0;
l<v.length;l++){var C=h[l],D=C.GJ,o=R[D],t=v[D],u=C.x-o.x,m=C.y-o.y;for(var c=0;c<t.length;c++)t[c].offset(u,m)}};
O.xr=function(){};O.xr.iY=Math.floor(16*window.devicePixelRatio);O.xr.b_={};O.xr.bw=0;O.xr.RH=[[12,76,2],[12,76,3],[12,76,4],[12,76,5],[12,76,6]];
O.xr.ayH=["px","in","cm","mm","%"];O.xr._Z=function(w,n,H,y){var c=[1,n,n/2.54,n/25.4,H/100][y];return w*c};
O.xr.a8R=function(w,n,H,y){var c=[1,n,n/2.54,n/25.4,H/100][y];return w/c};O.xr.To=function(w,n,H,y,c){var Q=H.al.GZ,q=[1,n,n/2.54,n/25.4,y/100][Q],S=[2,3,2,1,2][Q];
w=w/q;var A=Math.round(w),V=Q==0&&Math.abs(w-A)<1e-6?A+"":w.toFixed(S);if(c)V+=" "+O.xr.ayH[Q];return V};
O.xr.amw=function(w,n,H,y){var c=H.al.GZ,Q=[1,n,n/2.54,n/25.4,y/100][c];w=parseFloat(w)*Q;return w};
O.xr.ar5=function(w,n){var H=w+","+n;if(O.xr.b_.clr==H)return;var y=Math.round(O.xr.iY*.5);O.xr.bw=y;
var c=document.createElement("canvas");c.width=c.height=y;var Q=c.getContext("2d");Q.font=y*1.5+"px monospace";
var q="0 1 2 3 4 5 6 7 8 9 -".split(" ");for(var l=0;l<q.length;l++){Q.fillStyle="#"+O.w9(n);Q.fillRect(0,0,y,y);
Q.fillStyle="#"+O.w9(w);Q.fillText(q[l],0,y);O.xr.b_[q[l]]=Q.getImageData(0,0,y,y).data}O.xr.b_.clr=H};
O.xr.apG=function(w,n,H){var y=0,c=0,Q=4*O.xr.iY;for(var l=9;l>=0;l--){var q=Math.pow(10,l);if(5*q*w<=Q){y=5*q;
c=10;break}if(2*q*w<=Q){y=2*q;c=4;break}if(1*q*w<=Q){y=1*q;c=10;break}}if(y==0){y=1;c=10}var S=Math.ceil(y*w),A=O.R(S*O.xr.iY*4);
O.jZ(A,4278190080|H);for(var l=0;l<O.xr.iY;l++)O.xr.ur(A,4*l*S,n);for(var l=0;l<S;l++)O.xr.ur(A,4*((O.xr.iY-1)*S+l),n);
if(y==2)c=2;if(y==5)c=5;if(y>1||y==1&&S>20)for(var l=1;l<c;l++)O.xr.a6f(A,l*(S/c),S,(l&1)==1?.8:.7,n);
return{c1:A,step:y}};O.xr.a6f=function(w,n,H,y,c){var n=Math.round(n);for(var Q=Math.round(O.xr.iY*y);
Q<O.xr.iY-1;Q++)O.xr.ur(w,4*(Q*H+n),c)};O.xr.ur=function(w,n,H){w[n+0]=H>>16&255;w[n+1]=H>>8&255;w[n+2]=H&255};
O.xr.axq=function(w,n,H,y,c,Q,q){var S=w.GN.m,A=w.GN.e,V=O.xr.iY,e=n&255,d=n>>8&255,N=n>>16&255;n=Math.round(e*.6)<<16|Math.round(d*.6)<<8|Math.round(N*.6);
O.xr.ar5(Math.round(e*.8)<<16|Math.round(d*.8)<<8|Math.round(N*.8),H);var b=w.N,z=w.Q,v=w.db;for(var T=0;
T<2;T++){var Y=T==0?Q:q;w.N=Y[0];w.Q=Y[1];w.db=0;var g=this.apG(w.N,n,H),R=w.Sb(0,0),h=w.Sb(S,A),E=Math.floor(R.x/g.step)*g.step,G=Math.ceil(h.x/g.step)*g.step,k=Math.floor(R.y/g.step)*g.step,$=Math.ceil(h.y/g.step)*g.step,p=w.Cc(E,k),X=w.Cc(G,k),C=g.step*w.N,D=Math.ceil(C);
if(T==1){var o=g.c1;g.c1=O.R(o.length*4);O.K.wf(o,g.c1,D,V)}var t=T==0?w.FN.data:w.K2.data,u=new cr(0,0,[S,V][T],[V,A][T]),m=new cr(0,0,[D,V][T],[V,D][T]),U=new cr([0,Math.round(V*.2)][T],[Math.round(V*.08),0][T],O.xr.bw,O.xr.bw),I=(T==0?G-E:$-k)/g.step;
for(var l=0;l<I;l++){if(T==0)m.x=Math.round(p.x+l*C);else m.y=Math.round(p.y+l*C);O.j1(g.c1,m,t,u,m);
var x=(T==0?E+l*g.step:Math.abs(k+l*g.step)).toString(10);for(var J=0;J<x.length;J++){if(T==0)U.x=m.x+3+J*Math.round(O.xr.bw*.8);
else U.y=m.y+3+J*Math.round(O.xr.bw*1.15);var r=O.xr.b_[x[J]];O.j1(r,U,t,u,U)}}}w.N=b;w.Q=z;w.db=v;var Z=Math.floor(V*.6),f=new Uint32Array(w.FN.data.buffer),F=new Uint32Array(w.K2.data.buffer),_=e<128?4278190080:4294967295;
if(0<y&&y<S)for(var l=0;l<Z;l++)f[l*S+y]=_;if(0<c&&c<A)for(var l=0;l<Z;l++)F[c*V+l]=_};O.scale={};O.scale.F=document.createElement("canvas");
O.scale.NK=O.scale.F.getContext("2d");O.scale.AM=document.createElement("canvas");O.scale.b3=O.scale.AM.getContext("2d");
O.scale.yr=function(w,n,H){var y=O.scale.F,c=O.scale.NK;y.width=n;y.height=H;var Q=new ImageData(new Uint8ClampedArray(w.buffer),n,H);
c.putImageData(Q,0,0);return c.createPattern(y,"repeat")};O.scale.af5=function(w,n,H,y,c,Q,q,S,A){var V=O.scale.aie(w,H,y,c,Q,q,S,A).data;
if(n)O.Bq(V,n);return new Uint8Array(V.buffer)};O.scale.aie=function(w,n,H,y,c,Q,q,S){var A=O.scale.F,V=O.scale.NK;
A.width=n;A.height=H;V.rect(0,0,n,H);V.translate(Q,q);V.scale(y,c);if(S!=null)V.rotate(-S);V.fillStyle=w;
V.fill();return V.getImageData(0,0,n,H)};O.scale.D=function(w,n,H,y,c){var Q=H.k==0&&H.Mg==0,q=c.m,S=c.e,A=O.p.u3(n,H).w,V=O.p.w1(A,Q).Fa(c),e=V.x,d=V.y,N=e+V.m,b=d+V.e,z=~~n.x,v=~~n.y,T=~~n.m,Y=~~n.e;
if(Q)for(var g=d;g<b;g++){var R=H.Du*(g+.5)+H.fp-v,h=~~R*T;for(var E=e;E<N;E++){var G=H.iL*(E+.5)+H.qH-z;
y[g*q+E]=w[h+~~G]}}else for(var g=d;g<b;g++)for(var E=e;E<N;E++){var k=E+.5,$=g+.5,G=H.iL*k+H.Mg*$+H.qH-z,R=H.k*k+H.Du*$+H.fp-v;
if(0<=G&&0<=R&&G<T&&R<Y)y[g*q+E]=w[~~R*T+~~G]}};O.scale.c8=function(w,n,H,y,c,Q){var q=new Uint32Array(w.buffer),S=new Uint32Array(y.buffer),A=c.m,V=c.e,e=O.p.u3(n,H).w,d=Q?c:O.p.w1(e).Fa(c),N=d.x,b=d.y,z=N+d.m,v=b+d.e,T=~~n.x,Y=~~n.y,g=~~n.m,R=~~n.e;
for(var h=b;h<v;h++)for(var E=N;E<z;E++){var G=E+.5,k=h+.5,$=H.iL*G+H.Mg*k+H.qH-T,p=H.k*G+H.Du*k+H.fp-Y;
if(Q){$=((g<<10)+$)%g;p=((R<<10)+p)%R}if(0<=$&&0<=p&&$<g&&p<R)S[h*A+E]=q[~~p*g+~~$]}};O.scale.Zq=function(w,n,H,y,c,Q,q){if(q<1)O.scale.ara(w,n,H,y,c,Q,Math.round(1/q));
else O.scale.aoQ(w,n,H,y,c,Q,q)};O.scale.ou=function(w,n,H,y,c,Q,q,S){if(S)S=S.Fa(new cr(0,0,n,H));w=new Uint32Array(w.buffer);
y=new Uint32Array(y.buffer);if(q<1)O.scale.aaH(w,n,H,y,c,Q,Math.round(1/q),S);else O.scale.aqX(w,n,H,y,c,Q,q)};
O.scale.aoQ=function(w,n,H,y,c,Q,q){for(var S=0;S<H;S++)for(var A=0;A<n;A++){var V=w[S*n+A],e=Math.min(q,c-A*q),d=Math.min(q,Q-S*q);
for(var l=0;l<d;l++)for(var N=0;N<e;N++)y[(q*S+l)*c+q*A+N]=V}};O.scale.ara=function(w,n,H,y,c,Q,q){for(var S=0;
S<Q;S++)for(var A=0;A<c;A++){var V=0,e=Math.min(q,n-A*q),d=Math.min(q,H-S*q);for(var l=0;l<d;l++)for(var N=0;
N<e;N++)V+=w[(q*S+l)*n+(q*A+N)];y[S*c+A]=Math.round(V/(e*d))}};O.scale.aqX=function(w,n,H,y,c,Q,q){for(var S=0;
S<H;S++)for(var A=0;A<n;A++){var V=w[S*n+A],e=Math.min(q,c-A*q),d=Math.min(q,Q-S*q);for(var l=0;l<d;
l++)for(var N=0;N<e;N++)y[(q*S+l)*c+q*A+N]=V}};O.scale.a2n=function(w,n,H){return(w>>>H&255)+(n>>>H&255)>>>1};
O.scale.Jr=function(w,n){var H=O.scale.a2n;return H(w,n,24)<<24|H(w,n,16)<<16|H(w,n,8)<<8|H(w,n,0)};
O.scale.aad=function(w,n,H,y,c,Q){var q=new Uint32Array(w.buffer),S=new Uint32Array(y.buffer);for(var A=0;
A<H;A++){for(var V=0;V<n;V++){var e=A*n+V,d=q[e],N=d,b=d,z=d;if(V<n-1)N=O.scale.Jr(d,q[e+1]);if(A<H-1)b=O.scale.Jr(d,q[e+n]);
if(V<n-1&&A<H-1)z=O.scale.Jr(d,q[e+n+1]);var v=(A*c+V)*2;S[v]=d;S[v+1]=N;S[v+c]=b;S[v+c+1]=z}}if((c&1)==1)for(var A=0;
A<Q;A++)S[A*c+c-1]=S[A*c+c-2];var T=c*(Q-1);if((Q&1)==1)for(var V=0;V<c;V++)S[T+V]=S[T-c+V]};O.scale.aaH=function(w,n,H,y,c,Q,q,S){var A=0,V=c,e=0,d=Q;
if(S){A=Math.floor(S.x/q);V=Math.ceil((S.x+S.m)/q);e=Math.floor(S.y/q);d=Math.ceil((S.y+S.e)/q)}for(var N=e;
N<d;N++)for(var b=A;b<V;b++){var z=0,v=0,T=0,Y=0,g=Math.min(q,n-b*q),R=Math.min(q,H-N*q);for(var l=0;
l<R;l++)for(var h=0;h<g;h++){var E=w[(q*N+l)*n+q*b+h],G=E>>>24;z+=G;v+=G*(E>>>16&255);T+=G*(E>>>8&255);
Y+=G*(E&255)}if(z!=0){var k=1/z;y[N*c+b]=z/(g*R)<<24|v*k<<16|T*k<<8|Y*k}else y[N*c+b]=0}};O.P=function(){function w(S,A,l){return(128&S[l-A-1]&S[l-A]&S[l-2]&S[l-1]&S[l+1]&S[l+A-1]&S[l+A])==0}function n(S,A,l){return(128&S[l-A-A]&S[l-A+1]&S[l+2]&S[l+A+1]&S[l+A+A])==0}function H(S,A,l){return(S[l-A]&S[l-1]&S[l+1]&S[l+A]&128)==0}function y(S,l){return(S[l]&128)!=0}function c(S,A,V,e){var l=0,d=V.m,N=V.e;
if(e)for(var b=0;b<N;b++)for(var z=0;z<d;z++){if(y(S,l)&&(z<2||b<2||z>d-3||b>N-3||((S[l-1]&128)==0||A[l-1]!=0)&&w(S,d,l)||n(S,d,l)))A[l]=255;
l++}else for(var b=0;b<N;b++)for(var z=0;z<d;z++){if(y(S,l)&&(z==0||b==0||z==d-1||b==N-1||H(S,d,l)))A[l]=255;
l++}}function Q(S,A,V,e,d){var N=V.m,b=V.e,z=new Uint8Array(A.buffer),v=new Uint32Array(A.buffer);if(d)for(var T=2;
T<b-2;T++)for(var Y=2;Y<N-2;Y++){var l=T*N+Y;if(y(S,l)&&(((S[l-1]&128)==0||v[l-1]!=0)&&w(S,N,l)||n(S,N,l)))v[l]=e[(Y+T&4)>>>2]}else for(var T=1;
T<b-1;T++)for(var Y=1;Y<N-1;Y++){var l=T*N+Y;if(y(S,l)&&H(S,N,l)){v[l]=e[(Y+T&4)>>>2]}}}function q(S,A,V,e,d){var N=V.m,b=V.e,z=new Uint8Array(A.buffer),v=new Uint32Array(A.buffer),l=0;
if(e==1)for(var T=0;T<b;T++)for(var Y=0;Y<N;Y++,l++){var g=S[l];v[l]=255-g>>>1<<24|255}else for(var T=0;
T<b;T++)for(var Y=0;Y<N;Y++,l++){var g=S[l];v[l]=255<<24|(g<<16|g<<8|g)}}return{anV:c,ahp:Q,ahY:q}}();
O.w8={};O.w8.D9=function(w,n,H){var y,c;if(H==0){y=w.rect.clone();c=O.w8.axp}if(H==1){y=w.rect.ld(n.rect);
c=O.w8.ld}if(H==2){y=n.rect.clone();c=O.w8.a94}if(H==3){y=w.rect.Fa(n.rect);c=O.w8.Fa}if(H==4){y=w.rect.ld(n.rect);
c=O.w8.avc}if(y._G())return null;var Q=O.R(y.O());O.qS(n.channel,n.rect,Q,y);var q=O.R(y.O());O.qS(w.channel,w.rect,q,y);
c(q,Q,Q);var S=O.zX(Q,y);if(S._G())return null;if(!S.Hw(y)){var A=O.R(S.O());O.qS(Q,y,A,S);Q=A;y=S}return{channel:Q,rect:y}};
O.w8.axp=function(w,n,H){for(var l=0;l<w.length;l++)H[l]=w[l]};O.w8.ld=function(w,n,H){for(var l=0;l<w.length;
l++)H[l]=Math.min(w[l]+n[l],255)};O.w8.a94=function(w,n,H){for(var l=0;l<w.length;l++)H[l]=Math.max(n[l]-w[l],0)};
O.w8.Fa=function(w,n,H){var y=1/255;for(var l=0;l<w.length;l++)H[l]=w[l]*n[l]*y};O.w8.avc=function(w,n,H){var y=1/255;
for(var l=0;l<w.length;l++)H[l]=Math.min(w[l]+n[l],255)-w[l]*n[l]*y};O.Fs=function(w,n){this.c=[];this._x=[0];
this.xl=[];this.Qp=[];this.ev=[0];this.$v=[];this.jm=[];this.rows=w;this.cols=n};O.Fs.prototype.clone=function(){var w=this,n=w.rows,H=w.cols,y=new O.Fs(n,H);
y.c=w.c.slice(0);y._x=w._x.slice(0);y.xl=w.xl.slice(0);y.Qp=w.Qp.slice(0);y.ev=w.ev.slice(0);y.$v=w.$v.slice(0);
y.jm=w.jm.slice(0);return y};O.Fs.prototype.Sc=function(w,n,H){var y=this._x.length-1;for(var l=0;l<H;
l++){var c=w[l],Q=n[l];this.c.push(c);this.xl.push(Q);if(Q==y){this.jm.push(c==0?0:1/c)}else{this.Qp.push(c);
this.$v.push(Q)}}this._x.push(this.c.length);this.ev.push(this.Qp.length)};O.Fs.prototype.RO=function(w,n){var H=this,y=H.rows,c=H.c,Q=H.xl;
if(n==null)n=new Array(y);for(var l=0;l<y;l++){var q=H._x[l],S=H._x[l+1],A=0;while((S-q&3)!=0){A+=c[q]*w[Q[q]];
q++}for(var V=q;V<S;V+=4)A+=c[V]*w[Q[V]]+c[V+1]*w[Q[V+1]]+c[V+2]*w[Q[V+2]]+c[V+3]*w[Q[V+3]];n[l]=A}return n};
O.Fs.prototype.multiply=function(w){return this.ST(w.wf())};O.Fs.prototype.ST=function(w){var n=this,H=n.rows,y=n.cols,c=w.rows,Q=new O.Fs(H,c),q=n.xl,S=w.xl;
for(var l=0;l<H;l++){var A=[],V=[],e=n._x[l],d=n._x[l+1];for(var N=0;N<c;N++){var b=w._x[N],z=w._x[N+1],v=0,T=e,Y=b;
while(T<d&&Y<z){var g=Math.max(q[T],S[Y]);while(T<d&&q[T]<g)T++;while(Y<z&&S[Y]<g)Y++;if(T<d&&Y<z&&q[T]==S[Y])v+=n.c[T++]*w.c[Y++]}if(v!=0){A.push(v);
V.push(N)}}Q.Sc(A,V,A.length)}return Q};O.Fs.prototype.wf=function(){var w=this.rows,n=this.cols,H=[];
for(var l=0;l<n;l++)H.push([[],[]]);var y=this.c,c=this._x,Q=this.xl;for(var l=0;l<w;l++){var q=c[l],S=c[l+1];
for(var A=q;A<S;A++){var V=H[Q[A]];V[0].push(y[A]);V[1].push(l)}}var e=new O.Fs(n,w);for(var l=0;l<n;
l++)e.Sc(H[l][0],H[l][1],H[l][1].length);return e};O.Fs.prototype.a0=function(){var w=this.rows,n=this.cols,H=new Array(w),y=this.c,c=this._x,Q=this.xl;
for(var l=0;l<w;l++){var q=H[l]=new Array(n);for(var S=0;S<n;S++)q[S]=0;var A=c[l],V=c[l+1];for(var e=A;
e<V;e++)q[Q[e]]=y[e]}return H};O.Fs.prototype.Li=function(w,n,H,y,c){function Q(k,n,$,p){var X=k.length;
for(var l=0;l<X;l++)p[l]=k[l]-n[l]*$}function q(k,n,$,p){var X=k.length,C=0;while((X-C&3)!=0){p[C]=k[C]+n[C]*$;
C++}for(var l=C;l<X;l+=4){p[l]=k[l]+n[l]*$;p[l+1]=k[l+1]+n[l+1]*$;p[l+2]=k[l+2]+n[l+2]*$;p[l+3]=k[l+3]+n[l+3]*$}}function S(k,n,$){var p=k.length;
for(var l=0;l<p;l++)$[l]=k[l]*n[l]}function A(k,n){var $=k.length,p=0,X=0;while(($-p&3)!=0){X+=k[p]*n[p];
p++}for(var l=p;l<$;l+=4)X+=k[l]*n[l]+k[l+1]*n[l+1]+k[l+2]*n[l+2]+k[l+3]*n[l+3];return X}var V=y!=null?2:1,e=Date.now(),d=0,N=this,b=w.slice(0),z=w.slice(0);
N.RO(w,z);Q(n,z,1,b);var v=this.jm;if(V==0){v=b.slice(0);v.fill(1)}var T=b.slice(0);S(v,b,T);var Y=T.slice(0),g=A(b,T);
while(!0){N.RO(Y,z);var R=g/A(Y,z);q(w,Y,R,w);Q(b,z,R,b);if((d&7)==0&&Math.sqrt(A(b,b))<H)break;if(V<=1)S(v,b,T);
else{var h=b.slice(0);y.abr(h,b);c.aj_(T,h)}var E=A(b,T),G=E/g;q(T,Y,G,Y);g=E;d++}};O.Fs.prototype.arv=function(w,n,H,y){var c=Date.now(),Q=1.96,S=0;
if(H==null)H=5e-6;if(y==null)y=1e9;var q=1-Q,ds=this.rows,A=this.Qp,V=this.ev,e=this.$v,d=this.jm;while(!0){var N=0;
for(var l=0;l<ds;l++){var b=n[l],z=V[l],v=V[l+1];if(v-z==4)b-=A[z]*w[e[z]]+A[z+1]*w[e[z+1]]+A[z+2]*w[e[z+2]]+A[z+3]*w[e[z+3]];
else for(var T=z;T<v;T++)b-=A[T]*w[e[T]];var Y=w[l]*q+d[l]*b*Q,g=Y-w[l];N+=g*g;w[l]=Y}if(N/ds<H||Date.now()>c+y)break}};
O.Fs.prototype.alm=function(w,n,H,y){var c=Date.now(),Q=1.96,S=0;if(H==null)H=5e-5;if(y==null)y=1e9;
var q=1-Q,ds=this.rows,A=this.Qp,V=this.ev,e=this.$v,d=this.jm;while(!0){var N=0;for(var l=0;l<ds;l++){var b=l*3,z=n[b],v=n[b+1],T=n[b+2],Y=V[l],g=V[l+1];
for(var R=Y;R<g;R++){var h=A[R],E=e[R]*3;z-=h*w[E+0];v-=h*w[E+1];T-=h*w[E+2]}var G=d[l]*Q,k=w[b+0]*q+z*G,$=w[b+1]*q+v*G,p=w[b+2]*q+T*G,X=k-w[b+0],C=$-w[b+1],D=p-w[b+2];
N+=.4*X*X+.5*C*C+.1*D*D;w[b+0]=k;w[b+1]=$;w[b+2]=p}if(N/ds<H||Date.now()>c+y)break}};O.hT={};O.hT.UH=function(w,n,H){return{t:"Objc",v:{classID:"CrPt",Hrzn:{t:"doub",v:w},Vrtc:{t:"doub",v:n},Cnty:{t:"bool",v:H}}}};
O.hT.D=function(w,n){for(var l=0;l<w.length;l++){var H=w[l].v,y=n.rY(new ce(H.Hrzn.v,H.Vrtc.v));H.Hrzn.v=Math.round(y.x);
H.Vrtc.v=Math.round(y.y)}};O.hT.no=function(w,n,H){var ds=w.length-1,y=O.Yx.bQ(ds+1,ds+2);for(var l=1;
l<ds;l++){y[l][l-1]=1/(w[l]-w[l-1]);y[l][l]=2*(1/(w[l]-w[l-1])+1/(w[l+1]-w[l]));y[l][l+1]=1/(w[l+1]-w[l]);
y[l][ds+1]=3*((n[l]-n[l-1])/((w[l]-w[l-1])*(w[l]-w[l-1]))+(n[l+1]-n[l])/((w[l+1]-w[l])*(w[l+1]-w[l])))}y[0][0]=2/(w[1]-w[0]);
y[0][1]=1/(w[1]-w[0]);y[0][ds+1]=3*(n[1]-n[0])/((w[1]-w[0])*(w[1]-w[0]));y[ds][ds-1]=1/(w[ds]-w[ds-1]);
y[ds][ds]=2/(w[ds]-w[ds-1]);y[ds][ds+1]=3*(n[ds]-n[ds-1])/((w[ds]-w[ds-1])*(w[ds]-w[ds-1]));O.Yx.MR(y,H)};
O.hT.axI=function(w,n,H,y){if(w<=n[0])return H[0];if(w>=n[n.length-1])return H[n.length-1];var l=1;while(n[l]<w)l++;
var c=n[l],Q=n[l-1],q=H[l],S=H[l-1],A=(w-Q)/(c-Q),V=y[l-1]*(c-Q)-(q-S),e=-y[l]*(c-Q)+(q-S),d=(1-A)*S+A*q+A*(1-A)*(V*(1-A)+e*A);
return d};O.hT.G7=function(w,n,H,y){var c={Qr:[w[0]],r6:[n[0]],Lg:[]};y[0]=c;for(var l=1;l<w.length-1;
l++){c.Qr.push(w[l]);c.r6.push(n[l]);if(H[l]==!1){O.hT.no(c.Qr,c.r6,c.Lg);c={Qr:[w[l]],r6:[n[l]],Lg:[]}}y[l]=c}c.Qr.push(w[l]);
c.r6.push(n[l]);O.hT.no(c.Qr,c.r6,c.Lg);y[l]=c};O.hT.r$=function(w,n,H,y){if(w<=n[0])return H[0];if(w>=n[n.length-1])return H[n.length-1];
var l=1;while(n[l]<w)l++;var c=y[l-1];return O.hT.axI(w,c.Qr,c.r6,c.Lg)};O.hT.tQ=function(w){var n={Qr:[],r6:[],ie:[]};
for(var l=0;l<w.length;l++){n.Qr[l]=w[l].v.Hrzn.v;n.r6[l]=w[l].v.Vrtc.v;n.ie[l]=w[l].v.Cnty?w[l].v.Cnty.v:!0}return n};
O.hT.ea=function(w,ds,n){var H=0,y=255;if(n){H=-1e9;y=1e9}var c=O.hT.tQ(w),Q=[];O.hT.G7(c.Qr,c.r6,c.ie,Q);
var q=[];for(var l=0;l<ds;l++)q[l]=1/255*Math.max(H,Math.min(y,O.hT.r$(l*(255/(ds-1)),c.Qr,c.r6,Q)));
return q};O.hT.ago=function(w,ds,n){var H=Math.round(w.length/20),y=ds-w.length,c=n?(w[H]-w[0])/H:0,Q=n?w[0]-y*c:w[w.length-1],q=[];
for(var l=0;l<y;l++)q.push(Q+l*c);return n?q.concat(w):w.concat(q)};O.hT.b8=function(w,ds,n){var H=O.hT.tQ(w),y=[];
O.hT.G7(H.Qr,H.r6,H.ie,y);var c=new Uint8Array(ds),Q=ds/256;for(var l=0;l<ds;l++)c[l]=Math.max(0,Math.min(ds-1,O.hT.r$(l*Q,H.Qr,H.r6,y)));
if(n){c[0]=0;if(c[1]>100)c[1]=.4*c[1];if(c[2]>150)c[1]=.7*c[2]}return c};O.hT.uj=function(w,n){var H=new Uint8Array(w.length);
for(var l=0;l<w.length;l++)H[l]=n[w[l]];return H};O.hT.zT=function(w,n,H){var y=document.createElement("canvas");
y.width=n;y.height=H;var c=y.getContext("2d"),Q=O.hT.b8(w,256);c.scale(n/255,H/255);c.fillStyle="#fff";
c.fillRect(0,0,255,255);c.fillStyle="#333";c.beginPath();c.moveTo(0,255);for(var l=0;l<Q.length;l++)c.lineTo(l,255-Q[l]);
c.lineTo(255,255);c.closePath();c.fill();return y.toDataURL()};O.style={};O.style.stroke=function(w,n,H,y){var c=H.m,Q=H.e,q=new Float64Array(c*Q);
O.style.Od(w,q,c,Q);O.style.Hg(n,H,q,H,y)};O.style.Hg=function(w,n,H,y,c){var Q=n.Fa(y),q=Q.m,S=Q.e;
c+=.5;var A=Q.x-n.x,V=Q.y-n.y,e=n.m,d=Q.x-y.x,N=Q.y-y.y,b=y.m;for(var z=0;z<S;z++){var v=(z+N)*b+d,T=(z+V)*e+A;
for(var Y=0;Y<q;Y++){var g=Math.max(0,Math.min(1,c-H[v+Y]));w[T+Y]=Math.round(g*255)}}};O.style.ays=function(w,n,H,y){for(var c=0;
c<H;c++)for(var Q=0;Q<n;Q++){var q=c*n+Q,S=0,A=0,V=w[q];if(Q==0||c==0){S=w[q+1]-V;A=w[q+n]-V}else if(Q==H-1||c==n-1){S=V-w[q-1];
A=V-w[q-n]}else{S=w[q+1]-w[q-1];A=w[q+n]-w[q-n]}if(S!=0||A!=0){var e=1/Math.sqrt(S*S+A*A);S*=e;A*=e}y[q+q]=S;
y[q+q+1]=A}};O.style.Od=function(w,n,H,y){var c=0,Q=H*y;for(var l=0;l<Q;l++)c|=w[l];if(c==0){n.fill(1e9);
return}var q=O.style.C6(w,H,y);for(var S=0;S<y;S++)for(var A=0;A<H;A++){var l=S*H+A,V=q[l*2],e=q[l*2+1],d=(S+e)*H+A+V;
if(V==0&&e==0){n[l]=0;continue}var N=Math.sqrt(V*V+e*e),b=w[d]*(1/255),z=1/N,v=Math.abs(V)*z,T=Math.abs(e)*z;
if(T>v){var Y=T;T=v;v=Y}n[l]=N+O.style.alr(v,T,b)}};O.style.alr=function(w,n,H){return(.5-H)*w};O.style.C6=function(w,n,H,y){var c=new Int16Array(n*H*2);
O.style.a4e(w,c,n,H,128);return c};O.style.a4e=function(w,n,H,y,c){var Q=new Int32Array(H*y);O.style.avP(w,Q,H,y,c);
O.style.aqb(Q,n,H,y)};O.style.avP=function(w,n,H,y,c){var Q=new Int32Array(y);for(var q=0;q<H;q++){var S=H+y;
for(var A=y-1;A>=0;A--){if(w[A*H+q]>c)S=0;else S++;Q[A]=S}S=H+y;for(var A=0;A<y;A++){if(w[A*H+q]>c)S=0;
else S++;n[A*H+q]=S<Q[A]?-S:Q[A]}}};O.style.aqb=function(w,n,H,y){var c=(H+y)*(H+y),Q=new Float64Array(H),q=new Uint16Array(H);
for(var S=0;S<y;S++){var A=S*H,V=0;q[0]=0;Q[0]=-c;Q[1]=+c;for(var e=1;e<H;e++){var d=w[e+A]*w[e+A]+e*e,N=(d-(w[q[V]+A]*w[q[V]+A]+q[V]*q[V]))/(2*e-2*q[V]);
while(N<=Q[V]){V--;N=(d-(w[q[V]+A]*w[q[V]+A]+q[V]*q[V]))/(2*e-2*q[V])}V++;q[V]=e;Q[V]=N;Q[V+1]=c}V=0;
for(var e=0;e<H;e++){while(Q[V+1]<e)V++;var b=q[V]-e,z=w[q[V]+A],l=S*H+e<<1;n[l]=b;n[l+1]=z}}};O.style.Wl=function(w,n,H){if(H)for(var l=0;
l<w.length;l++){var y=w[l];if(y>0)w[l]=Math.max(0,Math.min(255,y+n*2*(O.style.bj(l)-128)))}else for(var l=0;
l<w.length;l++){var y=w[l];if(y>0)w[l]=Math.max(0,Math.min(255,y+Math.min(y*3,n*2*(O.style.bj(l)-128))))}};
O.style.bj=function(w){w=w^61^w>>16;w=w+(w<<3);w=w^w>>4;w=w*668265261;w=w^w>>15;return w&255};O.mM={};
O.mM.e$=function(w,n,H){var y=w.canvas;if(y.width!=n||y.height!=H){y.width=n;y.height=H}};O.mM.pq=function(w,n,H,y,c,Q){O.mM.e$(w,n,H);
if(Q==null)Q=!1;var q=c.channel,S=c.rect,A=!c.isEnabled;if(n*H==0)return;var V=w.createImageData(n,H),e=V.data,d=1/n,N=1/H;
for(var l=0;l<H;l++)for(var b=0;b<n;b++){var z=l*n+b,v=z*4,T=Math.round(y.x+b*d*y.m),Y=Math.round(y.y+l*N*y.e),g=0;
if(T<S.x||T>=S.x+S.m||Y<S.y||Y>=S.y+S.e)g=c.color;else g=q[(Y-S.y)*S.m+(T-S.x)];g=255*(255-c.qC)+g*c.qC>>>8;
if(Q)g=170+Math.round(.4*(g-170));e[v]=g;e[v+1]=g;e[v+2]=g;e[v+3]=255}w.putImageData(V,0,0);if(A)O.mM.JR(w,n,H)};
O.mM.lA=[];O.mM.auw=function(w,n,H,y){var c,Q,q;c=Math.ceil(Math.max(n,H)*.35);Q=n-c;q=H-c;var S=O.mM.lA[c];
if(S==null){var A=O.Ke(c,c);A.fillStyle="#eeeeee";A.fillRect(0,0,c,c);var V=Math.round(c*.27),e=A.lineWidth=Math.max(1,Math.round(c*.12)),d=e/2;
A.strokeRect(1+d,1+d,c-e-2,c-e-2);A.strokeRect(V+d,V+d,c-V-V-e,c-V-V-e);S=O.mM.lA[c]=A.getImageData(0,0,c,c)}w.putImageData(S,Q,q)};
O.mM.n$=[];O.mM.atP=function(w,n,H){var y,c,Q;y=Math.ceil(Math.max(n,H)*.35);c=n-y;Q=H-y;var q=O.mM.n$[y];
if(q==null){var S=O.Ke(y,y);S.fillStyle="#eeeeee";S.fillRect(0,0,y,y);S.lineWidth=1;S.strokeRect(2.5,2.5,y-5,y-5);
var A=S.createImageData(3,3);O.jZ(A.data,4278190080);A.data[4*4]=A.data[4*4+1]=A.data[4*4+2]=238;S.putImageData(A,1,1);
S.putImageData(A,y-4,1);S.putImageData(A,1,y-4);S.putImageData(A,y-4,y-4);q=O.mM.n$[y]=S.getImageData(0,0,y,y)}w.putImageData(q,c,Q)};
O.mM.a9B=function(w,n,H,y,c){O.mM.e$(w,n,H);var Q=n/y.m;if(n*H==0)return;w.fillStyle="#999999";w.setTransform(1,0,0,1,0,0);
w.clearRect(0,0,n,H);var q=O.mM.D2;if(q==null){q=O.mM.D2=JSON.parse(JSON.stringify(d5.Ed.default));q.strokeEnabled.v=!0}q.strokeStyleLineWidth.v.val=1/Q;
w.fillStyle="#ffffff";w.scale(Q,Q);O.r.xc(c.i,w,0,0);O.r.xc(c.i,w,0,0,q)};O.mM.rv=null;O.mM.nf=function(w,n,H,y,c,Q,q,S,A){O.mM.e$(w,n,H);
if(n*H==0)return;var V=Math.max(n,H),e=O.mM.rv;if(e==null||e.width<V||e.height<V){O.mM.rv=e=w.createImageData(V,V)}V=e.width;
var d=e.data,N=y.m/n,b=y.e/H,z=Q.x,v=Q.x+Q.m,T=Q.y,Y=Q.y+Q.e;for(var l=0;l<H;l++)for(var g=0;g<n;g++){var R=l*V+g,h=R*4,E=~~(y.x+g*N),G=~~(y.y+l*b),k=O.Eg(l,g,2);
if(E<z||E>=v||G<T||G>=Y||A){d[h]=k;d[h+1]=k;d[h+2]=k;d[h+3]=255}else{var $=(G-Q.y)*Q.m+(E-Q.x)<<2,p=c[$+3]*(1/255);
d[h]=c[$+0]*p+k*(1-p);d[h+1]=c[$+1]*p+k*(1-p);d[h+2]=c[$+2]*p+k*(1-p);d[h+3]=255}}if(S!=null)for(var l=0;
l<d.length;l+=4)d[l]=d[l+1]=d[l+2]=d[l+S];w.putImageData(e,0,0);if(q)O.mM.JR(w,n,H)};O.mM.a3p=function(w,n,H,y){O.mM.e$(w,n,H);
w.fillStyle=O.mM.cH(y.Clr.v);w.fillRect(0,0,n,H);O.mM.U$(w,n,H)};O.mM.uo=null;O.mM.azb=function(w,n,H,y){O.mM.e$(w,n,H);
var c=w.canvas.width,Q=w.canvas.height,q=O.mM.uo;if(q==null||q.width!=c||q.height!=Q){w.fillStyle="#ffffff";
w.fillRect(0,0,n,H);w.fillStyle="#000000";w.font=""+H*.7+"px serif";w.fillText("T",(n-H*.43)/2,H*.75);
w.fillText("T",(n-H*.43)/2,H*.75);O.mM.uo=w.getImageData(0,0,c,Q)}else w.putImageData(q,0,0)};O.mM.amt=function(w,n,H){O.mM.e$(w,n,H);
w.clearRect(0,0,n,H);w.font=H*.7+"px serif";w.fillText(":(",(n-H*.43)/2,H*.7)};O.mM.atQ=function(w,n,H,y){O.mM.e$(w,n,H);
var c=fb.get(y),Q=w.canvas.width,q=O.mM.IS[Q+c];if(q==null){var S=PIMG["adj/"+c],A=cb.Vt(S),V=UPNG.decode(A.buffer),e=new Uint8Array(UPNG.toRGBA8(V)[0]),d=new cr(0,0,160,160),N=0,b=Q-N*2,z=P.WJ.T_([e,d],new b7(b/160,0,0,b/160,0,0)),v=new cr(0,0,Q,Q),T=O.R(v.O()*4);
O.q.SG("norm",z.buffer,z.rect,T,v,z.rect,1);q=O.mM.IS[Q+c]=new ImageData(new Uint8ClampedArray(T.buffer),Q,Q)}w.putImageData(q,0,0)};
O.mM.IS={};O.mM.abt=function(w,n,H,y){O.mM.e$(w,n,H);var c=w.canvas.width,Q=w.canvas.height,q=w.getImageData(0,0,c,Q);
O.M.DN(y.Grad.v,new Uint8Array(q.data.buffer),new cr(0,0,c,Q),[1/c,0,0,1/Q],c/2,Q/2,!1,0,16711680,65280);
w.putImageData(q,0,0);O.mM.U$(w,n,H)};O.mM.ap2=function(w,n,H,y,c){O.mM.e$(w,n,H);var Q=w,q=hO.EZ(y.Ptrn.v,c.add.Patt);
if(q==null)return;var S=q.TP[1];O.mM.nf(w,n,H,S,q.TP[0],S,!1);O.mM.U$(Q,n,H)};O.mM.JR=function(w,n,H){w.strokeStyle="#bb0000";
w.lineWidth=3;w.beginPath();w.moveTo(n*.15,H*.15);w.lineTo(n*.85,H*.85);w.moveTo(n*.85,H*.15);w.lineTo(n*.15,H*.85);
w.closePath();w.stroke()};O.mM.U$=function(w,n,H){w.fillStyle="#eeeeee";w.fillRect(0,H*.75,n,H*.25);
w.beginPath();w.moveTo(0,H*.75);w.lineTo(n,H*.75);w.moveTo(n*.1,H*.875);w.lineTo(n*.9,H*.875);w.moveTo(n*.65,H*.825);
w.lineTo(n*.65,H*.95);w.closePath();w.stroke()};O.mM.cH=function(w){var n=O.M.cH(w),H=Math.round(n.b)<<16|Math.round(n.J)<<8|Math.round(n.k);
return"#"+O.w9(H)};O.r={};O.r.$B=function(w,n,H){var y=[],c=-1;for(var l=0;l<w.length;l++){var Q=w[l];
if((Q.type==0||Q.type==3)&&Q.NB!=-1)c++;if(Q.type>5||Q.type==0||Q.type==3)continue;if(n!=null&&n.indexOf(c)==-1)continue;
if(H!=null&&H.indexOf(l)==-1)continue;y.push(Q.P7.x);y.push(Q.P7.y);y.push(Q.H.x);y.push(Q.H.y);y.push(Q.f$.x);
y.push(Q.f$.y)}return y};O.r.fv=function(w,n,H,y){var c=0,Q=-1;for(var l=0;l<n.length;l++){var q=n[l];
if((q.type==0||q.type==3)&&q.NB!=-1)Q++;if(q.type>5||q.type==0||q.type==3)continue;if(H!=null&&H.indexOf(Q)==-1)continue;
if(y!=null&&y.indexOf(l)==-1)continue;q.P7.HV(w[c],w[c+1]);q.H.HV(w[c+2],w[c+3]);q.f$.HV(w[c+4],w[c+5]);
c+=6}};O.r._R=function(w,n,H,y){var c=O.r.$B(w,H,y);O.p.D(c,n,c);O.r.fv(c,w,H,y)};O.r.aiH=function(w,n,H,y){var c=O.r.$B(w,H,y);
O.K.D(n,c);O.r.fv(c,w,H,y)};O.r.a6E=function(w,n,H,y){if(y==null){var c=O.r.anX(w,40,H);for(var l=0;
l<c.length;l++)w[l]=c[l]}var Q=O.r.$B(w,H,y);O.cR.D(n,Q,O.p.hH(Q));O.r.fv(Q,w,H,y)};O.r.anX=function(w,n,H){var y=[],c=-1;
for(var l=0;l<w.length;l++){var Q=w[l],q=Q.length;if(Q.type>5){y.push(JSON.parse(JSON.stringify(Q)));
continue}Q=JSON.parse(JSON.stringify(Q));y.push(Q);if(Q.NB!=-1)c++;if(H&&H.indexOf(c)==-1){y=y.concat(w.slice(l+1,l+1+q))}else{var S=O.r.apd(w,l+1,q);
S=O.p.sn(S,n);var A=O.r.avC(S);Q.length=A.length;for(var V=0;V<A.length;V++)y.push(A[V])}l+=q}return y};
O.r.apd=function(w,n,H){var y={T:["M"],w:[]},c=w[n],Q=w[n+H-1];y.w.push(c.H.x,c.H.y);for(var l=1;l<H;
l++){var q=w[n+l-1],S=w[n+l];y.T.push("C");y.w.push(q.f$.x,q.f$.y,S.P7.x,S.P7.y,S.H.x,S.H.y)}y.T.push("C");
y.w.push(Q.f$.x,Q.f$.y,c.P7.x,c.P7.y,c.H.x,c.H.y);return y};O.r.avC=function(w){var n=[],H=w.T,y=w.w,c=0,ds=y.length;
n.push({type:2,P7:new ce(y[ds-4],y[ds-3]),H:new ce(y[0],y[1]),f$:new ce(y[2],y[3])});for(var l=0;l<H.length-2;
l++){var Q=l*6+4;n.push({type:2,P7:new ce(y[Q],y[Q+1]),H:new ce(y[Q+2],y[Q+3]),f$:new ce(y[Q+4],y[Q+5])})}return n};
O.r.acq=function(w){for(var l=0;l<w.length;l++){if(w[l].type>5)continue;var n=w[l].length;if(!(n==4||n==6||n==8)){l+=n;
continue}for(var H=0;H<n;H++){var y=w[l+1+H],c=w[l+1+(H+1)%n],Q=Math.min(y.H.x,c.H.x),q=Math.min(y.H.y,c.H.y),S=0,A=0;
if(y.H.x<c.H.x){S=y.H.y-q;A=S-(c.H.x-Q)}else{S=c.H.y-q;A=S-(y.H.x-Q)}if(Math.abs(A)<.2*S)return S}}return-1};
O.r.dF=function(w,n,H){function y(N,b){var z=Math.min(N.x,b.x),v=Math.min(N.y,b.y),T=Math.max(N.x+N.m,b.x+b.m),Y=Math.max(N.y+N.e,b.y+b.e);
return new cr(z,v,T-z,Y-v)}var c=null,Q=-1,q=!O.r.N$(w);for(var l=0;l<w.length;l++){var S=w[l];if(S.type>5)continue;
if((S.type==0||S.type==3)&&S.NB!=-1)Q++;if(n!=null&&n.indexOf(Q)==-1)continue;if(l==w.length-1)break;
var A=S.type==3,V=S.length,e=S.NB,d=O.r.Rh(w,l+1,V,A);if(c==null)c=d;else if(H)c=y(c,d);else if(q){if(n!=null||e==0||e==-1||e==2)c=y(c,d);
else if(e==1)c=c;else if(e==3){c=d;q=!1}}else{if(n!=null||e==0||e==-1||e==1)c=y(c,d);else if(e==2)c=c;
else if(e==3)c=c.Fa(d)}l+=V}if(c==null||c.m<0||c.e<0)c=new cr(0,0,0,0);return c};O.r.a6x=new Float64Array(4);
O.r.Rh=function(w,l,n,H){var y=O.r.a6x;y[0]=1e30;y[1]=1e30;y[2]=-1e30;y[3]=-1e30;var c=w[l+n-1];if(!H)O.r.ef(c.H.x,c.H.y,c.f$.x,c.f$.y,w[l].P7.x,w[l].P7.y,w[l].H.x,w[l].H.y,y);
for(var Q=l;Q<l+n-1;Q++){var q=w[Q],S=w[Q+1];O.r.ef(q.H.x,q.H.y,q.f$.x,q.f$.y,S.P7.x,S.P7.y,S.H.x,S.H.y,y)}return new cr(y[0],y[1],y[2]-y[0],y[3]-y[1])};
O.r.ef=function(w,n,H,y,c,Q,q,S,A){if(w==H&&n==y&&c==q&&Q==S){A[0]=Math.min(A[0],Math.min(w,q));A[1]=Math.min(A[1],Math.min(n,S));
A[2]=Math.max(A[2],Math.max(w,q));A[3]=Math.max(A[3],Math.max(n,S));return}var V=w,e=n,d=w,N=n,b=40,z=1/(b-1);
for(var v=0;v<b;v++){var T=v*z,Y=1-T,g=Y*Y*Y,R=3*Y*Y*T,h=3*Y*T*T,E=T*T*T,G=g*w+R*H+h*c+E*q,k=g*n+R*y+h*Q+E*S;
if(G<V)V=G;else if(G>d)d=G;if(k<e)e=k;else if(k>N)N=k}if(V<A[0])A[0]=V;if(e<A[1])A[1]=e;if(d>A[2])A[2]=d;
if(N>A[3])A[3]=N};O.r.Bs=function(w,n){var H=w.length-3,y=n%H,c=Math.floor(y);if(n<0||c>=H)return null;
var Q=w[3+c],q=w[3+(c+1)%H],S=Q.H,A=Q.f$,V=q.P7,e=q.H,d=y-c,N=1-d,b=N*N*N*S.x+3*N*N*d*A.x+3*N*d*d*V.x+d*d*d*e.x,z=N*N*N*S.y+3*N*N*d*A.y+3*N*d*d*V.y+d*d*d*e.y;
return new ce(b,z)};O.r.OW=function(w,n){var H=O.p.A2(w),y=H.ad;H.ad=Typr.U.pathToSVG({crds:y.w,cmds:y.T},n==null?2:n);
return H};O.r.Yv=function(w){O.r.pO();var n,H=O.r.Ai(w),y=[];for(var l=0;l<H.length;l++){var c=H[l][0],Q=H[l][1];
if(Math.abs(c.area)<1e-5)y.push(c);else if(n==null)n=c;else{if(!c.closed)c.closed=!0;n=n[Q](c);n.remove()}}if(n==null)n=new paper.CompoundPath(y);
else{if(n.segments)n=new paper.CompoundPath(n);for(var l=0;l<y.length;l++){n.addChild(y[l])}}var q=w.slice(0,2);
q=q.concat(O.r.KI(n));if(q[2])q[2].NB=1;for(var l=3;l<q.length;l++)if(q[l].NB!=null)q[l].NB=-1;return q};
O.r.pO=function(){if(O.r.amT==null){var w=document.createElement("canvas");paper.setup(w);O.r.amT=!0}};
O.r.a8v=function(w,n){O.r.pO();var H=[],y=O.r.Ai(w),c=new paper.Path.Rectangle(new paper.Rectangle(n.x,n.y,n.m,n.e));
c.remove();c.fillColor=new paper.Color(1,0,0);for(var l=0;l<y.length;l++){if(c.intersects(y[l][0])||c.contains(y[l][0].children[0].segments[0].point))H.push(l)}return H};
O.r.Z3=function(w,n,H,y){O.r.pO();var c=H?{curves:!0,tolerance:y}:null,Q=new paper.Point(n.x,n.y),q=O.r.Ai(w);
for(var l=q.length-1;l>=0;l--){var S=q[l][0],A=S.hitTest(Q,c);if(A!=null)return{cm:l,Hm:H?A.location.index:null,gG:H?A.location.time:0}}return{cm:-1}};
O.r.Jb=function(w,n,H){var y=[[],[],[]];for(var l=0;l<w.length;l++){var c=w[l];if(c.type>5||c.type==0||c.type==3)continue;
var Q=H==null?!0:H.indexOf(l)!=-1;if(n.yo(c.H))y[0].push(l);if(n.yo(c.P7)&&Q)y[1].push(l);if(n.yo(c.f$)&&Q)y[2].push(l)}return y};
O.r.a90=function(w,n,H){var y=w[n];for(var c=n+1;c<H;c++)w[c-1]=w[c];w[H-1]=y};O.r.aqQ=function(w,n,H,y){var l,c,Q,q=0;
w=w.slice(0);n.sort(function(z,v){return z-v});Q=-1;for(l=2;l<w.length;){var S=w[l],A=S.length;if(S.NB!=-1)Q++;
var V=q;while(V<n.length&&n[V]<l+1+A)V++;if(q!=V){var e=n.slice(q,V);q=V;for(c=0;c<A;c++)if(e.indexOf(l+1+c)!=-1)w[l+1+c]=null;
if(S.type==0){var d=e[0]-(l+1);while(d!=0){O.r.a90(w,l+1,l+1+A);d--}}var N=S;N.length=0;c=0;while(c<A&&w[l+1+c]==null)c++;
while(c<A){var b=w[l+1+c];if(b!=null)N.length++;else if(c<A+1&&w[l+1+c+1]){N=w[l+1+c]={type:0,NB:-1,length:0,Hj:0,jS:0,P0:1}}c++}if(y)for(c=-1;
c<A;c++)if(w[l+1+c]&&w[l+1+c].type<3)w[l+1+c].type+=3;O.X.d5(H,Q)}l+=1+A}for(l=0;l<w.length;l++)if(w[l]==null){w.splice(l,1);
l--}Q=0;for(l=2;l<w.length;l++){var S=w[l];if(S.length==0){if(w[l+1]&&w[l+1].NB==-1)w[l+1].NB=S.NB;else if(S.NB!=-1)H.splice(Q,1);
w.splice(l,1);l--}else if(S.length!=null&&S.NB!=-1)Q++}return w};O.r.a8Q=function(w,n){var H=w.slice(0,2),y=-1;
for(var l=2;l<w.length;l++){if((w[l].type==0||w[l].type==3)&&w[l].NB!=-1)y++;if(n.indexOf(y)==-1)H.push(w[l])}return H};
O.r.aeR=function(w,n){var H=w.slice(0,2),y=-1;for(var l=2;l<w.length;l++){if((w[l].type==0||w[l].type==3)&&w[l].NB!=-1)y++;
if(n.indexOf(y)!=-1)H.push(w[l])}return H};O.r.aso=function(w){var n=0;for(var l=0;l<w.length;l++)if(w[l].type==0||w[l].type==3)n=l;
return w[n]};O.r.xD=function(w){var n=-1;for(var l=0;l<w.length;l++)if((w[l].type==0||w[l].type==3)&&w[l].NB!=-1)n++;
return n+1};O.r.Pt=function(w,n,H){var y=-1;for(var l=0;l<w.length;l++)if((w[l].type==0||w[l].type==3)&&(H||w[l].NB!=-1)){y++;
if(y==n)return l}return-1};O.r.jA=function(w,n,H){var y=-1;for(var l=0;l<w.length;l++)if((w[l].type==0||w[l].type==3)&&(H||w[l].NB!=-1)){if(l>=n)return y;
y++}return y};O.r.qE=function(w,n){var H=-1,y=0;for(var l=0;l<w.length;l++){if((w[l].type==0||w[l].type==3)&&w[l].NB!=-1)H++;
if(H==n)y++}return y};O.r.asC=function(w){var n=180;for(var l=0;l<w.length;l++){if(w[l].type!=0&&w[l].type!=3)continue;
var H=w[l].length;if(H<3)continue;for(var y=0;y<H;y++){var c=w[l+1+(y-1+H)%H],Q=w[l+1+y],q=w[l+1+(y+1)%H],S=Q.H,A=Q.P7.Hw(S)?c.f$:Q.P7,V=Q.f$.Hw(S)?q.P7:Q.f$;
if(S.Hw(A)||S.Hw(V))continue;var e=A.x-S.x,d=A.y-S.y,N=V.x-S.x,b=V.y-S.y,A=Math.atan2(A.y-S.y,A.x-S.x)*180/Math.PI,V=Math.atan2(V.y-S.y,V.x-S.x)*180/Math.PI,z=Math.abs(V-A)%360,v=z>180?360-z:z;
if(v<n)n=v}}return n*Math.PI/180};O.r.KI=function(w){var n=w.segments?[w]:w.children,H=[];for(var l=0;
l<n.length;l++){var y=n[l],c=y.segments,Q=y.closed?0:3,q=H.length,S=null;if(c.length<=1)continue;H.push({type:Q,length:c.length,NB:0,P0:2});
for(var A=0;A<c.length;A++){var V=c[A],e=new ce(V.handleIn.x,V.handleIn.y),d=new ce(V.handleOut.x,V.handleOut.y),N=new ce(V.point.x,V.point.y),b={type:Q+1,P7:N.add(e),H:N,f$:N.add(d)};
if(S==null)S=b;H.push(b);if(A+1==c.length&&ce.Re(S.H,b.H)<1e-5){H.pop();H[q].length--;S.P7=b.P7;if(Q==3)for(var z=q;
z<H.length;z++)H[z].type-=3}}}return H};O.r.Ai=function(w){O.r.pO();var n=[],H,y=new paper.Color(1,0,0);
function c(b,S){b.remove();b.closed=!S;b.fillRule="evenodd"}for(var l=0;l<w.length;l++){if(w[l].type>5)continue;
var Q=w[l].length,q;if(l==w.length-1)break;var S=w[l].type==3;if(l==2){if(!O.r.e6(w))q="subtract";else q="unite"}else{if(w[l].NB==0)q="exclude";
if(w[l].NB==1)q="unite";if(w[l].NB==2)q="subtract";if(w[l].NB==3)q="intersect"}if(w[l].NB!=-1){H=new paper.CompoundPath;
n.push([H,q]);H.fillRule="evenodd";H.fillColor=y}var A=[];for(var V=0;V<Q;V++){var e=w[l+1+V],d=e.P7.Hy(e.H),N=e.f$.Hy(e.H);
A.push([[e.H.x,e.H.y],[d.x,d.y],[N.x,N.y]])}var b=new paper.Path(A);c(b,S);H.addChild(b);l+=Q}return n};
O.r.Wo=function(w){for(var l=0;l<w.length;l++){var n=w[l];if(n.H==null)continue;if(!n.H.Hw(n.P7)||!n.H.Hw(n.f$))return!1}return!0};
O.r.ajH=function(w){if(w.length<=5)return 0;var n=0,H=w.length-3-1;for(var l=0;l<H;l++){var y=w[3+l],c=w[3+l+1];
if(y.type==0||c.type==0)return 0;n+=(c.H.x-y.H.x)*(y.H.y+c.H.y)}n+=(w[3].H.x-w[3+H].H.x)*(w[3+H].H.y+w[3+1].H.y);
return-n*.5};O.r.N$=function(w){var n=w[2],H=!1;if(w.length==2)H=w[1].all==0;else if(w[1].all==1){if(n.NB==1||n.NB==3)H=!0;
else H=!1}else{if(n.NB==1||n.NB==3||n.NB==0)H=!0;else H=!1}return H};O.r.e6=function(w){var n=O.r.N$(w);
for(var l=3;l<w.length;l++)if(w[l].NB==3)n=!0;return n};O.r.aas=0;O.r.u8=0;O.r.a3C=0;O.r.ay$=function(w,n,H,y){if(H._G())return;
var c=H.O(),Y=16384;O.r.aas+=c;if(c>O.r.u8){O.r.u8=c}var Q=H.m,q=H.e;if(y==null&&O.r.Wo(w)&&w[2]&&w[2].NB!=2){var S=!0;
for(var l=2;l<w.length;)if(w[l].length==2)l+=3;else{S=!1;break}if(S){return}if(O.r.K3(w)){n.fill(255);
var A=O.r.dF(w);if(A.O()!=c){var V=1-(A.x-H.x),e=1-(A.y-H.y),d=1-(H.x+H.m-(A.x+A.m)),N=1-(H.x+H.e-(A.x+A.e)),b=~~(V*255),z=~~(d*255),v=~~(e*255),T=~~(N*255);
n.fill(v,0,Q);n[0]=~~(V*e*255);n[Q-1]=~~(d*e*255);for(var l=Q;l<c;l+=Q){n[l]=b;n[l+Q-1]=z}n.fill(T,(q-1)*Q,q*Q);
n[c-Q]=~~(V*N*255);n[c-1]=~~(d*N*255)}return}}var g=Math.ceil(Q/Y),R=Math.ceil(q/Y),h=Math.ceil(Q/g),E=Math.ceil(q/R),G=Date.now();
for(var k=0;k<R;k++)for(var $=0;$<g;$++){var p=$*h,X=k*E,C=h,D=E,o=O.Ke(C,D);if(!O.r.N$(w))o.fillRect(0,0,C,D);
O.r.xc(w,o,-H.x-p,-H.y-X,y);var t=new Uint8Array(o.getImageData(0,0,C,D).data.buffer);if(C==Q&&D==q)O.RR(t,n,3);
else O.zW(t,new cr(p,X,C,D),n,new cr(0,0,Q,q))}};O.r.a97=function(w){var n=!1,H=!1,y=0,c=!1;for(var l=0;
l<w.length;l++){var Q=w[l].NB;if(Q!=null){y++;if(Q==-1)n=!0;if(Q==1||Q==2||Q==3)H=!0;if(w[l].type==0)c=!0}}if(!n&&y<20&&c&&H)w=O.r.Yv(w);
return w};O.r.xc=function(w,n,H,y,c,Q){if(c!=null){w=O.r.a97(w)}for(var l=0;l<w.length;l++){if(w[l].type>5)continue;
var q=w[l].length;if(q==0)continue;if(l==w.length-1)break;var S=w[l].type==3,A=w[l].NB;if(A!=-1&&c==null){var V=["xor","source-over","destination-out","source-in"][A];
n.globalCompositeOperation=V}if(w[l].NB!=-1){n.beginPath();if(c){O.r.AL(c,n)}}O.r.adz(n,w,l+1,q,H,y,S);
if(S){}else n.closePath();if(w[l+1+q]==null||w[l+1+q].NB!=-1){if(c){if(Q)n.clip();n.stroke()}else n.fill(A==-1?"nonzero":"evenodd")}l+=q}n.globalCompositeOperation="source-over"};
O.r.AL=function(w,n,H){if(H==null)H=1;var y=w.strokeStyleLineWidth.v.val*H,c=w.strokeStyleLineAlignment.v.strokeStyleLineAlignment,Q=w.strokeStyleLineCapType.v.strokeStyleLineCapType,q=w.strokeStyleLineJoinType.v.strokeStyleLineJoinType,S=w.strokeStyleMiterLimit.v,A=[],V=w.strokeStyleLineDashSet.v;
for(var e=0;e<V.length;e++)A.push(V[e].v.val*y);n.setLineDash(A);n.lineCap=["butt","round","square"][d5.Ed.pv.indexOf(Q)];
n.lineJoin=["miter","round","bevel"][d5.Ed.join.indexOf(q)];n.lineWidth=d5.Ed.YH.indexOf(c)==1?y:y*2;
n.miterLimit=S};O.r.adz=function(w,n,l,H,y,c,Q){var q=n[l],S=null;w.moveTo(q.H.x+y,q.H.y+c);for(var A=l;
A<l+H-1;A++){q=n[A];S=n[A+1];w.bezierCurveTo(q.f$.x+y,q.f$.y+c,S.P7.x+y,S.P7.y+c,S.H.x+y,S.H.y+c)}if(!Q){q=n[A];
S=n[l];w.bezierCurveTo(q.f$.x+y,q.f$.y+c,S.P7.x+y,S.P7.y+c,S.H.x+y,S.H.y+c)}};O.r.adH=function(w,n){var H=[],y=n?4:1;
for(var l=0;l<w.length;l+=2){var c=new ce(w[l],w[l+1]);H.push({type:y,P7:c.clone(),H:c.clone(),f$:c.clone()})}return H};
O.r.Rt=function(w,n,H){var y=O.p.hH(w),c=Math.sqrt(Math.sqrt(y.O()))*.2,Q=.2;w=w.slice(0);var q=w.length,S=n?0:2;
for(var A=0;A<5;A++)for(var l=S;l<w.length-S;l+=2){var V=(l-2+q)%q,e=(l+2)%q,d=w[l],N=w[l+1],b=(w[V]+w[e])*.5,z=(w[V+1]+w[e+1])*.5;
w[l]=d+(b-d)*Q;w[l+1]=N+(z-N)*Q}if(H)return O.r.yj.Uo(w,null,!n);O.r.pO();var v=new paper.Path;v.remove();
v.closed=n;for(var l=0;l<w.length;l+=2)v.add(new paper.Point(w[l],w[l+1]));v.simplify(c);var T=[{type:6},{type:8,all:0}];
T=T.concat(O.r.KI(v));return T};O.r.NP=function(w,n,H){var y=w[n].length,c=w[n].type,Q=0,q=w.slice(n+1,n+1+y);
for(var l=0;l<y;l++){var S=H[(l-1+y)%y],A=H[(l+1+y)%y],V=H[l];if(V!=0){var e=q[(l-1+y)%y].H,d=q[(l+0+y)%y].H,N=q[(l+1+y)%y].H,b=ce.Re(d,e),z=ce.Re(d,N),v=O.p.fD(e.x,e.y,d.x,d.y,N.x,N.y,V)[0],T=Math.min(v,S==0?b:b/2,A==0?z:z/2);
V*=T/v;var Y=O.p.aeo(e.x,e.y,d.x,d.y,N.x,N.y,V),g={type:c+1,P7:new ce(Y[2],Y[3]),H:new ce(Y[2],Y[3]),f$:new ce(Y[4],Y[5])},R={type:c+1,P7:new ce(Y[6],Y[7]),H:new ce(Y[8],Y[9]),f$:new ce(Y[8],Y[9])};
w.splice(n+Q+1,1,g,R);Q++;w[n].length++}Q++}};O.r.Wo=function(w){for(var l=0;l<w.length;l++){var n=w[l],H=n.type;
if(H==1||H==2||H==4||H==5)if(!n.H.Hw(n.P7)||!n.H.Hw(n.f$))return!1}return!0};O.r.K3=function(w){if(w.length!=7||w[2].length!=4||!O.r.Wo(w))return!1;
for(var l=0;l<4;l++){var n=!0;for(var H=0;H<4;H++){var y=w[3+(l+H&3)],c=w[3+(l+H+1&3)];if(y.H.x!=c.H.x&&y.H.y!=c.H.y)n=!1}if(n)return!0}return!1};
O.r.ag6=function(w){if(w.length<6)return 0;var n=w.length-2,H=0;for(var l=0;l<n;l+=2)H+=(w[l+2]-w[l])*(w[l+1]+w[l+3]);
H+=(w[0]-w[n])*(w[n+1]+w[1]);return-H*.5};O.r.Ic=function(w){w=a.TB.Ce(w);var n=O.r.xD(w);for(var H=0;
H<n;H++){var y=O.r.Pt(w,H)+1,c=w[y-1].length,Q=[];for(var l=0;l<c;l++){var q=w[y+l].H;Q.push(q.x,q.y)}var S=O.r.ag6(Q);
if(S<0)O.r.am_(w,y-1)}return w};O.r.am_=function(w,n){var H=n+1,y=w[n].length,c=[];for(var l=0;l<y;l++){var Q=w[H+l],q=Q.P7;
Q.P7=Q.f$;Q.f$=q;c.push(Q)}for(var l=0;l<y;l++)w[H+l]=c[y-1-l]};O.r.yj={};O.r.yj.Uo=function(w,n,H){var y=[{type:6},{type:8,all:0}],c=null;
y.push({type:H?3:0,NB:1,length:0,Hj:0,jS:0,P0:1});if(n==0||n==null)c=null;else if(n instanceof Array)c=n;
else{c=[];for(var l=0;l<w.length;l+=2)c.push(n)}y=y.concat(O.r.adH(w,H));y[2].length=y.length-3;if(c)O.r.NP(y,2,c);
return y};O.r.yj.atj=function(w,n,H,y,c){var Q=[],q=[],S=.553,A=1,V=-1;Q.push({type:1,P7:new ce(0,S),H:new ce(0,0),f$:new ce(0,-S)});
c+=2;for(var l=0;l<c;l++){var e={type:1};if(l==0){e.H=new ce(1,-1);e.P7=new ce(1-S,-1);e.f$=new ce(1+S,-1)}else{var d=-(l+2)*Math.PI/2,N=1+((l&1)==1?l-1:l),b=Math.sin(d),z=Math.cos(d);
A+=N*(b-z);V+=N*(z+b);e.H=new ce(A,V);e.P7=new ce(A+N*z*S,V-N*b*S);if((l&1)==1)N+=2;e.f$=new ce(A-N*z*S,V+N*b*S)}var v={type:1,P7:new ce(-e.f$.x,-e.f$.y),H:new ce(-e.H.x,-e.H.y),f$:new ce(-e.P7.x,-e.P7.y)};
Q.push(e);if(l<c-2)q.push(v)}q.reverse();Q=Q.concat(q);var T=[{type:6},{type:8,all:0}];T.push({type:0,NB:1,length:Q.length,Hj:0,jS:0,P0:1});
T=T.concat(Q);var Y=new b7(H/c,0,0,H/c,0,0);Y.rotate(y);Y.translate(w,n);O.r._R(T,Y);return T};O.r.yj.Rect=function(w,n,H,y,c){var Q=[w,n,w+H,n,w+H,n+y,w,n+y];
return O.r.yj.Uo(Q,c)};O.r.yj.dW=function(w,n,H,y,c,Q,q,S){var A=[],V=2*Math.PI/c;for(var l=0;l<c;l++)A.push(Math.cos(l*V-y),Math.sin(l*V-y));
if(q!=null){var e=O.p.hH(A),d=e.m,N=e.e,b=q/(d/2),z=S/(N/2);for(var l=0;l<A.length;l+=2){A[l]=(A[l]-(e.x+d/2))*b;
A[l+1]=(A[l+1]-(e.y+N/2))*z}H=1}var v=new b7(H,0,0,H,0,0);v.translate(w,n);O.p.D(A,v,A);return O.r.yj.Uo(A,Q)};
O.r.yj.Hv=function(w,n,H,y,c,Q,q){var S=[],A=Math.PI/c;for(var l=0;l<c*2;l++){var V=(l&1)==0?1:q;S.push(V*Math.cos(l*A),V*Math.sin(l*A))}var e=new b7(H,0,0,H,0,0);
e.rotate(y);e.translate(w,n);O.p.D(S,e,S);return O.r.yj.Uo(S,Q)};O.r.yj.Ou=function(w,n,H,y,c){return O.r.yj.Cy(0,w,n,H,y,c)};
O.r.yj.a41=function(w,n,H,y,c,Q){return O.r.yj.Cy(1,w,n,H,y,c,Q)};O.r.yj.Ra=function(w,n,H,y,c,Q){return O.r.yj.Cy(2,w,n,H,y,c,Q)};
O.r.yj.Cy=function(w,n,H,y,c,Q,q){var S=Math.sqrt((y-n)*(y-n)+(c-H)*(c-H)),A;Q/=2;if(w==0)A=[-Q,0,Q,0,Q,S,-Q,S];
if(w==1){var V=Q*2*q*1.3/1.5,e=Q*q;A=[-Q,0,Q,0,Q,S-V,e,S-V,0,S,-e,S-V,-Q,S-V]}if(w==2){var V=q[3],e=q[2]/2,d=V*(2/3)*q[4]/100,N=V-d,b=V;
A=[];if(q[0])A.push(-Q,N,-e,b,0,0,e,b,Q,N);else A.push(-Q,0,Q,0);if(q[1])A.push(Q,S-N,e,S-b,0,S,-e,S-b,-Q,S-N);
else A.push(Q,S,-Q,S)}var z=new b7(1,0,0,1,0,0);z.rotate(Math.atan2(-c+H,y-n)+Math.PI/2);z.translate(n,H);
O.p.D(A,z,A);return O.r.yj.Uo(A,0)};O.r.yj.r1=function(w,n,H,y){var c=[{type:6},{type:8,all:0}],d=.553;
c.push({type:0,NB:1,length:4,Hj:0,jS:0,P0:1});var Q=w,q=n,S=w+H,A=n+y,w=(Q+S)/2,n=(q+A)/2,V=(Q-S)/2,e=(q-A)/2;
c.push({type:1,P7:new ce(w-d*V,n-e),H:new ce(w,n-e),f$:new ce(w+d*V,n-e)});c.push({type:1,P7:new ce(w+V,n-d*e),H:new ce(w+V,n),f$:new ce(w+V,n+d*e)});
c.push({type:1,P7:new ce(w+d*V,n+e),H:new ce(w,n+e),f$:new ce(w-d*V,n+e)});c.push({type:1,P7:new ce(w-V,n+d*e),H:new ce(w-V,n),f$:new ce(w-V,n-d*e)});
return c};O.r.yj.aeE=function(w,n,H,y,c){var Q=[{type:6},{type:8,all:0}];Q.push({type:3,NB:1,length:5,Hj:0,jS:0,P0:1});
var q=(c-y)/4;for(var l=0;l<5;l++){var S=l*q,A=Math.cos(S),V=Math.sin(S),e=.553*(q/(Math.PI/2)),d=V*e,N=-A*e,b=new ce(A,V);
Q.push({type:4,P7:l==0?b.clone():new ce(A+d,V+N),H:b,f$:l==4?b.clone():new ce(A-d,V-N)})}var z=new b7;
z.rotate(-y);z.scale(H,H);z.translate(w,n);O.r._R(Q,z);return Q};O.v$={};O.v$.type={warpNone:[22,5,0],warpCustom:[22,5,16],warpArc:[22,5,1],warpArcLower:[22,5,2],warpArcUpper:[22,5,3],warpArch:[22,5,4],warpBulge:[22,5,5],warpShellLower:[22,5,6],warpShellUpper:[22,5,7],warpFlag:[22,5,8],warpWave:[22,5,9],warpFish:[22,5,10],warpRise:[22,5,11],warpFisheye:[22,5,12],warpInflate:[22,5,13],warpSqueeze:[22,5,14],warpTwist:[22,5,15]};
O.v$.Rd=function(w){var n=w.warpStyle.v.warpStyle;if(n=="warpNone")return!0;else if(n=="warpCustom"){var H=!1,y=w.customEnvelopeWarp.v.meshPoints.v.arr,c=y[0].arr,Q=y[1].arr;
for(var l=0;l<4;l++)for(var q=0;q<4;q++){if(Math.abs(c[l]-c[q*4+l])>1||Math.abs(Q[l*4]-Q[l*4+q])>1)H=!0}return!H}else return w.warpValue.v==0&&w.warpPerspective.v==0&&w.warpPerspectiveOther.v==0};
O.v$.R=function(w){var n={classID:"warp",warpStyle:{t:"enum",v:{warpStyle:"warpNone"}},warpValue:{t:"doub",v:0},warpPerspective:{t:"doub",v:0},warpPerspectiveOther:{t:"doub",v:0},warpRotate:{t:"enum",v:{Ornt:"Hrzn"}}};
if(w){n.bounds={t:"Objc",v:{classID:"Rctn",Top:{t:"UntF",v:{type:"#Pxl",val:w.y}},Left:{t:"UntF",v:{type:"#Pxl",val:w.x}},Btom:{t:"UntF",v:{type:"#Pxl",val:w.y+w.e}},Rght:{t:"UntF",v:{type:"#Pxl",val:w.x+w.m}}}};
n.uOrder={t:"long",v:4};n.vOrder={t:"long",v:4}}return n};O.v$.axv=function(w,n,H,y){for(var l=0;l<w.length;
l+=2){var c=w[l],Q=w[l+1],q=(c-n.x)/n.m,S=(Q-n.y)/n.e,A=(1-H)/2,V=1-A,e=A+q*(V-A);S=.5+(S-.5)*e*2;var d=(1-y)/2,N=1-d,b=d+S*(N-d);
q=.5+(q-.5)*b*2;c=n.x+q*n.m;Q=n.y+S*n.e;w[l]=c;w[l+1]=Q}};O.v$.WU=function(w,n){var H=[],y=[];for(var l=0;
l<w.length;l+=2){H.push(w[l]);y.push(w[l+1])}var c=[];c.push({id:"Hrzn",type:"UnFl",uID:"#Pxl",arr:H});
c.push({id:"Vrtc",type:"UnFl",uID:"#Pxl",arr:y});n.warpStyle.v.warpStyle="warpCustom";n.customEnvelopeWarp={t:"Objc",v:{classID:"customEnvelopeWarp",meshPoints:{t:"ObAr",v:{classID:"rationalPoint",arr:c}}}}};
O.v$.h_=function(w,n){if(n==null){var H=w.bounds.v,y=H.Left.v.val,c=H.Rght.v.val,Q=H.Top.v.val,q=H.Btom.v.val;
if(y==null){y=H.Left.v,c=H.Rght.v;Q=H.Top.v,q=H.Btom.v}n=new cr(y,Q,c-y,q-Q)}if(n._G())n.m=n.e=1;var S=[],A=w.warpStyle.v.warpStyle;
if(A=="warpCustom"){var V=w.customEnvelopeWarp.v.meshPoints.v.arr,e=V[0].arr,d=V[1].arr;for(var l=0;
l<16;l++)S.push(e[l],d[l])}else S=O.v$.v$(n,A,w.warpRotate.v.Ornt=="Hrzn",w.warpValue.v/100,w.warpPerspective.v/100,w.warpPerspectiveOther.v/100);
return S};O.v$.v$=function(w,n,H,y,c,Q){var q=O.cR.R(w.x,w.y,w.m,w.e);if(n=="warpNone")return q;var S=JSON.parse(JSON.stringify(w)),A=new b7;
if(!H){A.translate(-w.x,-w.y);A.rotate(-Math.PI/2);A.translate(w.e,0);O.p.D(q,A,q);w=new cr(0,0,w.e,w.m);
q=O.cR.Jf(q,!1)}O.v$.acU(q,w,n,y,c,Q);if(!H){q=O.cR.Jf(q,!0);w=S;A.G$();O.p.D(q,A,q)}if(y==0)O.v$.axv(q,w,c,Q);
else{var A=new b7(1/w.m,0,0,1/w.e,-w.x,-w.y);A.translate(-.5,-.5);O.p.D(q,A,q);O.v$.ahj(q,Q,c);A.G$();
O.p.D(q,A,q)}return q};O.v$.acU=function(w,n,H,y,c,Q){for(var l=0;l<4;l++){for(var q=0;q<4;q++){var S=2*(4*l+q),A=w[S]-n.x,V=w[S+1]-n.y,e=A,d=V;
if(y!=0){var N=n.m/2,b=n.e/2;e-=N;d-=b;var z=e,v=e,T=-b,Y=b,g=Math.abs(y),R=Math.tan((1-g)*Math.PI/2),h=Math.sqrt(R*R+1),E=Math.atan2(1,R),G=e/N*E,k=N*h,$=N*h+n.e,p=Math.cos(E),X=Math.sin(E),C=O.v$.a4$(p,X),D=O.v$.arD(p,X),o=-R*N+C*k;
if(H=="warpArc"){z=Math.sin(G)*$;T=R*N-Math.cos(E)*$+b;v=Math.sin(G)*k;Y=R*N-Math.cos(E)*k+b;if(q==1||q==2){z=q==1?-D*$:D*$;
v=q==1?-D*k:D*k;T=R*N+b-C*$;Y=R*N+b-C*k}if(y<0){var t=z;z=v;v=t;t=T;T=-Y;Y=-t}}if(H=="warpArcLower"){if(q==1||q==2){v=q==1?-D*k:D*k;
Y=y<0?b-o:b+o}}if(H=="warpArcUpper"||H=="warpArch"||H=="warpBulge"){if(q==1||q==2){z=q==1?-D*k:D*k;T=y<0?-b+o:-b-o}if(H=="warpArch"){v=z;
Y=T+2*b}if(H=="warpBulge"){v=z;Y=-T}}if(H=="warpFish"||H=="warpFlag"||H=="warpWave"){var u=q;if(H=="warpFlag")u=3-q;
if(u==1){T-=y*4*b;Y+=y*4*b}if(u==2){T+=y*4*b;Y-=y*4*b}if(H=="warpFlag"||H=="warpWave")T=Y-2*b}if(H=="warpRise"){if(q<2)T=-b+y*b*4;
Y=T+2*b}var m=(d+b)/n.e;e=z+m*(v-z);d=T+m*(Y-T);if(H=="warpWave"){if(l==0)d=-b;if(l==3)d=b;if(l==1||l==2)d=2*b*(l/3-.5)*(1/3)+d*(2/3)}if(H=="warpFisheye"){if((l==1||l==2)&&(q==1||q==2)){e=e+4*e*y;
d=d+4*d*y}}if(H=="warpInflate"){var U=2/3;if((l==1||l==2)&&(q==1||q==2)){e=e+.5*e*y;d=d+.5*d*y}else if(l==1||l==2)e=e+U*e*y;
else if(q==1||q==2)d=d+U*d*y}if(H=="warpSqueeze"){var U=2/3;if((l==1||l==2)&&(q==1||q==2)){if(y>0)e=e-U*e*y;
else d=d+U*d*y}else if(l==1||l==2)e=e-U*e*y;else if(q==1||q==2)d=d+U*d*y}if(H=="warpTwist"){if((l==1||l==2)&&(q==1||q==2)){var I=y*Math.PI/2,h=1+Math.abs(y)*2,x=e*Math.cos(I)-d*Math.sin(I),J=e*Math.sin(I)+d*Math.cos(I);
e=x*h;d=J*h}}if(H=="warpShellLower"||H=="warpShellUpper"){if(H=="warpShellUpper"){l=3-l;d=-d}if(l>2||l==2&&(q==0||q==3)){if(y>0){var r=k+l/3*2*b;
e=Math.sin(G)*r;d=-R*N-b+Math.cos(G)*r;if(q==1||q==2){e=q==1?-D*r:D*r;d=-R*N-b+C*r}}else{if((q==1||q==2)&&l==3){e=q==1?-D*k:D*k;
d=R*N-C*k+b}else if(l==2){d=b-b*(2/3)*Math.cos(G);e=e+b*(2/3)*Math.sin(G)}}}if(H=="warpShellUpper"){l=3-l;
d=-d}}e+=N;d+=b}A=e,V=d;w[S]=A+n.x;w[S+1]=V+n.y}}};O.v$.ahj=function(w,n,H){var y=[];for(var c=0;c<4;
c++)y.push(1-H+c/3*2*H);var Q=[];for(var c=0;c<4;c++)Q.push(1-n+c/3*2*n);var q=[0,0,0,0],S=[0,0,0,0];
for(var l=0;l<4;l++)for(var c=0;c<4;c++){var A=2*(4*l+c),V=w[A],e=w[A+1];q[c]+=V/4;S[c]+=e/4}for(var l=0;
l<4;l++)for(var c=0;c<4;c++){var d=y[c],A=2*(4*l+c),V=w[A],e=w[A+1],N=q[c],b=S[c];w[A]=N+d*(V-N);w[A+1]=b+d*(e-b)}var z=w.slice(0);
for(var l=0;l<4;l++)for(var c=1;c<3;c++){var A=2*(4*l+c),V=w[A],e=w[A+1],v=A+(c==1?-2:2),T=w[v],Y=w[v+1];
w[A]=V-T;w[A+1]=e-Y}var g=w[0],R=w[1],h=w[8],E=w[9],G=w[16],k=w[17],$=w[24],p=w[25],X=w[6],C=w[7],D=w[14],o=w[15],t=w[22],u=w[23],m=w[30],U=w[31],I=X-g,x=C-R,J=D-h,r=o-E,Z=t-G,f=u-k,F=m-$,_=U-p;
for(var l=0;l<4;l++){var K=2*l*4,B=0,ij=0,W=l==1?.33:.66,L=1-W;if(l==0){B=I;ij=x}if(l==1){B=L*I+W*-F;
ij=L*x+W*-_}if(l==2){B=L*I+W*-F;ij=L*x+W*-_}if(l==3){B=-F;ij=-_}w[K]=w[K]+B/2;w[K+1]=w[K+1]+ij/2;w[K+6]=w[K+6]-B/2;
w[K+7]=w[K+7]-ij/2}for(var l=0;l<4;l++)for(var c=1;c<3;c++){var A=2*(4*l+c),V=w[A],e=w[A+1],v=A+(c==1?-2:2),T=w[v],Y=w[v+1],d=2*l/3;
w[A]=T+d*V;w[A+1]=Y+d*e}for(var l=1;l<3;l++)for(var c=1;c<3;c++){var A=2*(4*l+c),V=w[A],e=w[A+1],i=l==1?-8:-16,e3=l==1?16:8,eE=w[A+i],ec=w[A+i+1],gw=w[A+e3],bl=w[A+e3+1],d=l/3;
V=(1-d)*eE+d*gw;e=(1-d)*ec+d*bl;w[A]=V;w[A+1]=e}O.p.Gu(z,w,w,n)};O.v$.a4$=function(w,n){return(4-w)*(1/3)};
O.v$.arD=function(w,n){return(1-w)*(3-w)/(3*n)};O.VM={};O.VM.ans=function(w,n,H,y,c,Q,q,S,A,V){for(var e=0;
e<S;e++)for(var d=0;d<q;d++){var N=3*(e*q+d),b=e+Q,z=d+c,v=w[b*n+z];y[N]=v;y[N+1]=v;y[N+2]=v}};O.VM.Zq=function(w,n,H,y,c,Q,q,S,A,V){var e=[0,1,1/2,1/3,1/4,1/5,1/6,1/7,1/8,1/9],d=1/A,N=[-1,-1,0,-1,1,-1,-1,0,1,0,-1,1,0,1,1,1],b=new Uint32Array(6);
for(var z=0;z<S;z++){for(var v=0;v<q;v++){var T=3*(z*q+v),Y=z+Q,g=v+c;b[0]=0;b[1]=0;b[2]=0;b[3]=0;b[4]=0;
b[5]=0;for(var l=0;l<16;l+=2){var R=g+N[l],h=Y+N[l+1],E=R-A*~~(R*d),G=h-A*~~(h*d),k=V[G*A+E];b[k]+=w[h*n+R];
b[k+3]++}var R=g,h=Y,E=R-A*~~(R*d),G=h-A*~~(h*d),k=V[G*A+E];b[k]=w[Y*n+g];b[k+3]=1;y[T]=b[0]*e[b[3]];
y[T+1]=b[1]*e[b[4]];y[T+2]=b[2]*e[b[5]]}}};O.VM.o8=function(w,n,H){for(var l=0;l<H;l+=2)w[n+l]=w[n+l+1];
n=n+H;for(var l=0;l<H;l+=2)w[n+l+1]=w[n+l]};O.VM.O4=function(w,n,H,y){for(var l=0;l<y;l+=2){var c=n+l*H;
w[c]=w[c+H];w[c+H+1]=w[c+1]}};O.VM.sj=function(w,n,H,y,c,Q){var q=y[c],S=y[c+1],A=y[Q],V=y[Q+1],e=S+A>>>1;
w[n]=w[n+3]=w[H]=w[H+3]=q;w[n+1]=e;w[n+4]=S;w[H+1]=A;w[H+4]=e;w[n+2]=w[n+5]=w[H+2]=w[H+5]=V};O.VM.a4w=function(w,n,H,y,c,Q){var q=Q*3;
for(var l=0;l<Q;l+=2){var S=n+l,A=c+l*3;O.VM.sj(y,A,A+q,w,S,S+H)}};O.VM.alc=function(w,n,H,y,c,Q,q){var S=Q*3;
for(var l=0;l<q;l+=2){var A=n+l*H,V=c+l*Q*3;O.VM.sj(y,V,V+S,w,A,A+H)}};O.VM.EX=function(w,l,n){var H=w[l-n-n],y=w[l-n],c=w[l-2],Q=w[l-1],q=w[l],S=w[l+1],A=w[l+2],V=w[l+n],e=w[l+n+n],d=Math.abs(y-V),N=Math.abs(Q-S),b=Math.abs(q-H)*2+d,z=Math.abs(q-A)*2+N,v=Math.abs(q-c)*2+N,T=Math.abs(q-e)*2+d,Y=Math.min(b,Math.min(z,Math.min(v,T)));
if(Y==b)return y*3+V+q-H>>2;if(Y==z)return S*3+Q+q-A>>2;if(Y==v)return Q*3+S+q-c>>2;return V*3+y+q-e>>2};
O.VM.FH=function(w,n,H,y,c){if(w<n&&n<H||w>n&&n>H)return~~(.5+y+(c-y)*(n-w)/(H-w));else return(y+c>>1)+(n+n-w-H>>2)};
O.VM.ob=function(w,n,l,H){var y=n[l-H-1],c=n[l-H+1],Q=n[l],q=n[l+H-1],S=n[l+H+1],A=w[l-H-1],V=w[l-H+1],e=w[l],d=w[l+H-1],N=w[l+H+1],b=Math.abs(V-d)+Math.abs(w[l-H-H+2]-e)+Math.abs(e-w[l+H+H-2])+Math.abs(c-Q)+Math.abs(Q-q),z=Math.abs(A-N)+Math.abs(w[l-H-H-2]-e)+Math.abs(e-w[l+H+H+2])+Math.abs(y-Q)+Math.abs(Q-S);
if(b<z)return O.VM.FH(c,Q,q,V,d);else return O.VM.FH(y,Q,S,A,N)};O.VM.kQ=function(w,n,H,y,c,Q){w[n+0]=H[c];
w[n+1]=y[c];w[n+2]=O.VM.ob(H,y,c,Q)};O.VM.GF=function(w,n,H,y,c,Q){var q=y[c];w[n+0]=O.VM.FH(y[c-1],q,y[c+1],H[c-1],H[c+1]);
w[n+1]=q;w[n+2]=O.VM.FH(y[c-Q],q,y[c+Q],H[c-Q],H[c+Q])};O.VM.Ne=function(w,n,H,y,c,Q){var q=y[c];w[n+0]=O.VM.FH(y[c-Q],q,y[c+Q],H[c-Q],H[c+Q]);
w[n+1]=q;w[n+2]=O.VM.FH(y[c-1],q,y[c+1],H[c-1],H[c+1])};O.VM.rI=function(w,n,H,y,c,Q){w[n+0]=O.VM.ob(H,y,c,Q);
w[n+1]=y[c];w[n+2]=H[c]};O.VM.a6l=function(w,n,H,y,c,Q,q,S,A){var V=Date.now(),e=2,d=n-2,N=2;if((c&1)==1){e++;
d--}var b=H-2;if((Q&1)==1){N++;b--}if(A==1||A==3){e++;d--}var z=w.slice(0);O.VM.o8(z,0,n);O.VM.O4(z,0,n,H);
O.VM.O4(z,n-2,n,H);O.VM.o8(z,(H-2)*n,n);for(var v=N;v<b;v+=2)for(var T=e;T<d;T+=2){var l=v*n+T,Y=O.VM.EX(z,l,n),g=O.VM.EX(z,l+n+1,n);
z[l]=Math.max(0,Y);z[l+n+1]=Math.max(0,g)}var R=q,h=S;if(Q+S==H){h-=2;O.VM.a4w(w,(H-2)*n+c,n,y,(S-2)*q*3,q)}if(c+q==n){R-=2;
O.VM.alc(w,Q*n+c+q-2,n,y,(q-2)*3,q,S)}if(A==0)for(var v=0;v<h;v+=2)for(var T=0;T<R;T+=2){var E=(v+Q)*n+T+c,G=(v*q+T)*3;
O.VM.kQ(y,G,w,z,E,n);O.VM.GF(y,G+3,w,z,E+1,n);E+=n;G+=3*q;O.VM.Ne(y,G,w,z,E,n);O.VM.rI(y,G+3,w,z,E+1,n)}else if(A==1)for(var v=0;
v<h;v+=2)for(var T=0;T<R;T+=2){var E=(v+Q)*n+T+c,G=(v*q+T)*3;O.VM.GF(y,G,w,z,E,n);O.VM.kQ(y,G+3,w,z,E+1,n);
E+=n;G+=3*q;O.VM.rI(y,G,w,z,E,n);O.VM.Ne(y,G+3,w,z,E+1,n)}else if(A==2)for(var v=0;v<h;v+=2)for(var T=0;
T<R;T+=2){var E=(v+Q)*n+T+c,G=(v*q+T)*3;O.VM.rI(y,G,w,z,E,n);O.VM.Ne(y,G+3,w,z,E+1,n);E+=n;G+=3*q;O.VM.GF(y,G,w,z,E,n);
O.VM.kQ(y,G+3,w,z,E+1,n)}else if(A==3)for(var v=0;v<h;v+=2)for(var T=0;T<R;T+=2){var E=(v+Q)*n+T+c,G=(v*q+T)*3;
O.VM.Ne(y,G,w,z,E,n);O.VM.rI(y,G+3,w,z,E+1,n);E+=n;G+=3*q;O.VM.kQ(y,G,w,z,E,n);O.VM.GF(y,G+3,w,z,E+1,n)}};
O.raw={};O.raw.aq9=function(w){var n=Date.now(),H=w.width,y=w.height,c=0,Q=0,q=H,S=y;if(w.t50829){var A=w.t50829;
c=A[1];Q=A[0];q=A[3];S=A[2]}if(w.t50719){var V=w.t50719;c+=V[0]>>1<<1;Q+=V[1]>>1<<1}if(w.t50720){var e=w.t50720;
q=c+e[0];S=Q+e[1]}var d=q-c,N=S-Q,b=O.raw.ao3(w),z=w.t33422,v=w.t33421;if(v){var e=v[0],T=z.slice(0);
for(var Y=0;Y<e;Y++)for(var g=0;g<e;g++){var R=(g+(c&1))%e,h=(Y+(Q&1))%e;T[Y*e+g]=z[h*e+R]}z=T}if(w.t277[0]==1&&z)O.raw.akh(b,H,y,w,z);
O.raw.y7(2,w,b,H,y);var E=new Float32Array(d*N*3);if(w.t277[0]==1){if(v==null){O.VM.ans(b,H,y,E,c,Q,d,N)}else if(v.length!=2||v[0]!=2||v[1]!=2){console.log("Unknown CFA pattern size",v);
O.VM.Zq(b,H,y,E,c,Q,d,N,v[0],z)}else{var G=w.t33422.join(","),k=0;if(G=="0,1,1,2")k=0;else if(G=="1,0,2,1")k=1;
else if(G=="2,1,1,0")k=2;else if(G=="1,2,0,1")k=3;else throw"Unknown CFA pattern "+G;if((d&1)!=0||(N&1)!=0)throw"e";
O.VM.a6l(b,H,y,E,c,Q,d,N,k)}}else{for(var Y=0;Y<N;Y++)for(var g=0;g<d;g++){var $=((Y+Q)*H+g+c)*3,p=(Y*d+g)*3;
E[p+0]=b[$+0];E[p+1]=b[$+1];E[p+2]=b[$+2]}}var X=E,C=E.length,D=O.raw.p2(w),o=1/D;for(var l=0;l<C;l+=3){E[l]=X[l]*o;
E[l+1]=X[l+1]*o;E[l+2]=X[l+2]*o}O.raw.y7(3,w,E,d,N);var t=w.Ki,u=d,m=N;if(t==1||t==9){}else{var U=O.raw.hz(t,d,N),p=0;
u=U[0];m=U[1];var I=E.slice(0);for(var Y=0;Y<m;Y++)for(var g=0;g<u;g++){var x=U[2]*g+U[3]*Y+U[4],J=U[5]*g+U[6]*Y+U[7],$=(J*d+x)*3;
E[p]=I[$];E[p+1]=I[$+1];E[p+2]=I[$+2];p+=3}}return{fF:E,xQ:u,bb:m}};O.raw.hz=function(w,n,H){var y=n,c=H;
if(!1){}else if(w==2)return[n,H,-1,0,n-1,0,1,0];else if(w==3)return[n,H,-1,0,n-1,0,-1,H-1];else if(w==4)return[n,H,1,0,0,0,-1,H-1];
else if(w==5)return[H,n,0,1,0,1,0,0];else if(w==6)return[H,n,0,1,0,-1,0,H-1];else if(w==7)return[H,n,0,-1,n-1,-1,0,H-1];
else if(w==8)return[H,n,0,-1,n-1,1,0,0];else throw"unknown orientation "+w};O.raw.akh=function(w,n,H,y,c){var Q=Date.now(),o=0,m=0;
if(O.raw.p2(y)>4e4){for(var l=0;l<w.length;l++)w[l]>>=1;var q=["t50714","t50715","t50712","t50717"];
for(var l=0;l<q.length;l++){var S=y[q[l]];if(S)for(var A=0;A<S.length;A++)S[A]>>>=1}console.log("remapping to lower bit depth")}var V=~~Math.sqrt(c.length),e=[-1,-1,0,-1,0,1,-1,0,0,0,1,0,-1,1,0,1,1,1],d=[];
for(var N=0;N<V;N++)for(var b=0;b<V;b++){var l=N*V+b,z=c[l],v=4,T=4,Y=8,g=0,R=0;for(var A=0;A<18;A+=2){var h=(V+b+e[A])%V,E=(V+N+e[A+1])%V,G=c[E*V+h];
if(G==z){}else if(v==4){v=G;g=A}else if(T==4&&G!=v){T=G;R=A;break}}if(T<v){var k=T;T=v;v=k;k=R;R=g;g=k}if(v<z){var k=v;
v=z;z=k;k=g;g=Y;Y=k}if(T<v){var k=T;T=v;v=k;k=R;R=g;g=k}d[l*3]=e[Y+1]*n+e[Y];d[l*3+1]=e[g+1]*n+e[g];
d[l*3+2]=e[R+1]*n+e[R]}var $=~~(.996*O.raw.p2(y)),p=~~(.992*O.raw.p2(y)),X=y.t50728;if(X==null||X[0]==0)X=[1,1,1];
var C=[],D=[0,0,0];for(var N=1;N<H-1;N++)for(var b=1;b<n-1;b++){var l=N*n+b,t=N%V*V+b%V,z=w[l+d[t*3+0]],v=w[l+d[t*3+1]],T=w[l+d[t*3+2]],u=Math.max(z,v,T);
if(u>$)C.push(l);else if(u>p){D[0]+=z;D[1]+=v;D[2]+=T;o++}}if(C.length==0)return;if(o/(n*H)<1e-5){console.log("not enough semi-saturated pixels",o);
D=X}if(D[1]<D[m])m=1;if(D[2]<D[m])m=2;var U=[D[0]/D[m],D[1]/D[m],D[2]/D[m]],I=w.slice(0);for(var x=0;
x<C.length;x++){var l=C[x],N=~~(l/n),b=l-N*n,t=N%V*V+b%V,J=Math.min(65535,~~(w[l+d[t*3+m]]*U[c[t]]));
if(J>I[l])I[l]=J}w.set(I)};O.raw.sy=function(w,n,H,y){var c=Math.round(w.length/3),Q=hE.BW(y[0],y[1]),q=O.raw.a1D(H,Q),S=O.Rc.multiply(O.Rc.Z2,q),A=Math.pow(2,H.t50730?H.t50730[0]:0);
S=O.Rc.multiply(S,O.Rc.kv(A,A,A));var V=O.raw.sy.aag;if(V==null){V=O.raw.sy.aag=new Float64Array(8e3);
for(var l=0;l<8e3;l++)V[l]=O.nC(l*(1/1e3))}for(var l=0;l<c;l++){var e=l<<2,d=e-l,N=w[d],b=w[d+1],z=w[d+2],v=S[0]*N+S[1]*b+S[2]*z,T=S[4]*N+S[5]*b+S[6]*z,Y=S[8]*N+S[9]*b+S[10]*z;
if(v<0)v=0;if(T<0)T=0;if(Y<0)Y=0;n[d]=V[~~(v*1e3)];n[d+1]=V[~~(T*1e3)];n[d+2]=V[~~(Y*1e3)]}};O.raw.ao3=function(w){var n=w.width,H=w.height,y=n*H*w.t277,c=new Uint16Array(y),Q=null,q=0;
O.raw.auG(w,c);O.raw.y7(1,w,c,n,H);if(w.t50712){Q=w.t50712;q=Q.length-1;if(Q[q]>65535)throw"too big values"}var S=O.raw.d7(w),A=O.raw.zc(w);
if(Q==null)for(var l=0;l<y;l++)c[l]=Math.max(0,c[l]-S);else for(var l=0;l<y;l++){var V=c[l];if(V>q)V=q;
V=Q[V];c[l]=Math.max(0,V-S)}return c};O.raw.d7=function(w){var n=w.t50714,H=n?n[0]:0,y=w.t50715,c=w.t50716;
if(y)H+=y[0][0]/y[0][1];if(c)H+=c[0][0]/c[0][1];return Math.round(H)};O.raw.zc=function(w){var n=null,H=0;
if(w.t50712){n=w.t50712;H=n.length-1}var y=w.t50717?w.t50717[0]:(1<<w.t258[0])-1;if(n)y=Math.min(y,n[H]);
return y};O.raw.p2=function(w){var n=O.raw.d7(w),H=O.raw.zc(w);return H-n};O.raw.auG=function(w,n){var H=n.length,y=w.data,c=w.t258[0];
if(c!=16&&c!=14&&c!=12&&c!=10&&c!=8)throw"Unsupported Bits Per Sample:"+c;c=Math.round(y.length*8/H);
if(c==16&&w.isLE){O.Bq(y,n);return}for(var l=0;l<H;l+=2){var Q=0,q=0,S=0;if(c==16){Q=l<<1;q=y[Q]<<8|y[Q+1];
S=y[Q+2]<<8|y[Q+3]}else if(c==14){var A=l*14,V=A>>>3,e=y[V]<<24|y[V+1]<<16|y[V+2]<<8|y[V+3];if((A&7)==0){q=e>>>18;
S=e>>>4&16383}else{q=e>>>14&16383;S=e&16383}}else if(c==12){Q=l+(l>>>1);q=y[Q]<<4|y[Q+1]>>4;S=(y[Q+1]&15)<<8|y[Q+2]}else if(c==10){var A=l*10,V=A>>>3;
if((A&7)==0){q=(y[V]<<2|y[V+1]>>6)&1023;S=(y[V+1]<<4|y[V+2]>>4)&1023}else{q=(y[V]<<6|y[V+1]>>2)&1023;
S=(y[V+1]<<8|y[V+2]>>0)&1023}}else if(c==8){Q=l;q=y[Q];S=y[Q+1]}n[l]=q;n[l+1]=S}};O.raw.am1=function(w,n,H,y,c,Q,q){var S=w-.499999,A=n-.499999,V=~~S,e=~~A,d=S-V,N=A-e,b=(1-N)*(1-d),z=(1-N)*d,v=N*(1-d),T=N*d,Y=(e*y+V)*3,g=((e+1)*y+V)*3,R=b*H[Y]+z*H[Y+3]+v*H[g]+T*H[g+3],h=b*H[Y+1]+z*H[Y+4]+v*H[g+1]+T*H[g+4],E=b*H[Y+2]+z*H[Y+5]+v*H[g+2]+T*H[g+5];
Q[q]=R;Q[q+1]=h;Q[q+2]=E};O.raw.y7=function(w,n,H,y,c){var Q=n["t"+[51008,51009,51022][w-1]],e=0;if(Q==null)return;
var q=y*c,S=j.s,A=j.PC,V=new Uint8Array(Q),hi=j.s(V,e);e+=4;for(var d=0;d<hi;d++){var N=S(V,e);e+=4;
var b=S(V,e);e+=4;var z=S(V,e);e+=4;var v=S(V,e);e+=4;if(!1){}else if(N==1&&w==3){var T=e,Y=S(V,T);T+=4;
var g=A(V,T);T+=8;var R=A(V,T);T+=8;var h=A(V,T);T+=8;var E=A(V,T);T+=8;var G=A(V,T);T+=8;var k=A(V,T);
T+=8;T+=(Y-1)*8*6;var $=A(V,T);T+=8;var p=A(V,T);T+=8;var X=$*y,C=p*c,D=Math.max(X,y-X),o=Math.max(C,c-C),t=Math.sqrt(D*D+o*o),u=1/t,m=H.slice(0);
for(var U=0;U<c;U++)for(var I=0;I<y;I++){var x=(I+.5-X)*u,J=(U+.5-C)*u,r=x*x+J*J,Z=g+R*r+h*(r*r)+E*(r*r)*r,f=G*(2*x*J)+k*(r+2*x*x),F=k*(2*x*J)+G*(r+2*J*J),_=Math.min(X+t*(Z*x+f),y-1),K=Math.min(C+t*(Z*J+F),c-1),B=(U*y+I)*3;
O.raw.am1(_,K,m,y,c,H,B)}}else if(N==3&&w==3){var T=e,ij=A(V,T);T+=8;var W=A(V,T);T+=8;var L=A(V,T);
T+=8;var i=A(V,T);T+=8;var e3=A(V,T);T+=8;var $=A(V,T);T+=8;var p=A(V,T);T+=8;var X=$*y,C=p*c,D=Math.max(X,y-X),o=Math.max(C,c-C),t=Math.sqrt(D*D+o*o),u=1/t;
for(var U=0;U<c;U++)for(var I=0;I<y;I++){var x=(I+.5-X)*u,J=(U+.5-C)*u,r=x*x+J*J,eE=1+(ij+(W+(L+(i+e3*r)*r)*r)*r)*r,B=(U*y+I)*3;
H[B]=eE*H[B];H[B+1]=eE*H[B+1];H[B+2]=eE*H[B+2]}}else if(N==4&&w==1){var T=e,ec=S(V,T);T+=4;var gw=S(V,T);
T+=4;for(var l=0;l<q;l++)if(H[l]==ec)H[l]=H[l-2]+H[l+2]>>1}else if(N==5&&w==1){var T=e,bl=S(V,T);T+=4;
var cD=S(V,T);T+=4;var a$=S(V,T);T+=4;for(var l=0;l<cD;l++){var hJ=S(V,T);T+=4;var ei=S(V,T);T+=4;var l=hJ*y+ei;
H[l]=H[l-2]+H[l+2]>>1}}else if(N==7&&w==1){var T=e,df=j.S9(V,T);T+=16;var bM=S(V,T);T+=4;var ib=S(V,T);
T+=4;var fI=S(V,T),eU=S(V,T+4);T+=8;var gK=S(V,T);T+=4;var bs=new Uint16Array(gK);for(var l=0;l<gK;l++)bs[l]=j.kH(V,T+2*l);
var km=df.m,aJ=df.e;for(var U=0;U<aJ;U+=fI)for(var I=0;I<km;I+=eU){var l=(df.y+U)*y+(df.x+I);H[l]=bs[H[l]]}}else if(N==8&&w==2){var T=e,df=j.S9(V,T);
T+=16;var bM=S(V,T);T+=4;var ib=S(V,T);T+=4;var fI=S(V,T),eU=S(V,T+4);T+=8;var ip=S(V,T);T+=4;var fl=[];
for(var l=0;l<=ip;l++)fl[l]=j.PC(V,T+l*8);var b3=df.x,dY=df.x+df.m,k4=df.y,aK=df.y+df.e,jK=n.t50717[0],ay=1/jK;
for(var f8=0;f8<ib;f8++)for(var U=k4;U<aK;U+=fI){var B=3*U*y+bM+f8;for(var I=b3;I<dY;I+=eU){var l=B+3*I,gN=H[l]*ay,d4=fl[ip];
for(var bK=ip;bK>0;bK--)d4=d4*gN+fl[bK-1];H[l]=Math.max(0,Math.min(65535,~~(d4*jK)))}}}else if(N==9&&w==2){var T=e,df=j.S9(V,T),a_=!0;
T+=16;var bM=S(V,T);T+=4;var ib=S(V,T);T+=4;var fI=S(V,T),eU=S(V,T+4);T+=8;var hf=S(V,T),bC=S(V,T+4);
T+=8;var gW=A(V,T),dn=A(V,T+8);T+=16;var fq=A(V,T),jN=A(V,T+8);T+=16;var cU=S(V,T);T+=4;if(cU!=1)throw"more than one map plane";
var jb=hf*bC,ac=new Float32Array(jb);for(var bK=0;bK<jb;bK++)ac[bK]=j.Ma(V,T+bK*4);for(var bK=0;bK<jb;
bK++)if(ac[bK]!=1)a_=!1;if(!a_){var km=df.m,aJ=df.e,h5=.9999*(bC-1)/km,jz=.9999*(hf-1)/aJ;for(var U=0;
U<aJ;U+=fI)for(var I=0;I<km;I+=eU){var l=(df.y+U)*y+(df.x+I),jj=I*h5,jy=U*jz,g0=Math.floor(jj),bt=Math.floor(jy),kl=jj-g0,iO=jy-bt,B=bt*bC+g0,dN=ac[B]*(1-kl)+ac[B+1]*kl,aG=ac[B+bC]*(1-kl)+ac[B+1+bC]*kl,iA=dN*(1-iO)+aG*iO;
H[l]=Math.max(0,Math.min(65535,~~(H[l]*iA+.5)))}}}else console.log("Unknown opcode "+N+" in OpcodeList"+w+". Length: "+v);
e+=v}};O.raw.a1D=function(w,n){var H=hE.xW(n),y=O.raw.iM(w,n),c=O.Rc.G$(y),Q=hE.Ud(H,hE.xW(hE.as0)),q=O.Rc.multiply(Q,c);
return q};O.raw.a7v=function(w){var n=w.t50728,c=1;if(n==null||n[0]==0)n=[1,1,1];var H=n.slice(0);H.push(0);
var y={x:.34567,y:.3585};do{var Q=O.Rc.G$(O.raw.iM(w,y)),q=O.Rc.Qb(Q,H),S=hE.ahv(q);c=Math.abs(y.x-S.x)+Math.abs(y.y-S.y);
y=S}while(c>1e-7);return y};O.raw.iM=function(w,n){var H=hE.Cb(n),y=O.raw.apQ,c=w.t50778?w.t50778[0]:0,Q=w.t50779?w.t50779[0]:0,q=w.t50723,S=w.t50724;
if(q&&q.length==3)q=null;if(S&&S.length==3)S=null;var A=y(w.t50721,w.t50722,c,Q,H.BO),V=y(q,S,c,Q,H.BO);
A=A||[1,0,0,0,1,0,0,0,1];V=V||[1,0,0,0,1,0,0,0,1];var e=w.t50727?[w.t50727[0],0,0,0,w.t50727[1],0,0,0,w.t50727[2]]:[1,0,0,0,1,0,0,0,1];
return O.Rc.multiply(O.Rc.Y2(e),O.Rc.multiply(O.Rc.Y2(V),O.Rc.Y2(A)))};O.raw.apQ=function(w,n,H,y,c){if(!w&&!n){return null}else if(w&&!n){return w}else if(c<H){return w}else if(c>y){return n}else{var Q=(1/c-1/y)/(1/H-1/y),q=1-Q,S=[];
for(var l=0;l<9;l++)S[l]=w[l]*Q+n[l]*q;return S}};var hE={};hE.as0={x:.34567,y:.3585};hE.M8=[{b:0,zh:.18006,X5:.26352,lG:-.24341},{b:10,zh:.18066,X5:.26589,lG:-.25479},{b:20,zh:.18133,X5:.26846,lG:-.26876},{b:30,zh:.18208,X5:.27119,lG:-.28539},{b:40,zh:.18293,X5:.27407,lG:-.3047},{b:50,zh:.18388,X5:.27709,lG:-.32675},{b:60,zh:.18494,X5:.28021,lG:-.35156},{b:70,zh:.18611,X5:.28342,lG:-.37915},{b:80,zh:.1874,X5:.28668,lG:-.40955},{b:90,zh:.1888,X5:.28997,lG:-.44278},{b:100,zh:.19032,X5:.29326,lG:-.47888},{b:125,zh:.19462,X5:.30141,lG:-.58204},{b:150,zh:.19962,X5:.30921,lG:-.70471},{b:175,zh:.20525,X5:.31647,lG:-.84901},{b:200,zh:.21142,X5:.32312,lG:-1.0182},{b:225,zh:.21807,X5:.32909,lG:-1.2168},{b:250,zh:.22511,X5:.33439,lG:-1.4512},{b:275,zh:.23247,X5:.33904,lG:-1.7298},{b:300,zh:.2401,X5:.34308,lG:-2.0637},{b:325,zh:.24792,X5:.34655,lG:-2.4681},{b:350,zh:.25591,X5:.34951,lG:-2.9641},{b:375,zh:.264,X5:.352,lG:-3.5814},{b:400,zh:.27218,X5:.35407,lG:-4.3633},{b:425,zh:.28039,X5:.35577,lG:-5.3762},{b:450,zh:.28863,X5:.35714,lG:-6.7262},{b:475,zh:.29685,X5:.35823,lG:-8.5955},{b:500,zh:.30505,X5:.35907,lG:-11.324},{b:525,zh:.3132,X5:.35968,lG:-15.628},{b:550,zh:.32129,X5:.36011,lG:-23.325},{b:575,zh:.32931,X5:.36038,lG:-40.77},{b:600,zh:.33724,X5:.36051,lG:-116.45}];
hE.Cb=function(w){var n=hE.M8,H=2*w.x/(1.5-w.x+6*w.y),y=3*w.y/(1.5-w.x+6*w.y),c=0,Q=0,q=0;for(;q<31;
q++){c=y-n[q].X5-n[q].lG*(H-n[q].zh);if(q>0&&c<0){break}Q=c}while(q>=n.length)q--;c/=Math.sqrt(1+n[q].lG*n[q].lG);
Q/=Math.sqrt(1+n[q-1].lG*n[q-1].lG);var S=Q/(Q-c),A=1e6/((n[q].b-n[q-1].b)*S+n[q-1].b),V=H-((n[q].zh-n[q-1].zh)*S+n[q-1].zh),e=y-((n[q].X5-n[q-1].X5)*S+n[q-1].X5),d=Math.sqrt(1+n[q].lG*n[q].lG),N=1/d,b=n[q].lG/d,z=Math.sqrt(1+n[q-1].lG*n[q-1].lG),v=1/z,T=n[q-1].lG/z,Y=(N-v)*S+v,g=(b-T)*S+T,R=Math.sqrt(Y*Y+g*g);
Y/=R;g/=R;var h=(V*Y+e*g)*-3e3;return{BO:A,IP:h}};hE.BW=function(w,n){var H=hE.M8,y=1e6/w,c=1;for(;c<31;
c++){if(y<H[c].b){break}}var Q=(H[c].b-y)/(H[c].b-H[c-1].b),q=(H[c-1].zh-H[c].zh)*Q+H[c].zh,S=(H[c-1].X5-H[c].X5)*Q+H[c].X5,A=Math.sqrt(1+H[c].lG*H[c].lG),V=1/A,e=H[c].lG/A,d=Math.sqrt(1+H[c-1].lG*H[c-1].lG),N=1/d,b=H[c-1].lG/d,z=(N-V)*Q+V,v=(b-e)*Q+e,T=Math.sqrt(z*z+v*v);
z/=T;v/=T;q+=z*n/-3e3;S+=v*n/-3e3;return{x:1.5*q/(q-4*S+2),y:S/(q-4*S+2)}};hE.ahv=function(w){var n=w[0]+w[1]+w[2];
return{x:w[0]/n,y:w[1]/n}};hE.xW=function(w){return{x:w.x/w.y,y:1,Zn:(1-w.x-w.y)/w.y}};hE.Ud=function(w,n){var H=O.Rc.Y2([.8951,.2664,-.1614,-.7502,1.7135,.0367,.0389,-.0685,1.0296]),y=[w.x,w.y,w.Zn,0],c=[n.x,n.y,n.Zn,0];
y=O.Rc.Qb(H,y);c=O.Rc.Qb(H,c);var Q=c[0]/y[0],q=c[1]/y[1],S=c[2]/y[2],A=O.Rc.Y2([Q,0,0,0,q,0,0,0,S]),V=O.Rc.G$(H);
return O.Rc.multiply(O.Rc.multiply(V,A),H)};O.raw.OR={};O.raw.c7=function(w){w*=8;var n=[8,10,12,14,16];
for(var H in CAMS){var y=CAMS[H];if(y.length==4)continue;var c=y[4],Q=y[5];for(var l=0;l<n.length;l++)if(c*Q*n[l]==w)return[H,n[l]]}var q=[[4e3,3e3]];
for(var l=0;l<q.length;l++){var y=q[l],c=y[0],Q=y[1];for(var l=0;l<n.length;l++)if(c*Q*n[l]==w)return[y,n[l]]}return null};
O.raw.a1T=function(w){var w=new Uint8Array(w);for(var l=0;l<w.length;l+=2){var n=w[l];w[l]=w[l+1];w[l+1]=n}var H=O.raw.c7(w.length),y=CAMS[H[0]];
if(y==null)y=[[8489,-2583,-1036,-8051,15583,2643,-1307,1407,7354],0,1e3,64383,H[0][0],H[0][1]];var c=y[4],Q=y[5],q=Math.max(y[2],116),S={data:w,Ki:1,width:c,height:Q,t256:[c],t257:[Q],t258:[H[1]],t277:[1],t33421:[2,2],t33422:O.raw.qO[y[1]],t50706:[1,2,0,0],t50714:[q,q,q,q],t50717:[y[3]],t50721:y[0].slice(0),t50723:[1,0,0,0,1,0,0,0,1],t50728:[.64,1,.46],t50778:[17]};
for(var l=0;l<9;l++)S.t50721[l]/=1e4;return S};O.raw.za=function(w){if(w==null||w.length==0||typeof w[0]=="number")return w;
var n=[];for(var l=0;l<w.length;l++)n[l]=w[l][1]==0?0:w[l][0]/w[l][1];return n};O.raw.qO=[[2,1,1,0],[0,1,1,2],[1,0,2,1],[1,2,0,1]];
O.raw.normalize=function(w,n){if(w.t50706!=null||w.t271[0].startsWith("Hasselblad")){var H=[50714,50718,50719,50720,50721,50722,50723,50724,50727,50728,50730,50731,50732,50734,50736,50738,50739,50780,50964,50965];
for(var l=0;l<H.length;l++)if(w["t"+H[l]]!=null)w["t"+H[l]]=O.raw.za(w["t"+H[l]]);if(w.t271&&w.t271[0].startsWith("Hasselblad")){w.t50706=[1,2,0,0];
w.t33422=O.raw.qO[1];w.t50723=[1,0,0,0,1,0,0,0,1];w.t50778=[17];if(!w.isLE)for(var l=0;l<w.data.length;
l+=2){var y=w.data[l];w.data[l]=w.data[l+1];w.data[l+1]=y}}if(w.t272&&w.t272[0]=="HERO10 Black"){w.t50728=[.469725,1,.739884];
if(!w.t305[0].startsWith("Adobe")){var c=new Uint16Array(w.data.buffer);for(var l=0;l<c.length;l++)c[l]>>>=2}}return}var Q=w.t258[0],q=w.exifIFD,n=new Uint8Array(n);
w.t50706=[1,2,0,0];var S=w.t272[0].trim();if(S.indexOf(" ")==-1)S=w.t271[0].trim()+" "+S;if(w.t50708==null)w.t50708=[S];
var A=S.toLowerCase(),V=CAMS,e=V[A];if(e==null)for(var d in V)if(A.startsWith(d))e=V[d];if(e==null)alert("Unknown camera:"+S);
else{var N=e[2];w.t50714=[N,N,N,N];if(w.t272=="Canon EOS REBEL T3")e[3]=13584;w.t50717=[e[3]];w.t50721=e[0].slice(0);
for(var l=0;l<9;l++)w.t50721[l]=w.t50721[l]*(1/1e4)}w.t50723=[1,0,0,0,1,0,0,0,1];if(w.t50728==null)w.t50728=[.35,1,.6];
w.t50778=[17];if(w.t271[0].startsWith("SONY")){var b=UTIF["_bin"+(w.isLE?"LE":"BE")],z=w.t28688,E;if(JSON.stringify(z)!="[8000,10400,12900,14100]")console.log(z);
if(z){var v=[0,0,0,0,0,4095],T=new Uint16Array(16385);for(var l=0;l<4;l++){var Y=z[l]>>>2;v[l+1]=Y;if(Y>4095)throw"e"}for(var l=0;
l<16385;l++)T[l]=l;for(var l=0;l<5;l++)for(var g=v[l]+1;g<=v[l+1];g++)T[g]=T[g-1]+(1<<l);var R=n.length*8<w.width*w.height*Q;
if(R)w.t50712=T}else console.log("no curve");var h=w.dngPrvt;if(h){var G=h.t29184[0],k=h.t29185[0],$=(w.isLE?j.U5:j.s)(h.t29217,0),p=new Uint32Array(n.slice(G,G+(k&4294967292)).buffer),X=new Uint32Array(k>>>2);
O.raw.a5H(p,X,k>>>2,$);var C=new Uint8Array(G+k);C.set(new Uint8Array(X.buffer),G);var D=[];UTIF._readIFD(b,C,G,D,0,!1);
var o=D.pop(),t=o.t29458;w.t50728=[t[1]/t[0],1,t[1]/t[3]];w.t50730=[.5];var u=o.t29891;w.t50829=[u[1],u[0],u[3],u[2]]}else if(q.makerNote&&q.makerNote.t8208){var E=q.makerNote,m=E.t8208,U=m.length,I=0,x=new Uint8Array(256);
for(var l=249;l<256;l++)x[l]=l;for(var l=0;l<249;l++)x[l*l*l%249]=l;for(var l=0;l<U;l++)m[l]=x[m[l]];
if(U==6604)I=612;else throw"e";var t=[];for(var l=0;l<3;l++)t.push(j.DH(m,I+l*2));console.log(t);w.t50728=[t[1]/t[0],1,t[1]/t[2]]}else console.log("no white balance");
if(w.width*w.height*1.5==w.t279[0]){N=N>>>2;w.t50714=[N,N,N,N];w.t50717=[e[3]>>>2]}}else if(w.t271[0].startsWith("Canon")){var n=w.data,J=n.slice(0),r=w.t50752,Z=[],F=0;
if(r==null||r[0]==0&&r[1]==0)Z.push(w.width);else{for(var l=0;l<r[0];l++)Z.push(r[1]);Z.push(r[2])}var f=w.width*2,_=w.t50885&&w.t50885[0]==4;
if(!_)for(var K=0;K<Z.length;K++){var B=Z[K],ij=2*F,W=2*B;for(var L=0;L<w.height;L+=2){var i=L*f+ij,e3=w.height*ij+L*W;
for(var l=0;l<W;l++){n[i+l]=J[e3+l];n[i+l+f]=J[e3+l+W]}}F+=B}else{for(var K=0;K<Z.length;K++){var B=Z[K]/((r[0]*r[1]+r[2])/w.width);
for(var L=0;L<w.height;L++){var i=(L*w.width+F)*6,e3=(w.height*F+L*B)*6;for(var l=0;l<B*6;l++)n[i+l]=J[e3+l]}F+=B}var eE=new Uint16Array(n.buffer),ec=new Uint16Array(1),gw=new Int16Array(ec.buffer);
for(var l=0;l<eE.length;l+=3){var bl=eE[l],cD=eE[l+1],a$=eE[l+2];ec[0]=cD<<2;cD=gw[0]>>2;ec[0]=a$<<2;
a$=gw[0]>>2;eE[l+0]=Math.max(0,a$+bl);eE[l+1]=Math.max(0,(bl<<12)-cD*778-(a$<<11)>>12);eE[l+2]=Math.max(0,cD+bl)}}var E=q.makerNote;
if(E.t16385){var hJ=E.t224,fI=0;if(hJ){var G=w.t50719=[hJ[5],hJ[6]],ei=w.t50720=[hJ[7]+1-hJ[5],hJ[8]+1-hJ[6]],df=E.t154;
if(df){G[0]+=df[3];G[1]+=df[4];ei[0]=df[1];ei[1]=df[2]}}var bM=E.t16385,ib=bM.length;if(ib==582)fI=1;
else if(ib==653)fI=2;else if(ib==796)fI=3;else if([692,674,702,1227,1250,1251,1337,1338,1346].indexOf(ib)!=-1)fI=4;
else if(ib==5120){fI=5;bM=new Int16Array(bM.slice(0).buffer)}else if(ib==1273||ib==1275)fI=6;else if([1312,1313,1316,1506].indexOf(ib)!=-1)fI=7;
else if([1560,1592,1353,1602].indexOf(ib)!=-1)fI=8;else throw"e"+ib;var eU=bM[0],gK=[null,[25,166],[34,286],[63,196],[63],[71,eU==-4?333:264],[63,251],[63,eU==10?504:728],[63,326]],I=gK[fI][0],bs=gK[fI][1];
if(fI==4){if(bM[0]==2)bs=231;else if(bM[0]==3)bs=231;else if(bM[0]==4)bs=231;else if(bM[0]==5)bs=231;
else if(bM[0]==6)bs=231;else if(bM[0]==7)bs=231;else if(bM[0]==9)bs=231;else throw"e"}w.t50728=[bM[I+1]/bM[I],1,bM[I+1]/bM[I+3]];
var N=bs==null?1024:bM[bs];if(fI!=4)w.t50714=[N,N,N,N]}else{w.t50728=[.4,1,.6]}if(_){w.t277=[3];w.t50728=[1,1,1];
w.t50714=[0,0,0,0]}}else if(w.t271[0].startsWith("NIKON")){var E=q.makerNote,km=w.isLE?j.DH:j.Mz,k4=0,aK=0,gN,fq=0;
if(E.t61){var aJ=E.t61,ip=[];for(var l=0;l<4;l++)ip[l]=aJ[l]/Math.pow(2,14-Q);w.t50714=ip}if(E.t3585){var fl=E.t3585,l=0,G=22;
while(G<fl.length&&l!=-4){var b3=j.U5(fl,G);G+=4;G+=14;l=j.U5(fl,G)-4;G+=4;if(b3==1990472198){if(fl[G]!=0)throw"Flip"}if(b3==1990472199){var dY=j.DH(fl,G);
if(dY==0)w.Ki=1;else if(dY==270)w.Ki=8;else throw"e "+dY}G+=l}}if(E.t183){var jK=E.t183,ei=[];for(var l=0;
l<6;l++)ei.push(km(jK,16+l*2));k4=ei[0];aK=ei[1]}if(E.t3614){var ay=E.t3614;k4=j.U5(ay,8);aK=j.U5(ay,12)}if(k4!=0&&Math.max(k4,aK)<Math.max(w.width,w.height)){if(k4<aK){var y=k4;
k4=aK;aK=y}var F=w.width-k4>>>1,L=w.height-aK>>>1;w.t50829=[L,F,L+aK,F+k4]}else w.t50829=[8,8,w.height-8,w.width-56];
var f8=E.t69;if(f8)w.t50829=[f8[1],f8[0],f8[1]+f8[3],f8[0]+f8[2]];if(E.t12){var d4=O.raw.za(E.t12);gN=[1/d4[0],1,1/d4[1]]}else if(E.t151){var bK=O.raw.auI(E,151),hf=bK[0],dO=bK[1],bC=bK[2];
if(hf=="0100"&&dO>=80)throw"e";else if(hf=="0102"){var gW=[];for(var l=0;l<4;l++)gW.push(km(bC,6+l*2));
gN=[gW[1]/gW[0],1,gW[1]/gW[3]]}else if(hf=="0103"&&dO>=26){var gW=[];for(var l=0;l<4;l++)gW.push(km(bC,16+l*2));
gN=[gW[1]/gW[0],1,gW[3]/gW[2]]}else if(hf=="0204"&&dO>=564||hf=="0205"&&dO>=284){var G=hf=="0204"?6:14,gW=[];
for(var l=0;l<4;l++)gW.push(km(bC,G+l*2));gN=[gW[1]/gW[0],1,gW[1]/gW[3]]}else throw"e"}else console.log("no white balance info");
if(S=="NIKON D1")gN=[1,1,1];if(gN)w.t50728=gN;var dn=E.t150?E.t150:E.t140;if(dn){var jN=dn[fq++],cU=dn[fq++],a_;
if(jN==73||cU==88)fq+=2110;fq+=8;var jb=1<<Q&32767,ac=km(dn,fq);fq+=2;var T=[];if(ac>1)a_=Math.floor(jb/(ac-1));
if(jN==68&&cU==32&&a_>0){for(l=0;l<ac;l++){T[l*a_]=km(dn,fq);fq+=2}for(l=0;l<jb;l++)T[l]=Math.floor((T[l-l%a_]*(a_-l%a_)+T[l-l%a_+a_]*(l%a_))/a_)}else if(jN!=70&&ac<=16385){jb=ac;
for(var l=0;l<ac;l++)T[l]=km(dn,fq+2*l);fq+=2*ac}var h5=w.t272[0];if(T.length!=0)w.t50712=new Uint16Array(T);
if(w.t258[0]==14&&w.t50717[0]<1e4){console.log("fixing white");w.t50717[0]*=4}}}else if(S.startsWith("FujiFilm")){}else if(S.startsWith("Panasonic")){if(w.t277==null)w.t277=[1]}else alert("Unknown camera "+S)};
O.raw.a5H=function(w,n,H,y){if(0==H)return;var c=new Uint32Array(128),Q=new Uint8Array(c.buffer),q=127,S=0,A=0;
for(var q=0;q<4;q++)c[q]=y=(y*15625>>>0)*3125+1>>>0;c[3]=c[3]<<1|(c[0]^c[2])>>>31;for(var q=4;q<127;
q++)c[q]=(c[q-4]^c[q-2])<<1|(c[q-3]^c[q-1])>>>31;for(var q=0;q<127;q++)c[q]=j.s(Q,q*4);for(;H>0;H--){c[q&127]=c[q+1&127]^c[q+1+64&127];
var V=c[q&127],e=w[S];e^=V;n[A]=e;S++;A++;q++}};O.raw.ahh=function(w,n){var H=j.QN(n,0,4),y=O.raw.a2G;
for(var l=0;l<y.length;l++)if(y[l][0]==w&&H.startsWith(y[l][1])&&(y[l][2]==0||y[l][2]==n.length))return y[l];
throw"e"};O.raw.at7=function(w){if(w.t29==null)return[];var n=O.raw.a2f,H=O.raw.ahQ,y=w.t29[0],c=0,q=0;
for(var l=0;l<y.length;l++){var Q=y.charCodeAt(l);c=c*10+(48<=Q&&Q<=57?Q-48:Q%10)}var dO=w.t167[0];for(var l=0;
l<4;l++)q^=dO>>>(l<<3)&255;var S=n[c&255],A=H[q&255];return[S,A,96]};O.raw.auI=function(w,n){var H=w["t"+n],dO=H.length,y=O.raw.ahh(n,H),c=j.QN(H,0,4),Q,q=y[4];
if(q==null)Q=H.slice(4);else{Q=new Uint8Array(dO-q);var S=O.raw.at7(w),A=S[0],V=S[1],e=S[2];for(var l=0;
l<Q.length;l++){V=V+A*e++&255;Q[l]=H[q++]^V}}return[c,dO,Q]};O.raw.a2G=[[145,"0208",0,0,4],[145,"0209",0,1,4],[145,"0210",5291,2,4],[145,"0210",5303,3,4],[145,"02",0,4,4],[145,"01",0,5,null],[151,"0100",0,0,null],[151,"0102",0,1,null],[151,"0103",0,4,null],[151,"0204",0,3,284],[151,"0205",0,2,4],[151,"0206",0,3,284],[151,"0207",0,3,284],[151,"0208",0,3,284],[151,"0209",0,5,284],[151,"02",0,3,284],[152,"0100",0,0,null],[152,"0101",0,1,null],[152,"0201",0,1,4],[152,"0202",0,1,4],[152,"0203",0,1,4],[152,"0204",0,2,4],[168,"0100",0,0,null],[168,"0101",0,0,null],[168,"0102",0,1,null],[168,"0103",0,2,null]];
O.raw.a2f=[193,191,109,13,89,197,19,157,131,97,107,79,199,127,61,61,83,89,227,199,233,47,149,167,149,31,223,127,43,41,199,13,223,7,239,113,137,61,19,61,59,19,251,13,137,193,101,31,179,13,107,41,227,251,239,163,107,71,127,149,53,167,71,79,199,241,89,149,53,17,41,97,241,61,179,43,13,67,137,193,157,157,137,101,241,233,223,191,61,127,83,151,229,233,149,23,29,61,139,251,199,227,103,167,7,241,113,167,83,181,41,137,229,43,167,23,41,233,79,197,101,109,107,239,13,137,73,47,179,67,83,101,29,73,163,19,137,89,239,107,239,101,29,11,89,19,227,79,157,179,41,67,43,7,29,149,89,89,71,251,229,233,97,71,47,53,127,23,127,239,127,149,149,113,211,163,11,113,163,173,11,59,181,251,163,191,79,131,29,173,233,47,113,101,163,229,7,53,61,13,181,233,229,71,59,157,239,53,163,191,179,223,83,211,151,83,73,113,7,53,97,113,47,67,47,17,223,23,151,251,149,59,127,107,211,37,191,173,199,197,197,181,139,239,47,211,7,107,37,73,149,37,73,109,113,199];
O.raw.ahQ=[167,188,201,173,145,223,133,229,212,120,213,23,70,124,41,76,77,3,233,37,104,17,134,179,189,247,111,97,34,162,38,52,42,190,30,70,20,104,157,68,24,194,64,244,126,95,27,173,11,148,182,103,180,11,225,234,149,156,102,220,231,93,108,5,218,213,223,122,239,246,219,31,130,76,192,104,71,161,189,238,57,80,86,74,221,223,165,248,198,218,202,144,202,1,66,157,139,12,115,67,117,5,148,222,36,179,128,52,229,44,220,155,63,202,51,69,208,219,95,245,82,195,33,218,226,34,114,107,62,208,91,168,135,140,6,93,15,221,9,25,147,208,185,252,139,15,132,96,51,28,155,69,241,240,163,148,58,18,119,51,77,68,120,40,60,158,253,101,87,22,148,107,251,89,208,200,34,54,219,210,99,152,67,161,4,135,134,247,166,38,187,214,89,77,191,106,46,170,43,239,230,120,182,78,224,47,220,124,190,87,25,50,126,42,208,184,186,41,0,60,82,125,168,73,59,45,235,37,73,250,163,170,57,167,197,167,80,17,54,251,198,103,74,245,165,18,101,126,176,223,175,78,179,97,127,47];
O.Fy={};O.Fy.Fy=function(w,n,H,y,c){if(y==null)y=3;if(c==null)c=!0;var Q=w.m,q=w.e,S=1/Q,A=Q*q,V=Date.now(),e=!1,d=O.Fy.W7(H,Q,q,255,128),N=O.Fy.W7(H,Q,q,0,128),W=0;
if(e)console.log("extract contours",Date.now()-V);V=Date.now();var b=function(d4,bK){var hf=d4<<2,bC=bK<<2;
return n[hf]+n[hf+1]+n[hf+2]-(n[bC]+n[bC+1]+n[bC+2])};d.sort(b);N.sort(b);var z=O.R(A),v=O.R(A),T=[],Y=new Uint32Array(Q*q);
Y.fill(4294967295);for(var l=0;l<A;l++)if(H[l]==0)v[l]=255;else if(H[l]==255)z[l]=255;else{Y[l]=T.length;
T.push(l)}var g=d.length,R=N.length,h=T.length;function E(d4,bK,hf,bC){var gW=d4.length,dn=new Array(gW*2);
for(var l=0;l<gW;l++){var U=d4[l],I=~~(U*bC),x=U-I*hf,ay=U<<2;dn[l*2]=x<<16|I;dn[l*2+1]=bK[ay]<<16|bK[ay+1]<<8|bK[ay+2]}return dn}var G=E(d,n,Q,S),k=E(N,n,Q,S),$=E(T,n,Q,S);
if(e)console.log("Itemize",Date.now()-V,"Unknown:",h,g,R);V=Date.now();var p=O.style.C6(z,Q,q,!0),X=O.style.C6(v,Q,q,!0),C=new Array(h),D=new Array(h),o=new Array(h),t=new Array(h),u=new Array(h);
if(e)console.log("Dist transform",Date.now()-V);V=Date.now();var m=O.Fy.Rk;for(var l=0;l<h;l++){var U=T[l],I=~~(U*S),x=U-I*Q,J=p[U<<1],r=p[(U<<1)+1],Z=Math.sqrt(J*J+r*r),f=X[U<<1],F=X[(U<<1)+1],_=Math.sqrt(f*f+F*F);
C[l]=1/Z;D[l]=1/_;var K=Math.floor(O.q.bj(U*17)*g),B=Math.floor(O.q.bj(U*19)*R);o[l]=K;t[l]=B;u[l]=m($[l*2],$[l*2+1],G[K*2],G[K*2+1],k[B*2],k[B*2+1],C[l],D[l],1e9)}var ij=[-Q-1,-Q,-Q+1,-1,1,Q-1,Q,Q+1];
while(Math.floor(Math.max(g,R)*Math.pow(.5,W))>1)W++;for(var L=0;L<y;L++){var i=0;for(var l=0;l<h;l++){var U=T[l],I=~~(U*S),x=U-I*Q,e3=C[l],eE=D[l],ec=$[l*2],gw=$[l*2+1],bl=u[l],K=o[l],B=t[l],bM=1;
if(I!=0&&x!=0&&x!=Q-1&&I!=q-1)for(var cD=0;cD<8;cD++){var a$=Y[U+ij[cD]];if(a$==4294967295)continue;
var hJ=o[a$],ei=t[a$];if(hJ==K&&ei==B)continue;var df=m(ec,gw,G[hJ*2],G[hJ*2+1],k[ei*2],k[ei*2+1],e3,eE,bl);
if(df<bl){bl=df;K=hJ;B=ei}}for(var ib=0;ib<W;ib++){var fI=~~(g*bM),eU=~~(R*bM);bM*=.5;var gK=O.q.bj(U+L*17+ib*31),bs=O.q.bj(U+L*29+ib*63),km=Math.max(0,K-fI),aJ=Math.min(K+fI,g-1),ip=Math.max(0,B-eU),fl=Math.min(B+eU,R-1),hJ=km+~~(gK*(aJ-km)),ei=ip+~~(bs*(fl-ip)),df=m(ec,gw,G[hJ*2],G[hJ*2+1],k[ei*2],k[ei*2+1],e3,eE,bl);
if(df<bl){bl=df;K=hJ;B=ei}}u[l]=bl;o[l]=K;t[l]=B;i+=bl}}if(e)console.log(i);if(e)console.log("iterations",Date.now()-V);
V=Date.now();var b3=H.slice(0);for(var l=0;l<h;l++){var k4=O.Fy.alpha($[l*2+1],G[o[l]*2+1],k[t[l]*2+1]);
b3[T[l]]=~~(.5+255*k4)}b3=O.jE.agT(b3,n,new cr(0,0,Q,q),16,.01*.01);if(e)console.log("guided filter",Date.now()-V);
V=Date.now();if(c)for(var l=0;l<A;l++)if(H[l]==255||H[l]==0)b3[l]=H[l];var aK=n.slice(0);for(var l=0;
l<h;l++){var jK=T[l],K=d[o[l]],bl=u[l],ay=jK<<2,f8=b3[jK],gN=(f8>=250?jK:K)<<2;aK[ay]=n[gN];aK[ay+1]=n[gN+1];
aK[ay+2]=n[gN+2]}O.o2(b3,aK,3);if(e)console.log(Date.now()-V);V=Date.now();return aK};O.Fy.Rk=function(w,n,H,y,c,Q,q,S,A){var V=w>>>16,e=w&65535,d=V-(H>>>16),N=e-(H&65535),b=V-(c>>>16),z=e-(c&65535),v=Math.sqrt(d*d+N*N)*q,T=Math.sqrt(b*b+z*z)*S;
if(v+T>=A)return 1e9;var Y=O.Fy.acB(n,y,Q);return Y+v+T};O.Fy.acB=function(w,n,H){var y=w>>>16,c=w>>>8&255,Q=w&255,q=n>>>16,S=n>>>8&255,A=n&255,V=H>>>16,e=H>>>8&255,d=H&255,N=O.Fy.alpha(w,n,H),b=y-(N*q+(1-N)*V),v=c-(N*S+(1-N)*e),T=Q-(N*A+(1-N)*d);
return Math.sqrt(b*b+v*v+T*T)};O.Fy.alpha=function(w,n,H){var y=w>>>16,c=w>>>8&255,Q=w&255,q=n>>>16,S=n>>>8&255,A=n&255,V=H>>>16,e=H>>>8&255,d=H&255,N=q-V,b=S-e,z=A-d,v=y-V,T=c-e,Y=Q-d,g=N*N+b*b+z*z,R=g==0?.5:(v*N+T*b+Y*z)/g;
return Math.max(0,Math.min(1,R))};O.Fy.acv=function(w){};O.Fy.W7=function(w,n,H,y,c){var Q=[],q=n-1,S=H-1;
for(var A=1;A<S;A++)for(var V=1;V<q;V++){var l=A*n+V;if(w[l]==y&&(w[l-n-1]==c||w[l-n]==c||w[l-n+1]==c||(w[l-1]==c||w[l+1]==c)||(w[l+n-1]==c||w[l+n]==c||w[l+n+1]==c)))Q.push(l)}return Q};
O.jE={};O.jE.aej=function(w,n,H,y,c){var Q=H.m,q=H.e,S=Q*q,A=O.jE._W,V=O.R(S*4),e;O.jZ(V,4294967295);
var d=H,N=w,b=n,z=y;O.o2(w,V,0);e=O.Bb(V,H);e=O.Bb(e.fF,e.rect);d=e.rect;z=y>>>2;console.log(d,z);N=O.R(d.O());
O.RR(e.fF,N,0);O.o2(n,V,0);e=O.Bb(V,H);e=O.Bb(e.fF,e.rect);b=O.R(d.O());O.RR(e.fF,b,0);var v=O.jE.atK(N,b,d,z,c),T=v[0],Y=v[1],g=new cr(0,0,d.m*2,d.e*2);
T=A(T,d,g,!0);T=A(T,g,H,!0);Y=A(Y,d,g,!0);Y=A(Y,g,H,!0);var R=O.R(S);for(var l=0;l<S;l++)R[l]=Math.max(0,Math.min(255,Math.floor(.5+(T[l]*n[l]+255*Y[l]))));
return R};O.jE._W=function(w,n,H,y){var c=H.m,Q=H.e,q=n.m,S=n.e,A=O.jE.y$,V=new Float32Array(c*Q);for(var e=0;
e<S;e++){var d=(e+e)*c;for(var N=0;N<q;N++){if(!0||N==0||e==0||N==q-1||e==S-1)V[d]=V[d+1]=V[d+c]=V[d+c+1]=w[e*q+N];
else{V[d]=A(N+.25,e+.25,w,q,S);V[d+1]=A(N+.75,e+.25,w,q,S);V[d+c]=A(N+.25,e+.75,w,q,S);V[d+c+1]=A(N+.75,e+.75,w,q,S)}d+=2}}return V};
O.jE.y$=function(w,n,H,y,c){w-=.499999;n-=.499999;var Q=Math.floor(w),q=Math.floor(n),S=q*y+Q,A=w-Q,V=n-q,e=(1-V)*(1-A),d=(1-V)*A,N=V*(1-A),b=V*A;
if(H[S]==null||H[S+y+1]==null){console.log(w,n,y,c);throw"e"}return e*H[S+0]+d*H[S+1]+N*H[S+y+0]+b*H[S+y+1]};
O.jE.atK=function(w,n,H,y,c){var Q=H.m,q=H.e,S=Q*q,A=O.jE.rz,V=O.jE.R,e=O.CU.J_,d=O.jE.g6,n=A(n),w=A(w),N=V(S);
e(n,N,H,y);var b=V(S);e(w,b,H,y);var z=V(S);d(n,n,z);e(z,z,H,y);var v=V(S);d(n,w,v);e(v,v,H,y);var T=V(S),Y=V(S);
for(var l=0;l<S;l++){var g=N[l],R=b[l],h=z[l]-g*g,E=v[l]-g*R,G=E/(h+c),k=R-G*g;T[l]=G;Y[l]=k}var $=V(S);
e(T,$,H,y);var p=V(S);e(Y,p,H,y);return[$,p]};O.jE.agT=function(w,n,H,y,c){var Q=H.m,q=H.e,S=Q*q,A=O.jE._W,V=Date.now(),e=!1,d=H,N=w,b=n,z=y;
d=new cr(0,0,Q>>>2,q>>>2);z=y>>>2;N=O.jE.aty(w,Q,q);b=O.jE.ahn(n,Q,q);if(e)console.log(Date.now()-V);
V=Date.now();var v=O.jE.aiM(N,b,d,z,c),T=v[0],Y=v[1],g=v[2],R=v[3];if(e)console.log(Date.now()-V);V=Date.now();
var h=O.R(S);for(var E=0;E<q;E++)for(var G=0;G<Q;G++){var l=E*Q+G,k=(E>>>2)*(Q>>>2)+(G>>>2),$=l<<2,p=T[k]*n[$]+Y[k]*n[$+1]+g[k]*n[$+2]+R[k]*255;
h[l]=Math.max(0,Math.min(255,~~(.5+p)))}if(e)console.log(Date.now()-V);V=Date.now();return h};O.jE.aty=function(w,n,H){var y=n>>>2,c=H>>>2,Q=O.R(n*H);
for(var q=0;q<c;q++)for(var S=0;S<y;S++)Q[q*y+S]=w[q*n+S<<2];return Q};O.jE.ahn=function(w,n,H){var y=n>>>2,c=H>>>2,Q=O.R(n*H*4);
for(var q=0;q<c;q++)for(var S=0;S<y;S++){var A=q*y+S<<2,V=q*n+S<<4;Q[A]=w[V];Q[A+1]=w[V+1];Q[A+2]=w[V+2];
Q[A+3]=w[V+3]}return Q};O.jE.aiM=function(w,n,H,y,c){var Q=H.m,q=H.e,S=Q*q,A=O.jE.rz,V=O.jE.R,e=O.CU.J_,d=O.jE.g6,w=A(w),N=new O.$Z(Q*q);
O.cw(n,N);var n=[A(N.b),A(N.J),A(N.k)],b=O.jE.afQ(w,n,H,y,c),z=V(S);e(w,z,H,y);var v=V(S);d(n[0],w,v);
e(v,v,H,y);var T=V(S);d(n[1],w,T);e(T,T,H,y);var Y=V(S);d(n[2],w,Y);e(Y,Y,H,y);var g=V(S),R=V(S),h=V(S),E=V(S);
for(var l=0;l<S;l++){var G=z[l],k=b.H8[l],$=b.I9[l],p=b.T8[l],X=v[l]-k*G,C=T[l]-$*G,D=Y[l]-p*G;g[l]=b.ao9[l]*X+b.GT[l]*C+b.Ct[l]*D;
R[l]=b.GT[l]*X+b.a7l[l]*C+b.mh[l]*D;h[l]=b.Ct[l]*X+b.mh[l]*C+b.ayd[l]*D;E[l]=G-g[l]*k-R[l]*$-h[l]*p}e(g,g,H,y);
e(R,R,H,y);e(h,h,H,y);e(E,E,H,y);return[g,R,h,E]};O.jE.afQ=function(w,n,H,y,c){var Q=H.m,q=H.e,S=Q*q,A=O.jE.R,V=O.CU.J_,e=O.jE.g6,d={};
d.H8=A(S);V(n[0],d.H8,H,y);d.I9=A(S);V(n[1],d.I9,H,y);d.T8=A(S);V(n[2],d.T8,H,y);var N=A(S);e(n[0],n[0],N);
V(N,N,H,y);var b=A(S);e(n[0],n[1],b);V(b,b,H,y);var z=A(S);e(n[0],n[2],z);V(z,z,H,y);var v=A(S);e(n[1],n[1],v);
V(v,v,H,y);var T=A(S);e(n[1],n[2],T);V(T,T,H,y);var Y=A(S);e(n[2],n[2],Y);V(Y,Y,H,y);d.ao9=N;d.GT=b;
d.Ct=z;d.a7l=v;d.mh=T;d.ayd=Y;for(var l=0;l<S;l++){var g=d.H8[l],R=d.I9[l],h=d.T8[l],E=N[l]-g*g+c,G=b[l]-g*R,k=z[l]-g*h,$=v[l]-R*R+c,p=T[l]-R*h,X=Y[l]-h*h+c,C=$*X-p*p,D=p*k-G*X,o=G*p-$*k,t=E*X-k*k,u=k*G-E*p,m=E*$-G*G,U=C*E+D*G+o*k,I=1/U;
d.ao9[l]=C*I;d.GT[l]=D*I;d.Ct[l]=o*I;d.a7l[l]=t*I;d.mh[l]=u*I;d.ayd[l]=m*I}return d};O.jE.R=function(w){return new Float32Array(w)};
O.jE.rz=function(w){var n=w.length,H=new Float32Array(n);for(var l=0;l<n;l++)H[l]=w[l]*(1/255);return H};
O.jE.g6=function(w,n,H){for(var l=0;l<w.length;l++)H[l]=w[l]*n[l]};O.J7={};O.J7.ny=function(w,n,H,y){var c=w[n]-H[y],Q=w[n+1]-H[y+1],q=w[n+2]-H[y+2];
return Math.sqrt(c*c+Q*Q+q*q)*(1/441.7)};O.J7.getSelection=function(w,n,H){var y=n*H,c=O.R(y),Q=!1,q=Math.round(H*.7),S=1,A=new Uint32Array(12),V=O.R(12);
for(var e=0;e<q;e++)for(var d=0;d<n;d++){if(d<S||e<S||d>n-S-1||e>H-S-1){var l=e*n+d,N=l<<2,b=0;if(e<S)b=4;
else if(d>n-S-1)b=8;A[b]+=w[N];A[b+1]+=w[N+1];A[b+2]+=w[N+2];A[b+3]++;c[l]=255}}for(var l=0;l<12;l+=4)for(var z=0;
z<3;z++)V[l+z]=A[l+z]/A[l+3];var v=new Float32Array(y);for(var l=0;l<y;l++){var N=l*4,T=O.J7.ny(w,N,V,0),Y=O.J7.ny(w,N,V,4),g=O.J7.ny(w,N,V,8),R=Math.max(T,Math.max(Y,g));
v[l]=T+Y+g-R}O.J7.wU(v);var h=Date.now(),E=new Float32Array(y),G=[],k=O.R(y);for(var l=0;l<3;l++){O.RR(w,k,l);
var $=new Uint16Array(y);G.push($);O.J7.arX(k,c,n,H,$)}if(Q)console.log("MBD",Date.now()-h);h=Date.now();
for(var l=0;l<y;l++)E[l]=G[0][l]+G[1][l]+G[2][l];O.J7.wU(E);for(var l=0;l<y;l++)E[l]+=.4*v[l];var p=n>>>1,q=H>>>1,X=1/Math.sqrt(p*p+q*q);
for(var e=0;e<H;e++)for(var d=0;d<n;d++){var C=d-p,D=e-q,o=1-Math.sqrt(C*C+D*D)*X;E[e*n+d]*=o}if(Q)console.log("Centeredness",Date.now()-h);
h=Date.now();for(var l=0;l<y;l++)c[l]=E[l]*255;var t=Math.round(n/120),u=Math.round(t*.8);if(Q)console.log(t,u);
O.Hs.m9(c,k,n,H,t,O.Hs.vy,[]);c.set(k);if(Q)console.log("erosion",Date.now()-h);h=Date.now();for(var l=0;
l<y;l++)E[l]=c[l];O.J7.wU(E);var m=O.R(256);for(var l=0;l<256;l++)m[l]=256/(1+Math.exp(-20*(l/255-.5)));
for(var l=0;l<y;l++){var U=~~(E[l]*255+.5);c[l]=m[U]}if(Q)console.log("Simoid",Date.now()-h);h=Date.now();
return c};O.J7.wU=function(w){var n=w.length,H=0;for(var l=0;l<n;l++)H=Math.max(H,w[l]);var y=1/H;for(var l=0;
l<n;l++)w[l]=w[l]*y};O.J7.arX=function(w,n,H,y,c){var Q=H*y,q=w.slice(0),S=w.slice(0);for(var l=0;l<Q;
l++)c[l]=n[l]==255?0:65535;O.J7.Iw(w,S,q,c,H,y);O.J7.K1(w,S,q,c,H,y);O.J7.Iw(w,S,q,c,H,y);O.J7.K1(w,S,q,c,H,y);
return c};O.J7.Iw=function(w,n,H,y,c,Q){for(var q=1;q<c;q++)O.J7.AE(q,-1,w,n,H,y);for(var S=1;S<Q;S++){O.J7.AE(S*c,-c,w,n,H,y);
for(var q=1;q<c;q++){var l=S*c+q;O.J7.AE(l,-1,w,n,H,y);O.J7.AE(l,-c,w,n,H,y)}}};O.J7.K1=function(w,n,H,y,c,Q){for(var q=c-2;
q>=0;q--)O.J7.AE(c*Q-c+q,1,w,n,H,y);for(var S=Q-2;S>=0;S--){O.J7.AE(S*c+c-1,c,w,n,H,y);for(var q=c-2;
q>=0;q--){var l=S*c+q;O.J7.AE(l,1,w,n,H,y);O.J7.AE(l,c,w,n,H,y)}}};O.J7.AE=function(l,w,n,H,y,c){var Q=l+w,q=n[l],S=H[Q],A=y[Q];
if(S<q)S=q;else if(q<A)A=q;var V=S-A;if(c[Q]!=65535&&V<c[l]){c[l]=V;H[l]=S;y[l]=A}};O.RI={};O.RI.filter=function(w,n,H,y){var c=n.m,Q=n.e,q=c*Q,S=y[0],A=y[1],V=y[2],e=y[3],d=y[4],N=y[5],b=y[6],z=Date.now(),v=new Float32Array(c*Q*4);
O.RI.aed(w,c,Q,v);var T=Math.ceil(S*Math.sqrt(-2*Math.log(.1))),Y=new ArrayBuffer(q*4),g=new Float32Array(Y),R=new Float32Array(q),h=new Float32Array(q);
for(var l=0;l<q;l++){var E=l*4;g[l]=v[E];R[l]=v[E+1];h[l]=v[E+2]}O.CU.q4(g,g,n,T*1/2.4,2);O.CU.q4(R,R,n,T*1/2.4,2);
O.CU.q4(h,h,n,T*1/2.4,2);for(var l=0;l<q;l++){var E=l*4;v[E]=g[l];v[E+1]=R[l];v[E+2]=h[l]}var G=new Uint8Array(Y);
for(var l=0;l<q;l++){var E=l*4,k=l*4,g=v[E],R=v[E+1],h=v[E+2],$=Math.sqrt((g-h)*(g-h)+4*R*R),p=(g+h+$)*.5,X=(g+h-$)*.5,C=X-h,D=R,o=C*C+D*D;
if(o!=0){var t=Math.sqrt(o),u=1/t;C*=u;D*=u}G[k]=128+127*C;G[k+1]=128+127*D}var m=1.3*A+2,U=e*(2/10),I=w.slice();
if(dy._k){var x=new Float32Array([1/c,1/Q]),J=dy.On(0,c,Q);J.set(I);var r=dy.On(1,c,Q);r.set(G);dy.O0(J,n);
if(d){J.yp(n);dy.filter.Eo({type:dy.filter.a1A,i5:x,a4Z:1/V,avt:U},J.Qq)}J.yp(n);dy.filter.Eo({type:dy.filter.gx,d6:r.iX,i5:x,a5J:m,av6:2},J.Qq);
if(d){J.yp(n);dy.filter.Eo({type:dy.filter.ayt,i5:x,a6z:new Float32Array(b),aeD:N},J.Qq)}J.get(H)}else{if(d)O.RI.Wl(1/V,U,I,c,Q);
O.RI.gx(I,H,G,c,Q,m);if(d)O.RI.asS(c,Q,H,b,N)}var Z=q*4;for(var l=3;l<Z;l+=4)H[l]=w[l]};O.RI.gx=function(w,n,H,y,c,Q){var q=Math.ceil(2*Q),S=-1/(2*Q*Q),A=[],V=1;
for(var l=0;l<q+20;l++)A[l]=Math.exp(l*l*S);var e=[0,0,0,0];for(var d=0;d<c;d++){for(var N=0;N<y;N++){var b=d*y+N,z=b*4,v=1,T=w[z],Y=w[z+1],g=w[z+2],R=w[z+3],h=(H[z]-128)*(1/127),E=(H[z+1]-128)*(1/127),G=h,k=E,$=N==0?.51:.49,p=d==0?.51:.49;
for(var l=0;l<2;l++){var X=N+$,C=d+p,D=0;while(D<q){if(X<.5||y-.5<X||C<.5||c-.5<C)break;var o=~~X,t=~~C,u=t*y+o,m=u*4,U=(H[m]-128)*(1/127),I=(H[m+1]-128)*(1/127);
if(U*G+I*k<0){U=-U;I=-I}G=U;k=I;X+=V*U;C+=V*I;if(X<.5||y-.5<X||C<.5||c-.5<C)break;var x=~~X,J=~~C,r=J*y+x<<2;
D+=V;var Z=A[~~D];O.K.iv(X,C,w,y,c,e);T+=e[0]*Z;Y+=e[1]*Z;g+=e[2]*Z;R+=e[3]*Z;v+=Z}G=-h;k=-E}var f=1/v;
n[z]=~~(.5+T*f);n[z+1]=~~(.5+Y*f);n[z+2]=~~(.5+g*f);n[z+3]=~~(.5+R*f)}}};O.RI.asS=function(w,n,H,y,c){for(var Q=0;
Q<n;Q++)for(var q=0;q<w;q++){var S=Q*w+q<<2,A=1+O.RI.a02(q,Q,H,w,n,y)*c;H[S]=Math.max(0,Math.min(255,H[S]*A));
H[S+1]=Math.max(0,Math.min(255,H[S+1]*A));H[S+2]=Math.max(0,Math.min(255,H[S+2]*A))}};O.RI.a02=function(w,n,H,y,c,Q){var q=H[(n*y+Math.max(0,w-1))*4+3],S=H[(n*y+Math.min(y-1,w+1))*4+3],A=H[(Math.max(0,n-1)*y+w)*4+3],V=H[(Math.min(c-1,n+1)*y+w)*4+3],e=.7,d=(S-q)*(1/255),N=.7,b=(V-A)*(1/255),z=-d*N,v=-e*b,T=e*N,Y=Math.sqrt(z*z+v*v+T*T),g=1/Y,R=z*g,h=v*g,E=T*g,G=Q[0]*R+Q[1]*h+Q[2]*E;
return G};O.RI.Wl=function(w,n,H,y,c){function Q(S,V,e){return Math.max(V,Math.min(e,S))}for(var q=0;
q<c;q++)for(var S=0;S<y;S++){var A=O.RI.a0i(S+.5,q+.5,w,n);H[(q*y+S)*4+3]=Math.max(0,Math.min(255,A*255))}};
O.RI.a0i=function(w,n,H,y){function c(k,$,p){return(1-p)*k+p*$}var Q=(w+613)*H,q=(n+117)*H,S=~~Q,A=~~q,V=Q-S,e=q-A,d=Math.sin(11),N=Math.cos(S)*d,b=Math.cos(S+1)*d,z=Math.cos(A)*d,v=Math.cos(A+1)*d,ds=O.RI.hash(N,z),T=O.RI.hash(b,z),Y=O.RI.hash(N,v),g=O.RI.hash(b,v),R=c(ds,T,V),h=c(Y,g,V),E=c(R,h,e);
E=E<.5?0:1;var G=E+y*O.RI.hash(Math.cos(Q)*d,Math.cos(q)*d);return G*(1/3)};O.RI.hash=function(w,n){var H=Math.sin(w*11.697096+n*73.32456)*12157.47691;
return H-Math.floor(H)};O.RI.aed=function(w,n,H,y){var c=[-1,0,1,-2,0,2,-1,0,1],Q=[-1,-2,-1,0,0,0,1,2,1],q=n-1,S=H-1,A=n*4;
for(var V=1;V<S;V++)for(var e=1;e<q;e++){var l=V*n+e,d=l*4,N=O.RI.EF(w,d,A,c),b=O.RI.EF(w,d,A,Q),z=O.RI.EF(w,d+1,A,c),v=O.RI.EF(w,d+1,A,Q),T=O.RI.EF(w,d+2,A,c),Y=O.RI.EF(w,d+2,A,Q);
y[d]=N*N+z*z+T*T;y[d+1]=N*b+z*v+T*Y;y[d+2]=b*b+v*v+Y*Y}O.RI.a7c(y,n,H)};O.RI.EF=function(w,n,H,y){return w[n-H-4]*y[0]+w[n-H]*y[1]+w[n-H+4]*y[2]+w[n-4]*y[3]+w[n]*y[4]+w[n+4]*y[5]+w[n+H-4]*y[6]+w[n+H]*y[7]+w[n+H+4]*y[8]};
O.RI.a7c=function(w,n,H){function y(A,l,V){var e=l*4,d=V*4;A[d]=A[e];A[d+1]=A[e+1];A[d+2]=A[e+2]}var c=n-1,Q=H-1;
y(w,n+1,0);y(w,2*n-2,n-1);for(var q=1;q<c;q++)y(w,n+q,q);for(var S=1;S<Q;S++){y(w,S*n+1,S*n);y(w,S*n+n-2,S*n+n-1)}for(var q=1;
q<c;q++)y(w,(H-2)*n+q,(H-1)*n+q);y(w,(S-2)*n+1,(S-1)*n);y(w,(S-1)*n-2,S*n-1)};O.mN=function(){function w(V,e,d,N){var b=new Float32Array(V*V),z=V/2;
for(var v=0;v<V;v++)for(var T=0;T<V;T++){var Y=T+d-z,g=v+N-z;b[v*V+T]=Math.max(0,Math.min(1,e+.5-Math.sqrt(Y*Y+g*g)))}return b}var n=[],y=null;
function H(V,e,d,N){var b=Math.floor(e*10),z=n[b],v=V*8,T=v>>>1;if(z==null){z=n[b]=[];var Y=new cr(0,0,v,v),g=V/2/(1+.2*e),R=Math.floor(V*b*.1);
for(var h=0;h<2;h++)for(var E=0;E<2;E++){var G=w(v,g,.25+E*.5,.25+h*.5),k=0;O.CU.q4(G,G,Y,R);while(G[v*T+k]<.005)k++;
if(k!=0)k--;var $=2*(T-k),p=new cr(k,k,$,$),X=new Float32Array($*$);for(var C=0;C<$;C++)for(var D=0;
D<$;D++)X[C*$+D]=G[(k+C)*v+k+D];z.push([X,p])}}var o=Math.floor(d),t=Math.floor(N),u=d-o,m=N-t,U=u<.5?1:0,I=m<.5?1:0;
z=z[I*2+U];var p=z[1].clone();p.x+=o-T;p.y+=t-T;return[z[0],p]}function c(V,e,d){if(y==null){y=new Uint8Array(4e4);
for(var l=0;l<4e4;l++)y[l]=Math.min(255,~~(.5+255*O.so(l*(1/255))))}var N=V.length;for(var l=0;l<N;l++){var b=V[l],z=~~(255*b);
e[l]=y[z]<<24|d}}function Q(V,e,d,N,b){var z=e.Fa(N),v=Math.max(0,z.x-e.x),T=Math.max(0,z.x-N.x),Y=Math.max(0,z.y-e.y),g=Math.max(0,z.y-N.y),R=z.m,h=z.e;
for(var l=0;l<h;l++){var E=(Y+l)*e.m+v,G=(g+l)*N.m+T;for(var k=0;k<R;k++){d[G+k]+=b*V[E+k]}}}var q=-1;
function S(V,e,d,N,b){var z=Math.round(N[1]*e*d*.01),v=N[2],T=N[3],Y=N[4],g=N[5],R=N[6],h=N[7],E=N[8],G=N[9],k=N[10]?N[10]:1,Z=!1;
if(v!=q){n=[];q=v}var $=Date.now(),p=new cr(0,0,e,d),X=new A(N[0]);if(b)V.fill(0);var C=new Float32Array(b?V.buffer:e*d);
for(var l=0;l<z;l++){var D=X.get()*e,o=X.get()*d,t=X.get()*T,u=X.get()*v*4,m=(X.get()+R)*Math.PI*2,U=X.get()*v*4,I=(X.get()+2*R)*Math.PI*2;
D+=G*(u*Math.cos(m)+U*Math.cos(I));o+=G*(u*Math.sin(m)+U*Math.sin(I));if(E)o=o+R*d*k;var x=H(v,t,D,o%d),J=Y,r=X.get();
if(h)J=.5+.5*Y*(.5+.5*Math.sin((2*R+r)*2*Math.PI));Q(x[0],x[1],C,p,J)}if(Z)console.log(Date.now()-$,"add floats");
$=Date.now();var f=new Uint8Array(C.buffer);c(C,new Uint32Array(f.buffer),g.k<<16|g.J<<8|g.b);if(Z)console.log(Date.now()-$,"toInt");
$=Date.now();if(!b){O.q.SG("scrn",f,p,V,p,p,1);if(Z)console.log(Date.now()-$,"blendOver")}}function A(V){this.f0=123456789;
this.uW=987654321;this.z=4294967295;this.ww(V)}A.prototype.ww=function(l){this.f0=123456789+l&this.z;
this.uW=987654321-l&this.z};A.prototype.get=function(){this.uW=36969*(this.uW&65535)+(this.uW>>16)&this.z;
this.f0=18e3*(this.f0&65535)+(this.f0>>16)&this.z;var V=(this.uW<<16)+(this.f0&65535)>>>0;V/=4294967296;
return V};return{iT:S}}();O.Dm={};O.Dm.Tp=function(w,n,H,y){var c=w[n*2],Q=w[n*2+1],q=w[H*2],S=w[H*2+1],A=w[y*2],V=w[y*2+1];
return c*S+q*V+A*Q-A*S-q*Q-c*V};O.Dm.s6=function(w,n){var H=[],y=[],c=[],Q={};for(var l=0;l<n.length;
l+=3){var q=~~(l*(1/3)),S=n[l+0],V=n[l+1],e=n[l+2],d=O.Dm.Tp(w,S,V,e);if(d>0){var N=V;V=e;e=N}var b=Q[e+"-"+V],z=Q[V+"-"+S],v=Q[S+"-"+e],T=[e,b,q,null],Y=[V,z,q,T],g=[S,v,q,Y];
T[3]=g;if(b)b[1]=T;if(z)z[1]=Y;if(v)v[1]=g;Q[e+"-"+S]=g;Q[S+"-"+V]=Y;Q[V+"-"+e]=T;H[S]=Y;c[l]=Y;H[V]=T;
c[l+1]=T;H[e]=g;c[l+2]=g;y[q]=Y}return{Ga:H,ZU:y,uA:c}};O.Dm.aok=function(w){var n=[],H=w.ZU;for(var l=0;
l<H.length;l++){var y=H[l];n.push(y[0]);y=y[3];n.push(y[0]);y=y[3];n.push(y[0])}return n};O.Dm.afJ=function(w,n,H,y){var c=w[n*2],Q=w[n*2+1],q=w[H*2],S=w[H*2+1],A=w[y*2],V=w[y*2+1],e=q-c,d=S-Q,N=A-c,b=V-Q,z=e*(c+q)+d*(Q+S),v=N*(c+A)+b*(Q+V),T=2*(e*(V-S)-d*(A-q));
if(Math.abs(T)<1e-5){var Y=Math.min(c,q,A),g=Math.min(Q,S,V),R=(Math.max(c,q,A)-Y)*.5,h=(Math.max(Q,S,V)-g)*.5;
return[Y+R,g+h,R*R+h*h,1]}var E=(b*z-d*v)/T,G=(e*v-N*z)/T,R=E-c,h=G-Q;return[E,G,R*R+h*h,0]};O.Dm.avX=function(w,n,H){var y=H[1],c=H[3],Q=c[3],q=y[3],S=q[3],A=H[2],V=y[2],e=H[0],d=y[0],N=c[0],b=q[0],z=O.Dm.afJ(w,d,b,N),v=w[e*2]-z[0],T=w[e*2+1]-z[1],Y=v*v+T*T>z[2]&&z[3]==0&&O.Dm.Tp(w,b,e,N)<0&&O.Dm.Tp(w,N,d,b)<0;
if(Y){H[0]=N;y[0]=b;H[3]=Q;Q[3]=q;q[3]=H;y[3]=S;S[3]=c;c[3]=y;c[2]=V;q[2]=A;n.ZU[V]=S;n.ZU[A]=Q;n.Ga[d]=q;
n.Ga[e]=c}return Y};O.Dm.arU=function(w,n,H){var y=w[n*2]-w[H*2],c=w[n*2+1]-w[H*2+1];return Math.sqrt(y*y+c*c)};
O.Dm.aaF=function(w,n,H){var y=H[1],c=H[3],Q=c[3],q,S,A=H[2],V,e=H[0],d=Q[0],N=c[0],b;if(y){q=y[3];S=q[3];
V=y[2];b=q[0]}var z=w.length>>>1;w[2*z]=(w[2*d]+w[2*e])*.5;w[2*z+1]=(w[2*d+1]+w[2*e+1])*.5;if(!0){var v=A,T=H,Y=n.ZU.length,g=[z,null,v,T],R=[N,g,Y,Q];
g[1]=R;var h=[z,null,Y,R];c[3]=g;Q[3]=h;Q[2]=Y;n.ZU[v]=c;n.ZU[Y]=h;n.Ga[e]=c;n.Ga[N]=Q;n.uA.push(g,R,h)}if(y){var E=V,G=y,k=Y+1;
h[1]=G,G[1]=h;var $=[z,null,E,G],p=[b,$,k,S];$[1]=p;var X=[z,T,k,p];T[1]=X;q[3]=$;S[3]=X;S[2]=k;n.ZU[E]=q;
n.ZU[k]=S;n.Ga[d]=q;n.Ga[b]=S;n.uA.push($,p,X)}n.Ga[z]=T};O.Dm.oQ=function(w,n){var H=0;while(!0){var y=H;
for(var l=0;l<n.uA.length;l++){var c=n.uA[l];if(c[1]==null)continue;var Q=O.Dm.avX(w,n,c);if(Q){H++;
break}}if(y==H)break}return H!=0};O.Dm.anQ=function(w,n,H,y){var c=0;for(var l=0;l<y;l++){var Q=null,q=0;
for(var S=0;S<n.uA.length;S++){var A=n.uA[S],V=O.Dm.arU(w,A[0],A[3][3][0])*(A[1]?1:2);if(V>q){Q=A;q=V}}if(q>H){O.Dm.aaF(w,n,Q);
c++}}return c!=0};O.Dm.aa9=function(w,n){var H=[],N=0;for(var l=0;l<w.length;l++)H.push(0);for(var l=0;
l<n.uA.length;l++){var y=n.uA[l],c=y[0],Q=y[3][3][0],q=w[c*2],S=w[c*2+1],A=w[Q*2],V=w[Q*2+1],e=q-A,d=S-V;
H[c*2]+=-e;H[c*2+1]+=-d;H[Q*2]+=e;H[Q*2+1]+=d}for(var l=0;l<w.length;l+=2){var b=l>>>1,z=n.Ga[b],y=z,v=!0;
do{if(y[1]==null){v=!1;break}y=y[1][3]}while(y!=z);if(v){var T=.02;w[l]+=T*H[l];w[l+1]+=T*H[l+1];N+=T*(H[l]*H[l]+H[l+1]*H[l+1])}}return N};
O.Dm.auH=function(w,n,H){var y=O.p.hH(w),c=O.Dm.s6(w,n);O.Dm.oQ(w,c);for(var Q=0;Q<300;Q++){var q=!1,S=!1;
q=O.Dm.anQ(w,c,H,5);if(q)S=O.Dm.oQ(w,c);var A=O.Dm.aa9(w,c);if(!q&&!S&&A<1e-4){break}}return O.Dm.aok(c)};
O.uX={};O.uX.pH=function(w){var n=w.WD,H=w.FP,y=w.Tk,c=w.Md,Q=w.aV,q=w.d0,S=w.DJ,A=O.Yx.RO,g,R,h=0;function V(ds){var i=new Array(ds);
for(var l=0;l<ds;l++)i[l]=0;return i}var e=H.length>>>1,d=V(n.X$*2),N=V(n.X$),b=V(n.X$),z=Date.now();
for(var l=0;l<w.zy.length;l++){var v=n.a2R+l,T=n.pV*(q[l*2]+S[l*2]),Y=n.pV*(q[l*2+1]+S[l*2+1]);d[v*2]=T;
d[v*2+1]=Y;N[v]=T;b[v]=Y}n.ap8.Li(c,n.azL.RO(d),.01,g,R);for(var l=0;l<n.adq.uA.length;l++){var E=n.adq.uA[l],G=E[3][3][0],k=E[0],$=E[3][0],p=E[1]?E[1][3][0]:$;
if(E[1]&&G>k)continue;var X=H[G*2],C=H[G*2+1],D=H[k*2],o=H[k*2+1],t=c[G*2],u=c[G*2+1],m=c[k*2],U=c[k*2+1],I=c[$*2],x=c[$*2+1],J=c[p*2],r=c[p*2+1],Z=[t,u,m,U,I,x];
if(E[1])Z.push(J,r);var f=A(n.aye[h],Z),F=f[0],_=f[1],K=1/Math.sqrt(F*F+_*_);F*=K;_*=K;var B=D-X,ij=o-C;
N[h]=F*B+_*ij;b[h]=-_*B+F*ij;h++}var W=new Array(e),L=new Array(e);for(var l=0;l<e;l++){W[l]=Q[l*2];
L[l]=Q[l*2+1]}n.aap.Li(W,n.au6.RO(N),.5);n.aap.Li(L,n.au6.RO(b),.5);for(var l=0;l<e;l++){Q[l*2]=W[l];
Q[l*2+1]=L[l]}};O.uX.PM=function(w){var n=w.FP,H=w.Tk,y=w.zy,c=O.Yx.multiply,Q=Date.now(),q=O.Dm.s6(n,H),S=n.length>>>1,A=0,z=0,_=1e3;
for(var l=0;l<q.uA.length;l++)A+=q.uA[l][1]?.5:1;var V=A+y.length,e=[],d=new O.Fs(V*2,S*2),N=new O.Fs(V,S),b=[[[-1,0,1,0,0,0],[0,-1,0,1,0,0]],[[-1,0,1,0,0,0,0,0],[0,-1,0,1,0,0,0,0]]],v=[],T=[];
for(var l=0;l<q.uA.length;l++){var Y=q.uA[l],g=Y[3][3][0],R=Y[0],h=Y[3][0],E=Y[1]?Y[1][3][0]:h;if(Y[1]&&g>R)continue;
var G=n[g*2],k=n[g*2+1],$=n[R*2],p=n[R*2+1],X=n[h*2],C=n[h*2+1],D=n[E*2],o=n[E*2+1],t=[[G,k,1,0],[k,-G,0,1],[$,p,1,0],[p,-$,0,1],[X,C,1,0],[C,-X,0,1]];
if(Y[1])t.push([D,o,1,0],[o,-D,0,1]);var u=O.Yx.wf(t),m=c(linear.invert(c(u,t)),u);m.pop();m.pop();e.push(m);
var U=$-G,I=p-k,x=b[Y[1]?1:0];x=O.Yx.Hy(x,c([[U,I],[I,-U]],m));var J=[g*2,g*2+1,R*2,R*2+1,h*2,h*2+1,E*2,E*2+1],r=Y[1]?8:6,Z=[];
for(var f=0;f<r;f++)Z.push([J[f],x[0][f],x[1][f]]);Z.sort(function(i,e3){return i[0]-e3[0]});for(var F=0;
F<2;F++){for(var f=0;f<r;f++){v[f]=Z[f][0];T[f]=Z[f][1+F]}d.Sc(T,v,r)}if(g<R)N.Sc([-1,1],[g,R],2);else N.Sc([1,-1],[R,g],2);
z++}for(var l=0;l<y.length;l++){var K=y[l];d.Sc([_],[K*2],1);d.Sc([_],[K*2+1],1);N.Sc([_],[K],1)}var B=d.wf(),ij=B.ST(B),W=N.wf(),L=W.ST(W);
return{a2R:A,X$:V,azL:B,ap8:ij,au6:W,aap:L,adq:q,aye:e,pV:_}};O.uX.a7S=function(w,n,H,y,c){var Q=new cr(0,0,n,H),q=O.R(Q.O());
O.RR(w,q,3);O.round(q,70);var S=O.zX(q,Q),A=[.1,.065,.035][y]*Math.max(S.m,S.e),V=c+1,e=n+V*2,d=H+V*2,N=new cr(-V,-V,e,d),b=O.R(N.O());
O.qS(q,Q,b,N);var z=b.slice(0);for(var v=0;v<c;v++){for(var T=1;T<d-1;T++){for(var Y=1;Y<e-1;Y++){var l=T*e+Y;
z[l]=b[l-e]|b[l-1]|b[l]|b[l+1]|b[l+e]}}var g=z;z=b;b=g}var R=jv.Lv(b,e,d,Math.round(S.O()*5e-4)),h=jv._e(R),E=new b7(1,0,0,1,-V,-V);
for(var l=0;l<h.length;l++){var G=h[l];O.p.D(G.path.w,E,G.path.w);G.FP=O.uX.a8K(G.path);G.Tk=O.p.a9o(G.FP);
G.Tk=O.Dm.auH(G.FP,G.Tk,A)}return h};O.uX.a8K=function(w){var n=[],H=w.w,y=w.T.length-1,c=0,Q=0;for(var q=0;
q<y;q++){var l=q*6,S=H[l+6]-H[l+0],A=H[l+7]-H[l+1],V=Math.ceil(Math.sqrt(S*S+A*A));for(var e=0;e<V;e++){var d=e/V,N=1-d,b=N*N*N*H[l+0]+3*N*N*d*H[l+2]+3*N*d*d*H[l+4]+d*d*d*H[l+6],z=N*N*N*H[l+1]+3*N*N*d*H[l+3]+3*N*d*d*H[l+5]+d*d*d*H[l+7];
n.push(b,z);c=b;Q=z}}n=O.p.vT(n,1);var v=[],T=n.length;for(var l=0;l<T;l+=2){var z=n.pop(),b=n.pop();
v.push(b,z)}return v};O.uX.atS=function(w,n,H,y){function c($,p,X,C,D){var o=D[$*2]-D[p*2],t=D[$*2+1]-D[p*2+1],u=Math.sqrt(o*o+t*t);
if(X[$].indexOf(p)==-1){X[$].push(p);C[$].push(u)}if(X[p].indexOf($)==-1){X[p].push($);C[p].push(u)}}var Q=w.length>>>1,q=new Array(Q);
if(H.length==0){q.fill(0);return q}var S=new Array(Q),A=new Array(Q);for(var l=0;l<Q;l++){S[l]=[];A[l]=[]}for(var l=0;
l<n.length;l+=3){c(n[l],n[l+1],S,A,w);c(n[l],n[l+2],S,A,w);c(n[l+1],n[l+2],S,A,w)}var V=new Float64Array(Q*2),e=new Uint32Array(Q*2);
V.fill(1e9);var d=new Uint8Array(Q);for(var N=0;N<H.length;N++){d.fill(0);var b=["---",[0,H[N]]];while(b.length!=1){var z=O.UW.K$(b),v=z[0],T=z[1];
if(d[T]==1)continue;var Y=T<<1;if(v<V[Y]){V[Y+1]=V[Y];e[Y+1]=e[Y];V[Y]=v;e[Y]=N}else if(v<V[Y+1]){V[Y+1]=v;
e[Y+1]=N}d[T]=1;var g=S[T],R=A[T];for(var l=0;l<g.length;l++){var h=g[l];if(d[h]!=1){O.UW.Ky(b,[v+R[l],h])}}}}for(var l=0;
l<Q;l++){var Y=l<<1,E=V[Y],G=V[Y+1],k=1/(E+G);q[l]=(1-E*k)*y[e[Y]]+(1-G*k)*y[e[Y+1]]}return q};O.uX.apk=function(w){var n={T:[],w:[]},H=[w];
while(H.length!=0){var y=H.pop(),c=y.C5;if(y.a0r instanceof Array||y.a7V instanceof Array){n.T.push("M","L","L","L","Z");
n.w.push(c[0],c[1],c[2],c[1],c[2],c[3],c[0],c[3])}else H.push(y.a0r,y.a7V)}return n};O.uX.vY=function(w,n,H,y,c,Q,q,S,A,V){var e=Math.round(V.length/3),d=new Array(e);
for(var l=0;l<e;l++)d[l]=l;d.sort(function(b,z){return A[V[b*3]]-A[V[z*3]]});for(var l=0;l<e;l++){var N=d[l]*3;
O.uX.ake(V[N]*2,V[N+1]*2,V[N+2]*2,q,S,w,n,H,y,c,Q)}};O.uX.ake=function(w,n,H,y,c,Q,q,S,A,V,e){var d=O.uX.j0,N=[w,n,H,1.2,1.2,1.2,0],b=[0,0,0,0],z=c[w],v=c[w+1],T=c[n],Y=c[n+1],g=c[H],R=c[H+1],h=Math.max(0,Math.min(q-1,y[w])),E=Math.max(0,Math.min(q-1,y[n])),G=Math.max(0,Math.min(q-1,y[H])),k=Math.max(0,Math.min(S-1,y[w+1])),$=Math.max(0,Math.min(S-1,y[n+1])),p=Math.max(0,Math.min(S-1,y[H+1])),X=T-z,C=Y-v,D=g-z,o=R-v,t=1/(X*o-D*C+1e-9),u=Math.max(0,Math.floor(Math.min(z,T,g))),m=Math.min(V,Math.ceil(Math.max(z,T,g))),U=Math.max(0,Math.floor(Math.min(v,Y,R))),I=Math.min(e,Math.ceil(Math.max(v,Y,R)));
for(var x=U;x<I;x++)for(var J=u;J<m;J++){var r=J+.5-z,Z=x+.5-v,f=(r*o-D*Z)*t,F=(X*Z-r*C)*t;if(f>=0&&F>=0&&f+F<=1){var _=1-f-F,K=h*_+E*f+G*F,B=k*_+$*f+p*F;
O.K.iv(K,B,Q,q,S,b);O.uX.a1k(b,A,x*V+J<<2)}}};O.uX.a1k=function(w,n,H){var y=n[H],c=n[H+1],Q=n[H+2],q=n[H+3],S=1-w[3]*(1/255);
n[H]=~~(.5+w[0]+y*S);n[H+1]=~~(.5+w[1]+c*S);n[H+2]=~~(.5+w[2]+Q*S);n[H+3]=~~(.5+w[3]+q*S)};O.uX.j0=function(){var w=function(H,y,c,Q){var q=Q[0],S=Q[1],A=Q[2],V=H[q+0],e=H[q+1],d=H[S+0],N=H[S+1],b=H[A+0],z=H[A+1],v=d-V,T=N-e,Y=b-V,g=z-e,R=y-V,h=c-e,E=v*g-Y*T,G=1/(E+1e-9),k=(R*g-Y*h)*G,$=(v*h-R*T)*G;
if(k>=0&&$>=0&&k+$<=1){Q[3]=1-k-$;Q[4]=k;Q[5]=$;return 1}return 0},n=function(H,y,c,Q){var q=[0,0,0,0,0,0];
for(var l=0;l<y.length;l+=3){q[0]=y[l]*2;q[1]=y[l+1]*2;q[2]=y[l+2]*2;if(w(H,c,Q,q)==1)return!0}return!1};
return{a9g:w,avD:n}}();O.Kk={};O.Kk.a6v=function(w,n,H){var y=O.R(n*H*4),c=!1;O.K.Zq(w,n,H,y,[H,n,0,1,0,1,0,0]);
return[O.Kk.ms(w,n,H,c),O.Kk.ms(y,H,n,c)]};O.Kk.D=function(w,n){var H=!1,y=w[0],c=w[1],Q=y[1],q=y[2],S=y[3],A=n.m,V=n.e;
if(q==A&&S==V)Q=Q.slice(0);else if(S!=V){var e=O.R(q*V*4);O.Kk.W_(c,V,e,H);Q=O.R(q*V*4);O.K.Zq(e,V,q,Q,[q,V,0,1,0,1,0,0]);
if(q!=A){y=O.Kk.ms(Q,q,V,H);Q=O.R(A*V*4);O.Kk.W_(y,A,Q,H)}}else if(q!=A){Q=O.R(A*S*4);O.Kk.W_(y,A,Q,H)}return Q};
O.Kk.ms=function(w,n,H,y){var c=Date.now(),Q=new Uint16Array(n*H),q=1;O.Kk.a9r(w,n,H,Q);var S=Math.ceil(n/q),A=new Uint32Array(q),V=new Uint32Array(q),S=Math.floor(n/q);
for(var e=0;e<q;e++)V[e]=e<q-1?S:n-(q-1)*S;for(var d=0;d<H;d++){var l=d*n;for(var e=0;e<q;e++){var S=V[e];
for(var N=0;N<S;N++)A[e]+=Q[l+N];l+=S}}if(y){console.log(Date.now()-c,"cost");c=Date.now()}var b=new Uint32Array(n),z=new Uint32Array(n),v=new Uint32Array(n*H);
for(var N=0;N<n;N++){v[(H-1)*n+N]=Q[(H-1)*n+N]}for(var d=H-2;d>=0;d--){var T=d*n;for(var e=0;e<q;e++){var S=V[e];
v[T]=Q[T]+Math.min(v[T+n],v[T+n+1]);for(var N=1;N<S-1;N++){var l=T+N;v[l]=Q[l]+Math.min(v[l+n-1],Math.min(v[l+n],v[l+n+1]))}T+=S-1;
v[T]=Q[T]+Math.min(v[T+n-1],v[T+n]);T++}}if(y){console.log(Date.now()-c,"Building M");c=Date.now()}function Y(C,D){return C<D?C:D}function g(l,C){var D=z[l],o=v[C],t=~~(D*o*1e-4);
return t}var R=new Uint8Array(n*H),h=new Uint32Array(n);for(var l=0;l<n;l++){b[l]=l;z[l]=Q[l]}for(var d=1;
d<H;d++){var E=0,T=d*n;for(var e=0;e<q;e++){var S=V[e],l=T;h[E]=g(E,l);var G=h[E]+g(E+1,l+1),k=g(E,l+1)+g(E+1,l);
h[E+1]=Y(G,k);for(var N=2;N<S;N++){var l=T+N,$=h[E+N-1]+g(E+N-1,l-1),p=h[E+N-2]+g(E+N-1,l-2)+g(E+N-2,l-1);
h[E+N]=Y($,p)}var N=S-1;while(N>=2){var l=T+N,$=h[E+N-1]+g(E+N-1,l-1),p=h[E+N-2]+g(E+N-1,l-2)+g(E+N-2,l-1);
if(h[E+N]==$){R[l-n]=1;N-=1}else{R[l-n]=0;R[l-n-1]=2;N-=2}}var l=T;if(N==0){R[l-n]=1}else{if(h[E+1]==G){R[l+1-n]=1;
R[l-n]=1}else{R[l+1-n]=0;R[l-n]=2}}T+=S;E+=S}O.Kk.a2c(d,n,R,Q,b,z,!0,c)}if(y){console.log(Date.now()-c,"Matching");
c=Date.now()}var X=Q;return[UZIP.adler(w,0,w.length),w,n,H,q,V,A,b,z,R,X]};O.Kk.W_=function(w,n,H,y){var c=w.slice(0),Q=c.shift(),q=c.shift(),S=c.shift(),A=c.shift(),V=c.shift(),e=c.shift(),d=c.shift(),N=c.shift(),b=c.shift().slice(0),z=c.shift(),v=c.shift(),T=Date.now(),Y=Math.abs(S-n),g=Math.floor(Y/V),R=new Uint32Array(V),E=0,G=1e9,$=0,p=0,X=0;
for(var h=0;h<V;h++)R[h]=h<V-1?g:Y-(V-1)*g;v.fill(0);for(var k=0;k<S;k++){E=Math.max(E,b[k]);G=Math.min(G,b[k])}for(var h=0;
h<V;h++){var C=e[h],g=R[h];for(var D=0;D<g;D++){var o=0,t=1e9;for(var k=0;k<C;k++)if(b[p+k]<t){t=b[p+k];
o=p+k}if(n<S)b[o]=1e9;else b[o]*=1.2;if(X<S/3)$+=t;var u=N[o],m=v[u],U=m<65280?65280:m+1;if(U<65280)throw"e";
for(var I=0;I<A;I++){var l=I*S+u;v[l]=U;u+=z[l]-1}X++}p+=C}if(y){console.log(Date.now()-T,"Removing best seams");
T=Date.now()}function x(l,r){var Z=l<<2,f=r<<2;H[Z]=q[f];H[Z+1]=q[f+1];H[Z+2]=q[f+2];H[Z+3]=q[f+3]}for(var I=0;
I<A;I++){var J=0,l=I*S;for(var k=0;k<n;k++,J++){if(n<S){while(v[l+J]==65280)J++;x(I*n+k,I*S+J)}else{x(I*n+k,I*S+J);
while(v[l+J]>=65280){v[l+J]--;k++;x(I*n+k,I*S+J)}}}}if(y){console.log(Date.now()-T,"Shifting image pixels");
T=Date.now()}};O.Kk.a2c=function(w,n,H,y,c,Q){var q=0,l=w*n;while(q<n){if(H[l-n]==1){Q[q]=Q[q]+y[l];
q++;l++}else{var S=c[q];c[q]=c[q+1];c[q+1]=S;var A=Q[q];Q[q]=Q[q+1]+y[l];Q[q+1]=A+y[l+1];q+=2;l+=2}}};
O.Kk.a9r=function(w,n,H,y){function c(w,l,A){var d=l<<2,N=A<<2,b=w[d]-w[N],z=w[d+1]-w[N+1],v=w[d+2]-w[N+2];
return Math.abs(b)+Math.abs(z)+Math.abs(v)}for(var Q=1;Q<n;Q++){var q=c(w,Q,Q-1);y[Q-1]+=q;y[Q]+=q}for(var S=1;
S<H;S++){var A=S*n,q=c(w,A,A-n);y[A]+=q;y[A-n]+=q;for(var Q=1;Q<n;Q++){var l=S*n+Q,V=c(w,l,l-1),e=c(w,l,l-n);
y[l-n]+=e;y[l-1]+=V;y[l]+=e+V}}for(var S=0;S<H;S++){y[S*n]*=2;y[S*n+n-1]*=2}for(var l=0;l<y.length;l++)if(y[l]==0)y[l]=1};
O.yM=function(){function w(){return 1953e6+Math.floor(Math.random()*999999)}function n(u,m){var U=m[0]-u[0],I=m[1]-u[1];
return U*U+I*I}function H(u,m,U,I,x,J,r,Z){var f=U-u,F=I-m,_=O.p.NN(u,m,f,F,x,J,r-x,Z-J),K=[u+_*f,m+_*F],B=_>0?[[[u,m],K,!1,0,1],[[x,J],K,!1,0,5]]:[[[U,I],K,!1,0,1],[[r,Z],K,!1,0,5]];
return B}function y(u){u=u.map(Math.round);var m=H(u[0],u[1],u[2],u[3],u[6],u[7],u[4],u[5]),U=H(u[0],u[1],u[6],u[7],u[2],u[3],u[4],u[5]),I=[m,U],x=[m[0][1],U[0][1]];
for(var l=0;l<2;l++){var J=x[1-l],r=I[l];if(n(r[0][0],J)<n(r[1][0],J)){var Z=r[0];r[0]=r[1];r[1]=Z}}var f=[w(),0,-1,0,[0,0],m[0],m[1],U[0],U[1]];
return f}function c(u){var m=u[5],U=u[6],I=u[7],x=u[8],J=m[0],r=U[0],Z=x[0],f=I[1],F=m[1],_=Z[0],K=Z[1],B=f[0]-_,ij=f[1]-K,W=O.p.NN(_,K,B,ij,r[0],r[1],F[0]-r[0],F[1]-r[1]);
return[_+W*B,K+W*ij,_,K,J[0],J[1],r[0],r[1]]}function Q(u,m){return u[0]==m[0]&&u[1]==m[1]}function q(u,m,U){var I=u[1],x=u[0][0]-I[0],J=u[0][1]-I[1],r=Math.sqrt(x*x+J*J);
x/=r;J/=r;for(var Z=0;Z<U.length;Z++){var f=U[Z];if(f[0]!=m[1]&&f[1]!=m[0])continue;for(var l=0;l<4;
l++){var F=f[5+l],_=F[0];if(!Q(I,F[1]))continue;var K=_[0]-I[0],B=_[1]-I[1];r=Math.sqrt(K*K+B*B);K/=r;
B/=r;var g=K*x+B*J;if(Math.abs(g-1)<1e-7)return!0}}return!1}function S(u,m){O.K.D(u,m);return m}function A(u){var m=[];
for(var U=0;U<u.length;U++){var I=u[U],x=I[1];for(var J=0;J<x.length;J++){var r=x[J],Z=[],f=O.K.gU(c(r),new cr(0,0,1,1));
for(var l=0;l<4;l++){Z[l]=q(r[5+l],r,x)}if(!Z[0]){m.push([S(f,[1,.5]),U,J,0,0]);if(!Z[2])m.push([S(f,[1,1]),U,J,0,1])}if(!Z[1]){m.push([S(f,[0,.5]),U,J,1,0]);
if(!Z[3])m.push([S(f,[0,0]),U,J,1,1])}if(!Z[2]){m.push([S(f,[.5,1]),U,J,2,0]);if(!Z[1])m.push([S(f,[0,1]),U,J,2,1])}if(!Z[3]){m.push([S(f,[.5,0]),U,J,3,0]);
if(!Z[0])m.push([S(f,[1,0]),U,J,3,1])}}}return m}function V(u,m,U){var I=U[0],x=U[1],J=m.x-u[0],r=m.y-u[1],Z=O.p.NN(u[0],u[1],J,r,x[0],x[1],I[0]-x[0],I[1]-x[1]);
return[u[0]+Z*J,u[1]+Z*r]}function e(u,m,U){u=JSON.parse(JSON.stringify(u));var I=u[m[1]][1][m[2]],x=m[3],J=m[4];
if(J==1)return u;if(x==0||x==2){var r=I[5+x],Z=I[5+2-x],f=I[5+(x==0?3:1)],F=r[1];r[0]=Z[0]=V(F,U,Z);
f[0]=V(F,U,f)}else{var f=I[5+x],F=f[1],r=I[5+(x==3?0:2)];f[0]=V(F,U,r)}return u}function d(u,m,U){var I=m[0]-u[0],x=m[1]-u[1],J=O.p.NN(U[0],U[1],-x,I,u[0],u[1],I,x);
return[U[0]-x*J,U[1]+I*J]}function N(u,m,U){var I=U[0],x=U[1],S=d(u,m,U),J=S[0],r=S[1],Z=d(u,U,m),f=O.p.NN(J,r,I-J,x-r,m[0],m[1],Z[0]-m[0],Z[1]-m[1]);
return[J+(I-J)*f,r+(x-r)*f]}function b(u,m,U){u=JSON.parse(JSON.stringify(u));var I=u[m[1]][1][m[2]],x=m[3],J=m[4];
if(J==1)return u;var r=I[5][1],Z=I[7][1],f=N(r,Z,U),F=JSON.parse(JSON.stringify(I));u[m[1]][1].push(F);
F[0]=w();F[1]=I[0];if(x==0||x==1){F[7][1]=F[8][1]=f;if(x==1){F[5][0]=F[7][0]=I[6][0];F[8][0]=c(I).slice(0,2)}}else{F[5][1]=F[6][1]=f;
if(x==3){F[5][0]=F[7][0]=I[8][0];F[6][0]=c(I).slice(0,2)}}return u}function z(u,m,U){var ds=u.length>>1,I,x=u[2*ds-3]-U,J=u[2*ds-2]-m,r=u[2*ds-1]-U,Z=!1,f=0;
for(var l=0;l<ds;l++){I=J;x=r;J=u[2*l]-m;r=u[2*l+1]-U;if(x==r)continue;Z=r>x}for(var l=0;l<ds;l++){I=J;
x=r;J=u[2*l]-m;r=u[2*l+1]-U;if(x<0&&r<0)continue;if(x>0&&r>0)continue;if(I<0&&J<0)continue;if(x==r&&Math.min(I,J)<=0)return!0;
if(x==r)continue;var F=I+(J-I)*-x/(r-x);if(F==0)return!0;if(F>0)f++;if(x==0&&Z&&r>x)f--;if(x==0&&!Z&&r<x)f--;
Z=r>x}return(f&1)==1}function v(u,m,U){for(var I=0;I<u.length;I++){var x=u[I][1];for(var J=0;J<x.length;
J++){var r=c(x[J]);if(z(r,m,U))return[I,J]}}}function T(u,m){for(var U=0;U<u.length;U++){var I=u[U][1],x=m[U];
if(x.length==0)continue;var J=Y(I,x);for(var r=0;r<I.length;r++){if(J.indexOf(I[r][0])!=-1){I.splice(r,1);
r--}}}for(var U=0;U<u.length;U++)if(u[U][1].length==0){u.splice(U,1);U--}return u}function Y(u,m){var U=[];
for(var l=0;l<10;l++)for(var I=0;I<u.length;I++){var x=u[I];if(m.indexOf(I)!=-1||U.indexOf(x[1])!=-1)if(U.indexOf(x[0])==-1)U.push(x[0])}return U}function g(u,m){return u[0]*m[0]+u[1]*m[1]+u[2]*m[2]}function R(u,m,U,I){return g(X(u,m),U)/g(X(u,m),I)}function h(u,m){return[u[0]*m,u[1]*m,u[2]*m,1]}function E(u,m){return[u[0]-m[0],u[1]-m[1],u[2]-m[2],1]}function G(u,m){return[u[0]+m[0],u[1]+m[1],u[2]+m[2],1]}function k(u){var m=u[0],U=u[1],I=u[2];
return Math.sqrt(m*m+U*U+I*I)}function $(u){return h(u,1/k(u))}function p(u,m,U,I){var x=E(m,u),J=E(I,U),r=E(U,u),Z=g(X(r,J),X(x,J))/(k(X(x,J))*k(X(x,J)));
return G(u,h(E(m,u),Z))}function X(u,m){return[u[1]*m[2]-u[2]*m[1],u[2]*m[0]-u[0]*m[2],u[0]*m[1]-u[1]*m[0],1]}function C(u,m){return Math.acos(g(u,m)/(k(u)*k(m)))}function D(u,m){if(m==null)m=1;
var U=1,I,x,J,r=h($([u[0],u[1],1]),m),Z=$([u[2],u[3],1]),f=$([u[4],u[5],1]),F=$([u[6],u[7],1]);x=-R(Z,F,r,f);
I=R(f,F,r,Z);J=R(Z,f,r,F);var _=h(r,U),K=h(Z,I),B=h(f,x),ij=h(F,J);return[_,K,B,ij]}function o(u,m){var U=D(u,m),I=U[0],x=U[1],J=U[2],r=U[3],Z=h(I,1/I[2]),f=[u[2],u[3],1,1],F=k(E(Z,f)),_=$(E(x,I)),K=$(E(r,I)),B=X(_,K),S=[_[0],K[0],B[0],I[0],_[1],K[1],B[1],I[1],_[2],K[2],B[2],I[2],0,0,0,1],ij=O.Rc.Qb(S,[1,0,0,1]),W=p([0,0,0,1],f,ij,G(ij,I)),L=G(I,E(W,ij)),i=k(L)/k(I);
for(var l=0;l<3;l++)S[l*4+3]*=i;return S}function t(u){var m=j.QN(u,0,u.length),U=m.split("\n").slice(1);
function I(){return parseFloat(U.shift())}function x(){var hJ=[I(),I()];J(1);return hJ}function J(ds){for(var l=0;
l<ds;l++)U.shift()}var r=[],Z=I();for(var f=0;f<Z;f++){var F=I(),_=I(),K=[];r.push([F,K]);for(var B=0;
B<_;B++){var ij=I(),W=I(),L=I(),i=I(),e3=x(),eE=[ij,W,L,i,e3];K.push(eE);for(var l=0;l<4;l++){var ec=x(),gw=x(),bl=I()==1,cD=I(),a$=I();
eE.push([ec,gw,bl,cD,a$])}}}return r}return{V2:t,ab$:c,ahF:y,VO:A,azm:e,ag2:function(u,m){return m&&m[4]==1&&u[m[1]][1].length==1},a9E:function(u,m){return m&&m[4]==0},an4:b,acm:T,Es:Y,asj:v,a3h:D,aA1:o}}();
O.Sl=function(){var w=0,n=0,y=15,Q=256;function H(e,d,N,b,z,v){var T=(z-1)*d,Y=v*d;return e[Y+b]-e[Y+N-1]-e[T+b]+e[T+N-1]}var c=Math.round(y/8),q=[];
function S(e,d){for(var N=0;N<d.length;N++){var b=d[N],z=0,v=0,T=e[b.Y1],Y=T.ux,g=T.pV,R=T.WZ;for(var h=-y;
h<=y;h++)for(var E=-y;E<=y;E++){var G=E+b.awu,k=h+b.alM;if(E*E+h*h>y*y||G<0||k<0||G>=g||k>=g)continue;
var $=Y[k*g+G];z+=E*$;v+=h*$}b.lQ=Math.atan2(v,z)}}function A(e,d,N,b,z){var v=~~(e+.5),T=~~(d+.5);return H(N,b,v-c,v+c,T-c,T+c)}function V(e,d,N,b,z){w=b;
n=z;if(q.length==0){var v=new O.q.$x(16200817),R=8,h=0;function T(i){var X=i[0]-i[2],C=i[1]-i[3];return X*X+C*C}function Y(){var i=0,e3=0;
while(i===0)i=v.get();while(e3===0)e3=v.get();return Math.sqrt(-2*Math.log(i))*Math.cos(2*Math.PI*e3)}var g=Y,E=[];
while(h!=Q){var G=Math.max(-y,Math.min(y,g()*R)),k=Math.max(-y,Math.min(y,g()*R)),$=Math.max(-y,Math.min(y,g()*R)),p=Math.max(-y,Math.min(y,g()*R)),X=G-$,C=k-p,D=Math.sqrt(X*X+C*C);
if(D<3||D>12)continue;q.push(G,k,$,p);h++}}var o=20;for(var t=0;t<d.length;t++){var u=d[t],m=e[u.Y1],U=m.wt,N=m.ux,b=m.pV,z=m.WZ,I=u.awu,x=u.alM,J=u.lQ,r=Math.cos(J),Z=Math.sin(J),f=new Uint8Array(Q>>>3);
u.ei=f;for(var l=0;l<Q;l++){var F=l*4,G=q[F+0],k=q[F+1],$=q[F+2],p=q[F+3],_=r*G-Z*k,K=Z*G+r*k,B=r*$-Z*p,ij=Z*$+r*p,W=A(I+_,x+K,U,b,z),L=A(I+B,x+ij,U,b,z);
f[l>>>3]|=(W<L?0:1)<<(l&7)}}}return{a8N:S,asy:V}}();O.ajS=function(){function w(n,H){var y=[[9]],c=Date.now(),Q=[];
for(var q=0;q<n.length;q++){var S=n[q],A=S.wt,V=S.pV,e=S.WZ,b=9,R=1,u=24;if(A==null)continue;var d=new Float32Array(V*e),N=new Uint8Array(V*e),z=b>>>1,v=z>>>1,T=Math.round(b/3);
if(T!=b/3)throw"e";var Y=1/(b*b),g=1.2*(b/9);for(var h=z+1;h<e-z;h+=R)for(var E=z+1;E<V-z;E+=R){var G=O.hA(A,V,E-v,E+v,h-z,h+z)-3*O.hA(A,V,E-v,E+v,h-z+T,h+z-T),k=O.hA(A,V,E-z,E+z,h-v,h+v)-3*O.hA(A,V,E-z+T,E+z-T,h-v,h+v),$=E-z+1,p=E+z-1,X=h-z+1,C=h+z-1,D=O.hA(A,V,$,E-1,X,h-1)+O.hA(A,V,E+1,p,h+1,C)-O.hA(A,V,E+1,p,X,h-1)-O.hA(A,V,$,E-1,h+1,C),o=(k*G-.9*D*(.9*D))*(Y*Y);
d[h*V+E]=Math.abs(o);N[h*V+E]=o<0?0:1}var t=V*R;for(var h=u;h<e-u;h+=R)for(var E=u;E<V-u;E+=R){var l=h*V+E,m=d[l];
if(m<16)continue;if(d[l-R]>=m||d[l+R]>=m)continue;if(d[l-t-R]>=m||d[l-t]>=m||d[l-t+R]>=m)continue;if(d[l+t-R]>=m||d[l+t]>=m||d[l+t+R]>=m)continue;
Q.push({x:~~(E*S.x5+.5),y:~~(h*S.x5+.5),awu:E,alM:h,Y1:q,Z:m,apW:N[l],ua:g})}}if(H!=null){Q.sort(function(F,_){return _.Z-F.Z});
Q=Q.slice(0,H)}return Q;var U=[];for(var l=0;l<Q.length;l++){var I=!0,x=Q[l];for(var J=0;J<Q.length;
J++){var r=Q[J];if(J!=l&&r.Z>x.Z&&(r.Y1==x.Y1+1||r.Y1==x.Y1-1)){var Z=x.x-r.x,f=x.y-r.y;if(Z*Z+f*f<5){I=!1;
break}}}if(I)U.push(x)}console.log(Q.length,U.length);return U}return{a1x:w}}();O.SN={};O.SN.aqC=function(w){var n=w.length,H=O.SN.gf(w,!1),c=0,Q=1;
throw"e";var y=[];for(var l=0;l<n;l++)y[l]=O.SN.IQ(H[l]);var q=w[0][1],S=O.SN.match(H[c],H[Q],y[Q]);
console.log(S.length);var A=Math.max(Math.min(S.length,40),S.length*.54);A=Math.min(A,200);var V=S.slice(0,A),e=O.wT.ax_(H[c],H[Q],V,q.m,q.e),d=O.wT.a0z(e,[0,0,0],1),N=q.m/2,b=q.e/2,z=1/Math.max(N,b);
for(var l=0;l<1;l++){var v=V[l],T=H[c][v[0]],Y=H[Q][v[1]],g=O.wT.atm(d,z*(T.x-N),z*(T.y-b),z*(Y.x-N),z*(Y.y-b))}var R=O.wT.a1w(e,q),h=[];
for(var l=0;l<2;l++){var E=R[l],G=[E[0][0],E[0][1],E[0][2],E[1][0],E[1][1],E[1][2],E[2][0],E[2][1]],k=P.WJ.cd(w[l],null,G);
h.push([k.buffer,k.rect])}return[O.SN.awJ(h[0],h[1],H[c],H[Q],V,e,R,q)]};O.SN.i2=function(w,n){var H=w.length,y=!1,c=Date.now(),Q=O.SN.gf(w,!1,1e4);
if(y)console.log("Descriptors ready",Date.now()-c);c=Date.now();for(var l=0;l<H;l++){var q=w[l][1];for(var S=0;
S<Q[l].length;S++){Q[l][S].x+=q.x;Q[l][S].y+=q.y}}if(y)console.log("shifted",Date.now()-c);c=Date.now();
var A=[];for(var l=0;l<H;l++)A[l]=O.SN.IQ(Q[l]);if(y)console.log("trees built",Date.now()-c);c=Date.now();
var V=[];for(var l=0;l<H-1;l++)for(var S=l+1;S<H;S++){var e=O.SN.match(Q[l],Q[S],A[S]);if(y)console.log("Matches found",l,S,e.length);
e=e.slice(0,e.length>>>1);if(e.length<10)return null;var d=O.SN.a5B(Q[l],Q[S],e,2);V.push([l,S,e,d])}V.sort(function(p,X){return X[2].length-p[2].length});
if(y)console.log("Matches found",Date.now()-c);c=Date.now();var N=[],b=new UnionFind(H);for(var l=0;
l<V.length;l++){var z=V[l],v=b.find(z[0]),T=b.find(z[1]);if(v!=T){N.push(z);b.link(v,T)}}var Y=[];for(var l=0;
l<H;l++)Y[l]=[1,0,0,0,1,0,0,0];var g=[0],R=new Uint8Array(H);R[g[0]]=1;while(g.length!=0){var T=g.pop(),d=Y[T],h=[];
for(var l=0;l<N.length;l++){var z=N[l],E=z[0],G=z[1];if(E==T&&R[G]==0){Y[G]=O.K.dO(d,z[3]);g.push(G);
R[G]=1}if(G==T&&R[E]==0){Y[E]=O.K.dO(d,O.K.G$(z[3]));g.push(E);R[E]=1}}}if(n==null){var k=[];for(var l=0;
l<H;l++)k.push([Y[l][2],l]);k.sort(function(p,X){return p[0]-X[0]});n=k[k.length>>>1][1]}var $=O.K.G$(Y[n]);
for(var l=0;l<H;l++)Y[l]=O.K.dO(Y[l],$);if(y)console.log("Transforms reordered",Date.now()-c);c=Date.now();
return Y};O.SN.gf=function(w,n,H){var y=[],c=!1;for(var l=0;l<w.length;l++){var Q=w[l][0],q=w[l][1],S=q.m,A=q.e,V=O.R(q.O());
O._i(Q,V);var e=Date.now(),d=O.SN.ajt(V,q,!0);if(c)console.log("Pyramid built ---------------",Date.now()-e);
e=Date.now();var N=O.ajS.a1x(d,H);if(c)console.log("SURF Generation",Date.now()-e);e=Date.now();if(!n){O.Sl.a8N(d,N);
if(c)console.log("ORB Orientations",Date.now()-e);e=Date.now();O.Sl.asy(d,N,V,S,A);if(c)console.log("ORB Descriptors",Date.now()-e);
e=Date.now()}y.push(N)}return y};O.SN.ajt=function(w,n,H){var y=[],c=[w,n];O.BX(c);if(H){var Q=O.qt(w,n),q=Q.rect,S=[Q.fF,q];
O.BX(S)}for(var l=0;l<c.length;l++){var A=c[2*l],V=c[2*l+1],e=V.m,d=V.e,N=Math.min(e,d);if(N<30)break;
if(N<1600)y.push({ux:A,pV:e,WZ:d,x5:1<<l,wt:O.kz(A,e,d)});if(!H)continue;var A=S[2*l],V=S[2*l+1],e=V.m,d=V.e,N=Math.min(e,d);
if(N<30)break;if(N<1600)y.push({ux:A,pV:e,WZ:d,x5:(1<<l)*3/2,wt:O.kz(A,e,d)})}return y};O.SN.a5B=function(w,n,H,y){var c=Date.now(),Q,q=0,S=0,A=H.length,V=new Float64Array(2);
for(var e=0;e<3e3;e++){var d=~~(Math.random()*A),N=~~(Math.random()*A),b=~~(Math.random()*A),z=~~(Math.random()*A),t=0,u=0;
if(d==N||d==b||d==z||N==b||N==z||b==z)continue;var v=H[d],T=H[N],Y=H[b],g=H[z],R=w[v[0]],h=n[v[1]],E=w[T[0]],G=n[T[1]],k=w[Y[0]],$=n[Y[1]],p=w[g[0]],X=n[g[1]],C=[R.x,R.y,E.x,E.y,k.x,k.y,p.x,p.y],D=[h.x,h.y,G.x,G.y,$.x,$.y,X.x,X.y],o=O.K.tv(C,D);
if(o[0]==0&&o[1]==0&&o[3]==0&&o[4]==0)continue;var m=A-q+2;for(var l=0;l<A&&l-t<m;l++){var U=w[H[l][0]],I=n[H[l][1]];
O.K.Xu(I.x,I.y,o,V);var x=V[0]-U.x,J=V[1]-U.y,r=x*x+J*J;if(r<y){t++;u+=r}}if(t>q||t==q&&u<S){Q=o;q=t;
S=u}}return Q};var hi=new Uint8Array(256);for(var l=0;l<256;l++){var dO=0,ds=l;while(ds!=0){ds=ds&ds-1;
dO++}hi[l]=dO}O.SN.avU=function(w,n,H){var y=0,c=w.length;for(var l=0;l<c&&y<H;l++)y+=hi[w[l]^n[l]];
return y};O.SN.a2M=function(w,n,H,top,y){if(y[H]==1)return;var c=O.SN.avU(w.ei,n.ei,top[0]);if(c<top[0]){if(c<top[2]){top[0]=top[2];
top[1]=top[3];top[2]=c;top[3]=H}else{top[0]=c;top[1]=H}}y[H]=1};O.SN.IQ=function(w){var n=[],H=[],y=[[],[]],c=4;
for(var l=0;l<w.length;l++)(w[l].apW==0?n:H).push(l);for(var Q=0;Q<2;Q++){var q=new Array(c),S=[],A=Q==0?n:H,V=A.length/256,e=[];
for(var d=0;d<32;d++){var N=new Array(256),v=0;for(var b=0;b<256;b++)N[b]=[];for(var b=0;b<A.length;
b++){var z=A[b];N[w[z].ei[d]].push(z)}for(var b=0;b<256;b++)v+=Math.abs(N[b].length-V);e.push([v,d,N])}e.sort(function(T,Y){return T[0]-Y[0]});
var S=[],q=[];y[Q]=[S,q];for(var l=0;l<c;l++){S.push(e[l][1]);q.push(e[l][2])}}return y};O.SN.match=function(w,n,H){var y=[],c=new Uint16Array(n.length);
c.fill(65535);var Q=new Uint8Array(n.length),top=new Uint32Array(4),q=[];for(var S=0;S<w.length;S++){var A=w[S],V=A.ei;
top.fill(1e6);Q.fill(0);var e=H[A.apW];for(var d=0;d<e[1].length;d++){var N=e[1][d][V[e[0][d]]];for(var b=0;
b<N.length;b++){var z=N[b];O.SN.a2M(A,n[z],z,top,Q)}}if(top[2]<50&&top[2]<top[0]*.5){var v=c[top[3]];
if(v==65535){c[top[3]]=y.length;y.push([S,top[3],top[2]])}else if(top[2]<y[v][2]){y[v]=[S,top[3],top[2]]}}}y.sort(function(T,Y){return T[2]-Y[2]});
return y};O.SN.ab1=function(w){var n=new cr;for(var l=0;l<w.length;l++)n=n.ld(w[l][1]);var H=O.R(n.O()*4);
for(var l=0;l<w.length;l++)O.q.SG("norm",w[l][0],w[l][1],H,n,n,1);return[H,n]};O.SN.awJ=function(w,n,H,y,c,Q,q,S){var A=w[1].clone(),V=A.clone();
A.x=A.y=0;var e=n[1].clone(),d=e.clone();e.x=e.y=0;e.x=A.m;var N=A.ld(e),b=d.y-V.y,z=O.R(N.O()*4);O.j1(w[0],A,z,N);
O.j1(n[0],new cr(e.x,e.y+b,e.m,e.e),z,N);var v=document.createElement("canvas");v.width=N.m;v.height=N.e;
var T=v.getContext("2d");T.lineWidth=.5;T.putImageData(new ImageData(new Uint8ClampedArray(z.buffer),N.m,N.e),0,0);
if(Q){var Y=Q[0],g=O.Yx.wf(Y),R=A.m,h=S.m;for(var l=0;l<c.length;l++){var E=c[l],w=H[E[0]],n=y[E[1]];
T.strokeStyle="#"+"ff0000";T.beginPath();var G=O.wT.afZ(g,q[0],n,0,h),k=O.wT.afZ(Y,q[1],w,0,h);T.moveTo(-V.x+G[0],-V.y+G[1]);
T.lineTo(-V.x+G[2],-V.y+G[3]);T.moveTo(R-d.x+k[0],-d.y+b+k[1]);T.lineTo(R-d.x+k[2],-d.y+b+k[3]);T.stroke()}}if(c){var $=c.length;
for(var l=0;l<$;l++){var E=c[l],w=H[E[0]],n=y[E[1]];T.strokeStyle="#"+"ffff00"}}var p=new Uint8Array(T.getImageData(0,0,N.m,N.e).data.buffer);
if(!1){for(var X=0;X<2;X++){var C=X==0?H:y,D=X*A.m;for(var l=0;l<C.length;l++){var o=C[l],t=~~o.x,u=~~o.y,m=(u*N.m+t+D)*4;
p[m+1]=p[m+2]=o.acw*60;p[m+0]=0;p[m+3]=255}}}return[p,N]};O.stack={};O.stack.stack=function(w,n,H){var y=w.length,c=n.length;
if(y==1){n.set(w[0]);return}if(H=="avrg"||H=="stdv"||H=="summ"||H=="vari"){var Q=1/y;for(var l=0;l<c;
l++){var q=0;for(var S=0;S<y;S++)q+=w[S][l];var A=~~(q*Q+.5);if(H=="avrg"||(l&3)==3)n[l]=A;else if(H=="summ")n[l]=255*Math.pow(Math.min(255,q)*(1/255),1/2.4);
else{var V=0;for(var S=0;S<y;S++){var e=w[S][l]-A;V+=e*e}var d=Math.sqrt(V*Q)*(1/255);if(H=="stdv")n[l]=255*Math.pow(d,1/2.4);
else n[l]=255*Math.pow(d*d,1/2.4)}}}else if(H=="maxx"){for(var l=0;l<c;l++){var N=0;for(var S=0;S<y;
S++)N=Math.max(N,w[S][l]);n[l]=N}}else if(H=="minn"){for(var l=0;l<c;l++){var N=255;for(var S=0;S<y;
S++)N=Math.min(N,w[S][l]);n[l]=N}}else if(H=="medn"||H=="rang"){var b=function(Y,g){return Y-g},z=new Array(y),v=0,T=0;
if((y&1)==0){T=y>>>1;v=T-1}else{v=T=y>>>1}for(var l=0;l<c;l++){for(var S=0;S<y;S++)z[S]=w[S][l];z.sort(b);
if(H=="medn")n[l]=z[v]+z[T]>>>1;else n[l]=(l&3)==3?z[y-1]:z[y-1]-z[0]}}else console.log(H)};O.WS={};
O.WS.a70=function(w,n,H,y){var c=Date.now(),Q=new Uint32Array(n*H),q=new Uint8Array(n*H);while(!0){q.fill(0);
Q.fill(0);var S=[],A=0;for(var V=0;V<H;V++){for(var e=0;e<n;e++){var l=V*n+e;if(q[l]==0){var d=S.length,N=O.WS.bI(w,n,H,e,V,q,Q,d);
S.push([d,e,V,N[0],N[1],w[l]]);if(N[0]<y)A++}}}if(A==0)break;var b=S.length,z=new UnionFind(b),v=[];
for(var l=0;l<b;l++)v.push([]);for(var l=0;l<b;l++){var N=S[l],T=N[4],Y=0,g=0;if(N[3]>=y)continue;var d=N[0];
for(var R=0;R<T.length;R+=2){var h=Q[T[R+1]*n+T[R]],E=S[h];if(E[3]>g){g=E[3];Y=h}}if(z.find(d)!=z.find(Y)){z.link(d,Y);
v[d].push(Y);v[Y].push(d)}}var G=new Uint32Array(b);G.fill(4294967295);var k=new Uint32Array(b);for(var l=0;
l<b;l++){if(G[l]!=4294967295||v[l].length==0)continue;var $=[l],p=[l],X=l,C=S[l][3];while(p.length!=0){var D=p.pop(),o=v[D];
for(var R=0;R<o.length;R++){var t=o[R];if($.indexOf(t)==-1){$.push(t);p.push(t);var u=S[t];if(u[3]>C){C=u[3];
X=t}}}}for(var R=0;R<$.length;R++){G[$[R]]=X;var m=S[X];k[$[R]]=w[m[2]*n+m[1]]}}for(var V=0;V<H;V++)for(var e=0;
e<n;e++){var l=V*n+e,U=G[Q[l]];if(U!=4294967295)w[l]=k[U]}}};O.WS.bI=function(w,n,H,y,c,Q,q,S){var A=[y,c],V=w[c*n+y],e=0,d=[];
Q[c*n+y]=1;while(A.length!=0){var N=A.pop(),b=A.pop(),l=N*n+b;q[l]=S;e++;if(N!=H-1)if(w[l+n]==V){if(Q[l+n]==0){A.push(b,N+1);
Q[l+n]=1}}else d.push(b,N+1);if(N!=0)if(w[l-n]==V){if(Q[l-n]==0){A.push(b,N-1);Q[l-n]=1}}else d.push(b,N-1);
if(b!=n-1)if(w[l+1]==V){if(Q[l+1]==0){A.push(b+1,N);Q[l+1]=1}}else d.push(b+1,N);if(b!=0)if(w[l-1]==V){if(Q[l-1]==0){A.push(b-1,N);
Q[l-1]=1}}else d.push(b-1,N)}return[e,d]};O.WS.alN=function(w,n,H,y,c){var Q=O.WS.qu(w.buffer,n,H).rm,q=Date.now(),S=[];
for(var l=0;l<Q.length;l++){var A=Q[l],V=1;for(var e=0;e<V;e++)S.push(A.Mg)}var d=new Uint32Array(S),N=UPNG.quantize.getKDtree(new Uint8Array(d.buffer),y),b=[n,1,-n,-1,n+1,-n+1,-n-1,n-1,n+n,2,-n-n,-2,n+n-1,n+n+1,n+2,-n+2,-n-n+1,-n-n-1,-n-2,n-2,n+n+2,-n-n+2-n-n-2,n+n-2],z=new Uint8Array(n*H),v=w;
for(var T=0;T<H;T++)for(var Y=0;Y<n;Y++){var l=T*n+Y<<2,g=v[l]*(1/255),R=v[l+1]*(1/255),h=v[l+2]*(1/255),E=v[l+3]*(1/255),G=O.WS.Fd(N,g,R,h,E,c);
if(G==null){var k=[],$=0;while($<20){var p=T*n+Y+b[$]<<2,X=v[p]*(1/255),C=v[p+1]*(1/255),D=v[p+2]*(1/255),o=v[p+3]*(1/255),t=O.WS.Fd(N,X,C,D,o,.005);
if(t!=null){if(k.indexOf(t)==-1){k.push(t);t.lO=1}else t.lO++}$++}k.sort(function(E,h){return h.lO-E.lO});
while(k.length!=0&&k[k.length-1].lO<3)k.pop();if(k.length==0)G=O.WS.Fd(N,g,R,h,E,100);else if(k.length==1)G=k[0];
else if(k.length==2){var u=k[0],m=k[1],U=u.est.q,I=m.est.q,x=I[0]-U[0],J=I[1]-U[1],r=I[2]-U[2],Z=I[3]-U[3],f=g-U[0],F=R-U[1],_=h-U[2],K=E-U[3],B=x*x+J*J+r*r+Z*Z,ij=f*f+F*F+_*_+K*K,W=(f*x+F*J+_*r+K*Z)/B,L=ij-W*W*B;
if(L<.5)G=W<.5?u:m;else{G=O.WS.Fd(N,g,R,h,E,100)}}else{var u=k[0],m=k[1],i=k[2],U=u.est.q,I=m.est.q,e3=i.est.q,eE=U[0]-e3[0],ec=U[1]-e3[1],gw=U[2]-e3[2],bl=U[3]-e3[3],cD=I[0]-e3[0],a$=I[1]-e3[1],hJ=I[2]-e3[2],ei=I[3]-e3[3],df=e3[0]-g,bM=e3[1]-R,ib=e3[2]-h,fI=e3[3]-E,eU=eE*eE+ec*ec+gw*gw+bl*bl,gK=eE*cD+ec*a$+gw*hJ+bl*ei,bs=df*eE+bM*ec+ib*gw+fI*bl,km=eE*cD+ec*a$+gw*hJ+bl*ei,aJ=cD*cD+a$*a$+hJ*hJ+ei*ei,ip=df*cD+bM*a$+ib*hJ+fI*ei,fl=1/(gK*km-eU*aJ),W=(aJ*bs-ip*gK)*fl,b3=(ip*eU-bs*km)*fl,dY=1-W-b3,k4=Math.max(W,b3,dY);
if(k4==W)G=u;else if(k4==b3)G=m;else G=i}}z[l>>2]=G.ind}return{Tk:z,rm:N[1]}};O.WS.qu=function(w,n,H){var y=[],c={},Q=n-1,q=H-1,S=0,A=new Uint32Array(w),V=[-n-1,-n,-n+1,-1,1,n-1,n,n+1,n+n,2,-n-n,-2,n+n-1,n+n+1,n+2,-n+2,-n-n+1,-n-n-1,-n-2,n-2,n+n+2,-n-n+2-n-n-2,n+n-2];
for(var e=1;e<q;e++)for(var d=1;d<Q;d++){var N=e*n+d,b=A[N],z=!0;for(var l=0;l<8;l++)z=z&&A[N+V[l]]==b;
if(z){S++;var v=c[b];if(v==null){c[b]=y.length;y.push({Mg:b,Sp:1})}else y[v].Sp++}}return{rm:y,ajL:S}};
O.WS.Fd=function(w,n,H,y,c,Q){var q=UPNG.quantize.getNearest(w[0],n,H,y,c);return O.WS.aa5(q,n,H,y,c)<Q?q:null};
O.WS.aa5=function(w,n,H,y,c){var Q=w.est.q,q=n-Q[0],S=H-Q[1],A=y-Q[2],V=c-Q[3];return q*q+S*S+A*A+V*V};
O.WS.H3=function(){function w(Y,g,R,h,E,G){var k=[],$=G,p=G,X=G>>>2;for(var C=0;C<E;C++)for(var D=0;
D<h;D++){var o=~~((D+.5)*$),t=~~((C+.5)*p),u=1e9,m=Math.max(0,o-X),U=Math.min(g,o+X+1),I=Math.max(0,t-X),x=Math.min(R,t+X+1);
for(var J=I;J<x;J++)for(var r=m;r<U;r++){var Z=n(Y,g,r,J);if(Z<u){o=r;t=J;u=Z}}var f=(t*g+o)*4;k.push(o,t)}return k}function n(Y,g,R,h){var E=(h*g+R)*4,G=g*4,k=H(Y,E-4,E)+H(Y,E,E+4),$=H(Y,E-G,E)+H(Y,E,E+G);
return k+$}function H(Y,g,R){var h=Y[g]-Y[R],E=Y[g+1]-Y[R+1],G=Y[g+2]-Y[R+2];return h*h+E*E+G*G}var y=0,c=0;
function Q(Y,g,R,h){c++;if(h<y)y=h;Y[h].push(g,R)}function q(Y){c--;while(Y[y].length==0)y++}function S(Y,g,R,h,E){y=0;
c=0;var G=g*R,k=Math.round(Math.min(g,R)/(h?h:50)),m=0,U=16;if(k==0)k=1;var $=(E?E:30)/k,p=Math.floor(g/k),X=Math.floor(R/k),C=new Uint16Array(G);
for(var l=0;l<G;l++)C[l]=65535;var D=w(Y,g,R,p,X,k),o=D.length>>>1;if(o>65535)throw o;var t=[];for(var l=0;
l<1e3+R;l++)t.push([]);var u=[0,1,0,-1,-1,0,1,0],I=Math.min(X,5),x=new Uint32Array(o*6);for(var J=0;
J<X;J+=I){var r=Math.min(J+I+1,X);for(var Z=J;Z<r;Z++)for(var f=0;f<p;f++){var l=Z*p+f,F=l*2,_=D[F+1]<<16|D[F];
Q(t,_,l,D[F+1]>>>U)}var K=Math.min(R,r*k);if(J+I>=X)K=R;while(c!=0){q(t);var B=t[y].pop(),ij=t[y].pop(),W=ij>>>16,L=ij&65535,l=W*g+L;
if(C[l]==65535){var i=B*6,e3=l<<2;C[l]=B;x[i]+=Y[e3];x[i+1]+=Y[e3+1];x[i+2]+=Y[e3+2];x[i+3]+=L;x[i+4]+=W;
x[i+5]++;var eE=W>>>U;if(W!=K-1&&C[l+g]==65535)Q(t,W+1<<16|L,B,A(Y,g,$,L,W+1,x,i)+eE);if(W!=0&&C[l-g]==65535)Q(t,W-1<<16|L,B,A(Y,g,$,L,W-1,x,i)+eE);
if(L!=0&&C[l-1]==65535)Q(t,W<<16|L-1,B,A(Y,g,$,L-1,W,x,i)+eE);if(L!=g-1&&C[l+1]==65535)Q(t,W<<16|L+1,B,A(Y,g,$,L+1,W,x,i)+eE)}}if(K!=W){var ec=(J+I)*p;
x.fill(0,ec*6,(ec+p)*6);for(var W=(J+I-2)*k;W<K;W++)for(var L=0;L<g;L++){var l=W*g+L;if(C[l]>=ec){C[l]=65535}}}}return{Tk:C,Ek:o,cj:x}}O.WS.Rt=function(Y,g,R,h,E){var G=Y.Ek,k=g*R,$=Y.cj,p=Y.Tk,X=b(h,p,G,k),C=new UnionFind(G),U=0;
for(var D=1;D<R;D++)for(var o=1;o<g;o++){var l=D*g+o,t=p[l],u=0;if((u=p[l-1])!=t&&X[u]==X[t]&&V($,0,t*6,u*6)<E)C.link(t,u);
if((u=p[l-g])!=t&&X[u]==X[t]&&V($,0,t*6,u*6)<E)C.link(t,u)}var m=new Uint16Array(G);m.fill(65535);var I=new Uint16Array(G);
for(var l=0;l<G;l++){var x=C.find(l);if(m[x]==65535)m[x]=U++;I[l]=m[x]}var J=new Uint16Array(k);for(var l=0;
l<k;l++)J[l]=I[p[l]];return{Tk:J,Ek:U}};O.WS.ayr=function(Y,g,R,h){var E=O.R(R),G=g.length,k=0;for(var l=0;
l<G&&k!=3;l++){var $=h[l];if($==0||$==255){var p=g[l],X=2-($>>>7);E[p]=k=E[p]|X}}return k!=3};function A(Y,g,R,h,E,G,k){var $=(E*g+h)*4,p=G[k+5],X=1/p,C=Y[$]*p-G[k],D=Y[$+1]*p-G[k+1],o=Y[$+2]*p-G[k+2],t=h*p-G[k+3],u=E*p-G[k+4],m=Math.sqrt(C*C+D*D+o*o),U=Math.sqrt(t*t+u*u);
return~~((m+R*U)*X+.5)}function V(Y,g,R,h){var E=1/Y[R+5],G=1/Y[h+5],k=Y[R]*E-Y[h]*G,$=Y[R+1]*E-Y[h+1]*G,p=Y[R+2]*E-Y[h+2]*G,X=Y[R+3]*E-Y[h+3]*G,C=Y[R+4]*E-Y[h+4]*G,D=Math.sqrt(k*k+$*$+p*p),o=Math.sqrt(X*X+C*C);
return~~(D+g*o+.5)}function e(Y,g,R){var h=O.Br(Y,new cr(0,0,g,R)),E=h.rect.m,G=h.rect.e,k=S(h.fF,E,G),$=k.Tk,p=Date.now(),X=new Uint16Array(g*R);
X.fill(65535);for(var C=0;C<G;C++){for(var D=0;D<E;D++){var o=C*E+D,l=(C<<1)*g+(D<<1),t=$[o];if($[o-E]!=t||$[o-1]!=t||$[o+1]!=t||$[o+E]!=t)t=65535;
X[l]=t;X[l+1]=t;X[l+g]=t;X[l+g+1]=t}}k.Tk=X;return k}function d(Y,g){var l=0,R=Y.length;while(l!=R&&Y[l]!=g)l+=2;
return l==R?-1:l}function N(Y,l){if(l==Y.length-2){Y.pop();Y.pop()}else{Y[l+1]=Y.pop();Y[l]=Y.pop()}}O.WS.axZ=function(Y,g,R,h,E){var G=new Uint32Array(E*4400),n=[];
for(var l=0;l<E;l++)n.push([]);for(var k=0;k<R;k++)for(var $=0;$<g;$++){var l=k*g+$,p=l<<2,X=h[l],C=0,D=Y[p]>>>4,o=Y[p+1]>>>4,t=Y[p+2]>>>4;
G[X*4400+(D<<8|o<<4|t)]++;G[X*4400+4096]++;G[X*4400+4100+(D<<4|o)]++;G[X*4400+4360+D]++;if($!=0&&(C=h[l-1])!=X&&d(n[X],C)==-1){n[X].push(C,0);
n[C].push(X,0)}if(k!=0&&(C=h[l-g])!=X&&d(n[X],C)==-1){n[X].push(C,0);n[C].push(X,0)}}for(var l=0;l<E;
l++){var t=n[l];for(var u=0;u<t.length;u+=2)t[u+1]=T(G,l,t[u])}return[G,n]};function b(Y,g,R,h){var E=O.R(R);
for(var l=0;l<h;l++){var G=Y[l];if(G==0||G==255)E[g[l]]=2-(G>>>7)}return E}O.WS.at8=function(Y,g,R,h,E,G,k){var $=g*R,p=k[0],n=k[1],X=new UnionFind(h),C=b(E,Y,h,$),D=-1,o=!0,t=0;
for(var l=0;l<h;l++)if(C[l]==1){if(D==-1)D=l;else X.link(l,D)}if(D==-1){for(var l=0;l<$;l++)G[l]=E[l]==255?255:0;
return}while(o){while(o){o=!1;for(var l=0;l<h;l++){if(C[l]==0){var u=z(n[l]);if(C[u]==1){C[l]=C[u];o=!0;
X.link(l,u)}}}}o=!0;t=0;while(o){o=!1;for(var l=0;l<h;l++){if(C[l]==0){var u=z(n[l]);if(C[u]==0){var m=l*4400,U=u*4400;
for(var I=0;I<4400;I+=2){p[m+I]+=p[U+I];p[m+I+1]+=p[U+I+1]}v(n,p,l,u);t++;C[u]=3;o=!0;X.link(l,u)}}}}o=t!=0}var x=X.find(D);
for(var l=0;l<h;l++)C[l]=X.find(l)==x?255:0;for(var l=0;l<$;l++){G[l]=C[Y[l]]}for(var l=0;l<$;l++){var u=E[l];
if(u==0||u==255)G[l]=u}};function z(Y){var g=0,R=0,h=Y.length;for(var E=0;E<h;E+=2){var G=Y[E+1];if(G>R){R=G;
g=E}}return Y[g]}function v(n,Y,g,R){var h=n[g],E=n[R];N(h,d(h,R));N(E,d(E,g));for(var l=0;l<E.length;
l+=2){var G=E[l],k=n[G];N(k,d(k,R));if(d(k,g)==-1){k.push(g,0);h.push(G,0)}}for(var l=0;l<h.length;l+=2){var G=h[l],k=n[G],$=T(Y,g,G);
h[l+1]=$;k[d(k,g)+1]=$}}function T(Y,g,R){var h=0,E=4096,G=g*4400,k=R*4400;for(var $=0;$<16;$++){if(Y[G+4360+$]==0||Y[k+4360+$]==0)continue;
for(var p=0;p<16;p++){var X=$<<4|p;if(Y[G+4100+X]==0||Y[k+4100+X]==0)continue;var C=G+(X<<4),D=k+(X<<4);
for(var l=0;l<16;l++)h+=Math.sqrt(Y[C+l]*Y[D+l])}}var o=h/Math.sqrt(Y[G+E]*Y[k+E]);return~~(999.99999*o)}return S}();
O.x3={};O.x3.abg=function(){var w=11,n=7,H=w>>>1,ds=n>>>1,y=2,c=2e3/y,Q=[],S=null,A="";function q(e,d,N){var b=(e[d+0]-e[N+0])*(1/255),z=(e[d+1]-e[N+1])*(1/255),v=(e[d+2]-e[N+2])*(1/255),T=(e[d+3]-e[N+3])*(1/255),Y=b*b*.125+z*z*.25+v*v*.5+T*T;
return Q[~~(Y*c)]}function V(e,d,N,b,z,v){var T=Date.now(),Y=O.R(d*N);O._i(e,Y);var g=UZIP.adler(Y,0,d*N);
if(g!=A){var R=O.kz(Y,d,N);S=O.R(d*N*4);A=g;var h=[1,1/9,1/25,1/49,1/81];for(var E=0;E<N;E++)for(var G=0;
G<d;G++)for(var l=0;l<4;l++){var k=Math.max(1,G-l),$=Math.min(d-1,G+l),p=Math.max(1,E-l),X=Math.min(N-1,E+l),C=O.hA(R,d,k,$,p,X);
if(isNaN(C))throw G+","+E+","+l+","+C;S[(E*d+G)*4+l]=C*h[l]}}if(dy._k){var D=dy.On(0,d,N);D.set(e);var o=dy.On(1,d,N);
o.set(S);var t=dy.On(2,d,N);dy.O0(t);dy.filter.Eo({type:dy.filter.a3J,i5:new Float32Array([1/d,1/N]),adk:o.iX,aaR:z,a5G:v},D.iX);
t.get(b)}else{for(var l=0;l<2e3;l++)Q[l]=Math.exp(-(l/2e3)*y*(100+(1-z)*(1-z)*1e4));var u=ds+2;for(var E=u;
E<N-u;E++)for(var G=u;G<d-u;G++){var m=0,U=0,I=0,x=0;for(var J=0;J<w;J++)for(var r=0;r<w;r++){var Z=G+r-H,f=E+J-H;
if(Z==G&&f==E||Z<u||f<u||Z>=d-u||f>=N-u)continue;var F=q(S,(E*d+G)*4,(f*d+Z)*4),_=f*d+Z<<2;m+=F*e[_+0];
U+=F*e[_+1];I+=F*e[_+2];x+=F}if(x==0){continue}var K=1/x,B=(E*d+G)*4;b[B+0]=~~((1-v)*K*m+v*b[B+0]);b[B+1]=~~((1-v)*K*U+v*b[B+1]);
b[B+2]=~~((1-v)*K*I+v*b[B+2])}}}return V}();O.ai4=function(){var w=6,n=w>>>1,H=[[-.0662912607,-.0855816496],[.1104854346,-.0855816496],[.6629126074,.1711632992],[.6629126074,.1711632992],[.1104854346,-.0855816496],[-.0662912607,-.0855816496],[0,0],[0,0]],y=[[-.0662912607,.0855816496],[-.1104854346,-.0855816496],[.6629126074,-.1711632992],[-.6629126074,.1711632992],[.1104854346,.0855816496],[.0662912607,-.0855816496],[0,0],[0,0]];
function c(v,T){var Y=!1,g=v.length,R=T[0],k=5,p=0,X=0;for(var l=1;l<g;l++)R=R.ld(T[l]);if((R.m&1)!=0)R.m++;
if((R.e&1)!=0)R.e++;var h=R.m,E=R.e,G=Math.max(h,E);while(G>>>k>8&&k<10)k++;var $=1<<k;if(h%$!=0)p=$-h%$;
if(E%$!=0)X=$-E%$;R.i_(p>>>1,X>>>1);h=R.m;E=R.e;if(h%$!=0||E%$!=0)throw"e";var C=Date.now(),D=[],o=O.R(R.O()),t=[],u=h*E,m=new Float32Array(h*E*2);
for(var l=0;l<g;l++){var U=T[l],I=O.R(U.O());O._i(v[l],I);o.fill(0);O.qS(I,U,o,R);D.push(o.slice(0));
var x=U.x-R.x,J=U.y-R.y,r=x+U.m-2,Z=J+U.e;for(var f=0;f<U.e;f++){var F=(f+J)*h;for(var _=0;_<x;_++)o[F+_]=o[F+x];
for(var _=r;_<h;_++)o[F+_]=o[F+r-1]}for(var _=0;_<h;_++){for(var f=0;f<J;f++)o[f*h+_]=o[J*h+_];for(var f=Z;
f<E;f++)o[f*h+_]=o[(Z-1)*h+_]}var K=new Float32Array(h*E*2);t.push(K);for(var B=0;B<u;B++)K[B*2]=o[B]*(1/255);
A(K,m,h,E,k);Q(K,h,E,k)}if(Y)console.log("to gray, decompose",Date.now()-C);C=Date.now();var ij=O.R(h*E);
for(var f=0;f<E;f++)for(var _=0;_<h;_++){var W=0,L=0,i=f*h+_<<1;for(var l=0;l<g;l++){var e3=t[l],eE=e3[i],ec=e3[i+1],gw=eE*eE+ec*ec;
if(gw>L){L=gw;W=l}}ij[i>>>1]=W}if(Y)console.log("max abs value",Date.now()-C);C=Date.now();q(ij,h,E,k);
S(ij,h,E);if(Y)console.log("denoise",Date.now()-C);C=Date.now();var bl=m.slice(0);for(var f=0;f<E;f++)for(var _=0;
_<h;_++){var l=f*h+_,i=l<<1,cD=t[ij[l]];bl[i]=cD[i];bl[i+1]=cD[i+1]}V(bl,m,h,E,k);if(Y)console.log("compose",Date.now()-C);
C=Date.now();for(var B=0;B<u;B++){var gw=bl[B*2]*255,W=0,L=1e9;for(var l=0;l<g;l++){var a$=Math.abs(D[l][B]-gw);
if(a$<L){L=a$;W=l}D[l][B]=0}D[W][B]=255}if(Y)console.log("toRGB",Date.now()-C);C=Date.now();return[D,R]}function Q(v,T,Y,g){var R=T>>>g,h=Y>>>g,E=1e-4;
for(var G=0;G<Y;G++)for(var k=0;k<T;k++){if(k<R&&G<h)continue;var $=(G*T+k)*2,p=v[$],X=v[$+1],C=p*p+X*X;
if(C<E)p=X=0;else{var D=(C-E)/C;p*=D;X*=D}v[$]=p;v[$+1]=X}}function q(v,T,Y,g){for(var R=0;R<g;R++){var h=T>>>R,E=Y>>>R,G=h>>>1,k=E>>>1;
for(var $=0;$<k;$++)for(var p=0;p<G;p++){var X=$*T+G+p,C=($+k)*T+G+p,D=($+k)*T+p,o=v[X],t=v[C],u=v[D];
if(o==t==u){}else if(o==t)v[D]=o;else if(t==u)v[X]=t;else if(o==u)v[C]=o}}}function S(v,T,Y){for(var g=1;
g<Y-1;g++)for(var R=1;R<T-1;R++){var l=g*T+R,h=v[l-T],E=v[l-1],G=v[l],k=v[l+1],$=v[l+T],p=h==E&&h==k||h==k&&k==$||k==$&&E==$||h==E&&$==E;
if(p)v[l]=h==E?h:E==k?E:h;else if(G>h&&G>E&&G>k&&G>$)v[l]=h+E+k+$>>>2;else if(G<h&&G<E&&G<k&&G<$)v[l]=h+E+k+$>>>2}}function A(v,T,Y,g,R){for(var l=0;
l<R;l++){var h=Y>>>l,E=g>>>l;e(v,T,Y,g,h,E)}}function V(v,T,Y,g,R){for(var l=R-1;l>=0;l--){var h=Y>>l,E=g>>l;
d(v,T,Y,g,h,E)}}function e(v,T,Y,g,R,h){b(v,T,Y,g,R,h,!0);b(T,v,Y,g,R,h,!1)}function d(v,T,Y,g,R,h){z(v,T,Y,g,R,h,!0);
z(T,v,Y,g,R,h,!1)}function N(v,T,Y,g,R,h){var E=Y*g+T<<1;v[E]=R;v[E+1]=h}function b(v,T,Y,g,R,h,E){var dO=E?R:h,G=E?h:R,k=G>>>1;
for(var $=0;$<dO;$++){for(var p=0;p<G;p+=2){var X=0,C=0,D=0,o=0,t=p>>>1;for(var u=0;u<6;u++){var m=p+u-3;
if(m<0)m=G+m;if(m>=G)m=m-G;var U=(E?m*Y+$:$*Y+m)<<1,I=v[U],x=v[U+1],J=H[u],r=y[u];X+=I*J[0]-x*J[1];C+=x*J[0]+I*J[1];
D+=I*r[0]-x*r[1];o+=x*r[0]+I*r[1]}if(E){N(T,$,t,Y,X,C);N(T,$,t+k,Y,D,o)}else{N(T,t,$,Y,X,C);N(T,t+k,$,Y,D,o)}}}}function z(v,T,Y,g,R,h,E){var dO=E?R:h,G=E?h:R,k=G>>>1,$,p,X,C;
for(var D=0;D<dO;D++){for(var o=0;o<G;o++){var t=0,u=0;for(var m=o+3&1;m<6;m+=2){var U=o-m+3>>1;if(U<0)U=k+U;
if(U>=k)U=U-k;if(E){$=D;p=U;X=D;C=U+k}else{p=D;$=U;C=D;X=U+k}var I=p*Y+$<<1,x=C*Y+X<<1,J=v[I],r=v[I+1],Z=v[x],f=v[x+1],F=H[m],_=y[m];
t+=J*F[0]+Z*_[0];t+=r*F[1]+f*_[1];u+=r*F[0]+f*_[0];u-=J*F[1]+Z*_[1]}if(E)N(T,D,o,Y,t,u);else N(T,o,D,Y,t,u)}}}return{qs:c}}();
var jv=function(){function w(){this.O=0;this.WE=0;this.o7={};this.XJ=[];this.FL=1e5;this.tY=1e5;this.z4=-1;
this.$F=-1;this.color=0}function n(ds){this.jo=ds;this.e8=new Array(ds);this.Mg=new Array(ds*6);this.arS=0;
this.g5=new Array(ds*2);this.alpha=new Array(ds);this.jT=new Array(ds);this.X0=new Array(ds)}function H(c,Q,q,S){function A(T,Y,c,Q){return c[Q*Y+T]}function V(l){var k=c.length;
while(l<k&&c[l]==0)l++;return l<k?l:-1}function e(T,Y,k){for(var l=2;l<5;l++){var $=0;for(var p=-l+1;
p<=l-1;p++){$+=A(T+p,Y+l-1,c,Q)==k?1:-1;$+=A(T+l-1,Y+p-1,c,Q)==k?1:-1;$+=A(T+p-1,Y-l,c,Q)==k?1:-1;$+=A(T-l,Y+p,c,Q)==k?1:-1}if($>0)return 1;
else if($<0)return 0}return 0}function d(k,z){var v=new w,T=k,Y=z,$=0,p=1,X;v.color=c[z*Q+k];v.sign=A(k,z,c,Q)==v.color?"+":"-";
while(1){v.XJ.push(T,Y);if(T>v.z4)v.z4=T;if(T<v.FL)v.FL=T;if(Y>v.$F)v.$F=Y;if(Y<v.tY)v.tY=Y;v.WE++;T+=$;
Y+=p;v.O-=T*p;if(T==k&&Y==z)break;var C=A(T+($+p-1>>1),Y+(p-$-1>>1),c,Q)==v.color,D=A(T+($-p-1>>1),Y+(p+$-1>>1),c,Q)==v.color;
if(D&&!C){if(S.wv=="right"||S.wv=="black"&&v.sign=="+"||S.wv=="white"&&v.sign=="-"||S.wv=="majority"&&e(T,Y,v.color)||S.wv=="minority"&&!e(T,Y,v.color)){X=$;
$=-p;p=X}else{X=$;$=p;p=-X}}else if(D){X=$;$=-p;p=X}else if(!C){X=$;$=p;p=-X}}return v}var N=0,b=[];
while(!0){var N=V(N);if(N==-1)break;var z=Math.floor(N/Q),v=d(N-z*Q,z);for(var l=0;l<v.XJ.length-2;l+=2){var T=v.XJ[l],Y=v.XJ[l+1],g=Y*Q+T;
if(T==v.XJ[l+2]&&Y+1==v.XJ[l+3]&&c[g]!=0)jv.fill(g,c,Q,0)}if(v.O>S.ayq)b.push(v)}for(var l=0;l<b.length;
l++)b[l].parent=-1;var R=Date.now();for(var l=1;l<b.length;l++){var h=b[l];for(var E=l-1;E>=0;E--){var G=b[E];
if(h.FL<G.FL||h.z4>G.z4||h.tY<G.tY||h.$F>G.$F)continue;if(!jv.Sq(G.XJ,h.XJ[0]+.5,h.XJ[1]+.5))continue;
h.parent=E;break}}return b}function y(c,Q){function q($,p,X,C,D){this.x=$;this.y=p;this.Uv=X;this.mP=C;
this.u$=D}function S($,ds){return(ds+$)%ds}function A($,p,X,C){return $*C-X*p}function V($,p,X,C){return $*X+p*C}function e($,p,X){if($<=X)return $<=p&&p<X;
else return $<=p||p<X}function d($,p,X){var C=0;C+=p*$[0]*p;C+=p*$[1]*X;C+=p*$[2];C+=X*$[3]*p;C+=X*$[4]*X;
C+=X*$[5];C+=$[6]*p;C+=$[7]*X;C+=$[8];return C}function N($,p,X){return p+$*(X-p)}function b($,p,X,C){var D=Math.sign(X-$),o=-Math.sign(C-p);
return D*(X-$)-o*(C-p)}function z($,p){return Math.sqrt($*$+p*p)}function v($,p,X,C,D){var o=1-$;return o*o*o*p+3*(o*o*$)*X+3*($*$*o)*C+$*$*$*D}function T($,p,X,C,D,o,t,u){var m=A($,p,t,u),U=A(X,C,t,u),I=A(D,o,t,u),x=m-2*U+I,J=-2*m+2*U,r=m,Z=J*J-4*x*r;
if(x==0||Z<0)return-1;var f=Math.sqrt(Z),F=(-J+f)/(2*x),_=(-J-f)/(2*x);if(F>=0&&F<=1)return F;else if(_>=0&&_<=1)return _;
else return-1}function Y(k){var l,$,p;k.GV=k.XJ[0];k.aaT=k.XJ[1];k.EE=[];var X=k.EE;X.push(new q(0,0,0,0,0));
for(l=0;l<k.WE;l++){$=k.XJ[l<<1]-k.GV;p=k.XJ[(l<<1)+1]-k.aaT;X.push(new q(X[l].x+$,X[l].y+p,X[l].Uv+$*p,X[l].mP+$*$,X[l].u$+p*p))}}function g(k){var ds=k.WE,$=k.XJ,p,X=new Array(ds),C=new Array(ds),D=new Array(4),o,t,u,m,U,I,x,J,r,Z,f,l,F,_,K,B,ij,W,L=0;
k.yH=new Array(ds);for(l=ds-1;l>=0;l--){if($[l<<1]!=$[L<<1]&&$[(l<<1)+1]!=$[(L<<1)+1])L=l+1;C[l]=L}for(l=ds-1;
l>=0;l--){var i=S(l+1,ds)<<1;D[0]=D[1]=D[2]=D[3]=0;p=(3+3*($[i]-$[l<<1])+($[i+1]-$[(l<<1)+1]))/2;D[p]++;
o=0;t=0;u=0;m=0;L=C[l];_=l;while(1){f=0;p=(3+3*Math.sign($[L*2]-$[_*2])+Math.sign($[L*2+1]-$[_*2+1]))/2;
D[p]++;if(D[0]&&D[1]&&D[2]&&D[3]){X[l]=_;f=1;break}r=$[L*2]-$[l*2];Z=$[L*2+1]-$[l*2+1];if(A(o,t,r,Z)<0||A(u,m,r,Z)>0){break}if(Math.abs(r)<=1&&Math.abs(Z)<=1){}else{U=r+(Z>=0&&(Z>0||r<0)?1:-1);
I=Z+(r<=0&&(r<0||Z<0)?1:-1);if(A(o,t,U,I)>=0){o=U;t=I}U=r+(Z<=0&&(Z<0||r<0)?1:-1);I=Z+(r>=0&&(r>0||Z<0)?1:-1);
if(A(u,m,U,I)<=0){u=U;m=I}}_=L;L=C[_];if(!e(L,l,_)){break}}if(f==0){x=Math.sign($[L*2]-$[_*2]);J=Math.sign($[L*2+1]-$[_*2+1]);
r=$[_*2]-$[l*2];Z=$[_*2+1]-$[l*2+1];K=A(o,t,r,Z);B=A(o,t,x,J);ij=A(u,m,r,Z);W=A(u,m,x,J);F=1e7;if(B<0){F=Math.floor(K/-B)}if(W>0){F=Math.min(F,Math.floor(-ij/W))}X[l]=S(_+F,ds)}}F=X[ds-1];
k.yH[ds-1]=F;for(l=ds-2;l>=0;l--){if(e(l+1,X[l],F)){F=X[l]}k.yH[l]=F}for(l=ds-1;e(S(l+1,ds),F,k.yH[l]);
l--){k.yH[l]=F}}function R(k){function $(k,l,p){var ds=k.WE,r=k.XJ,Z=k.EE,f,F,_,K,B,C,ij,W,J,L,i,e3,eE,ec,gw=0;
if(p>=ds){p-=ds;gw=1}if(gw==0){f=Z[p+1].x-Z[l].x;F=Z[p+1].y-Z[l].y;K=Z[p+1].mP-Z[l].mP;_=Z[p+1].Uv-Z[l].Uv;
B=Z[p+1].u$-Z[l].u$;C=p+1-l}else{f=Z[p+1].x-Z[l].x+Z[ds].x;F=Z[p+1].y-Z[l].y+Z[ds].y;K=Z[p+1].mP-Z[l].mP+Z[ds].mP;
_=Z[p+1].Uv-Z[l].Uv+Z[ds].Uv;B=Z[p+1].u$-Z[l].u$+Z[ds].u$;C=p+1-l+ds}i=(r[l<<1]+r[p<<1])/2-r[0];e3=(r[(l<<1)+1]+r[(p<<1)+1])/2-r[1];
ec=r[p<<1]-r[l<<1];eE=-(r[(p<<1)+1]-r[(l<<1)+1]);ij=(K-2*f*i)/C+i*i;W=(_-f*e3-F*i)/C+i*e3;J=(B-2*F*e3)/C+e3*e3;
L=eE*eE*ij+2*eE*ec*W+ec*ec*J;return Math.sqrt(L)}var l,p,X,C,ds=k.WE,D=new Array(ds+1),o=new Array(ds+1),t=new Array(ds),u=new Array(ds+1),m=new Array(ds+1),U=new Array(ds+1),I,x,J;
for(l=0;l<ds;l++){J=S(k.yH[S(l-1,ds)]-1,ds);if(J==l){J=S(l+1,ds)}if(J<l){t[l]=ds}else{t[l]=J}}p=1;for(l=0;
l<ds;l++){while(p<=t[l]){u[p]=l;p++}}l=0;for(p=0;l<ds;p++){m[p]=l;l=t[l]}m[p]=ds;X=p;l=ds;for(p=X;p>0;
p--){U[p]=l;l=u[l]}U[0]=0;D[0]=0;for(p=1;p<=X;p++){for(l=U[p];l<=m[p];l++){x=-1;for(C=m[p-1];C>=u[l];
C--){I=$(k,C,l)+D[C];if(x<0||I<x){o[l]=C;x=I}}D[l]=x}}k.a8i=X;k.a2N=new Array(X);for(l=ds,p=X-1;l>0;
p--){l=o[l];k.a2N[p]=l}}function h(k){function $(k,l,I,t,u,bl){var ds=k.WE,cD=k.EE,a$=0,J;while(I>=ds){I-=ds;
a$+=1}while(l>=ds){l-=ds;a$-=1}while(I<0){I+=ds;a$-=1}while(l<0){l+=ds;a$+=1}var hJ=cD[I+1].x-cD[l].x+a$*cD[ds].x,ei=cD[I+1].y-cD[l].y+a$*cD[ds].y,df=cD[I+1].mP-cD[l].mP+a$*cD[ds].mP,bM=cD[I+1].Uv-cD[l].Uv+a$*cD[ds].Uv,ib=cD[I+1].u$-cD[l].u$+a$*cD[ds].u$,x=I+1-l+a$*ds;
t[bl]=hJ/x;t[bl+1]=ei/x;var fI=(df-hJ*hJ/x)/x,eU=(bM-hJ*ei/x)/x,gK=(ib-ei*ei/x)/x,bs=(fI+gK+Math.sqrt((fI-gK)*(fI-gK)+4*eU*eU))/2;
fI-=bs;gK-=bs;if(Math.abs(fI)>=Math.abs(gK)){J=Math.sqrt(fI*fI+eU*eU);if(J!=0){u[bl]=-eU/J;u[bl+1]=fI/J}}else{J=Math.sqrt(gK*gK+eU*eU);
if(J!=0){u[bl]=-gK/J;u[bl+1]=eU/J}}if(J==0){u[bl]=u[bl+1]=0}}var p=k.a8i,X=k.a2N,ds=k.WE,C=k.XJ,D=k.GV,o=k.aaT,t=new Array(p*2),u=new Array(p*2),m=new Array(p),U=new Array(3),l,I,x,J,F,_,K,B,ij,W,L;
k.o7=new n(p);for(l=0;l<p;l++){I=X[S(l+1,p)];I=S(I-X[l],ds)+X[l];t[l<<1]=0;t[(l<<1)+1]=0;u[l<<1]=0;u[(l<<1)+1]=0;
$(k,X[l],I,t,u,l<<1)}for(l=0;l<p;l++){m[l]=[0,0,0,0,0,0,0,0,0];var r=u[l<<1]*u[l<<1]+u[(l<<1)+1]*u[(l<<1)+1],Z=1/r;
if(r!=0){U[0]=u[(l<<1)+1];U[1]=-u[l<<1];U[2]=-U[1]*t[(l<<1)+1]-U[0]*t[l<<1];for(J=0;J<3;J++){m[l][J*3+0]=U[J]*U[0]*Z;
m[l][J*3+1]=U[J]*U[1]*Z;m[l][J*3+2]=U[J]*U[2]*Z}}}var f=[0,0,0,0,0,0,0,0,0];for(l=0;l<p;l++){f[0]=f[1]=f[2]=f[3]=f[4]=f[5]=f[6]=f[7]=f[8]=f[9]=0;
var i=C[X[l]<<1]-D,e3=C[(X[l]<<1)+1]-o,eE=0,ec=0;I=S(l-1,p);for(J=0;J<9;J+=3){f[J+0]=m[I][J+0]+m[l][J+0];
f[J+1]=m[I][J+1]+m[l][J+1];f[J+2]=m[I][J+2]+m[l][J+2]}while(1){var gw=f[0]*f[4]-f[1]*f[3];if(gw!=0){eE=(-f[2]*f[4]+f[5]*f[0])/gw;
ec=(f[2]*f[3]-f[5]*f[0])/gw;break}if(f[0]>f[4]){U[0]=-f[1];U[1]=f[0]}else if(f[4]){U[0]=-f[4];U[1]=f[3]}else{U[0]=1;
U[1]=0}var r=U[0]*U[0]+U[1]*U[1],Z=1/r;U[2]=-U[1]*e3-U[0]*i;for(J=0;J<3;J++){f[J*3+0]+=U[J]*U[0]*Z;f[J*3+1]+=U[J]*U[1]*Z;
f[J*3+2]+=U[J]*U[2]*Z}}F=Math.abs(eE-i);_=Math.abs(ec-e3);if(F<=.5&&_<=.5){k.o7.g5[l<<1]=eE+D;k.o7.g5[(l<<1)+1]=ec+o;
continue}K=d(f,i,e3);ij=i;W=e3;if(f[0]!=0){for(L=0;L<2;L++){ec=e3-.5+L;eE=-(f[1]*ec+f[2])/f[0];F=Math.abs(eE-i);
B=d(f,eE,ec);if(F<=.5&&B<K){K=B;ij=eE;W=ec}}}if(f[4]!=0){for(L=0;L<2;L++){eE=i-.5+L;ec=-(f[3]*eE+f[5])/f[4];
_=Math.abs(ec-e3);B=d(f,eE,ec);if(_<=.5&&B<K){K=B;ij=eE;W=ec}}}for(J=0;J<2;J++){for(x=0;x<2;x++){eE=i-.5+J;
ec=e3-.5+x;B=d(f,eE,ec);if(B<K){K=B;ij=eE;W=ec}}}k.o7.g5[l<<1]=ij+D;k.o7.g5[(l<<1)+1]=W+o}}function E(k){var $=k.o7.jo,p=k.o7,l,X,C,D,o,t,u,m,U;
for(l=0;l<$;l++){X=S(l+1,$);C=S(l+2,$);var I=p.g5[l<<1],x=p.g5[(l<<1)+1],J=p.g5[C<<1],r=p.g5[(C<<1)+1],Z=p.g5[X<<1],f=p.g5[(X<<1)+1],F=N(.5,J,Z),_=N(.5,r,f);
o=b(I,x,J,r);if(o!=0){D=A(Z-I,f-x,J-I,r-x)/o;D=Math.abs(D);t=D>1?1-1/D:0;t=t*(1/.75)}else{t=4/3}p.jT[X]=t;
var K=3*X<<1;if(t>=Q.axG){p.e8[X]=0;p.Mg[K+0]=p.Mg[K+1]=0;p.Mg[K+2]=Z;p.Mg[K+3]=f;p.Mg[K+4]=F;p.Mg[K+5]=_}else{if(t<.55){t=.55}else if(t>1){t=1}var B=.5+.5*t;
p.e8[X]=1;p.Mg[K]=N(B,I,Z);p.Mg[K+1]=N(B,x,f);p.Mg[K+2]=N(B,J,Z);p.Mg[K+3]=N(B,r,f);p.Mg[K+4]=F;p.Mg[K+5]=_}p.alpha[X]=t;
p.X0[X]=.5}p.aiJ=1}function G(k){function $(){this.Gi=0;this.VZ=0;this.yJ=0;this.I0=0;this.Tc=0;this.lG=0;
this.ua=0;this.alpha=0}function p(k,l,I,aJ,ip,ij,W){var C=k.o7.jo,fl=k.o7.Mg,b3=k.o7.g5;if(l==I)return 1;
var dY=l,Z=S(l+1,C),k4=S(dY+1,C),bM=b3[l<<1],ib=b3[(l<<1)+1],aK=b3[Z<<1],jK=b3[(Z<<1)+1],ay=ij[k4];if(ay==0)return 1;
var f8=z(bM-aK,ib-jK);for(dY=k4;dY!=I;dY=k4){var k4=S(dY+1,C),gN=S(dY+2,C),d4=b3[k4<<1],bK=b3[(k4<<1)+1],hf=b3[gN<<1],bC=b3[(gN<<1)+1];
if(ij[k4]!=ay)return 1;if(Math.sign(A(aK-bM,jK-ib,hf-d4,bC-bK))!=ay)return 1;if(V(aK-bM,jK-ib,hf-d4,bC-bK)<f8*z(d4-hf,bK-bC)*-.999847695156)return 1}var gW=S(l,C)*3+2<<1,dn=S(l+1,C)<<1,fq=S(I,C)<<1,jN=S(I,C)*3+2<<1,bl=fl[gW],cD=fl[gW+1],cU=b3[dn],jb=b3[dn+1],ac=b3[fq],a_=b3[fq+1],h5=fl[jN],jz=fl[jN+1],L=b3[0],i=b3[1];
gW=I*3+2<<1;var jj=fl[gW],jy=fl[gW+1],f=W[I]-W[l];f-=A(jj-L,jy-i,jj-L,jy-i)/2;if(l>=I){f+=W[C]}var g0=cU-bl,bt=jb-cD,kl=ac-bl,iO=a_-cD,dN=h5-bl,aG=jz-cD,iA=A(g0,bt,kl,iO),a0=A(g0,bt,dN,aG),cd=A(kl,iO,dN,aG),co=iA+cd-a0;
if(a0==iA)return 1;var B=cd/(cd-co),K=a0/(a0-iA),c7=a0*B/2;if(c7==0)return 1;var cF=f/c7,F=2-Math.sqrt(4-cF/.3);
aJ.VZ=N(B*F,bl,cU);aJ.yJ=N(B*F,cD,jb);aJ.I0=N(K*F,h5,ac);aJ.Tc=N(K*F,jz,a_);aJ.alpha=F;aJ.lG=B;aJ.ua=K;
cU=aJ.VZ;jb=aJ.yJ;ac=aJ.I0;a_=aJ.Tc;aJ.Gi=0;for(dY=S(l+1,C);dY!=I;dY=k4){k4=S(dY+1,C);var b1=b3[dY<<1],a5=b3[(dY<<1)+1],d4=b3[k4<<1],bK=b3[(k4<<1)+1];
B=T(cU-bl,jb-cD,ac-cU,a_-jb,h5-ac,jz-a_,d4-b1,bK-a5);if(B<-.5)return 1;var iy=v(B,bl,cU,ac,h5),ko=v(B,cD,jb,a_,jz),f8=z(d4-b1,bK-a5);
if(f8==0)return 1;var gc=A(d4-b1,bK-a5,iy-b1,ko-a5)/f8;if(Math.abs(gc)>ip)return 1;if(V(d4-b1,bK-a5,iy-b1,ko-a5)<0||V(b1-d4,a5-bK,iy-d4,ko-bK)<0){return 1}aJ.Gi+=gc*gc}for(dY=l;
dY!=I;dY=k4){k4=S(dY+1,C);var gW=dY*3+2<<1,dn=k4*3+2<<1,eR=fl[gW],aX=fl[gW+1],ck=fl[dn],by=fl[dn+1];
B=T(cU-bl,jb-cD,ac-cU,a_-jb,h5-ac,jz-a_,ck-eR,by-aX);if(B<-.5)return 1;var iy=v(B,bl,cU,ac,h5),ko=v(B,cD,jb,a_,jz),f8=z(ck-eR,by-aX);
if(f8==0)return 1;var gc=A(ck-eR,by-aX,iy-eR,ko-aX)/f8,i3=A(ck-eR,by-aX,b3[k4<<1]-eR,b3[(k4<<1)+1]-aX)/f8;
i3*=.75*k.o7.alpha[k4];if(i3<0){gc=-gc;i3=-i3}if(gc<i3-ip)return 1;if(gc<i3){aJ.Gi+=(gc-i3)*(gc-i3)}}return 0}var X=k.o7,C=X.jo,D=X.g5,o=new Array(C+1),t=new Array(C+1),u=new Array(C+1),m=new Array(C+1),U,l,I,x,J=new $,r,Z,f,F,_,K,B,ij=new Array(C),W=new Array(C+1);
for(l=0;l<C;l++){if(X.e8[l]=="CURVE"){var L=D[S(l-1,C)<<1],i=D[(S(l-1,C)<<1)+1],e3=D[l<<1],eE=D[(l<<1)+1],ec=D[S(l+1,C)<<1],gw=D[(S(l+1,C)<<1)+1];
ij[l]=Math.sign(A(e3-L,eE-i,ec-e3,gw-eE))}else{ij[l]=0}}f=0;W[0]=0;var bl=X.g5[0],cD=X.g5[1];for(l=0;
l<C;l++){Z=S(l+1,C);if(X.e8[Z]=="CURVE"){F=X.alpha[Z];var a$=l*3+2<<1,hJ=Z*3+2<<1,ei=X.Mg[a$],df=X.Mg[a$+1],bM=D[Z<<1],ib=D[(Z<<1)+1],fI=X.Mg[hJ],eU=X.Mg[hJ+1];
f+=.3*F*(4-F)*A(bM-ei,ib-df,fI-ei,eU-df)/2;f+=A(ei-bl,df-cD,fI-bl,eU-cD)/2}W[l+1]=f}o[0]=-1;t[0]=0;u[0]=0;
for(I=1;I<=C;I++){o[I]=I-1;t[I]=t[I-1];u[I]=u[I-1]+1;for(l=I-2;l>=0;l--){x=p(k,l,S(I,C),J,Q.ajB,ij,W);
if(x){break}if(u[I]>u[l]+1||u[I]==u[l]+1&&t[I]>t[l]+J.Gi){o[I]=l;t[I]=t[l]+J.Gi;u[I]=u[l]+1;m[I]=J;J=new $}}}U=u[C];
_=new n(U);K=new Array(U);B=new Array(U);I=C;for(l=U-1;l>=0;l--){var gK=S(I,C),bs=l*3+0<<1,km=gK*3+0<<1;
if(o[I]==I-1){_.e8[l]=X.e8[gK];_.Mg[bs]=X.Mg[km];_.Mg[bs+1]=X.Mg[km+1];_.Mg[bs+2]=X.Mg[km+2];_.Mg[bs+3]=X.Mg[km+3];
_.Mg[bs+4]=X.Mg[km+4];_.Mg[bs+5]=X.Mg[km+5];_.g5[l<<1]=X.g5[gK<<1];_.g5[(l<<1)+1]=X.g5[(gK<<1)+1];_.alpha[l]=X.alpha[gK];
_.jT[l]=X.jT[gK];_.X0[l]=X.X0[gK];K[l]=B[l]=1}else{_.e8[l]="CURVE";_.Mg[bs]=m[I].VZ;_.Mg[bs+1]=m[I].yJ;
_.Mg[bs+2]=m[I].I0;_.Mg[bs+3]=m[I].Tc;_.Mg[bs+4]=X.Mg[km+4];_.Mg[bs+5]=X.Mg[km+5];_.g5[l<<1]=N(m[I].ua,X.Mg[km+4],D[gK<<1]);
_.g5[(l<<1)+1]=N(m[I].ua,X.Mg[km+5],D[(gK<<1)+1]);_.alpha[l]=m[I].alpha;_.jT[l]=m[I].alpha;K[l]=m[I].ua;
B[l]=m[I].lG}I=o[I]}for(l=0;l<U;l++){Z=S(l+1,U);_.X0[l]=K[l]/(K[l]+B[Z])}_.aiJ=1;k.o7=_}for(var l=0;
l<c.length;l++){var k=c[l];Y(k);g(k);R(k);h(k);E(k);if(Q.a6U)G(k)}}return{ah3:H,a6k:y}}();jv.Lv=function(w,n,H,y){var c={wv:"minority",ayq:y,a6U:!0,axG:1,ajB:.2},Q=jv.ah3(w,n,H,c);
jv.a6k(Q,c);return Q};jv._e=function(w){var n=[];for(var l=0;l<w.length;l++){var H=w[l],y=H.o7,c=["M"],Q=[y.Mg[(y.jo-1)*6+4],y.Mg[(y.jo-1)*6+5]];
for(var q=0;q<y.jo;q++){var S=q*6;if(y.e8[q]==1){c.push("C");for(var A=0;A<6;A++)Q.push(y.Mg[S+A])}else if(y.e8[q]==0){c.push("L");
for(var A=2;A<4;A++)Q.push(y.Mg[S+A])}}c.push("Z");n.push({parent:H.parent,color:H.color,path:{w:Q,T:c}})}return n};
jv.Sq=function(w,n,H){var ds=w.length>>1,y,c=w[2*ds-3]-H,Q=w[2*ds-2]-n,q=w[2*ds-1]-H,S=q>c,A=0;for(var l=0;
l<ds;l++){y=Q;c=q;Q=w[2*l]-n;q=w[2*l+1]-H;if(c==q)continue;S=q>c}for(var l=0;l<ds;l++){y=Q;c=q;Q=w[2*l]-n;
q=w[2*l+1]-H;if(c<0&&q<0)continue;if(c>0&&q>0)continue;if(y<0&&Q<0)continue;if(c==q&&Math.min(y,Q)<=0)return!0;
if(c==q)continue;var V=y+(Q-y)*-c/(q-c);if(V==0)return!0;if(V>0)A++;if(c==0&&S&&q>c)A--;if(c==0&&!S&&q<c)A--;
S=q>c}return(A&1)==1};jv.fill=function(w,n,H,y){var c=n[w],Q=[w],q=0;while(q<Q.length){var S=Q[q];q++;
n[S]=y;if(n[S-H]==c){Q.push(S-H);n[S-H]=254}if(n[S-1]==c){Q.push(S-1);n[S-1]=254}if(n[S+1]==c){Q.push(S+1);
n[S+1]=254}if(n[S+H]==c){Q.push(S+H);n[S+H]=254}}};var iN=function(){function w(S){return Math.max(0,Math.min(1,S))}function n(S,A){var V=A<0?-A:A;
if(S>1)S=.99;S=S*.99;var e=Math.pow(V/5,.16),d=Math.pow(2,V<1?V:1+(V-1)*.8);if(A<0)d=1/d;S=e*(1-Math.pow(1-S,d))+(1-e)*S;
return S}function H(S,A){var V=A/100;S=S*.99;S=V*(.5-.5*Math.cos(S*Math.PI))+(1-V)*S;return S}var y=O.Rc.axS(1,1,1,-.3),c=O.Rc.G$(y);
function Q(S,A,V,e,d,N,b){var z=S[V],v=S[V+1],T=S[V+2],Y=O.Rc.Qb(y,[z,v,T,1]);z=Y[0];v=Y[1];T=Y[2];z=n(z,e);
v=n(v,e);T=n(T,e);var Y=O.Rc.Qb(c,[z,v,T,1]);z=Y[0];v=Y[1];T=Y[2];z=w(z);v=w(v);T=w(T);z=H(z,d);v=H(v,d);
T=H(T,d);var g=eZ.an6(z,v,T,N);z=g[0];v=g[1];T=g[2];z=w(z);v=w(v);T=w(T);if(b){var R=new Uint8Array(4);
R[0]=~~(.5+z*255);R[1]=~~(.5+v*255);R[2]=~~(.5+T*255);fb.kS(b,R,R,new cr(0,0,1,1));z=R[0]/255;v=R[1]/255;
T=R[2]/255}A[V]=z;A[V+1]=v;A[V+2]=T}function q(S,A,V,e,d,N){var b=d.Temp?d.Temp.v:0,z=d.Tint?d.Tint.v:0,v=d.Ex12?d.Ex12.v:0,T=d.Cr12?d.Cr12.v:0,Y=d.Vibr?d.Vibr.v:0,g=d.Strt?d.Strt.v:0,R=eZ.gU(b,z),h=null;
v+=R.a19;if(Y!=0||g!=0)h=fb.QT("vibA",{Strt:d.Strt,vibrance:d.Vibr});console.log(h);var E=Date.now();
if(N){var G=Math.pow(2,v),k=S.length;v=0;var $=new Float32Array(4e3);for(var l=0;l<4e3;l++){var p=l*(1/1e3);
p=O.so(p);p*=G;p=O.nC(p);p=w(p);$[l]=p}for(var l=0;l<k;l+=3){e[l]=$[~~(S[l]*1e3)];e[l+1]=$[~~(S[l+1]*1e3)];
e[l+2]=$[~~(S[l+2]*1e3)]}console.log(Date.now()-E,"Exposure normalizing");E=Date.now()}else e.set(S);
if(v!=0||T!=0||b!=0||z!=0||h){var X=17,C=1/(X-1),D=X*X*X,o=new Array(D*3);for(var t=0;t<X;t++)for(var u=0;
u<X;u++)for(var m=0;m<X;m++){var l=t*X*X+u*X+m,U=l*3;o[U]=t*C;o[U+1]=u*C;o[U+2]=m*C}for(var l=0;l<D;
l++)Q(o,o,l*3,v,T,R,h);console.log(Date.now()-E,"making LUT");E=Date.now();ICC.U.applyLUTFloat(o,X,e,e);
console.log(Date.now()-E,"applying LUT");E=Date.now()}}return q}();function gI(){}gI.V2=function(w){var n=new Uint8Array(w),H=0,y={NS:[],c4:[],list:[]},c=j.kH(n,H);
H+=2;if(c<=2){return gI.avb(n)}var Q=j.kH(n,H);H+=2;var q=j.QN(n,H,8);H+=8;var S=j.s(n,H);H+=4;if(S>0)y.NS=gI.D$(n,H,S,Q,c);
H+=S;var A=j.QN(n,H,8);H+=8;var V=j.s(n,H);H+=4;if(V>0)y.c4=fM.o$(n,H,V);H+=V;var e=j.QN(n,H,8);H+=8;
var d=j.s(n,H);H+=4;if(d>0){var N={};ba._b(n,N,H+4);y.list=N.Brsh.v}H+=d;var b=y.list;for(var l=0;l<b.length;
l++){iG.OR.check(b[l].v)}return y};gI.qG=function(w,n){w.v.Nm.v=n};gI.avb=function(w){var n={NS:[],c4:[],list:[]},H=0,y=j.kH(w,H);
H+=2;var c=j.kH(w,H);H+=2;for(var l=0;l<c;l++){var Q=j.kH(w,H);H+=2;var q=j.s(w,H);H+=4;var S=H;if(Q==2){var A={};
n.NS.push(A);var V=j.s(w,S);S+=4;var e=j.kH(w,S);S+=2;if(y==2){var d=j.Pb(w,S);S+=4+d.length*2+2}A.id=iC.aX()+"-d71c-11e5-b1ae-a548a96e5f9f";
S++;S+=8;A.U2=j.S9(w,S);S+=16;var N=j.kH(w,S);S+=2;var b=w[S];S++;var z=ic.Zl(!1,N,w,A.U2.m,A.U2.e,S,b);
gI.j8(A,z);var v=iG.Pn(A.id),T=v.Brsh.v;T.Dmtr.v.val=A.U2.m;T.Spcn.v.val=e;n.list.push({t:"Objc",v:v})}H+=q}return n};
gI.Z8=function(w){var n=new cJ,H=0,y=0;j.E2(n,H,6);H+=2;j.E2(n,H,2);H+=2;j.a_(n,H,"8BIMsamp");H+=8;H+=4;
y=H;H=gI.hQ(n,H,w.NS);j.Tu(n,y-4,H-y);j.a_(n,H,"8BIMpatt");H+=8;H+=4;y=H;H=fM.Hu(n,H,w.c4);j.Tu(n,y-4,H-y);
var c={classID:"null",Brsh:{t:"VlLs",v:w.list}};j.a_(n,H,"8BIMdesc");H+=8;H+=4;y=H;j.Tu(n,H,16);H+=4;
H+=ba.Mc(n,c,H);j.Tu(n,y-4,H-y);return n.data.slice(0,H).buffer};gI.D$=function(w,n,H,y,c){var Q=j.s,q=j.S9,S=n+H,A=[];
while(n<S){var V={};A.push(V);var e=Q(w,n);n+=4;var d=n,N=j.jt(w,n);n+=N.length;V.id=N.z9;if(y==1){n+=9;
V.U2=q(w,n);n+=16}else{n+=7;var b=Q(w,n);n+=4;V.U2=q(w,n);n+=16;var z=Q(w,n);n+=4;n+=z*4;var v=Q(w,n);
n+=4;var T=Q(w,n);n+=4;var Y=q(w,n);n+=16}var g=j.kH(w,n);n+=2;var R=w[n];n+=1;var h=ic.Zl(!1,g,w,V.U2.m,V.U2.e,n,R);
gI.j8(V,h);if(e%4!=0)e+=4-e%4;n=d+e}return A};gI.j8=function(w,n){var H=w.U2.clone();H.x=H.y=0;w.TP=[n,H]};
gI.hQ=function(w,n,H){var y=j.Tu,c=j.PV;for(var l=0;l<H.length;l++){var Q=H[l],q=n+4,A=56,e=1;n+=4;j.MV(w,n,Q.id);
n+=Q.id.length+2;w.ED(n,1);w.data[n]=1;n+=3;y(w,n,3);n+=4;var S=n;n+=4;c(w,n,Q.U2);n+=16;y(w,n,A);n+=4;
n+=A*4;y(w,n-4,1);var V=n;n+=4;y(w,n,8);n+=4;c(w,n,Q.U2);n+=16;j.E2(w,n,8);n+=2;w.ED(n,1);w.data[n]=e;
n++;var d=Q.TP[0];w.ED(n,Q.U2.O()*2);n=ic.EM(!1,d,w.data,Q.U2.m,Q.U2.e,n,e);w.ED(n,8);n+=8;var N=n-q;
y(w,q-4,N);y(w,S,N-49);y(w,V,N-305);if(N%4!=0)n+=4-N%4}return n};function aC(){}aC.V2=function(w,n){var H=new Uint8Array(w),y=[],c=0,Q=j.kH(H,c);
c+=2;if(Q!=4){throw"Unknown version of curves: "+Q}var q=j.kH(H,c);c+=2;for(var l=0;l<q;l++){var S=aC.tI(H,c);
c+=2+2*S.length;y.push(S)}if(c!=H.length){var A=j.QN(H,c,4);c+=4;var V=j.kH(H,c);c+=2;var e=j.kH(H,c);
c+=2;if(e!=0)throw"extra curves for channels"}var d=aC.wZ(y,0);d.presetKind={t:"long",v:3};d.presetFileName={t:"TEXT",v:n.split("/").pop().split(".")[0]};
return[d]};aC.Tm=function(w,n,H){var y=n,c=[],Q=w[n];n+=3;var q=j.s(w,n);n+=4;for(var l=0;l<4;l++){var S=q>>>l&1;
if(S){if(Q==0){var A=aC.tI(w,n);n+=2+2*A.length}else{var A=aC.atv(w,n);n+=256}c.push(A)}else c.push(Q==0?[0,0,255,255]:aC.ag0())}var V=aC.wZ(c,Q);
return V};aC.wZ=function(w,n){var H=gT.B1("curv");for(var l=0;l<4;l++){if(n==0){var y=w[l],c=[];for(var Q=0;
Q<y.length;Q+=2)c.push(O.hT.UH(y[Q],y[Q+1],!0));aC.UN(H,l,c)}else aC.UN(H,l,w[l])}return H};aC.Gw=function(w,n,H){var y=[];
for(var l=0;l<4;l++){var c=aC.$k(H,l);if(c.length==256)y.push(c);else{var Q=[];for(var q=0;q<c.length;
q++)Q.push(c[q].v.Hrzn.v,c[q].v.Vrtc.v);y.push(Q)}}var S=n,A=y[0].length==256?1:0;w.ED(n,3);w.data[n]=A;
w.data[n+1]=0;w.data[n+2]=1;n+=3;j.Tu(w,n,15);n+=4;for(var l=0;l<4;l++){var V=y[l];if(A==0){aC.awi(w,n,V);
n+=2+2*V.length}else{aC.aeP(w,n,V);n+=256}}return n-S};aC.ag0=function(){var w=[];for(var l=0;l<256;
l++)w.push(l);return w};aC.UN=function(w,n,H){var y=i7.MY("CrvA",n);if(H.length<256)y.Crv={t:"VlLs",v:H};
else{y.Mpng={t:"VlLs",v:[]};for(var l=0;l<256;l++)y.Mpng.v[l]={t:"long",v:H[l]}}y={t:"Objc",v:y};var c=w.Adjs.v,Q=i7.GR(c,n);
if(Q==-1)c.push(y);else c[Q]=y};aC.$k=function(w,n){var H=w.Adjs.v,y=i7.GR(H,n);if(y==-1){if(H.length==0||H[0].v.Crv)return[O.hT.UH(0,0,!0),O.hT.UH(255,255,!0)];
if(H[0].v.autoMachineLearning||H[0].v.AuCo)return[O.hT.UH(0,0,!0),O.hT.UH(128,160,!0),O.hT.UH(255,255,!0)];
var c=[];for(var l=0;l<256;l++)c.push(l);return c}var Q=H[y].v;if(Q.Crv)return Q.Crv.v;if(Q.Mpng){var c=[];
for(var l=0;l<256;l++)c.push(Q.Mpng.v[l].v);return c}return[O.hT.UH(0,0,!0),O.hT.UH(255,255,!0)]};aC.tI=function(w,n){var H=[],y=j.kH(w,n);
n+=2;for(var c=0;c<y;c++){var Q=j.kH(w,n);n+=2;var q=j.kH(w,n);n+=2;H.push(q,Q)}return H};aC.awi=function(w,n,H){var y=H.length/2;
j.E2(w,n,y);n+=2;for(var c=0;c<y;c++){j.E2(w,n,H[c*2+1]);n+=2;j.E2(w,n,H[c*2+0]);n+=2}};aC.atv=function(w,n){var H=[];
for(var l=0;l<256;l++)H.push(w[n+l]);return H};aC.aeP=function(w,n,H){w.ED(n,256);for(var l=0;l<256;
l++)w.data[n+l]=H[l]};function fm(){}fm.Tm=function(w,n,H){var y={},c=j.kH(w,n);n+=2;y.pG=w[n]==1;n++;
n++;y.kE=[j.Mz(w,n),j.Mz(w,n+2),j.Mz(w,n+4)];n+=6;y.HD=[j.Mz(w,n),j.Mz(w,n+2),j.Mz(w,n+4)];n+=6;y.rX=[];
for(var l=0;l<6;l++){var Q={};Q.cf=[j.Mz(w,n),j.Mz(w,n+2),j.Mz(w,n+4),j.Mz(w,n+6)];n+=8;Q.dl=[j.Mz(w,n),j.Mz(w,n+2),j.Mz(w,n+4)];
n+=6;y.rX.push(Q)}var q=gT.B1("hue2"),S=y;if(q.Clrz==null)q.Clrz={t:"bool",v:!1};q.Clrz.v=S.pG;for(var l=0;
l<7;l++){var A=l==0?S.pG?S.kE:S.HD:S.rX[l-1];fm.UN(q,l,A)}return q};fm.a5L=function(w){return{classID:"Hst2",H:{t:"long",v:w[0]},Strt:{t:"long",v:w[1]},Lght:{t:"long",v:w[2]}}};
fm.GR=function(w,n){for(var l=0;l<w.length;l++){var H=w[l].v.LclR;if(n==0&&H==null||H!=null&&H.v==n)return l}return-1};
fm.UN=function(w,n,H){var y=n==0?H:H.dl,c=fm.a5L(y);if(n!=0){var Q=H.cf;c.LclR={t:"long",v:n},c.BgnR={t:"long",v:Q[0]};
c.BgnS={t:"long",v:Q[1]};c.EndS={t:"long",v:Q[2]};c.EndR={t:"long",v:Q[3]}}c={t:"Objc",v:c};var q=w.Adjs.v,S=fm.GR(q,n);
if(S==-1)q.push(c);else q[S]=c};fm.$k=function(w,n){var H=w.Adjs.v,y=fm.GR(H,n);if(y==-1){if(n==0)return[0,0,0];
else return[{cf:[315,345,15,45],dl:[0,0,0]},{cf:[15,45,75,105],dl:[0,0,0]},{cf:[75,105,135,165],dl:[0,0,0]},{cf:[135,165,195,225],dl:[0,0,0]},{cf:[195,225,255,285],dl:[0,0,0]},{cf:[255,285,315,345],dl:[0,0,0]}][n-1]}var c=H[y].v,Q=[c.H.v,c.Strt.v,c.Lght.v];
if(n==0)return Q;return{dl:Q,cf:[c.BgnR.v,c.BgnS.v,c.EndS.v,c.EndR.v]}};fm.Gw=function(w,n,H){var y={pG:H.Clrz?H.Clrz.v:!1,rX:[]};
y.kE=y.HD=fm.$k(H,0);for(var l=1;l<7;l++)y.rX.push(fm.$k(H,l));var c=2+2+12+6*14,Q=w.data;w.ED(n,c);
j.pc(Q,n,2);n+=2;Q[n]=y.pG?1:0;n++;n++;j.ir(Q,n+0,y.kE[0]);j.ir(Q,n+2,y.kE[1]);j.ir(Q,n+4,y.kE[2]);n+=6;
j.ir(Q,n+0,y.HD[0]);j.ir(Q,n+2,y.HD[1]);j.ir(Q,n+4,y.HD[2]);n+=6;for(var l=0;l<6;l++){var q=y.rX[l].cf,S=y.rX[l].dl;
j.ir(Q,n+0,q[0]);j.ir(Q,n+2,q[1]);j.ir(Q,n+4,q[2]);j.ir(Q,n+6,q[3]);n+=8;j.ir(Q,n+0,S[0]);j.ir(Q,n+2,S[1]);
j.ir(Q,n+4,S[2]);n+=6}return c};function i7(){}i7.V2=function(w){var n=new Uint8Array(w),H=2,y=[];for(var l=0;
l<29;l++){var c=[];y.push(c);for(var Q=0;Q<5;Q++)c.push(j.kH(n,H+l*10+Q*2))}H+=29*10;if(H<n.length){var q=j.QN(n,H,4);
H+=4;var S=j.kH(n,H);H+=2;var A=j.kH(n,H);H+=2;var V=A-29;for(var l=0;l<V;l++){var c=[];y.push(c);for(var Q=0;
Q<5;Q++)c.push(j.kH(n,H+l*10+Q*2))}}var e=gT.B1("levl");for(var l=0;l<4;l++)i7.UN(e,l,y[l]);return e};
i7.MY=function(w,l){var n=["Cmps","Rd","Grn","Bl"],H={t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:n[l]}}]};
return{classID:w,Chnl:H}};i7.GR=function(w,n){var H={Cmps:0,Rd:1,Grn:2,Bl:3};for(var l=0;l<w.length;
l++){var y=w[l].v,c=H[y.Chnl.v[0].v.enum];if(c==n)return l}return-1};i7.UN=function(w,n,H){var y=i7.MY("LvlA",n);
y.Inpt={t:"VlLs",v:[{t:"long",v:H[0]},{t:"long",v:H[1]}]};y.Otpt={t:"VlLs",v:[{t:"long",v:H[2]},{t:"long",v:H[3]}]};
y.Gmm={t:"doub",v:H[4]/100};y={t:"Objc",v:y};var c=w.Adjs.v,Q=i7.GR(c,n);if(Q==-1)c.push(y);else c[Q]=y};
i7.$k=function(w,n){var H=[0,255,0,255,100],y=w.Adjs.v,c=i7.GR(y,n);if(c==-1)return H;var Q=y[c].v;if(Q.Inpt){H[0]=Q.Inpt.v[0].v;
H[1]=Q.Inpt.v[1].v}if(Q.Otpt){H[2]=Q.Otpt.v[0].v;H[3]=Q.Otpt.v[1].v}if(Q.Gmm){H[4]=Math.round(Q.Gmm.v*100)}return H};
i7.Z8=function(w,n){var H=[],y=0;for(var l=0;l<4;l++)H.push(i7.$k(n,l));while(H.length<29)H.push([0,255,0,255,100]);
w.ED(0,2+10*29);j.pc(w.data,y,2);y+=2;for(var l=0;l<29;l++){var c=H[l];for(var Q=0;Q<5;Q++)j.pc(w.data,y+l*10+Q*2,c[Q])}y+=29*10;
if(H.length==29)return y;w.ED(y,8+10*(H.length-29));j.lY(w.data,y,"Lvls");y+=4;j.pc(w.data,y,3);y+=2;
j.pc(w.data,y,H.length);y+=2;var q=H.length-29;for(var l=0;l<q;l++){var c=H[29+l];for(var Q=0;Q<5;Q++)j.pc(w.data,y+l*10+Q*2,c[Q])}y+=10*q;
return y};function dW(){}dW.V2=function(w){var n=new Uint8Array(w),H=2,y={rM:[],xJ:[]},c=j.QN(n,H,4);
H+=4;var Q=j.kH(n,H);H+=2;var q=j.s(n,H);H+=4;y.rM=fM.o$(n,H,q);H+=q;var S=j.s(n,H);H+=4;for(var l=0;
l<S;l++){var A=j.s(n,H);H+=4;var V=H,e={E5:{},fw:{}};y.xJ.push(e);H+=4;H+=ba._b(n,e.E5,H);H+=4;H+=ba._b(n,e.fw,H);
H=V+A;var d=e.fw.blendOptions,N=e.fw.Lefx;if(d&&Object.keys(d.v).length>1){}if(N){if(N.v.masterFXSwitch==null)N.v.masterFXSwitch={t:"bool",v:!0};
aU.JX(N.v)}}return y};dW.qG=function(w,n){w.E5.Nm.v=n};dW.Z8=function(w){var n=new cJ,H=0;j.E2(n,H,2);
H+=2;j.a_(n,H,"8BSL");H+=4;j.E2(n,H,3);H+=2;var y=H;H+=4;H=fM.Hu(n,H,w.rM);j.Tu(n,y,H-y-4);var c=w.xJ.length;
j.Tu(n,H,c);H+=4;for(var l=0;l<c;l++){H+=4;var Q=H,q=w.xJ[l];j.Tu(n,H,16);H+=4;H+=ba.Mc(n,q.E5,H);var S=q.fw.Lefx;
if(S){q.fw.Lefx=JSON.parse(JSON.stringify(S));aU.nB(q.fw.Lefx.v)}j.Tu(n,H,16);H+=4;H+=ba.Mc(n,q.fw,H);
if(S)q.fw.Lefx=S;j.Tu(n,Q-4,H-Q)}return n.data.slice(0,H).buffer};function hu(){}hu.Tm=function(w,n,H){var y=j.kH(w,n);
n+=2;var c={};c.UP=j.kH(w,n)==1;n+=2;c.Dy=[];for(var l=0;l<10;l++){var Q=[];c.Dy.push(Q);for(var q=0;
q<4;q++)Q.push(j.Mz(w,n+q*2));n+=8}var S=gT.B1("selc");S.Mthd.v.CrcM=c.UP?"Absl":"Rltv";for(var l=1;
l<10;l++)hu.UN(S,l-1,c.Dy[l]);return S};hu.$$="Rds Ylws Grns Cyns Bls Mgnt Whts Ntrl Blks".split(" ");
hu.MY=function(w,l){var n=["Cmps","Rd","Grn","Bl"],H={t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:n[l]}}]};
return{classID:w,Chnl:H}};hu.GR=function(w,n){var H=hu.$$;for(var l=0;l<w.length;l++){var y=w[l].v,c=H.indexOf(y.Clrs.v.Clrs);
if(c==n)return l}return-1};hu.UN=function(w,n,H){var y=["Cyn","Mgnt","Ylw","Blck"],c={classID:"ClrC",Clrs:{t:"enum",v:{Clrs:hu.$$[n]}}};
for(var Q=0;Q<4;Q++)c[y[Q]]={t:"UntF",v:{type:"#Prc",val:H[Q]}};c={t:"Objc",v:c};var q=w.ClrC.v,S=hu.GR(q,n);
if(S==-1)q.push(c);else q[S]=c};hu.$k=function(w,n){var H=[0,0,0,0],y=w.ClrC.v,c=hu.GR(y,n);if(c==-1)return H;
var Q=["Cyn","Mgnt","Ylw","Blck"];for(var l=0;l<4;l++)if(y[c].v[Q[l]])H[l]=y[c].v[Q[l]].v.val;return H};
hu.Gw=function(w,n,H){var y={UP:H.Mthd.v.CrcM=="Absl",Dy:[[0,0,0,0]]};for(var l=0;l<9;l++)y.Dy.push(hu.$k(H,l));
w.ED(n,84);j.pc(w.data,n,1);n+=2;j.pc(w.data,n,y.UP?1:0);n+=2;for(var l=0;l<10;l++){var c=y.Dy[l];for(var Q=0;
Q<4;Q++)j.ir(w.data,n+Q*2,c[Q]);n+=8}return 84};function ca(){}ca.B1=function(){return{C5:new cr(0,0,50,50),E5:"",S6:"play",i:O.r.yj.Uo([.1,.1,.9,.5,.1,.9],0)}};
ca.V2=function(w){w=new Uint8Array(w);var n=0,H=[],y=Date.now(),c=j.QN(w,0,4);n+=4;var Q=j.s(w,n);n+=4;
var q=j.s(w,n);n+=4;for(var l=0;l<q;l++){var S=j.Pb(w,n);n+=S.length*2+4+2;if((S.length&1)==0)n+=2;n=ca.PR(w,n,S,H)}return H};
ca.PR=function(w,n,H,y){var c=j.s(w,n);n+=4;var Q=j.s(w,n);n+=4;var q=n,S=j.jt(w,q).z9;q+=S.length+1;
var A=j.S9(w,q);q+=16;var V=ca.XE(w,q,Q-(q-n)),e=O.r.$B(V),d=O.p.hH(e),N=1/d.m,b=1/d.e;O.r._R(V,new b7(N,0,0,b,-d.x*N,-d.y*b));
y.push({S6:H,E5:S,i:V,C5:A});n+=Q;return n};ca.qG=function(w,n){w.S6=n};ca.Z8=function(w){var n=new cJ,H=0;
j.a_(n,H,"cush");H+=4;j.Tu(n,H,2);H+=4;j.Tu(n,H,w.length);H+=4;for(var l=0;l<w.length;l++){var y=w[l],c=y.S6+"\0";
j.yU(n,H,c);H+=4+c.length*2;if((c.length&1)==1)H+=2;j.Tu(n,H,1);H+=4;H+=4;var Q=H;j.MV(n,H,y.E5);H+=y.E5.length+1;
j.PV(n,H,y.C5);H+=16;n.ED(H,y.i.length*26);ca.mz(n.data,H,y.i,1,1);H+=y.i.length*26;var q=H-Q;if((q&3)!=0)q+=4-(q&3);
j.Tu(n,Q-4,q);H=Q+q}return n.data.slice(0,H).buffer};ca.a7p=function(w){var n=[];for(var l=0;l<w.length;
l++){var H=w[l],y=H.type,c={type:y};n.push(c);if(y==6){}else if(y==8)c.all=H.all;else if(y==0||y==3){c.length=H.length;
c.frule=H.NB;c.third=H.P0;c.prmA=H.Hj;c.prmB=H.jS}else{c.c=[H.P7.x,H.P7.y,H.H.x,H.H.y,H.f$.x,H.f$.y]}}return n};
ca.TK=function(w){var n=[];for(var l=0;l<w.length;l++){var H=w[l],y=H.type,c={type:y};n.push(c);if(y==6){}else if(y==8)c.all=H.all;
else if(y==0||y==3){c.length=H.length;c.NB=H.frule;c.P0=H.third;c.Hj=H.prmA;c.jS=H.prmB}else{var Q=H.c;
c.P7=new ce(Q[0],Q[1]);c.H=new ce(Q[2],Q[3]);c.f$=new ce(Q[4],Q[5])}}return n};ca.XE=function(w,n,H,y,c){if(y==null)y=1;
if(c==null)c=1;function Q(v,T,Y){var g=j.atu(v,T)*Y,R=Math.round(g);return Math.abs(g-R)<1e-6?R:g}var q=j.Mz,S=[],A=Math.floor(H/26);
for(var l=0;l<A;l++){var V=n+l*26,e={},d=0;S.push(e);e.type=q(w,V);V+=2;if(e.type==6){d=24}if(e.type==8){e.all=q(w,V);
V+=2;d=22}if(e.type==0||e.type==3){e.length=q(w,V);V+=2;e.NB=q(w,V);V+=2;e.P0=q(w,V);V+=2;e.Hj=j.s(w,V);
V+=4;e.jS=j.s(w,V);V+=4;d=10}if(e.type==1||e.type==2||e.type==4||e.type==5){var N,b;b=Q(w,V,c);V+=4;
N=Q(w,V,y);V+=4;e.P7=new ce(N,b);b=Q(w,V,c);V+=4;N=Q(w,V,y);V+=4;e.H=new ce(N,b);b=Q(w,V,c);V+=4;N=Q(w,V,y);
V+=4;e.f$=new ce(N,b);d=0}for(var z=0;z<d;z++)if(w[V+z]!=0){console.log("Unexpected non-zero byte!",e,z,w[V+z])}}return S};
ca.mz=function(w,n,H,y,c){var Q=j.ir,q=j.axL,S=H.length;for(var l=0;l<S;l++){var A=n+l*26,V=H[l];Q(w,A,V.type);
A+=2;if(V.type==6){}if(V.type==8)Q(w,A,V.all);if(V.type==0||V.type==3){Q(w,A,V.length);A+=2;Q(w,A,V.NB);
A+=2;Q(w,A,V.P0);A+=2}if(V.type==1||V.type==2||V.type==4||V.type==5){q(w,A,V.P7.y/c);A+=4;q(w,A,V.P7.x/y);
A+=4;q(w,A,V.H.y/c);A+=4;q(w,A,V.H.x/y);A+=4;q(w,A,V.f$.y/c);A+=4;q(w,A,V.f$.x/y);A+=4}}};function hQ(){}hQ.V2=function(w){var n=new Uint8Array(w),H=[],y=0;
if(j.QN(n,0,4)=="ASEF")H=hQ.a9n(n);else{y=hQ.rs(n,y,H);if(y+3<n.length){H=[];y=hQ.rs(n,y,H)}}return H};
hQ.a9n=function(w){var n=[],H=8,y=j.s(w,H),c,Q=null,q,S,A,V;H+=4;for(var e=0;e<y;e++){var d=j.kH(w,H);
H+=2;var N=j.s(w,H);H+=4;var b=H+N;if(d==49153||d==1){var z=j.kH(w,H);H+=2;var v=j.C3(w,H,z-1);H+=z*2;
if(d==1)c=v;else Q=v}if(d==1){var T=j.QN(w,H,4);H+=4;q=j.Ma(w,H);H+=4;S=j.Ma(w,H);H+=4;A=j.Ma(w,H);H+=4;
if(T=="RGB "){}else if(T=="CMYK"){V=j.Ma(w,H);H+=4;var Y=UDOC.C.cmykToRgb([q,S,A,V]);q=Y[0];S=Y[1];A=Y[2]}else alert("Unknown color space: "+T);
n.push({b:q*255,J:S*255,k:A*255,Hq:(Q?Q+" : ":"")+c})}H=b}return n};hQ.rs=function(w,n,H){var y=j.kH,c=j.Mz,Q=y(w,n);
n+=2;var q=y(w,n);n+=2;for(var l=0;l<q;l++){var S=hQ.gM(w,n);n+=10;if(Q==2){S.Hq=j.Pb(w,n);n+=4+S.Hq.length*2+2}H.push(S)}return n};
hQ.gM=function(w,n){var H=j.kH,y=j.Mz,c=H(w,n),b=null;n+=2;var Q=H(w,n);n+=2;var q=H(w,n);n+=2;var S=H(w,n);
n+=2;var A=H(w,n);n+=2;var V=1/65535,e=255/65535,d=100/65535,N=255/1e4;if(c==0)b={b:Q*e,J:q*e,k:S*e};
else if(c==1){b=O.AT(Q*V,q*V,S*V);b.b*=255;b.J*=255;b.k*=255}else if(c==2)b=O.M.cH({classID:"CMYC",Cyn:{t:"doub",v:100-Q*d},Mgnt:{t:"doub",v:100-q*d},Ylw:{t:"doub",v:100-S*d},Blck:{t:"doub",v:100-A*d}});
else if(c==7){var z=O.l_(Q/100,y(w,n-6)/100,y(w,n-4)/100);b=z}else if(c==8){b={b:255-Q*N,J:255-q*N,k:255-S*N}}else if(c==18){var v=255*Q/16384;
b={b:v,J:v,k:v}}else{throw c}return b};hQ.Z8=function(w){var n=new cJ,H=0,y=j.E2;y(n,H,2);H+=2;y(n,H,w.length);
H+=2;for(var l=0;l<w.length;l++){var c=w[l];n.ED(H,10);hQ.XQ(n.data,H,c);H+=10;var Q=(c.Hq?c.Hq:"")+"\0";
j.yU(n,H,Q);H+=4+Q.length*2}return n.data.slice(0,H).buffer};hQ.qG=function(w,n){w.Hq=n};hQ.XQ=function(w,n,H){var y=65535/255,c=j.pc;
c(w,n,0);c(w,n+2,Math.round(H.b*y));c(w,n+4,Math.round(H.J*y));c(w,n+6,Math.round(H.k*y));c(w,n+8,0)};
function hr(){}hr.V2=function(w){var n=new Uint8Array(w),H=4,y={};y.hG=j.Pb(n,H);H+=4+y.hG.length*2+2;
y.exp=n[H++]==1;y.GN=[];var c=j.s(n,H);H+=4;for(var l=0;l<c;l++){var Q={};y.GN.push(Q);Q.cm=j.kH(n,H);
H+=2;Q.shift=n[H++]==1;Q.a8p=n[H++]==1;Q.color=j.kH(n,H);H+=2;Q.hG=j.Pb(n,H);H+=4+Q.hG.length*2+2;Q.exp=n[H++]==1;
Q.GN=[];var q=j.s(n,H);H+=4;for(var S=0;S<q;S++){var A={};Q.GN.push(A);A.exp=n[H++]==1;A.C=n[H++]==1;
A.ayh=n[H++]==1;A.a7R=n[H++];var V=j.QN(n,H,4);H+=4;if(V=="TEXT"){A.fd=hr.Nw(n,H);H+=4+A.fd.length}else if(V=="long"){A.fd=j.QN(n,H,4);
H+=4}else throw"e";A.T2=hr.Nw(n,H);H+=4+A.T2.length;var e=j.sI(n,H);H+=4;if(e==-1){A.ei={};var d=ba._b(n,A.ei,H);
H+=d}}}console.log(y);var N=new Uint8Array(hr.Z8(y));for(var l=0;l<N.length;l++)if(N[l]!=n[l]&&j.QN(n,l+1,4)!="None"){console.log(n.length,N.length);
var b=4*(l>>>2)-16;console.log(j.Xi(n,b,64));console.log(j.Xi(N,b,64));console.log(n.slice(b,b+64));
console.log(N.slice(b,b+64));throw"i"}return[y]};hr.Nw=function(w,n){var H=j.s(w,n);return j.QN(w,n+4,H)};
hr.B3=function(w,n,H){j.Tu(w,n,H.length);j.a_(w,n+4,H)};hr.Z8=function(w){var n=new cJ,H=0;j.Tu(n,H,16);
H+=4;j.yU(n,H,w.hG+"\0");H+=4+w.hG.length*2+2;n.ED(H,1);n.data[H++]=w.exp?1:0;var y=w.GN.length;j.Tu(n,H,y);
H+=4;for(var l=0;l<y;l++){var c=w.GN[l];j.E2(n,H,c.cm);H+=2;n.ED(H,2);n.data[H++]=c.shift?1:0;n.data[H++]=c.a8p?1:0;
j.E2(n,H,c.color);H+=2;j.yU(n,H,c.hG+"\0");H+=4+c.hG.length*2+2;n.ED(H,1);n.data[H++]=c.exp?1:0;var Q=c.GN.length;
j.Tu(n,H,Q);H+=4;for(var q=0;q<Q;q++){var S=c.GN[q];n.ED(H,4);n.data[H++]=S.exp?1:0;n.data[H++]=S.C?1:0;
n.data[H++]=S.ayh?1:0;n.data[H++]=S.a7R;var A="LqFy Avrg GEfc PbPl Fbrs Bokh LnCr".split(" ").indexOf(S.fd)!=-1;
j.a_(n,H,A?"long":"TEXT");H+=4;if(!A){hr.B3(n,H,S.fd);H+=4+S.fd.length}else{j.a_(n,H,S.fd);H+=4}hr.B3(n,H,S.T2);
H+=4+S.T2.length;j.UB(n,H,S.ei?-1:0);H+=4;if(S.ei){var V=ba.Mc(n,S.ei,H);H+=V}}}return n.data.slice(0,H).buffer};
function ct(){}ct.V2=function(w){var n=new Uint8Array(w),H=0,y=j.s(n,H),A;H+=4;var c=j.QN(n,H,8);H+=8;
var Q=j.U5(n,H);H+=4;var q=j.U5(n,H);H+=4;var S=j.U5(n,H);H+=4;if(y==2){A=new Float32Array(w,32,w.byteLength-32>>>2)}else if(y==3||y==4){A=new Float32Array(q*S*2);
var V=0,e=0,d=!0;H=y==3?32:16+8+40;while(H<n.length){var N=j.U5(n,H);H+=4;if(d)e+=N;else{for(var l=0;
l<N;l++){A[V+e+l<<1]=j.ci(n,H);A[(V+e+l<<1)+1]=j.ci(n,H+4);H+=8}e+=N}d=!d;if(N!=0&&e==q){V+=q;e=0;d=!0;
if(V==q*S)break}}}else throw"unknown Mesh version: "+y;return{pV:q,WZ:S,map:A}};ct.hc=function(w){var n=w.pV,H=w.WZ,y=w.map,c=new Uint8Array(32+H*n*8+H*8),Q=0,q=0;
j.AU(c,Q,3);Q+=4;j.lY(c,Q,"yfqLhseM");Q+=8;j.QU(c,Q,2);Q+=4;j.QU(c,Q,n);Q+=4;j.QU(c,Q,H);Q+=4;j.QU(c,Q,0);
Q+=4;j.QU(c,Q,1);Q+=4;for(var S=0;S<H;S++){j.QU(c,Q,0);Q+=4;j.QU(c,Q,n);Q+=4;for(var A=0;A<n;A++){j.iF(c,Q,y[q]);
j.iF(c,Q+4,y[q+1]);q+=2;Q+=8}}return c.buffer};function dD(){}dD.V2=function(w){var n=new Uint8Array(w),H=0,y=j.QN(n,H,4);
H+=4;var c=j.kH(n,H);H+=2;var Q=j.s(n,H);H+=4;var q=[];for(var l=0;l<Q;l++){var S=j.s(n,H);H+=4;var A={classID:"ShpC",Nm:{t:"TEXT",v:""},Crv:{t:"VlLs",v:[]}};
q.push(A);var V=j.Pb(n,H);A.Nm.v=V;H+=4+V.length*2+2;var e=j.kH(n,H);H+=2;var d=j.kH(n,H);H+=2;for(var N=0;
N<d;N++){var b=O.hT.UH(0,0,!0);b.v.Vrtc.v=j.kH(n,H);H+=2;b.v.Hrzn.v=j.kH(n,H);H+=2;A.Crv.v.push(b)}if(S==1){}else if(S==2){for(var N=0;
N<d;N++){A.Crv.v[N].v.Cnty.v=n[H]==1;H+=1}}else throw"error";var z=j.s(n,H);H+=4;var v=j.s(n,H);H+=4}return q};
dD.qG=function(w,n){w.Nm.v=n};dD.Z8=function(w){var n=new cJ,H=0;j.a_(n,H,"8BFS");H+=4;j.E2(n,H,1);H+=2;
j.Tu(n,H,w.length);H+=4;for(var l=0;l<w.length;l++){j.Tu(n,H,2);H+=4;var y=w[l];j.yU(n,H,y.Nm.v+"\0");
H+=4+y.Nm.v.length*2+2;j.E2(n,H,2);H+=2;var c=y.Crv.v.length;j.E2(n,H,c);H+=2;for(var Q=0;Q<c;Q++){var q=y.Crv.v[Q];
j.E2(n,H,q.v.Vrtc.v);H+=2;j.E2(n,H,q.v.Hrzn.v);H+=2}n.ED(H,c);for(var Q=0;Q<c;Q++){n.data[H]=y.Crv.v[Q].v.Cnty.v;
H++}j.Tu(n,H,0);H+=4;j.Tu(n,H,0);H+=4}return n.data.slice(0,H).buffer};function fM(){}fM.V2=function(w){var n=new Uint8Array(w),H=4,y=j.kH(n,H);
H+=2;var c=j.s(n,H);H+=4;var Q=[];for(var l=0;l<c;l++){var q={};Q.push(q);H=fM.N8(n,H,q)}return Q};fM.qG=function(w,n){w.name=n};
fM.Z8=function(w){var n=new cJ,H=0;j.a_(n,H,"8BPT");H+=4;j.E2(n,H,1);H+=2;j.Tu(n,H,w.length);H+=4;for(var l=0;
l<w.length;l++){H=fM.gg(n,H,w[l])}return n.data.slice(0,H).buffer};fM.o$=function(w,n,H){var y=n+H,c=[];
while(n<y){var Q={},q=j.s(w,n);n+=4;var S=n;n=fM.N8(w,n,Q);if(!Q.TP[1]._G())c.push(Q);if(q%4!=0)q+=4-q%4;
n=S+q}return c};fM.Hu=function(w,n,H){for(var l=0;l<H.length;l++){var y=H[l];n+=4;var c=n;n=fM.gg(w,n,y);
var Q=n-c;j.Tu(w,c-4,Q);if(Q%4!=0)c+=4-Q%4;n=c+Q}return n};fM.N8=function(w,n,H){var y=j.s(w,n);n+=4;
if(y!=1)alert("Unknown version of pattern");var c=j.s(w,n);n+=4;if(c!=1&&c!=2&&c!=3)console.log("Unsupported mode of pattern: "+c);
var Q=j.kH(w,n);n+=2;var q=j.kH(w,n);n+=2;var S=new cr(0,0,q,Q);H.name=j.Pb(w,n);n+=4+2*H.name.length+2;
var A=w[n];n++;H.id=j.QN(w,n,A);n+=H.id.length;var V=-1;if(c==2){V=n;n+=3*256+4}var e=new O.$Z(q*Q);
n=fM.a8C(w,n,e);if(c==2){for(var l=0;l<e.b.length;l++){var d=3*e.b[l];e.b[l]=w[V+d+0];e.J[l]=w[V+d+1];
e.k[l]=w[V+d+2]}}var N=O.R(S.O()*4);O.HR(e,N);H.TP=[N,S];return n};fM.gg=function(w,n,H){var y=H.TP[0],c=H.TP[1];
j.Tu(w,n,1);n+=4;j.Tu(w,n,3);n+=4;j.E2(w,n,c.e);n+=2;j.E2(w,n,c.m);n+=2;j.yU(w,n,H.name+"\0");n+=4+2*H.name.length+2;
j.Gj(w,n,H.id.length);n++;j.a_(w,n,H.id);n+=H.id.length;var Q=new O.$Z(c.O());O.cw(y,Q);n=fM.agZ(w,n,Q,c);
return n};fM.a8C=function(w,n,H){var y=n,c={U2:null,vE:[],agU:null,PJ:null},Q=j.s(w,n);n+=4;var q=j.s(w,n);
n+=4;c.U2=j.S9(w,n);n+=16;var S=j.s(w,n);n+=4;for(var l=0;l<S+2;l++){var A=j.s(w,n);n+=4;if(A==0)continue;
var V=j.s(w,n);n+=4;if(V==0)continue;var e=j.s(w,n);n+=4;var d=j.S9(w,n);n+=16;var N=j.kH(w,n);n+=2;
var b=w[n];n++;var z=ic.Zl(!1,e,w,d.m,d.e,n,b);if(l<S)c.vE.push(z);if(l==S)c.agU=z;if(l==S+1)c.PJ=z;
n+=V-23}if(!c.U2._G()){if(c.vE[0])H.b=c.vE[0];if(c.vE[1])H.J=c.vE[1];else H.J=c.vE[0].slice(0);if(c.vE[2])H.k=c.vE[2];
else H.k=c.vE[0].slice(0);if(c.PJ)H.iL=c.PJ;else H.iL.fill(255)}return n};fM.agZ=function(w,n,H,y){var c=n,Q={U2:y,vE:[H.b,H.J,H.k],agU:null,PJ:H.iL};
j.Tu(w,n,3);n+=4;j.Tu(w,n,0);n+=4;j.PV(w,n,y);n+=16;j.Tu(w,n,24);n+=4;for(var l=0;l<24+2;l++){var q=n,S=l<3||l==25?1:0;
j.Tu(w,n,S);n+=4;if(S==0)continue;j.Tu(w,n,0);n+=4;j.Tu(w,n,8);n+=4;j.PV(w,n,y);n+=16;j.E2(w,n,8);n+=2;
j.Gj(w,n,1,1);n++;var A=l<3?Q.vE[l]:Q.PJ;w.ED(n,y.O()+2);n=ic.EM(!1,A,w.data,y.m,y.e,n,1);j.Tu(w,q+4,n-q-8)}j.Tu(w,c+4,n-c-8);
return n};function bR(){}bR.V2=function(w){var n=new Uint8Array(w),H=0;if(n[0]==71)return bR.akg(n);
var y=j.QN(n,H,4);H+=4;var c=j.kH(n,H);H+=2;var Q=[];if(c<=3){var q=j.kH(n,H);H+=2;for(var l=0;l<q;l++){var S=n[H++],A=j.QN(n,H,S);
H+=S;var V=bR.W6(n,H,A),e=V[0];H=V[1];Q.push(e)}}else{var V={},d=ba._b(n,V,H+4),N=V.GrdL.v;for(var l=0;
l<N.length;l++)Q[l]=N[l].v.Grad.v}return Q};bR.qG=function(w,n){w.Nm.v=n};bR.Z8=function(w){var n=new cJ,H=0;
j.a_(n,H,"8BGR");H+=4;j.E2(n,H,5);H+=2;j.Tu(n,H,16);H+=4;var y={classID:"null",GrdL:{t:"VlLs",v:[]}},c=y.GrdL.v;
for(var l=0;l<w.length;l++)c[l]={t:"Objc",v:{classID:"Grdn",__name:"Gradient ",Grad:{t:"Objc",v:w[l]}}};
H+=ba.Mc(n,y,H);return n.data.slice(0,H).buffer};bR.W6=function(w,n,H){var y={classID:"Grdn",Clrs:{t:"VlLs",v:[]},GrdF:{t:"enum",v:{GrdF:"CstS"}},Intr:{t:"doub",v:4096},Nm:{t:"TEXT",v:H},Trns:{t:"VlLs",v:[]}},c=j.kH(w,n);
n+=2;if(c==0)throw"e";for(var l=0;l<c;l++){var Q=j.s(w,n),q=j.s(w,n+4),S=hQ.gM(w,n+8),A={t:"Objc",v:{classID:"Clrt",Clr:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:S.b},Grn:{t:"doub",v:S.J},Bl:{t:"doub",v:S.k}}},Type:{t:"enum",v:{Clry:"UsrS"}},Lctn:{t:"long",v:Q},Mdpn:{t:"long",v:q}}};
y.Clrs.v.push(A);n+=20}var V=j.kH(w,n);n+=2;for(var l=0;l<V;l++){var Q=j.s(w,n),q=j.s(w,n+4),e=j.kH(w,n+8),A={t:"Objc",v:{classID:"TrnS",Opct:{t:"UntF",v:{type:"#Prc",val:Math.round(100*e/255)}},Lctn:{t:"long",v:Q},Mdpn:{t:"long",v:q}}};
y.Trns.v.push(A);n+=10}var d=j.kH(w,n);n+=2;y.Intr.v=d==2?j.kH(w,n):4096;n+=2;var N=j.kH(w,n);n+=2;return[y,n]};
bR.af2=function(w,n,H){var y=H.Clrs.v.length;j.E2(w,n,y);n+=2;for(var l=0;l<y;l++){var c=H.Clrs.v[l];
j.Tu(w,n,c.v.Lctn.v);j.Tu(w,n+4,c.v.Mdpn.v);j.E2(w,n+8,0);var Q=O.M.Yw(O.M.cH(c.v.Clr.v)),q=[Q.Rd.v,Q.Grn.v,Q.Bl.v,0];
for(var S=0;S<4;S++)j.E2(w,n+10+S*2,Math.round(65535*(q[S]/255)));n+=20}var A=H.Trns.v.length;j.E2(w,n,A);
n+=2;for(var l=0;l<A;l++){var c=H.Trns.v[l];j.Tu(w,n,c.v.Lctn.v);j.Tu(w,n+4,c.v.Mdpn.v);j.E2(w,n+8,Math.round(255*c.v.Opct.v.val/100));
n+=10}j.E2(w,n,2);n+=2;j.E2(w,n,H.Intr.v);n+=2;j.E2(w,n,32);n+=2;return n};bR.akg=function(w){var n=j.NR(w,0,w.length).split("\n"),H=parseFloat(n[2]),y=[],c=JSON.parse(d5.FK[d5.order.indexOf("GrFl")]).Grad.v;
c.Intr.v=0;c.Nm.v=n[1];for(var l=0;l<H;l++){var Q=n[3+l].split(" ").map(parseFloat),q=Q[11],S=Q[12];
y.push([Q[0],Q.slice(3,6),Q[6]]);if(S!=0){var A=O.qR(Q[3],Q[4],Q[5]),V=O.qR(Q[7],Q[8],Q[9]),e=A.WZ,d=V.WZ;
if(S==1&&e>d)d++;if(S==2&&e<d)e++;var N=Math.round(Math.abs(d-e)*7);if(N>1)for(var b=0;b<N;b++){var z=1-(b+1)/(N+1),v=1-z,T=O.AT(z*e+v*d,z*A.ua+v*V.ua,z*A.X5+v*V.X5);
y.push([z*Q[0]+v*Q[2],[T.b,T.J,T.k],z*Q[6]+v*Q[10]])}}y.push([Q[2],Q.slice(7,10),Q[10]])}y.sort(function(Y,g){return Y[0]-g[0]});
O.M.Wm(y,c);return[c]};function kh(){}kh.V2=function(w){var n=new Uint8Array(w),H=[],y=[],c=[],Q=[],q=[],S=0,A=j.QN(n,S,4);
S+=4;var V=j.s(n,S);S+=4;var e=j.s(n,S);S+=4;while(S<n.length){var d=j.QN(n,S,4);S+=4;var N=j.QN(n,S,4);
S+=4;var b=j.s(n,S);S+=4;if(N=="tppa"){y=fM.o$(n,S,b);S+=b}else if(N=="tpbd"){c=gI.D$(n,S,b,1,1);S+=b}else if(N=="tptp"){var z=j.s(n,S);
S+=4;for(var l=0;l<z;l++){var v=j.Pb(n,S);S+=6+v.length*2;S+=4;var T={};S+=ba._b(n,T,S);H.push([v,T])}while((S&3)!=0)S++}else if(N=="tpsh"){var Y=S,g=n.slice(S,S+b);
while(S<Y+b){var R=j.s(n,S);S+=4;S=ca.PR(n,S,"Shape",Q)}S=Y+b}else if(N=="tpst"){var Y=S;S+=4;while(S<Y+b){var h=j.s(n,S);
S+=4;var E=S,G=j.s(n,S);S+=4;var T={E5:{},fw:{}};q.push(T);S+=4;S+=ba._b(n,T.E5,S);S+=4;S+=ba._b(n,T.fw,S);
S=E+h;var k=T.fw.Lefx;if(k){if(k.v.masterFXSwitch==null)k.v.masterFXSwitch={t:"bool",v:!0};aU.JX(k.v)}}S=Y+b}else{console.log(n.slice(S-8,S+64));
console.log(j.QN(n,S-8,64));throw N}}return{NS:c,c4:y,list:H,a0K:Q,xJ:q}};kh.qG=function(w,n){w[0]=n};
kh.Z8=function(w){var n=new cJ,H=0;j.a_(n,H,"8BTP");H+=4;j.Tu(n,H,3);H+=4;j.Tu(n,H,1);H+=4;var y=[w.c4,w.NS,w.list];
for(var l=0;l<3;l++){if(y[l].length==0)continue;j.a_(n,H,"8BIM");H+=4;var c=["tppa","tpbd","tptp"][l];
j.a_(n,H,c);H+=4;var Q=H;H+=4;if(c=="tppa"){H=fM.Hu(n,H,w.c4)}else if(c=="tpbd"){H=gI.hQ(n,H,w.NS)}else if(c=="tptp"){j.Tu(n,H,w.list.length);
H+=4;for(var q=0;q<w.list.length;q++){var S=w.list[q];j.yU(n,H,S[0]+"\0");H+=6+S[0].length*2;j.Tu(n,H,16);
H+=4;H+=ba.Mc(n,S[1],H)}}j.Tu(n,Q,H-Q-4);while((H&3)!=0)H++;n.ED(H,0)}return n.data.slice(0,H).buffer};
function gE(){}gE.V2=function(w,n){var H=new Uint8Array(w),y;if(j.s(H,0)==H.length)y="icc";else if(H[0]=="<".charCodeAt(0))y="look";
else if(j.OA(H,"LUT_3D_SIZE")!=-1)y="cube";else y="3DL";if(y!="icc"){var c=gE.aeS(H,y),Q=gE.aeJ(c[0],c[1]);
H=Q}var q=[];for(var l=0;l<H.length;l++)q.push(H[l]);return[{classID:"null",Dthr:{t:"bool",v:!0},Nm:{t:"TEXT",v:n?n:"file.icc"},lookupType:{t:"enum",v:{colorLookupType:"abstractProfile"}},profile:{t:"tdta",v:q}}]};
gE.Z8=function(w){var n=w[0],H=new Uint8Array(n.profile.v);return H.buffer};gE.qG=function(w,n){w.Nm.v=n};
gE.aeJ=function(w,n){var H=new cJ,y=128;H.ED(0,128);var c=[0,0,14,204,65,68,66,69,4,0,0,0,108,105,110,107,82,71,66,32,82,71,66,32,7,227,0,7,0,27,0,8,0,6,0,49,97,99,115,112,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,246,214,0,1,0,0,0,0,211,45,65,68,66,69,219,126,245,21,206,223,186,23,165,212,201,219,250,10,33,62];
for(var l=0;l<c.length;l++)H.data[l]=c[l];var Q=["desc","A2B0"],q=Q.length,S=128+4+q*12;j.Tu(H,y,q);
y+=4;for(var A=0;A<q;A++){var V=Q[A];j.a_(H,y,V);y+=4;j.Tu(H,y,S);y+=4;var e=S;if(V=="desc"){j.a_(H,e,"mluc");
e+=4;e+=4;j.Tu(H,e,1);e+=4;j.Tu(H,e,12);e+=4;j.a_(H,e,"enUS");e+=4;var d="ICC by Photopea\0",N=d.length*2+2;
j.Tu(H,e,N);e+=4;j.Tu(H,e,28);e+=4;H.ED(e,N);for(var l=0;l<d.length;l++)H.data[e+l*2+1]=d.charCodeAt(l);
e+=N}if(V=="A2B0"){j.a_(H,e,"mAB ");e+=4;e+=4;H.ED(e,4);H.data[e]=3;H.data[e+1]=3;e+=4;H.ED(e,4*5);e+=4*3;
j.Tu(H,e,e+8-S);e+=4;e+=4;H.ED(e,20);H.data[e]=w;H.data[e+1]=w;H.data[e+2]=w;e+=16;H.data[e]=2;e+=4;
var b=w*w*w*3;H.ED(e,b*2);for(var l=0;l<b;l++)j.pc(H.data,e+l*2,Math.max(0,Math.min(65535,Math.round(n[l]*65535))));
e+=b*2}var z=e-S;while((z&3)!=0)z++;j.Tu(H,y,z);y+=4;S+=z}j.Tu(H,0,S);return H.data.slice(0,S)};gE.aeS=function(w,n){n="LUTFormat"+n.toUpperCase();
var H=[],y=0,c=j.NR(w,0,w.length),Q="";for(var l=0;l<w.length&&Q=="";l++){if(w[l]==10)Q="\n";else if(w[l]==13){Q="\r";
if(w[l+1]==10)Q+="\n"}}if(n=="LUTFormatCUBE"){var q=c.split(Q);for(var l=0;l<q.length;l++){if(q[l]==""||q[l][0]=="#")continue;
var S=q[l].split(" "),A=S[0];if(A=="LUT_3D_SIZE"){y=parseInt(S[1]);continue}if(["TITLE","DOMAIN_MIN","DOMAIN_MAX"].indexOf(A)!=-1)continue;
H.push(parseFloat(S[0]),parseFloat(S[1]),parseFloat(S[2]))}H=gE.sU(y,H)}else if(n=="LUTFormat3DL"){var q=c.split(Q),V=1/4095;
for(var l=0;l<q.length;l++){var e=q[l];if(e==""||e=="3DMESH"||e.startsWith("Mesh")||e[0]=="#")continue;
var S=e.split(" "),A=S[0];if(y==0){y=S.length;continue}H.push(parseFloat(S[0])*V,parseFloat(S[1])*V,parseFloat(S[2])*V)}}else if(n=="LUTFormatLOOK"){var d=new DOMParser,N=d.parseFromString(c,"text/xml"),b=N.getElementsByTagName("LUT")[0],z=b.children[0].textContent;
y=parseInt(JSON.parse(z));var v=b.children[1].textContent;v=v.replace(/"/g,"").replace(/\s/g,"");var T=3*y*y*y,Y=T*4,g=new Uint8Array(Y);for(var l=0;l<Y;l++){var R=v.charCodeAt(l*2),h=v.charCodeAt(l*2+1),E=R<58?R-48:R-55,G=h<58?h-48:h-55;g[l]=(E<<4)+G}for(var l=0;l<T;l++)H.push(j.ci(g,l<<2));H=gE.sU(y,H)}else throw n;return[y,H]};gE.a03=function(w,n,H){var y=["#Created by www.Photopea.com","TITLE \""+H+"\"","","#LUT size","LUT_3D_SIZE "+n,"","#data domain","DOMAIN_MIN 0.0 0.0 0.0","DOMAIN_MAX 1.0 1.0 1.0","","#LUT data points"],c=6;
for(var l=0;l<w.length;l+=3){y.push(w[l].toFixed(c)+" "+w[l+1].toFixed(c)+" "+w[l+2].toFixed(c))}y.push("");
return j.bv(y.join("\n")).buffer};gE.sU=function(w,n){var H=[],y=w*w*w;for(var l=0;l<y;l++)H.push(0,0,0);
for(var c=0;c<w;c++)for(var Q=0;Q<w;Q++)for(var q=0;q<w;q++){var l=3*(q+Q*w+c*w*w),S=3*(c+Q*w+q*w*w);
H[S]=n[l];H[S+1]=n[l+1];H[S+2]=n[l+2]}return H};function ba(){}ba._b=function(w,n,H,y,c){var Q=H,q;if(c==null)c=0;
var S=j.s(w,H);if(S==0){q="";H+=4}else{q=j.Pb(w,H);H+=4+2*q.length+2}if(q!="")n.__name=q;n.classID=ba.Qo(w,H);
if(y)console.log("\t".repeat(c),"- reading descriptor",n.classID,H);H+=ba.E6(w,H);var A=j.sI(w,H);H+=4;
for(var l=0;l<A;l++){var V=ba.Qo(w,H);H+=ba.E6(w,H);var e=ba.Qf(w,H,y,c);n[V]=e;H+=e.size;delete e.size}return H-Q};
ba.Mc=function(w,n,H,y){var c=H,Q=n.__name;if(Q==null)Q="";Q+="\0";j.yU(w,H,Q);H+=4+2*Q.length;ba.AY(w,H,n.classID);
H+=ba.E6(w.data,H);j.UB(w,H,Object.keys(n).length-1-(n.__name==null?0:1));H+=4;for(var q in n){if(q=="classID")continue;
if(q=="__name")continue;ba.AY(w,H,q);H+=ba.E6(w.data,H);H+=ba.hn(w,H,n[q])}return H-c};ba.Qf=function(w,n,H,y){var c=n,Q=j.QN(w,n,4);
n+=4;var q={size:0,t:Q,v:null};if(H)console.log("\t".repeat(y),"reading key",Q,c);switch(Q){case"obj ":case"VlLs":q.v=[];
var S=j.s(w,n);n+=4;for(var l=0;l<S;l++){var A=ba.Qf(w,n,H,y+1);n+=A.size;delete A.size;q.v.push(A)}break;
case"UntF":q.v={type:j.QN(w,n,4),val:j.PC(w,n+4)};n+=12;break;case"doub":q.v=j.PC(w,n);n+=8;break;case"bool":q.v=w[n]==1;
n+=1;break;case"long":q.v=j.sI(w,n);n+=4;break;case"comp":q.v=j.sI(w,n+4);n+=8;break;case"Objc":q.v={};
var V=ba._b(w,q.v,n,H,y+1);n+=V;break;case"TEXT":var e=j.s(w,n);if(e==0){q.v="";n+=4}else{q.v=j.Pb(w,n);
n+=4+q.v.length*2+2}break;case"enum":var d=ba.Qo(w,n);n+=ba.E6(w,n);var N=ba.Qo(w,n);n+=ba.E6(w,n);q.v={};
q.v[d]=N;break;case"tdta":var b=j.sI(w,n);n+=4;q.v=[];for(var l=0;l<b;l++)q.v.push(w[n+l]);n+=b;break;
case"ObAr":var z=j.s(w,n);n+=4;var v=j.Pb(w,n);n+=4+2*v.length+2;if(v!="")throw v;var T=ba.Qo(w,n);n+=4+Math.max(4,T.length);
q.v={classID:T,arr:[]};var Y=j.s(w,n);n+=4;for(var l=0;l<Y;l++){var T=ba.Qo(w,n);n+=4+Math.max(4,T.length);
var d=j.QN(w,n,4);n+=4;var g=j.QN(w,n,4);n+=4;var R={id:T,type:d,uID:g,arr:[]};q.v.arr.push(R);var h=j.s(w,n,4);
n+=4;for(var E=0;E<h;E++){var G=j.PC(w,n);n+=8;R.arr.push(G)}}break;case"Pth ":var k=n,b=j.s(w,n);n+=4;
var $=j.QN(w,n,4);n+=4;var p=j.U5(w,n);n+=4;var X=j.an_(w,n);n+=4+X.length*2;q.v={sig:$,pth:X};break;
case"Clss":case"type":case"rele":var X=j.Pb(w,n);n+=4+X.length*2+2;var C=ba.Qo(w,n);n+=4+Math.max(4,C.length);
q.v={classID:C};if(X!="")q.v.__name=X;if(Q=="rele"){q.v.val=j.sI(w,n);n+=4}break;case"prop":case"Enmr":case"indx":case"name":case"Idnt":var D=ba.Vd[Q],X=j.Pb(w,n);
n+=4+X.length*2+2;if(X.length!=0){console.log(Q,X);throw"e"}q.v={};for(var l=0;l<D.length;l++){var C=ba.Qo(w,n);
n+=4+Math.max(4,C.length);q.v[D[l]]=C}if(Q=="name"){var X=j.Pb(w,n);n+=4+X.length*2+2;q.v.val=X}if(Q=="indx"||Q=="Idnt"){q.v.val=j.s(w,n);
n+=4}break;case"alis":var b=j.s(w,n);n+=4;q.v=j.QN(w,n,b);n+=b;break;default:{console.log("unknown oskey: "+Q+", "+c);
throw"e";return q}}if(H){console.log("\t".repeat(y),q.v);console.log("\t".repeat(y),"======",n)}q.size=n-c;
return q};ba.Vd={name:["classID"],prop:["classID","keyID"],Enmr:["classID","typeID","enum"],indx:["classID"],Idnt:["classID"]};
ba.hn=function(w,n,H){var y=n,c=H.t;H=H.v;j.a_(w,n,c);n+=4;switch(c){case"obj ":case"VlLs":j.UB(w,n,H.length);
n+=4;for(var Q=0;Q<H.length;Q++){var q=ba.hn(w,n,H[Q]);n+=q}break;case"UntF":j.a_(w,n,H.type);j.eI(w,n+4,H.val);
n+=12;break;case"doub":j.eI(w,n,H);n+=8;break;case"bool":j.Gj(w,n,H?1:0,1);n+=1;break;case"long":j.UB(w,n,H);
n+=4;break;case"comp":j.UB(w,n+4,H);n+=8;break;case"Objc":var q=ba.Mc(w,H,n);n+=q;break;case"TEXT":j.yU(w,n,H+"\0");
n+=4+H.length*2+2;break;case"enum":var S=Object.keys(H)[0],A=H[S];ba.AY(w,n,S);n+=ba.E6(w.data,n);ba.AY(w,n,A);
n+=ba.E6(w.data,n);break;case"tdta":j.Tu(w,n,H.length);n+=4;j.PN(w,n,H);n+=H.length;break;case"ObAr":j.Tu(w,n,H.arr[0].arr.length);
n+=4;j.yU(w,n,"\0");n+=6;ba.AY(w,n,H.classID);n+=4+Math.max(4,H.classID.length);j.Tu(w,n,H.arr.length);
n+=4;for(var l=0;l<H.arr.length;l++){var V=H.arr[l];ba.AY(w,n,V.id);n+=4+Math.max(4,V.id.length);j.a_(w,n,V.type);
n+=4;j.a_(w,n,V.uID);n+=4;j.Tu(w,n,V.arr.length);n+=4;for(var Q=0;Q<V.arr.length;Q++){j.eI(w,n,V.arr[Q]);
n+=8}}break;case"Pth ":var e=H.pth.length*2+4+8;j.Tu(w,n,e);n+=4;j.a_(w,n,H.sig);n+=4;j.Uk(w,n,e);n+=4;
j.aa8(w,n,H.pth);n+=H.pth.length*2+4;break;case"Clss":case"type":case"rele":var d=H.__name;if(d==null)d="";
j.yU(w,n,d+"\0");n+=4+d.length*2+2;var N=H.classID;ba.AY(w,n,N);n+=4+Math.max(4,N.length);if(c=="rele"){j.UB(w,n,H.val);
n+=4}break;case"prop":case"Enmr":case"indx":case"name":case"Idnt":var b=ba.Vd[c];j.Tu(w,n,1);n+=6;for(var l=0;
l<b.length;l++){var N=H[b[l]];ba.AY(w,n,N);n+=4+Math.max(4,N.length)}if(c=="name"){j.yU(w,n,H.val+"\0");
n+=4+H.val.length*2+2}if(c=="indx"||c=="Idnt"){j.Tu(w,n,H.val);n+=4}break;case"alis":var e=H.length;
j.Tu(w,n,e);n+=4;j.a_(w,n,H);n+=e;break;default:console.log("unknown oskey: "+c);n=y;break}return n-y};
ba.Qo=function(w,n){var H=j.sI(w,n);if(H>1e3)throw"e";if(H==0)H=4;return j.QN(w,n+4,H).trim()};ba.E6=function(w,n){var H=j.sI(w,n);
return H==0?8:4+H};ba.AY=function(w,n,H){var y="warp list Comp None xx xy yx yy tx ty PinP PnRt PnOv PnDp xor PuX0 PuX1 PuX2 PuX3 PuY0 PuY1 PuY2 PuY3 base kana ruby box flow time hold trim then else".split(" "),c=4<H.length||y.indexOf(H)!=-1;
j.UB(w,n,c?H.length:0);j.a_(w,n+4,H);if(H.length<4&&!c){var Q="";for(var l=H.length;l<4;l++)Q+=" ";j.a_(w,n+4+H.length,Q)}};
ba.a25=function(w){var n={};for(var H in w){if(H=="classID")n[H]=w[H];else if(H=="__name")n[H]=w[H];
else n[H]=ba.kd(w[H])}return n};ba.kd=function(w){if(w.lG=="Objc")return ba.a25(w.v);else if(w.lG=="VlLs"){var n=[];
for(var l=0;l<w.v.length;l++)n.push(ba.kd(w.v[l]));return n}else if(w.lG=="UntF")return w.v.val;else return w.v};
function aU(){}aU.l3=function(w,n,H,y,c,Q){while(n<H){var q=j.QN(w,n,4);n+=4;if(q!="8BIM"&&q!="8B64"){console.log("layer information signature error! "+q,"PSB = "+c);
alert("Error in PSD file: wrong signature.");return H}var S=j.QN(w,n,4);n+=4;var A=j.s(w,n);n+=4;var V=c&&"LMsk Lr16 Lr32 Layr Mt16 Mt32 Mtrn Alph FMsk lnk2 lnkE FEid FXid PxSD extn cinf artd pths".split(" ").indexOf(S)!=-1;
if(V){A=A<<32|j.sI(w,n);n+=4}var e=["lrFX","PlLd"];if(e.indexOf(S)!=-1){if(A%4!=0)A+=4-A%4;n+=A;continue}switch(S){case"iOpa":y[S]=w[n];
break;case"brst":y[S]=[1,1,1];for(var l=0;l<A;l+=4)y[S][j.s(w,n+l)]=0;break;case"knko":y[S]=w[n];break;
case"infx":y[S]=w[n];break;case"clbl":y[S]=w[n];break;case"lmgm":y[S]=w[n];break;case"vmgm":y[S]=w[n];
break;case"fcmy":y[S]=w[n];break;case"lyid":y[S]=j.s(w,n);break;case"lsct":y[S]={type:j.s(w,n)};if(A>=12)y[S].UM=j.QN(w,n+8,4);
break;case"lsdk":y.lsct={type:j.s(w,n)};break;case"lyvr":y[S]=j.s(w,n);break;case"lnsr":var d={artb:1,bgnd:1,cont:1,layr:1,lset:1,rend:1,shap:1,user:1,____:null};
y[S]=j.QN(w,n,4);break;case"lspf":y[S]=j.s(w,n);break;case"lclr":y[S]=j.kH(w,n);break;case"luni":y[S]=j.kw(w,n);
break;case"fxrp":y[S]=new ce(j.PC(w,n),j.PC(w,n+8));break;case"artb":case"artd":y[S]={};ba._b(w,y[S],n+4);
break;case"SoCo":y[S]={};ba._b(w,y[S],n+4);break;case"GdFl":y[S]={};ba._b(w,y[S],n+4);aU.Si(y[S],S);
break;case"PtFl":y[S]={};ba._b(w,y[S],n+4);aU.Si(y[S],S);break;case"CgEd":y[S]={};ba._b(w,y[S],n+4);
break;case"brit":var N=y.brit=gT.B1("brit"),b={};N.Brgh.v=j.Mz(w,n);N.Cntr.v=j.Mz(w,n+2);N.useLegacy.v=!1;
break;case"levl":var z=w.buffer.slice(n,n+A);y[S]=i7.V2(z);break;case"curv":y[S]=aC.Tm(w,n,A);break;
case"expA":var v=j.kH(w,n),T=y[S]=gT.B1("expA");T.Exps.v=j.Ma(w,n+2);T.Ofst.v=j.Ma(w,n+6);T.gammaCorrection.v=j.Ma(w,n+10);
break;case"vibA":y[S]={};ba._b(w,y[S],n+4);break;case"hue2":y[S]=fm.Tm(w,n,A);break;case"blnc":var T=y[S]=gT.B1(S);
T.PrsL.v=w[n+18]==1;var Y=["ShdL","MdtL","HghL"];for(var l=0;l<3;l++)for(var g=0;g<3;g++)T[Y[l]].v[g].v=j.Mz(w,n+l*6+g*2);
break;case"blwh":var R={};ba._b(w,R,n+4);var T=gT.B1(S),h="Bl Cyn Grn Mgnt Rd Yllw tintColor useTint".split(" ");
for(var l=0;l<h.length;l++){T[h[l]]=R[h[l]];delete R[h[l]]}y[S]=T;break;case"phfl":var T=y[S]=gT.B1(S),E=T.Clr.v,v=j.kH(w,n);
if(v==3){var G=[j.s(w,n+2),j.s(w,n+6),j.s(w,n+10)],k=32768,$=O.e0(G[0]/k,G[1]/k,G[2]/k);E.Lmnc.v=$.qm;
E.A.v=$.iL;E.B.v=$.k}if(v==2){var p=j.kH(w,n+2);if(p!=7)throw"e";E.Lmnc.v=j.Mz(w,n+4)/100;E.A.v=j.Mz(w,n+6)/100;
E.B.v=j.Mz(w,n+8)/100}var X=n+2+(v==3?12:10);T.Dnst.v=j.s(w,X);X+=4;T.PrsL.v=w[X]==1;break;case"mixr":var C={qj:j.kH(w,n+2)==1,Z:[]};
for(var l=0;l<20;l++)C.Z.push(j.Mz(w,n+4+l*2));y[S]=fb.ajE(C);break;case"clrL":case"rplc":y[S]={};ba._b(w,y[S],n+6);
break;case"nvrt":y[S]={};break;case"post":y[S]=gT.B1("post");y[S].Lvls.v=j.kH(w,n);break;case"thrs":y[S]=gT.B1("thrs");
y[S].Lvl.v=j.kH(w,n);break;case"grdm":var D=n,o=w[n+2]==1,t=w[n+3]==1;D+=4;var u=j.QN(w,D,4);if(u=="Perc"||u=="Gcls"||u=="Lnr ")D+=4;
var m=j.kw(w,D);D+=4+m.length*2;var U=bR.W6(w,D,m),I=U[0];D=U[1];var x=j.kH(w,D);D+=2;var J=j.s(w,D);
D+=4;var r=j.kH(w,D)==1;D+=2;var Z=j.kH(w,D)==1;D+=2;var f=j.s(w,D);D+=4;var F=j.kH(w,D);D+=2;var _=[],K=[];
for(var l=0;l<4;l++){_.push({t:"long",v:~~(j.kH(w,D+l*2)*100/32768)});K.push({t:"long",v:~~(j.kH(w,D+l*2+8)*100/32768)})}D+=16;
var B=j.kH(w,D);D+=2;if(x==1)I={classID:"Grdn",Nm:{t:"TEXT",v:m},GrdF:{t:"enum",v:{GrdF:"ClNs"}},ShTr:{t:"bool",v:r},VctC:{t:"bool",v:Z},ClrS:{t:"enum",v:{ClrS:"RGBC"}},RndS:{t:"long",v:J},Smth:{t:"long",v:f},Mnm:{t:"VlLs",v:_},Mxm:{t:"VlLs",v:K}};
var ij=gT.B1("grdm");ij.Rvrs.v=o;ij.Grad.v=I;y[S]=ij;break;case"selc":y[S]=hu.Tm(w,n,A);break;case"vmsk":case"vsms":var W=y.vmsk=new a.TB,L=j.sI(w,n+4),i=(L>>0&1)==1;
W.G9=(L>>1&1)==0;W.isEnabled=(L>>2&1)==0;W.i=ca.XE(w,n+8,A-8,Q.m,Q.e);break;case"shmd":y[S]={};var e3=j.s(w,n),X=n+4;
for(var l=0;l<e3;l++){var q=j.QN(w,X,4);X+=4;var eE=j.QN(w,X,4);X+=4;var ec=w[X];X++;if(Math.max(w[X],w[X+1])!=0)throw"e";
X+=3;var gw=j.s(w,X);X+=4;if(eE=="cust"||eE=="cmls"||eE=="extn"||eE=="mlst"){var bl=j.s(w,X);if(bl!=16)X+=4;
if(j.s(w,X)==16){var R={};ba._b(w,R,X+4,!1);y[S][eE]=R;if(eE=="cmls")P.nd.a5v(y[S][eE])}}else{console.log("unknown shmd key: "+eE+", size: "+gw)}X+=gw}break;
case"shpa":var v=j.s(w,n),cD=j.s(w,n+4);if(cD!=0)console.log("some patterns present!");break;case"TySh":var a$=y[S]={},v=j.kH(w,n);
a$.D=j.lN(w,n+2);var hJ=j.kH(w,n+2+48);a$.BP={};var ei=ba._b(w,a$.BP,n+56),df=j1.ayT();for(var bM in df)if(a$.BP[bM]==null)a$.BP[bM]=df[bM];
a$.oa={};var ib=ba._b(w,a$.oa,n+56+ei+6);a$.oo=j.amD(w,n+56+ei+6+ib);a$.EB=eM.V2(a$.BP.EngineData.v);
j1.aff(a$.EB.EngineDict.StyleRun.RunArray);if(a$.EB.ResourceDict==null)a$.EB.ResourceDict=JSON.parse(JSON.stringify(a$.EB.DocumentResources));
delete a$.BP.EngineData;break;case"lfx2":case"lmfx":case"lfxs":var fI=j.s(w,n),eU=j.s(w,n+4);y.lmfx={};
var ei=ba._b(w,y.lmfx,n+8);aU.JX(y.lmfx);break;case"FMsk":y[S]=j.J8(w,n,A);break;case"Txt2":y[S]={};
y[S].raw=j.J8(w,n,A);y[S].B9=hq.V2(y[S].raw);break;case"Patt":y[S]=fM.o$(w,n,A);break;case"SoLd":var gK=j.QN(w,n,4),bs=j.s(w,n+4),km=j.s(w,n+8);
y[S]={};var aJ=ba._b(w,y[S],n+12);if(y[S].nonAffineTransform==null)y[S].nonAffineTransform=JSON.parse(JSON.stringify(y[S].Trnf));
if(y[S].Impr==null)y[S].Impr={t:"Objc",v:{__name:"None",classID:"none"}};break;case"vstk":case"pths":var bs=j.s(w,n);
y[S]={};var aJ=ba._b(w,y[S],n+4);break;case"vscg":var eE=j.QN(w,n,4),bs=j.s(w,n+4);y[eE]={};var aJ=ba._b(w,y[eE],n+8);
aU.Si(y[eE],eE);break;case"vogk":var ip=j.s(w,n),bs=j.s(w,n+4);y[S]={};var aJ=ba._b(w,y[S],n+8);y[S]=y[S].keyDescriptorList.v;
for(var l=0;l<y[S].length;l++){var fl=y[S][l].v;if(!O.X.qw(fl))continue;if(fl.keyOriginBoxCorners==null){var b3=O.X.$U(fl);
fl.keyOriginBoxCorners={t:"Objc",v:{classID:"null"}};var dY=[b3[0],b3[1],b3[2],b3[1],b3[2],b3[3],b3[0],b3[3]];
if(fl.keyOriginType.v==4)dY=O.X.Fj(O.X.ej(fl),fl.keyOriginLineWeight.v);O.X.Tj(fl,"keyOriginBoxCorners",dY)}}break;
case"lnk2":case"lnkD__":case"lnk3__":y[S]=[];var D=n;while(D<n+A){var k4=new a.zI;y[S].push(k4);var aK=j.Qd(w,D);
D+=8;var jK=D;k4.type=j.QN(w,D,4);D+=4;if(k4.type!="liFD"){alert("Unknown Linked Layer type: "+k4.type);
break;throw k4.type}k4.gt=j.s(w,D);D+=4;var ay=j.jt(w,D);D+=1+ay.z9.length;k4.h4=ay.z9;k4.w5=j.Pb(w,D);
D+=4+k4.w5.length*2+2;k4.SU=j.QN(w,D,4);D+=4;k4.z7=j.QN(w,D,4);D+=4;var f8=j.Qd(w,D);D+=8;k4.open=w[D];
D+=1;if(k4.open!=0){var gN={},ei=ba._b(w,gN,D+4);if(ei%4!=0)ei+=4-ei%4;console.log(gN);D+=ei+4}k4.open=0;
k4.raw=j.J8(w,D,f8);D=jK+aK;if(aK%4!=0)D+=4-aK%4}break;case"FEid":var D=n;y[S]=[];var d4=D+A,v=j.s(w,D);
D+=4;while(D<d4){D+=4;var aK=j.s(w,D);D+=4;var U={};y[S].push(U);U.id=j.jt(w,D).z9;D+=U.id.length+1;
var v=j.s(w,D);D+=4;D+=4;var bK=j.s(w,D);D+=4;U.rect=j.S9(w,D);D+=16;var hf=j.s(w,D);D+=4;var bC=j.s(w,D);
D+=4;var gW=new O.$Z(0);for(var l=0;l<bC+2;l++){var dn=j.s(w,D);D+=4;if(dn!=0){D+=4;var fq=j.s(w,D),jN=null;
D+=4;if(l<3||l==25)jN=ic.w0(!0,hf,w,U.rect.m,U.rect.e,D,fq);if(l==0)gW.b=jN;if(l==1)gW.J=jN;if(l==2)gW.k=jN;
if(l==25)gW.iL=jN;D+=fq}}U.buffer=O.R(U.rect.O()*4);O.HR(gW,U.buffer);O.Vu(U);var cU=w[D];D++;if(cU!=0){U.z=new a.ZV;
U.z.rect=j.S9(w,D);D+=16;D+=4;var jb=j.s(w,D);D+=4;U.z.channel=ic.w0(!0,hf,w,U.z.rect.m,U.z.rect.e,D,jb);
U.z.color=255;U.z.KU();D+=jb}if(aK%4!=0)D+=4-aK%4}break;case"Lr16":hb.yY(Q,w,n);break;case"Anno":y[S]=[];
var ac=n,a_=n+4,cD=j.s(w,a_);a_+=4;for(var l=0;l<cD;l++){var aK=j.s(w,a_);a_+=4;var h5=j.QN(w,a_,4);
a_+=4;if(h5!="txtA")throw h5;var jz=w[a_++],jj=w[a_++],jy=j.kH(w,a_);a_+=2;var g0=j.S9(w,a_);a_+=16;
var bt=j.S9(w,a_);a_+=16;var E=hQ.gM(w,a_);a_+=10;var kl=j.jt(w,a_);a_+=kl.length;var iO=j.jt(w,a_);
a_+=iO.length;var dN=j.jt(w,a_);a_+=dN.length;var aG=j.s(w,a_);a_+=4;var iA=j.QN(w,a_,4);a_+=4;var a0=j.s(w,a_);
a_+=4;var cd=j.C3(w,a_+2,a0-2>>1);a_+=a0;y[S].push([g0.x,g0.y,E,kl.z9,cd])}break;default:break}var co="Lr16 LMsk Txt2 artd extd luni pths extn tySh lfx2 cinf Anno".split(" ");
if(co.indexOf(S)==-1)if(A%4!=0)console.log("size not multiple of 4!!!",S);if(S!="luni"&&S!="TySh"&&S!="tySh"&&S!="lfx2"&&S!="iOpa")if(A%4!=0)A+=4-A%4;
n+=A}var b=y.CgEd;if(b){var N=y.brit;if(N){N.Brgh.v=b.Brgh?b.Brgh.v:0;N.Cntr.v=b.Cntr?b.Cntr.v:0;N.useLegacy.v=b.useLegacy?b.useLegacy.v:0}delete y.CgEd}var c7=[];
for(var l=0;l<c7.length;l++)delete y[c7[l]];return n};aU.jw=function(w,n,H,y,c){for(var Q in H)if(H[Q]==null){alert("A bug occured (see console).");
console.log("Please, report a bug, that \""+Q+"\" tag was present with a null value.");delete H[Q]}for(var Q in H){var q=y&&"LMsk Lr16 Lr32 Layr Mt16 Mt32 Mtrn Alph FMsk lnk2 lnkE FEid FXid PxSD extn cinf artd pths".split(" ").indexOf(Q)!=-1,A=0;
j.a_(w,n,q?"8B64":"8BIM");n+=4;var S=n;j.a_(w,n,Q);n+=4;j.UB(w,n,0);n+=q?8:4;switch(Q){case"iOpa":j.Gj(w,n,H[Q],1);
A=4;break;case"brst":A=0;for(var l=0;l<3;l++)if(H[Q][l]==0){j.Tu(w,n+A,l);A+=4}break;case"knko":j.Gj(w,n,H[Q],1);
A=4;break;case"infx":j.Gj(w,n,H[Q],1);A=4;break;case"clbl":j.Gj(w,n,H[Q],1);A=4;break;case"lmgm":j.Gj(w,n,H[Q],1);
A=4;break;case"vmgm":j.Gj(w,n,H[Q],1);A=4;break;case"fcmy":j.Gj(w,n,H[Q],1);A=4;break;case"lyid":j.Tu(w,n,H[Q]);
A=4;break;case"lsct":j.Tu(w,n,H[Q].type);A=4;if(H[Q].UM){j.a_(w,n+4,"8BIM");j.a_(w,n+8,H[Q].UM);A=12}break;
case"lyvr":j.Tu(w,n,H[Q]);A=4;break;case"lnsr":j.a_(w,n,H[Q]);A=4;break;case"lspf":j.Tu(w,n,H[Q]);A=4;
break;case"lclr":j.E2(w,n,H[Q]);A=8;break;case"luni":j.yU(w,n,H[Q]);A=4+2*H[Q].length;break;case"fxrp":j.eI(w,n,H[Q].x);
j.eI(w,n+8,H[Q].y);A=16;break;case"artb":case"artd":j.Tu(w,n,16);A=ba.Mc(w,H[Q],n+4)+4;break;case"SoCo":j.Tu(w,n,16);
A=ba.Mc(w,H[Q],n+4)+4;break;case"GdFl":j.Tu(w,n,16);A=ba.Mc(w,H[Q],n+4)+4;break;case"PtFl":j.Tu(w,n,16);
A=ba.Mc(w,H[Q],n+4)+4;break;case"CgEd":var V={classID:"null",Vrsn:{t:"long",v:1},Brgh:{t:"long",v:24},Cntr:{t:"long",v:54},means:{t:"long",v:127},Lab:{t:"bool",v:!1},useLegacy:{t:"bool",v:!1},Auto:{t:"bool",v:!0}},e=V,d=H[Q];
e.Brgh.v=d.Brgh.v;e.Cntr.v=d.Cntr.v;e.useLegacy.v=d.useLegacy.v;j.Tu(w,n,16);A=ba.Mc(w,V,n+4)+4;break;
case"brit":w.ED(n,8);A=8;break;case"levl":var N=new cJ;A=i7.Z8(N,H[Q]);j.PN(w,n,N.data);break;case"curv":A=aC.Gw(w,n,H[Q]);
break;case"expA":A=14;w.ED(n,14);j.pc(w.data,n,1);j.ga(w.data,n+2,H[Q].Exps?H[Q].Exps.v:0);j.ga(w.data,n+6,H[Q].Ofst?H[Q].Ofst.v:0);
j.ga(w.data,n+10,H[Q].gammaCorrection?H[Q].gammaCorrection.v:1);break;case"vibA":j.Tu(w,n,16);A=ba.Mc(w,H[Q],n+4)+4;
break;case"hue2":A=fm.Gw(w,n,H[Q]);break;case"blnc":A=19;w.ED(n,A);var b=["ShdL","MdtL","HghL"];for(var l=0;
l<3;l++){var z=H[Q][b[l]].v;for(var v=0;v<3;v++)z.push(j.ir(w.data,n+l*6+v*2,z[v].v))}w.data[n+18]=H[Q].PrsL.v?1:0;
break;case"blwh":var V={classID:"null",bwPresetKind:{t:"long",v:1},blackAndWhitePresetFileName:{t:"TEXT",v:""}},T="Bl Cyn Grn Mgnt Rd Yllw tintColor useTint".split(" ");
for(var l=0;l<T.length;l++){V[T[l]]=H[Q][T[l]]}j.Tu(w,n,16);A=ba.Mc(w,V,n+4)+4;break;case"phfl":j.E2(w,n,2);
var Y=H[Q].Clr.v;j.E2(w,n+2,7);j.E2(w,n+4,Math.round(Y.Lmnc.v*100));j.E2(w,n+6,Math.round(Y.A.v*100));
j.E2(w,n+8,Math.round(Y.B.v*100));j.E2(w,n+10,0);var g=n+2+10;w.ED(g,5);j.AU(w.data,g,H[Q].Dnst.v);g+=4;
w.data[g]=H[Q].PrsL.v?1:0;g++;A=g-n;break;case"mixr":A=44;w.ED(n,A);var R=fb.Xk(H[Q]);j.pc(w.data,n,1);
j.pc(w.data,n+2,R.qj?1:0);for(var l=0;l<20;l++)j.ir(w.data,n+4+l*2,R.Z[l]);break;case"clrL":case"rplc":j.E2(w,n,1);
j.Tu(w,n+2,16);A=ba.Mc(w,H[Q],n+6)+6;break;case"nvrt":A=0;break;case"post":j.E2(w,n,H[Q].Lvls.v);A=2;
break;case"thrs":j.E2(w,n,H[Q].Lvl.v);A=2;break;case"grdm":var h=H[Q].Rvrs?H[Q].Rvrs.v:!1,E=!1,G=867527939,k=!1,$=!1,p=2048,X=[0,0,0,0],C=[32768,32768,32768,32768],D=H[Q].Grad.v,o,t,u=D.Clrs==null?1:0;
if(u==0){o=D;t=JSON.parse(d5.n0.atZ).v}else{o=gT.B1("grdm").Grad.v;t=D}w.ED(n,4);j.pc(w.data,n,1);w.data[n+2]=h?1:0;
w.data[n+3]=E?1:0;var m=n+4;j.yU(w,m,D.Nm.v);m+=4+D.Nm.v.length*2;m=bR.af2(w,m,o);j.E2(w,m,u);m+=2;j.Tu(w,m,t.RndS.v);
m+=4;j.E2(w,m,t.ShTr.v?1:0);m+=2;j.E2(w,m,t.VctC.v?1:0);m+=2;j.Tu(w,m,t.Smth.v);m+=4;j.E2(w,m,3);m+=2;
for(var l=0;l<4;l++)j.E2(w,m+l*2,X[l]);m+=8;for(var l=0;l<4;l++)j.E2(w,m+l*2,C[l]);m+=8;m+=2;A=m-n;break;
case"selc":A=hu.Gw(w,n,H[Q]);break;case"FMsk":j.PN(w,n,H[Q]);A=H[Q].length;break;case"Txt2":var U=new cJ,I=hq.hc(H[Q].B9,U),x=O.R(I,!0);
for(var l=0;l<I;l++)x[l]=U.data[l];j.PN(w,n,x);A=x.length;break;case"vmsk":var J=H[Q],r=0;j.Tu(w,n,3);
if(!J.G9)r+=1<<1;if(!J.isEnabled)r+=1<<2;j.Tu(w,n+4,r);A=8;var Z=J.i.length;w.ED(n+8,Z*26);ca.mz(w.data,n+8,J.i,c.m,c.e);
A+=Z*26;break;case"shmd":j.Tu(w,n,Object.keys(H[Q]).length);var g=n+4;for(var f in H[Q]){j.a_(w,g,"8BIM");
g+=4;j.a_(w,g,f);g+=4;j.Tu(w,g,0);g+=4;j.Tu(w,g,0);g+=4;j.Tu(w,g,16);g+=4;var F=ba.Mc(w,H[Q][f],g);if(F%4!=0)F+=4-F%4;
j.Tu(w,g-8,F+4);g+=F}A=g-n;break;case"TySh":var g=n;j.dJ(w,g,1);g+=2;var _=H[Q],U=new cJ;_.EB.DocumentResources=JSON.parse(JSON.stringify(_.EB.ResourceDict));
var I=eM.hc(_.EB,U),x=O.R(I,!0);for(var l=0;l<I;l++)x[l]=U.data[l];_.BP.EngineData={t:"tdta",v:x};var K=_.EB.EngineDict.Editor.Text;
_.BP.Txt.v=K.substring(0,K.length-1);j.av7(w,g,_.D);g+=48;j.dJ(w,g,50);g+=2;j.Tu(w,g,16);g+=4;g+=ba.Mc(w,_.BP,g);
j.dJ(w,g,1);g+=2;j.Tu(w,g,16);g+=4;g+=ba.Mc(w,_.oa,g);j.afN(w,g,_.oo);g+=16;A=g-n;break;case"lmfx":j.Tu(w,n,0);
j.Tu(w,n+4,16);var V=JSON.parse(JSON.stringify(H[Q])),B=!1;aU.nB(V);for(var l=0;l<d5.tS.length;l++)if(V[d5.tS[l]]!=null)B=!0;
j.a_(w,S,B?"lmfx":"lfx2");A=ba.Mc(w,V,n+8)+8;break;case"Patt":var g=fM.Hu(w,n,H[Q]);A=g-n;break;case"SoLd":j.a_(w,n,"soLD");
j.Tu(w,n+4,4);j.Tu(w,n+8,16);A=ba.Mc(w,H[Q],n+12)+12;break;case"vstk":case"pths":j.Tu(w,n,16);A=ba.Mc(w,H[Q],n+4)+4;
break;case"vscg__":j.a_(w,n,H[Q].key);j.Tu(w,n+4,16);A=ba.Mc(w,H[Q].Z,n+8)+8;break;case"vogk":j.Tu(w,n,1);
j.Tu(w,n+4,16);O.X.acx(H[Q]);for(var l=0;l<H[Q].length;l++){var ij=H[Q][l].v.keyOriginResolution;if(ij)ij.v=c.uP}var W={classID:"null",keyDescriptorList:{t:"VlLs",v:H[Q]}};
A=ba.Mc(w,W,n+8)+8;break;case"lnkD":case"lnk2":case"lnk3":var m=n;for(var l=0;l<H[Q].length;l++){var L=H[Q][l],i=m;
j.zQ(w,m,0);m+=8;j.a_(w,m,L.type);m+=4;j.Tu(w,m,L.gt);m+=4;w.ED(m,1);w.data[m]=L.h4.length;m++;j.a_(w,m,L.h4);
m+=L.h4.length;j.yU(w,m,L.w5+"\0");m+=4+L.w5.length*2+2;j.a_(w,m,L.SU);m+=4;j.a_(w,m,L.z7);m+=4;j.zQ(w,m,L.raw.length);
m+=8;w.ED(m,1);w.data[m]=L.open;m++;j.PN(w,m,L.raw);m+=L.raw.length;j.Tu(w,m,1);m+=4;m+=11;var e3=m-i-8;
j.zQ(w,i,e3);if(e3%4!=0){w.ED(m,4-e3%4);m+=4-e3%4}}A=m-n;break;case"FEid":var m=n;j.Tu(w,m,3);m+=4;for(var eE=0;
eE<H[Q].length;eE++){var ec=H[Q][eE];m+=4;var gw=m;m+=4;j.MV(w,m,ec.id);m+=ec.id.length+1;j.Tu(w,m,1);
m+=4;var bl=O.R(ec.rect.O()),cD=ec.rect,a$=O.R(cD.O());m+=4;var hJ=m;m+=4;j.PV(w,m,cD);m+=16;j.Tu(w,m,8);
m+=4;j.Tu(w,m,24);m+=4;for(var l=0;l<24+2;l++){var ei=-1;if(l==0)ei=0;if(l==1)ei=1;if(l==2)ei=2;if(l==25)ei=3;
j.Tu(w,m,ei!=-1?1:0);m+=4;if(ei!=-1){O.RR(ec.buffer,bl,ei);O.qS(bl,ec.rect,a$,cD);m+=4;var df=m;m+=4;
w.ED(m,cD.O()+2);m=ic.sp(!0,a$,w.data,cD.m,cD.e,m,3);j.Tu(w,df,m-(df+4))}}j.Tu(w,hJ,m-(hJ+4));w.ED(m,1);
w.data[m]=ec.z?1:0;m++;if(ec.z!=null){var bM=cD,ib=O.R(bM.O());ib.fill(ec.z.color);O.qS(ec.z.channel,ec.z.rect,ib,bM);
j.PV(w,m,bM);m+=16;m+=4;var fI=m;m+=4;w.ED(m,bM.O()+2);m=ic.sp(!0,ib,w.data,bM.m,bM.e,m,3);j.Tu(w,fI,m-(fI+4))}var e3=m-(gw+4);
j.Tu(w,gw,e3);if(e3%4!=0)m+=4-e3%4}A=m-n;break;case"Anno":var eU=n,gK=H[Q].length;j.E2(w,eU,2);j.E2(w,eU+2,1);
eU+=4;j.Tu(w,eU,gK);eU+=4;for(var l=0;l<gK;l++){var bs=H[Q][l],km=bs[0],aJ=bs[1],ip=eU;eU+=4;j.a_(w,eU,"txtA");
eU+=4;w.ED(eU,2);w.data[eU]=1;w.data[eU+1]=28;eU+=2;j.E2(w,eU,1);eU+=2;j.PV(w,eU,new cr(km,aJ,17,21));
eU+=16;j.PV(w,eU,new cr(km+8,aJ+10,241,141));eU+=16;w.ED(eU,10);hQ.XQ(w.data,eU,bs[2]);eU+=10;eU+=j.MV(w,eU,bs[3]);
eU+=j.MV(w,eU,"");eU+=j.MV(w,eU,"D:20211012120233+01'00'");var fl=bs[4].length*2;j.Tu(w,eU,12+2+fl);
eU+=4;j.a_(w,eU,"txtC");eU+=4;j.Tu(w,eU,2+fl);eU+=4;w.ED(eU,2);w.data[eU]=254;w.data[eU+1]=255;eU+=2;
j.amO(w,eU,bs[4]);eU+=fl;j.Tu(w,ip,eU-ip)}A=eU-n;break;default:console.log("unknown layer tag: "+Q+", size: "+A);
n-=12;continue}var b3=["Txt2","artd","extd","pths"];if(b3.indexOf(Q)==-1)if(A%4!=0)A+=4-A%4;if(q)j.zQ(w,n-8,A);
else j.Tu(w,n-4,A);if(Q!="luni"&&Q!="TySh")if(A%4!=0)A+=4-A%4;n+=A}return n};aU.JX=function(w){for(var l=0;
l<d5.order.length;l++){var n=d5.order[l],H=d5.tS[l];if(w[H]==null)w[H]={t:"VlLs",v:[]};if(w[n]!=null){w[H].v.push(w[n]);
delete w[n]}var y=[];for(var c=0;c<w[H].v.length;c++){var Q=w[H].v[c];if(Q.v.present==null||Q.v.present.v==!0)y.push(Q)}w[H].v=y}};
aU.nB=function(w){for(var l=0;l<d5.order.length;l++){var n=d5.order[l],H=d5.tS[l],y=w[H].v.length;if(y==0){delete w[H];
continue}if(y==1){w[n]=w[H].v[0];delete w[H];continue}}};aU.Si=function(w,n){if(n=="GdFl"){if(w.Angl==null)w.Angl={v:{type:"#Ang",val:0},t:"UntF"};
if(w.Algn==null)w.Algn={v:!0,t:"bool"};if(w.Scl==null)w.Scl={v:{type:"#Prc",val:100},t:"UntF"};if(w.Ofst==null)w.Ofst={v:{classID:"Pnt",Hrzn:{v:{type:"#Prc",val:0},t:"UntF"},Vrtc:{v:{type:"#Prc",val:0},t:"UntF"}},t:"Objc"};
if(w.Rvrs==null)w.Rvrs={v:!1,t:"bool"};if(w.Dthr==null)w.Dthr={v:!1,t:"bool"}}if(n=="PtFl"){if(w.Algn==null)w.Algn={v:!0,t:"bool"};
if(w.Angl==null)w.Angl={v:{type:"#Ang",val:0},t:"UntF"};if(w.Scl==null)w.Scl={v:{type:"#Prc",val:100},t:"UntF"};
if(w.phase==null)w.phase={v:{classID:"Pnt",Hrzn:{v:0,t:"doub"},Vrtc:{v:0,t:"doub"}},t:"Objc"}}};aU.clone=function(w,n){var H={};
if(w=="TySh"){H.D=n.D.clone();H.BP=JSON.parse(JSON.stringify(n.BP));H.oa=JSON.parse(JSON.stringify(n.oa));
H.oo=n.oo.clone();H.EB=JSON.parse(JSON.stringify(n.EB));if(n.add)H.add={vmsk:n.add.vmsk.clone(),vogk:JSON.parse(JSON.stringify(n.add.vogk))};
return H}else if(w=="fxrp")return n.clone();else if(w=="vmsk")return n.clone();else return JSON.parse(JSON.stringify(n))};
function gO(w,n){}gO.V2=function(w,n,H,y){y=gO.axW(w,n,H,y);return y};gO.hc=function(w,n,H,y,c){y=gO.agO(w,n,H,y,c);
return y};gO.axW=function(w,n,H,y){var c=y;w.rect=j.S9(H,y);y+=16;var Q=j.kH(H,y);y+=2;w.at=[];var q=n.Vq;
for(var l=0;l<Q;l++){w.at[l]={id:j.Mz(H,y),length:(q?j.Qd:j.s)(H,y+2)};y+=q?10:6}var S=j.QN(H,y,4);y+=4;
if(S!="8BIM"){console.log("Invalid Blend mode signature: "+S);alert("Error in Photoshop file: wrong signature.");
throw"e"}w.UM=j.QN(H,y,4);y+=4;w.opacity=H[y];y+=1;w.Ak=H[y]==1;y+=1;w.Vg=H[y];y+=1;if(H[y]!=0)console.log("error in filler!");
y+=1;var A=j.s(H,y);y+=4;var V=y;y=gO.ayM(w,H,y);y=gO.atq(w,H,y);var e=j.jt(H,y);w.name=e.z9;y+=e.length;
if(e.length%4!=0)y+=4-e.length%4;y=aU.l3(H,y,V+A,w.add,q,n);if(w.add.lsct){if(w.add.lsct.UM)w.UM=w.add.lsct.UM;
w.add.lsct=w.add.lsct.type}return y};gO.agO=function(w,n,H,y,c){var Q=y;j.PV(H,y,w.rect);y+=16;var q=w.aoE();
j.E2(H,y,q.length);y+=2;var S=n.Vq;c.push(y);for(var l=0;l<q.length;l++){j.dJ(H,y,q[l]);if(S)j.zQ(H,y+2,0);
else j.Tu(H,y+2,0);y+=S?10:6}j.a_(H,y,"8BIM");y+=4;j.a_(H,y,w.UM);y+=4;j.Gj(H,y,w.opacity,1);y+=1;j.Gj(H,y,w.Ak?1:0,1);
y+=1;j.Gj(H,y,w.Vg,1);y+=1;j.Gj(H,y,0,1);y+=1;var A=y;j.Tu(H,y,0);y+=4;var V=y;y=gO.apg(w,H,y);y=gO.aub(w,H,y);
var e=j.MV(H,y,w.name.slice(0,255));y+=e;if(e%4!=0)y+=4-e%4;if(w.add.lsct){w.add.lsct={type:w.add.lsct};
if(w.UM=="pass"){w.add.lsct.UM="pass";w.UM="norm"}}if(w.UM=="pass")w.add.lsct={type:w.add.lsct,UM:"pass"};
if(w.add.brit)w.add.CgEd=w.add.brit;y=aU.jw(H,y,w.add,S,n);delete w.add.CgEd;if(w.add.lsct){if(w.add.lsct.UM)w.UM=w.add.lsct.UM;
w.add.lsct=w.add.lsct.type}var d=y-V;j.Tu(H,A,d);return y};gO.ayM=function(w,n,H){var y=j.s(n,H);H+=4;
if(y==0)return H;var c=H;w.z=new a.ZV;w.z.rect=j.S9(n,H);H+=16;w.z.color=n[H];H+=1;var Q=gO.yO(w.z,n,H);
H+=1;if(Q){var q=!1,S=255,A=0,V=255,e=0;for(var l=0;l<w.at.length;l++)if(w.at[l].id==-3)q=!0;if(q){w.lZ=gO.he(n,H);
H+=18}var d=H,N=n[H];H++;if(N>>0&1){S=n[H];H++}if(N>>1&1){A=j.PC(n,H);H+=8}if(N>>2&1){V=n[H];H++}if(N>>3&1){e=j.PC(n,H);
H+=8}if((H-d&1)==1)H++;w.y1=[S,A,V,e]}else{if(y==20)H+=2;else{w.lZ=gO.he(n,H);H+=18}}return c+y};gO.apg=function(w,n,H){j.Tu(n,H,0);
H+=4;if(w.z==null)return H;var y=w.LZ(),c=w.add.vmsk,Q=H,q=!0;j.Tu(n,H,0);j.PV(n,H,w.z.rect);H+=16;j.Gj(n,H,w.z.color);
H+=1;gO.vX(w.z,n,H,q);H+=1;if(q){if(w.lZ){gO.a2D(n,H,w.lZ);H+=18}j.Gj(n,H,15);H+=1;j.Gj(n,H,y?y.qC:255);
H+=1;j.eI(n,H,y?y.Hk:0);H+=8;j.Gj(n,H,c?c.qC:255);H+=1;j.eI(n,H,c?c.Hk:0);H+=8;H++}j.Tu(n,Q-4,H-Q);return H};
gO.he=function(w,n){var H=new a.ZV;gO.yO(H,w,n);n+=1;H.color=w[n];n+=1;H.rect=j.S9(w,n);n+=16;return H};
gO.a2D=function(w,n,H){gO.vX(H,w,n,!1);n+=1;j.Gj(w,n,H.color);n+=1;j.PV(w,n,H.rect);n+=16};gO.yO=function(w,n,H){var y=n[H];
w.G9=(y>>0&1)==0;w.isEnabled=(y>>1&1)==0;w.b2=(y>>3&1)==1;return y>>4&1};gO.vX=function(w,n,H,y){var c=0;
if(!w.G9)c+=1<<0;if(!w.isEnabled)c+=1<<1;if(w.b2)c+=1<<3;if(y)c+=1<<4;j.Gj(n,H,c)};gO.atq=function(w,n,H){var y=j.s(n,H);
H+=4;for(var l=0;l<y;l++)w.wh[l]=n[H+l];return H+y};gO.aub=function(w,n,H){j.Tu(n,H,w.wh.length);H+=4;
n.ED(H,40);for(var l=0;l<40;l++){n.data[H+l]=w.wh[l]}return H+40};function ic(){}ic.V2=function(w,n,H,y){y=ic.ae9(n,n.Vq,n.gw,n.XO,w,H,y);
return y};ic.Z8=function(w,n,H,y,c,Q){y=ic.a6R(w,n,H,y,c,Q);return y};ic.ae9=function(w,n,H,y,c,Q,q){var S=c.at,A={},V=q;
for(var l=0;l<S.length;l++){var e=S[l],d=e.id,N=e.length,b;if(d==-3)b=c.lZ.rect;else if(d==-2)b=c.z.rect;
else b=c.rect;var z=ic.w0(n,H,Q,b.m,b.e,q,N);q+=N;if(d==-3)c.lZ.channel=z;else if(d==-2)c.z.channel=z;
else A["c"+d]=z}var v=new O.$Z(0);v.iL=null;if(y==3){v.b=A.c0;v.J=A.c1;v.k=A.c2;v.iL=A["c-1"]}else if(y==1){v.b=A.c0;
v.J=A.c0;v.k=A.c0;v.iL=A["c-1"]}else if(y==4){var T=w.xu.r1039,Y=A.c0,g=A.c1,R=A.c2,h=A.c3;if(T){var E=T.a1c,G=17;
if(E==null){var k=ICC.R(T.buffer);console.log(k);E=T.a1c=ICC.U.sampleLUT(k,G)}var $={b:Y,J:g,k:R,iL:h},p=O.R(Y.length*4);
O.HR($,p);O.G$(p);ICC.U.applyLUT4(E,G,p,p);O.cw(p,$)}else{for(var l=0;l<Y.length;l++){var X=1-Y[l]*(1/255),C=1-g[l]*(1/255),D=1-R[l]*(1/255),o=1-h[l]*(1/255),t=UDOC.C.cmykToRgb([X,C,D,o]);
Y[l]=t[0]*255;g[l]=t[1]*255;R[l]=t[2]*255}}v.b=Y;v.J=g;v.k=R;v.iL=A["c-1"]}if(v.b==null)v.b=O.R(0);if(v.iL==null&&v.b!=null){v.iL=v.b.slice(0);
v.iL.fill(255)}if(v.J==null)v.J=v.b.slice(0);if(v.k==null)v.k=v.b.slice(0);c.buffer=O.R(Math.max(0,c.rect.O()*4));
O.HR(v,c.buffer);return q};ic.a6R=function(w,n,H,y,c,Q){var q=n.aoE(),S=new O.$Z(n.rect.O());O.cw(n.buffer,S);
for(var l=0;l<q.length;l++){var A=q[l],V,e;if(A==-3)V=n.lZ.rect;else if(A==-2)V=n.z.rect;else V=n.rect;
if(A==-3)e=n.lZ.channel;if(A==-2)e=n.z.channel;if(A==-1)e=S.iL;if(A==0)e=S.b;if(A==1)e=S.J;if(A==2)e=S.k;
H.ED(y,V.O()*3+4);var d=y;y=ic.sp(w,e,H.data,V.m,V.e,y,Q[1]?3:1);var N=y-d;if(w)j.acu(H.data,c+l*10+2,N);
else j.AU(H.data,c+l*6+2,N)}return y};ic.w0=function(w,n,H,y,c,Q,q){var S=j.kH(H,Q);Q+=2;return ic.Zl(w,n,H,y,c,Q,S,q-2)};
ic.sp=function(w,n,H,y,c,Q,q){j.ir(H,Q,q);Q+=2;Q=ic.EM(w,n,H,y,c,Q,q);return Q};ic.Zl=function(w,n,H,y,c,Q,q,S){var A,V=y*c*(n>>>3),e=V&3,d=V+(e==0?0:4-e);
if(S<=0){return O.R(d)}if(q>3){console.log("unknown compression: "+q,y,c,y*c,S);q=0}if(q==0){if(Q+d<=H.length)A=H.slice(Q,Q+d);
else{A=O.R(V);for(var l=0;l<V;l++)A[l]=H[Q+l]}Q+=V}else if(q==1){A=O.R(V);var N=w?4:2,b=ic.Wc(H,A,y,c,Q,Q+N*c,N);
Q+=N*c+b}else if(q==2||q==3){var z=new Uint8Array(H.buffer,Q+2,S-6),v=O.R(d);UZIP.inflateRaw(z,v);if(q==3){if(n==8)for(var T=0;
T<c;T++){var Y=T*y+1,g=Y+y-1,R=v[Y-1];for(var E=Y;E<g;E++){R+=v[E];v[E]=R&255}}else for(var T=0;T<c;
T++){var Y=T*y+1,g=Y+y-1,R=v[2*Y-2]<<8|v[2*Y-1];for(var E=Y;E<g;E++){var G=E<<1;R+=v[G]<<8|v[G+1];v[G]=R>>>8;
v[G+1]=R&255}}}if(v.length==d)A=v;else{A=O.R(d);for(var l=0;l<v.length;l++)A[l]=v[l]}}if(n==16){var k=O.R(y*c);
for(var l=0;l<V;l+=2)k[l>>>1]=A[l];A=k}return A};ic.EM=function(w,n,H,y,c,Q,q){var S=y*c;if(q==0)for(var l=0;
l<S;l++)H[Q++]=n[l];else if(q==1){var A=w?4:2,V=ic.rx(n,H,y,c,Q,Q+A*c,A);Q+=A*c+V}else if(q==2||q==3){if(q==3){var e=new Uint8Array(n.length);
for(var d=0;d<c;d++){var N=d*y+1,b=N+y-1,z=n[N-1];e[N-1]=z;for(var v=N;v<b;v++){e[v]=n[v]+(256-z)&255;
z=n[v]}}n=e}H[Q]=120;H[Q+1]=156;Q+=2;var T=pako.deflateRaw(n,{a9a:4});j.acT(H,Q,T);Q+=T.length+4}else console.log("Unknown compression: "+q);
return Q};ic.Wc=function(w,n,H,y,c,Q,q){if(!(w instanceof Uint8Array)||!(n instanceof Uint8Array))throw"e";
var S=Q,A=y|0;if(q==2)for(var l=0;l<A;l++){var V=j.kH(w,c+(l<<1));ic.q9(w,Q,V,n,l*H,H);Q+=V}else for(var l=0;
l<A;l++){var V=j.s(w,c+(l<<2));ic.q9(w,Q,V,n,l*H,H);Q+=V}return Q-S};ic.rx=function(w,n,H,y,c,Q,q){var S=Q;
if(q==2)for(var l=0;l<y;l++){var A=ic.dM(w,l*H,H,n,Q);j.pc(n,c+l*2,A);Q+=A}else for(var l=0;l<y;l++){var A=ic.dM(w,l*H,H,n,Q);
j.AU(n,c+l*4,A);Q+=A}return Q-S};ic.dM=function(w,n,ds,H,y){var c,Q,q,S,A,dO,V;S=n+ds;for(q=n,Q=y;ds>0;
q=c,ds-=dO){V=ds<128?ds:128;if(q<=S-3&&w[q+1]==w[q+0]&&w[q+2]==w[q+0]){for(c=q+3;c<q+V&&w[c]==w[q+0];
)++c;dO=c-q;H[Q++]=1+256-dO;H[Q++]=w[q+0]}else{for(c=q;c<q+V;)if(c<=S-3&&w[c+1]==w[c+0]&&w[c+2]==w[c+0])break;
else++c;dO=c-q;H[Q++]=dO-1;for(var l=0;l<dO;l++)H[Q+l]=w[q+l];Q+=dO}}return Q-y};ic.q9=function(w,n,H,y,c,Q){for(var q=0;
q<H;){var ds=w[n++];if(ds>=128){var S=w[n++],A=c+(257-ds);y.fill(S,c,A);c=A;q+=2}else{for(var l=0;l<=ds;
l++)y[c+l]=w[n+l];n+=ds+1;c+=ds+1;q+=1+1+ds}}};function hb(){}hb.OX=function(w,n,H){return;var y="",c=n;
while(c!=0){var Q=c%1e3+"";while(Q.length<3)Q="0"+Q;y=(y==""?Q:Q+" ")+y;c=Math.floor(c/1e3)}while(y.startsWith("0")&&y!="0")y=y.slice(1);
while(y.length<11)y=" "+y;console.log("===",y,"\t".repeat(w),": "+H)};hb.a6y=function(w){var n={xu:{}},y=0,c=0,S;
n.Vq=!1;n.gw=8;var H=new Uint8Array(w);c=hb.cs(n,H,y);y=c;c=hb.tn(n,H,y);y=c;var Q=j.s(H,y);y+=4+Q;var q=n.Vq?8:4;
if(n.Vq)S=j.Qd(H,y);else S=j.s(H,y);y+=q+S;c=hb.TT(n,H,y);return[{Zg:new cr(0,0,n.m,n.e),data:n.buffer.buffer}]};
hb.V2=function(w,n){n.Vq=!1;n.gw=8;var H=new Uint8Array(w),y=0,c=0,r,bl=!1,cD=!0,a$=!1,hJ=0,cF=0;c=hb.cs(n,H,y);
hb.OX(0,c-y,"PSD Header");y=c;c=hb.tn(n,H,y);hb.OX(0,c-y,"Color Mode Data");y=c;c=hb.aaO(n,H,y);hb.OX(0,c-y,"Image Resources");
y=c;c=hb.au4(n,H,y);hb.OX(0,c-y,"Layer And Mask Info");y=c;c=hb.TT(n,H,y);hb.OX(0,c-y,"Merged Image");
y=c;if(n.B.length==0){var Q=n.mX();Q.nY("Background");n.B.push(Q);Q.buffer=n.buffer.slice(0);Q.rect=new cr(0,0,n.m,n.e)}if(n.xu.r1005){n.uP=j.acA(n.xu.r1005,0)}if(n.xu.r1026){var H=n.xu.r1026;
for(var l=0;l<H.length;l+=2){var c=n.B[l>>>1];if(c)c.ds=j.kH(H,l)}}if(n.xu.r1072){var H=n.xu.r1072;for(var l=0;
l<H.length;l++){var c=n.B[l];if(c)c.aD=H[l]==1}}if(n.xu.r1032){n.V_=hb.F0(n.xu.r1032,0)}delete n.xu.r1036;
n.si(n.xu.r1039);if(n.xu.r1050){var q=j.s,S=n.xu.r1050,A=j.s(S,0);if(A==6){var V=4,e=j.S9(S,V);V+=16;
var d=j.kw(S,V);V+=4+d.length*2;var N=q(S,V);V+=4;var b=n.B0;for(var l=0;l<N;l++){var z=P.pI.Vx(),T;
b.push(z);z=z.v;z.sliceID.v=q(S,V);V+=4;z.groupID.v=q(S,V);V+=4;var v=q(S,V);V+=4;if(v==1){T=q(S,V);
V+=4}var d=j.kw(S,V);V+=4+d.length*2;var Y=q(S,V);V+=4;var g=[q(S,V),q(S,V+4),q(S,V+8),q(S,V+12)];V+=16;
P.pI.GU(b,b.length-1,g);var R=z.url.v=j.kw(S,V);V+=4+R.length*2;var h=z.null.v=j.kw(S,V);V+=4+h.length*2;
var E=z.Msge.v=j.kw(S,V);V+=4+E.length*2;var G=z.altTag.v=j.kw(S,V);V+=4+G.length*2;z.cellTextIsHTML.v=S[V]==1;
V++;var k=z.cellText.v=j.kw(S,V);V+=4+k.length*2;var $=q(S,V);V+=4;var p=q(S,V);V+=4;var X=S.slice(V,V+4);
V+=4;if(v!=2)b.pop()}}else if(A==8){var C={};ba._b(S,C,8,!1);var S=n.B0=C.slices.v;for(var l=0;l<S.length;
l++){if(S[l].v.origin.v.ESliceOrigin!="userGenerated"){S.splice(l,1);l--}}}}if(n.xu.r1058){var D=n.xu.r1058,o=UTIF.decode(D.buffer,{parseMN:!1,debug:!1});
ka.XA(o[0],n.zN);delete n.xu.r1058}if(n.xu.r1060){var t=j.NR(n.xu.r1060);ka.ae8(t,n.zN);delete n.xu.r1060}if(n.xu.r1065){var H=n.xu.r1065;
n.PU={};ba._b(H,n.PU,4,!1)}if(n.xu.r1069){var H=n.xu.r1069,u=[];for(var l=2;l<H.length;l+=4){var T=j.s(H,l);
for(var m=0;m<n.B.length;m++){var c=n.B[m];if(c.add.lyid==T&&c.add.lsct!=3)u.push(m)}}n.g=u}if(n.xu.r1025){var U=n.xu.r1025;
delete n.xu.r1025;var I=ca.XE(U,0,U.length,n.m,n.e),x=new a.TB;x.i=I;n.Wh[0]=iC.nN("Working Path",{vmsk:x})}var J=n.add.pths;
delete n.add.pths;var Z=n.xu.r3000;if(Z){r={};ba._b(Z,r,4,!1);delete n.xu.r3000}if(J){var f=J.pathSymmetrySelectedPath;
if(f){var F=J.pathList.v[f.v].v,_=F.pathUnicodeName.v;n.VQ=_.startsWith("Tile Symmetry")}}for(var K=0;
K<=997;K++){var B="r"+(2e3+K),U=n.xu[B];if(U==null)break;var I=ca.XE(U,0,U.length,n.m,n.e),_="Path "+K;
if(J){var ij=J.pathList.v[K].v;_=ij.pathUnicodeName.v;if(_=="Tile Symmetry 1")continue}var W=r?r.keyRootDescriptorList.v[K].v.keyDescriptorList.v:a.cv(I),x=new a.TB;
x.i=I;n.Wh.push(iC.nN(_,{vmsk:x,vogk:W}));delete n.xu[B]}delete n.Vq;if(n.xu.r4000){n.yM=O.yM.V2(n.xu.r4000)}var L=n.xu.r7000,i=n.xu.r7001;
if(L){var e3=j.NR(L);n.Uw=hb.MS(e3)}if(i){var e3=j.NR(i);n.az=hb.lz(e3)}delete n.xu.r7000;delete n.xu.r7001;
var eE=new cr(0,0,n.m,n.e),ec=n.add.Txt2,gw=ec;if(gw){gw=gw.B9;if(gw._DocumentResources==null)gw=iL.aa$(gw)}var ei=-1;
for(var l=0;l<n.B.length;l++){var c=n.B[l],df=c.add.lsct,bM=c.add.vmsk,ib=c.LZ();if(df==c0.ho){hJ++;
c.add.lspf=0}else if(df==c0.q8||df==c0.$g)hJ--;if(c.name==""){c.name="Layer "+(l+1);a$=!0}if(a$&&c.Ok()&&c.UM=="norm")c.UM="pass";
if(c.RL()&&c.iS(n).z){var fI=c.iS(n);fI.z.isEnabled=c.add.SoLd.filterFX.v.filterMaskEnable.v}if(bM&&c.hu()){var eU=d5.Ed.default;
if(c.add.vstk==null)c.add.vstk=JSON.parse(JSON.stringify(eU));else{var gK="strokeStyleLineDashSet";if(c.add.vstk[gK]==null)c.add.vstk[gK]=JSON.parse(JSON.stringify(eU[gK]))}c.add.vstk.strokeStyleResolution.v=n.uP}if(bM&&(c.add.vogk==null||O.r.xD(bM.i)!=c.add.vogk.length))c.cv();
if(!1){var bs=c.add.vogk,km=!0;for(var aJ=0;aJ<bs.length;aJ++){var ip=bs[aJ].v.keyShapeInvalidated;if(ip==null||ip.v==!1)km=!1}if(km)c.cv()}if(c.add.SoLd&&c.rect._G()){console.log("redrawing smart instance");
c.W0(n)}if(ib==null&&c.z!=null){if(c.z.b2==!1){c.z.b2=!0;c.lZ=c.z.clone()}}ib=c.LZ();if(c.y1){var eU=c.y1,x=bM;
if(ib){ib.qC=eU[0];ib.Hk=eU[1]}if(x){x.qC=eU[2];x.Hk=eU[3]}c.y1=null}if(ib!=null&&bM!=null&&(ib.Hk+bM.Hk!=0||ib.qC+bM.qC!=2*255))c.qL(n);
else if(bM!=null&&!c.hu())c.qL();else if(ib&&ib.qC!=255&&c.hu())c.qL(n);var fl=c.add.artb;if(fl&&fl.artboardBackgroundType==null)fl.artboardBackgroundType={t:"long",v:1};
if(fl&&hJ!=0)delete c.add.artb;var b3=c.add.vstk;if(c.hu()&&(c.rect._G()||bM&&bM.Hk!=0||b3&&!b3.fillEnabled.v&&(!b3.strokeEnabled.v||b3.strokeStyleLineWidth.v.val==0)))c.EA(n);
if(c.add.TySh){bl=!0;if(!c.rect._G())cD=!1}if(c.add.TySh&&gw){ei++;var dY=c.add.TySh.EB,k4=j1.fL(dY),aK=gw._DocumentObjects._TextObjects;
if(aK.length<=ei){console.log("Txt2 incomplete");continue}var jK=aK[ei]._Model,ay=jK._StyleRun?jK._StyleRun._RunArray:[],f8=dY.EngineDict.StyleRun.RunArray;
for(var gN=0;gN<f8.length;gN++){var d4=f8[gN].StyleSheet.StyleSheetData;if(ay[gN]==null)continue;var bK=ay[gN]._RunData._StyleSheet._Features;
if(bK&&bK._BaselineDirection)d4.BaselineDirection=parseInt(bK._BaselineDirection.slice(1));if(bK&&bK._FillBackgroundFlag)d4._FillBackgroundFlag=bK._FillBackgroundFlag;
if(bK&&bK._FillBackgroundColor){var hf=bK._FillBackgroundColor,bC=hf._Color._Values.slice(0);for(var m=0;
m<4;m++)bC[m]=parseFloat(bC[m].slice(1));d4._FillBackgroundColor={Type:1,Values:bC}}if(bK&&bK._LineWidth)d4._LineWidth=parseFloat(bK._LineWidth.slice(1))}var gW=dY.EngineDict.ParagraphRun.RunArray,dn=jK._ParagraphRun._RunArray;
if(dn==null)dn=[];var fq=Math.min(dn.length,gW.length);for(var m=0;m<fq;m++){var jN=gW[m].ParagraphSheet.Properties,cU=gw._DocumentResources._ParagraphSheetSet._Resources,jb=dn[m]._RunData._ParagraphSheet;
if(typeof jb=="string")jb=cU[parseInt(jb.slice(1))]._Resource;var ac=jb._Parent==null?jb:cU[parseInt(jb._Parent.slice(1))]._Resource;
jb=jb._Features;ac=ac._Features;var a_=jb._ParagraphDirection;if(a_==null)a_=ac._ParagraphDirection;
if(a_)jN._Direction=parseInt(a_.slice(1));if(jb._ComposerEngine)jN._ComposerEngine=parseInt(jb._ComposerEngine.slice(1))}if(jK._AlternateGlyphRun){var dn=jK._AlternateGlyphRun._RunArray,fq=dn.length,h5=dY.EngineDict.AlternateGlyphRun=j1.aaK();
for(var m=0;m<fq;m++){var jb=dn[m],jz={},jj=jb._RunData._AlternateGlyphSheet;if(jj)jz.Glyph=parseInt(jj._Glyph.slice(1));
h5.RunArray.push(jz);h5.RunLengthArray.push(parseInt(jb._Length.slice(1)))}}var jy=gw._DocumentResources,g0=jy._TextFrameSet._Resources,bt=g0[ei]._Resource,kl=bt._Data,iO=new b7(1,0,0,1,0,0);
if(bt._0){var dN=parseFloat(bt._0[0].slice(1)),aG=parseFloat(bt._0[1].slice(1));iO.translate(dN,aG)}if(k4){iO.translate(k4[0],k4[1]);
j1.wr(dY,[0,0,k4[2]-k4[0],k4[3]-k4[1]])}else{if(bt._Bezier&&bt._Bezier._Points){var I=bt._Bezier._Points,dN=parseFloat(I[0].slice(1)),aG=parseFloat(I[1].slice(1));
if(dN!=0||aG!=0){iO.translate(dN,aG)}}}if(bt._Data&&bt._Data._FrameMatrix){var iA=bt._Data._FrameMatrix;
iA=iA.map(function(iy){return parseFloat(iy.slice(1))});iO.concat(new b7(iA[0],iA[1],iA[2],iA[3],iA[4],iA[5]))}iO.concat(c.add.TySh.D);
c.add.TySh.D=iO;var Y=kl._Type?parseInt(kl._Type.slice(1)):0;if(Y==2||Y==1&&kl._PathData&&kl._PathData._Spacing=="i-3")if(bt._Bezier){var a0=function(iy){return parseFloat(iy.slice(1))},I=bt._Bezier._Points.map(a0);
if(k4)O.p.D(I,new b7(1,0,0,1,-k4[0],-k4[1]),I);var cd=kl._PathData?kl._PathData._Reversed:!1,co=kl._TextOnPathTRange;
if(co==null)co=["f-3","f-3"];dY.Curve={Points:I,TextOnPathTRange:co.map(a0),Reversed:cd==null?!1:cd};
c.add.TySh.add={vmsk:new a.TB,vogk:null};j1.un(c.add.TySh)}if(kl._LineOrientation=="i2")dY._LineOrientation=2}}P.nd.dv(n,!0);
var c7={},b1=[];for(var l=0;l<n.B.length;l++){var a5=n.B[l].add.lyid;if(a5==null)continue;var cF=Math.max(cF,a5);
if(c7[a5]!=null)b1.push(l);else c7[a5]=!0}for(var l=0;l<b1.length;l++)n.B[b1[l]].add.lyid=cF+1+l};hb.F0=function(w,n){var H=j.s(w,n+12),y=[];
for(var l=0;l<H;l++){var c=w[n+16+l*5+4],Q=j.sI(w,n+16+l*5)/32;y.push([c,Q])}return y};hb.MS=function(w){var n=new DOMParser,H=n.parseFromString(w,"text/xml").firstChild.children[0],y=H.getElementsByTagName("variables");
if(y.length==0)return[];y=y[0].children;var c=[],Q="varName trait docRef placementMethod align valign clip".split(" ");
for(var q=0;q<y.length;q++){var S=y[q],A={};c.push(A);for(var V=0;V<Q.length;V++){var e=Q[V],d=S.getAttribute(e);
if(d==null)continue;A[e]=d}}return c};hb.lz=function(w){var n=new DOMParser,H=n.parseFromString(w,"text/xml").firstChild.children,y=[[]];
if(H==null)return y;for(var l=0;l<H.length;l++){var c=H[l],Q=[];y.push(Q);for(var q=0;q<c.children.length;
q++){var S=c.children[q];if(l==0)y[0].push(S.tagName);Q.push(S.textContent)}}return y};hb.hc=function(w,n,H){P.nd.ar(w);
P.nd.dv(w,!1);w.Vq=H[3]==!0;var y=[],c=[],z=0,T=1,G=16,a$=0;for(var l=0;l<w.B.length;l++){var Q=w.B[l];
if(Q.RL()&&Q.iS(w).z){Q.add.SoLd.filterFX.v.filterMaskEnable.v=Q.iS(w).z.isEnabled}if(Q.add.TySh){var q=Q.add.TySh.EB,S=j1.O_(q);
Q.add.TySh.BP.TextIndex={t:"long",v:y.length};y.push(q);if(S==2)j1.h2(Q.add.TySh)}var A=Q.add.vstk;if(A)A.strokeStyleResolution.v=w.uP;
if(Q.hu()||H[2]&&Q.add.SoLd){c[l]=[Q.rect,Q.buffer];Q.rect=new cr;Q.buffer=O.R(0);if(Q.add.SoLd){var V=Q.iS(w);
if(V!=null){c[l].push(V.buffer);V.buffer=O.R(V.buffer.length)}}}}if(y.length>0){var e=w.add.Txt2?w.add.Txt2.B9:null;
if(w.add.Txt2==null)w.add.Txt2={};w.add.Txt2.B9=fe.a2m(y,null,e)}var d=[w.add.lnk2,w.add.FEid,w.add.Patt],N=w.ami(w.B);
w.awM(N);w.xu.r1005=new Uint8Array([0,0,0,0,0,1,0,2,0,0,0,0,0,1,0,2]);j.axh(w.xu.r1005,0,w.uP);j.axh(w.xu.r1005,8,w.uP);
if(w.LM()){w.xu.r1022=new Uint8Array([0,3+w.d4.length-1,0])}else delete w.xu.r1022;var b=new Uint8Array(w.B.length*2),v=new Uint8Array(w.B.length);
for(var l=0;l<w.B.length;l++){var Q=w.B[l],Y=Q.ds,g=Q.aD?1:0;j.pc(b,l*2,Y);v[l]=g;if(Y>z)z=Y;if(g==0)T=0}if(z>0)w.xu.r1026=b;
if(T<1)w.xu.r1072=v;var R=w.V_,h=R.length,E=w.xu.r1032=O.R(16+5*h,!0);j.AU(E,0,1);j.AU(E,4,576);j.AU(E,8,576);
j.AU(E,12,h);for(var l=0;l<h;l++){j.by(E,G,Math.round(R[l][1]*32));E[G+4]=R[l][0];G+=5}if(H[0]!=!0){var k=[w.buffer,new cr(0,0,w.m,w.e)],$=0;
O.Qt(k);while(k[$+1].O()>200*200)$+=2;var p=cb.Mn("jpg"),X=k[$+1],C=new Uint8Array(p.vd([[k[$].buffer]],X.m,X.e)),E=w.xu.r1036=O.R(28+C.length);
j.AU(E,0,1);j.AU(E,4,X.m);j.AU(E,8,X.e);j.AU(E,12,X.m*3);j.AU(E,16,X.O()*3);j.AU(E,20,C.length);j.pc(E,24,24);
j.pc(E,26,1);E.set(C,28)}var D=O.AO(w.buffer),o=[];if(D)o.push({name:"Transparency",qA:{b:255,J:0,k:0},nn:100,Ph:1});
o=o.concat(w.d4);delete w.xu.r1045;delete w.xu.r1006;delete w.xu.r1077;var t=new cJ;G=0;var u=new Uint8Array(4+o.length*13);
u[3]=1;for(var l=0;l<o.length;l++){var m=o[l],U=m.name+"\0";j.yU(t,G,U);G+=4+U.length*2;var I=4+l*13;
hQ.XQ(u,I,m.qA);u[I+11]=m.nn;u[I+12]=m.Ph}w.xu.r1045=t.data.slice(0,G);w.xu.r1077=u;for(var l=0;l<w.B0.length;
l++)w.B0[w.B0.length-l-1].v.sliceID.v=2+l*3;var x={classID:"null",baseName:{t:"TEXT",v:"User"},bounds:{t:"Objc",v:{classID:"Rct1",Top:{t:"long",v:0},Left:{t:"long",v:0},Btom:{t:"long",v:0},Rght:{t:"long",v:0}}},slices:{t:"VlLs",v:w.B0}},t=new cJ;
j.Tu(t,0,8);j.Tu(t,4,16);var J=ba.Mc(t,x,8);w.xu.r1050=t.data.slice(0,J+8);var t=new cJ;j.Tu(t,0,16);
var J=ba.Mc(t,w.PU,4);w.xu.r1065=t.data.slice(0,J+4);var r=w.g;E=w.xu.r1069=O.R(2+r.length*4,!0);j.pc(E,0,r.length);
for(var l=0;l<r.length;l++)j.AU(E,2+4*l,w.B[r[l]].add.lyid);delete w.xu.r1058;delete w.xu.r1060;if(Object.keys(w.zN).length!=0){var Z=[{t274:[1],t282:[[72,1]],t283:[[72,1]],t296:[2]},{t259:[6],t282:[[72,1]],t283:[[72,1]],t296:[2],t513:[302],t514:[0]}];
ka.Po(w.zN,Z[0],H[0]&&H[1]);w.xu.r1058=new Uint8Array(UTIF.encode(Z));var f=ka.apB(w.zN);w.xu.r1060=j.bv(f)}var F=[],_=[],K=w.Wh.slice(0);
if(w.VQ){var B=ca.TK([{type:6},{type:8,all:0},{type:3,length:5,frule:1,third:2,prmA:0,prmB:0},{type:5,c:[0,0,0,0,0,0]},{type:5,c:[20,0,20,0,20,0]},{type:5,c:[20,20,20,20,20,20]},{type:5,c:[0,20,0,20,0,20]},{type:5,c:[0,0,0,0,0,0]}]),ij=new a.TB;
ij.i=B;K.push(iC.nN("Tile Symmetry 1",{vmsk:ij,vogk:a.cv(B)}))}for(var l=0;l<K.length;l++){var W=K[l],B=W.add.vmsk.i;
if(l==0&&B.length==2)continue;var L=O.R(B.length*26);ca.mz(L,0,B,w.m,w.e);var i=l==0?1025:2e3+l-1;w.xu["r"+i]=L;
if(l!=0){var e3={classID:"pathInfoClass",pathUnicodeName:{t:"TEXT",v:W.name}};if(W.name=="Tile Symmetry 1")e3.pathSymmetryClass={t:"Objc",v:{classID:"pathSymmetryClass",pathSymmetryMode:{t:"enum",v:{pathSymmetryModeEnum:"pathSymmetryModeRectangularTile"}},pathSymmetryCount:{t:"long",v:1}}};
F.push({t:"Objc",v:e3});_.push({t:"Objc",v:{classID:"null",keyDescriptorList:{t:"VlLs",v:W.add.vogk}}})}}if(F.length!=0){w.add.pths={classID:"pathsDataClass",pathList:{t:"VlLs",v:F}};
if(w.VQ)w.add.pths.pathSymmetrySelectedPath={t:"long",v:F.length-1};_={classID:"null",keyRootDescriptorList:{t:"VlLs",v:_}};
var t=new cJ;j.Tu(t,0,16);var J=ba.Mc(t,_,4);w.xu.r3000=t.data.slice(0,J+4)}else{delete w.add.pths;delete w.xu.r3000}if(w.Uw.length!=0){var eE="<variableSets xmlns=\"http://ns.adobe.com/Variables/1.0/\">\n"+"<variableSet locked=\"none\" varSetName=\"binding1\">\n"+"<variables>";
for(var l=0;l<w.Uw.length;l++){var ec=w.Uw[l],gw=[];for(var i in ec)gw.push(i+"=\""+ec[i]+"\"");eE+="<variable "+gw.join(" ")+">\n</variable>\n"}eE+="</variables>\n</variableSet>\n</variableSets>";
w.xu.r7000=j.bv(eE)}if(w.az.length!=0){var eE="<sampleDataSets psdPath=\""+w.name+"\">\n";for(var l=1;
l<w.az.length;l++){var bl=w.az[l];eE+="<sampleDataSet dataSetName=\"Data Set "+l+"\">\n";for(var cD=0;
cD<bl.length;cD++)eE+="<"+w.az[0][cD]+">"+bl[cD].replace(/</g,"&lt;").replace(/>/g,"&gt;")+"</"+w.az[0][cD]+">\n";
eE+="</sampleDataSet>\n"}eE+="</sampleDataSets>";w.xu.r7001=j.bv(eE)}a$=hb.atV(w,n,a$,3+o.length);a$=hb.auS(w,n,a$);
a$=hb.asu(w,n,a$);a$=hb.alv(w,n,a$,H,D);a$=hb.agH(w,n,a$,H[0],D);var hJ=[1025,2e3,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,7e3,7001];
for(var l=0;l<hJ.length;l++)delete w.xu["r"+hJ[l]];for(var l=0;l<w.B.length;l++){var Q=w.B[l];if(Q.hu()||H[2]&&Q.add.SoLd){Q.rect=c[l][0];
Q.buffer=c[l][1];if(c[l][2]){var V=Q.iS(w);c[l].push(V.buffer);V.buffer=c[l][2]}}}w.awM(d);P.nd.dv(w,!0);
delete w.Vq;return a$};hb.cs=function(w,n,H){var y=j.QN(n,H,4);H+=4;if(y!="8BPS")alert("invalid header signature: "+y);
var c=j.kH(n,H);H+=2;w.Vq=c==2;if(c!=1&&c!=2)alert("invalid version: "+c);H+=6;w.EL=j.kH(n,H);H+=2;w.e=j.sI(n,H);
H+=4;w.m=j.sI(n,H);H+=4;w.gw=j.kH(n,H);H+=2;w.XO=j.kH(n,H);H+=2;return H};hb.atV=function(w,n,H,y){n.ED(0,64);
j.lY(n.data,H,"8BPS");H+=4;j.pc(n.data,H,w.Vq?2:1);H+=2;j.AU(n.data,H,0);H+=4;j.pc(n.data,H,0);H+=2;
j.pc(n.data,H,y);H+=2;j.by(n.data,H,w.e);H+=4;j.by(n.data,H,w.m);H+=4;j.pc(n.data,H,8);H+=2;j.pc(n.data,H,3);
H+=2;return H};hb.tn=function(w,n,H){var y=j.sI(n,H);H+=4;if(y!=0)w.zm=n.slice(H,H+y);H+=y;return H};
hb.auS=function(w,n,H){j.UB(n,H,0);H+=4;return H};hb.aaO=function(w,n,H){var y=j.s(n,H),c=0;H+=4;var Q=[];
while(c<y){var q=j.QN(n,H+c,4);c+=4;var S=j.kH(n,H+c);c+=2;var A=j.jt(n,H+c);c+=A.length;if(q=="MeSa"&&(S==7e3||S==7001)){}else if(q!="8BIM"){Q.push(S);
console.log("Unknown Image Resources signature: "+q+", ID: "+S)}var V=j.s(n,H+c);c+=4;if(w.xu["r"+S]!=null)console.log("--- two resources with same ID");
w.xu["r"+S]=j.J8(n,H+c,V);c+=V+(V&1)}for(var l=0;l<Q.length;l++)delete w.xu["r"+Q[l]];return H+y};hb.asu=function(w,n,H){var y=H,q=0;
H+=4;var c=[];for(var Q in w.xu){c.push(parseInt(Q.slice(1)))}c.sort(function(d,N){return d-N});for(var l=0;
l<c.length;l++){var S=c[l];j.a_(n,H+q,S==7e3||S==7001?"MeSa":"8BIM");q+=4;j.E2(n,H+q,S);q+=2;var A=j.MV(n,H+q,"");
q+=A;var V=w.xu["r"+S],e=V.length;j.Tu(n,H+q,e);q+=4;j.PN(n,H+q,V);q+=e;if(e%2==1)q++}j.Tu(n,y,q);return H+q};
hb.au4=function(w,n,H){var y=H,c,Q,q=w.Vq?8:4;if(w.Vq)c=j.Qd(n,H);else c=j.s(n,H);H+=q;if(c==0)return y+q;
Q=hb.a3r(w,n,H);hb.OX(1,Q-H,"Layer Info");H=Q;Q=hb.acD(w,n,H);hb.OX(1,Q-H,"Global Layer Mask Info");
H=Q;Q=aU.l3(n,H,y+q+c,w.add,w.Vq,w);hb.OX(1,Q-H,"Project Add Info");H=Q;return y+q+c};hb.alv=function(w,n,H,y,c){var Q=H;
j.Tu(n,H,0);H+=4;if(w.Vq){j.Tu(n,H,0);H+=4}H=hb.a0s(w,n,H,y,c);H=hb.ava(w,n,H);H=aU.jw(n,H,w.add,w.Vq,w);
if(w.Vq)j.zQ(n,Q,H-Q-8);else j.Tu(n,Q,H-Q-4);return H};hb.a3r=function(w,n,H){var y,c=w.Vq?8:4;if(w.Vq)y=j.Qd(n,H);
else y=j.s(n,H);H+=c;if(y!=0)hb.yY(w,n,H);return H+y};hb.yY=function(w,n,H){var y=j.Mz(n,H);H+=2;var c=Math.abs(y);
for(var l=0;l<c;l++){var Q=new a;H=gO.V2(Q,w,n,H);w.B[l]=Q}var q=new cr(0,0,w.m,w.e);for(var l=0;l<c;
l++){var S=w.B[l],A=S.LZ(),V=ic.V2(S,w,n,H);if(V-H>8)hb.OX(2,V-H,"Lay: "+S.getName());H=V;hb.ak(S,q);
if(A)hb.ak(A,q)}};hb.ak=function(w,n){};hb.a0s=function(w,n,H,y,c){var Q=H,q=w.Vq;H+=q?8:4;H=hb.ax0(w,n,H,y,c);
var S=H-Q-(q?8:4);if(S%2!=0)S++;if(q)j.zQ(n,Q,S);else j.Tu(n,Q,S);return Q+S+(q?8:4)};hb.ax0=function(w,n,H,y,c){var Q=w.B.length;
j.dJ(n,H,c?-Q:Q);H+=2;var q=[];for(var l=0;l<Q;l++)H=gO.hc(w.B[l],w,n,H,q);for(var l=0;l<Q;l++)H=ic.Z8(w.Vq,w.B[l],n,H,q[l],y);
return H};hb.acD=function(w,n,H){var y=j.s(n,H);H+=4;H+=y;return H};hb.ava=function(w,n,H){var y=j.Tu(n,H,0);
H+=4;return H};hb.TT=function(w,n,H){var y=w.XO,c="Bitmap Grayscale Indexed RGB CMYK Multichannel Duotone Lab".split(" "),Q=[1,1,1,3,4,1,1,3],q,v;
if(y!=3){if(y==1||y==2||y==4)console.log("Project will be converted from "+c[y]+" to "+c[3]+" mode.");
else{alert("Color mode "+c[y]+" is not supported yet :(")}if(y==4)w.add.fcmy=1}if(w.xu.r1045){q=[];var S=w.xu.r1045,A=0;
while(A<S.length){var V=j.Pb(S,A);q.push(V);A+=4+2+V.length*2}}var e=Q[y]+(q==null||q[0]=="Transparency"?1:0),d=w.m,N=w.e,b=d*N,z=j.kH(n,H);
H+=2;w.buffer=O.R(b*4);O.jZ(w.buffer,4278190080);var T=H;for(var Y=0;Y<w.EL;Y++){if(z==0){v=ic.Zl(w.Vq,w.gw,n,d,N,H,z);
H+=b*(w.gw>>>3)}else if(z==1){v=O.R(b);var g=w.Vq?4:2;if(Y==0)H+=w.EL*N*g;H+=ic.Wc(n,v,d,N,T+Y*N*g,H,g)}else{console.log("unknown compression of image data: ",z);
return}if(Y<e){O.o2(v,w.buffer,Y);if(w.EL==1&&Y==0){O.o2(v,w.buffer,1);O.o2(v,w.buffer,2)}}else{var R=new a.ZV,h=Y-e,E=Y-Q[w.XO];
R.name=q?q[E]:"Alpha";if(R.name=="Quick Mask"){R.SC=!0;w.np.push(h)}R.rect=new cr(0,0,d,N);R.channel=v;
R.color=0;R.KU();w.d4[h]=R;if(w.xu.r1077){var S=w.xu.r1077.slice(4+E*13);R.qA=hQ.gM(S,0);R.nn=S[11];
R.Ph=S[12];if(R.Ph==2)R.SC=!0}}}w.EL=4;if(w.XO==2)for(var l=0;l<b;l++){var G=l*4,k=w.buffer[G];w.buffer[G]=w.zm[0+k];
w.buffer[G+1]=w.zm[256+k];w.buffer[G+2]=w.zm[512+k]}return H};hb.agH=function(w,n,H,y,c){var Q=1,q=16,S=w.m,A=w.e,e,d;
j.E2(n,H,Q);H+=2;var V=S*A;if(!y){d=new O.$Z(S*A);O.cw(w.buffer,d);var N=d.b,b=d.J,z=d.k,v=d.iL;for(var l=0;
l<V;l++){var T=v[l]*(1/255);N[l]=~~(N[l]*T+255*(1-T));b[l]=~~(b[l]*T+255*(1-T));z[l]=~~(z[l]*T+255*(1-T))}}else e=O.R(V);
var Y=[e,e,e];if(!y)Y=[d.b,d.J,d.k];if(c)Y.push(y?e:d.iL);for(var l=0;l<w.d4.length;l++){Y.push(w.d4[l].iU(new cr(0,0,w.m,w.e)))}var g=H;
for(var R=0;R<Y.length;R++){n.ED(H,S*A+4);e=Y[R];if(Q==0||Q==2||Q==3)H=ic.EM(w.Vq,e,n.data,S,A,H,Q);
else{var h=w.Vq?4:2;if(R==0)H+=Y.length*A*h;var E=H;H+=ic.rx(e,n.data,S,A,g+R*A*h,H,h)}}return H};function eM(){}eM.V2=function(w){var n={};
eM.HC(w,n,0,0);return n};eM.hc=function(w,n){var H=0;H=eM.lB(w,n,H,0);return H};eM.HC=function(w,n,H,y){while(w[H]!="<".charCodeAt(0))H++;
H+=2;while(!0){if(w[H]=="/".charCodeAt(0)){H++;var c=j.indexOf(w," ".charCodeAt(0),H,H+50),Q=j.indexOf(w,"\n".charCodeAt(0),H,H+50);
if(Q==-1)Q=Infinity;if(c==-1)c=Infinity;var q=Math.min(Q,c),S=j.QN(w,H,q-H),A=eM.fa(w,q+1,y+1,S);n[S]=A.Z;
H=q+1;H+=A.size}else if(w[H]==">".charCodeAt(0)){H+=2;break}else{var V=w[H];if(V==10||V==9||V==32)H++;
else{console.log("unknown byte: "+V+", char: "+String.fromCharCode(V),H);H++}}}return H};eM.lB=function(w,n,H,y){j.a_(n,H,"<<\n");
H+=3;var c=eM.aiR;for(var Q in w){j.Gj(n,H,"\t".charCodeAt(0),y+1);H+=y+1;j.a_(n,H,"/"+Q);H+=1+Q.length;
if(c(w[Q])||w[Q]instanceof Array){j.a_(n,H," ");H++}else{j.a_(n,H,"\n");H++;j.Gj(n,H,"\t".charCodeAt(0),y+1);
H+=y+1}H=eM.Zo(w[Q],n,H,y+1);j.a_(n,H,"\n");H++}j.Gj(n,H,"\t".charCodeAt(0),y);H+=y;j.a_(n,H,">>");H+=2;
return H};eM.fa=function(w,n,H,y){var c=n,Q={size:0,Z:0};while(!0){while(w[n]==" ".charCodeAt(0)||w[n]=="\t".charCodeAt(0)||w[n]=="\n".charCodeAt(0))n++;
if(w[n]=="<".charCodeAt(0)){Q.Z={};n=eM.HC(w,Q.Z,n,H+1);break}else if(w[n]=="(".charCodeAt(0)){n+=3;
var q=n;while(!0){if(w[q-1]!="\\".charCodeAt(0)&&w[q]==")".charCodeAt(0)&&(w[q+1]=="\n".charCodeAt(0)||w[q+1]==" ".charCodeAt(0)))break;
else q++}Q.Z=j.ajv(w,n,q);n=q+2;break}else if(w[n]=="[".charCodeAt(0)){n++;Q.Z=[];while(w[n]==" ".charCodeAt(0)||w[n]=="\t".charCodeAt(0)||w[n]=="\n".charCodeAt(0))n++;
while(w[n]!="]".charCodeAt(0)){var S=eM.fa(w,n,H+1,y);Q.Z.push(S.Z);n+=S.size;while(w[n]==" ".charCodeAt(0)||w[n]=="\t".charCodeAt(0)||w[n]=="\n".charCodeAt(0))n++}n++;
break}else{var A=j.indexOf(w," ".charCodeAt(0),n,n+50),V=j.indexOf(w,"\n".charCodeAt(0),n,n+50);if(V==-1)V=Infinity;
if(A==-1)A=Infinity;var e=j.QN(w,n,Math.min(A,V)-n).trim(),d=parseFloat(e);if(!isNaN(d)){Q.Z=parseFloat(e);
n=Math.min(A,V)+1;break}else if(e=="true"||e=="false"){Q.Z=e=="true";n=Math.min(A,V)+1;break}else if(e=="null"||e=="NaN"||e=="undefined"){Q.Z=0;
n=Math.min(A,V)+1;break}else{console.log("unknown identifier: "+e);throw"e"}n=Math.min(A,V)+1}}Q.size=n-c;
return Q};eM.Zo=function(w,n,H,y){if(w instanceof Array){var c=w.length==0||typeof w[0]=="number";if(c){j.a_(n,H,"[ ");
H+=2;for(var l=0;l<w.length;l++){var Q=w[l]+" ";j.a_(n,H,Q);H+=Q.length}j.a_(n,H,"]");H+=1}else{j.a_(n,H,"[\n");
H+=2;for(var l=0;l<w.length;l++){j.Gj(n,H,"\t".charCodeAt(0),y);H+=y;H=eM.Zo(w[l],n,H,y);j.a_(n,H,"\n");
H++}j.Gj(n,H,"\t".charCodeAt(0),y);H+=y;j.a_(n,H,"]");H+=1}}else if(w instanceof Object){H=eM.lB(w,n,H,y)}else if(typeof w=="string"){j.a_(n,H,"(");
H++;j.Gj(n,H,254);H++;j.Gj(n,H,255);H++;H=j.aew(n,H,w);j.a_(n,H,")");H+=1}else{var Q=w+"";j.a_(n,H,Q);
H+=Q.length}return H};eM.aiR=function(w){var n=typeof w;return n=="string"||n=="number"||n=="boolean"};
function hq(){}hq.V2=function(w){var n={};hq.GX(w,n,0,0);return n};hq.hc=function(w,n){var H=0;j.a_(n,H," ");
H++;H=hq.hp(w,n,H,0);H--;n.ED(H,2);n.data[H]=n.data[H+1]=0;H+=2;return H};hq.HC=function(w,n,H,y){while(w[H]!="<".charCodeAt(0)){H++;
console.log("\u0161ipka")}H+=2;H=hq.GX(w,n,H,y);return H};hq.lB=function(w,n,H,y){j.a_(n,H,"<< ");H+=3;
H=hq.hp(w,n,H,y);j.a_(n,H,">>");H+=2;return H};hq.H6=function(w){return w==9||w==10||w==32};hq.GX=function(w,n,H,y){while(!0){while(hq.H6(w[H])||w[H]==0)H++;
if(H>=w.length)break;if(w[H]=="/".charCodeAt(0)){H++;var c=H;while(!hq.H6(w[c]))c++;var Q=j.QN(w,H,c-H);
H=c+1;var q=hq.fa(w,H,y,Q);n["_"+Q]=q.Z;H+=q.size}else if(w[H]==">".charCodeAt(0)){H+=2;break}else{var S=w[H];
console.log(j.QN(w,H,H+100));console.log("unknown byte: "+S+", char: "+String.fromCharCode(S)+", offset: "+H);
H++;throw"e";return-1}}return H};hq.hp=function(w,n,H,y){for(var c in w){var Q=c.substring(1,c.length);
j.a_(n,H,"/"+Q);H+=1+Q.length;j.a_(n,H," ");H++;H=hq.Zo(w[c],n,H,y+1);j.a_(n,H," ");H++}return H};hq.fa=function(w,n,H,y){var c=n,Q={type:"",size:0,Z:0};
while(hq.H6(w[n]))n++;if(w[n]=="<".charCodeAt(0)){Q.type="Object";Q.Z={};n=hq.HC(w,Q.Z,n,H+1)}else if(w[n]=="(".charCodeAt(0)){Q.type="String";
n++;if(w[n]==")".charCodeAt(0)){Q.Z="e";n++}else{n+=2;var q=n,S=0;while(!0){if(w[q]==")".charCodeAt(0)&&w[q-1]!="\\".charCodeAt(0))break;
else q+=1}Q.Z="s"+j.ajv(w,n,q);n=q+2}}else if(w[n]=="[".charCodeAt(0)){n++;Q.Z=[];Q.type="Array";while(hq.H6(w[n]))n++;
while(w[n]!="]".charCodeAt(0)){var A=hq.fa(w,n,H+1,y);if(A==-1)return-1;Q.Z.push(A.Z);n+=A.size;delete A.size;
while(hq.H6(w[n]))n++}n++}else{var V=n;while(!hq.H6(w[V]))V++;var e=j.QN(w,n,V-n),d=parseFloat(e);if(!isNaN(d)&&e.indexOf(".")!=-1){Q.type="Float";
var N=parseFloat(e);Q.Z="f"+N}else if(!isNaN(d)&&e.indexOf(".")==-1){Q.type="Integer";Q.Z="i"+parseInt(e)}else if(e=="true"||e=="false"){Q.type="Boolean";
Q.Z=e=="true"}else if(e.charAt(0)=="/"){Q.type="BString";Q.Z=e}else if(e=="NaN"||e=="undefined"){Q.type="Float";
Q.Z="f0"}else{console.log("unknown value",JSON.stringify(e));throw"e"}n=V+1}Q.size=n-c;return Q};hq.aco=function(w){if(w==Math.round(w))return w+".0";
var n=w.toFixed(5);while(n.endsWith("0")&&n[n.length-2]!=".")n=n.slice(0,n.length-1);if(0<w&&w<1)n=n.slice(1);
if(-1<w&&w<0)n="-"+n.slice(2);return n};hq.Zo=function(w,n,H,y){var c=typeof w=="string"?w.charAt(0):"";
if(w instanceof Array){j.a_(n,H,"[ ");H+=2;for(var l=0;l<w.length;l++){H=hq.Zo(w[l],n,H,y);j.a_(n,H," ");
H++}j.a_(n,H,"]");H+=1}else if(w instanceof Object){H=hq.lB(w,n,H,y)}else if(c=="e"){j.a_(n,H,"()");
H+=2}else if(c=="s"){j.a_(n,H,"(");H++;j.Gj(n,H,254);H++;j.Gj(n,H,255);H++;H=j.aew(n,H,w.substring(1));
j.a_(n,H,")");H++}else if(c=="/"){j.a_(n,H,w);H+=w.length}else if(c=="f"){var Q=parseFloat(w.substring(1)),q=hq.aco(Q);
j.a_(n,H,q);H+=q.length}else if(c=="i"){j.a_(n,H,w.substring(1));H+=w.length-1}else{var q=w+"";j.a_(n,H,q);
H+=q.length}return H};function j(){}j.akj=function(ds){var w="";for(var l=3;l>=0;l--)w+=String.fromCharCode(ds>>l*8&255);
return w};j.aup=function(w){var ds=0;for(var l=w.length-1;l>=0;l--)ds|=w.charCodeAt(l)<<(3-l)*8;return ds};
j.indexOf=function(w,n,H,y){if(H==null)H=0;if(y==null)y=w.length;y=Math.min(y,w.length);for(var l=H;
l<y;l++)if(w[l]==n)return l;return-1};j.OA=function(w,n,H){if(H==null)H=0;var y=n.length,c=w.length-y;
if(typeof n=="string"){var Q=[];for(var l=0;l<y;l++)Q.push(n.charCodeAt(l));n=Q}if(n.length>0){var q=n[0];
for(var l=H;l<c;l++)if(w[l]==q){var S=!0;for(var A=1;A<y;A++)if(n[A]!=w[l+A]){S=!1;break}if(S)return l}}return-1};
j.ajv=function(w,n,H){var y=[],Q="";while(n<H){var c=w[n++];if(c=="\\".charCodeAt(0))y.push(w[n++]);
else y.push(c)}for(var l=0;l<y.length;l+=2)Q+=String.fromCharCode(y[l]<<8|y[l+1]);return Q};j.a04=function(w,n,H){var y=new Uint8Array(2);
for(var l=0;l<H.length;l++){j.pc(y,0,H.charCodeAt(l));if(y[0]==")".charCodeAt(0)||y[0]=="(".charCodeAt(0)||y[0]=="\\".charCodeAt(0)){w[n]="\\".charCodeAt(0);
n++}w[n]=y[0];n++;if(y[1]==")".charCodeAt(0)||y[1]=="(".charCodeAt(0)||y[1]=="\\".charCodeAt(0)){w[n]="\\".charCodeAt(0);
n++}w[n]=y[1];n++}return n};j.aew=function(w,n,H){w.ED(n,4*H.length);return j.a04(w.data,n,H)};j.cS=function(w,n,H){var y="";
for(var l=0;l<H;l++){var c=w[n++]|w[n++]<<8;y+=String.fromCharCode(c)}return y};j.C3=function(w,n,H){var y="";
for(var l=0;l<H;l++){var c=w[n++]<<8|w[n++];y+=String.fromCharCode(c)}return y};j.azl=function(w,n,H){for(var l=0;
l<H.length;l++){var y=H.charCodeAt(l);j.k5(w,n+2*l,y)}};j.a4q=function(w,n,H){for(var l=0;l<H.length;
l++){var y=H.charCodeAt(l);j.pc(w,n+2*l,y)}};j.amO=function(w,n,H){w.ED(n,2*H.length);j.a4q(w.data,n,H)};
j.ams=function(w,l,n){var H=[],y=0,c=0;n+=l;while(l<n){y=w[l++];if((y&128)==0)c=y;else if((y&224)==192){c=(y&31)<<6;
y=w[l++];c|=y&63}else if((y&240)==224){c=(y&15)<<12;y=w[l++];c|=(y&63)<<6;y=w[l++];c|=y&63}else if((y&248)==240){c=(y&7)<<18;
y=w[l++];c|=(y&63)<<12;y=w[l++];c|=(y&63)<<6;y=w[l++];c|=y&63}else throw"e";H.push(c)}return H};j.ai1=window.TextDecoder?new window.TextDecoder("utf8"):null;
j.NR=function(w,n,H){if(n==null)n=0;if(H==null)H=w.length;if(j.ai1&&n==0&&H==w.length)return j.ai1.decode(w);
var y=j.ams(w,n,H),c=y.length;for(var l=0;l<c;l++)y[l]=String.fromCharCode(y[l]);return y.join("")};
j.aei=window.TextEncoder?new window.TextEncoder("utf8"):null;j.bv=function(w){if(j.aei)return j.aei.encode(w);
var n=new Uint8Array(w.length*4),H=j.GG(w,n,0);return n.slice(0,H)};j.GG=function(w,n,H){var y=w.length,l=0;
for(var c=0;c<y;c++){var Q=w.charCodeAt(c);if((Q&4294967295-(1<<7)+1)==0){n[H+l]=Q;l++}else if((Q&4294967295-(1<<11)+1)==0){n[H+l]=192|Q>>6;
n[H+l+1]=128|Q>>0&63;l+=2}else if((Q&4294967295-(1<<16)+1)==0){n[H+l]=224|Q>>12;n[H+l+1]=128|Q>>6&63;
n[H+l+2]=128|Q>>0&63;l+=3}else if((Q&4294967295-(1<<21)+1)==0){n[H+l]=240|Q>>18;n[H+l+1]=128|Q>>12&63;
n[H+l+2]=128|Q>>6&63;n[H+l+3]=128|Q>>0&63;l+=4}else throw"e"}return l};j.mW=function(w,n){var H=j.s(w,n),y=j.NR(w,n+4,H-1);
return{ua:y,fg:4+H}};j.an_=function(w,n){var H=j.U5(w,n),y=j.cS(w,n+4,H);return y};j.kw=function(w,n){var H=j.s(w,n),y=j.C3(w,n+4,H);
return y};j.Pb=function(w,n){var H=j.s(w,n),y=j.C3(w,n+4,H-1);return y};j.aoG=function(w,n,H){j.QU(w,n,H.length);
n+=4;j.azl(w,n,H)};j.ah5=function(w,n,H){j.AU(w,n,H.length);n+=4;j.a4q(w,n,H)};j.yU=function(w,n,H){w.ED(n,4+2*H.length);
j.ah5(w.data,n,H)};j.aa8=function(w,n,H){w.ED(n,4+2*H.length);j.aoG(w.data,n,H)};j.Xi=function(w,n,H){var y=[];
for(var l=0;l<H;l++)y.push(String.fromCharCode(w[n+l]));return y};j.a1y=function(w,n,H){var y=!1,c=w.length-H.length;
for(var l=n;l<c;l++){for(var Q=0;Q<H.length;Q++){if(w[l+Q]!=H.charCodeAt(Q))break;if(Q==H.length-1)return l}}};
j.QN=function(w,n,H){var y="";for(var l=0;l<H;l++)y+=String.fromCharCode(w[n+l]);return y};j.lY=function(w,n,H){for(var l=0;
l<H.length;l++)w[n+l]=H.charCodeAt(l)};j.a_=function(w,n,H){w.ED(n,H.length);j.lY(w.data,n,H)};j.atH=function(w,n,H){var y="";
for(var l=0;l<H;l++){var c=w[n+l];if(c<10)y+="  ";else if(c<100)y+=" ";y+=c+", "}return y};j.kH=function(w,n){return w[n]<<8|w[n+1]};
j.pc=function(w,n,ds){w[n]=ds>>8&255;w[n+1]=ds&255};j.E2=function(w,n,ds){w.ED(n,4);j.pc(w.data,n,ds)};
j.acA=function(w,n){var H=j.kH(w,n),y=j.kH(w,n+2);return H+y*(1/65536)};j.axh=function(w,n,ds){var H=Math.floor(ds),y=Math.floor((ds-H)*65536);
j.pc(w,n,H);j.pc(w,n+2,y)};j.eX=function(w,n){return w[n+1]<<8|w[n]};j.k5=function(w,n,ds){w[n+1]=ds>>8&255;
w[n]=ds&255};j.t1=function(w,n,ds){w.ED(n,4);j.k5(w.data,n,ds)};j.Mz=function(w,n){j.F$[0]=w[n+1];j.F$[1]=w[n];
return j.qT[0]};j.DH=function(w,n){j.F$[0]=w[n];j.F$[1]=w[n+1];return j.qT[0]};j.ir=j.pc;j.dJ=j.E2;j.sI=function(w,n){j.E0[0]=w[n+3];
j.E0[1]=w[n+2];j.E0[2]=w[n+1];j.E0[3]=w[n];return j.J0[0]};j.by=function(w,n,ds){j.J0[0]=ds;w[n+3]=j.E0[0];
w[n+2]=j.E0[1];w[n+1]=j.E0[2];w[n+0]=j.E0[3]};j.UB=function(w,n,ds){w.ED(n,4);j.by(w.data,n,ds)};j.nD=function(w,n,H,y){H[y+0]=w[n+0];
H[y+1]=w[n+1];H[y+2]=w[n+2];H[y+3]=w[n+3]};j.U5=function(w,n){j.nD(w,n,j.E0,0);return j.anq[0]};j.QU=function(w,n,ds){j.anq[0]=ds;
j.nD(j.E0,0,w,n)};j.Uk=function(w,n,ds){w.ED(n,4);j.QU(w.data,n,ds)};j.Hr=function(w,n){j.nD(w,n,j.E0,0);
return j.J0[0]};j.auJ=function(w,n,ds){j.J0[0]=ds;j.nD(j.E0,0,w,n)};j.avR=function(w,n,ds){w.ED(n,4);
j.auJ(w.data,n,ds)};j.s=function(w,n){var H=w[n]*(256*256*256)+(w[n+1]<<16|w[n+2]<<8|w[n+3]);return H};
j.AU=function(w,n,ds){w[n]=ds>>24&255;w[n+1]=ds>>16&255;w[n+2]=ds>>8&255;w[n+3]=ds>>0&255};j.Tu=function(w,n,ds){w.ED(n,4);
j.AU(w.data,n,ds)};j.Qd=function(w,n){return j.s(w,n)<<32|j.s(w,n+4)};j.acu=function(w,n,ds){j.AU(w,n,ds>>16>>16);
j.AU(w,n+4,ds&4294967295)};j.zQ=function(w,n,ds){w.ED(n,8);j.acu(w.data,n,ds)};j.PC=function(w,n){var H=new Uint8Array(8);
for(var l=0;l<8;l++)H[l]=w[n+7-l];var y=new Float64Array(H.buffer);return y[0]};j.ID=function(w,n){var H=new Uint8Array(8);
for(var l=0;l<8;l++)H[l]=w[n+l];var y=new Float64Array(H.buffer);return y[0]};j.ku=function(w,n,ds){var H=new Float64Array(1);
H[0]=ds;var y=new Uint8Array(H.buffer);for(var l=0;l<4;l++){var c=y[l];y[l]=y[7-l];y[7-l]=c}for(var l=0;
l<8;l++)w[n+l]=y[l]};j.eI=function(w,n,ds){w.ED(n,8);j.ku(w.data,n,ds)};j.Ma=function(w,n){j.E0[0]=w[n+3];
j.E0[1]=w[n+2];j.E0[2]=w[n+1];j.E0[3]=w[n+0];return j.sW[0]};j.ci=function(w,n){j.E0[0]=w[n+0];j.E0[1]=w[n+1];
j.E0[2]=w[n+2];j.E0[3]=w[n+3];return j.sW[0]};j.ga=function(w,n,ds){j.sW[0]=ds;w[n+0]=j.E0[3];w[n+1]=j.E0[2];
w[n+2]=j.E0[1];w[n+3]=j.E0[0]};j.ats=function(w,n,ds){w.ED(n,4);j.ga(w.data,n,ds)};j.iF=function(w,n,ds){j.sW[0]=ds;
w[n+0]=j.E0[0];w[n+1]=j.E0[1];w[n+2]=j.E0[2];w[n+3]=j.E0[3]};j.ae_=function(w,n,ds){w.ED(n,4);j.iF(w.data,n,ds)};
j.atu=function(w,n){var H=j.sI(w,n),y=H*(1/(1<<24));return y};j.axL=function(w,n,H){var y=Math.floor(H*(1<<24));
j.by(w,n,y)};j.aga=function(w,n,H){w.ED(n,4);j.axL(w.data,n,H)};j.jt=function(w,n){var H=w[n],y=j.QN(w,n+1,H);
H+=1-H%2;return{z9:y,length:H+1}};j.amv=function(w,n,H){var y=H.length;w[n]=y;j.lY(w,n+1,H);if(y%2==0){w[n+1+y]=0;
++y}return y+1};j.MV=function(w,n,H){w.ED(n,H.length+2);return j.amv(w.data,n,H)};j.lN=function(w,n){var H=new b7;
H.iL=j.PC(w,n+0*8);H.k=j.PC(w,n+1*8);H.Mg=j.PC(w,n+2*8);H.Du=j.PC(w,n+3*8);H.qH=j.PC(w,n+4*8);H.fp=j.PC(w,n+5*8);
return H};j.R8=function(w,n,H){j.ku(w,n+0*8,H.iL);j.ku(w,n+1*8,H.k);j.ku(w,n+2*8,H.Mg);j.ku(w,n+3*8,H.Du);
j.ku(w,n+4*8,H.qH);j.ku(w,n+5*8,H.fp)};j.av7=function(w,n,H){w.ED(n,48);j.R8(w.data,n,H)};j.amD=function(w,n){var H=j.Ma(w,n),y=j.Ma(w,n+4),c=j.Ma(w,n+8),Q=j.Ma(w,n+12);
return new cr(H,y,c-H,Q-y)};j.awt=function(w,n,H){j.ga(w,n,H.x);j.ga(w,n+4,H.y);j.ga(w,n+8,H.x+H.m);
j.ga(w,n+12,H.y+H.e)};j.afN=function(w,n,H){w.ED(n,16);j.awt(w.data,n,H)};j.S9=function(w,n){var H=j.sI(w,n),y=j.sI(w,n+4),c=j.sI(w,n+8),Q=j.sI(w,n+12);
return new cr(y,H,Q-y,c-H)};j.ak1=function(w,n,H){j.by(w,n,H.y);j.by(w,n+4,H.x);j.by(w,n+8,H.y+H.e);
j.by(w,n+12,H.x+H.m)};j.PV=function(w,n,H){w.ED(n,16);j.ak1(w.data,n,H)};j.J8=function(w,n,H){var y=new Uint8Array(H);
for(var l=0;l<H;l++)y[l]=w[n+l];return y};j.acT=function(w,n,H){w.set(H,n)};j.PN=function(w,n,H){w.ED(n,H.length);
j.acT(w.data,n,H)};j.awR=function(w,n,H,ds){if(!ds)ds=1;for(var l=0;l<ds;l++)w[n+l]=H};j.Gj=function(w,n,H,ds){if(!ds)ds=1;
w.ED(n,ds);j.awR(w.data,n,H,ds)};j.qT=new Int16Array(1);j.F$=new Uint8Array(j.qT.buffer);j.J0=new Int32Array(1);
j.anq=new Uint32Array(j.J0.buffer);j.E0=new Uint8Array(j.J0.buffer);j.sW=new Float32Array(j.J0.buffer);
function it(){}it.V2=function(w,n){var H=new Uint8Array(w),y=0,c=j.QN(H,y,9),S=4,A=100;y+=9;var Q=j.QN(H,y,4);
y+=4;y++;n.m=j.s(H,y);y+=4;n.e=j.s(H,y);y+=4;var q=j.s(H,y);y+=4;if(q!=0)alert("Unsupported image format, not RGB!");
if(["file","v001","v002","v003"].indexOf(Q)==-1){A=j.s(H,y);y+=4;if(parseInt(Q.slice(1))>=7){A=A}else alert("Unknown XCF version: "+Q);
S=8}var V={};y=it.vV(H,y,V);var e=[];y=it.Ko(H,y,e,S);var d=[];y=it.Ko(H,y,d,S);n.UZ=0;for(var l=0;l<e.length;
l++)it.aow(H,e[l],n,V,S,A);while(n.UZ>0){n.B.push(n.C$());n.UZ--}n.B.reverse();delete n.UZ;n.buffer=O.R(n.m*n.e*4);
if(n.B.length==0)console.log("No layers!!!");for(var l=0;l<d.length;l++){var N=it.a7m(H,d[l],V,S,A);
if(N.kx[aD.axw])n.P={channel:N.ux,rect:new cr(0,0,n.m,n.e)}}};it.aow=function(w,n,H,y,c,Q){var q=H.mX(),S=j.s(w,n),d=0;
n+=4;var A=j.s(w,n);n+=4;q.rect=new cr(0,0,S,A);var V=j.s(w,n);n+=4;var e=j.mW(w,n);n+=e.fg;q.nY(e.ua);
var N={};n=it.vV(w,n,N);if(N[aD.a1N]){var b=N[aD.a1N];d=b.length/4-1}if(N[aD.uV]){q.rect.x=j.sI(N[aD.uV],0);
q.rect.y=j.sI(N[aD.uV],4)}if(N[aD.apn]){q.opacity=j.s(N[aD.apn],0)}if(N[aD.avf]){q.add.lsct=c0.q8;q.Vg=24}if(N[aD.air]){var z=j.s(N[aD.air],0);
q.UM=aD.ax3[z];if(q.Ok()&&q.UM=="norm")q.UM="pass"}if(N[aD.aax]){if(j.s(N[aD.aax],0)==0)q.Vg+=2}if(N[aD.abv]){var v=j.s(N[aD.abv],0);
q.add.lsct=v&1==1?c0.q8:c0.$g}if(N[aD.lK]){var T=N[aD.lK];for(var Y in T){var g=T[Y];if(Y=="gimp-text-layer"){var R=it.adc(g),h=R.text,E=R.font,G=R.color,k=R["font-size"];
if(h==null&&R.markup){var $=new DOMParser,p=$.parseFromString(R.markup,"image/svg+xml");while(p.firstChild!=null&&p.firstChild.tagName!=null){p=p.firstChild;
var X=p.getAttribute("font"),C=p.getAttribute("foreground"),D=p.getAttribute("size");if(X!=null)E=X;
if(C!=null){C=CSS.gM(C);G=[1,C.b/255,C.J/255,C.k/255]}if(D!=null){k=""+parseFloat(D)/245}}h=p.textContent}q.add.lnsr="rend";
q.add.TySh=j1.d2(0,0);q.add.TySh.oo=new cr(0,0,100,100);q.add.TySh.D=new b7(1,0,0,1,q.rect.x,q.rect.y);
var o=q.add.TySh.EB;j1.Uq(o,0,h);var t=j1.ni(o,0,0),u=R.justify,m=R["line-spacing"];if(G)t.tq.FillColor={Type:1,Values:[1,parseFloat(G[1]),parseFloat(G[2]),parseFloat(G[3])]};
if(k){k=Math.round(parseFloat(k));t.tq.FontSize=k;q.add.TySh.D.fp+=Math.min(17,k*.17)}if(m){m=Math.round(parseFloat(m)+t.tq.FontSize*1.2);
t.tq.Leading=m;t.tq.AutoLeading=!1}if(u)t.AW.Justification=["left","right","center","fill"].indexOf(u);
if(E&&E!="Sans-serif"){var U=E.toLowerCase(),I="bold italic semi extra regular condensed light".split(" "),x=U.length;
for(var l=0;l<I.length;l++){var J=U.indexOf(I[l]);if(J!=-1&&J<x&&U[J-1]==" ")x=J}if(x!=U.length)E=E.slice(0,x-1).split(" ").join("")+"-"+E.slice(x).split(" ").join("");
j1.Ho(t,E)}j1.Xe(o,0,h.length,t);var r=R["box-width"],Z=R["box-height"],f=r?parseFloat(r):q.rect.m,F=Z?parseFloat(Z):q.rect.e;
j1.mn(o,1);j1.wr(o,[0,0,Math.ceil(f),Math.ceil(F)])}else console.log("Unknown property "+Y)}}while(H.UZ>d){H.B.push(H.C$());
H.UZ--}H.UZ=d;if(q.add.lsct==c0.q8||q.add.lsct==c0.$g)H.UZ++;var _=c==4?j.s:j.Qd,K=_(w,n);n+=c;var B=_(w,n);
n+=c;if(q.QG()){q.buffer=O.R(q.rect.O()*4);var ij=new O.$Z(q.rect.O());it.arF(w,K,ij,y,c,Q);O.HR(ij,q.buffer)}if(B!=0){q.z=new a.ZV;
var W=it.a7m(w,B,y,c,Q);q.z.channel=W.ux;q.z.rect=q.rect.clone();if(N[aD.aqK])q.z.isEnabled=j.s(N[aD.aqK],0)==1;
q.z.color=q.z.channel[0];q.z.KU()}if(q.Ok())q.rect=new cr;H.B.push(q)};it.adc=function(w){var n="("+j.NR(w,0,w.length-1)+")",H=[],y={};
it.ayb(n,1,H);it.ajK(H,y);return y};it.ajK=function(w,n){for(var l=0;l<w.length;l++){var H=w[l],y=H[0];
if(H.length==2)n[y]=H[1];else n[y]=H.slice(1)}};it.ayb=function(w,n,H){while(!0){if(n>=w.length)throw"e";
var y=w.charAt(n);n++;if(y=="("){var c=[];n=it.ayb(w,n,c);H.push(c)}else if(y==" "||y=="\n"||y=="\r"){}else if(y==")")return n;
else if(y=="\""){var Q=n;while(!0){var q=w[n];n++;if(q=="\"")break;if(q=="\\")n++}H.push(JSON.parse(w.slice(Q-1,n)))}else{var Q=n-1;
while(w[n]!=" "&&w[n]!=")")n++;H.push(w.slice(Q,n))}}};it.a7m=function(w,n,H,y,c){var Q=j.s(w,n);n+=4;
var q=j.s(w,n);n+=4;var S=j.mW(w,n);n+=S.fg;var A={};n=it.vV(w,n,A);var V=new O.$Z(Q*q),e=y==4?j.s:j.Qd,d=e(w,n);
n+=y;it.arF(w,d,V,H,y,c);return{ux:V.b,kx:A}};it.arF=function(w,n,H,y,c,Q){var q=j.s(w,n);n+=4;var S=j.s(w,n);
n+=4;var A=j.s(w,n);n+=4;var V=c==4?j.s:j.Qd,e=V(w,n);n+=c;it.a4D(w,e,H,y,A,c,Q)};it.a4D=function(w,n,H,y,c,Q,q){var S=j.s(w,n),e=0,l=0;
n+=4;var A=j.s(w,n);n+=4;var V=new cr(0,0,S,A);if(q==100||q==150)e=1;else if(q==200||q==250)e=2;else if(q==300||q==350)e=4;
else if(q==500||q==550)e=2;else if(q==600||q==650)e=4;else if(q==700||q==750)e=8;else{alert("unsupported bit depth "+q);
throw"e"}var d=c/e,e=Math.round(c/d),N=[];n=it.Ko(w,n,N,Q);var b=new O.$Z(64*64*e),z=new cr,v=y[aD.aoR][0],T=[b.b,b.J,b.k,b.iL];
if(d==3)b.iL.fill(255);var Y=Date.now();if(N.length!=0)for(var g=0;g<A;g+=64)for(var R=0;R<S;R+=64){var h=Math.min(S-R,64),E=Math.min(A-g,64),G=h*E;
z.HV(R,g,h,E);it.alF(w,N[l++],G*e,v,d,T);if(q==100||q==150){}else if(q==250){for(var k=0;k<d;k++){var $=T[k];
for(var p=0;p<G;p++){var X=$[p]<<8|$[G+p];$[p]=Math.min(X>>>8,255)}}}else if(q==600){var C=it.az$(),D=new Uint32Array(1),o=new Float32Array(D.buffer);
for(var k=0;k<d;k++){var $=T[k];for(var p=0;p<G;p++){D[0]=$[p]<<24|$[G+p]<<16|$[(G<<1)+p]<<8|$[(G<<1)+G+p]<<0;
var t=o[0];if(t<0)t=0;else if(t>1)t=1;$[p]=C[~~(.5+t*1e3)]}}}else console.log("unknown data format",q);
O.Vi(b,z,H,V)}};it.az$=function(){var w=it.ahi;if(w!=null)return w;w=it.ahi=new Uint8Array(1001);for(var l=0;
l<1001;l++)w[l]=~~(.49+255*O.nC(l*.001));return w};it.alF=function(w,n,H,y,c,Q){if(y==1){for(var q=0;
q<c;q++){var S=Q[q],A=0;while(A<H){var ds=w[n];n++;if(ds<127){var V=w[n];n++;ds++;for(var l=0;l<ds;l++)S[A+l]=V}else if(ds==127){var e=w[n];
n++;var d=w[n];n++;var V=w[n];n++;ds=e<<8|d;for(var l=0;l<ds;l++)S[A+l]=V}else if(ds==128){var e=w[n];
n++;var d=w[n];n++;ds=e<<8|d;for(var l=0;l<ds;l++)S[A+l]=w[n+l];n+=ds}else{ds=256-ds;for(var l=0;l<ds;
l++)S[A+l]=w[n+l];n+=ds}A+=ds}}}else if(y==2){var N=pako.inflate(w.slice(n)),b=Math.round(N.length/H);
for(var l=0;l<H;l++){var z=l*b;Q[0][l]=N[z];Q[1][l]=N[z+1];Q[2][l]=N[z+2];Q[3][l]=b==3?255:N[z+3]}}else alert("Unknown compression "+y)};
it.Ko=function(w,n,H,y){var c=y==4?j.s:j.Qd;while(!0){var Q=c(w,n);n+=y;if(Q==0)break;else H.push(Q)}return n};
it.vV=function(w,n,H){while(!0){var y=j.s(w,n);n+=4;var c=j.s(w,n);n+=4;if(y==aD.a9G)break;else if(y==aD.lK)H[y]=it.aiu(w,n,n+c);
else H[y]=j.J8(w,n,c);n+=c}return n};it.aiu=function(w,n,H){var y={};while(n<H){var c=j.mW(w,n);n+=c.fg;
var Q=j.s(w,n);n+=4;if(Q!=1)console.log("unknown flags",Q);var q=j.s(w,n);n+=4;y[c.ua]=j.J8(w,n,q);n+=q}return y};
var aD={a9G:0,alS:1,a6i:2,acS:3,axw:4,a5x:5,apn:6,air:7,aax:8,asJ:9,aiD:10,aqK:11,as2:12,a6C:13,apU:14,uV:15,a4n:16,aoR:17,aee:18,axn:19,ag9:20,lK:21,abM:22,akG:23,ajA:24,ave:25,aq8:26,apR:27,auV:28,avf:29,a1N:30,abv:31,a4v:32,a5e:33,anT:34,atn:35,a68:36,aae:37,a79:38,avs:0,a7B:1,aoH:2,atY:3,a1i:1,a6I:2,a2H:0,a4a:1,a6W:1};
aD.ax3="norm,diss,norm,mul ,scrn,over,diff,lddg,fsub,dark,lite,hue ,sat ,colr,lum ,fdiv,lddg,idiv,hLit,sLit,fdiv,pLit,norm,over,hue ,hue ,colr,lite,norm,norm,mul ,scrn,diff,lddg,fsub,dark,lite,hue ,sat ,colr,lum ,fdiv,lddg,idiv,hLit,sLit,fdiv,pLit,vLit,pLit,lLit,hMix,smud,lbrn,lum ,lum ,lum ,lum ,norm,norm,norm,pass".split(",");
var jB=function(){var w=!1,n,H,Y=0,h;function y(){var k=j.QN(n,H,4);H+=4;return k[3]+k[2]+k[1]+k[0]}function c(){var k=j.QN(n,H,4);
H+=4;return k}function Q(){var k=n[H];H+=1;return k}function q(){var k=j.eX(n,H);H+=2;return k}function S(){var k=j.U5(n,H);
H+=4;return k}function A(){var k=j.Hr(n,H);H+=4;return k}function V(){var k=j.U5(n,H);H+=8;return k}function e(){var k=j.ci(n,H);
H+=4;return k}function d(){var k=j.ID(n,H);H+=8;return k}function N(){var k=j.eX(n,H),$=j.NR(n,H+2,k);
H+=2+k;return $}function b(){var k=j.U5(n,H),$=j.NR(n,H+4,k);H+=4+k;return $}function z(k){H=k;var $=[];
while(H!=0){var p=c();if(p!="#FT4"&&p!="#FT3"&&p!="#FT2")throw p;var X=V(),C=V(),D=V(),o=V(),t=V(),u=S(),m=S(),U=S(),I=q(),x=Q(),J={};
$.push(J);for(var l=0;l<u;l++){var r=S(),Z=Q();if(Z!=0&&Z!=1&&Z!=2)throw Z;var f=[];if(Z==0||Z==1){var F=V(),_=V(),K=V(),B=S(),ij=Q(),W=S(),L=p!="#FT4"?0:S(),i=null;
if(p=="#FAT"||p=="#FT2"){switch(ij){case 1:ij=1;break;case 2:ij=65;break;case 3:ij=129;break;case 4:ij=193;
break;default:ij=0;break}}if(Z==0)i=N();f=[F,_,K,ij,i]}J["i"+r]=[Z,f]}for(var l=0;l<I;l++){var e3=q(),eE=q(),ec=V(),gw=j.QN(n,H,e3);
H+=e3}H=X}$.reverse();for(var bl=1;bl<$.length;bl++){var J=$[bl],cD=$[bl]=JSON.parse(JSON.stringify($[bl-1]));
for(var a$ in J){var hJ=J[a$];if(hJ[0]==0)cD[a$]=hJ;else if(hJ[0]==1){hJ[1][4]=cD[a$][1][4];cD[a$]=hJ}else if(hJ[0]==2)delete cD[a$]}}var ei=$.pop(),df=[];
for(var a$ in ei)df.push(ei[a$][1]);df.sort(function(bM,ib){return bM[0]-ib[0]});return df}function v(k,$,p,X){while(H<n.length){var C=Q(),u=null;
if(C==0){if(X){var D=Q();if(D!=2){var o=y()}if(D==0)H+=4;X=!1;continue}else{break}}var t=y();if(w)console.log("  ".repeat($),C,C&127,t,k._type);
if(C>127)u=T(C,$,p);else u=g(C,$,p);if(w)console.log("  ".repeat($),u);k[t]=u}}function T(k,$,p){var X=[];
k=k&127;if(k==43)H+=4;var C=S();if(k==50){var D=y(),o=q();if(o!=1)throw"e";for(var l=0;l<C;l++){var t={_status:"NotShared",_type:D};
X.push(t);var u=Q();if(u!=1)throw u;v(t,$+1,p)}}else if(k==41){if(C>8)throw C;for(var l=0;l<C;l++)X.push((n[H]>>>l&1)==1);
H++}else for(var l=0;l<C;l++){X.push(g(k,$,p,l!=0));if(k==42)k=2}return X}function g(k,$,p,X){var C=null;
if(k==49){C={};var D=Q();if(D!=0){var o=S();if(p==null){C._id=o;C._status=["Shared","Link"][D-1]}if(p&&D==2)C=p[o];
if(D==1){if(p)p[o]=C;var t=Q(),u=!1;if(t>1)throw t;C._type=y();if(w)console.log("  ".repeat($),"new",C._type,t,H);
if(t==0){while(!0){var m=q();if(m!=0&&m!=1&&m!=2&&m!=4)throw m;if(n[H]!=0){u=!0;break}var U=q();if(U==512)break;
var I=y();if(U==256)break}}v(C,$+1,p,u)}}}else if(k==50){C={_status:"NotShared"};if(Q()==1){C._type=y();
H+=2;v(C,$+1,p)}}else if(k==1)C={type:"byte",value:Q()};else if(k==2)C={type:"uint16",value:q()};else if(k==3)C={type:"uint32",value:S()};
else if(k==4)C={type:"uint64",value:V()};else if(k==7)C={type:"int32",value:A()};else if(k==8)C={type:"int64",value:V()};
else if(k==9)C={type:"float32",value:e()};else if(k==10)C={type:"float64",value:d()};else if(k==21)C={type:"Vec2i",value:[S(),S()]};
else if(k==23)C={type:"Vec4i",value:[S(),S(),S(),S()]};else if(k==33)C={type:"Vec4f",value:[e(),e(),e(),e()]};
else if(k==36)C={type:"Vec2",value:[d(),d()]};else if(k==38)C={type:"Vec4",value:[d(),d(),d(),d()]};
else if(k==40)C={type:"Vec6",value:[d(),d(),d(),d(),d(),d()]};else if(k==41)C={type:"bool",value:Q()!=0};
else if(k==42)C={type:"Enum",value:S()};else if(k==43)C={type:"string",value:b()};else if(k==44){if(X!=!0)Y=q();
C={type:"curv16",value:[d(),Y==12?[Q(),Q(),Q(),Q()]:[S(),S()]]}}else if(k==45){var x=S();C={type:"buff",value:n.slice(H,H+x)};
H+=x}else if(k==47){C={type:"uint32",value:S()}}else if(k==48){var J=[],r=q();if(r!=1)throw r;while(!0){if(n[H]==135){var Z=T(Q(),$+1,p),f=T(Q(),$+1,p),F=T(Q(),$+1,p);
J.push([Z,f,F])}else{var _=1;if(n[H]==3){Q();_=S()}for(var l=0;l<_;l++){if(Q()!=41)throw"e";var o=Q();
if(o!=0&&o!=1)throw o;if(Q()!=172)throw"e";var K=S(),B=q(),ij=[];J.push(ij);if(B!=18)throw B;if(K>2e3)throw K;
for(var W=0;W<K;W++)ij.push([d(),d(),Q(),Q()])}}if(n[H]==0){H++;break}}C={type:"curve",value:J}}else if(k==51){C={type:"EmbeddedData"};
C[y()]=b()}else if(k==52)C={type:"uint32",value:S()};else if(k==56)C={type:"Color32",value:[Q(),Q(),Q(),Q()]};
else if(k==60)C={type:"ColorGRAY",value:[e(),e()]};else if(k==68)C={type:"ColorRGBA",value:[e(),e(),e(),e()]};
else if(k==72)C={type:"ColorCMYK",value:[e(),e(),e(),e(),e()]};else{throw k}return k==49||k==50||k==51?C:C.value}function R(k){var $=0,p=k.length;
for(var l=0;l<p;l++)k[l]=$=$+k[l]&255}function E(k){n=k;H=4;var $=S(),p=c();if(p!="nsrP")throw p;var p=c();
if(p!="#Inf")throw p;var X=V();h=V();var C=V(),D=V(),o=V(),t=S(),u=S(),p=c();if(p!="Prot")throw p;var t=S(),m=z(X),U={},I=Date.now();
for(var x=0;x<m.length;x++){var J=m[x],r=J[3],K=null;H=J[0];var p=c();if(p!="#Fil")throw p;var Z=r>>>5&1,f=r&3,F=r&192;
switch(F){case 64:F=1;Z=0;break;case 128:F=2;break;case 192:F=3;break;default:F=0;Z=0}var _=new Uint8Array(n.buffer,H,J[2]);
if(f==0)K=_;else if(f==1)K=pako.inflate(_);else if(f==2)K=cb.LB.VW(_,J[1]);else throw f;if(Z==0){if(F==1)R(K);
if(F==2)throw"e"}else throw Z;U[J[4]]=K}return U}function G(k){var $=E(new Uint8Array(k));n=$["doc.dat"];
H=16;var p={};v(p,0,[]);return[$,p,h]}return{ae5:G}}();function hN(){}hN.V2=function(){function w(b,z){var v=Date.now(),T=jB.ae5(b),Y=T[0],g=T[1],R=T[2],h=g.DocR,E=h.DfSz,G=h.Chld;
if(G.length!=1)throw"e";var k=G[0],$=k.SprB;G=k.Chld;z.m=~~$[2];z.e=~~$[3];z.buffer=O.R(z.m*z.e*4);var p=[0,{}];
for(var l=0;l<G.length;l++)c(G[l],z,Y,new b7,p,0);z.kA(p[0]);console.log(Date.now()-v,"Document created");
v=Date.now()}function n(b){return new b7(b[0],b[3],b[1],b[4],b[2],b[5])}function H(b,z){var v=z.Xfrm;
v=v?n(v):new b7;v.concat(b);return v}function y(b){var z={0:"norm",1:"dark",2:"mul ",3:"idiv",196613:"lbrn",65538:"dkCl",4:"lite",5:"scrn",6:"div ",7:"lddg",65542:"lgCl",8:"over",9:"sLit",10:"hLit",11:"vLit",65551:"lLit",12:"pLit",13:"hMix",14:"diff",15:"smud",16:"fsub",262165:"fdiv",17:"hue ",18:"sat ",20:"colr",19:"lum "}[b];
return z?z:"norm"}function c(b,z,v,T,Y,g){var R=b._type,h=b.Chld,E=z.mX();E.nY(b.Desc==null||b.Desc==""?R=="Grup"?"Folder":"Layer":b.Desc);
E.WH(b.Visi);E.opacity=Math.round(255*b.Opac);if(b.FOpc!=1)E.add.iOpa=Math.round(255*b.FOpc);var G=b.Blnd;
if(G!=null)E.UM=y(G);var k=H(T,b),$=R=="ShpN"||R=="PCrv";if(h){z.B.push(z.C$());E.add.lsct=c0.q8;E.UM="pass";
E.Vg=24;if(R=="ShpN"){var p=b.ShpB;E.ws(new cr(p[0]+k.qH,p[1]+k.fp,p[2]-p[0],p[3]-p[1]));Y[0]++;E.add.artb.Clr={t:"Objc",v:O.M.Yw({b:255,J:255,k:255})}}for(var l=0;
l<h.length;l++)c(h[l],z,v,k,Y,g+1)}else if(R=="Rstr"||R=="ImgN"||R=="MRst"){var X=b.Bitm,C=X.Bckg,D=Date.now(),o;
if(C==null){o=V(X,v,Y[1]);E.rect=o[2].clone();E.buffer=o[1].slice(0);E.rect.x+=k.qH;E.rect.y+=k.fp}if(C||k.H5()!=1){var t,u=0,m=0;
if(C){var U=v[C.Data],I=j.OA(U,"ataD")+4,x=j.U5(U,I);I+=4;t=U.slice(I,I+x)}else{u=E.rect.x-k.qH;m=E.rect.y-k.fp;
if(o[3]==null)o[3]=new Uint8Array(cb.Mn("PNG").vd([[E.buffer.buffer]],E.rect.m,E.rect.e));t=o[3].slice(0)}var J=z.rR(t,E.getName(),0,0);
J.Vg=E.Vg;J.opacity=E.opacity;E=J;var r=new b7;r.translate(u,m);r.concat(k);var Z=E.rect.clone();Z.x=Z.y=0;
var f=O.p.u3(Z).w;O.p.D(f,r,f);E.add.SoLd.Trnf=P.WJ.w2(f);E.add.SoLd.nonAffineTransform=P.WJ.w2(f);E.W0(z,!1)}}else if(R=="TxtA"||R=="TxtF"){E.add.lnsr="rend";
E.add.TySh=j1.d2(0,0);E.add.TySh.oo=new cr(0,0,100,100);var F=b.TxtH.FrmB,_=new b7,W=0;_.translate(F[0],F[1]);
_.concat(k);E.add.TySh.D=_;var K=E.add.TySh.EB,B=b.StSt,ij=B.Blok;if(ij.length!=1)throw"e";for(var L=0;
L<ij.length;L++){var i=ij[L],e3=W,eE=0,ec=i.Glyp.Utf8;ec=ec.replace(/\u2028/g,"\n");ec=ec.replace(/\u2029/g,"\n");
ec=ec.slice(0,ec.length-1);j1.Uq(K,W,ec);W+=ec.length;var gw=i.GAtt.Runs,bl=i.PAtt.Runs[0],cD=bl.Item.Ints[0];
for(var a$=0;a$<gw.length;a$++){var hJ=gw[a$],ei=hJ.Indx,df=hJ.Item,bM=df.Objs,ib=j1.ni(K,e3,1);ib.AW.Justification=cD==0?0:cD==1?2:1;
j1.Ho(ib,df.DFnt.Post);ib.tq.FontSize=df.Doub[0];for(var l=0;l<bM.length;l++){var fI=bM[l];if(fI._type=="FDsc"){var eU=fI.FDeF;
if(eU._type=="FilS"){var gK=A(eU.Colr);ib.tq.FillColor={Type:1,Values:[1,gK[0],gK[1],gK[2]]}}}}j1.Xe(K,e3+eE,e3+Math.min(ei,ec.length),ib);
eE=ei}}j1.mn(K,1);j1.wr(K,[0,0,Math.round(F[2]-F[0]),Math.round((F[3]-F[1])*1.2)]);z.se=!0}else if($){E.Vg|=16;
var bs=E.add.vstk=JSON.parse(JSON.stringify(d5.Ed.default));bs.strokeEnabled.v=!1;var km=E.add.vmsk=Q(b);
O.r._R(km.i,k);if(b.BFFl){var aJ=b.BFFl[0].FDeF,ip=aJ._type;if(ip=="FilS")E.add.SoCo={classID:"null",Clr:S(aJ.Colr)};
else if(ip=="FilG"){var fl=E.add.GdFl=JSON.parse(d5.FK[d5.order.indexOf("GrFl")]);q(aJ,fl)}else if(ip=="FilN"){E.add.SoCo={classID:"null",Clr:{t:"Objc",v:O.M.Yw({b:0,J:0,k:0})}};
bs.fillEnabled.v=!1}else console.log(ip)}if(b.LILn){var b3=b.LILn[0].LDeL,dY=b3.Wght;if(dY!=0){bs.strokeEnabled.v=!0;
bs.strokeStyleLineWidth.v.val=dY;var aJ=b.LIFl[0].FDeF,ip=aJ._type;if(ip=="FilS")bs.strokeStyleContent.v.Clr=S(aJ.Colr);
else if(ip=="FilN")bs.strokeEnabled.v=!1}}E.cv();E.qL(z)}else console.log(R);var k4=b.AdCh,aK=[];if(k4)for(var l=0;
l<k4.length;l++){var jK=k4[l],ay=jK._type;if(ay=="ShpN"||ay=="PCrv"){var km=E.add.vmsk=Q(jK),f8=H(k,jK);
O.r._R(km.i,f8);E.cv();E.qL(z)}else if(jK.AdjP){var gN=jK.AdjP,d4=gN._type,bK={LevP:"levl",WhBP:"levl",SHiP:"curv",HSSP:"hue2",RecP:"hue2","B&WP":"blwh","B&CP":"brit",PosP:"post",VibP:"vibA",ExpP:"expA",ThrP:"thrs",CrvP:"curv"}[d4];
if(bK==null){console.log(gN);continue}var hf=gT.JM(bK,{});aK.push(hf);var bC=hf.v.Fltr.v;if(d4=="LevP"){var dn=i7.$k(bC,0);
dn[0]=gN.OutB*255;dn[1]=gN.OutW*255;i7.UN(bC,0,dn)}else if(d4=="WhBP"){var dn=i7.$k(bC,2);dn[4]=100+gN.WBTi*20;
i7.UN(bC,2,dn);var dn=i7.$k(bC,3);dn[4]=100+gN.WBTi*200;i7.UN(bC,3,dn)}else if(d4=="HSSP"){var dn=fm.$k(bC,0);
dn[0]=Math.round(gN.HueA*256);dn[1]=Math.round(gN.SatA*256);dn[2]=Math.round(gN.LumA*256);fm.UN(bC,0,dn)}else if(d4=="RecP"){bC.Clrz.v=!0;
var dn=fm.$k(bC,0);dn[0]=Math.round(gN.RecH*100);dn[1]=Math.round(gN.RecS*100);dn[2]=Math.round(gN.RecL*100);
fm.UN(bC,0,dn)}else if(d4=="B&CP"){bC.Brgh.v=Math.round(gN.Brig*100);bC.Cntr.v=Math.round(gN.Ctrs*100-100)}else if(d4=="PosP"){bC.Lvls.v=gN.Post}else if(d4=="VibP"){bC.vibrance.v=gN.Vibr-100;
bC.Strt.v=Math.round(gN.Satu*100)}else if(d4=="ExpP"){bC.Exps.v=gN.Expo;bC.gammaCorrection.v=gN.Gamm/2.2}else if(d4=="ThrP"){bC.Lvl.v=Math.round(gN.Thre*255)}else if(d4=="CrvP"){var fq=gN.Mast["Cnt "],jN=gN.Mast.Vals,dn=aC.$k(bC,0),cU=dn[0];
for(var jb=0;jb<fq;jb++){var ac=dn[jb]=JSON.parse(JSON.stringify(cU));ac.v.Hrzn.v=Math.round(jN[jb]*255);
ac.v.Vrtc.v=Math.round(jN[4+jb]*255)}aC.UN(bC,0,dn)}}else console.log(jK)}if(aK.length!=0&&E.add.SoLd){E.add.SoLd.filterFX=gT.RS();
z.rr({id:E.add.SoLd.placed.v,rect:new cr,buffer:O.R(1),z:new a.ZV});E.add.SoLd.filterFX.v.filterFXList.v=aK;
E.W0(z,!1)}var a_=b.FiEf;if(a_&&a_.length!=0){var h5=E.add.lmfx=JSON.parse(d5.default);for(var l=0;l<d5.order.length;
l++)h5[d5.tS[l]]={t:"VlLs",v:[]};for(var jz=0;jz<a_.length;jz++){var jj=a_[jz],jy=jj._type,g0={ColO:"SoFi",GrdO:"GrFl",Shad:"DrSh",InnS:"IrSh",OutG:"OrGl",InnG:"IrGl",Strk:"FrFX",PhgB:"ebbl",BevE:"ebbl"}[jy],fl=g0?JSON.parse(d5.FK[d5.order.indexOf(g0)]):null;
if(jy=="ColO"){fl.Clr=S(jj.Colr)}else if(jy=="GrdO"){q(jj.GrFl.FDeF,fl)}else if(jy=="Shad"||jy=="InnS"||jy=="OutG"||jy=="InnG"){fl.Clr=S(jj.Colr);
fl.blur.v.val=Math.round(jj.Radi/2.4);if(jj.Offs!=null){fl.Dstn.v.val=jj.Offs;fl.lagl.v.val=Math.round(180-jj.Angl*180/Math.PI);
fl.uglg.v=!1}}else if(jy=="Strk"){fl.Clr=S(jj.Colr);fl.Sz.v.val=Math.round(jj.Radi)}else if(jy=="PhgB"||jy=="BevE"){fl.blur.v.val=Math.round(jj.Radi);
if(jy=="BevE")fl.bvlS.v.BESl="PlEb"}else if(jy=="Gaus"){if($&&jj.Enab){E.add.vmsk.Hk=jj.Radi/2.4;E.add.vmsk.Yh=!0;
E.cv();E.qL(z)}}if(g0){fl.enab.v=jj.Enab;if(fl.Md&&jj.BlnM!=null)fl.Md.v.BlnM=eS.Yf(y(jj.BlnM));if(fl.Opct&&jj.Opac!=null)fl.Opct.v.val=Math.round(jj.Opac*100);
var bt=d5.tS[d5.order.indexOf(g0)];h5[bt].v.unshift({t:"Objc",v:fl})}}}z.B.push(E)}function Q(b){var z=new a.TB,v=b._type;
if(v=="PCrv"){var T=b.Crvs.Data,Y=[],g=[];for(var l=0;l<T.length;l++){var R=T[l],h=R.length%3;if(h!=1){R=h==2?R[0][2]!=0?R.slice(0,R.length-1):R.slice(1):R.slice(1,R.length-1)}for(var E=0;
E<R.length;E++){var G=R[E],k=G[2];if(k!=0)Y.push(E==0?"M":"C");g.push(G[0],G[1])}}z.i=O.p.KL({w:g,T:Y},!0)}else{var $=b.ShpB,p=b.Shpe,X=p._type,C=$[2]-$[0];
if(X=="ShpE"){z.i=O.r.yj.r1($[0],$[1],$[2]-$[0],$[3]-$[1])}else if(X=="ShNR"){var D=[0,0,0,0];if(p.CTyp){D=p.ShCR.slice(0);
for(var l=0;l<4;l++)D[l]*=$[2]-$[0]}z.i=O.r.yj.Rect($[0],$[1],$[2]-$[0],$[3]-$[1],D)}else if(X=="ShpT"){z.i=O.p.KL({T:["M","L","L","Z"],w:[$[0],$[3],$[2],$[3],$[0]+C*.5,$[1]]},!0)}else if(X=="ShTz"){z.i=O.p.KL({T:["M","L","L","L","Z"],w:[$[0]+C*p.PosL,$[1],$[0]+C*p.PosR,$[1],$[2],$[3],$[0],$[3]]},!0)}else{console.log("--",X);
z.i=O.r.yj.Rect($[0],$[1],$[2]-$[0],$[3]-$[1],[0,0,0,0])}}return z}function q(b,z){var v=b.Grad,T=v.Cols;
z.Type.v.GrdT=b.Type==0?"Lnr":"Rdl";var Y=[];for(var l=0;l<T.length;l++){var g=A(T[l]);Y.push([v.Posn[l][0],g])}z.Grad.v.Intr.v=0;
O.M.Wm(Y,z.Grad.v);var R=v.Posn,h=new ce(R[0][0],R[0][1]),E=new ce(R[1][0],R[1][1]);if(b.Type==0)h=new ce((h.x+E.x)/2,(h.y+E.y)/2);
O.M.yK(h,E,new cr(0,0,1,1),z)}function S(b){var z=A(b);return{t:"Objc",v:O.M.Yw({b:z[0]*255,J:z[1]*255,k:z[2]*255})}}function A(b){var z=b._col,v=b._type;
if(v=="HSLA"){var T=O.EY(z[0],z[1],z[2]);return[T.b,T.J,T.k,z[3]]}else if(v=="RGBA")return z;else if(v=="CMYK"){var Y=1-z[3];
return[(1-z[0])*Y,(1-z[1])*Y,(1-z[2])*Y]}else if(v=="GRAY")return[z[0],z[1],z[2]];else{console.log(z);
throw v}}function V(b,z,v){var T=b.Frmt,C="";if(T!=0&&T!=4&&T!=6)throw T;var Y=b.BmpW,g=b.BmpH,R=T==4?5:T==0?4:1,h=Math.ceil(Y/256),E=Math.ceil(g/256),G=new cr(0,0,h,E),k=new cr;
for(var l=0;l<R;l++){var $=new Uint8Array(b["Sta"+(l+1)]),p=O.zX($,G);k=k.ld(p)}var X=[];for(var l=0;
l<R;l++){var $=new Uint8Array(b["Sta"+(l+1)]),D=O.R(k.O());O.qS($,G,D,k);X[l]=[];for(var o=0;o<D.length;
o++)X[l][o]=D[o];C+=JSON.stringify(X[l])+","+JSON.stringify(b["Idx"+(l+1)])+","}if(v[C]==null){var t=k.m*256,u=k.e*256,m=new Array(R);
for(var l=0;l<R;l++){var $=m[l]=new Uint8Array(t*u);e($,b["Idx"+(l+1)],X[l],z,t,u)}var U=O.R(t*u*4);
if(T==0)O.HR({b:m[0],J:m[1],k:m[2],iL:m[3]},U);else if(T==4){for(var l=0;l<m[0].length;l++){var I=l*4,x=m[0][l]*(1/255),J=m[1][l]*(1/255),r=m[2][l]*(1/255),Z=m[3][l]*(1/255),f=UDOC.C.cmykToRgb([x,J,r,Z]);
U[I]=f[0]*255;U[I+1]=f[1]*255;U[I+2]=f[2]*255;U[I+3]=m[4][l]}}else{U.fill(255);O.Bk(m[0],U)}var F=new cr(0,0,t,u),_={buffer:U,rect:F};
O.Vu(_);v[C]=[_.rect,_.buffer]}var p=v[C][2]=v[C][0].clone();p.x+=k.x*256;p.y+=k.y*256;return v[C]}function e(b,z,v,T,Y,g){var R=0,h=Y>>>8,E=g>>>8;
for(var G=0;G<E;G++)for(var k=0;k<h;k++){var $=k*256,p=G*256,X=G*h+k,C=p*Y+$,D=v[X];if(D<=1)d(b,C,0,Y,256,256);
else if(D==2)d(b,C,4294967295,Y,256,256);else if(D==4){var o=z[R];R++;var t=T[o.Data.DatI],u=o.Rect;
if(u==null)u=[0,0,256,256];d(b,C,0,Y,256,256);N(b,(p+u[1])*Y+$+u[0],t,u[1]*256+u[0],Y,256,u[2]-u[0],u[3]-u[1])}else console.log(D)}}function d(b,z,v,T,Y,g){var R=z+T*g;
for(;z<R;z+=T){var h=z+Y;for(var E=z;E<h;E++){b[E]=v}}}function N(b,z,v,T,Y,g,R,h){var E=z+Y*h,G=T+g*h;
for(;z<E&&T<G;z+=Y,T+=g){for(var l=0;l<R;l++)b[z+l]=v[T+l]}}return w}();function iX(){}iX.V2=function(w,n){var H=iX,y=cg.parse(w),Q=0;
if(y.pages.length>1)console.log(y.pages.length,"pages");var c=[],q=new cr;for(var S=0;S<y.pages.length;
S++){var A=y.pages[S],V=A.layers,e=H.hH(V,S),N=!1;if(e.O()>8e3*8e3||e.m>3e4||e.e>3e4){H.aeQ(V,!0);var d=H.hH(V,S);
if(d.O()>=e.O())H.aeQ(V,!1)}e=H.hH(V,S);for(var b=0;b<V.length;b++){var z=V[b];if(H.c2(z)=="artboard")N=!0}if(!N){console.log("no artboard");
var v={};for(var T in A)v[T]=A[T];v._class="group";A.layers=[v]}c.push(e.clone());if(e._G())continue;
e.x=0;e.y=Q;Q+=e.e+200;q=q.ld(e)}var Y={};if(y.foreignSymbols)for(var l=0;l<y.foreignSymbols.length;
l++){var g=y.foreignSymbols[l].symbolMaster;Y[g.symbolID]={mq:g}}H.amU(y.pages,Y,n);for(var R in Y){var z=Y[R].mq,h=H.a1G(z.layers)}var E=iX.Ab(q,8192*8192);
n.se=!0;n.m=Math.round(q.m/E);n.e=Math.round(q.e/E);n.buffer=O.R(n.m*n.e*4);n.kA(y.pages[0].layers.length);
n.Oe={};n.NE=[];Q=0;for(var S=0;S<y.pages.length;S++){var G=y.pages[S],e=c[S],k=new b7(E,0,0,E,e.x,e.y-Q);
H.PA(G.layers,n,k,y,Y,{},[]);Q+=e.e+200}delete n.Oe;delete n.NE;if(E!=1)alert("File scaled down "+E+"x");
n.atx()};iX.akX=0;iX.c2=function(w){return w._class?w._class:w.$class};iX.Ab=function(w,n){var H=1;while(Math.round(w.m/H)*Math.round(w.e/H)>n||Math.max(Math.round(w.m/H),Math.round(w.e/H))>3e4)H++;
if(H!=1&&!window.confirm("Your image is quite large ("+w.m+" x "+w.e+" px).\n"+"Press OK to scale it down "+H+"x, or Cancel to keep the size."))H=1;
return H};iX.hH=function(w,n){var H=[],y=iX;for(var c=0;c<w.length;c++){var Q=w[c],q=y.S9(Q.frame);if(n==0||y.c2(Q)=="artboard")H.push(q)}return O.rect.XK(H)};
iX.aeQ=function(w,n){var H=[],y=iX;for(var c=0;c<w.length;c++){var Q=w[c],q=y.S9(Q.frame);q.m+=150;q.e+=150;
H.push(q)}var S=O.rect.XK(H);O.rect.atk(H,n);var A=O.rect.XK(H);if(A.O()*1.5<S.O()||S.m>3e4&&A.m<=3e4||S.e>3e4&&A.e<=3e4){alert("Re-arranging artboards");
for(var c=0;c<w.length;c++){var V=H[c],Q=w[c],e=Q.frame;e.x=V.x;e.y=V.y}}};iX.amU=function(w,n,H){var y=iX;
for(var c=0;c<w.length;c++){var Q=w[c],q=y.c2(Q);if(["page","artboard","group"].indexOf(q)!=-1)y.amU(Q.layers,n,H);
else if(q=="symbolMaster")n[Q.symbolID]={mq:Q}}};iX.a1G=function(w){var n=iX;for(var H=0;H<w.length;
H++){var y=w[H],c=n.c2(y),Q=null;if(["page","artboard","group"].indexOf(c)!=-1)Q=n.a1G(y.layers);if(c=="symbolMaster"||c=="symbolInstance")Q=y;
if(Q!=null)return Q}return null};iX.PA=function(w,n,H,y,c,Q,q){var S=iX,A=[];for(var V=0;V<w.length;
V++){var e=w[V],d=e.frame?S.S9(e.frame):null,N=e.style,Y="",k=null,$=!1;if(N==null){console.log("no styles")}var b=S.abT(e,H),z=S.c2(e),v=z=="shapeGroup"||z=="shapePath"||z=="rectangle"||z=="oval"||z=="triangle"||z=="polygon",T=["page","artboard","group"].indexOf(z)!=-1;
if(z=="shapeGroup"){for(var l=0;l<e.layers.length;l++)if(S.c2(e.layers[l])=="shapeGroup")T=!0}var g=e.exportOptions;
if(g){var R=g.exportFormats;if(R==null)R=g.sizes;if(z!="artboard"&&(R&&R.length!=0)){var h=R[0].scale}}var E=n.mX();
E.WH(e.isVisible);var G=e.name;if(!(typeof G=="string"))G=z;E.nY(Y+G.slice(0,250));if(N!=null)k=S.adR(y,n,N,d,b,E.getName(),v||z=="artboard"||T);
if(z=="rectangle"&&N&&N.fills&&N.fills[0]){var p=N.fills[0];if(p.fillType==4&&p.patternFillType>1&&p.image!=null)$=!0}if(e.shouldBreakMaskChain){while(A.length!=0)S.aqm(A.pop(),n)}if(T){E.add.lsct=e.layerListExpandedType==2?c0.q8:c0.$g;
E.UM="pass";E.Vg=24;E.WH(e.isVisible);n.B.push(n.C$());if(z=="artboard"){var X=d.clone(),C=b.H5();X.x=-Math.floor(b.qH/C);
X.y=-Math.floor(b.fp/C);X.m=Math.floor(X.m/C);X.e=Math.floor(X.e/C);E.ws(X);var D=e.backgroundColor,o=D?{b:255*D.red,J:255*D.green,k:255*D.blue}:{b:255,J:255,k:255};
E.add.artb.Clr={t:"Objc",v:O.M.Yw(o)};E.add.artb.artboardBackgroundType={t:"long",v:4}}S.PA(e.layers,n,b,y,c,Q,q)}else if(v&&!$){E.add.vmsk=new a.TB;
E.add.vstk=JSON.parse(JSON.stringify(d5.Ed.default));var t=k!=null&&k.frameFXMulti.v.length==1,u=N?N.fills:null,m=N?S.aar(y,u,d,b,E.getName(),n,S.Bz(q,e.do_objectID+"_image")):[];
if(m.length==0){if(t)E.add.vstk.fillEnabled.v=!1;else E.add.iOpa=0;E.add.SoCo={classID:"null",Clr:{t:"Objc",v:O.M.Yw({b:0,J:0,k:0})}}}else{var U=m[0],I=null,x=null;
if(U.type=="SoFi"){I="SoCo";x=d5.jG}if(U.type=="GrFl"){I="GdFl";x=d5.B6}if(U.type=="patternFill"){I="PtFl";
x=d5.sY}if(I!=null){E.add[I]={classID:"null"};for(var l=0;l<x.length;l++){var J=x[l];E.add[I][J]=U.Z.v[J]}var r=U.Z.v.Opct.v.val;
if(t&&r==0)E.add.vstk.fillEnabled.v=!1;else E.add.iOpa=Math.round(255*r/100)}}E.Vg|=16;E.add.vmsk.i=S.b9(e.layers?e.layers:[e],e.layers?b:H);
var Z=N?N.blur:null;if(Z&&Z.isEnabled&&Z.type<=1)E.add.vmsk.Hk=Z.radius;if(E.add.vmsk.i.length==2){console.log("shape with no content:",E.getName())}if(t){var f=k.frameFXMulti.v[0].v,F=E.add.vstk,_=N.borders[0];
k.frameFXMulti.v=[];hO.a8A(f,F);var K=N.borderOptions,B=N.miterLimit;if(K){var ij=K.dashPattern;F.strokeStyleLineCapType.v.strokeStyleLineCapType=d5.Ed.pv[K.lineCapStyle];
F.strokeStyleLineJoinType.v.strokeStyleLineJoinType=d5.Ed.join[K.lineJoinStyle];if(ij)F.strokeStyleLineDashSet.v=hO.f5(ij,1/f.Sz.v.val);
if(B!=null)F.strokeStyleMiterLimit.v=B}}E.cv();E.qL(n)}else if(z=="bitmap"||$){if(!$&&e.image==null)continue;
var W=$?N.fills[0]:null,L=$?W.image.bdata:e.image.bdata,i=n.rR(L,E.getName(),0,0);i.Vg=E.Vg;E=i;var Z=N?N.blur:null,e3=N?N.colorControls:null;
if(Z||e3){E.add.SoLd.filterFX=gT.RS();n.rr({id:E.add.SoLd.placed.v,rect:new cr,buffer:O.R(1),z:new a.ZV});
var u=E.add.SoLd.filterFX.v.filterFXList.v;if(Z){var eE=gT.JM("GsnB",{});eE.v.enab.v=Z.isEnabled;eE.v.Fltr.v.Rds.v.val=Z.radius;
u.push(eE)}if(e3){var ec=e3.brightness,gw=e3.contrast,bl=e3.hue,cD=e3.saturation;if(bl!=0||cD!=1){var eE=gT.JM("hue2",{});
eE.v.enab.v=e3.isEnabled;fm.UN(eE.v.Fltr.v,0,[Math.round(bl*180/Math.PI),Math.round((cD-1)*100),0]);
u.push(eE)}if(ec!=0||gw!=1){var eE=gT.JM("brit",{});eE.v.enab.v=e3.isEnabled;gw=gw-1;if(gw>0)gw/=2;var a$=eE.v.Fltr.v;
a$.Brgh.v=Math.round(ec*255);a$.Cntr.v=Math.round(gw*255);a$.useLegacy.v=!0;u.push(eE)}}}if($){var hJ=W.patternFillType;
if(hJ==3){var ei=E.rect.m/E.rect.e,df=d.m/d.e;if(ei<df){b.translate(-(d.m*(1-ei/df))/2,0);b.scale(df/ei,1)}else{b.translate(0,-(d.e*(1-df/ei))/2);
b.scale(1,ei/df)}}}d.x=d.y=0;var bM=O.p.u3(d).w;b.G$();O.p.D(bM,b,bM);E.add.SoLd.Trnf=P.WJ.w2(bM);E.add.SoLd.nonAffineTransform=P.WJ.w2(bM);
E.W0(n,!1)}else if(z=="text"){if(e.attributedString==null)continue;var ib=b.clone(),fI,eU,ip=0;ib.G$();
ib.iL=ib.Du=Math.min(ib.iL,ib.Du);E.add.lnsr="rend";E.add.TySh=j1.d2(0,0);E.add.TySh.oo=new cr(0,0,d.m,d.e);
E.add.TySh.D=ib;var gK=e.attributedString;if(gK.archivedAttributedString)gK=gK.archivedAttributedString;
var bs=gK.NSString;if(bs==null)bs=gK.string;if(bs==null)bs="";if(bs["NS.string"])bs=bs["NS.string"];
if(Q[e.do_objectID]!=null)bs=Q[e.do_objectID];var km=S.Bz(q,e.do_objectID+"_stringValue");if(km)bs=km.value;
if(gK.attributes!=null){fI=[];eU=[];var aJ=gK.attributes;for(var l=0;l<aJ.length;l++){fI.push(aJ[l].length,l);
eU.push(aJ[l].attributes)}}else if(gK.NSAttributeInfo==null){fI=[bs.length,0];eU=[gK.NSAttributes]}else{fI=gK.NSAttributeInfo["NS.data"];
eU=gK.NSAttributes;fI=iX.aol(fI,eU)}for(var l=0;l<fI.length;l+=2)ip+=fI[l];if(ip!=bs.length){while(ip>bs.length){fI[fI.length-2]--;
ip--;if(fI[fI.length-2]==0){fI.pop();fI.pop()}}fI[fI.length-2]+=bs.length-ip}bs=bs.replace(/\u2028/g,"\n");
bs=bs.replace(/\u2029/g,"\n");bs=bs.replace(/\r/g,"\n");var fl=E.add.TySh.EB;j1.Uq(fl,0,bs);if(bs!=""){var b3=e.textBehaviour,dY=N.textStyle,k4=dY?dY.verticalAlignment:0,aK=S.ac_(fl,fI,eU,bs),C=ib.H5(),jK=j1.ni(fl,0,1),gN=0;
if(jK.tq.Font){var ay=jK.II[jK.tq.Font].Name;if(ay=="FontAwesome"||ay=="Ionicons")aK*=.87}var f8=jK.tq.AutoLeading?0:jK.tq.Leading*.6,d4=Math.max(aK,f8)*C,bK=d.m,bC=d.e;
if(b3==0){j1.mn(fl,0);var gW=j1.lk(jK.AW);if(gW==1)gN=bK*C;if(gW==2)gN=bK*C*.5;if(k4==0)d4*=1;else d4*=.9}else{j1.mn(fl,1);
j1.wr(fl,[0,0,Math.round(bK),Math.round(bC)]);if(b3==2&&k4==0)d4=d4*.2;else if(b3==2&&k4==1){d4=C*.5*(bC-jK.tq.FontSize)}else if(b3==1&&k4==0)d4=d4*.2;
else d4=d4*.35}E.add.TySh.D.translate(gN,d4)}}else if(z=="symbolInstance"||z=="symbolMaster"){var dn=e.symbolID;
if(Q[e.do_objectID])dn=Q[e.do_objectID].symbolID;var jN=S.Bz(q,e.do_objectID+"_symbolID");if(jN)dn=jN.value;
if(dn=="")continue;var jb={};for(var J in Q)jb[J]=Q[J];if(e.overrides)for(var J in e.overrides)jb[J]=e.overrides[J];
var ac=q.slice(0);if(e.overrideValues)ac=ac.concat(e.overrideValues);var a_=c[dn];if(a_==null){console.log("Unknown master master",e.symbolID);
continue}var h5=iX.S9(a_.mq.frame),jz=h5.m/d.m,jj=h5.e/d.e,jy=b.clone();jy.scale(jz,jj);E.add.lsct=c0.$g;
E.UM="pass";E.Vg=24;E.WH(e.isVisible);n.B.push(n.C$());var g0=a_.mq;if(n.NE.indexOf(g0)==-1){n.NE.push(g0);
S.PA(g0.layers,n,jy,y,c,jb,ac);n.NE.pop()}}else if(z=="slice"){console.log("slice layers are ignored by now");
continue}else{console.log("unknown layer type: "+z,e);continue}if(N&&N.contextSettings){var bt=N.contextSettings,kl=bt.blendMode;
if(kl<S.fR.length){E.UM=eS.$Q[eS.HN.indexOf(S.fR[kl])];if(T&&E.UM=="norm")E.UM="pass"}E.opacity=Math.round(E.opacity*bt.opacity)}if(k!=null){E.add.lmfx=k}n.B.push(E);
if(e.hasClippingMask&&w.length>1){A.push(E);n.B.push(n.C$())}}while(A.length!=0)S.aqm(A.pop(),n)};iX.Bz=function(w,n){for(var l=0;
l<w.length;l++)if(w[l].overrideName.startsWith(n))return w[l]};iX.aol=function(w,n){var H=0,y=[];while(H+1<w.length){var c=w[H];
H++;if(c>127){c+=128*(w[H]-1);H++;if(w[H-1]>127){c+=128*(w[H]-1);H++}}var Q=w[H];H++;y.push(c,Q)}return y};
iX.ac_=function(w,n,H,y){var c=iX,Q=0,e=0,d=0;for(var l=0;l<y.length;l++){var q=y.charCodeAt(l),S=1473<=q&&q<=1479||1488<=q&&q<=1514||1520<=q&&q<=1524,A=1569<=q&&q<=1594||1600<=q&&q<=1749;
if(S||A)Q++}var V=Q>y.length/2;for(var l=0;l<n.length;l+=2){var N=n[l],E=14,G="DejaVuSans";if(N==0)continue;
var b=n[l+1],z=H[b],v=j1.ni(w,e,e+N-1),T=z.NSColor;if(T==null){var T=z.MSAttributedStringColorDictionaryAttribute;
if(T==null)T=z.MSAttributedStringColorAttribute;if(T==null)T="0 0 0";else T=[T.red,T.green,T.blue].join(" ")}else if(c.c2(T)=="MSArchivedColor")T=T.dr+" "+T.dg+" "+T.db;
else if(T.NSRGB){T=T.NSRGB;T=j.QN(T,0,T.length-1)}else if(T.NSCMYK){T=T.NSCMYK;T=j.QN(T,0,T.length-1);
T=T.split(" ").map(parseFloat);var Y=1-T[0],g=1-T[1],R=1-T[2],h=1-T[3];T=Y*h+" "+g*h+" "+R*h}else if(T.NSWhite){T="1 1 1"}T=T.split(" ");
v.tq.FillColor={Type:1,Values:[1,parseFloat(T[0]),parseFloat(T[1]),parseFloat(T[2])]};var k=z.MSAttributedStringFontAttribute;
if(z.NSFont){E=z.NSFont.NSSize;G=z.NSFont.NSName}else if(k){if(k.attributes){k=k.attributes;E=k.size;
G=k.name}else{var $=k.NSFontDescriptorAttributes;if($==null)$=k.UIFontDescriptorAttributes;k=$;E=k.NSFontSizeAttribute;
G=k.NSFontNameAttribute}if(G==null)G="DejaVuSans"}var d=Math.max(d,E);v.tq.FontSize=Math.round(E);j1.Ho(v,G);
var p=z.NSKern;if(p==null)p=z.kerning;if(p!=null)v.tq.Tracking=Math.round(1e3*p/E);if(z.NSUnderline!=null)v.tq.Underline=z.NSUnderline>0;
var X=z.NSStrikethrough;if(X==null)X=z.strikethroughStyle;if(X!=null)v.tq.Strikethrough=X>0;if(z.MSAttributedStringTextTransformAttribute==1)v.tq.FontCaps=2;
var C=z.NSParagraphStyle;if(C==null)C=z.paragraphStyle;if(C){var D=C.paragraphSpacing;if(D!=null){v.AW.SpaceAfter=D}var o=C.NSAlignment;
if(o==null)o=C.alignment;if(o!=null){var t=0;if(!1){}else if(o==1)t=1;else if(o==2)t=2;else if(o==4)t=0;
else{t=o;console.log("unknown align",o)}if(V&&t<2)t=1-t;v.AW.Justification=t}var u=C.NSMinLineHeight;
if(u==null)u=C.minimumLineHeight;if(u!=null){v.tq.AutoLeading=!1;v.tq.Leading=u}}v.AW._Direction=V?1:0;
j1.Xe(w,e,e+N,v);e+=N}return d};iX.adR=function(w,n,H,y,c,Q,q){var S=iX,A=JSON.parse(d5.default),V=!1;
for(var l=0;l<d5.order.length;l++)A[d5.tS[l]]={t:"VlLs",v:[]};var e=H.fills,d=S.aar(w,e,y,c,Q,n);for(var N=0;
N<2;N++){var b=H[["shadows","innerShadows"][N]];if(b==null)continue;var z=["DrSh","IrSh"][N],v=d5.tS[d5.order.indexOf(z)];
for(var l=0;l<b.length;l++){var T=b[l];if(!T.isEnabled)continue;if(T.contextSettings.opacity==0||T.color.alpha==0)continue;
var Y=JSON.parse(d5.FK[d5.order.indexOf(z)]);A[v].v.unshift({t:"Objc",v:Y});V=!0;Y.Clr.v=S.gM(T.color);
Y.blur.v.val=Math.round(T.blurRadius/c.H5());var g=c.clone();g.qH=g.fp=0;g.G$();var R=g.rY(new ce(T.offsetX,T.offsetY)),h=Math.sqrt(R.x*R.x+R.y*R.y);
Y.Dstn.v.val=Math.round(h);Y.lagl.v.val=Math.round(Math.atan2(R.y,-R.x)*(180/Math.PI));if(Y.layerConceals)Y.layerConceals.v=d.length!=0;
S.TU(T,Y)}}var E=H.borders;if(E!=null&&(d.length==0||H.blur==null||!H.blur.isEnabled))for(var l=0;l<E.length;
l++){var G=E[l];if(!G.isEnabled)continue;var Y=JSON.parse(d5.FK[d5.order.indexOf("FrFX")]),v=d5.tS[d5.order.indexOf("FrFX")];
A[v].v.unshift({t:"Objc",v:Y});V=!0;Y.Clr.v=S.gM(G.color);if(G.fillType!=0&&G.gradient){var k=S.cq(G.gradient,y,c,Q),$=["Type","Angl","Ofst","Scl"];
for(var l=0;l<$.length;l++)Y[$[l]]=k[$[l]];Y.Grad.v=k.Grad.v;Y.PntT.v.FrFl="GrFl"}Y.Sz.v.val=Math.round(G.thickness/c.H5());
Y.Styl.v.FStl=["CtrF","InsF","OutF"][G.position];S.TU(G,Y)}for(var l=q?1:0;l<d.length;l++){var p=d[l],v=d5.tS[d5.order.indexOf(p.type)];
A[v].v.unshift(p.Z);V=!0}return V?A:null};iX.aar=function(w,n,H,y,c,Q,q){if(n==null)return[];var S=iX,A=[];
for(var l=0;l<n.length;l++)if(n[l].isEnabled)A.push(n[l]);n=A;var V=[];for(var l=0;l<n.length;l++){var e=n[l],d=null,N=null;
if(e.fillType==0){d="SoFi";var b=JSON.parse(d5.FK[d5.order.indexOf("SoFi")]);N={t:"Objc",v:b};N.v.Clr.v=S.gM(e.color)}else if(e.fillType==1){d="GrFl";
N={t:"Objc",v:S.cq(e.gradient,H,y,c)}}else if(e.fillType==4&&e.image!=null){var z=e.image;if(q)z=q.value;
var v=cb.mj(z.bdata.buffer);if(v!=null&&v!="pdf"&&v!="eps"){var T,G=0,k=0,$=0;if(Q.Oe[z.key])T=Q.Oe[z.key];
else{var Y=cb.Mn(v)._N(z.bdata)[0],g=Y.Zg.clone();T={};T.id=iC.aX()+"-d71c-11e5-b1ae-a548a96e5f9f";T.name="someImage";
T.TP=[new Uint8Array(Y.data),g];Q.mv(T);Q.Oe[z.key]=T}var R=T.TP[1],b=JSON.parse(d5.FK[d5.order.indexOf("patternFill")]);
d="patternFill";N={t:"Objc",v:b};var h=e.patternFillType,E=e.patternTileScale;b.Algn.v=!0;b.Ptrn.v.Idnt.v=T.id;
if(h==0){G=E*R.m/Math.min(R.m,R.e);k=-y.qH;$=-y.fp}else{G=Math.max(H.m/R.m,H.e/R.e);k=-y.qH-(R.m*G-H.m)/2;
$=-y.fp-(R.e*G-H.e)/2}b.Scl.v.val=100*G*(1/y.H5());b.phase.v.Hrzn.v=Math.round(k/y.H5());b.phase.v.Vrtc.v=Math.round($/y.H5())}}else if(e.fillType==5){console.log("fill type Noise not supported yet")}else console.log("unknown fill type",e.fillType);
if(d!=null){S.TU(e,N.v);V.push({type:d,Z:N})}}return V};iX.alU=function(w){var n=iX,H=new cr(0,0,1,1);
w=w.slice(0);while(!0){var y=!1;for(var l=0;l<w.length-1;l++){var c=w[l],Q=w[l+1],q=null,S=c.contextSettings;
if(c.fillType==0&&(S==null||S.opacity==1&&S.blendMode==0)&&c.color.alpha==1){var A="norm",V=1,S=Q.contextSettings;
if(S){V=S.opacity;A=eS.Yi(n.fR[S.blendMode])}if(Q.fillType==0){q=JSON.parse(JSON.stringify(Q));n.aj$(q.color,c.color,q.color,H,A,V)}if(Q.fillType==1){q=JSON.parse(JSON.stringify(Q));
var e=q.gradient.stops;for(var d=0;d<e.length;d++)n.aj$(e[d].color,c.color,e[d].color,H,A,V)}if(q!=null&&q.contextSettings){var S=q.contextSettings;
S.opacity=1;S.blendMode=0}}if(q!=null){w.splice(l,0,q);y=!0;break}}if(!y||w.length<2)break}return w};
iX.aj$=function(w,n,H,y,c,Q){var q=iX,S=O.R(4);q.abW(w,S);var A=O.R(4);q.abW(n,A);O.q.SG(c,S,y,A,y,y,Q);
q.a9z(A,H)};iX.abW=function(w,n){n[0]=255*w.red;n[1]=255*w.green;n[2]=255*w.blue;n[3]=255*w.alpha};iX.a9z=function(w,n){n.red=w[0]/255;
n.green=w[1]/255;n.blue=w[2]/255;n.alpha=w[3]/255};iX.aqm=function(w,n){w=w.clone();w.Vg=24;w.nY("Mask by "+w.getName());
n.B.push(w);w.add.lsct=c0.q8;w.add.lyid=n.lb();delete w.add.lmfx;delete w.add.SoCo;delete w.add.GdFl;
delete w.add.PtFl;delete w.add.iOpa;if(w.add.vmsk)w.add.vmsk.Yh=!0;w.cv();w.qL(n);if((w.Vg&16)==16)w.Vg-=16;
if((w.Vg&2)==2)w.Vg-=2;w.UM="pass";w.opacity=255};iX.fR="Nrml Drkn Mltp CBrn Lghn Scrn CDdg Ovrl SftL HrdL Dfrn Xclu H Strt Clr Lmns linearBurn linearDodge".split(" ");
iX.cq=function(w,n,H,y){H=H.clone();H.G$();H.qH=H.fp=0;var c=H.H5(),N=0,b=0;H.scale(1/c,1/c);var Q=iX,q=JSON.parse(d5.FK[d5.order.indexOf("GrFl")]),S=q.Grad.v;
S.Intr.v=0;if(w==null)return q;var A=w.gradientType,V=Q.G4(w.from),e=Q.G4(w.to);V.offset(-.5,-.5);e.offset(-.5,-.5);
V=H.rY(V);e=H.rY(e);var d=Math.atan2(-(e.y-V.y),e.x-V.x);q.Type.v.GrdT=["Lnr","Rdl","Angl"][A];q.Scl.v.val=100*ce.Re(V,e);
if(A==0){q.Angl.v.val=180/Math.PI*d;q.Scl.v.val=100*ce.Re(V,e);N=(V.x+e.x)/2;b=(V.y+e.y)/2}if(A==1){q.Scl.v.val=200*ce.Re(V,e);
N=V.x;b=V.y}if(A==2){q.Angl.v.val=180/Math.PI*(d-Math.PI/2)}var z=q.Ofst.v;z.Hrzn.v.val=N*100;z.Vrtc.v.val=b*100;
var v=[];for(var l=0;l<w.stops.length;l++){var T=w.stops[l],Y=T.color;v.push([T.position,Y?[Y.red,Y.green,Y.blue]:[0,0,0],Y.alpha])}O.M.Wm(v,S);
return q};iX.TU=function(w,n){var H=iX,y=1,c=w.contextSettings;if(c!=null){n.Md.v.BlnM=H.fR[c.blendMode];
y*=c.opacity}else n.Md.v.BlnM=H.fR[0];n.enab.v=w.isEnabled;if(n.uglg!=null)n.uglg.v=!1;if(w.color!=null)y*=w.color.alpha;
n.Opct.v.val=Math.round(y*100)};iX.gM=function(w){return O.M.Yw(w?{b:w.red*255,J:w.green*255,k:w.blue*255}:{b:0,J:0,k:0})};
iX.b9=function(w,n){var H=iX,y=[{type:6},{type:8,all:0}];for(var c=0;c<w.length;c++){var Q=w[c],q=Q.booleanOperation,S=0,A=Q._class,z=!1;
if(A=="group"||A=="text"||A=="symbolInstance"||A=="slice"){console.log(A+" inside ShapeGroup");continue}if(q==-1)S=0;
else if(q==0)S=1;else if(q==1)S=2;else if(q==2)S=3;else if(q==3)S=0;if(c==0)S=1;var V=iX.S9(Q.frame),e=H.abT(Q,n),d=Q.path?Q.path:Q,N=[{type:0,length:0,NB:S,P0:2,Hj:0,jS:0}],b=d.points;
for(var l=0;l<b.length;l++){var v=b[l],T=H.G4(v.curveTo),Y=H.G4(v.point),g=H.G4(v.curveFrom);z=z||v.hasCurveFrom&&!g.Hw(Y)||v.hasCurveTo&&!T.Hw(Y)}var R=[];
if(!z){var h=[],ds=b.length;if(ds==0)continue;for(var l=0;l<ds;l++){R[l]=b[l].cornerRadius;var v=H.G4(b[l].point);
h.push(v.x,v.y)}e.scale(1/V.m,1/V.e);e.G$();O.p.D(h,e,h);N=O.r.yj.Uo(h,R).slice(2);N[0].NB=S}else{var E=b.length;
N[0].length=E;for(var l=0;l<E;l++){var v=b[l],G=v.curveMode,k=H.G4(v.point);N[1+l]={type:G==2||G==4?1:2,P7:v.hasCurveTo?H.G4(v.curveTo):k.clone(),H:k,f$:v.hasCurveFrom?H.G4(v.curveFrom):k.clone()}}e.scale(1/V.m,1/V.e);
e.G$();O.r._R(N,e);var R=[];for(var l=0;l<E;l++){var v=b[l],G=v.curveMode,$=v.cornerRadius;if(G==1&&$!=0)R.push($);
else R.push(0)}}if(!d.isClosed)for(var l=0;l<N.length;l++)N[l].type+=3;y=y.concat(N);var p=H.c2(Q);if(e.k==0&&e.Mg==0){var X=e.qH,C=e.fp,D=X+e.iL,o=C+e.Du,t=[X,C,D,o]}}return y};
iX.abT=function(w,n){var H=n.clone(),y=w.frame?iX.S9(w.frame):null;if(y)H.translate(-y.x-y.m/2,-y.y-y.e/2);
if(w.isFlippedHorizontal)H.scale(-1,1);if(w.isFlippedVertical)H.scale(1,-1);H.rotate(-w.rotation*(Math.PI/180));
if(y)H.translate(y.m/2,y.e/2);return H};iX.G4=function(w){w=w.slice(1,w.length-1).split(",");return new ce(parseFloat(w[0]),parseFloat(w[1]))};
iX.S9=function(w){return new cr(w.x,w.y,w.width,w.height)};iX.ak1=function(w){return{_class:"rect",constrainProportions:!1,x:w.x,y:w.y,width:w.m,height:w.e}};
function jx(){}jx.V2=function(w,n){var H=Date.now(),y=jx,c=UZIP.parse(w),Q=JSON.parse(j.NR(c.manifest)),q=JSON.parse(j.NR(c["resources/graphics/graphicContent.agc"])).resources,S=[],A=[],V=Q.children;
for(var l=0;l<V.length;l++){var e=V[l];if(e.name=="artwork"){var d=e.children;for(var N=0;N<d.length;
N++){var b=d[N],z=JSON.parse(j.NR(c["artwork/"+b.path+"/graphics/graphicContent.agc"])),v=z.children;
if(v.length==0){}else if(v.length==1){if(b["uxdesign#bounds"]){b._node=v[0];S.push(b)}}else{var T=v[0],Y=T.transform,g=T.shape;
if(g==null)g={x:0,y:0,width:1e3,height:1e3};if(g.type=="path"){var R=O.p.w1(Typr.U.SVGToPath(g.path).crds);
g={x:R.x,y:R.y,width:R.m,height:R.e}}g=JSON.parse(JSON.stringify(g));if(Y){g.x+=Y.tx;g.y+=Y.ty}b["uxdesign#bounds"]=g;
b._node={type:"artboard",artboard:{children:v}};A.push(b)}}}}if(S.length==0)S=A;var h=[],E=new cr;for(var l=0;
l<S.length;l++){var b=S[l],G=iX.S9(b["uxdesign#bounds"]);h.push(G);E=E.ld(G)}var k=iX.Ab(E,8192*8192);
n.se=!0;n.m=Math.round(E.m/k);n.e=Math.round(E.e/k);n.buffer=O.R(n.m*n.e*4);n.kA(S.length);var $=new b7(k,0,0,k,E.x,E.y);
n.Oe={};for(var l=0;l<S.length;l++){var b=S[l],G=iX.S9(b["uxdesign#bounds"]),p=b._node,X=$.clone(),C=G.clone(),D=X.H5();
X.translate(-G.x,-G.y);C.x=-Math.floor(X.qH/D);C.y=-Math.floor(X.fp/D);C.m=Math.floor(C.m/D);C.e=Math.floor(C.e/D);
X.translate(G.x,G.y);jx.g3(p,n,X,q,c,C);var o=n.B[n.B.length-1];o.nY(b.name);o.ws(C);if(l!=S.length-1)o.add.lsct=c0.$g}delete n.Oe};
jx.lN=function(w){if(w==null)return new b7;return new b7(w.a,w.b,w.c,w.d,w.tx,w.ty)};jx.g3=function(w,n,H,y,c,Q){var q=jx,S=w.type,A=w[S],V=w.style,e=q.lN(w.transform),z,v="none",T,Y="none",g,R;
e.G$();var d=H.clone();d.concat(e);var N=n.mX(),b=w.name;N.nY(b?b.slice(0,250):"Layer");if(w.visible!=null)N.WH(w.visible);
if(V){z=V.stroke;v=z?z.type:"none";T=V.fill;Y=T?T.type:"none";g=V.filters;R=V.clipPath;if(R&&y.clipPaths[R.ref])R=y.clipPaths[R.ref].children;
else R=null;if(V.opacity!=null)N.opacity=Math.round(255*V.opacity);if(Y=="solid"&&T.color.alpha)N.opacity=Math.round(N.opacity*T.color.alpha);
if(g){N.add.lmfx=q.ar8(g);for(var l=0;l<g.length;l++)if(g[l].type=="uxdesign#blur"){var h=g[l],E=h.params,G=E.brightnessAmount;
if(G==null)G=0;G=Math.abs(G/100);if((h.visible==null||h.visible==!0)&&E.backgroundEffect)N.opacity=Math.round(N.opacity*(G+(1-G)*E.fillOpacity))}}if(Y=="pattern"&&T.pattern.meta.ux.uid=="")Y="none"}if(R==null&&w.meta&&w.meta.ux&&w.meta.ux.clipPathResources)R=w.meta.ux.clipPathResources.children;
if(S=="artboard"||S=="group"){if(R){var k=R[0],$=k.shape,p=$!=null&&$.type=="rect"&&$.width*$.height>1e6;
if(k.type!="text"&&!p){if($){var e=q.lN(k.transform);e.G$();var X=d.clone();X.concat(e);N.add.vmsk=new a.TB;
N.add.vmsk.i=q.b9($);X=X.clone();X.G$();O.r._R(N.add.vmsk.i,X);N.cv();N.qL(n)}}else if(!p)alert("Clipping by text has been ignored")}N.add.lsct=c0.q8;
N.UM="pass";N.Vg=24;if(w.visible!=null)N.WH(w.visible);n.B.push(n.C$());var C=A.children,D=T;if(D)D=D.color;
if(D)D=D.value;if(T){if(S=="artboard"&&Y=="solid"){N.ws(new cr(0,0,10,10));N.add.artb.Clr={t:"Objc",v:O.M.Yw({b:D.r,J:D.g,k:D.b})};
N.add.artb.artboardBackgroundType={t:"long",v:4}}else{var o=n.mX();o.nY("BACKGROUND");o.Vg|=16;o.add.vstk=JSON.parse(JSON.stringify(d5.Ed.default));
o.add.vmsk=new a.TB;o.add.vmsk.i=q.b9({type:"rect",x:Q.x,y:Q.y,width:Q.m,height:Q.e});q.LE(T,Y,d,Q,Q,o,n,y,c);
o.cv();o.qL(n);n.B.push(o)}}for(var l=0;l<C.length;l++){jx.g3(C[l],n,d,y,c,Q)}}else if(S=="shape"&&(A.type=="rect"&&(A.r==null||A.r==0)||A.type=="path"&&UDOC.G.isBox(Typr.U.SVGToPath(A.path)))&&Y=="pattern"&&(Math.abs(A.width/A.height-T.pattern.width/T.pattern.height)<.01||V.fill.pattern.meta.ux.scaleBehavior=="fill")){var t=T.pattern,u=t.meta.ux,m=u.uid,U=c["resources/"+m];
if(U==null){console.log(t);return}var I=n.rR(U,N.getName(),0,0);I.Vg=N.Vg;I.opacity=N.opacity;N=I;var x=O.r.dF(q.b9(A),null),J=O.p.u3(new cr(0,0,t.width,t.height)).w,r=new b7;
r.scale(t.width/x.m,t.height/x.e);if(u.offsetX)r.translate(-u.offsetX*t.width,0);if(u.offsetY)r.translate(0,-u.offsetY*t.height);
d.concat(r);d.G$();O.p.D(J,d,J);N.add.SoLd.Trnf=P.WJ.w2(J);N.add.SoLd.nonAffineTransform=P.WJ.w2(J);
N.W0(n,!1)}else if(S=="shape"){N.Vg|=16;N.add.vstk=JSON.parse(JSON.stringify(d5.Ed.default));N.add.vmsk=new a.TB;
N.add.vmsk.i=q.b9(A);var x=O.r.dF(N.add.vmsk.i,null),X=d.clone();X.G$();O.r._R(N.add.vmsk.i,X);var Z=O.r.dF(N.add.vmsk.i,null);
if(v=="none"){}else{var f=z.color.value,F,_;F="SoFi";var K=JSON.parse(d5.FK[d5.order.indexOf("SoFi")]);
_={t:"Objc",v:K};_.v.Clr.v=O.M.Yw({b:f.r,J:f.g,k:f.b});var B=z.align,ij=z.cap;if(B==null)B="center";
var W=N.add.vstk;W.strokeEnabled.v=!0;W.strokeStyleLineWidth.v.val=z.width;if(B)W.strokeStyleLineAlignment.v.strokeStyleLineAlignment=d5.Ed.YH[["inside","center","outside"].indexOf(B)];
if(ij)W.strokeStyleLineCapType.v.strokeStyleLineCapType=d5.Ed.pv[["butt","round","square"].indexOf(ij)];
var L=["SoFi","GrFl","patternFill"].indexOf(F),i=[d5.jG,d5.B6,d5.sY][L];W.strokeStyleContent.v={classID:d5.Ed.oj[0]};
var e3=W.strokeStyleContent.v={classID:d5.Ed.oj[L]};for(var l=0;l<i.length;l++)e3[i[l]]=_.v[i[l]]}if(g)for(var l=0;
l<g.length;l++)if(g[l].type=="uxdesign#blur"&&g[l].visible){var eE=g[l];N.add.vmsk.Hk=eE.params.blurAmount}q.LE(T,Y,d,x,Z,N,n,y,c);
N.cv();N.qL(n)}else if(S=="text"&&w.text){var ec=w.text,gw=ec.frame,bl=V.font,cD=V.textAttributes,e=d.clone(),ib=0;
e.G$();N.add.lnsr="rend";N.add.TySh=j1.d2(0,0);N.add.TySh.oo=new cr(0,0,100,100);N.add.TySh.D=e;var a$=N.add.TySh.EB,hJ=ec.rawText.replace(/\r/g,"\n").replace(/\u000b/g,"\n");
j1.Uq(a$,0,hJ);if(hJ!=""){var ei=j1.ni(a$,0,1),df=bl.postscriptName;if(df==null)df=bl.family;j1.Ho(ei,df);
ei.tq.FontSize=Math.round(bl.size);if(T){var f=T.color.value;ei.tq.FillColor={Type:1,Values:[1,f.r/255,f.g/255,f.b/255]}}if(cD){if(cD.paragraphAlign)ei.AW.Justification=["left","right","center"].indexOf(cD.paragraphAlign);
if(cD.letterSpacing)ei.tq.Tracking=Math.round(cD.letterSpacing);if(cD.lineHeight){ei.tq.AutoLeading=!1;
ei.tq.Leading=Math.round(cD.lineHeight)}}j1.Xe(a$,0,hJ.length,ei)}var bM=w.meta.ux.rangedStyles;if(bM)for(var l=0;
l<bM.length;l++){var A=bM[l],fI=Math.min(A.length,hJ.length-ib);if(l==bM.length-1)fI=hJ.length-ib;var ei=j1.ni(a$,ib,ib+fI),df=A.postscriptName;
if(df==null)df=A.family;if(df!=null)j1.Ho(ei,df);var eU=A.textScript,gK=A.underline,bs=A.fontSize,h=A.fill,km=A.textTransform;
if(eU&&eU!="none")ei.tq.FontBaseline=eU=="superscript"?1:2;if(gK!=null)ei.tq.Underline=gK;if(bs!=null)ei.tq.FontSize=Math.round(bs);
if(km!=null)ei.tq.FontCaps=km=="uppercase"?2:0;if(km=="lowercase"){j1.J9(a$,ib,ib+fI);j1.Uq(a$,ib,hJ.slice(ib,ib+fI).toLowerCase())}if(h!=null){var aJ=h.value;
ei.tq.FillColor={Type:1,Values:[1,(aJ>>>16&255)/255,(aJ>>>8&255)/255,(aJ>>>0&255)/255]}}j1.Xe(a$,ib,ib+fI,ei);
ib+=fI}if(gw.type=="area"||gw.type=="autoHeight"){var ip=gw.width,fl=gw.height;j1.mn(a$,1);j1.wr(a$,[0,0,ip,fl!=null?fl:ip*2])}}else if(S=="syncRef"){var b3=w.syncSourceGuid,k4=y.meta.ux.symbols,aK=q.Yc(k4,b3);
if(aK){var ay=d.clone();ay.concat(q.lN(aK.transform));jx.g3(aK,n,ay,y,c,Q)}return}else console.log(S,w);
n.B.push(N)};jx.Yc=function(w,n){for(var l=0;l<w.length;l++){var H=w[l],y=H.group;if(H.id==n)return H;
if(y){var c=jx.Yc(y.children,n);if(c)return c}}return null};jx.b9=function(w){var n=w.type,H=[{type:6},{type:8,all:0}];
if(n=="rect"){var y=w.r,c=w.x,Q=w.y,q=w.width,S=w.height;H=O.r.yj.Rect(c,Q,q,S,y?y:0)}else if(n=="circle"){var y=w.r;
H=O.r.yj.r1(w.cx-y,w.cy-y,2*y,2*y)}else if(n=="ellipse"){var A=w.rx,V=w.ry;H=O.r.yj.r1(w.cx-A,w.cy-V,2*A,2*V)}else if(n=="path"||n=="compound"){var e=Typr.U.SVGToPath(w.path);
H=O.p.KL({T:e.cmds,w:e.crds},!1)}else if(n=="line"){var d=w.x1,N=w.x2,b=w.y1,z=w.y2;H=O.r.yj.Uo([d,b,N,z],0,!0)}else if(n=="polygon"){var v=w.points,T=[];
for(var l=0;l<v.length;l++)T.push(v[l].x,v[l].y);H=H.concat(O.r.yj.Uo(T,0,!1).slice(2))}else console.log(n,w);
return H};jx.ar8=function(w){var n=JSON.parse(d5.default);for(var l=0;l<d5.order.length;l++)n[d5.tS[l]]={t:"VlLs",v:[]};
for(var l=0;l<w.length;l++){var H=w[l],y=H.type,c=H.params,Q=H.visible;if(y=="dropShadow"){var q=d5.tS[d5.order.indexOf("DrSh")],S=JSON.parse(d5.FK[d5.order.indexOf("DrSh")]);
n[q].v.unshift({t:"Objc",v:S});var A=c.dropShadows;if(A.length!=1)throw"e";var V=A[l],e=V.color,d=e.value,N=V.dx,b=V.dy;
S.Clr.v=O.M.Yw({b:d.r,J:d.g,k:d.b});S.Opct.v.val=Math.round((e.alpha!=null?e.alpha:1)*100);S.uglg.v=!1;
S.enab.v=Q!=null?Q:!0;S.lagl.v.val=Math.round(180/Math.PI*Math.atan2(b,-N));S.Dstn.v.val=Math.round(Math.sqrt(N*N+b*b));
S.blur.v.val=Math.round(V.r*2.3)}}return n};jx.LE=function(w,n,H,y,c,Q,q,S,A){var V=jx;if(n=="none"){Q.add.vstk.fillEnabled.v=!1;
Q.add.SoCo={classID:"null",Clr:{t:"Objc",v:O.M.Yw({b:0,J:0,k:0})}}}else{var e,d,N;if(n=="solid"){var b=w.color.value;
e="SoCo";d=d5.jG;var z=JSON.parse(d5.FK[d5.order.indexOf("SoFi")]);N={t:"Objc",v:z};N.v.Clr.v=O.M.Yw({b:b.r,J:b.g,k:b.b})}else if(n=="gradient"){e="GdFl";
d=d5.B6;var z=JSON.parse(d5.FK[d5.order.indexOf("GrFl")]),v=z.Grad.v,h,E,G;v.Intr.v=0;var T=w[n],Y=T.ref?S.gradients[T.ref]:T.meta.ux.gradientResources,g=["linear","radial","angular"].indexOf(Y.type),R=Y.stops;
z.Type.v.GrdT=["Lnr","Rdl","Angl"][g];if(g==0){var h=new ce(T.x1,T.y1),E=new ce(T.x2,T.y2);h.x=E.x+.5*(h.x-E.x);
h.y=E.y+.5*(h.y-E.y)}else{var h=new ce(T.cx,T.cy),E=new ce(T.cx+T.r,T.cy)}G=c;if(T.units=="objectBoundingBox"){var k=new b7(y.m,0,0,y.e,y.x,y.y);
h=k.rY(h);E=k.rY(E)}var k=V.lN(T.transform);h=k.rY(h);E=k.rY(E);k=H.clone();k.G$();h=k.rY(h);E=k.rY(E);
O.M.yK(h,E,G,z);var $=[];for(var l=0;l<R.length;l++){var p=R[l],X=p.color,b=X.value,C=X.alpha;if(C==null)C=1;
$.push([p.offset,[b.r/255,b.g/255,b.b/255],C])}O.M.Wm($,v);N={t:"Objc",v:z}}else if(n=="pattern"){e="PtFl";
d=d5.sY;var z=JSON.parse(d5.FK[d5.order.indexOf("patternFill")]),J;N={t:"Objc",v:z};var D=w[n],o=D.meta.ux,t=o.uid,u=A["resources/"+t].buffer,m=o.flipX,U=o.flipY,I=t+m+U,x=cb.mj(u);
if(q.Oe[I])J=q.Oe[I];else{var r=new cr(0,0,D.width,D.height),Z;if(r._G()||x==null){r=new cr(0,0,1,1);
Z=new ArrayBuffer(4)}else{var f=cb.Mn(x);if(f.ht){var F=new iC;f._N(u,F);Z=F.E$().buffer}else{try{var _=f._N(u)[0];
Z=_.data;r=_.Zg}catch(hV){Z=new ArrayBuffer(r.O()*4)}}}J={};J.id=iC.aX()+"-d71c-11e5-b1ae-a548a96e5f9f";
J.name="someImage";J.TP=[new Uint8Array(Z),r];if(m)O.K.dj(J.TP[0].slice(0),J.TP[0],r.m,r.e);if(U)O.K.a5b(J.TP[0].slice(0),J.TP[0],r.m,r.e);
q.mv(J);q.Oe[I]=J}var K=H.clone();K.G$();K.translate(y.x,y.y);var B=y.m,ij=y.e,W=J.TP[1].m,L=J.TP[1].e,i=Math.max(B/W,ij/L);
if(o.scale)i*=o.scale;var e3=new b7;e3.translate(-W/2,-L/2);e3.scale(1/W,1/L);if(o.offsetX!=null)e3.translate(o.offsetX,o.offsetY);
e3.scale(W,L);e3.scale(i,i);e3.translate(B/2,ij/2);e3.concat(K);hO.alg(J,z,0,0,1e3,e3)}else console.log(n);
if(e!=null){Q.add[e]={classID:"null"};for(var l=0;l<d.length;l++){var eE=d[l];Q.add[e][eE]=N.v[eE]}}}};
function hW(){}hW.V2=function(w,n,H){if(H&&H[0]==null)H=null;w=new Uint8Array(w);var y,b=1;if(w[0]==255&&w[1]==254)y=j.cS(w,2,(w.length>>>1)-1);
else y=j.NR(w,0,w.length);var c=new DOMParser,Q=c.parseFromString(y,"image/svg+xml"),q=Q.getElementsByTagName("style")[0];
if(q)q=Typr.U.SVG.cssMap(q.textContent);else q={};var S=Q.firstChild;while(S.tagName!="svg")S=S.nextSibling;
var A=new cr(0,0,100,100),V=S.getAttribute("viewBox"),e=S.getAttribute("width"),d=S.getAttribute("height");
if(V){var N=hW.a2a(V);A.x=N[0];A.y=N[1];A.m=N[2];A.e=N[3]}else if(e!=null||d!=null){A.m=e!=null?parseFloat(e):parseFloat(d);
A.e=d!=null?parseFloat(d):parseFloat(e)}A=O.p.sb(A);while(H&&Math.max(A.m*b,A.e*b)<Math.max(H[0],H[1]))b++;
while(H==null&&Math.max(A.m,A.e)*b>8192)b*=.5;n.se=!0;n.m=~~(A.m*b);n.e=~~(A.e*b);n.buffer=O.R(n.m*n.e*4);
var z=new b7(b,0,0,b,-A.x*b,-A.y*b),v={fw:hW.Ju(S),a1K:q,Gz:0};hW.yY(Q,S.children,n,z,v,new b7,0);if(n.B.length==0){var T=n.mX();
T.nY("Layer");n.B.push(T)}};hW.a2a=function(w){var n=" ";if(w.indexOf(",")!=-1)n=",";return w.split(n).map(parseFloat)};
hW.yY=function(w,n,H,y,c,Q,q,S){var A=hW,V=["display","opacity","fill-opacity","filter","clip-path"],e=0;
for(var d=0;d<n.length;d++){var N=n[d],b=N.tagName,z=N.getAttribute("id"),Y=13,G=1,p="clip-path",X=null,x=0;
if(z==null)z=N.getAttribute("data-name");var v=A.Ju(N,c.a1K);for(var T in c.fw)if(V.indexOf(T)==-1&&v[T]==null)v[T]=c.fw[T];
if(v["font-size"])Y=A.ol(v["font-size"],Y);if(N.getAttribute("dx"))y.qH+=A.ol(N.getAttribute("dx"),Y);
if(N.getAttribute("dy"))y.fp+=A.ol(N.getAttribute("dy"),Y);var g=A.j_(N);g.concat(y);var R=N.getAttribute("visibility"),h=v.display,E=H.mX();
if(R=="hidden"||h=="none")E.WH(!1);E.nY(z!=null?z.split(":::")[0]:"Layer");if(v.opacity)G*=parseFloat(v.opacity);
if(v["fill-opacity"]){var k=parseFloat(v["fill-opacity"]);if(k!=0)G*=k}E.opacity=Math.round(255*G);if(v["mix-blend-mode"]){var $=eS.op.indexOf(v["mix-blend-mode"]);
if($!=-1)E.UM=eS.$Q[$]}if(N.getAttribute(p)==null)p="mask";if(N.getAttribute(p)!=null||v["clip-path"]){var C=N.getAttribute(p);
if(C==null)C=v["clip-path"];C=C.slice(4,C.length-1);var D=w.getElementById(C.slice(1));if(D){var o=D.children;
X=H.mX();X.nY("Clip-Path"+(z?": "+z:""));X.add.lsct=q<2?c0.q8:c0.$g;X.UM="pass";X.Vg=24;var t=X.add.vmsk=new a.TB;
H.B.push(H.C$());var u=[];if(D.getAttribute(p)){var C=D.getAttribute(p);C=C.slice(4,C.length-1);u=w.getElementById(C.slice(1)).children}for(var l=0;
l<o.length;l++){var m=A.j_(o[l]);m.concat(g);var U=A.b9(H,w,o[l],!1).slice(2);O.r._R(U,m);t.i=t.i.concat(U)}for(var l=0;
l<u.length;l++){var m=A.j_(o[l]);m.concat(g);var U=A.b9(H,w,u[l],!1).slice(2);for(var I=0;I<U.length;
I++)if(U[l].NB!=null)U[l].NB=3;O.r._R(U,m);t.i=t.i.concat(U)}X.cv();X.qL();q++}}if(v.filter&&v.filter!="none"){var J=v.filter,Z,f,F,K=!1,B=!1,ij=!1;
J=J.slice(5,J.length-1);var r=w.getElementById(J),_=[0,0,0,.5],W=g.H5();if(r)for(var l=0;l<r.children.length;
l++){var L=r.children[l];if(L.tagName=="feGaussianBlur"){K=!0;Z=parseFloat(L.getAttribute("stdDeviation"))*W}if(L.tagName=="feColorMatrix"){var i=L.getAttribute("values");
if(i){i=i.split(" ").map(parseFloat);_=[i[4],i[9],i[14],i[18]]}}if(L.tagName=="feComposite"){ij=!0}if(L.tagName=="feOffset"){B=!0;
var e3=L.getAttribute("dx"),eE=L.getAttribute("dy");f=parseFloat(e3?e3:0)*W;F=parseFloat(eE?eE:0)*W}}if(K&&(ij||B)){var ec=ij?"IrSh":"DrSh";
if(ec=="IrSh"){E.add.iOpa=0}var gw=JSON.parse(d5.FK[d5.order.indexOf(ec)]);gw.blur.v.val=Math.round(Z*2.4);
var bl=Math.sqrt(f*f+F*F);gw.uglg.v=!1;gw.Dstn.v.val=Math.round(bl);gw.lagl.v.val=Math.round(Math.atan2(F,-f)*(180/Math.PI));
gw.Clr.v=O.M.Yw({b:_[0]*255,J:_[1]*255,k:_[2]*255});gw.Opct.v.val=Math.round(_[3]*100);A.anf(E,d5.tS[d5.order.indexOf(ec)],gw)}else if(K)x=Z}if(b=="g"||b=="a"||b=="svg"||b=="switch"||(b=="text"||b=="textPath")&&N.children.length>0||b=="symbol"&&S){if(b=="text")Q=A.ys(N,Q);
var cD=N.getAttribute("viewBox"),a$=N.getAttribute("width"),hJ=N.getAttribute("height");if(cD&&a$&&hJ){var ei=hW.a2a(cD),df=A.ys(N),bM=new b7;
bM.translate(-ei[0],-ei[1]);bM.scale(parseFloat(a$)/ei[2],parseFloat(hJ)/ei[3]);bM.translate(df.qH,df.fp);
bM.concat(g);g=bM}var ib=N.children.length,fI=c.fw;c.fw=v;var eU=c.Gz;c.Gz=Math.max(c.Gz,x);var gK=b!="text"&&b!="textPath"||ib>1;
if(gK){var bs=E.tl();E.add.lsct=q<2&&bs&&(z==null||!z.endsWith(":::"))?c0.q8:c0.$g;E.UM="pass";E.Vg=24;
E.WH(bs);H.B.push(H.C$())}A.yY(w,N.children,H,g,c,Q,q+1);if(gK)H.B.push(E);else{var km=H.B[H.B.length-1];
km.opacity=E.opacity;km.UM=E.UM}c.Gz=eU;c.fw=fI}else if(b=="use"){var bM=A.ys(N);bM.concat(g);var aJ=A.zZ(N),ip=w.getElementById(aJ.slice(1));
if(ip){var fI=c.fw;c.fw=v;if(v.filter)ip.setAttribute("filter",v.filter);A.yY(w,[ip],H,bM,c,Q,q+1,!0);
c.fw=fI}}else if(b=="path"||b=="rect"||b=="circle"||b=="ellipse"||b=="polygon"||b=="polyline"||b=="line"){E.Vg|=16;
E.add.vmsk=new a.TB;E.add.vstk=JSON.parse(JSON.stringify(d5.Ed.default));E.add.vstk.strokeEnabled.v=!1;
var fl=E.add.vstk,t=E.add.vmsk,b3=v.fill,dY=b3=="none"||v["fill-opacity"]&&parseFloat(v["fill-opacity"])==0;
t.i=A.b9(H,w,N,v["fill-rule"]=="evenodd",dY);O.r._R(t.i,g);var k4=O.r.dF(t.i),aK=v.stroke,ay=v["stroke-width"],f8=v["stroke-dasharray"],gN=v["stroke-linejoin"],d4=v["stroke-linecap"],bK=v["paint-order"];
if(aK==null||aK=="none"||aK=="null"){}else{var hf=A.a5c(w,aK,g,k4,H),bC=["SoFi","GrFl","patternFill"].indexOf(hf.type),gW=hf.Z.v.Opct.v,jN=1;
if(gW.val!=100){E.opacity=Math.round(E.opacity*gW.val/100);gW.val=100}var dn=[d5.jG,d5.B6,d5.sY][bC],fq=fl.strokeStyleContent.v={classID:d5.Ed.oj[bC]};
for(var l=0;l<dn.length;l++)fq[dn[l]]=hf.Z.v[dn[l]];ay=ay?parseFloat(ay):1;if(bK&&bK.replace(/\s\s+/g," ").slice(0,11)=="stroke fill"){jN=2;
ay/=2}fl.strokeEnabled.v=!0;if(gN)fl.strokeStyleLineJoinType.v.strokeStyleLineJoinType=d5.Ed.join[["miter","round","bevel"].indexOf(gN)];
if(d4)fl.strokeStyleLineCapType.v.strokeStyleLineCapType=d5.Ed.pv[["butt","round","square"].indexOf(d4)];
fl.strokeStyleLineWidth.v.val=ay*g.H5();fl.strokeStyleLineAlignment.v.strokeStyleLineAlignment=d5.Ed.YH[jN];
fl.strokeStyleOpacity.v.val=100*(v["stroke-opacity"]?parseFloat(v["stroke-opacity"]):1);if(f8!=null&&f8!="none")fl.strokeStyleLineDashSet.v=hO.f5(f8.split(",").map(parseFloat),1/ay)}if(dY){E.add.vstk.fillEnabled.v=!1;
E.add.SoCo={classID:"null",Clr:{t:"Objc",v:O.M.Yw({b:0,J:0,k:0})}}}else{var hf=A.a5c(w,b3,g,k4,H),cU=null,jb=null;
if(hf.type=="SoFi"){cU="SoCo";jb=d5.jG}if(hf.type=="GrFl"){cU="GdFl";jb=d5.B6}if(hf.type=="patternFill"){cU="PtFl";
jb=d5.sY}if(cU!=null){var gW=hf.Z.v.Opct.v;if(gW.val!=100){E.opacity=Math.round(E.opacity*gW.val/100);
gW.val=100}E.add[cU]={classID:"null"};for(var l=0;l<jb.length;l++){var T=jb[l];E.add[cU][T]=hf.Z.v[T]}}}var ac=Math.max(x,c.Gz);
if(ac!=0)E.add.vmsk.Hk=ac;E.cv();E.qL(H);H.B.push(E)}else if((b=="text"||b=="tspan")&&N.textContent!=""){Q=A.ys(N,Q);
var bM=Q.clone(),F=0;bM.concat(g);bM.translate(e,0);if(N.children.length>0){var a_=A.Ju(N.children[0],c.a1K);
for(var T in a_)if(V.indexOf(T)==-1)v[T]=a_[T]}var h5=v["xml:space"],jz=N.textContent;if(h5=="preserve")jz=jz.replace(/\t/g," ").replace(/\n/g," ");
if(z==null)E.nY(jz);E.add.lnsr="rend";E.add.TySh=j1.d2(0,0);E.add.TySh.oo=new cr(0,0,100,100);E.add.TySh.D=bM.clone();
var jj=E.add.TySh.EB;j1.Uq(jj,0,jz);if(b=="tspan")e+=Y*jz.length*.5*bM.H5();var b3=v.fill,jy=v["font-weight"],g0=v["font-family"],bt=v["text-decoration"],aK=v.stroke,ay=v["stroke-width"],kl=v["dominant-baseline"];
if(kl=="text-before-edge")F=Y;else if(kl=="middle")F=Y/2;else if(kl=="hanging")F=Y;if(F!=0)E.add.TySh.D.translate(0,F);
var iO=j1.ni(jj,0,1);if(b3&&b3!="none"){var _=CSS.gM(b3);iO.tq.FillColor={Type:1,Values:[1,_.b/255,_.J/255,_.k/255]}}if(bt=="underline")iO.tq.Underline=!0;
iO.tq.FontSize=Math.round(Y);j1.Ho(iO,"LiberationSans");if(jy=="bold")j1.Ho(iO,"LiberationSans-Bold");
if(g0){g0=g0.split(",")[0].trim();if(g0[0]=="\"")g0=g0.slice(1);if(g0[g0.length-1]=="\"")g0=g0.slice(0,g0.length-1);
var dN=g0+":"+(jy?jy:"normal"),aG={"'DejaVu Sans':normal":"DejaVuSans","'DejaVu Sans':bold":"DejaVuSans-Bold","'Nimbus Sans L':normal":"NimbusSanL-Reg","'Nimbus Sans L':bold":"NimbusSanL-Bol","Libre Franklin:300":"LibreFranklin-Light","Libre Franklin:400":"LibreFranklin-Regular","Libre Franklin:500":"LibreFranklin-Medium","Libre Franklin:600":"LibreFranklin-SemiBold","Libre Franklin:700":"LibreFranklin-Bold"};
if(aG[dN])j1.Ho(iO,aG[dN]);else j1.Ho(iO,g0)}if(v["text-anchor"])iO.AW.Justification=["start","end","middle"].indexOf(v["text-anchor"]);
j1.Xe(jj,0,jz.length,iO);if(aK==null||aK=="none"){}else{var gw=JSON.parse(d5.FK[d5.order.indexOf("FrFX")]);
gw.Clr.v=O.M.Yw(CSS.gM(aK));gw.Sz.v.val=Math.round(parseFloat(ay)*bM.H5());A.anf(E,"frameFXMulti",gw)}H.B.push(E)}else if(b=="image"){var aJ=A.zZ(N);
if(aJ&&aJ.slice(0,4)=="data"){var iA=cb.Vt(aJ),a0=iA,cd=H.rR(a0,E.getName(),0,0);cd.Vg=E.Vg;E=cd;var co=E.rect.clone();
co.x=co.y=0;var c7=N.getAttribute("width"),cF=N.getAttribute("height");if(c7)co.m=parseFloat(c7);if(cF)co.e=parseFloat(cF);
var b1=A.ys(N);b1.concat(g);var a5=O.p.u3(co).w;O.p.D(a5,b1,a5);E.add.SoLd.Trnf=P.WJ.w2(a5);E.add.SoLd.nonAffineTransform=P.WJ.w2(a5);
E.W0(H,!1);H.B.push(E)}}else console.log("unknown tag: "+b,N.children.length,N.textContent.length);if(X!=null){H.B.push(X);
q--}}};hW.anf=function(w,n,H){var y=w.add.lmfx;if(y==null){var y=w.add.lmfx=JSON.parse(d5.default);for(var l=0;
l<d5.order.length;l++)y[d5.tS[l]]={t:"VlLs",v:[]}}y[n].v.push({t:"Objc",v:H})};hW.b9=function(w,n,H,y,c){var Q=hW,q=[{type:6},{type:8,all:0}],S=H.tagName;
if(S=="use"){var A=Q.zZ(H),V=n.getElementById(A.slice(1)),e=new b7;if(V.tagName!="rect")e=Q.ys(V);e.concat(Q.j_(V));
q=Q.b9(w,n,V,y,c);O.r._R(q,e)}else if(S=="path"){var d=H.getAttribute("d");if(d==null)return q;var N=Typr.U.SVGToPath(d);
q=O.p.KL({w:N.crds,T:N.cmds},y,c)}else if(S=="rect"){var b=H.getAttribute("rx"),z=Q.ys(H),v=new ce(0,0);
Q.Kp("width",H,w,v,!0);Q.Kp("height",H,w,v,!1);q=O.r.yj.Rect(z.qH,z.fp,v.x,v.y,b?parseFloat(b):0)}else if(S=="circle"||S=="ellipse"){var T=[0,0,0,0],Y=["cx","cy","rx","ry","r"];
for(var l=0;l<5;l++){var g=H.getAttribute(Y[l]);if(g){g=parseFloat(g);if(l<4)T[l]=g;else T[2]=T[3]=g}}q=O.r.yj.r1(T[0]-T[2],T[1]-T[3],2*T[2],2*T[3])}else if(S=="polygon"||S=="polyline"||S=="line"){var R;
if(S=="line")R=[H.getAttribute("x1"),H.getAttribute("y1"),H.getAttribute("x2"),H.getAttribute("y2")].map(parseFloat);
else R=H.getAttribute("points").trim().replace(/\s\s+/g," ").split(",").join(" ").split(" ").map(parseFloat);
q=O.r.yj.Uo(R,0,S!="polygon")}return q};hW.ol=function(w,n){if(w.charAt(w.length-1)=="m")return n*parseFloat(w.slice(0,w.length-2));
else return parseFloat(w)};hW.a5c=function(w,n,H,y,c){var Q,q,S=hW,A=JSON.parse(d5.FK[d5.order.indexOf("SoFi")]),V=n!=null?n.indexOf("("):-1;
if(V!=-1){var e=n.indexOf(")"),d=n.slice(0,V).trim(),N=n.slice(V+1,e).trim();if(N.charAt(0)=="'")N=N.slice(1,N.length-1);
if(d=="url"){if(N.charAt(0)=="#"){var b=w.getElementById(N.slice(1));if(b&&b.tagName.toLowerCase().endsWith("gradient")){var z=S.cq(w,b,H,y);
Q="GrFl";q={t:"Objc",v:z}}else if(b&&b.tagName.toLowerCase()=="pattern"&&b.children[0]&&b.children[0].tagName=="use"){Q="SoFi";
q={t:"Objc",v:A};var v=b.children[0],T=S.j_(v),Y=S.zZ(v),g=w.getElementById(Y.slice(1)),R=cb.Vt(S.zZ(g)).buffer,h=cb.Mn(cb.mj(R)),E=h._N(R)[0],G={};
G.id=iC.aX()+"-d71c-11e5-b1ae-a548a96e5f9f";G.name="someImage";G.TP=[new Uint8Array(E.data),E.Zg];c.mv(G);
var A=JSON.parse(d5.FK[d5.order.indexOf("patternFill")]);A.Scl.v.val=Math.round(100*y.m*T.iL);var k=A.phase.v;
k.Hrzn.v=Math.round(y.x+T.qH*y.m);k.Vrtc.v=Math.round(y.y+T.fp*y.e);A.Ptrn.v.Idnt.v=G.id;Q="patternFill";
q={t:"Objc",v:A}}else{Q="SoFi";q={t:"Objc",v:A}}}else console.log("unknown url",N)}else if(d=="rgb"||d=="rgba"){Q="SoFi";
q={t:"Objc",v:A};q.v.Clr.v=O.M.Yw(CSS.gM(n));if(d=="rgba")q.v.Opct.v.val=Math.round(100*parseFloat(n.split(",").pop()))}else console.log("unknown fill",n)}else{Q="SoFi";
q={t:"Objc",v:A};var $=CSS.gM(n);q.v.Clr.v=O.M.Yw($);if($.iL!=null)q.v.Opct.v.val=Math.round(100*$.iL/255)}return{type:Q,Z:q}};
hW.j_=function(w){var n=new b7,H=w.getAttribute("transform");if(H)n=hW.R7(H);var y=w.getAttribute("style");
if(y!=null){var c={};hW.Y7(c,y,["transform"]);y=c.transform;if(y)n.concat(hW.R7(y))}return n};hW.ys=function(w,n){var H=new b7,y=w.getAttribute("x"),c=w.getAttribute("y");
if(y)H.qH=parseFloat(y);else if(n)H.qH=n.qH;if(c)H.fp=parseFloat(c);else if(n)H.fp=n.fp;return H};hW.R7=function(w){var n=Typr.U.SVG.readTrnf(w);
return new b7(n[0],n[1],n[2],n[3],n[4],n[5])};hW.Ju=function(w,n){var H={},y="fill-rule fill stroke stroke-width stroke-dasharray stroke-opacity stroke-linejoin stroke-linecap font-size font-weight font-family text-decoration text-anchor dominant-baseline stop-color stop-opacity filter display opacity fill-opacity paint-order clip-path mix-blend-mode xml:space".split(" ");
for(var l=0;l<y.length;l++){var c=w.getAttribute(y[l]);if(c!=null&&c!="inherit")H[y[l]]=c}var Q=w.getAttribute("class");
if(n!=null&&Q!=null&&n["."+Q]!=null)hW.Y7(H,n["."+Q],y);var q=w.getAttribute("id");if(n!=null&&q!=null&&n["#"+q]!=null)hW.Y7(H,n["#"+q],y);
var S=w.getAttribute("style");if(S!=null)hW.Y7(H,S,y);return H};hW.Y7=function(w,n,H){n=n.trim().split(";");
for(var l=0;l<n.length;l++){var y=n[l].split(":"),c=y[0]?y[0].trim():"",Q=y[1]?y[1].trim():"";for(var q=0;
q<H.length;q++)if(c==H[q]&&Q!="inherit")w[H[q]]=Q}};hW.zZ=function(w){var n=w.getAttribute("xlink:href");
if(n==null)n=w.getAttribute("href");if(n==null)n=w.getAttribute("xl:href");return n};hW.Kp=function(w,n,H,y,c){var Q=n.getAttribute(w);
if(Q==null)return;var q=parseFloat(Q);if(Q.endsWith("%"))q*=(c?H.m:H.e)/100;if(c)y.x=q;else y.y=q};hW.cq=function(w,n,H,y){var c=hW,Q=c.Kp,q=new b7,S=n.getAttribute("gradientTransform"),b=!1;
if(S)q=c.R7(S);q.concat(H);var A=JSON.parse(d5.FK[d5.order.indexOf("GrFl")]),V=A.Grad.v;V.Intr.v=0;var e=n.tagName,d=new ce(0,0),N=new ce(y.m,0);
if(e=="linearGradient"){A.Type.v.GrdT="Lnr";Q("x1",n,y,d,!0);Q("y1",n,y,d,!1);Q("x2",n,y,N,!0);Q("y2",n,y,N,!1);
d.x=N.x+.5*(d.x-N.x);d.y=N.y+.5*(d.y-N.y)}if(e=="radialGradient"){A.Type.v.GrdT="Rdl";if(n.getAttribute("cx"))d.x=parseFloat(n.getAttribute("cx"));
if(n.getAttribute("cy"))d.y=parseFloat(n.getAttribute("cy"));N.HV(d.x,d.y);if(n.getAttribute("r"))N.x+=parseFloat(n.getAttribute("r"))}var z=n;
while(!0){if(z.getAttribute("gradientUnits")=="userSpaceOnUse")b=!0;var v=c.zZ(z);if(v==null)break;z=w.getElementById(v.slice(1))}if(b){d=q.rY(d);
N=q.rY(N)}else{d.x=y.x+d.x*y.m;d.y=y.y+d.y*y.e;N.x=y.x+N.x*y.m;N.y=y.y+N.y*y.e}O.M.yK(d,N,y,A);var T=n.children;
if(T.length==0){var Y=c.zZ(n);if(Y==null)throw"gradient has no stops";var g=w.getElementById(Y.slice(1));
if(g==null){console.log(Y.slice(1))}else{var R=c.cq(w,g,q,y);A.Grad=R.Grad}}else{var h=[];for(var l=0;
l<T.length;l++){var E=T[l],G=c.Ju(E),k=G["stop-color"],$=G["stop-opacity"],p=E.getAttribute("offset");
if(k==null)k="#000000";$=$==null?1:parseFloat($);var X=p?parseFloat(p):0;if(p&&p.endsWith("%"))X/=100;
k=CSS.gM(k);if(k.iL!=null)$*=k.iL/255;h.push([X,[k.b/255,k.J/255,k.k/255],parseFloat($)])}O.M.Wm(h,V)}return A};
hW.Z8=function(){var w=null,n=null,H="",y="";function c(k,$,p){var X=[],t=" { ",u=" } ",m=!1;n=$;y=$.Dk?"":"\t";
H=$.Dk?"":" ";var C=$.ayk,D=$.a95;X.push("<svg version=\"1.2\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 "+k.m+" "+k.e+"\" width=\""+C+"\" height=\""+D+"\">");
if(!$.Dk)X.push(Q(1)+"<title>"+g(k.name.split(".")[0])+"</title>");var o={Nu:[],GN:[],Jy:0,qh:0,PT:0,e9:{},Pv:{},Ml:0,xJ:{},anI:{},Mt:0,KF:[]};
z(k,o,k.root.children,1,$,p);if(o.Nu.length!=0){X.push(Q(1)+"<defs>");X=X.concat(o.Nu);X.push(Q(1)+"</defs>")}X.push(Q(1)+"<style>");
if($.Dk){t="{";u="}"}for(var l=0;l<k.B.length;l++)if(k.B[l].add.TySh)m=!0;if(m&&!$.ajN&&!$.aqH)X.push(Q(2)+"tspan"+t+"white-space:pre"+u);
for(var U in o.xJ)X.push(Q(2)+"."+U+t+o.xJ[U]+u);X.push(Q(1)+"</style>");X=X.concat(o.GN);X.push("</svg>");
X=X.join($.Dk?"":"\n");return j.bv(X)}function Q(ds){var k="";for(var l=0;l<ds;l++)k+=y;return k}function q(ds,k){if(k==null)k=1;
var $=""+parseFloat(ds.toFixed(k));if($.startsWith("0."))$=$.slice(1);return $}function S(k,$){var p=k.add.lmfx;
if(p)p=p[$].v[0];if(p)p=p.v;if(p&&!p.enab.v)p=null;return p}function A(k,$){var p=S(k,"frameFXMulti");
if(p){var X=p.Sz.v.val;if(p.Styl.v.FStl=="OutF"){$.push("paint-order:stroke fill markers");X*=2}b($,CSS.L4(p.Clr.v),1);
if(X!=1)$.push("stroke-width: "+X);$.push("stroke-linejoin: round;")}}var V="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".split("");
function e(k){var $=V.length,p="";for(var X=1;X<10;X++){var C=($-10)*~~Math.pow($,X-1);if(k<C){for(var l=0;
l<X;l++){var D=l==X-1?10:0,o=$-D,t=k%o;p=V[t+D]+p;k=Math.floor((k-t)/o)}break}k-=C}return p}function d(k,$,p,X){if(k.length!=0){if(X==null)X="s";
var C=k.join(";"),D=$.anI[C];if(D==null){D=n.Dk?e($.Mt):X+$.Mt;$.Mt++;$.anI[C]=D;$.xJ[D]=C}if(p)p.push(D);
return D}}function N(k){if(n.Dk&&k.length==7&&k[0]=="#"){if(k[1]==k[2]&&k[3]==k[4]&&k[5]==k[6])k="#"+k[1]+k[3]+k[5]}return k}function b(k,$,p){$=N($);
if($!="#000"||p==1)k.push((p==0?"fill:":"stroke:")+H+$)}function z(k,$,p,X,C,D){var o=!1;for(var t=0;
t<p.length;t++){var u=p[t].j,m=u.add.lsct;if(!u.Ak&&p[t+1]&&p[t+1].j.Ak&&u.hu()&&u.add.vmsk){var U=[];
h(u,u.add.vmsk,$,U);$.GN.push(Q(X)+"<g "+U[0]+">");X++;o=!0}else if(!u.Ak&&p[t-1]&&p[t-1].j.Ak&&o){X--;
$.GN.push(Q(X)+"</g>");o=!1}var I=u.add.vmsk,x=u.add.vogk,J=u.add.vstk,r=u.add.TySh;if(I&&!I.isEnabled)I=J=null;
var Z=[];if(!C.hidden&&!u.tl())continue;var f=u.opacity/255,F=u.add.iOpa?u.add.iOpa/255:1;if(u.Ok()){f*=F;
F=1}if(f!=1)Z.push("opacity:"+H+q(f));if(F!=1)Z.push("fill-opacity:"+H+q(F));if(u.UM!="norm"){var _=eS.op[eS.$Q.indexOf(u.UM)];
if(_!=null)Z.push("mix-blend-mode:"+H+_)}if(!u.tl())Z.push("display:"+H+"none");var U=[],K=[],B=u.getName(),ij=B.indexOf(" .");
if(!C.Dk)U.push("id=\""+g(B)+"\"");var W=hO.yt(u.add.lmfx,u.add),L=W[0],i=W[1];if(u.Ok()){var e3=p[t].children;
if(!(e3.length==1&&e3[0].j.add.SoLd&&!C.uQ)){if(w&&u.getName().split("-").length==3){w.push({os:u.getName(),WE:0,Ug:[]})}h(u,I,$,U);
if(Z.length!=0)U.push("style=\""+Z.join(";")+"\"");var eE=Y(U,K),ec=C.Dk&&eE=="";if(!ec)$.GN.push(Q(X)+"<g"+(eE==""?"":" "+eE)+">");
z(k,$,e3,X+1,C,D);if(!ec)$.GN.push(Q(X)+"</g>")}}else if(u.hu()&&I==null){var gw=new cr(0,0,k.m,k.e);
E(k,Z,u.add,$,gw,C);if(Z.length!=0)U.push("style=\""+Z.join(";")+"\"");$.GN.push(Q(X)+"<rect width=\""+k.m+"\" height=\""+k.e+"\" "+Y(U,K)+"/>")}else if(I&&u.add.SoLd==null){var gw=O.r.dF(I.i,null,!0),bl,cD=null,a$=0,hJ;
E(k,Z,u.add,$,gw,C);d(Z,$,K);if(x.length!=0){bl=x[0].v;cD=bl.keyOriginType;if(cD)cD=cD.v;if(cD==2){var ei=O.X.h6(bl);
a$=ei[0];for(var l=0;l<3;l++)if(a$!=ei[l+1])cD=null}}if(x.length==1&&cD==5&&Math.abs(O.X.Ps(bl))<1e-4){var gw=O.X.$U(bl),df=(gw[0]+gw[2])/2,bM=(gw[1]+gw[3])/2,ib=df-gw[0],fI=bM-gw[1],eU=Math.abs(ib-fI)<.01,gK=eU?"r=\""+q(ib)+"\"":"rx=\""+q(ib)+"\" ry=\""+q(fI)+"\"";
hJ="<"+(eU?"circle":"ellipse")+" "+Y(U,K)+" cx=\""+q(df)+"\" cy=\""+q(bM)+"\" "+gK+"/>"}else if(x.length==1&&cD==2&&a$!=0&&Math.abs(O.X.Ps(bl))<1e-4){var gw=O.X.$U(bl),bs=gw[0],km=gw[1],aJ=gw[2]-gw[0],ip=gw[3]-gw[1],fl="";
if(bs!=0)fl+=" x=\""+q(bs)+"\"";if(km!=0)fl+=" y=\""+q(km)+"\"";fl+=" width=\""+q(aJ)+"\"";fl+=" height=\""+q(ip)+"\"";
fl+=" rx=\""+q(a$)+"\"";hJ="<rect "+Y(U,K)+fl+"></rect>"}else{var b3=O.r.OW(I.i,1);if(b3.nk!=0){U.push("fill-rule=\"evenodd\"")}hJ="<path "+Y(U,K)+" d=\""+b3.ad+"\"/>"}$.GN.push(Q(X)+hJ);
if(w&&w[w.length-1]){var dY=O.p.$n(I.i);dY.w=dY.w.map(Math.round);var k4=w[w.length-1];k4.WE+=JSON.stringify(dY).length;
k4.Ug.push([Z[0].split("#").pop(),dY])}}else if(r&&C.ajN){H=C.Dk?"":" ";var aK=r.EB,ay=new ir(aK,D),f8=null;
if(L)f8=CSS.L4(L.Clr.v);if(i){var gw=u.rect.clone();G(i,$,gw,C);f8="url(#g"+$.Jy+")"}if(f8)Z.push("fill:"+H+f8);
A(u,Z);var gN=kn.Zt(ay,r),d4=O.p.iw(gN);for(var bK in d4){var hf=Z.slice(0),bC=K.slice(0),gW=U.slice(0);
if(f8==null){b(hf,bK.slice(0,7),0);if(bK.length>7){var dn=bK.slice(7).split("-");console.log(dn);b(hf,dn[1],1);
if(dn[2]!="1")hf.push("stroke-width:"+H+dn[2])}}d(hf,$,bC);var fq=d4[bK],dn=Typr.U.pathToSVG({crds:fq.w,cmds:fq.T},1);
$.GN.push(Q(X)+"<path "+Y(gW,bC)+(C.Dk?"":" "+T(r))+" d=\""+dn+"\"/>")}}else if(r&&!C.aqH){var aK=r.EB,jN=r.D.clone(),f8=null;
Z.push("transform:"+H+R(jN));var cU=j1.md(aK),ay=new ir(aK,D);A(u,Z);if(Z.length!=0)U.push("style=\""+Z.join(";")+"\"");
$.GN.push(Q(X)+"<text "+Y(U,K)+" >");if(L)f8=CSS.L4(L.Clr.v);if(i){var gw=u.rect.clone();gw.x-=jN.qH;
gw.y-=jN.fp;G(i,$,gw,C);f8=" url(#g"+$.Jy+")"}for(var l=0;l<ay.AW.length;l++){var jb=ay.AW[l];if(jb.D5.length==1&&jb.D5[0].PD)continue;
for(var ac=0;ac<jb.WQ.length;ac++){var a_=jb.WQ[ac],bM=jb.Pi.y+a_.Pi.y,h5=jb.D5[a_.start].start,jz=jb.D5[a_.end-1].end,jj=j1.asP(aK,h5,jz),jy="";
for(var g0=0;g0<jj.length;g0++){var bt=ay.aT(h5),kl=jj[g0],iO=j1.ni(aK,h5,h5),dN=iO.II[iO.tq.Font].Name,bK=j1.cH(iO.tq.FillColor),aG=Math.round(iO.tq.FontSize),iA=cU.slice(h5,h5+kl);
if(iO.tq.FontCaps==2)iA=iA.toUpperCase();var a0=new b7;a0.translate(bt.U2.x,-bM);var cd=[];CSS.axO(cd,iO,null,!0,!0,f8);
var co=d(cd,$,null,"t");co=co?" class=\""+co+"\"":"";var df=bt.U2.x,c7=v(iO,iA);jy+="<tspan "+(g0==0?"x=\""+q(bt.U2.x)+"\"":"")+" y=\""+q(bM)+"\""+co+c7+">"+g(iA)+"</tspan>";
h5+=kl}$.GN.push(Q(X+1)+jy)}}$.GN.push(Q(X)+"</text>")}else if(u.add.SoLd&&C.uQ&&L==null){var cF=u.add.SoLd,b1=cF.Idnt.v,a5=0,iy=cF.Crop?cF.Crop.v:null;
if($.Pv[b1]!=null)a5=$.Pv[b1];else{$.Ml++;a5=$.Ml;$.Pv[b1]=$.Ml;var ko=k.Lm(b1,iy),aX="";if(ko==null)return;
var gc=ko.TM,eR=cb.mj(ko.raw.buffer);if(eR=="pdf"){var ck=new iC("h");cb.Mn("PDF")._N(ko.raw.buffer,ck);
ck.C1();ck.gF();ck.U();ck.eU();if(cF.Crop&&cF.Crop.v==1){P.RP._6(ck,ck.root.fH(ck,!0))}var by=cb.Mn("SVG").vd(ck,ck.m,ck.e,null,{KF:D});
aX="data:image/svg+xml;base64,"+cb.i$(by)}else if(eR=="jpg"||eR=="png"||eR=="gif"||eR=="svg"){var i3={jpg:"image/jpg",png:"image/png",jpg:"image/jpg",svg:"image/svg+xml"};
aX="data:"+i3[eR]+";base64,"+cb.i$(ko.raw.buffer)}else{aX=cb.m8(gc[0].buffer,gc[1].m,gc[1].e)}$.Nu.push(Q(2)+"<image width=\""+gc[1].m+"\" height=\""+gc[1].e+"\" id=\"img"+a5+"\" href=\""+aX+"\"/>")}var bb=O.K.EH(cF),il=[];
h(u,I,$,il);if(il.length!=0)$.GN.push(Q(X)+"<g "+Y(il,K)+">");if(Z.length!=0)U.push("style=\""+Z.join(";")+"\"");
var eH=Y(U,K);$.GN.push(Q(X)+"<use "+eH+" href=\"#img"+a5+"\" transform=\""+R(bb)+"\"/>");if(il.length!=0)$.GN.push(Q(X)+"</g>")}else if(!u.rect._G()&&(C.uQ||r)){if(Z.length!=0)U.push("style=\""+Z.join(";")+"\"");
var eH=Y(U,K),j9=u.buffer;if(L)j9=hO.a3Q(j9,L,u.rect);var jq=u.rect;$.Ml++;var aX=cb.m8(j9.buffer,jq.m,jq.e,"png",null,!0);
$.Nu.push(Q(2)+"<image "+T(r)+" width=\""+u.rect.m+"\" height=\""+u.rect.e+"\" id=\"img"+$.Ml+"\" href=\""+aX+"\"/>");
$.GN.push(Q(X)+"<use "+eH+" href=\"#img"+$.Ml+"\" x=\""+jq.x+"\" y=\""+jq.y+"\"/>")}}if(o){X--;$.GN.push(Q(X)+"</g>");
o=!1}}function v(k,$){var p=k.tq.Tracking,X="";if(p!=null&&p!=0){p=Math.round(p*k.tq.FontSize/1e3);X=" dx=\"0";
for(var C=1;C<$.length;C++)X+=" "+p;X+="\" "}return X}function T(k){if(k==null)return"";var $=k.EB,p=j1.md($);
p=g(p.slice(0,p.length-1));return"aria-label=\""+p+"\" "}function Y(k,$){if($.length!=0)k.push("class=\""+$.join(" ")+"\"");
return k.join(" ")}function g(k){return String(k).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\u0022/g,"&quot;")}function R(k){var $=[k.iL,k.k,k.Mg,k.Du,k.qH,k.fp];
for(var l=0;l<6;l++)$[l]=q($[l],3);return"matrix("+$.join(",")+")"}function h(k,$,p,X){if($||k.add.artb){var C;
if($)C=O.r.OW($.i).ad;else{var D=k.oC(),o=O.p.u3(D);C=Typr.U.pathToSVG({crds:o.w,cmds:o.T},1)}p.PT++;
X.push("clip-path=\"url(#cp"+p.PT+")\"");p.Nu.push(Q(2)+"<clipPath clipPathUnits=\"userSpaceOnUse\" id=\"cp"+p.PT+"\">");
p.Nu.push(Q(3)+"<path d=\""+C+"\"/>");p.Nu.push(Q(2)+"</clipPath>")}}function E(k,$,p,X,C,D){var o=p.vstk,t=p.vmsk,u=p.lmfx,m=[];
if(t&&t.Hk!=0){var U=q(t.Hk);if(X.e9[U]==null){X.qh++;X.e9[U]=X.qh;X.Nu.push(Q(2)+"<filter x=\"-50%\" y=\"-50%\" width=\"200%\" height=\"200%\" id=\"f"+X.qh+"\"> <feGaussianBlur stdDeviation=\""+U+"\"/> </filter>")}m.push("url(#f"+X.e9[U]+")")}if(u)for(var l=0;
l<d5.order.length;l++){var I=d5.order[l],x=d5.tS[l],J=u[x].v;for(var r=0;r<J.length;r++){var Z=J[r].v,f=Z.classID;
if(!Z.enab.v)continue;if(f=="OrGl"||f=="DrSh"){X.qh++;m.push("url(#f"+X.qh+")");var F=0,_=0,K=Z.blur.v.val/2.4,B=Z.Opct.v.val/100;
if(f=="DrSh"){var ij=Z.uglg&&Z.uglg.v?k.s9():Z.lagl.v.val;ij=ij*(Math.PI/180);var W=Z.Dstn.v.val;F=-Math.cos(ij)*W;
_=Math.sin(ij)*W}if(f=="OrGl")B/=Z.Inpr.v.val/100;var L="<filter x=\"-50%\" y=\"-50%\" width=\"200%\" height=\"200%\" id=\"f"+X.qh+"\" >";
L+="<feDropShadow dx=\""+F+"\" dy=\""+_+"\" stdDeviation=\""+K+"\" flood-color=\""+CSS.L4(Z.Clr.v)+"\" flood-opacity=\""+q(B)+"\"/>";
L+="</filter>";X.Nu.push(Q(2)+L)}}}if(m.length!=0)$.push("filter:"+H+m.join(" "));var i=hO.yt(u,p),e3=i[0],eE=i[1];
if(o&&!o.fillEnabled.v)$.push("fill:"+H+"none");else if(e3){var ec=CSS.L4(e3.Clr.v);b($,ec,0)}else if(eE){G(eE,X,C,D);
b($,"url(#g"+X.Jy+")",0)}if(o==null||!o.strokeEnabled.v)o=hO.nv(u);if(o&&o.strokeEnabled.v){var gw=o.strokeStyleContent.v,bl=gw.classID;
if(bl=="solidColorLayer")b($,CSS.L4(gw.Clr.v),1);else{G(gw,X,C,D);b($,"url(#g"+X.Jy+")",1)}var cD=d5.Ed.pv.indexOf(o.strokeStyleLineCapType.v.strokeStyleLineCapType),a$=d5.Ed.join.indexOf(o.strokeStyleLineJoinType.v.strokeStyleLineJoinType),hJ=o.strokeStyleOpacity.v.val/100,ei=o.strokeStyleLineWidth.v.val,df=d5.Ed.YH.indexOf(o.strokeStyleLineAlignment.v.strokeStyleLineAlignment);
if(df==2){ei*=2;$.push("paint-order:stroke fill markers")}var bM=o.strokeStyleLineDashSet.v,ib=[];for(var l=0;
l<bM.length;l++)ib.push(Math.round(bM[l].v.val*ei));if(cD!=0)$.push("stroke-linecap:"+H+["butt","round","square"][cD]);
if(a$!=0)$.push("stroke-linejoin:"+H+["miter","round","bevel"][a$]);if(hJ!=1)$.push("stroke-opacity:"+H+q(hJ));
if(ei!=1)$.push("stroke-width:"+H+q(ei));if(ib.length!=0)$.push("stroke-dasharray:"+H+ib.join(","))}}function G(k,$,p,X){$.Jy++;
var C=k.Grad.v,D=JSON.parse(JSON.stringify(C.Clrs.v)),o=JSON.parse(JSON.stringify(C.Trns.v)),t=k.Ofst.v,u=k.Type.v.GrdT,m=u=="Rdl"||u=="Dmnd"?1:0,U=(m==1?"radial":"linear")+"Gradient",I=O.M.vt(k,p),J="";
if(m==0){I[0].x=I[1].x+2*(I[0].x-I[1].x);I[0].y=I[1].y+2*(I[0].y-I[1].y)}var x=Q(2)+"<"+U+" id=\"g"+$.Jy+"\"";
if(X.Dk){if($.Jy==1)$.Nu.push("<linearGradient id=\"P\" gradientUnits=\"userSpaceOnUse\"/>");J=" href=\"#P\""}else J=" gradientUnits=\"userSpaceOnUse\"";
if(m==0)$.Nu.push(x+" x1=\""+q(I[0].x)+"\" y1=\""+q(I[0].y)+"\" x2=\""+q(I[1].x)+"\" y2=\""+q(I[1].y)+"\""+J+">");
if(m==1)$.Nu.push(x+" cx=\""+q(I[0].x)+"\" cy=\""+q(I[0].y)+"\" r=\""+q(ce.Re(I[0],I[1]))+"\""+J+">");
var r=k.Rvrs.v,Z=O.M.fi(C,r);for(var l=0;l<Z.length;l++){var f=Z[l],F=f[0],_=f[1],K=f[2];K=K==1?"":" stop-opacity=\""+q(K)+"\"";
var B=F==0&&X.Dk?"":" offset=\""+q(F)+"\"",ij=CSS.XQ({b:_[0]*255,J:_[1]*255,k:_[2]*255});ij=X.Dk&&ij=="#000000"?"":" stop-color=\""+N(ij)+"\"";
$.Nu.push(Q(3)+"<stop"+B+ij+K+"/>")}$.Nu.push(Q(2)+"</"+U+">")}hW.R8=R;return c}();hW.yj=function(w,n,H,y,c){var Q=[],q=hW.yj,S=!1,A={pV:w,WZ:n,PS:[!0,!0,!0],hh:!1,ww:H,auR:0};
A.nH=Math.round(Math.max(w,n)*(.02+q.hI(A)*.03));A.Xy=q.axH(A);A.W5=q.ac$(A.Xy,(q.hI(A)<.5?-1:1)*(.2+q.hI(A)*.3));
if(q.hI(A)<.5){var V=A.Xy;A.Xy=A.W5;A.W5=V}A.axy=q.hI(A)<.4&&q.ado(A.W5,{b:1,J:1,k:1})>.3;A.ac1=q.hI(A)<.5?0:1;
Q.push("<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 "+w+" "+n+"\" width=\""+w+"\" height=\""+n+"\">");
A.$V=y[Math.floor(q.rU(A)*y.length)];A.Zk=y[Math.floor(q.rU(A)*y.length)];Q.push("<style>");Q.push("@font-face {  font-family: "+A.$V[2]+";  src: url(rsrc/fonts/"+A.$V[5]+");  }");
Q.push("@font-face {  font-family: "+A.Zk[2]+";  src: url(rsrc/fonts/"+A.Zk[5]+");  }");Q.push("</style>");
var e=[0,0,w,n],d=e;if(c==null)Q.push("<path style=\"fill: "+q.fj(A.Xy)+"\" d=\""+q.Rect(e[0],e[1],e[2]-e[0],e[3]-e[1])+"\" id=\"Background\" />");
else{A.hh=!0;q.a3z(A,e,Q,c)}if(q.hI(A)<.25&&!A.hh){A.PS[0]=A.PS[2]=!1;q.a0J(e,A,Q);d=e}else if(q.hI(A)<.25||A.hh)d=e;
else{var N=.52+q.hI(A)*.2;if(q.hI(A)<.5)N=1-N;var b=e.slice(0),z=e.slice(0);if(q.hI(A)<.5)b[2]=z[0]=Math.round(N*w);
else b[3]=z[1]=Math.round(N*n);if(q.hI(A)<.5){var V=b;b=z;z=V}d=b;q.axA(A,z,Q,c)}q.a53(A,d,Q);Q.push("</svg>");
Q=Q.join("\n");var v=O.R(Math.round(Q.length*1.5)),T=j.GG(Q,v,0);return[v.buffer.slice(0,T),A.c1]};hW.yj.a0J=function(w,n,H){var y=hW.yj,c=w[2]-w[0],Q=w[3]-w[1];
if(y.hI(n)<.5){H.push("<path id=\"Border\" style=\"fill: "+y.fj(n.W5)+"\" d=\""+y.aA2(w[0],w[1],w[2]-w[0],w[3]-w[1],n.nH)+"\" />")}else if(y.hI(n)<-.4){y.a3W(n,w,H)}else{var q=y.hI(n)<.5?0:1,S=(q==0?Q:c)/4,A=y.j5(n,q,w,H,S,!0),A=y.j5(n,q+2,w,H,S,!0,A)}};
hW.yj.a53=function(w,n,H){var y=hW.yj,c="Hello World!-What a beautiful day.-What Is Love?-Baby, don't hurt me.-Is This a Real Life?-Is this a fantasy?-Wake Me Up!-Before you go go.-I Saw The Sign.-And it opened up my mind!".split("-"),Q=2*Math.floor(y.hI(w)*c.length/2),q=n[2]-n[0],S=n[3]-n[1],V=0,d=0;
w.kN=(w.pV+q)*.5*(.04+y.hI(w)*.05);w.kN=Math.min(w.kN,S*.4,q*.12);w.kN=Math.round(w.kN);var A=Math.min(w.kN*c[Q].length*(.35+.3*y.hI(w)),q*.9),e=(n[1]+n[3])/2,N=O.Vr(w.Xy)<.85?{b:1,J:1,k:1}:{b:.1,J:.1,k:.1};
if(y.hI(w)<.25&&w.PS[0]){d=0;V=n[0]+w.nH}else if(y.hI(w)<.33&&w.PS[2]){d=2;V=n[2]-w.nH}else{d=1;V=(n[0]+n[2])/2}var b=N.b==1?"0,0,0":"255,255,255",z=w.hh&&y.hI(w)<1;
if(z){var v=n[0],T=q,Y=e-w.kN*1.1,g=w.kN*2.2,R=.7;if(d==1&&y.hI(w)<.5){v=Y=.2*Math.min(q,S);T=q-2*Y;
g=S-Y-Y}else if(y.hI(w)<.7){v=Y=0;T=q;g=S;R=.25}H.push("<path id=\"Strip\" style=\"fill: rgb("+b+"); opacity: "+R+"\" d=\""+y.Rect(v,Y,T,g)+"\" />")}if(y.hI(w)<.4){var h=w.kN*.07;
h*=1.5+y.hI(w)*1;if(d==-1&&q/S<3&&!z){H.push("<path id=\"Bar-bottom\" style=\"fill: "+y.fj(N)+"\" d=\""+y.Rect(V-A/2,e+w.kN*1.1-h/2,A,h)+"\" />");
H.push("<path id=\"Bar-top\"    style=\"fill: "+y.fj(N)+"\" d=\""+y.Rect(V-A/2,e-w.kN*1.1-h/2,A,h)+"\" />")}if(d!=1){H.push("<path id=\"Bar\" style=\"fill: "+y.fj(N)+"\" d=\""+y.Rect(V-h/2,e-w.kN*.8,h,w.kN*.8*2)+"\" />");
V+=(d==0?1:-1)*w.kN/3}}var E=w.kN*.4;H.push(y.a5y(c[Q+1],V,e+E*1.6,E,N,d,w.Zk));H.push(y.a5y(c[Q],V,e+w.kN*.04,w.kN,N,d,w.$V))};
hW.yj.axA=function(w,n,H,y){var c=n[2]-n[0],Q=n[3]-n[1],q=Math.max(c,Q),S=Math.min(c,Q),A=hW.yj;if(q/S<5&&!w.hh&&!1){A.a3z(w,n,H,y)}else if(A.hI(w)<0)H.push("<path style=\"fill: "+A.fj(w.W5)+"\" d=\""+A.Rect(n[0],n[1],c,Q)+"\" />");
else{var V=0;if(n[3]!=w.WZ)V=0;if(n[2]!=w.pV)V=3;if(n[0]!=0)V=1;if(n[1]!=0)V=2;var e=V+2&3;if(q/S<3){var d=A.aoj(e),N=d[Math.round(A.hI(w)*(d.length-1))],b=N.os.slice(0,4),z=b.indexOf(1);
N=JSON.parse(JSON.stringify(N));var v=-1;if(b!="0000"){var T=new b7;if(N.os[5]=="0"){if(z==3&&V==1){v=1;
T.scale(-1,1)}else v=z}else{var Y=e;while(Y==e)Y=Math.floor(A.hI(w)*4)&3;T.rotate((-z+Y)*Math.PI/2)}A.D(N,T)}var g=A.hH(N),R=c-2*w.nH,h=Q-2*w.nH;
if(v!=-1){if((v&1)==0)h-=w.nH;else R-=w.nH}var E=Math.min(R/g.m,h/g.e),G=new b7;G.translate(-g.x,-g.y);
G.scale(E,E);var k=(c-g.m*E)/2,$=(Q-g.e*E)/2;if(v!=-1){if(v==3)k=0;if(v==0)$=0;if(v==1)k=c-g.m*E;if(v==2)$=Q-g.e*E}G.translate(n[0]+k,n[1]+$);
A.FQ(w,N,G,w.W5,H)}else{A.j5(w,V,n,H,1e9)}}};hW.yj.a3z=function(w,n,H,y){var c=n[2]-n[0],Q=n[3]-n[1],q=Math.max(c,Q),S=Math.min(c,Q),A=hW.yj,V=A.rU(w),e,d,N,b=y[0]instanceof ArrayBuffer;
if(b){e="data:image/jpg;base64,"+f1.ug(y[0]);d=y[1];N=y[2]}else{var z=Math.floor(V*y.length),v=y[z];
w.c1=v;e=v.webformatURL;d=v.webformatWidth;N=v.webformatHeight}var T=n[0],Y=n[1],g=c,R=Q;if(c/Q>d/N){R=g*N/d;
Y=Y-(R-Q)/2}else{g=R*d/N;T=T-(g-c)/2}if(b){H.push("<defs>");H.push("<image width=\""+d+"\" height=\""+N+"\" id=\"Background\" href=\""+e+"\" />");
H.push("</defs>");var h=g/d;H.push("<use href=\"#Background\" transform=\""+hW.R8(new b7(h,0,0,h,T,Y))+"\" />")}else{var E="cp"+Math.random();
H.push("<clipPath id=\""+E+"\">");H.push("<path style=\"fill: "+A.fj(w.W5)+"\" d=\""+A.Rect(n[0],n[1],c,Q)+"\" />");
H.push("</clipPath>");H.push("<image  clip-path=\"url(#"+E+")\" xlink:href=\""+e+"\" x=\""+T+"\" y=\""+Y+"\" width=\""+g+"\" height=\""+R+"\" />")}};
hW.yj.a5y=function(w,n,H,y,c,Q,q){var S=hW.yj;return"<text x=\""+n+"\" y=\""+H+"\" style=\"fill:"+S.fj(c)+"; font-size:"+y+"px; text-anchor:"+["start","middle","end"][Q]+"; font-family:"+q[2]+";\"><tspan>"+w+"</tspan></text>"};
hW.yj.FQ=function(w,n,H,y,c){var Q=hW.yj,q=[];for(var l=0;l<n.Ug.length;l++){q.push(y);if(w.axy){y=(l&1)==w.ac1?{b:1,J:1,k:1}:q[0]}}c.push("<g id=\""+n.os.split("-")[2]+":::\" style=\"transform: "+hW.R8(H)+";\" >");
for(var l=0;l<n.Ug.length;l++){var S=n.Ug[l];y=q.pop();c.push("<path style=\"fill: "+(y?Q.fj(y):"#"+S[0])+"\" d=\""+Typr.U.pathToSVG({crds:S[1].w,cmds:S[1].T})+"\" />")}c.push("</g>")};
hW.yj.a3W=function(w,n,H){var y=hW.yj,c=hW.yj.ix,Q=[];for(var l=0;l<c.length;l++){var q=c[l],S=q.os.slice(0,4);
if(S!="1001")continue;Q.push(q)}var q=Q[Math.floor(y.hI(w)*Q.length)];if(y.hI(w)<.5)y.D(q,new b7(0,1,1,0,0,0));
var A=n[3]-n[1],V=n[2]-n[0],e=y.hH(q),d=.7*Math.min(V,A,.5*Math.max(V,A))/Math.max(e.m,e.e),N=new b7;
N.scale(d,d);if(y.hI(w)<.5){N.scale(1,-1);N.translate(0,A)}y.FQ(w,q,N,w.W5,H);N.rotate(Math.PI);N.translate(V,A);
y.FQ(w,q,N,w.W5,H)};hW.yj.aoj=function(w){var n=hW.yj.ix,H=[];for(var l=0;l<n.length;l++){var y=n[l],c=y.os.slice(0,4);
if(c=="0000"){H.push(y);continue}if(["1000","0100","0010","0001"].indexOf(c)==-1)continue;var Q=c.indexOf("1");
if(y.os[5]=="0"&&w==Q&&Q!=3)continue;H.push(y)}return H};hW.yj.j5=function(w,n,H,y,c,Q,q){var S=hW.yj.ix,A=hW.yj,V=[],g,R;
for(var l=0;l<S.length;l++){var e=S[l],d=e.os.slice(0,4);if(["1110","1101","1011","0111"].indexOf(d)==-1)continue;
var N=d.indexOf("0")+2&3;if(e.os[5]=="0")if(Q==!0||n!=N&&!(n==1&&N==3))continue;V.push(e)}var b=q!=null?q:Math.floor(A.hI(w)*V.length),e=V[b],e=JSON.parse(JSON.stringify(e)),d=e.os.slice(0,4),N=d.indexOf("0")+2&3;
if(N==3&&n==1)O.D(e,new b7(1,0,0,-1,0,1e3));var z=new b7;z.translate(-500,-500);z.rotate(-N*Math.PI/2);
z.translate(500,500);A.D(e,z);var v=H[3]-H[1],T=H[2]-H[0],Y=A.hH(e);if(Y.y<0){Y.e+=Y.y;Y.y=0}if(Y.y>0){Y.e+=Y.y;
Y.y=0}if((n&1)==0){R=v;g=T}else{g=v;R=T}var h=Math.min(Math.min(.5+.5*A.hI(w))*Math.min(T,v),c)/Y.e,E=Math.ceil(g/(1e3*h)),G=new b7,k=new b7;
k.scale(h,h);if(n==0||n==2){k.translate(-(T/2),-(v/2));k.rotate(-n*Math.PI/2);k.translate(T/2+H[0],v/2+H[1])}else{k.rotate(Math.PI/2);
k.scale(1,-1);k.translate(H[0],H[1]);if(n==1){k.scale(-1,1);k.translate(T,0)}}y.push("<g id=\"Border-"+["top","right","bottom","left"][n]+":::\">");
for(var l=0;l<E;l++){var $=G.clone();$.concat(k);A.FQ(w,e,$,w.W5,y);G.translate(1e3-2,0)}y.push("</g>");
return b};hW.yj.Rect=function(w,n,H,y){return Typr.U.pathToSVG({crds:[w,n,w+H,n,w+H,n+y,w,n+y],cmds:["M","L","L","L","Z"]})};
hW.yj.aA2=function(w,n,H,y,c){var Q=[w,n,w+H,n,w+H,n+y,w,n+y];w+=c;n+=c;H-=2*c;y-=2*c;Q.push(w,n,w,n+y,w+H,n+y,w+H,n);
return Typr.U.pathToSVG({crds:Q,cmds:"M L L L Z M L L L Z".split(" ")})};hW.yj.ac$=function(w,n){var H=O.v1(w.b,w.J,w.k);
H.fg=Math.max(.1,Math.min(.9,H.fg+n));return O.EY(H.WZ,H.ua,H.fg)};hW.yj.aob=function(w,n){var H=O.v1(w.b,w.J,w.k);
H.WZ+=n;return O.EY(H.WZ,H.ua,H.fg)};hW.yj.auQ=function(w){var n=O.v1(w.b,w.J,w.k);n.fg=1-n.fg;return O.EY(n.WZ,n.ua,n.fg)};
hW.yj.ado=function(w,n){var H=w.b-n.b,y=w.J-n.J,c=w.k-n.k;return Math.sqrt(H*H+y*y+c*c)};hW.yj.axH=function(w){var n=hW.yj;
return{b:n.hI(w),J:n.hI(w),k:n.hI(w)}};hW.yj.fj=function(w){return CSS.XQ({b:w.b*255,J:w.J*255,k:w.k*255})};
hW.yj.hH=function(w){var n=w.Ug,H=new cr;for(var l=0;l<n.length;l++)H=H.ld(O.p.hH(n[l][1].w));return H};
hW.yj.D=function(w,n){var H=w.Ug;for(var l=0;l<H.length;l++)O.p.D(H[l][1].w,n,H[l][1].w)};hW.yj.hI=function(w){w.auR++;
var n=w.auR&3;if(n==0)w.ww=hW.yj.tk(w.ww);var H=w.ww>>>8*n&255;return H*(.99999999/255)};hW.yj.rU=function(w){var n=hW.yj.tk(w.ww);
w.ww=hW.yj.tk(n);return n*(1/4294967295)};hW.yj.tk=function(w){w=(w^61^w>>>16)>>>0;w=w+(w<<3)>>>0;w=(w^w>>>4)>>>0;
w=w*668265261>>>0;w=(w^w>>>15)>>>0;return w};hW.yj.ix=[{os:"0001-0-bird",Ug:[["4b3c34",{T:"M C L C C L Z M C C L C C L Z M C L C L Z M C L C C L Z".split(" "),w:[208,16,253,5,247,86,228,104,218,108,253,60,235,12,211,18,210,18,209,17,208,16,208,16,187,140,238,125,326,133,319,189,318,198,307,210,299,207,297,205,307,208,316,195,317,188,320,126,208,137,174,149,187,140,137,75,156,79,177,94,164,157,173,147,177,101,165,79,142,75,137,75,368,59,165,59,182,233,0,210,0,225,161,250,194,61,364,63,367,61,368,59,368,59,368,59]}],["3c7040",{T:"M C C C C C L Z M C C C C L Z M C C C C L Z M C C C C L Z M C C C C C L Z M C C C C L Z M C C C C Z".split(" "),w:[345,123,324,113,331,70,284,80,287,79,310,89,314,103,314,104,306,90,284,82,281,81,270,85,268,86,274,117,335,119,345,123,345,123,270,0,283,29,282,58,244,66,258,62,265,40,269,27,265,37,256,56,249,58,242,31,263,18,270,0,270,0,89,100,81,136,47,182,101,196,90,189,92,157,91,145,94,160,93,191,109,195,148,158,96,129,89,100,89,100,230,187,201,240,160,226,133,198,150,191,172,197,187,198,166,193,153,190,134,193,159,162,207,194,230,187,230,187,126,177,131,159,129,150,119,139,122,122,145,112,147,97,166,128,164,155,134,168,139,154,146,142,145,131,143,145,133,159,126,177,126,177,209,86,195,86,166,91,173,109,177,102,181,97,191,96,180,99,174,113,175,113,194,114,200,96,209,86,209,86,278,175,254,167,235,168,231,143,245,143,248,151,256,158,252,147,243,144,240,142,276,147,265,171,278,175]}],["b588c1",{T:"M C C C C C C C C C C C C L Z".split(" "),w:[189,40,188,42,186,44,184,47,184,52,183,55,181,59,175,70,160,78,147,79,142,79,131,78,127,75,118,74,95,71,93,70,89,70,88,70,69,72,74,66,82,68,93,65,78,64,83,62,95,59,128,50,128,33,155,29,162,16,180,13,189,31,193,31,196,34,198,37,197,37,193,39,189,40,189,40]}]]},{os:"0001-0-bird2",Ug:[["ff7f2a",{T:"M L L L Z M L L L Z".split(" "),w:[296,0,296,62,335,62,296,0,357,0,357,62,318,62,357,0]}],["b588c1",{T:"M C C C C C C C C C C C L Z".split(" "),w:[321,48,344,48,379,67,396,121,408,176,396,230,337,255,303,265,265,268,217,235,191,217,170,188,186,180,195,177,199,187,205,192,203,185,199,178,207,172,217,165,224,178,225,182,227,196,231,203,250,206,273,205,290,196,292,165,289,133,269,118,268,101,267,77,288,49,321,48,321,48]}],["74439e",{T:"M C C C C C C L Z M C C Z".split(" "),w:[337,187,329,202,317,204,304,204,293,204,284,205,293,224,286,216,278,209,268,214,257,220,262,237,269,243,284,258,310,256,323,243,337,227,339,208,337,187,337,187,340,77,310,78,287,81,315,96,269,83,309,75,340,77]}],["000000",{T:"M L L L Z M L L L Z".split(" "),w:[326,258,334,315,323,316,326,258,298,262,296,318,286,317,298,262]}],["4b3c34",{T:"M L C C C C C C C C L Z".split(" "),w:[0,272,0,336,63,296,119,296,175,320,205,330,229,339,278,338,322,337,354,322,405,325,443,329,482,332,501,377,501,366,502,348,474,328,464,320,440,312,384,309,296,309,300,333,186,293,118,264,54,250,0,272,0,272]}],["3c7040",{T:"M C C C Z M C C C Z M C C C L Z M C C C L Z M C C C L Z M C C C Z".split(" "),w:[58,260,44,247,27,239,20,208,15,188,32,182,43,198,59,227,56,242,58,260,181,323,167,336,150,345,143,375,138,396,155,401,166,385,182,356,179,342,181,323,60,260,79,249,100,243,113,214,122,194,102,186,86,200,62,227,65,242,60,260,60,260,499,378,479,377,462,372,435,388,417,399,425,415,444,411,476,403,484,390,499,378,499,378,501,379,494,397,482,411,488,442,491,463,511,461,514,442,520,410,508,397,501,379,501,379,503,378,513,390,516,402,531,413,546,421,557,412,548,401,534,382,519,379,503,378]}]]},{os:"0000-1-flower",Ug:[["7a59a2",{T:"M C C C C C C C Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z".split(" "),w:[468,470,411,473,371,480,351,495,332,509,322,536,325,581,325,601,328,621,325,637,346,634,371,638,397,637,427,636,456,626,465,611,478,596,485,553,489,490,477,489,470,483,468,470,445,563,435,583,425,591,415,590,401,588,401,572,410,549,388,558,375,557,369,546,366,533,374,524,390,517,416,506,441,498,465,495,463,519,455,542,445,563,445,563,489,450,486,392,480,352,465,332,451,313,425,302,380,305,360,305,340,307,324,304,327,324,322,350,323,376,323,406,332,435,347,444,362,457,405,465,468,470,469,458,476,451,489,450,489,450,395,424,376,415,368,405,369,394,371,380,387,380,410,390,402,368,403,355,414,349,427,346,436,355,443,370,454,397,460,422,463,446,439,443,417,435,395,424,395,424,508,470,566,468,606,462,626,447,645,433,656,407,654,362,654,342,652,322,655,306,634,309,609,304,583,305,553,305,524,314,514,329,501,344,493,387,488,449,500,451,507,457,508,470,508,470,534,377,544,357,554,350,564,351,578,353,578,369,568,392,590,384,604,385,609,396,612,409,603,418,588,425,561,435,536,442,512,445,515,421,523,399,534,377,534,377,488,490,492,547,499,587,514,607,528,626,554,636,600,633,619,632,640,630,656,633,652,612,656,587,655,560,655,531,645,502,629,493,614,480,571,473,508,469,507,481,501,488,488,490,488,490,582,513,602,523,610,533,609,543,607,557,591,557,568,548,577,570,576,583,565,589,552,592,542,584,535,568,524,542,517,517,514,493,538,495,560,503,582,513,582,513]}]]},{os:"0000-1-flower",Ug:[["d13777",{T:"M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z".split(" "),w:[474,503,457,528,452,530,450,528,450,523,469,498,464,493,388,522,332,552,314,585,297,628,322,660,372,639,361,698,421,709,450,665,467,649,477,596,482,505,474,503,474,503,439,563,431,563,424,556,424,548,424,539,431,532,439,532,447,532,454,539,454,548,454,556,447,563,439,563,462,475,432,467,429,463,430,460,435,458,465,469,468,463,417,399,371,356,335,348,288,345,265,379,300,420,241,428,249,488,301,503,321,513,374,507,462,483,462,475,462,475,394,460,391,452,396,444,404,441,412,438,420,443,423,451,426,459,421,467,413,470,405,473,396,468,394,460,484,455,483,424,486,419,489,420,492,424,492,456,498,457,543,389,570,332,566,294,554,249,515,238,487,284,461,231,406,256,408,310,405,333,427,381,477,458,484,455,484,455,477,385,484,380,494,382,499,389,504,396,502,405,496,410,489,415,479,414,474,407,469,400,471,390,477,385,511,470,539,459,545,461,545,463,542,467,512,477,513,483,592,505,654,513,688,497,728,472,726,432,674,419,717,378,675,334,625,353,602,356,563,393,506,464,511,470,511,470,575,442,581,447,583,456,578,463,573,470,563,472,557,467,550,462,548,452,553,445,558,438,568,437,575,442,505,499,524,523,524,529,521,531,517,529,498,503,492,506,496,588,508,650,533,677,570,707,607,693,603,639,656,667,685,614,651,572,641,551,594,525,509,493,505,499,505,499,551,552,548,560,540,564,532,561,524,559,519,550,522,542,524,534,533,530,541,532,549,535,554,543,551,552]}]]},{os:"0000-1-flower",Ug:[["ffac42",{T:"M C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C Z M C C C C Z".split(" "),w:[646,471,646,446,626,426,601,426,599,426,597,426,595,427,596,426,598,424,599,423,616,406,616,378,599,360,581,343,553,343,536,360,534,361,533,363,532,364,532,363,532,361,532,359,532,335,512,315,488,315,463,315,443,335,443,359,443,361,443,363,443,365,442,364,441,363,440,362,422,344,394,344,377,362,359,379,359,407,377,425,378,426,380,427,381,429,379,428,378,428,376,428,351,428,331,448,331,473,331,498,351,518,376,518,378,518,380,517,382,517,381,518,379,519,378,521,361,538,361,566,378,584,396,601,424,601,441,584,443,582,444,581,445,579,445,581,445,583,445,584,445,609,465,629,490,629,514,629,534,609,534,584,534,582,534,580,534,579,535,580,536,581,537,582,555,600,583,600,600,582,618,565,618,537,600,519,599,518,597,516,596,515,598,515,599,516,601,516,626,516,646,496,646,471,489,552,444,552,409,516,409,472,409,428,444,392,489,392,533,392,569,428,569,472,569,516,533,552,489,552]}]]},{os:"0000-1-flower",Ug:[["d04040",{T:"M C C L L C C C C L L C C L L C C C C L C C C C L Z M C C C Z M C C C L Z M C C C L Z".split(" "),w:[691,424,690,369,680,330,660,303,634,320,601,361,568,406,568,406,568,327,578,326,585,317,585,306,585,294,576,284,564,284,552,284,542,294,542,306,542,317,550,326,560,327,560,406,559,406,540,359,522,311,501,291,475,319,453,360,433,407,431,406,431,327,441,326,448,317,448,306,448,294,439,284,427,284,415,284,405,294,405,306,405,317,412,326,423,327,423,404,390,363,360,326,341,308,296,401,299,489,360,567,396,613,443,639,500,638,624,636,694,524,692,424,691,424,389,543,370,514,379,498,399,504,439,518,470,564,488,613,455,600,414,580,389,543,481,480,488,445,505,441,515,459,533,497,524,552,501,599,487,567,472,523,481,480,481,480,624,523,610,563,565,595,515,613,528,580,548,538,585,514,614,494,629,503,624,523,624,523]}]]},{os:"0000-1-flower",Ug:[["ec7272",{T:"M C C C C Z M C C C C Z M C C C C L Z M C C C C L Z M C C C C Z M C C C C L Z".split(" "),w:[447,475,452,450,452,438,437,423,422,407,407,412,390,383,398,418,421,415,433,434,445,453,446,474,447,475,495,446,520,439,529,433,535,412,542,390,529,380,546,351,520,376,533,394,523,414,513,434,495,445,495,446,545,473,564,490,574,495,595,490,617,485,620,469,653,468,619,459,610,479,587,480,565,482,546,472,545,473,545,473,549,533,543,558,543,569,559,585,574,601,589,596,606,624,597,590,575,592,563,573,551,555,550,534,549,533,549,533,504,562,480,570,470,575,464,596,458,618,470,628,454,657,479,632,466,614,476,594,486,575,504,563,504,562,459,536,440,519,430,513,409,518,387,524,384,539,351,540,385,549,394,529,417,528,439,527,457,536,459,536,459,536]}],["333333",{T:"M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z".split(" "),w:[534,455,584,415,579,358,577,335,574,315,585,304,585,304,585,304,568,308,561,312,554,316,520,333,500,363,479,392,493,437,486,456,479,476,452,485,452,485,452,485,471,474,475,454,479,434,460,402,482,365,505,328,565,292,597,294,612,295,591,298,587,316,583,333,593,373,584,404,574,440,533,456,534,455,534,455,559,506,619,530,666,497,685,483,701,471,716,475,716,475,716,475,704,463,697,459,690,454,657,434,622,431,587,428,554,462,534,465,513,469,492,451,492,451,492,451,511,461,530,455,549,448,568,416,611,417,654,418,716,452,730,481,737,495,724,478,706,483,689,489,660,516,628,524,592,534,558,506,559,506,559,506,524,552,534,615,586,640,607,649,625,657,629,672,629,672,629,672,634,655,634,647,634,639,636,601,621,569,606,537,560,525,547,509,534,494,539,466,539,466,539,466,539,488,554,501,569,514,607,514,627,552,648,590,650,660,632,687,623,700,631,680,617,667,605,656,566,644,543,621,517,594,524,551,524,552,524,552,467,546,417,585,421,643,424,665,426,686,415,697,415,697,415,697,432,693,439,689,446,684,481,667,501,638,521,609,508,563,515,544,522,524,548,515,548,515,548,515,530,527,526,546,522,566,540,598,518,635,496,672,436,709,404,706,388,705,409,702,413,684,417,667,408,628,417,596,426,561,467,544,467,546,467,546,442,495,383,472,336,504,317,518,301,530,286,526,286,526,286,526,298,539,305,543,312,547,344,568,380,571,415,574,448,539,468,536,488,532,510,551,510,551,510,551,490,540,471,547,452,553,434,585,391,584,348,583,286,550,272,521,265,507,278,524,296,518,313,513,342,485,373,477,409,468,444,495,442,495,442,495,476,449,467,386,415,361,394,352,375,344,371,329,371,329,371,329,366,346,366,354,366,362,364,400,379,433,394,465,440,476,453,492,467,508,462,535,462,535,462,535,461,513,446,500,431,487,394,487,373,449,352,411,350,341,368,314,377,301,369,321,383,334,396,345,434,357,457,380,483,407,477,450,476,449,476,449]}]]},{os:"0000-0-hearts",Ug:[["d17070",{T:"M C C C C C C C C C L Z".split(" "),w:[415,584,413,585,411,586,409,587,392,596,389,620,395,633,401,647,414,663,450,668,485,674,487,681,494,690,491,679,487,673,507,643,527,613,524,593,518,579,512,566,493,552,475,558,467,561,451,566,448,586,435,578,423,581,415,584,415,584]}],["6bcc6b",{T:"M C C C C C C C C C L Z".split(" "),w:[595,451,593,449,590,448,588,448,563,439,537,457,529,475,521,493,516,520,542,560,568,601,563,609,559,623,568,611,571,602,618,595,666,589,684,567,692,550,700,532,697,501,674,488,665,482,645,472,622,486,619,465,606,456,595,451,595,451]}],["5c5cc2",{T:"M C C C C C C C C C L Z".split(" "),w:[341,362,338,364,335,366,332,368,304,385,301,424,312,446,323,468,345,494,405,501,465,508,468,520,480,534,475,516,468,506,499,455,531,404,524,370,514,348,503,325,470,304,440,315,427,320,401,331,397,364,374,351,355,356,341,362,341,362]}]]},{os:"0000-0-anchor",Ug:[["2a3b66",{T:"M C C C C L Z M C C C C C C C C C C C C C C L C C C C C C C C C C C C C L C C C C C C C C C C C C C L Z".split(" "),w:[495,315,490,315,488,318,489,323,491,328,502,326,502,320,502,317,501,316,497,315,496,315,496,315,495,315,495,315,496,303,509,303,521,320,514,327,511,330,513,345,517,348,519,350,531,352,546,354,570,357,572,357,578,354,588,347,592,351,592,369,592,385,588,390,580,385,576,383,570,383,552,384,524,387,519,389,517,397,515,404,517,515,520,554,522,583,525,599,530,606,534,610,555,617,565,617,584,616,607,602,635,572,639,568,641,566,644,563,633,559,616,557,616,557,675,533,675,533,671,605,669,609,667,611,664,591,658,577,657,579,657,580,656,582,628,638,603,660,565,664,545,666,521,672,514,675,512,677,507,682,504,688,501,693,497,698,496,698,494,698,490,693,487,688,484,682,480,677,477,675,471,672,447,666,427,664,391,660,367,640,340,591,335,604,332,621,331,619,329,615,325,544,325,544,384,568,384,568,368,569,357,573,385,602,408,616,426,617,437,617,458,610,461,606,466,599,470,583,472,554,474,515,476,404,475,397,473,389,468,387,440,384,422,383,416,383,412,385,403,390,400,385,400,369,400,351,403,347,414,354,419,357,421,357,446,354,460,352,473,350,475,348,478,345,481,330,478,327,470,320,483,303,496,303,496,303]}]]},{os:"0000-1-leaf",Ug:[["fbb600",{T:"M L L L L L L C L L C L C L C C C C C L C C C C C C C C C L C C C C C C C C C C C C C L L L L Z".split(" "),w:[642,726,633,723,632,707,591,631,570,582,526,521,537,547,535,579,517,598,501,619,486,602,414,634,412,606,379,609,346,611,394,557,406,547,401,539,386,532,319,519,337,508,332,493,320,478,326,464,302,450,287,436,303,436,324,441,330,432,346,434,359,434,359,415,377,428,397,431,417,432,442,440,437,418,417,416,406,372,401,370,395,367,389,355,417,363,408,339,406,323,416,312,427,303,417,276,433,295,444,297,452,294,479,321,490,313,496,294,503,322,510,329,517,338,522,353,530,371,530,379,546,402,551,389,555,378,578,333,606,333,628,304,652,280,646,306,644,327,657,329,649,356,658,374,679,384,666,392,656,415,645,432,627,457,653,451,661,457,692,460,698,473,715,481,697,485,678,488,669,509,656,523,655,533,666,539,659,537,659,542,643,531,630,535,613,543,608,539,598,535,594,542,590,553,590,566,594,564,596,569,568,575,551,543,531,519,575,577,597,628,639,708,642,726]}]]},{os:"0000-1-acorn",Ug:[["a05a2c",{T:"M C C C C C C C L Z".split(" "),w:[506,453,450,426,413,422,398,444,374,480,374,533,384,573,391,602,407,625,430,645,451,658,487,654,509,647,554,633,587,605,612,565,635,527,591,500,565,482,557,476,515,457,506,453,506,453]}],["502d16",{T:"M C C C C C C C C C C C Z".split(" "),w:[640,524,639,539,623,540,623,540,627,522,607,504,583,488,547,465,507,445,470,434,439,426,412,417,400,437,400,437,391,424,400,414,434,370,498,356,551,376,555,349,583,317,597,321,612,326,621,346,620,350,619,354,594,352,584,368,580,375,577,382,575,387,619,412,649,460,640,524]}]]},{os:"0000-0-skull",Ug:[["808080",{T:"M C L C C L C L C C C C C C C L C L C C C C C C C C L C C L C L C C C C C C C L C L C L C C C C C C Z M C C C C Z M C C C C Z M L L L Z".split(" "),w:[396,410,398,415,398,420,398,424,420,437,433,404,465,382,501,382,538,382,569,404,582,435,602,424,602,419,603,415,604,410,604,410,609,392,622,379,633,382,643,384,648,402,643,420,643,421,642,421,642,422,643,422,643,422,644,422,662,427,675,440,672,450,669,461,652,465,633,460,628,459,624,457,620,455,589,473,588,491,582,507,572,520,607,540,611,538,615,536,620,535,639,530,656,535,659,545,662,556,649,568,630,573,630,574,629,574,629,574,629,574,629,575,629,575,634,594,630,611,619,614,609,617,596,604,591,585,590,580,589,576,589,571,565,557,564,592,536,619,501,619,466,619,438,591,437,557,412,572,411,576,411,580,410,585,410,585,405,604,392,617,381,614,371,611,366,593,371,575,371,574,371,574,372,574,371,573,371,573,370,573,352,568,339,556,342,545,345,534,362,530,381,535,385,536,390,538,394,540,430,519,421,507,415,491,414,475,380,455,376,457,372,459,367,460,367,460,349,465,331,461,328,450,326,440,338,427,357,422,357,422,358,422,358,422,358,421,358,421,358,420,353,402,357,384,368,381,379,379,391,391,396,410,463,439,445,439,431,453,431,470,431,488,445,502,463,502,480,502,494,488,494,470,494,453,480,439,463,439,540,439,522,439,508,453,508,470,508,488,522,502,540,502,557,502,571,488,571,470,571,453,557,439,540,439,483,528,518,528,500,503,483,528]}]]},{os:"0000-0-ghost",Ug:[["e6e6e6",{T:"M C C C C C C C C C C L Z M C C C C C C C C Z M C C Z".split(" "),w:[653,486,653,574,689,597,689,638,689,661,640,644,620,656,601,666,609,682,583,692,563,700,538,666,512,666,490,666,451,695,433,686,415,677,416,646,388,644,367,641,313,671,313,648,313,619,346,588,346,486,346,388,415,308,500,308,584,308,653,388,653,486,653,486,449,396,428,396,412,415,412,439,412,462,428,482,449,482,465,482,478,470,484,454,489,470,503,482,519,482,539,482,556,462,556,439,556,415,539,396,519,396,503,396,489,407,484,423,478,407,465,396,449,396,482,505,441,505,465,560,482,560,503,560,524,505,482,505]}],["000000",{T:"M C C C C Z M C C C C Z".split(" "),w:[526,446,526,455,519,462,510,462,501,462,494,455,494,446,494,437,501,430,510,430,519,430,526,437,526,446,475,446,475,455,468,462,459,462,450,462,442,455,442,446,442,437,450,430,459,430,468,430,475,437,475,446]}]]},{os:"1001-1-rose",Ug:[["9e1460",{T:"M C C C C C C C C C Z M C C C C C C C C C Z".split(" "),w:[568,83,558,83,548,88,539,96,538,98,536,99,535,101,522,115,513,134,517,149,522,172,561,200,592,207,604,210,611,215,615,221,622,234,611,258,611,258,613,260,615,264,618,264,627,266,638,241,640,236,660,188,614,83,568,83,526,125,527,97,567,68,593,75,616,81,642,121,649,152,651,165,656,172,662,176,675,183,698,173,698,173,698,173,698,173,698,173,704,176,705,179,705,180,706,189,681,199,678,200,678,200,677,201,677,201,627,220,524,170,526,125]}],["020304",{T:"M C C C C C Z M C C C C C Z M C C C C C Z M C C C C Z".split(" "),w:[60,151,60,151,37,125,60,98,83,72,95,91,115,66,134,42,117,26,120,30,123,34,146,83,132,114,114,154,60,151,60,151,280,70,280,70,258,97,283,122,308,147,318,127,339,150,361,173,344,190,347,186,350,182,370,132,354,101,333,62,280,70,280,70,61,150,61,150,27,143,30,108,33,73,54,81,55,50,57,19,33,16,38,17,43,19,91,44,98,78,107,121,61,150,61,150,-27,185,184,158,222,43,352,32,444,24,538,97,538,97,538,97,453,45,354,48,241,51,185,170,-27,185]}]]},{os:"1001-1-curls",Ug:[["53a7ab",{T:"M C C C C C C C C C C C C C C C C L Z M C C C C C C C C C C C C C C C C L Z M C C C C C C C C C C C C C C C C C C C C C L Z".split(" "),w:[68,114,121,103,159,110,183,135,212,169,211,204,189,237,162,277,124,291,86,276,52,263,38,236,47,202,55,168,79,151,121,156,147,162,165,177,160,205,155,228,135,241,113,237,97,234,92,221,96,205,98,195,105,194,115,200,124,205,133,204,135,197,139,183,122,167,95,171,68,176,54,193,68,220,84,252,131,261,165,238,201,202,199,164,158,136,118,113,52,122,-23,151,2,134,33,122,68,114,68,114,71,83,119,75,163,79,198,107,226,129,247,174,271,207,291,229,316,241,342,232,370,222,394,206,418,209,443,212,461,238,485,258,500,272,522,276,543,271,543,271,524,279,518,281,500,287,483,277,466,256,453,243,441,230,427,223,413,217,392,220,372,229,372,230,371,230,370,230,354,241,337,251,315,250,283,248,253,222,229,172,209,133,178,106,137,94,103,84,52,94,-30,133,-3,108,30,91,71,83,71,83,83,54,122,46,166,49,195,67,219,82,250,122,290,168,308,186,330,194,355,192,393,183,400,145,383,118,372,101,355,91,328,91,313,92,303,98,300,109,298,116,299,125,304,131,315,147,327,152,340,149,349,149,354,132,343,131,330,131,326,129,328,120,332,97,355,100,365,114,381,137,367,165,343,168,321,170,289,150,288,117,290,77,319,58,352,64,388,74,405,104,404,141,403,177,382,202,345,207,312,211,284,191,260,161,245,141,229,122,213,106,196,84,166,73,129,67,80,62,28,79,-26,108,10,79,46,63,83,54,83,54]}],["bbdc54",{T:"M C C C C C L Z M C C C C C L Z M C C C C L Z M C C C C L Z M C C C C C C C C C L Z M C C C C C C C C C C C C C C C C C C C C C C C C C C C C C L Z".split(" "),w:[321,315,287,324,252,312,211,219,217,284,239,326,279,341,324,352,362,329,398,291,316,305,258,269,217,196,238,284,274,319,321,315,321,315,211,261,223,300,234,345,252,374,220,378,194,367,193,324,194,306,198,288,206,270,197,315,204,340,221,351,206,327,202,297,211,261,211,261,206,246,193,301,170,317,138,297,162,281,184,254,205,222,201,246,191,267,174,283,186,279,197,267,206,246,206,246,378,233,370,286,337,299,294,270,312,277,330,276,347,267,294,278,259,252,234,203,280,259,327,278,378,233,378,233,626,217,604,273,555,313,511,315,484,316,438,289,432,232,450,253,488,296,511,291,532,286,551,277,566,261,527,269,498,263,480,243,478,241,478,237,480,235,486,230,504,220,519,226,537,233,551,242,567,241,591,236,611,228,626,217,626,217,411,192,432,183,439,166,420,136,443,144,460,158,466,182,470,165,456,149,430,133,459,136,485,145,505,165,503,143,463,133,434,128,486,127,526,124,539,118,505,123,470,124,435,122,461,111,483,96,500,76,475,95,450,110,424,118,450,96,465,72,466,48,458,75,440,98,419,112,424,106,428,99,428,91,429,68,413,57,393,51,419,70,426,92,411,110,408,77,385,58,343,52,383,26,422,25,445,62,458,47,465,29,467,8,477,27,479,51,475,76,497,64,515,49,528,29,524,57,515,82,496,103,521,113,549,111,579,99,560,122,535,136,502,137,518,149,521,173,514,205,505,181,492,166,476,158,483,188,470,205,447,216,456,183,451,166,438,157,444,193,426,211,379,207,403,193,416,172,416,140,434,156,428,173,411,192,411,192]}]]},{os:"0111-0-pines",Ug:[["e9e9e9",{T:"M C C C C C C C C L L L Z".split(" "),w:[0,946,0,946,54,960,99,944,149,927,182,954,205,956,245,960,298,940,382,974,435,995,478,957,538,956,571,955,597,969,631,968,663,967,701,938,749,944,805,950,851,960,893,946,950,928,1e3,946,1e3,946,1e3,1e3,0,1e3,0,946]}],["437a26",{T:"M C L C C C L L C C L L L L L C Z M C L C C C L L C C L L L L L C Z M C L C C C L L C C L L L L L C Z M C L C C C L L C C L L L L L C Z M C L C C C L L C C L L L L L C Z".split(" "),w:[119,801,120,801,148,859,148,859,137,853,137,853,155,890,155,891,156,892,138,887,140,888,141,888,171,925,171,925,126,924,125,943,125,943,105,944,106,944,107,944,106,924,106,924,61,925,93,886,77,891,100,854,89,860,89,860,119,801,119,801,286,871,286,871,303,905,303,905,296,902,296,902,307,924,307,924,307,925,297,922,297,922,298,922,316,944,316,944,289,944,289,955,289,955,277,956,278,956,278,956,278,944,278,944,251,944,270,921,260,924,274,902,268,906,268,906,285,871,286,871,526,863,526,863,546,903,546,903,538,899,538,899,550,924,550,925,550,926,539,922,540,922,540,922,561,948,561,948,530,947,529,960,529,960,516,961,517,961,518,961,517,947,517,947,486,948,508,921,497,925,513,899,505,903,505,903,526,863,526,863,731,841,731,841,752,883,752,883,744,879,744,879,757,907,757,908,758,908,745,905,746,905,747,905,769,932,769,932,736,932,735,946,735,946,721,946,721,946,722,947,721,932,721,932,688,932,712,903,700,908,717,880,709,884,709,884,731,841,731,841,889,826,889,826,914,876,914,876,904,871,904,871,920,904,920,905,920,906,906,901,907,902,908,902,934,934,934,934,894,933,894,950,894,950,877,951,878,951,879,951,878,933,878,933,838,934,866,900,852,905,872,872,862,877,862,877,889,826,889,826]}]]},{os:"0111-0-flowers",Ug:[["8cae40",{T:"M C L C C C L C C L C C C L C C C L C C L C C L Z M C L C C C L C C L C C C L C C C L C C L C C L Z M C L C C C L C C L C C C L C C C L C C L C C L Z M C L C C C L C C L C C C L C C C L C C L C C L Z".split(" "),w:[182,866,160,879,146,903,135,929,135,844,177,842,228,831,230,796,231,770,207,765,182,779,160,792,146,816,135,843,135,713,135,711,134,710,132,710,130,710,128,711,128,713,128,841,117,815,103,791,82,779,57,764,33,769,34,795,36,830,86,841,128,844,128,930,117,903,103,880,82,867,57,853,33,858,34,884,36,919,86,930,128,932,128,1009,128,1010,130,1012,132,1012,134,1012,135,1010,135,1009,135,931,177,928,228,918,230,882,231,856,207,851,182,866,182,866,447,904,430,898,412,904,394,916,394,861,413,873,431,879,447,873,458,868,458,852,447,848,430,841,412,848,394,859,394,788,394,787,393,786,391,786,389,786,388,787,388,788,388,859,370,847,352,841,336,848,325,852,325,868,336,873,352,879,370,873,388,862,388,915,370,904,352,898,336,904,325,909,325,925,336,929,352,936,370,930,388,918,388,1009,388,1010,389,1011,391,1011,393,1011,394,1010,394,1009,394,918,413,930,431,936,447,929,458,925,458,909,447,904,447,904,662,943,650,954,641,972,634,993,634,914,659,907,680,895,692,873,707,846,686,836,662,859,650,870,641,888,634,909,634,818,634,816,632,815,631,815,629,815,628,816,628,818,628,908,621,887,612,870,600,859,576,836,555,846,570,873,582,895,603,907,628,914,628,992,621,971,612,954,600,943,576,920,555,930,570,957,582,978,603,990,628,998,628,1009,628,1010,629,1011,631,1011,632,1011,634,1010,634,1009,634,998,659,991,680,978,692,957,707,930,686,920,662,943,662,943,892,842,875,857,862,882,850,912,850,822,874,817,896,805,908,778,919,755,896,751,877,769,866,779,857,796,850,815,850,737,850,736,848,735,847,735,845,735,844,736,844,737,844,815,836,795,828,779,817,769,798,751,775,755,785,777,797,804,820,817,844,822,844,912,832,882,818,857,801,842,772,816,737,822,753,854,772,894,806,911,844,918,844,1009,844,1010,845,1011,847,1011,848,1011,850,1010,850,1009,850,918,887,911,922,894,941,854,957,822,922,816,892,842,892,842]}],["d13777",{T:"M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M C C C C C C C Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C Z M C C C C Z M C C L L C C C C L L C C L L C C C C L C C C C L Z M C C C Z M C C C L Z M C C C L Z".split(" "),w:[125,603,115,617,112,619,110,618,111,615,122,600,119,597,75,614,43,631,32,650,22,675,36,694,65,682,59,716,94,722,111,696,120,687,126,657,129,604,125,603,125,603,104,638,99,638,95,634,95,629,95,624,99,620,104,620,109,620,113,624,113,629,113,634,109,638,104,638,117,587,100,582,98,579,99,578,102,577,119,583,121,580,92,543,65,517,44,513,17,512,4,531,24,555,-10,560,-6,594,24,603,36,609,67,605,118,591,118,587,117,587,78,578,77,573,79,568,84,567,88,565,93,568,95,573,96,577,94,582,89,584,85,585,80,583,78,578,130,575,130,557,131,554,133,555,135,557,135,575,138,576,164,537,180,504,177,482,171,456,148,449,132,476,117,445,85,460,86,491,84,504,97,532,126,577,130,575,130,575,126,535,130,532,136,533,139,537,142,541,141,546,137,549,133,552,127,551,125,547,122,543,122,538,126,535,146,584,162,577,165,578,166,580,164,582,146,588,147,591,193,604,229,609,249,600,271,585,271,562,240,554,265,530,241,505,212,516,199,518,176,539,143,580,146,584,146,584,183,567,187,570,187,576,185,580,182,584,176,585,172,582,168,579,167,573,170,569,173,565,179,565,183,567,142,601,153,615,153,618,152,619,149,618,138,603,135,605,137,652,144,688,159,704,180,721,202,713,199,681,230,698,246,667,227,643,221,631,194,616,145,597,142,601,142,601,169,631,167,636,162,638,158,637,153,635,151,630,152,625,154,621,159,618,163,620,168,621,170,626,169,631,376,691,343,693,320,697,309,706,297,714,291,729,294,756,294,767,295,779,294,788,305,786,320,788,335,788,353,787,369,782,375,773,382,764,386,739,388,703,381,702,377,699,376,691,363,745,357,757,351,761,345,761,337,760,337,751,343,737,330,742,322,742,319,735,317,728,322,723,331,718,346,712,360,708,374,706,373,720,369,733,363,745,363,745,388,680,387,646,383,623,375,612,366,600,351,594,325,596,314,596,302,597,293,595,295,607,292,622,292,637,292,654,298,671,306,676,315,684,340,689,376,692,377,684,381,680,388,680,388,680,334,665,323,659,318,654,319,648,320,639,329,640,343,645,338,632,339,625,345,621,352,620,358,625,362,634,368,649,372,664,373,677,360,676,347,671,334,665,334,665,399,691,433,690,456,686,467,678,479,670,485,655,484,629,484,617,482,606,484,597,472,598,458,595,442,596,425,596,409,601,403,610,395,618,391,643,388,679,395,680,399,684,399,691,399,691,414,638,420,626,426,622,432,622,440,624,440,633,434,646,447,641,455,642,458,648,459,656,454,661,445,665,430,671,416,675,402,677,403,663,408,650,414,638,414,638,388,703,390,736,394,759,403,770,411,782,426,788,452,785,464,785,475,784,485,785,483,774,485,759,485,744,484,726,479,710,470,704,461,697,436,693,400,691,399,698,395,702,388,703,388,703,442,716,453,722,458,728,458,734,456,742,447,742,434,736,439,749,438,757,432,760,425,762,419,757,415,748,409,733,404,719,403,705,416,706,429,710,442,716,442,716,722,716,722,701,710,690,696,690,695,690,694,690,693,690,693,689,694,689,695,688,705,678,705,662,695,651,685,641,668,641,658,651,658,652,657,653,656,654,656,653,656,652,656,651,656,637,645,625,630,625,616,625,605,637,605,651,605,652,605,653,605,654,604,654,604,653,603,652,593,642,576,642,566,652,556,662,556,679,566,689,567,690,568,690,569,691,568,691,567,691,566,691,552,691,540,702,540,717,540,731,552,743,566,743,567,743,568,743,569,742,569,743,568,744,567,744,557,754,557,771,567,781,577,791,594,791,604,781,605,780,605,779,606,778,606,779,606,780,606,781,606,795,617,807,632,807,646,807,657,795,657,781,657,780,657,779,657,778,658,779,658,779,659,780,669,790,686,790,696,780,706,770,706,754,696,743,695,743,694,742,693,741,694,741,695,741,696,741,710,741,722,730,722,716,631,762,605,762,585,742,585,716,585,691,605,670,631,670,657,670,677,691,677,716,677,742,657,762,631,762,958,602,957,570,951,547,940,532,925,541,905,565,887,591,886,591,886,546,892,545,897,540,897,533,897,527,891,521,884,521,877,521,872,527,872,533,872,540,876,545,882,546,882,591,882,591,870,564,860,536,848,525,833,541,820,565,808,592,807,592,807,546,813,545,817,540,817,533,817,527,812,521,805,521,798,521,792,527,792,533,792,540,797,545,802,546,802,590,784,567,766,545,755,534,729,588,731,639,766,684,787,711,814,726,847,725,919,724,960,659,958,602,958,602,783,671,772,653,777,645,789,648,812,656,830,682,840,711,821,704,797,692,783,671,836,634,840,614,850,612,856,622,867,644,861,676,848,703,840,684,831,659,836,634,836,634,919,659,911,682,885,701,856,711,863,692,875,668,896,654,913,642,922,647,919,659,919,659]}]]},{os:"1101-1-confetti",Ug:[["e789ff",{T:"M C C C C C Z M C C C C C C C Z M C C C C C C C Z M C C C C C Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z".split(" "),w:[170,439,169,438,59,370,108,300,152,238,298,276,318,337,338,398,265,380,285,358,312,328,185,247,121,307,72,353,171,440,170,439,318,338,336,399,262,408,184,346,138,309,73,237,112,174,167,88,345,115,377,222,393,276,296,260,335,236,375,212,236,111,155,183,73,254,265,380,285,358,312,328,318,338,318,338,377,222,394,276,318,288,243,236,187,197,146,120,201,56,254,-5,365,26,407,68,407,68,414,94,378,71,344,50,258,31,221,89,178,154,297,260,336,235,374,211,377,222,377,222,406,70,452,115,432,189,324,115,214,39,323,-85,322,-85,320,-85,229,38,331,100,439,166,413,95,377,72,343,51,364,28,406,70,346,405,369,418,356,441,333,428,346,405,513,298,536,311,523,334,500,321,513,298,891,91,914,104,901,127,878,114,891,91,24,123,47,136,34,159,11,146,24,123,664,33,687,46,674,69,651,56,664,33,910,482,933,495,920,518,897,505,910,482]}],["666666",{T:"M C C C C C Z M C C C C C C C Z M C C C C C C C Z M C C C C C Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z".split(" "),w:[919,442,917,443,802,510,764,432,730,364,837,250,901,261,965,272,913,329,903,301,889,262,755,338,777,424,794,490,920,442,919,442,901,261,964,274,936,345,842,386,787,410,690,435,654,370,604,279,716,132,827,153,883,164,821,244,819,197,817,150,659,228,682,335,706,443,913,329,903,301,889,262,901,261,901,261,827,153,884,163,857,238,774,281,711,313,622,313,593,233,564,157,647,71,705,54,705,54,732,60,694,82,658,102,599,170,632,231,669,301,822,244,819,197,816,150,827,153,827,153,706,54,769,34,825,87,706,149,583,213,527,56,526,57,526,59,590,200,696,137,807,70,732,60,694,82,658,102,648,73,706,54,362,328,383,340,371,361,350,349,362,328,52,189,73,201,61,222,40,210,52,189,509,119,530,131,517,152,496,140,509,119,912,16,933,28,921,49,900,37,912,16,629,380,650,392,638,413,617,401,629,380,77,414,98,426,86,447,65,435,77,414,240,76,261,88,249,109,228,97,240,76]}]]},{os:"1101-1-branch",Ug:[["7f500b",{T:"M C C C L C C Z M C C C L C C Z M C C C L C C Z M C C C L C C Z M C C C L C C Z M C C C L C C Z".split(" "),w:[144,-14,144,-14,149,-12,150,-12,150,-12,106,22,86,75,63,137,93,193,69,238,64,236,89,174,53,146,80,72,99,19,144,-14,144,-14,280,-18,281,-18,276,-20,276,-20,276,-20,282,23,264,64,244,113,196,129,185,168,189,170,209,120,244,123,269,66,288,25,280,-18,280,-18,429,-5,429,-5,434,-4,434,-4,435,-4,405,28,396,72,386,124,415,164,402,203,398,202,410,150,379,132,391,70,399,26,429,-5,429,-5,514,-7,514,-7,519,-12,519,-12,520,-12,532,50,577,96,630,151,703,150,738,197,733,201,681,144,635,166,571,101,526,54,514,-7,514,-7,666,-67,666,-68,663,-65,662,-64,662,-64,704,-52,734,-18,768,22,763,72,793,99,796,96,760,57,778,26,737,-22,708,-56,666,-67,666,-67,936,-8,936,-8,932,-9,931,-9,931,-9,947,32,938,76,927,127,884,154,881,194,886,195,895,142,930,138,943,76,952,32,936,-8,936,-8]}],["5c7f0b",{T:"M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z".split(" "),w:[119,6,121,16,113,31,81,33,58,34,27,27,27,27,27,27,53,5,70,-1,93,-9,117,-4,119,6,124,8,132,1,151,12,165,33,179,54,180,87,180,87,180,87,153,75,139,60,122,41,115,14,124,8,78,74,82,83,76,97,48,103,27,108,-2,105,-2,105,-2,105,19,81,33,74,53,64,75,65,78,74,83,75,90,68,108,76,124,93,139,110,144,140,144,140,144,140,117,132,104,121,85,105,76,83,83,75,72,152,75,159,72,172,48,179,30,185,6,185,6,185,6,185,22,163,33,156,49,145,68,145,72,152,76,153,81,146,98,151,112,165,126,178,133,203,133,203,133,203,110,199,97,190,80,178,70,160,76,153,73,206,75,213,71,224,49,228,34,232,12,230,12,230,12,230,28,212,39,206,53,199,70,200,73,206,76,207,81,202,95,207,107,220,118,233,122,255,122,255,122,255,102,250,92,241,78,230,71,213,76,207,70,232,78,236,76,252,66,269,56,286,33,297,33,297,33,297,33,274,39,260,46,241,62,228,70,232,285,3,278,8,274,21,291,39,304,52,325,63,325,63,325,63,323,36,316,24,308,7,291,-2,285,3,281,1,280,-7,263,-10,244,-5,224,1,205,20,205,20,205,20,228,27,244,25,264,22,283,10,281,1,270,65,264,69,259,80,272,99,281,112,299,125,299,125,299,125,300,100,296,88,290,72,277,61,270,65,267,64,267,56,252,51,234,53,216,56,197,71,197,71,197,71,216,80,230,80,249,80,267,72,267,64,231,116,225,119,220,128,230,145,237,157,251,170,251,170,251,170,254,148,251,138,248,123,237,113,231,116,228,114,229,108,217,102,201,103,186,103,168,115,168,115,168,115,184,124,196,126,212,127,228,121,228,114,201,148,196,151,192,160,202,174,209,184,222,194,222,194,222,194,223,175,220,166,216,154,206,145,201,148,198,147,198,141,187,137,174,139,160,141,145,152,145,152,145,152,160,159,171,159,185,160,198,153,198,147,188,165,182,163,173,174,170,190,167,205,173,224,173,224,173,224,186,210,191,198,197,183,195,166,188,165,415,10,417,18,413,31,389,36,371,39,347,37,347,37,347,37,364,16,377,9,393,0,412,2,415,10,418,11,424,4,440,11,453,27,466,43,470,69,470,69,470,69,448,62,436,52,420,38,412,17,418,11,391,69,394,76,392,89,371,96,355,102,333,103,333,103,333,103,346,81,357,74,371,64,388,63,391,69,395,70,399,63,414,68,428,80,441,92,448,116,448,116,448,116,427,113,415,105,400,94,390,77,395,70,395,133,398,139,397,150,379,158,367,164,348,167,348,167,348,167,358,148,366,140,377,130,391,128,395,133,398,134,401,128,414,130,427,140,439,149,447,169,447,169,447,169,429,167,418,162,404,154,394,140,398,134,401,177,404,182,402,192,386,198,374,202,358,203,358,203,358,203,368,187,375,181,386,173,399,172,401,177,404,178,408,173,419,176,429,185,439,194,445,212,445,212,445,212,429,210,420,204,408,196,401,183,404,178,402,198,408,201,409,214,403,229,397,244,381,255,381,255,381,255,378,236,381,224,385,208,396,196,402,198,519,23,531,26,543,42,528,75,518,99,495,125,495,125,495,125,485,87,487,67,490,40,508,19,519,23,523,19,521,7,542,-6,571,-8,600,-10,636,6,636,6,636,6,609,27,586,32,557,39,526,32,523,19,570,100,581,102,594,115,585,147,579,170,562,197,562,197,562,197,548,163,547,145,547,120,560,98,570,100,574,97,570,86,587,72,613,66,639,60,673,71,673,71,673,71,652,93,632,101,607,110,578,107,574,97,649,149,659,150,670,160,666,188,662,208,650,232,650,232,650,232,635,205,633,189,631,168,640,149,649,149,652,146,648,137,662,123,683,116,705,109,734,116,734,116,734,116,718,137,702,145,681,155,657,155,652,146,707,178,715,179,724,189,718,213,714,230,701,250,701,250,701,250,690,225,690,211,689,193,699,177,707,178,710,175,707,167,720,156,739,151,759,147,784,155,784,155,784,155,768,172,753,177,734,185,713,183,710,175,732,194,740,189,757,199,770,218,782,237,783,266,783,266,783,266,758,254,746,240,730,223,724,199,732,194,687,-62,688,-54,699,-45,722,-53,739,-59,759,-73,759,-73,759,-73,733,-82,719,-82,701,-81,685,-71,687,-62,684,-60,676,-62,666,-48,662,-28,659,-9,669,17,669,17,669,17,684,-1,689,-16,696,-35,692,-57,684,-60,737,-23,738,-15,746,-5,768,-9,784,-12,804,-23,804,-23,804,-23,782,-34,769,-36,752,-38,736,-30,737,-23,734,-20,727,-24,716,-13,711,5,705,22,711,46,711,46,711,46,727,33,734,20,742,3,742,-17,734,-20,766,35,766,41,772,50,792,48,806,47,823,40,823,40,823,40,805,28,795,26,780,23,766,28,766,35,763,37,758,33,747,42,741,56,735,70,738,91,738,91,738,91,753,81,760,71,768,57,769,40,763,37,782,76,783,82,789,89,806,86,818,84,832,76,832,76,832,76,816,67,806,66,794,65,782,70,782,76,780,78,775,75,766,84,762,97,758,110,762,128,762,128,762,128,775,118,779,108,786,95,785,80,780,78,792,94,788,100,794,112,807,122,819,131,839,133,839,133,839,133,832,116,823,107,812,95,796,89,792,94,945,11,939,18,938,31,959,45,974,55,997,62,997,62,997,62,989,36,980,25,968,11,950,5,945,11,941,11,938,3,921,3,903,13,885,22,871,45,871,45,871,45,894,47,909,42,929,35,944,19,941,11,944,75,938,80,935,93,952,108,964,119,984,128,984,128,984,128,980,104,974,93,965,78,949,70,944,75,940,75,938,67,923,65,906,71,889,77,873,96,873,96,873,96,894,101,908,99,926,95,942,82,940,75,916,133,911,137,907,147,920,162,930,172,946,182,946,182,946,182,944,160,940,151,933,137,921,129,916,133,913,132,912,125,899,123,884,127,869,130,854,145,854,145,854,145,871,151,883,150,899,148,913,139,913,132,893,171,888,175,887,184,899,196,908,204,923,211,923,211,923,211,920,193,915,184,909,173,897,167,893,171,890,170,889,165,877,163,864,168,851,172,839,187,839,187,839,187,855,190,865,188,879,186,891,176,890,170,884,190,877,190,871,202,871,218,871,234,881,251,881,251,881,251,891,234,893,222,896,206,890,190,884,190]}]]},{os:"1101-1-sticks",Ug:[["ec7272",{T:"M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z".split(" "),w:[260,148,297,180,286,192,249,160,260,148,114,31,161,47,155,63,109,47,114,31,931,91,902,52,915,42,945,81,931,91,711,19,746,-15,758,-3,723,31,711,19,812,161,782,122,795,112,825,151,812,161,389,34,424,0,436,12,401,46,389,34,431,209,465,175,477,186,442,221,431,209,282,90,282,41,299,41,299,90,282,90,58,233,29,194,42,184,72,223,58,233,574,58,621,74,615,90,569,74,574,58]}],["0000ff",{T:"M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z".split(" "),w:[722,208,733,161,717,157,706,205,722,208,843,12,797,28,802,44,849,28,843,12,31,74,60,35,47,25,18,64,31,74,220,21,185,-13,173,-1,208,33,220,21,140,166,170,127,157,117,127,156,140,166,558,148,523,114,511,126,546,160,558,148,562,9,516,25,521,41,568,25,562,9,697,105,726,66,713,56,684,95,697,105,961,180,990,141,977,131,948,170,961,180,399,97,353,113,358,129,405,113,399,97]}]]},{os:"1101-1-dots",Ug:[["ec7272",{T:"M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z".split(" "),w:[154,47,144,47,136,39,136,29,136,19,144,11,154,11,164,11,172,19,172,29,172,39,164,47,154,47,272,164,262,164,254,156,254,146,254,136,262,128,272,128,282,128,290,136,290,146,290,156,282,164,272,164,529,48,519,48,511,40,511,30,511,20,519,12,529,12,539,12,547,20,547,30,547,40,539,48,529,48,696,101,686,101,678,93,678,83,678,73,686,65,696,65,706,65,714,73,714,83,714,93,706,101,696,101,929,91,919,91,911,83,911,73,911,63,919,55,929,55,939,55,947,63,947,73,947,83,939,91,929,91]}],["0000ff",{T:"M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z".split(" "),w:[66,122,56,122,48,114,48,104,48,94,56,86,66,86,76,86,84,94,84,104,84,114,76,122,66,122,309,55,299,55,291,47,291,37,291,27,299,19,309,19,319,19,327,27,327,37,327,47,319,55,309,55,785,180,775,180,767,172,767,162,767,152,775,144,785,144,795,144,803,152,803,162,803,172,795,180,785,180,459,147,449,147,441,139,441,129,441,119,449,111,459,111,469,111,477,119,477,129,477,139,469,147,459,147,811,48,801,48,793,40,793,30,793,20,801,12,811,12,821,12,829,20,829,30,829,40,821,48,811,48]}],["88a500",{T:["M","C","C","Z"],w:[389,224,389,224,410,230,410,230,410,230,389,224,389,224]}]]},{os:"1101-1-strips",Ug:[["ffc88c",{T:"M L L L L Z M L L L L Z M L L L L Z".split(" "),w:[-40,0,44,0,137,99,53,99,-40,0,296,0,380,0,473,99,389,99,296,0,632,0,716,0,809,99,725,99,632,0]}],["88a500",{T:"M L L L L Z M L L L L Z M L L L L Z".split(" "),w:[128,0,212,0,305,99,221,99,128,0,464,0,548,0,641,99,557,99,464,0,800,0,884,0,977,99,893,99,800,0]}],["88a500",{T:["M","C","C","Z"],w:[407,217,407,217,428,223,428,223,428,223,407,217,407,217]}]]},{os:"1101-1-circs",Ug:[["ec7272",{T:"M C C C C Z M C C C C Z".split(" "),w:[61,209,27,209,0,181,0,147,0,113,27,86,61,86,96,86,123,113,123,147,123,181,96,209,61,209,551,209,517,209,489,181,489,147,489,113,517,86,551,86,585,86,612,113,612,147,612,181,585,209,551,209]}],["217995",{T:"M C C C C Z M C C C C Z".split(" "),w:[303,209,269,209,241,181,241,147,241,113,269,86,303,86,337,86,364,113,364,147,364,181,337,209,303,209,799,209,765,209,738,181,738,147,738,113,765,86,799,86,834,86,861,113,861,147,861,181,834,209,799,209]}],["88a500",{T:["M","C","C","Z"],w:[530,273,530,273,551,279,551,279,551,279,530,273,530,273]}]]},{os:"1101-1-squares",Ug:[["014ea7",{T:"M L L L L Z M L L L L Z".split(" "),w:[0,120,124,120,124,244,0,244,0,120,497,120,621,120,621,244,497,244,497,120]}],["fc54ff",{T:"M L L L L Z M L L L L Z".split(" "),w:[249,120,373,120,373,244,249,244,249,120,746,120,870,120,870,244,746,244,746,120]}],["88a500",{T:["M","C","C","Z"],w:[389,354,389,354,410,360,410,360,410,360,389,354,389,354]}]]},{os:"1101-0-christmas",Ug:[["014ea7",{T:"M C C C C Z M C C C C Z M L L L L Z".split(" "),w:[255,480,178,480,116,418,116,341,116,264,178,202,255,202,332,202,394,264,394,341,394,418,332,480,255,480,255,232,236,232,221,217,221,198,221,179,236,164,255,164,274,164,289,179,289,198,289,217,274,232,255,232,251,-152,260,-152,260,248,251,248,251,-152]}],["ff9518",{T:"M C C C C Z M C C C C Z M L L L L Z".split(" "),w:[746,623,669,623,607,561,607,484,607,407,669,345,746,345,823,345,885,407,885,484,885,561,823,623,746,623,747,376,728,376,713,361,713,342,713,323,728,308,747,308,766,308,781,323,781,342,781,361,766,376,747,376,742,-8,751,-8,751,392,742,392,742,-8]}]]}];
var cg={};cg.parse=function(w){var n=new Uint8Array(w),H=null;if(n[0]==80&&n[1]==75){var y=Date.now(),c=UZIP.parse(n.buffer),H=c["document.json"];
H=JSON.parse(j.NR(H,0,H.length));cg.y2(H,c)}else{var Q=eI.parse(w);H=cg.ajo(Q[2][0][1])}return H};cg.y2=function(w,n){var H=typeof w;
if(H=="string"||H=="number"||H=="boolean")return w;if(w instanceof Array){for(var l=0;l<w.length;l++)w[l]=cg.y2(w[l],n);
return w}var y=w._class;if(y==null)return w;if(y=="MSJSONFileReference"){var c=w._ref;if(!1){}else if(n[c+".json"]!=null){var Q=n[c+".json"],q=Q.length;
for(var l=0;l<q;l++)if(Q[l]==11||Q[l]==3)Q[l]=32;var S=j.NR(Q,0,q);w=JSON.parse(S)}else if(n[c+".png"]!=null)return{key:c.split("/").pop(),bdata:n[c+".png"]};
else if(n[c+".jpg"]!=null)return{key:c.split("/").pop(),bdata:n[c+".jpg"]};else if(n[c+".pdf"]!=null)return{key:c.split("/").pop(),bdata:n[c+".pdf"]};
else if(n[c]!=null)return{key:c.split("/").pop(),bdata:n[c]};else{console.log(w,n);return}}else if(y=="MSAttributedString"){var S=atob(w.archivedAttributedString._archive),A=S.length-1,V=new Uint8Array(A);
for(var l=0;l<A;l++)V[l]=S.charCodeAt(l);w.archivedAttributedString=cg.ajo(V)}for(var e in w)w[e]=cg.y2(w[e],n);
return w};cg.a7L=function(w,n,H,y){if(w instanceof Uint8Array)return null;if(y.indexOf(w)!=-1)return null;
y.push(w);if(w==n)return H;for(var c in w){H.push(c);var Q=cg.a7L(w[c],n,H,y);if(Q){console.log(w,Q);
throw"e"}H.pop()}};cg.ajo=function(w){var n=hc.parse(w,0),H=n.$objects,y=new Uint8Array(H.length),c=cg.kW(H,y,n.$top.root);
for(var l=0;l<H.length;l++)if(y[l]==0&&l!=0){console.log(l,H[l]);cg.a7L(c,l,[],[])}for(var l=0;l<H.length;
l++){var Q=H[l];if(Q._class&&(Q._class=="bitmap"||Q._class=="fill"&&Q.fillType==4&&(Q.image||Q.imageSHA))){var q=Q.image,S=Q.imageSHA,A=null,V=null;
if(q=="$null")q=null;if(S=="$null")S=null;if(q&&q.data){V=q.sha1["NS.bytes"];V=btoa(j.QN(V,0,V.length));
A=q.data instanceof Uint8Array?q.data:q.data["NS.bytes"]}else if(q==null&&S==null){var e=cb.Mn("PNG").vd([[O.R(4).buffer]],1,1);
A=new Uint8Array(e)}else{var d=(c.assets?c.assets.imageCollection:c.images).images;if(S)V=S instanceof Uint8Array?S:S["NS.bytes"];
else V=q.sha1["NS.bytes"];V=btoa(j.QN(V,0,V.length));var A=d[V].data;if(A["NS.bytes"])A=A["NS.bytes"]}A=new Uint8Array(A.buffer.slice(A.byteOffset,A.byteOffset+A.length));
delete Q.imageSHA;Q.image={key:V,bdata:A}}}return c};cg.az4=function(w){return w.slice(0,11)=="MSImmutable"?"MS"+w.slice(11):w};
cg.kW=function(w,n,H){var y=w[H];if(n[H]==1){return y}n[H]=1;if(typeof y=="string")return y;if(typeof y=="number")return y;
if(typeof y=="boolean")return y;if(y instanceof Array)return y;if(y instanceof Uint8Array){return y}if(w[y.$class]==null){if(y.$class==null&&y["NS.data"]!=null)return y;
console.log(H,y);throw"e"}var c=w[y.$class],Q=cg.az4(c.$classname);n[y.$class]=1;y.$class=Q;if(cg.a56[Q]){delete y.$class;
y._class=cg.a56[Q]}var q=cg.kW;if(Q=="NSMutableArray"||Q=="NSArray"){var S=[];if(y["NS.objects"]!=null)for(var l=0;
l<y["NS.objects"].length;l++)S.push(q(w,n,y["NS.objects"][l]));else for(var l=0;y["NS.object."+l]!=null;
l++)S.push(q(w,n,y["NS.object."+l]));w[H]=S;return S}if(Q=="NSDictionary"||Q=="NSMutableDictionary"){var A={$class:Q};
if(y["NS.keys"]!=null)for(var l=0;l<y["NS.keys"].length;l++){var V=q(w,n,y["NS.keys"][l]);if(V instanceof Uint8Array)V=btoa(cg.Az.QN(V,0,V.length));
else if(typeof V!="string"&&typeof V!="number")V=btoa(cg.Az.QN(V["NS.bytes"],0,V["NS.bytes"].length));
A[V]=q(w,n,y["NS.objects"][l])}else for(var l=0;y["NS.key."+l]!=null;l++){var V=q(w,n,y["NS.key."+l]);
if(V instanceof Uint8Array)V=btoa(cg.Az.QN(V,0,V.length));else if(typeof V!="string"&&typeof V!="number")V=btoa(cg.Az.QN(V["NS.bytes"],0,V["NS.bytes"].length));
A[V]=q(w,n,y["NS.object."+l])}for(var e in y)delete y[e];for(var e in A)y[e]=A[e];return y}if(Q=="NSURL")return{$class:Q,base:q(w,n,y["NS.base"]),relative:q(w,n,y["NS.relative"])};
if(cg.aaS.indexOf(Q)!=-1){w[H]=q(w,n,y.array_do);return w[H]}if(y.do_objectID!=null)y.do_objectID=q(w,n,y.do_objectID);
if(cg.ac6.indexOf(Q)!=-1)return y;var d=cg.a38[Q];if(d==null){console.log(w,y);throw"unknown class "+Q}for(var l=0;
l<d.length;l++)if(y[d[l]]!=null)y[d[l]]=q(w,n,y[d[l]]);if(Q=="MSTextLayer"){var N=y,b,z,v,T;if(N.attributedString)b=N.attributedString.archivedAttributedString;
else b=N.storage;T=b.NSString;if(typeof T!="string")T=j.NR(T["NS.bytes"],0,T["NS.bytes"].length);if(b.NSAttributeInfo)z=b.NSAttributeInfo["NS.bytes"];
else{var Y=T.length,g=[];while(Y>0){var R=Math.min(100,Y);g.push(R,0);Y-=R}z=new Uint8Array(g)}v=b.NSAttributes instanceof Array?b.NSAttributes:[b.NSAttributes];
var h={$class:"NSAttributedString",NSString:T,NSAttributes:v};N.attributedString={_class:"MSAttributedString",archivedAttributedString:h};
h.NSAttributeInfo={$class:"NSMutableData","NS.data":z};delete N.storage}return y};cg.Az={kH:function(w,n){return w[n+1]<<8|w[n]},s:function(w,n){return w[n+3]<<24|w[n+2]<<16|w[n+1]<<8|w[n]},QN:function(w,n,H){var y="";
for(var l=0;l<H;l++)y+=String.fromCharCode(w[n+l]);return y}};cg.a56={MSPage:"page",MSArtboardGroup:"artboard",MSShapeGroup:"shapeGroup",MSLayerGroup:"group",MSBitmapLayer:"bitmap",MSTextLayer:"text",MSSliceLayer:"slice",MSSymbolMaster:"symbolMaster",MSSymbolInstance:"symbolInstance",MSStyleFill:"fill",MSShapePathLayer:"shapePath",MSRectangleShape:"rectangle",MSOvalShape:"oval",MSTriangleShape:"triangle"};
cg.aaS=["MSArray","MSFillStyleCollection","MSBorderStyleCollection","MSShadowStyleCollection","MSInnerShadowStyleCollection"];
cg.ac6="MSArchivedColor MSLayoutGrid MSSimpleGrid MSColor MSRect MSStyleColorControls MSGraphicsContextSettings NSMutableString NSMutableData NSDecimalNumberPlaceholder MSStyleReflection".split(" ");
cg.a38={MSAssetCollection:["gradients","colors","imageCollection","images"],MSImageCollection:["images"],MSSharedStyleContainer:["objects"],MSSharedTextStyleContainer:["objects"],MSSharedLayerStyleContainer:["objects"],MSSharedLayerTextStyleContainer:["objects"],MSSharedLayerContainer:["objects"],MSSymbolContainer:["objects"],MSGradient:["stops","from","to","points"],MSGradientStop:["color"],MSStyleFill:["color","gradient","contextSettings","image","imageSHA"],MSExportFormat:["fileFormat","name"],MSExportOptions:["exportFormats","includedLayerIds","sizes"],MSRulerData:["guides"],MSStyle:"textStyle fills contextSettings sharedObjectID borders blur shadows innerShadows borderOptions colorControls reflection".split(" "),MSSharedStyle:["name","value"],MSSymbol:["name","value"],MSAttributedString:["archivedAttributedString"],MSSharedLayerStyle:["name","value","instances"],MSSharedLayer:["name","value","instances"],MSDocumentData:"assets layerStyles pages layerTextStyles layerSymbols images userInfo".split(" "),MSShapePathLayer:"exportOptions frame name userInfo path originalObjectID".split(" "),MSOvalShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSRectangleShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSPolygonShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSTriangleShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSStarShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSBitmapLayer:"exportOptions frame name userInfo style imageSHA nineSliceCenterRect nineSliceScale image clippingMask originalObjectID".split(" "),MSTextLayer:"exportOptions frame name userInfo style originalObjectID attributedString glyphBounds storage".split(" "),MSShapeGroup:"exportOptions frame name userInfo style originalObjectID layers".split(" "),MSLayerGroup:"exportOptions frame name userInfo style originalObjectID layers sharedObjectID".split(" "),MSArtboardGroup:"exportOptions frame name userInfo style layers horizontalRulerData verticalRulerData layout grid backgroundColor".split(" "),MSPage:"exportOptions frame name userInfo style layers horizontalRulerData verticalRulerData layout grid scrollOrigin".split(" "),MSSymbolMaster:"exportOptions frame name userInfo style layers horizontalRulerData verticalRulerData layout grid originalObjectID symbolID backgroundColor".split(" "),MSSymbolInstance:"exportOptions frame name userInfo style symbolID overrides masterInfluenceBounds originalObjectID".split(" "),MSSliceLayer:["exportOptions","frame","name","userInfo","backgroundColor"],MSTextStyle:["attributes","encodedAttributes"],MSShapePath:["points"],MSPointArray:["points"],MSImageData:["data","sha1","name"],MSCurvePoint:["curveFrom","curveTo","point"],MSImageProxy:["sha1"],MSStyleBorder:["color","gradient","contextSettings"],MSStyleBlur:["center"],MSStyleShadow:["color","contextSettings"],MSStyleInnerShadow:["color","contextSettings"],MSExportSize:["format","name"],MSStyleBorderOptions:["dashPattern"],NSFont:["NSName","NSDescriptor"],NSColor:["NSCustomColorSpace"],NSFontDescriptor:["NSFontDescriptorAttributes"],NSMutableParagraphStyle:["NSTextBlocks","NSTabStops","NSTextLists"],NSAttributedString:["NSAttributes","NSString","NSAttributeInfo"],NSTextStorage:["NSAttributeInfo","NSAttributes","NSString"],NSColorSpace:["NSICC"],NSParagraphStyle:["NSTabStops","NSTextBlocks","NSTextLists"],NSTextList:["NSMarkerFormat"],NSTextTab:["NSTabOptions"],UIFontDescriptor:["UIFontDescriptorAttributes"]};
var hc={};hc.parse=function(w,n){var H=j.QN(w,n,8);n+=8;var y=hc.parse.ayo(w,w.length-31),c=[];if(y.UC==1){var n=w.length-31-y.UC*y.Ad;
for(var l=0;l<y.Ad;l++)c.push(w[n+l])}else if(y.UC==2){var n=w.length-31-y.UC*y.Ad;for(var l=0;l<y.Ad;
l++)c.push(j.kH(w,n+l*2))}else if(y.UC==4){var n=w.length-31-y.UC*y.Ad;for(var l=0;l<y.Ad;l++)c.push(j.s(w,n+l*4))}else{throw"e"}var Q=hc.parse.kW(w,c,y.root,y);
return Q};hc.parse.kW=function(w,n,H,y){var c=hc.Az,Q=y.aeT,q=Q==4?c.s:Q==2?c.kH:c.akm,S=hc.parse,A=n[H],V=w[A],e=V>>4,d=V&15,b=null;
A+=1;if([4,5,6,10,12,13].indexOf(e)!=-1&&d==15){var N=S.sI(w,A);A+=N.WE;d=N.Z}if(!1){}else if(e==0)b=d==8?!1:d==9?!0:null;
else if(e==1)b=S.sI(w,A-1).Z;else if(e==2)b=1<<d==4?j.Ma(w,A):j.PC(w,A);else if(e==3)b=j.PC(w,A);else if(e==4)b=new Uint8Array(w.buffer,A,d);
else if(e==5)b=j.QN(w,A,d);else if(e==6)b=j.C3(w,A,d);else if(e==8){b=0;for(var l=0;l<d+1;l++)b=b<<8|w[A+l]}else if(e==10){b=[];
for(var l=0;l<d;l++)b.push(S.kW(w,n,q(w,A+Q*l),y))}else if(e==12){b=[];for(var l=0;l<d;l++)b.push(S.kW(w,n,q(w,A+Q*l),y))}else if(e==13){b={};
for(var l=0;l<d;l++){var z=S.kW(w,n,q(w,A+Q*l),y),v=S.kW(w,n,q(w,A+Q*(d+l)),y);b[z]=v}}else throw"unknown mask "+e;
return b};hc.parse.sI=function(w,n){var H=1<<(w[n]&15),y=0;for(var l=0;l<H;l++)y=y<<8|w[n+1+l];return{Z:y,WE:H+1}};
hc.parse.ayo=function(w,n){var H={};n+=6;H.UC=w[n];n++;H.aeT=w[n];n++;n+=4;H.Ad=j.s(w,n);n+=4;n+=4;H.root=j.s(w,n);
n+=4;n+=4;H.a1a=j.s(w,n);n+=4;return H};hc.Az={akm:function(w,n){return w[n]},kH:function(w,n){return w[n]<<8|w[n+1]},s:function(w,n){return w[n]<<24|w[n+1]<<16|w[n+2]<<8|w[n+3]},QN:function(w,n,H){var y="";
for(var l=0;l<H;l++)y+=String.fromCharCode(w[n+l]);return y}};var eI={parse:function(w){var n=new Uint8Array(w),H=eI.cs(n),y=[],c=new Uint8Array(n.length),Q=[];
y.push(Q);eI._V(n,H,1,c,Q);for(var l=0;l<Q.length;l++){var q=[];y.push(q);eI._V(n,H,Q[l][3],c,q,l==11);
Q[l][3]=l+1}return y},_V:function(w,n,H,y,c,Q){H--;var q=H*n.xG+(H==0?100:0),S=w[q],A=eI.kH(w,q+1),V=eI.kH(w,q+3),e=eI.kH(w,q+5),N=0;
if(e==0)e=65536;var d=w[q+7];q+=8;if(S==2||S==5){N=eI.s(w,q);q+=4}for(var b=0;b<V;b++){var z=H*n.xG+eI.kH(w,q+2*b),v=-1,T=0,Y=0,g=0;
if(S==2||S==5){v=eI.s(w,z);z+=4}if(S==2||S==10||S==13){T=eI.dS(w,z);z+=T.WE}if(S==5||S==13){Y=eI.dS(w,z);
z+=Y.WE}if(S==2||S==5){eI._V(w,n,v,y,c,Q);continue}var R=n.xG-(H==0?100:0),h=T.X5,E=S==13?R-35:Math.floor((R-12)*64/255)-23,G=Math.floor((R-12)*32/255)-23,k=G+(h-G)%(R-4);
if(h<=E){eI.Bq(w,z,y,0,h)}else{var $=k<=E?k:G,p=0;eI.Bq(w,z,y,0,$);p+=$;g=eI.s(w,z+$);while(g!=0){var X=(g-1)*n.xG;
g=eI.s(w,X);var C=Math.min(n.xG-4,h-p);eI.Bq(w,X+4,y,p,C);p+=C}}c.push(eI.acg(y,h))}if(N!=0)eI._V(w,n,N,y,c,Q)},acg:function(w,n){var H=0,y=eI.dS(w,H);
H+=y.WE;var c=[],Q=[];while(H<y.X5){var q=eI.dS(w,H);H+=q.WE;c.push(q.X5)}if(H!=y.X5)throw"e";for(var l=0;
l<c.length;l++){var q=c[l];if(!1){}else if(q==0)Q.push(null);else if(q==1){Q.push(eI.axa(w,H));H+=1}else if(q==2){Q.push(eI.Mz(w,H));
H+=2}else if(q==3){Q.push(eI.arL(w,H));H+=3}else if(q==4){Q.push(eI.sI(w,H));H+=4}else if(q==5){Q.push(eI.s(w,H+2));
H+=6}else if(q==6){Q.push(eI.s(w,H)+":"+eI.s(w,H+4));H+=8}else if(q==7){Q.push(eI.akB(w,H));H+=8}else if(q==8)Q.push(0);
else if(q==9)Q.push(1);else if(q>=12&&(q&1)==0){var S=q-12>>1,A=new Uint8Array(S);eI.Bq(w,H,A,0,S);Q.push(A);
H+=S}else if(q>=13&&(q&1)==1){var S=q-13>>1;Q.push(eI.NR(w,H,S));H+=S}else throw"unknonw type "+q}return Q},cs:function(w){if(!(w[18]==1&&w[19]==1&&w[20]==0&&w[21]==64&&w[22]==32&&w[23]==32))throw"unexpected SQL3 header";
var n={uS:eI.QN(w,0,15),xG:eI.kH(w,16),auo:eI.s(w,24),size:eI.s(w,28),alE:eI.s(w,32),aws:eI.s(w,36),a0u:eI.s(w,40),a5U:eI.s(w,44),afo:eI.s(w,48),a3M:eI.s(w,52),axm:eI.s(w,56),azg:eI.s(w,60),azR:eI.s(w,64)!=0,aj8:eI.s(w,68),a6n:eI.s(w,92),a6Y:eI.s(w,96)};
if(n.xG==1)n.xG=65536;if(n.axm!=1)throw"unsupported text encoding "+n.axm;return n},alf:function(w,n){return w[n]<<16|w[n+1]<<8|w[n+2]},arL:function(w,n){var H=eI.alf(w,n),y=H&8388608;
return y?-(16777215-H+1):H},axa:function(w,n){eI.Vj[0]=w[n];return eI.ah0[0]},sI:function(w,n){var H=eI.Vj;
for(var l=0;l<4;l++)H[l]=w[n+3-l];return eI.au_[0]},Mz:function(w,n){var H=eI.Vj;H[0]=w[n+1];H[1]=w[n];
return eI.ax1[0]},kH:function(w,n){return w[n]<<8|w[n+1]},s:function(w,n){var H=eI.Vj;for(var l=0;l<4;
l++)H[l]=w[n+3-l];return eI.azF[0]},akB:function(w,n){var H=eI.Vj;for(var l=0;l<8;l++)H[l]=w[n+7-l];
return eI.ayC[0]},dS:function(w,n){var H=n,ds=0;while(!0){var y=w[n];n++;ds=ds*128+(y&127);if(y<128)break}return{X5:ds,WE:n-H}},QN:function(w,n,H){var y="";
for(var l=0;l<H;l++)y+=String.fromCharCode(w[n+l]);return y},NR:function(w,n,H){var y="";for(var l=0;
l<H;l++)y+="%"+eI.a4L(w[n+l].toString(16));try{y=decodeURIComponent(y);return y}catch(hV){return y}},Bq:function(w,n,H,y,c){if(w[n+c-1]==null||H[y+c-1]==null){console.log(n,y,c);
throw"e"}for(var l=0;l<c;l++)H[y+l]=w[n+l]},a4L:function(ds){return ds.length<2?"0"+ds:ds}};eI.Vj=new Uint8Array(8);
eI.ah0=new Int8Array(eI.Vj.buffer);eI.ax1=new Int16Array(eI.Vj.buffer);eI.au_=new Int32Array(eI.Vj.buffer);
eI.azF=new Uint32Array(eI.Vj.buffer);eI.ayC=new Float64Array(eI.Vj.buffer);eI.a9v=function(w,n){var H=w[0],y={};
for(var l=0;l<H.length;l++){var c=H[l],Q=c[1];if(c[0]!="table")continue;var q=c[4];q=q.slice(q.indexOf("(")+1,q.indexOf(")"));
q=q.split(",");for(var S=0;S<q.length;S++){var A=q[S].trim().split(" ")[0];if(n&&A.startsWith(Q))A=A.slice(Q.length);
q[S]=A}var V=y[Q]=[],e=w[c[3]];for(var S=0;S<e.length;S++){var d=e[S],N={};V.push(N);for(var b=0;b<q.length;
b++){if(N[q[b]]!=null)throw"e";N[q[b]]=d[b]}}}return y};function f$(w,n,H){this.UE=w;this.Jd=n;this.asv=H;
this.kj=new ce(0,0);this.bk=-1;this.rJ=0;this.dk=0;this.P8=new cr;this.yI=[];this.eJ=null;this.a4p=null;
this.G6=null;this.Qv=null;this.u4=null;this.awT=null}f$.prototype.StartPage=function(w,n,H,y,c){var Q=this.Jd,q=Q.H5(),S=1,A=(H-w)*(y-n);
if(c!=null)A=c;while(A*q*q/(S*S)>2*8192*8192)S++;Q.scale(1/S,1/S);this.a4p=[w,n,H,y];var S=Q.H5();w=Math.round(w*S);
n=Math.round(n*S);H=Math.round(H*S);y=Math.round(y*S);var V=this.UE,e=this.G6;if(e==null){Q.qH=-w}else{var d=e[2]-e[0]+30,N=Math.round(H-w)+30;
if(this.kj.x+d+N>8192){Q.qH=-w;this.kj.x=0;this.kj.y+=this.dk+120;this.dk=0}else{Q.qH+=d;this.kj.x+=d}}Q.fp=this.kj.y+(this.asv?y:-n);
this.dk=Math.max(this.dk,Math.round(y-n));this.G6=[w,n,H,y];this.a7q=[];V.B.push(V.C$())};f$.prototype.StartTGroup=function(w){this.Ut();
var n=this.UE;n.B.push(n.C$());var H=f$.rS[w.bmode];if(H==null)H="norm";var y=n.mX();y.nY("<Group>");
y.add.lsct=c0.q8;y.UM=H=="norm"?"pass":H;y.Vg=24;y.opacity=Math.round(255*w.ca);this.a7q.push(y)};f$.prototype.EndTGroup=function(){this.UE.B.push(this.a7q.pop())};
f$.prototype.anO=function(){var w=this.UE,n=w.B[w.B.length-1];return n};f$.prototype.afD=function(){var w=JSON.parse(JSON.stringify(d5.Ed.default));
w.strokeStyleLineAlignment.v.strokeStyleLineAlignment="strokeStyleAlignCenter";w.strokeEnabled.v=!1;
w.fillEnabled.v=!1;return w};f$.prototype.aeq=function(){var w=this.UE,n=w.mX();n.nY("Path "+w.B.length);
this.UE.B.push(n);n.Vg|=16;n.add.SoCo={classID:"null",Clr:{t:"Objc",v:O.M.Yw({b:0,J:0,k:0})}};n.add.vmsk=new a.TB;
n.add.vstk=this.afD();return n};f$.prototype.br=function(w){var n={w:w.crds,T:w.cmds},H=O.p.KL(n,!1);
O.r._R(H,this.Jd);return H};f$.a8H=function(w,n){for(var l=0;l<w.length;l++)if(w[l].NB!=null)w[l].NB=n};
f$.apl=function(w){return Math.sqrt(Math.abs(w[0]*w[3]-w[1]*w[2]))};f$.hR=function(w){return O.M.Yw({b:w[0]*255,J:w[1]*255,k:w[2]*255})};
f$.gX=function(w){return new b7(w[0],w[1],w[2],w[3],w[4],w[5])};f$.prototype.Stroke=function(w){if(this.bk!=-1&&this.bk!=this.rJ)return;
if(w.pth.cmds.length<=1)return;var n=this.br(w.pth);if(n.length<=2)return;this.n4(w);f$.a8H(n,-1);n[2].NB=1;
var H=f$.hR(w.COLR),y=this.anO(),c=this.afD();f$.AL(c,w,this.Jd.H5(),H);var Q=y!=null&&y.add.vmsk!=null&&!y.Ok(),q=Q&&!y.add.vstk.strokeEnabled.v&&a.TB.a0w(y.add.vmsk.i,n,!0),S=Q&&!y.add.vstk.fillEnabled.v&&JSON.stringify(c)==JSON.stringify(y.add.vstk);
if(S){y.add.vmsk.i=y.add.vmsk.i.concat(n.slice(2))}else if(q){y.add.vstk=c;c.fillEnabled.v=!0}else{y=this.aeq();
y.add.vmsk.i=n;y.add.vstk=c}};f$.AL=function(w,n,H,y){w.strokeEnabled.v=!0;w.strokeStyleMiterLimit.v=n.mlimit;
w.strokeStyleLineDashSet.v=hO.f5(n.dash,1/n.lwidth);w.strokeStyleLineDashOffset.v.val=n.doff;w.strokeStyleLineJoinType.v.strokeStyleLineJoinType=d5.Ed.join[n.ljoin];
w.strokeStyleLineCapType.v.strokeStyleLineCapType=d5.Ed.pv[n.lcap];w.strokeStyleLineWidth.v.val=Math.max(.4,n.lwidth*f$.apl(n.ctm)*H);
w.strokeStyleContent.v.Clr.v=y};f$.prototype.Fill=function(w,n){if(this.bk!=-1&&this.bk!=this.rJ)return;
if(w.ca==0)return;var H=w.pth.cmds;if(H.length==0)return;if(H.length==2&&JSON.stringify(H)=="[\"M\",\"L\"]")return;
var y=O.p.hH(w.pth.crds),c=O.p.hH(w.cpth.crds);if(y.Fa(c)._G())return;var Q=w.pth,q=UDOC.G.isBox(Q,[y.x,y.y,y.x+y.m,y.y+y.e]),S=w.cpth,A=UDOC.G.isBox(S,[c.x,c.y,c.x+c.m,c.y+c.e]);
if(q&&A&&y.O()>c.O()*2){var V=y.Fa(c),e=V.x,d=V.y,N=e+V.m,b=d+V.e;Q={cmds:["M","L","L","L","Z"],crds:[e,d,N,d,N,b,e,b]};
y=V}else if(this.Qv==null&&UDOC.G.isBox(Q,[y.x,y.y,y.x+y.m,y.y+y.e])&&y.n1(c)){Q=S;y=c}else this.n4(w);
var z=this.br(Q),v=O.p.u3(y);O.p.D(v.w,this.Jd,v.w);y=O.p.hH(v.w);var T=f$.aqf(w.colr,this.Jd,y),Y=this.anO(),g=Y!=null&&Y.opacity==Math.round(255*w.ca)&&Y.add.vstk!=null&&!Y.add.vstk.strokeEnabled.v&&Y.add.SoCo&&T.type=="SoFi"&&JSON.stringify(Y.add.SoCo.Clr.v)==JSON.stringify(T.Z.v.Clr.v);
if(g){var R=!1;for(var l=0;l<z.length;l++){if(z[l].NB==0||z[l].NB==2)R=!0}if(R){var h=O.p.hH(O.r.$B(Y.add.vmsk.i)),E=O.p.hH(O.r.$B(z));
g=h.Fa(E)._G()}}if(g){var G=Y.add.vmsk.i;for(var l=2;l<z.length;l++)G.push(z[l])}else{Y=this.aeq();delete Y.add.SoCo;
Y.add.vmsk.i=a.TB.Ce(z);f$.LE(w.colr,Y,this.Jd,y);f$.aeV(w,Y)}};f$.LE=function(w,n,H,y){var c=f$.aqf(w,H,y),Q=null,q=null;
n.add.vstk.fillEnabled.v=!0;if(c.type=="SoFi"){Q="SoCo";q=d5.jG}if(c.type=="GrFl"){Q="GdFl";q=d5.B6}if(c.type=="patternFill"){Q="PtFl";
q=d5.sY}if(Q!=null){n.add[Q]={classID:"null"};for(var l=0;l<q.length;l++){var S=q[l];n.add[Q][S]=c.Z.v[S]}}};
f$.prototype.n4=function(w){var n=this.UE,H=w.cpth,y=H.cmds.join(""),c=H.crds,Q=y+" "+c.join(","),q=UDOC.G.isBox(H,this.a4p);
if(q&&this.Qv==null)return;if(Q==this.Qv)return;this.Ut();if(!q){this.Qv=Q;n.B.push(n.C$());var S=n.mX();
S.nY("Mask");S.add.lsct=c0.$g;S.UM="pass";S.Vg=24;var A=S.add.vmsk=new a.TB;A.i=this.br(w.cpth);if(UDOC.G.isBox(H)){this.u4=O.r.dF(A.i);
this.u4.i_(3,3)}else this.u4=null;this.awT=S}};f$.prototype.Ut=function(){var w=this.UE;if(this.Qv!=null){var n=w.B.length-1,l=n,H=!1;
while(l>=0&&w.B[l].add.lsct!=c0.ho)l--;var y=this.u4;if(y){var c=new cr,Q=n;while(Q>l){c=w.B[Q].en(this.UE,!1,!0);
Q--}H=y.n1(c)}if(H){this.yI.splice(l,1);w.B.splice(l,1)}else{w.B.push(this.awT)}this.Qv=null}};f$.aqf=function(w,n,H){var y,c;
if(w.length!=null){y="SoFi";var Q=JSON.parse(d5.FK[d5.order.indexOf("SoFi")]);c={t:"Objc",v:Q};c.v.Clr.v=f$.hR(w)}else{var q=f$.aly(w,n,H);
y="GrFl";c={t:"Objc",v:q}}return{type:y,Z:c}};f$.aly=function(w,n,H){var y=JSON.parse(d5.FK[d5.order.indexOf("GrFl")]),c=y.Grad.v;
c.Intr.v=0;var Q=f$.gX(w.mat);Q.concat(n);var q=new ce(0,0),S=new ce(H.m,0),A=w.crds;if(w.typ=="rad"){y.Type.v.GrdT="Rdl";
var V=.7;q.x=(1-V)*A[0]+V*A[3];q.y=(1-V)*A[1]+V*A[4];S.x=q.x;S.y=q.y;S.x+=Math.max(A[2],A[5])}else{y.Type.v.GrdT="Lnr";
q.x=A[0];q.y=A[1];S.x=A[2];S.y=A[3];q.x=S.x+.5*(q.x-S.x);q.y=S.y+.5*(q.y-S.y)}q=Q.rY(q);S=Q.rY(S);O.M.yK(q,S,H,y);
var e=w.grad;O.M.Wm(e,c);return y};f$.prototype.PutText=function(w,n,H,y){var c=n.charCodeAt(0),b=null;
if(this.bk!=-1&&this.bk!=this.rJ)return;if(n.length==0||n.length==1&&(c==0||c==8203))return;this.n4(w);
var Q=this.UE,q=w.font,S=Math.round(255*w.ca);if(w.font.Tmode==3)S=0;var A=f$.gX(w.ctm);A.concat(this.Jd);
var V=f$.gX(q.Tm);V.concat(A);var e=V.H5(),d=new b7(1/e,0,0,-1/e,0,0);d.concat(V);var N=q.Tfs*e,z=Q.B.length-1;
while(z>=0&&Q.B[z].add.TySh==null)z--;if(d.k*d.k+d.Mg*d.Mg<.001&&y==null&&z>=0&&Q.B[z].add.TySh&&Q.B[z].opacity==S){var v=Q.B[z],T=this.yI[z],Y=v.add.TySh.D,g=(Y.qH+T.HJ-d.qH)/N,R=Math.abs(g),h=n.indexOf(" ")==-1,E=Y.iL==d.iL&&Y.k==d.k&&Y.Mg==d.Mg&&Y.Du==d.Du,G=E&&Math.abs(T.Cl-d.fp)<1e-5&&R<.6,k=d.fp-T.Cl;
if(G){b=v;T.HJ=d.qH-Y.qH;if(g>.2&&h&&[".",",","?",":","!"].indexOf(n)==-1)n=" "+n}else if(E&&Math.abs(d.qH-Y.qH)<1e-5&&0<k&&k<N*1.7&&T.a8O==N){b=v;
this.akx(T);T.Cl=d.fp;n="\n"+n}}if(b==null){z=Q.B.length;this.yI[z]={Nk:[],HJ:0,Cl:d.fp,Hb:"",a8O:N};
b=Q.mX();Q.B.push(b);b.add.lnsr="rend";b.add.TySh=j1.d2(0,0);b.add.TySh.D=d}var T=this.yI[z];T.HJ+=H*N;
T.Hb+=n;var $=b.add.TySh.EB,p=j1.md($);if(y){j1.mn($,1);var X=[0,0,Math.ceil(y[0]*e),Math.ceil(y[1]*e)];
j1.wr($,X)}var C=p.length-1,D=C+n.length;j1.Uq($,C,n);if(this.eJ==null)this.eJ=j1.ni($,C,C);var o=this.eJ;
o.tq.FontSize=Math.round(N);o.tq.Tracking=Math.round(q.Tc*100);o.tq.Underline=q.Tun==1;o.tq.FillColor={Type:1,Values:[1,w.colr[0],w.colr[1],w.colr[2]]};
if(q.Tal!=null)o.AW.Justification=q.Tal;if(T.Nk.length!=0){o.tq.AutoLeading=!1;o.tq.Leading=T.Cl-T.Nk[T.Nk.length-1].y}var t=q.Tf;
t=t.replace(/#2B/g,"+");t=t.replace(/#2C/g,"-");t=t.split("+").pop();var u={"NimbusRomNo9L-Medi":"NimbusRomNo9L-Med","NimbusRomNo9L-Regu":"NimbusRomNo9L-Reg","NimbusRomNo9L-MediItal":"NimbusRomNo9L-MedIta","NimbusRomNo9L-ReguItal":"NimbusRomNo9L-RegIta",CMTT9:"NimbusMono-Regular",Arial:"ArialMT","BebasNeue-Regular":"BebasNeueRegular"};
if(u[t])t=u[t];j1.Ho(o,t);j1.Xe($,C,D-1,o);b.Id();b.opacity=S};f$.prototype.akx=function(w){w.Nk.push({pV:w.HJ,lG:w.Hb.slice(w.Nk.length==0?0:1)+"\n",y:w.Cl,ua:w.a8O});
w.HJ=0;w.Hb=""};f$.prototype.qa=function(w,n,H){return new Uint8Array(cb.Mn("PNG").vd([[w.buffer,0]],n,H))};
f$.prototype.PutImage=function(w,n,H,y,c,Q,q){if(this.bk!=-1&&this.bk!=this.rJ)return;var S=this.UE,A=w.font.Tmode;
if(A==7&&S.B[S.B.length-1].add.TySh){return}this.n4(w);var V=f$.gX(w.ctm);V.concat(this.Jd);var e=new b7(1/H,0,0,-1/y,0,1);
e.concat(V);V=e;n=f$.anY(n,H,y,Q,!1);if(c)c=f$.anY(c,H,y,q,!0);if(c==null){if(n.length==H*y*4)n=this.qa(n,H,y)}else{n=this.akF(n,H,y,Q,!1);
c=this.akF(c,H,y,q,!0);var d=O.R(H*y);O.RR(c,d,0);O.o2(d,n,3);n=this.qa(n,H,y)}var N=S.rR(n,"Bitmap",0,0),b=N.rect.clone();
b.x=b.y=0;var z=O.p.u3(b).w;O.p.D(z,V,z);N.add.SoLd.Trnf=P.WJ.w2(z);N.add.SoLd.nonAffineTransform=P.WJ.w2(z);
N.W0(S,!1);f$.aeV(w,N);S.B.push(N)};f$.aeV=function(w,n){n.opacity=Math.round(255*w.ca);var H=f$.rS[w.bmode];
if(H==null)console.log("Unknown blend mode",H);else n.UM=H};f$.rS={"/Normal":"norm","/Multiply":"mul ","/Screen":"scrn","/Overlay":"over","/Darken":"dark","/Lighten":"lite","/ColorDodge":"div ","/ColorBurn":"idiv","/HardLight":"hLit","/SoftLight":"sLit","/Difference":"diff","/Exclusion":"smud","/Hue":"hue ","/Saturation":"sat ","/Color":"colr","/Luminosity":"lum "};
f$.at4=function(w){if(w=="pass")w="norm";for(var n in f$.rS)if(f$.rS[n]==w)return n};f$.anY=function(w,n,H,y,c){var Q=cb.mj(w.buffer);
if(Q=="jpg"){try{w=new Uint8Array(cb.Mn("JPG").ajY(w.buffer))}catch(hV){w=new Uint8Array(n*H*4)}}else if(Q=="jb2"){w=new Uint8Array(cb.Mn("JPG")._N(w.buffer,y,c)[0].data)}else if(w.length!=n*H*4){var q=new Uint8Array(n*H*4),S=Math.ceil(n/8),A=new Uint8Array(H*S);
UTIF.decode._decodeG4(w,0,w.length,A,0,n,1);var V=A[0]==(c?255:0);for(var e=0;e<H;e++){var d=S*e;for(var N=0;
N<n;N++){var l=e*n+N,b=l*4,z=(A[d+(N>>3)]>>7-(N&7)&1)*255;if(V)z=255-z;q[b]=z;q[b+1]=z;q[b+2]=z;q[b+3]=255}}w=q}return w};
f$.prototype.akF=function(w,n,H,y,c){if(w.length!=n*H*4){var Q=cb.mj(w.buffer);if(Q=="jb2")throw"e";
var q=cb.Mn(Q);if(q==null||Q=="tga")q=cb.Mn("jpg");w=new Uint8Array(q._N(w,y,c)[0].data)}return w};f$.prototype.ShowPage=function(){var w=this.UE;
this.rJ++;var n=this.G6;this.Ut();var H=w.mX();w.B.push(H);var y=new cr(Math.round(this.kj.x),Math.round(this.kj.y),Math.round(n[2]-n[0]),Math.round(n[3]-n[1]));
if(y._G())y.m=y.e=2e3;this.P8=this.P8.ld(y);H.ws(y);H.add.artb.artboardBackgroundType.v=1;H.nY("Page "+this.rJ);
H.add.lsct=c0.$g;H.UM="pass";H.Vg=24};f$.prototype.Print=function(w){console.log("Print:",w)};f$.prototype.Done=function(){var w=this.UE;
if(this.rJ==1)w.B[w.B.length-1].add.lsct=c0.q8;w.kA(this.rJ);for(var l=0;l<w.B.length;l++){var n=w.B[l],H=n.add.vmsk,y=n.add.TySh,c=this.yI[l];
n.cv();if(H){var Q=!1;for(var q=0;q<H.i.length;q++){var S=H.i[q];if((S.type==0||S.type==3)&&S.length>32767)Q=!0}if(Q){w.B.splice(l,1);
l--;continue}}n.qL(w);if(y&&c&&c.Nk.length!=0){this.akx(c);var A=y.EB,V=c.Nk.length,e=c.Nk[0],d=0,N=0;
for(var q=0;q<V;q++)d=Math.max(d,c.Nk[q].pV);j1.mn(A,1);y.D.fp-=e.ua*.7;j1.wr(A,[0,0,Math.ceil(d*1.1),Math.ceil(c.Nk[V-1].y-e.y+e.ua*2)])}if(y){var A=y.EB;
j1.ada(A);var b=j1.md(A).split("\n");for(var q=0;q<b.length-1;q++){var z=b[q],v=0;for(var T=0;T<z.length;
T++){var Y=z.charCodeAt(T);if(1473<=Y&&Y<=1524)v++}if(v>z.length/2){b[q]=z.split("").reverse().join("");
var g=A.EngineDict.ParagraphRun.RunArray[q].ParagraphSheet.Properties;g._Direction=1;g.Justification=j1.lk(g)}}j1.YI(A,b.join("\n"))}}w.se=!0;
w.m=this.P8.m;w.e=this.P8.e;w.buffer=O.R(this.P8.O()*4)};var e2={};e2.mT=null;e2.Z8=function(w,n,H,y,c,Q){if(c==null)c=w.m;
if(Q==null)Q=w.e;e2.mT=w;var q=!1,S=[w.root],A=w.root.children;if(w.add.artd){q=!0;for(var l=0;l<A.length;
l++)if(A[l].j.add.artb==null)q=!1;if(q)S=A}var V=new cr(0,0,w.m,w.e),e=n[0];e=e.replace(/,/g," ").replace(/\-/g," - ").replace(/  +/g," ").trim();
e=e.split(" ");var d=[];for(var l=0;l<e.length;l++){var N=e[l];if(N=="-"){var b=d.pop(),z=parseInt(e[l+1]);
while(b<z){d.push(b);b++}}else d.push(parseInt(N))}e=d;for(var l=0;l<e.length;l++)if(isNaN(e[l])||e[l]<1||e[l]>S.length){e.splice(l,1);
l--}var v=c/w.m,T=Q/w.e,Y=v*72/w.uP,g=T*72/w.uP,R=n[5];if(R==null)R=0;var h=72*R,E=72*R;for(var G=0;
G<S.length;G++){var l=G;if(n[2])l=S.length-1-G;if(e.length!=0&&e.indexOf(l+1)==-1)continue;var k=S[l],$=q?k.j.oC():V;
if(!k.j.tl())continue;var p=Math.round($.m*Y+2*h),X=Math.round($.e*g+2*E);H.StartPage(0,0,p,X);var C=UDOC.getState(),D=new b7;
D.translate(-$.x,-$.y-$.e);D.scale(Y,-g);D.translate(h,E);if(q){var o=k.j.add.artb,t=o.artboardBackgroundType.v;
if(t!=1&&t!=3){var u=k.j.Wp(),m=h*Y,U=E*g,I=m+$.m*Y,x=U+$.e*g;C.colr=[(u>>>0&255)/255,(u>>>8&255)/255,(u>>>16&255)/255];
C.pth={cmds:["M","L","L","L","Z"],crds:[m,U,I,U,I,x,m,x]};H.Fill(C)}}if(n[3]){var J=w.E$();if(!V.Hw($)){J=O.R($.O()*4);
O.j1(w.E$(),V,J,$)}var r=w.r0();if(r)ICC.U.applyLUT(r[w.add.fcmy==1?5:3],r[2],J,J);if(n[1]!=100){var Z=cb.Mn("JPG").vd([[J.buffer]],$.m,$.e,[n[1]]);
J=new Uint8Array(Z)}var f=new b7;f.translate($.x,$.y);e2.$m(C,H,J,$,f,D)}else{e2.a8D(w,k,C,H,D,n,y);
if(h!=0){var m=h,U=E,I=m+$.m,x=U+$.e,F=I+h,_=x+h;C.ca=1;C.colr=[1,1,1];C.pth={cmds:"M L L L Z M L L L Z".split(" "),crds:[0,0,0,_,F,_,F,0,m,U,I,U,I,x,m,x]};
H.Fill(C)}}H.ShowPage()}H.Done();e2.mT=null};e2.v7=function(w){w=O.M.cH(w);return[w.b/255,w.J/255,w.k/255]};
e2.a8D=function(w,n,H,y,c,Q,q){var S=n.j,A=S.add.lsct,V=S.add.lmfx,e=S.add.vmsk,d=S.add.vstk,N=S.add.TySh,Y,g,C;
if(!S.tl())return;var b=S.opacity/255,z=S.add.iOpa!=null?S.add.iOpa/255:1;H.bmode=f$.at4(S.UM);var v=H.ca;
H.ca=H.CA=b*z;var T=V;if(T)T=T.solidFillMulti.v[0];if(T)T=T.v;if(T&&!T.enab.v)T=null;var R=S.rect;if(S.QB()&&(!S.Ok()||S.Sh&&S.Sh.wX)){if(S.Ok()){Y=S.Sh.wX;
R=S.Sh.a49}else{Y=O.R(S.rect.O());O.RR(S.buffer,Y,3)}g=hO.io(V,S.add.fxrp,Y,R,w,R).type;var h=["DrSh","OrGl"];
if(z!=1||d&&!d.fillEnabled.v){var E=Y.slice(0);O.G$(E);for(var l=0;l<h.length;l++){var G=g[h[l]];for(var k=0;
k<G.length;k++){var $=G[k],p=$.la.clone();p.x+=R.x;p.y+=R.y;O.lf(E,R,$.fF,p)}}}}if(g)e2.amf(S,Y,R,g,H,y,c,Q,!0);
var X=hO.a0v(S,!1);if(X){y.StartTGroup(H);C=H;H=UDOC.getState()}var D=e&&!S.hu();if(D){var o=O.p.A2(e.i,!1),t=o.ad;
O.p.D(t.w,c,t.w);H.cpth={cmds:t.T,crds:t.w}}if(S.Ok()){for(var l=0;l<n.children.length;l++)e2.a8D(w,n.children[l],H,y,c,Q,q)}else if(e&&S.hu()&&S.add.PtFl==null){var u=e.i,m=O.r.dF(u),U=!1;
if(d.fillEnabled.v){var I=hO.yt(V,S.add),x=I[0],J=I[1];H.colr=e2.CN(x?x:J,c,m);U=!0}var r=hO.nv(V);if(!d.strokeEnabled.v&&r)d=r;
var o=O.p.A2(u,d.strokeEnabled.v),t=o.ad;O.p.D(t.w,c,t.w);H.pth={cmds:t.T,crds:t.w};e2.a59(y,H,U,d,c,m,o.nk!=0)}else if(N&&Q[4]){var Z=N.EB,f=new ir(Z,q),t=kn.Zt(f,N),F=O.p.iw(t),_=hO.nv(V);
for(var K in F){var B=parseInt(K.slice(1,7),16),ij=0;H.colr=T?e2.v7(T.Clr.v):e2.ad0(B);var W=F[K];O.p.D(W.w,c,W.w);
W=O.p.ahw(W);H.pth={cmds:W.T,crds:W.w};var d=_;if(K.length>7){d=JSON.parse(JSON.stringify(d5.Ed.default));
var L=K.slice(7).split("-"),B=parseInt(L[1].slice(1),16),i=e2.ad0(B);d.strokeEnabled.v=!0;d.strokeStyleLineWidth.v.val=parseFloat(L[2]);
d.strokeStyleContent.v.Clr.v=T?T.Clr.v:O.M.Yw({b:i[0]*255,J:i[1]*255,k:i[2]*255});d.strokeStyleMiterLimit.v=parseFloat(L[2])}e2.a59(y,H,!0,d,c,null,!1)}}else if(N){var Z=JSON.parse(JSON.stringify(N.EB));
j1.ada(Z);var e3=N.D.clone(),eE=new b7(1,0,0,-1,0,0);eE.concat(e3);eE.concat(c);var ec=j1.md(Z),f=new ir(Z,q);
for(var l=0;l<f.AW.length;l++){var gw=f.AW[l];if(gw.D5.length==1&&gw.D5[0].PD)continue;for(var k=0;k<gw.WQ.length;
k++){var bl=gw.WQ[k],cD=gw.Pi.y+bl.Pi.y,a$=gw.D5[bl.start].start,hJ=gw.D5[bl.end-1].end,ei=j1.asP(Z,a$,hJ);
for(var df=0;df<ei.length;df++){var bM=f.aT(a$),ib=ei[df],fI=j1.ni(Z,a$,a$),eU=fI.II[fI.tq.Font].Name;
H.font.Tf=eU;var K=j1.cH(fI.tq.FillColor);H.colr=T?e2.v7(T.Clr.v):[K.b/255,K.J/255,K.k/255];var gK=H.font.Tfs=Math.round(fI.tq.FontSize),bs=ec.slice(a$,a$+ib);
if(fI.tq.FontCaps==2)bs=bs.toUpperCase();var km=new b7;km.translate(bM.U2.x,-cD);km.concat(eE);H.ctm=[km.iL,km.k,km.Mg,km.Du,km.qH,km.fp];
y.PutText(H,bs,0);for(var aJ=0;aJ<2;aJ++){var ip=fI.tq[aJ==0?"Strikethrough":"Underline"];if(!ip)continue;
var fl=f.aT(a$+ib-1),b3=aJ==0?.27:-.2,dY=gK*b3,k4=gK*(b3+.07),ij=fl.U2.x+fl.U2.m-bM.U2.x,aK=[0,dY,ij,dY,ij,k4,0,k4];
O.p.D(aK,km,aK);H.pth={cmds:["M","L","L","L","Z"],crds:aK};y.Fill(H)}H.ctm=[1,0,0,1,0,0];a$+=ib}}}}else if(!S.rect._G()){var ay,gN,d4=!1,bK=new b7,hf=S.add.SoLd,bC=!0;
if(hf)bC=O.K.gr(O.K.gU(P.WJ.b6(hf.Trnf)));var gW=w.r0();if(hf&&bC&&gW==null){var dn=hf.Idnt.v,fq=w.Lm(dn,hf.Crop?hf.Crop.v:null),ac="";
if(fq==null)return;var jN=fq.TM,jb=cb.mj(fq.raw.buffer);if(Q[6].indexOf(jb)!=-1){ay=fq.raw;d4=!0}else ay=jN[0];
gN=jN[1];bK=O.K.EH(hf)}else{ay=S.buffer;gN=S.rect;bK.translate(gN.x,gN.y);if(gW){ay=ay.slice(0);ICC.U.applyLUT(gW[w.add.fcmy==1?5:3],gW[2],ay,ay)}}if(T&&!d4)ay=hO.a3Q(ay,T,gN);
e2.$m(H,y,ay,gN,bK,c);if(T&&d4){var aK=[0,0,gN.m,0,gN.m,gN.e,0,gN.e];O.p.D(aK,bK,aK);O.p.D(aK,c,aK);
var a_=JSON.parse(JSON.stringify(H));a_.ca=T.Opct.v.val/100;a_.pth={cmds:["M","L","L","L","Z"],crds:aK};
a_.colr=e2.v7(T.Clr.v);y.Fill(a_)}}if(D)H.cpth=null;if(X){y.EndTGroup();H=C}H.ca=H.CA=v;if(g)e2.amf(S,Y,R,g,H,y,c,Q,!1)};
e2.a59=function(w,n,H,y,c,Q,q){var S=!1,A=0,V=0;if(y&&y.strokeEnabled.v){var e=y.strokeStyleContent.v,N=y.strokeStyleLineDashSet.v;
A=d5.Ed.YH.indexOf(y.strokeStyleLineAlignment.v.strokeStyleLineAlignment);n.COLR=e2.CN(e,c,Q);V=y.strokeStyleLineWidth.v.val*c.H5();
n.mlimit=y.strokeStyleMiterLimit.v*c.H5();n.doff=y.strokeStyleLineDashOffset.v.val;n.ljoin=d5.Ed.join.indexOf(y.strokeStyleLineJoinType.v.strokeStyleLineJoinType);
n.lcap=d5.Ed.pv.indexOf(y.strokeStyleLineCapType.v.strokeStyleLineCapType);n.dash=[];for(var l=0;l<N.length;
l++)n.dash.push(N[l].v.val*V);if(n.dash.length==1&&n.dash[0]==0)n.dash=[];S=!0}var b=A==2;if(H&&!b)w.Fill(n,q);
if(S){n.lwidth=V*(A==2?2:1);w.Stroke(n)}if(H&&b)w.Fill(n,q)};e2.au8=function(w){var n=e2.mT;if(n==null)return w;
var H=n.r0();if(H&&n.add.fcmy){var y=new Uint8Array(4);y[0]=.5+w[0]*255;y[1]=.5+w[1]*255;y[2]=.5+w[2]*255;
ICC.U.applyLUT(H[n.add.fcmy==1?5:3],H[2],y,y);w=[y[0]/255,y[1]/255,y[2]/255]}return w};e2.v7=function(w){w=O.M.cH(w);
return e2.au8([w.b/255,w.J/255,w.k/255])};e2.ad0=function(w){return e2.au8([(w>>>16&255)/255,(w>>>8&255)/255,(w&255)/255])};
e2.CN=function(w,n,H){if(w.Clr)return e2.v7(w.Clr.v);var y=w,c=y.Rvrs?y.Rvrs.v:!1,Q=y.Type.v.GrdT,q,S=Q=="Rdl"||Q=="Dmnd"?"rad":"lin",A=O.M.vt(y,H),V=n.rY(A[0]),e=n.rY(A[1]);
if(S=="rad")q=[V.x,V.y,0,V.x,V.y,ce.Re(V,e)];else{V.HV(e.x+(V.x-e.x)*2,e.y+(V.y-e.y)*2);q=[V.x,V.y,e.x,e.y]}var d=O.M.fi(y.Grad.v,c);
return{typ:S,mat:[1,0,0,1,0,0],grad:d,crds:q}};e2.amf=function(w,n,H,y,c,Q,q,S,A){var V=H.clone(),e=n;
if(w.add.TySh&&!S[3]&&!S[4])return;var d=c.ca,N=c.bmode;for(var l=d5.order.length-1;l>=0;l--){var b=d5.order[l];
if(b=="GrFl"||b=="SoFi")continue;if((w.add.vmsk||w.add.TySh)&&b=="FrFX")continue;var z=y[b],v=l>7||b=="FrFX";
if(v!=A)continue;for(var T=0;T<z.length;T++){var Y=z[T];if(Y.la==null)Y=Y.K5?Y.K5:Y.wG;var g=Y.la.clone();
g.offset(V.x,V.y);if(!v){if(!V.n1(g)){var R=V.ld(g),h=O.R(R.O());O.qS(e,V,h,R);e=h;V=R}O.lf(e,V,Y.fF,g)}if(v&&b=="FrFX"&&Y.K8)O.lf(Y.K8,g,Y.fF,g);
var E=new b7;E.translate(g.x,g.y);c.ca=Y.AX;c.bmode=f$.at4(Y.$X);e2.$m(c,Q,Y.fF,g,E,q)}}c.ca=d;c.bmode=N};
e2.$m=function(w,n,H,y,c,Q){var q=new b7;q.scale(y.m,-y.e);q.translate(0,y.e);q.concat(c);q.concat(Q);
w.ctm=[q.iL,q.k,q.Mg,q.Du,q.qH,q.fp];n.PutImage(w,H,y.m,y.e);w.ctm=[1,0,0,1,0,0]};var fd={};fd.V2=function(w){var n=new Uint8Array(w);
return fd.IH(n,0)};fd.IH=function(w,n){var H=j.s,y=j.QN,c={h4:y(w,n,4),Q:n+8,size:H(w,n+4)},Q=c.h4=="FORM"||c.h4=="LIST"||c.h4=="CAT ";
if(Q)c.oj=y(w,n+8,4);if(c.size<0||c.Q+c.size>w.length)throw"e";if(Q){c.sub=[];n+=12;var q=c.Q+c.size;
while(n<q){var S=fd.IH(w,n);c.sub.push(S);n+=8+S.size+(S.size&1)}}return c};var a3={};a3.V2=function(w,n){var H=new Uint8Array(w);
return a3.IH(H,0,n)};a3.IH=function(w,n,H){var y=j.U5,c=j.QN,Q={h4:c(w,n,4),Q:n+8,size:y(w,n+4)};if(H&&H[Q.size]!=null)Q.size=H[Q.size];
if(Q.h4=="RIFF"||Q.h4=="LIST"){Q.oj=c(w,n+8,4)}if(Q.size<0||Q.Q+Q.size>w.length)throw"e";if(Q.h4=="RIFF"||Q.h4=="LIST"&&(Q.oj!="cmpr"&&Q.oj!="stlt")){Q.sub=[];
n+=12;var q=Q.Q+Q.size;while(n<q){var S=a3.IH(w,n,H);Q.sub.push(S);n+=8+S.size+(S.size&1)}}return Q};
var jG=function(){function w(_,K){var B=null;if(_.sub==null)return B;for(var l=0;l<_.sub.length;l++){var ij=_.sub[l];
if(ij.h4==K||ij.oj==K)B=ij}return B}function n(_){if(_==32)return 300;else if(_<49)return 0;else if(_<58)return 100*(_-48);
else if(_<65)return 0;return 100*(_-55)}var H;function y(_,K){var B=new Uint8Array(_);K.se=!0;H={};var ij=j.QN(B,0,2);
if(ij=="WL"){alert("Unsupported CDR version")}else{var W,L,i,ec,ib=300,gK=0;if(ij=="PK"){L=UZIP.parse(B);
B=L["content/root.dat"];i=j.NR(L["content/dataFileList.dat"]).split("\n")}W=a3.V2(B.buffer);console.log(W);
var e3=n(B[11]),eE={data:B,Q:0,eZ:e3};eE.HK=eE.eZ<600?16:32;k(B,eE,i,L,W.sub,0);var gw=[];if(L){ec=w(W,"doc ");
c(ec);var bl=W.sub;for(var l=0;l<bl.length;l++)if(bl[l].oj=="page")gw.push(bl[l]);gw=gw.slice(1)}else if(w(W,"cmpr")==null){ec=w(W,"page");
gw.push(ec)}else{var cD=w(W,"cmpr").sub;ec=cD[0];gw=[cD.slice(1)[1]];c(ec)}var a$=w(ec,"mcfg").Z,hJ=a$.acQ,ei=hJ.x*.1,df=hJ.x*gw.length+ei*(gw.length-1),bM=hJ.y;
ib/=iX.Ab(new cr(0,0,Math.round(df*ib),Math.round(bM*ib)),8192*8192);var fI=Math.round(df*ib),eU=Math.round(bM*ib);
K.m=fI;K.e=eU;K.buffer=O.R(K.m*K.e*4);for(var l=0;l<gw.length;l++){var bs=new b7(ib,0,0,-ib,hJ.x*ib/2+gK,hJ.y*ib/2);
Q(gw[l],ec,K,bs);var km=K.B[K.B.length-1];km.ws(new cr(Math.round(gK),0,Math.round(hJ.x*ib),Math.round(hJ.y*ib)));
km.nY("Page "+(l+1));gK+=hJ.x*ib+ei*ib}K.kA(gw.length)}}function c(_){var K=w(_,"filt").sub,B=w(_,"otlt").sub,ij=w(_,"fntt");
if(ij)ij=ij.sub;_.JQ={};for(var l=0;l<K.length;l++)_.JQ[K[l].sub[0].Z.id]=K[l].sub[0].Z;_.nt={};for(var l=0;
l<B.length;l++)_.nt[B[l].Z.id]=B[l].Z;if(ij){_.fonts={};for(var l=0;l<ij.length;l++)_.fonts[ij[l].Z.id]=ij[l].Z}}function Q(_,K,B,ij){var W=_.oj?_.oj:_.h4,L=w(_,"lgob"),i=w(_,"txsm"),e3=null,eE=null;
if(L){e3=w(L,"trfl");eE=w(L,"loda")}else if(w(_,"lobj"))eE=w(_,"lobj");var ec=e3?e3.sub[0].Yx.clone():new b7;
ec.concat(ij);var gw=B.mX();if(W=="page"||W=="layr"||W=="grp "){gw.nY((W=="page"?"Page":"Group")+" "+B.B.length);
gw.add.lsct=c0.q8;gw.UM="pass";gw.Vg=24;var bl=[];if(W=="page")bl=w(_,"gobj").sub;if(W=="layr")bl=_.sub.slice(2);
if(W=="grp ")bl=_.sub.slice(4);if(bl.length==0)return;B.B.push(B.C$());for(var l=bl.length-1;l>=0;l--)Q(bl[l],K,B,ij)}else if(W=="obj "&&eE.Z&&eE.Z.path){var cD,a$;
if(K.JQ){cD=K.JQ[eE.Z.a1W];a$=K.nt[eE.Z.a6d]}if(cD==null)cD=eE.Z.aqZ;if(a$==null)a$=eE.Z.alO;gw=q(B,eE.Z.path,ij,ec,cD,a$)}else if(W=="obj "&&i){var hJ=eE.Z.apO,ei=eE.Z.a9N,ib="";
gw.add.TySh=j1.d2(0,0);var df=ec.H5();gw.add.TySh.D.translate(ec.qH,ec.fp);var bM=gw.add.TySh.EB,fI=i.Z.mN;
if(fI==null)return;for(var l=0;l<fI.length;l++){var eU=fI[l],gK=ib.length;ib+=eU.text+"\n";j1.Uq(bM,gK,eU.text+"\n");
if(eU.text=="")continue;var bs=S(eU.ae3,K),km=bs.aw6,aJ=K.fonts[km.aaI],ip=j1.ni(bM,gK,ib.length);if(bs.align==3)ip.AW.Justification=1;
else if(bs.align==2)ip.AW.Justification=2;else ip.AW.Justification=0;var fl=bs.fill.Z;if(aJ.dR)j1.Ho(ip,aJ.dR);
ip.tq.FillColor={Type:1,Values:[1,fl[0],fl[1],fl[2]]};ip.tq.FontSize=Math.round(km.fontSize*ij.H5());
j1.Xe(bM,gK,ib.length-1,ip)}if(ei){j1.mn(bM,0)}else{j1.mn(bM,1);j1.wr(bM,[0,0,Math.round(hJ.x*ec.iL),Math.round(-hJ.y*ec.Du)])}gw.nY(ib.slice(0,10))}else{gw=null}if(gw)B.B.push(gw)}function q(_,K,B,ij,W,L){var i=_.mX();
i.nY("Object "+_.B.length);i.Vg|=16;i.add.vstk=JSON.parse(JSON.stringify(d5.Ed.default));var e3=i.add.vstk;
e3.strokeEnabled.v=!1;i.add.vmsk=new a.TB;i.add.vmsk.i=O.p.KL(K,!1);O.r._R(i.add.vmsk.i,ij);var eE=W&&W.type!=0,ec=eE&&W.Z!=null?W.Z:[0,0,0];
f$.LE(ec,i,ij,O.r.dF(i.add.vmsk.i));e3.fillEnabled.v=eE;if(L&&L.aiv!=1){e3.strokeEnabled.v=!0;e3.strokeStyleLineAlignment.v.strokeStyleLineAlignment="strokeStyleAlignCenter";
var gw=e3.strokeStyleLineWidth.v.val=L.lineWidth*B.H5(),bl=L.color;e3.strokeStyleContent.v.Clr.v=O.M.Yw({b:bl[0]*255,J:bl[1]*255,k:bl[2]*255});
if(L.RM.length!=0)e3.strokeStyleLineDashSet.v=hO.f5(L.RM,4/gw);var cD=L.aiO,a$=L.a7x;if(a$!=0){var hJ=K.w,l=hJ.length-4,ei=hJ[l],df=hJ[l+1],bM=hJ[l+2],ib=hJ[l+3],fI=new b7;
fI.scale(.15,.15);fI.rotate(-Math.PI/2+Math.atan2(ib-df,-(bM-ei)));fI.translate(bM,ib);fI.concat(ij);
if(H[a$]){var eU=q(_,H[a$],B,fI,bl,null);_.B.push(eU)}}}i.cv();i.qL(_);return i}function S(_,K){var B=w(K,"stlt").Z,ij=JSON.parse(JSON.stringify(B.f3[_]));
if(ij.TF!=0){var W=B.f3[ij.TF];for(var L in W)if(ij[L]==null||ij[L]==0)ij[L]=W[L];delete ij.TF}ij.align=B.apI[ij.afc];
ij.fill=K.JQ[B.af1[ij.a0g]];ij.amA=K.nt[B.au9[ij.aya]];ij.aw6=B.arM[ij.abf];return ij}function A(l){var ds=l.data[l.Q];
l.Q+=1;return ds}function V(l){var ds=j.eX(l.data,l.Q);l.Q+=2;return ds}function e(l){var ds=j.U5(l.data,l.Q);
l.Q+=4;return ds}function d(l){var ds=j.U5(l.data,l.Q);l.Q+=8;return ds}function N(l){var ds=j.DH(l.data,l.Q);
l.Q+=2;return ds}function b(l){var ds=j.Hr(l.data,l.Q);l.Q+=4;return ds}function z(l){var ds=j.ID(l.data,l.Q);
l.Q+=8;return ds}function v(l){if(l.Q>=l.data.length)throw"e";var _=0;while(l.data[l.Q+_]!=0)_++;var K=j.QN(l.data,l.Q,_);
l.Q+=_+1;return K}function T(l){var _="";while(!0){var K=V(l);if(K==0)break;_+=String.fromCharCode(K)}return _}function Y(_){var K=e(_),B=(K&4294901760)>>>16,ij=(K&65535)/65535;
return B+ij}function g(_){if(_.eZ<600)return Math.PI*N(_)/1800;return Math.PI*b(_)/18e7}function R(_){if(_.eZ<1500)return h(_);
else return z(_)/254e3}function h(_){if(_.eZ<600)return N(_)/1e3;else return b(_)/254e3}function E(_){if(_.eZ<600)return V(_);
else return e(_)}function G(_){if(_.eZ<600)return N(_);else return b(_)}function k(_,K,B,ij,W,L){var i,e3,eE;
for(var ec=0;ec<W.length;ec++){var gw=K.eZ,bl=W[ec];K.data=_;K.Q=bl.Q+(bl.h4=="LIST"?4:0);if(ij&&bl.sub==null){i=e(K);
e3=e(K);eE=e(K);var cD=V(K);if(cD!=0)throw"e";var a$=V(K);if(a$>32)throw"e";K.Q-=16;if(i!=4294967295){K.data=ij["content/data/"+B[i]];
K.Q=eE}}if(bl.h4=="vrsn"){if(bl.size==16)K.Q+=8;var hJ=V(K);K.eZ=hJ;console.log("Version",hJ);K.HK=hJ<600?16:32}else if(bl.h4=="DISP"){}else if(bl.h4=="LIST"&&bl.oj=="cmpr"){var ei=e(K),df=e(K),bM=e(K),ib=e(K),fI=new Uint8Array(K.data.buffer,K.Q+8+2,ei-6-8),eU=pako.inflateRaw(fI),aJ=0;
K.Q+=ei;fI=new Uint8Array(K.data.buffer,K.Q+8+2);var gK=pako.inflateRaw(fI),bs=[];for(var km=0;km<gK.length;
km+=4)bs.push(j.U5(gK,km));bl.sub=[];while(aJ<eU.length){var ip=a3.IH(eU,aJ,bs);aJ=ip.Q+ip.size;bl.sub.push(ip)}var fl={data:eU,Q:0,eZ:gw,HK:K.HK};
k(eU,fl,B,ij,bl.sub,L+1)}else if(bl.h4=="LIST"&&bl.oj=="stlt"||bl.h4=="stlt"){if(i==4294967295)return;
var b3=K.Q,jN=32;bl.Z={};var dY=e(K);if(dY==0)return;bl.Z.af1=u(K,gw>=1300);bl.Z.au9=u(K);bl.Z.arM={};
var k4=e(K);for(var l=0;l<k4;l++){var aK=e(K);K.Q+=gw<1e3?12:20;var jK=V(K),ay=V(K);K.Q+=8;var f8=h(K);
K.Q+=gw<1e3?12:20;bl.Z.arM[aK]={aaI:jK,a9D:ay,fontSize:f8}}bl.Z.apI=u(K);var gN=e(K);K.Q+=52*gN;var d4=e(K);
K.Q+=152*d4;var bK=e(K);K.Q+=784*bK;var hf=e(K);for(var l=0;l<hf;l++){K.Q+=40;if(gw>1300)K.Q+=4;if(gw>=1300){if(e(K))K.Q+=68;
else K.Q+=12}else{K.Q+=20;if(gw>=1e3)K.Q+=8;if(e(K))K.Q+=8;K.Q+=8}}var bC=e(K);bl.Z.ajj={};for(var l=0;
l<bC;l++){var gW=e(K),dn={};K.Q+=12;dn.right=h(K);dn.at_=h(K);dn.left=h(K);bl.Z.ajj[gW]=dn}var fq=e(K);
if(gw>=1300)jN+=4;K.Q+=jN*fq;var cU=e(K);K.Q+=28*cU;if(gw>800){var jb=e(K);K.Q+=12*jb}bl.Z.f3={};for(var l=0;
l<dY;l++){var ac=e(K),a_=e(K),h5={};h5.TF=e(K);K.Q+=8;var jz=e(K);if(gw>=1200)jz*=2;K.Q+=jz;h5.a0g=e(K);
h5.aya=e(K);if(ac>1){h5.abf=e(K);h5.afc=e(K);h5.anK=e(K);h5.ak6=e(K);if(gw>800)h5.atr=e(K)}if(ac>2){h5.a39=e(K);
h5.aqk=e(K);h5.afi=e(K);h5.azB=e(K);h5.abJ=e(K)}bl.Z.f3[a_]=h5}}else if(bl.h4=="LIST")k(_,K,B,ij,bl.sub,L+1);
else if(bl.h4=="txsm"){bl.Z={};if(gw<600)throw"e";if(gw<700)throw"e";if(gw>=1600){bl.Z=t(K);return}if(gw>=1500)K.Q+=37;
else K.Q+=36;if(e(K)){if(gw<800)K.Q+=32}if(gw<800)K.Q+=4;bl.Z.ay6=e(K);bl.Z.mN=[];K.Q+=48;if(gw>=800){if(e(K)){K.Q+=32;
if(gw>=1300)K.Q+=8}}if(gw>=1500)K.Q+=12;var ac=e(K),jj=1,jy=!1;if(!ac){if(gw>=800)K.Q+=4;if(gw>800)K.Q+=2;
if(gw>=1400)K.Q+=2;K.Q+=24;if(gw<800)K.Q+=8;jj=e(K)}for(var km=0;km<jj;km++){var g0=e(K),l=0;if(gw>=1300&&ac)K.Q++;
K.Q++;var dY=e(K),bt=[];for(l=0;l<dY;l++){var kl=A(K),dN=0;A(K);var iO=A(K);if(gw>=800)dN=A(K);var h5={};
if(iO&1){h5.aaI=V(K);var aG=V(K);if(aG)h5.amd=aG}if(iO&2)K.Q+=4;if(iO&4)h5.ax5=h(K);if(iO&8)K.Q+=4;if(iO&16)K.Q+=4;
if(iO&32)K.Q+=4;if(iO&64){h5.a0g=e(K);if(gw>=1500)K.Q+=48}if(iO&128){h5.aya=e(K)}if(dN&8){if(gw>=1300){var iA=e(K);
if(K.Q+iA*2>=K.data.length){jy=!0;break}K.Q+=iA*2}else K.Q+=4}if(dN&32){var a0=A(K);if(a0)K.Q+=52}if(kl==2)if(gw>=1300)K.Q+=48;
bt.push(h5)}if(jy){break}var cd=e(K);if(K.Q+cd*4>K.data.length)break;var co=[];for(l=0;l<cd;l++){var c7=0;
if(gw>=1200)c7=d(K)&4294967295;else c7=e(K);co[l]=c7>>16|c7&1}var cF=cd;if(gw>=1200)cF=e(K);var b1=v(K);
bl.Z.mN.push({ae3:g0,text:b1,f3:bt})}}else if(bl.h4=="arrw")bl.Z=$(K);else if(bl.h4=="font"){var a5=K.Q,iy=V(K),ko=V(K),gc="";
K.Q+=14;if(K.eZ>=1200)gc=T(K);else gc=v(K);bl.Z={id:iy,ahK:ko,name:gc};if(ij){var eR=a5+e3;while(K.data[K.Q]==0)K.Q++;
K.Q+=2;var aX=T(K);while(K.data[K.Q]==0)K.Q++;while(K.data[K.Q]<=2)K.Q+=4;bl.Z.dR=T(K)}}else if(["IKEY","ICMT","pfrd","bcfg"].indexOf(bl.h4)!=-1){}else if(bl.h4=="flgs")bl.Z=e(K);
else if(bl.h4=="bbox"){var ck=h(K),by=h(K),i3=h(K),bb=h(K);bl.Z=new cr(ck,by,i3-ck,bb-by)}else if(bl.h4=="fild"){var il=e(K),j9;
if(gw>=1300)K.Q+=8;var eH=V(K);if(eH==0){}else if(eH==1){K.Q+=gw>=1300?13:2;j9=f(K)}else if(eH==2){K.Q+=gw>=1300?8:2;
var jq=A(K),jn=0;if(gw>=1300){K.Q+=17;jn=N(K)}else if(gw>=600){K.Q+=19;jn=b(K)}else{K.Q+=11;jn=N(K)}var eQ=g(K),ik=.5+G(K),dR=.5+G(K)-.5;
if(gw>=600)K.Q+=2;var d0=E(K)&255,ii=A(K)/100;K.Q++;var fB=E(K)&65535;if(gw>=1300)K.Q+=3;var bF=[];for(var l=0;
l<fB;l++){var hL=f(K);if(gw>=1400)K.Q+=26;else if(gw>=1300)K.Q+=5;var im=(E(K)&65535)/100;if(gw>=1300)K.Q+=3;
bF.push([im,hL])}j9={typ:jq==1?"lin":"rad",crds:[ik-Math.cos(eQ)/2,dR-Math.sin(eQ)/2,ik,dR],grad:bF,mat:[1,0,0,1,0,0]}}else console.log("Unknown fill type",eH);
bl.Z={id:il,type:eH,Z:j9}}else if(bl.h4=="outl"){var eB=e(K);if(gw>=1300){var gP=0,ig=0;while(gP!=1){K.Q+=ig;
gP=e(K);ig=e(K)}}var ao=V(K),el=V(K),d_=V(K);if(gw<1300&&gw>=600)K.Q+=2;var jO=h(K),g2=V(K)/100;if(gw>=600)K.Q+=2;
var h_=g(K);if(gw>=1300)K.Q+=46;else if(gw>=600)K.Q+=52;var j9=f(K);if(gw<600)K.Q+=10;else K.Q+=16;var bE=V(K),fc=K.Q,gg=[];
for(var l=0;l<bE;++l)gg.push(V(K));if(gw<600)K.Q=fc+20;else K.Q=fc+22;var fh=e(K),bq=e(K);bl.Z={id:eB,aiv:ao,aaQ:el,a6j:d_,lineWidth:jO,color:j9,RM:gg,aiO:fh,a7x:bq}}else if(bl.h4=="mcfg"){if(1300<=gw)K.Q+=12;
else if(900<=gw)K.Q+=4;else if(600<=gw&&gw<700)K.Q+=28;var g$=0,bk=0;if(gw<400){K.Q+=2;var ck=h(K),by=h(K),i3=h(K),bb=h(K);
g$=Math.abs(i3-ck);bk=Math.abs(bb-by)}else{g$=h(K);bk=h(K)}bl.Z={acQ:new ce(g$,bk)}}else if(bl.h4=="loda"||bl.h4=="lobj"){var b3=K.Q,fs=E(K),cf=E(K),e1=E(K),cv=E(K),jp=E(K),ee=[],bP=[],l=0,jW=null;
K.Q=b3+e1;while(l<cf)ee[l++]=E(K);K.Q=b3+cv;while(l>0)bP[--l]=E(K);bl.Z={};for(l=0;l<cf;l++){K.Q=b3+ee[l];
var hy=bP[l];if(hy==30){if(gw>=400&&jp==1||gw<400&&jp==0){bl.Z.path=o(K)}else if(gw>=400&&jp==2||gw<400&&jp==1){bl.Z.path=D(K)}else if(gw>=400&&jp==3||gw<400&&jp==2){bl.Z.path=x(K)}else if(jp==37){bl.Z.path=I(K)}else if(gw>=400&&jp==4||gw<400&&jp==3){bl.Z.a9N=m(K)}else if(gw>=400&&jp==6||gw<400&&jp==5){bl.Z.apO=U(K)}else console.log(jp)}else if(hy==20){if(gw<400)bl.Z.aqZ=X(K);
else bl.Z.a1W=e(K)}else if(hy==10){if(gw<400)bl.Z.alO=C(K);else bl.Z.a6d=e(K)}else if(hy==200)bl.Z.a4P=E(K);
else if(hy==100){if(gw<400)jW=p(K)}}if(jW&&bl.Z.path)O.p.D(bl.Z.path.w,jW,bl.Z.path.w)}else if(bl.h4=="trfd"){var b3=K.Q,fs=E(K),cf=E(K),e1=E(K);
K.Q=b3+e1;var ee=[];for(var l=0;l<cf;l++)ee[l]=E(K);for(var l=0;l<cf;l++){K.Q=b3+ee[l];if(gw>=1300)K.Q+=8;
var ht=V(K);if(ht==8){var jZ,fa,ck,ju,dC,by;if(gw>=600)K.Q+=6;if(gw>=500){jZ=z(K);fa=z(K);ck=z(K)/(gw<600?1e3:254e3);
ju=z(K);dC=z(K);by=z(K)/(gw<600?1e3:254e3)}else throw"e";bl.Yx=new b7(jZ,ju,fa,dC,ck,by)}else console.log(ht)}}else if(!1){console.log(bl);
var et=Math.min(bl.size,32);console.log(j.Xi(_,bl.Q,et));console.log(j.atH(_,bl.Q,et))}}}function $(_){var K=e(_);
_.Q+=4;var B=V(_);_.Q+=4;var ij=[];for(var W=0;W<B;W++)ij.push(A(_));_.Q+=1;var L=[];for(var i=0;i<B;
i++){var e3=[];e3[1]=h(_);e3[0]=h(_);L.push(e3)}var eE=r(L,ij);H[K]=eE}function p(_){var K=0,B=0,ij=0,W=0,L=0,i=0;
if(_.eZ>=300){var e3=_.Q;_.Q+=10;var eE=E(_);_.Q=e3+eE;K=Y(_);B=Y(_);ij=b(_)/1e3;W=Y(_);L=Y(_);i=b(_)/1e3}else{ij=h(_);
i=h(_);K=Y(_);B=Y(_);ij+=Y(_)/1e3;W=Y(_);L=Y(_);i+=Y(_)/1e3}return new b7(K,B,W,L,ij,i)}function X(_){var K=A(_);
if(K==0)return null;else if(K==1)return f(_);else console.log(K)}function C(_){var K=A(_);K<<=1;var B=h(_),ij=V(_)/100,W=g(_),L=f(_);
return{aiv:K,lineWidth:B,color:L,RM:[],aiO:0,a7x:0}}function D(_){var K=h(_),B=h(_),ij=g(_),W=g(_),L=O.p.$n(O.r.yj.r1(0,0,K,B));
return L}function o(_){var K=_.eZ,B=R(_),ij=R(_),W=0,L=0,i=0,e3=0,eE=0,ec=1,gw=1;if(K<1500){e3=R(_);
i=K<900?e3:R(_);L=K<900?e3:R(_);W=K<900?e3:R(_)}else{var bl=z(_);if(bl!=0)ec=bl;bl=z(_);if(bl!=0)gw=bl;
var cD=A(_);_.Q+=7;if(cD==0){e3=z(_);eE=A(_);_.Q+=15;i=z(_);_.Q+=16;L=z(_);_.Q+=16;W=z(_);var a$=Math.abs(B*ec/2),hJ=Math.abs(ij*gw/2);
e3*=a$<hJ?a$:hJ;i*=a$<hJ?a$:hJ;L*=a$<hJ?a$:hJ;W*=a$<hJ?a$:hJ}else{e3=R(_);eE=A(_);_.Q+=15;i=R(_);_.Q+=16;
L=R(_);_.Q+=16;W=R(_)}}return O.p.$n(O.r.yj.Rect(0,0,B,ij,[W,L,i,e3]))}function t(_){var K=e(_),ij=0;
_.Q+=37;var B=e(_);for(var l=0;l<B;l++){var W=e(_);ij=W;_.Q+=48;var L=e(_);if(L==1)_.Q+=12*4;else _.Q+=8;
if(!K){_.Q+=16;var i=e(_);if(_.eZ>1600)_.Q+=i;else _.Q+=i*2}}var e3={ay6:ij,mN:[]},eE=e(_);for(var ec=0;
ec<eE;ec++){var gw=e(_),km="";_.Q+=1;if(K)_.Q+=1;var bl=e(_);if(_.eZ<1700)bl*=2;var cD=j.QN(_.data,_.Q,bl);
_.Q+=bl;var a$=e(_);for(var l=0;l<a$;l++){_.Q+=2;var hJ=V(_),ei=V(_);if(ei&4){var df=e(_);df*=2;_.Q+=df}if(hJ||ei&4){var bM=e(_);
if(_.eZ<1700)bM*=2;var ib=j.QN(_.data,_.Q,bM);_.Q+=bM}}var fI=e(_),eU=[];for(var l=0;l<fI;l++){var gK=d(_)&4294967295;
eU[l]=gK>>16|gK&1}var bs=e(_);for(var l=0;l<fI;l++){var aJ=eU[l],ip=0;if(aJ==0||aJ==2||aJ==4||aJ==6)ip=_.data[_.Q++];
else if(aJ==1||aJ==3)ip=_.data[_.Q++]+_.data[_.Q++]*256;else throw aJ;km+=String.fromCharCode(ip)}var fl=km.split("\r");
for(var l=0;l<fl.length;l++)e3.mN.push({text:fl[l],ae3:gw,f3:[]})}return e3}function u(_,K){var B={},ij=e(_);
for(var l=0;l<ij;l++){var W=e(_);_.Q+=4;var L=e(_);B[W]=L;if(K)_.Q+=48}return B}function m(_){var K=h(_),B=h(_);
return new ce(K,B)}function U(_){_.Q+=4;var K=h(_),B=h(_);return new ce(K,B)}function I(_){_.Q+=4;var K=V(_)+V(_);
_.Q+=16;var B=J(_,K);return B}function x(_){var K=V(_);_.Q+=2;return J(_,K)}function J(_,K){var B=[],ij=[];
for(var l=0;l<K;l++)B.push([h(_),h(_)]);for(var l=0;l<K;l++)ij.push(A(_));return r(B,ij)}function r(_,K){var B={w:[],T:[]},ij=0,W=0,L=0;
for(var l=0;l<_.length;l++){var ij=_[l][0],W=_[l][1],i=K[l];if(!(i&64)&&!(i&128)){B.w.push(ij,W);B.T.push("M");
L+=2}else if(i&64&&!(i&128)){B.w.push(ij,W);B.T.push("L");L+=2}else if(!(i&64)&&i&128){B.w.push(ij,W);
B.T.push("C");L+=6}else if(i&64&&i&128){B.w.push(ij,W)}}if(L!=B.w.length)throw"e";return B}function Z(_,K){var B=j.U5;
K+=8;var ij=B(_,K);K+=4;var W=B(_,K);K+=4;K+=4*7;var L=K,i=O.R(ij*W*4);K+=1024;for(var e3=0;e3<W;e3++)for(var eE=0;
eE<ij;eE++){var l=e3*ij+eE,ec=(W-e3-1)*ij+eE,gw=_[K+l]<<2,bl=ec<<2;i[bl+0]=_[L+gw+2];i[bl+1]=_[L+gw+1];
i[bl+2]=_[L+gw+0];i[bl+3]=255}return{fF:i,rect:new cr(0,0,ij,W)}}function f(_){var K=_.eZ,B=0,ij=0,W=0;
if(K>=500){B=V(_);if(B==1&&K>=1300)B=25;if(B==30){B=25;ij=30}else{ij=V(_);_.Q+=4}W=e(_)}else if(K>=400)throw"e";
else{B=A(_);W=e(_)}return F(B,ij,W)}function F(_,K,B){var ij=[0,0,0];if(_==2||_==3||_==9||_==17){var W=[B>>>0&255,B>>>8&255,B>>>16&255,B>>>24&255];
if(_==2)for(var l=0;l<4;l++)W[l]=Math.round(255*W[l]/100);for(var l=0;l<4;l++)W[l]/=255;ij=UDOC.C.cmykToRgb(W)}else if(_==1||_==5){ij=[B>>>0&255,B>>>8&255,B>>>16&255];
for(var l=0;l<3;l++)ij[l]=ij[l]/255;if(_==5)ij.reverse()}else console.log("Unknown color model "+_,B,B.toString(16));
return ij}return{V2:y}}(),jw=function(){var w,n,H=new ArrayBuffer(4),y=new Uint8Array(H),c=new Uint32Array(H),Q=new Float32Array(H);
function q(N,b){for(var z=0;z<N.length;z++)if(N[z][0]==b)return N[z]}function S(){var N=0,b=0,z=0;do{z=w[n++];
N|=(z&127)<<b;b+=7}while(z&128&&b<35);return N>>>0}function A(N,b,z,v,T){w=N;n=b;var Y=v[0]=="mesg",g=v[2],R={},h=1,E=Y?1e9:g.length;
while(h<=E){var G=h;if(Y){G=S();if(G==0)break}var k=q(g,G),$=k[2],p=k[1]==1,X=p?S():1,C=new Array(X);
if($==3){if(!p)throw"e";C=w.slice(n,n+X);n+=X}else for(var l=0;l<X;l++){var D;if(($&1)==1){if($==1)D=w[n++]==1;
else if($==3)D=w[n++];else if($==5){var o=S();D=o&1?~(o>>>1):o>>>1}else if($==7)D=S();else if($==9){if(w[n]==0){D=0;
n++}else{y[0]=w[n];y[1]=w[n+1];y[2]=w[n+2];y[3]=w[n+3];var t=c[0];c[0]=t<<23|t>>>9;D=Q[0];n+=4}}else if($==11){var u=V(w,n);
D=u[0];n+=u[1]+1}else throw $}else{var m=z[$>>>1];if(m[0]=="enum"){var U=w[n++];if(U>127)throw"e";D=m[2][U]}else{var I=A(w,n,z,m,T+1);
D=I[0];n=I[1]}}C[l]=D}R[k[3]]=p?C:C[0];h++}return[R,n]}function V(N,b){var z=b;while(N[z]!=0)z++;return[j.NR(N,b,z-b),z-b]}function e(N,b){var z=b;
while(N[z]!=0)z++;for(var l=b;l<z;l++)if(N[l]>127)throw"e";return j.QN(N,b,z-b)}function d(N){w=N;n=1;
var b=[];while(n<N.length){var z=n,v=b.length,T=e(N,n);n+=T.length+1;var Y=S();if(Y>2)throw"e";var g=S(),R=[];
for(var l=0;l<g;l++){var h=e(N,n);n+=h.length+1;var E=S(),G=S(),k=S();R.push(Y==0?h:[k,G,E,h])}b.push([["enum","strc","mesg"][Y],T,R])}return b}return{agD:d,aqA:A}}();
function eP(){}eP.V2=function(w,n){var H=new Uint8Array(w),y=8,c=j.U5(H,y),V=0,m=0;y+=4;var Q=[];while(y<H.length){var q=j.U5(H,y);
y+=4;var S=H.slice(y,y+q);if(H[y]==137&&H[y+1]==80){}else S=UZIP.inflateRaw(S);Q.push(S);y+=q}var A=jw.agD(Q[0]);
for(var l=0;l<A.length;l++)if(A[l][1]=="Message")V=l;var e=jw.aqA(Q[1],0,A,A[V],0)[0],d={Hm:{},gk:{},aud:{}},N=e.nodeChanges;
for(var b=0;b<N.length;b++){var z=N[b],v=z.guid;d.gk[v.sessionID+","+v.localID]=z}for(var b=0;b<N.length;
b++){var z=N[b],v=z.parentIndex;if(v){var T=eP.Yc(d.gk,v.guid);if(T.children==null)T.children=[];T.children.push(z)}}var Y=N[0],g=Y.children,R=new cr,h=[],E=[];
for(var v=0;v<g.length;v++){var G=g[v],k=G.children;if(G.name=="Internal Only Canvas"||k==null)continue;
var $=new cr;for(var l=0;l<k.length;l++){var p=k[l],X=p.transform,C=p.size;if(X.m00==1&&X.m10==0&&X.m01==0&&X.m11==1){var D=new cr(X.m02,X.m12,C.x,C.y);
$=$.ld(D)}}var o=R.e==0?0:R.e+100,t=$.clone();t.x=0;t.y=o;R=R.ld(t);h[v]=$;E[v]=o}var u=iX.Ab(new cr(0,0,R.m,R.e),8192*8192);
n.m=Math.round(R.m/u);n.e=Math.round(R.e/u);n.buffer=O.R(n.m*n.e*4);for(var v=0;v<g.length;v++){var G=g[v],k=G.children;
if(G.name=="Internal Only Canvas"||k==null)continue;k.sort(eP.a8o);var U=new b7(1,0,0,1,-h[v].x,E[v]-h[v].y);
U.scale(1/u,1/u);for(var l=0;l<k.length;l++){var p=k[l];eP.g3(p,[],U,e.blobs,n,0,d);m++}}n.kA(m);n.se=!0;
if(u!=1)alert("File scaled down "+u+"x")};eP.g3=function(w,n,H,y,c,Q,q){var S=eP,X=!1,C,t,u,m;n=JSON.parse(JSON.stringify(n));
var A=w.overrideKey?w.overrideKey:w.guid;for(var l=0;l<n.length;l++){var V=n[l],e=V.guidPath.guids;if(S.ahM(e[0],A)){if(e.length==1){var d={};
for(var N in w)d[N]=V[N]!=null?V[N]:w[N];w=d}else V.guidPath.guids=e.slice(1)}}var b=w.type,z=w.children,v=w.size,T=w.effects,Y=c.mX();
Y.nY(w.name);Y.WH(w.visible);Y.opacity=Math.round(w.opacity*255);var g=S.lN(w.transform),R=g.clone();
R.concat(H);if(v==null)v={x:0,y:0};var h=new cr(Math.round(R.qH),Math.round(R.fp),Math.round(v.x*R.H5()),Math.round(v.y*R.H5()));
if(h.m==0||isNaN(h.m))h.m=100;if(h.e==0||isNaN(h.e))h.e=100;var E=w.fillPaints,G=w.inheritFillStyleID;
if(G){var d=S.Yc(q.gk,G);if(d)E=d.fillPaints}if(E==null)E=[];var E=S.abP(E),k=E[0],$=w.strokePaints,G=w.inheritFillStyleIDForStroke;
if(G){var d=S.Yc(q.gk,G);if(d)$=d.fillPaints}if($==null)$=[];var $=S.abP($),p="BOOLEAN_OPERATION LINE RECTANGLE ROUNDED_RECTANGLE ELLIPSE VECTOR REGULAR_POLYGON STAR".split(" ").indexOf(b)!=-1;
if(p||b=="FRAME"){C=new a.TB;S.anS(w,y,C);X=O.r.K3(C.i);O.r._R(C.i,R);var D=O.p.sb(O.r.dF(C.i));if(!D._G())h=D;
if(q.Hm.N1&&k){var o=a.TB.Ce(q.Hm.N1.i);for(var l=2;l<o.length;l++)if(o[l].NB!=null)o[l].NB=3;C.i=C.i.concat(o.slice(2))}}if(k&&k.type=="IMAGE"){m=k.imageScaleMode;
t=S.E$(y,k.image.dataBlob);var U=t.Zg.m/t.Zg.e,I=v.x/v.y;u=Math.abs(U-I)}if(b=="FRAME"){}else if(p&&X&&t&&(m=="FIT"||m=="FILL"&&u<=.05)){var x=y[k.image.dataBlob].bytes,J=c.rR(x,Y.getName(),0,0);
J.Vg=Y.Vg;J.opacity=Y.opacity;Y=J;var r=new cr(0,0,v.x,v.y);if(m=="FIT"){var Z=t.Zg.m,f=t.Zg.e,F=Math.min(v.x/Z,v.y/f),_=Z*F,K=f*F;
r=new cr(r.x+(r.m-_)/2,r.y+(r.e-K)/2,_,K)}var B=O.p.u3(r).w;O.p.D(B,R,B);Y.add.SoLd.Trnf=P.WJ.w2(B);
Y.add.SoLd.nonAffineTransform=P.WJ.w2(B);var ij=[],T=w.effects,W=k.paintFilter;if(T)for(var l=0;l<T.length;
l++)if(T[l].type=="FOREGROUND_BLUR"){var L=T[l],i=gT.JM("GsnB",{});ij.push(i);i.v.enab.v=L.visible;i.v.Fltr.v.Rds.v.val=L.radius/2.4}if(W&&W.exposure!=0){var i=gT.JM("brit",{});
ij.push(i);i.v.Fltr.v.Brgh.v=Math.round(W.exposure*160);i.v.Fltr.v.useLegacy.v=!0}if(W&&W.vibrance!=0){var i=gT.JM("vibA",{});
ij.push(i);console.log(i);i.v.Fltr.v.Strt.v=Math.round(Math.round(W.vibrance*100))}if(ij.length!=0){Y.add.SoLd.filterFX=gT.RS();
c.rr({id:Y.add.SoLd.placed.v,rect:new cr,buffer:O.R(1),z:new a.ZV});Y.add.SoLd.filterFX.v.filterFXList.v=ij}Y.W0(c,!1);
S.aiE(q,Y,c)}else if(p){S.a87(Y,C,w,k,$,R,h,y,c,q);if(T)for(var l=0;l<T.length;l++){var L=T[l];if(L.type!="FOREGROUND_BLUR")continue;
C.Hk=L.radius/2.4}Y.cv();Y.qL(c)}else if(b=="TEXT"){var e3=w.textData,eE=e3.layoutSize,ec=["LEFT","RIGHT","CENTER"].indexOf(w.textAlignHorizontal);
Y.add.lnsr="rend";Y.add.TySh=j1.d2(0,0);Y.add.TySh.oo=new cr(0,0,100,100);var gw=R.clone();Y.add.TySh.D=gw;
var bl=Y.add.TySh.EB,cD=e3.characters;if(w.textCase=="TITLE"){for(var l=0;l<cD.length;l++)if(l==0||cD[l-1]==" "){var a$=cD.slice(0,l),hJ=cD.slice(l+1);
cD=a$+cD[l].toUpperCase()+hJ}}cD=cD.replace(/\u2028/g,"\n");cD=cD.replace(/\u2029/g,"\n");cD=cD.replace(/\r\n/g," \n");
j1.Uq(bl,0,cD);var ei=w.textAutoResize,df=e3.baselines;if(ei=="WIDTH_AND_HEIGHT"){var bM=ec==0?0:ec==1?eE.x:eE.x/2,ib=df?df[0].position.y:0;
gw.translate(bM*R.H5(),ib*R.H5());j1.mn(bl,0)}else if(ei=="HEIGHT"||ei=="NONE"||ei==null){var ib=df?df[0].position.y-w.fontSize*.7:0;
gw.translate(0,ib*R.H5());j1.mn(bl,1);j1.wr(bl,[0,0,Math.round(eE.x),Math.round((ei=="NONE"?1.8:1)*eE.y)])}else throw ei;
if(cD!=""){var fI=j1.ni(bl,0,1);S.a5g(w,R,v,fI,Y,y,c,q);j1.Xe(bl,0,cD.length,fI);var eU=e3.characterStyleIDs,gK=e3.styleOverrideTable;
if(eU){eU=eU.slice(0);for(var l=0;l<eU.length;l++)if(cD[l]=="\n")eU[l]=-l-1;var bs=[0],km=0,aJ=0;for(var l=0;
l<eU.length;l++){aJ++;var ip=eU[l];if(l==0||ip==eU[l-1]){}else{bs.push(aJ-1,l);aJ=1}}bs.push(aJ);for(var l=0;
l<bs.length;l+=2){var fl=bs[l],b3=bs[l+1];if(cD[fl]=="\n")continue;var ip=eU[fl];if(ip!=0){var dY;for(var k4=0;
k4<gK.length;k4++)if(gK[k4].styleID==ip)dY=gK[k4];var fI=j1.ni(bl,fl,fl+1);S.a5g(dY,R,v,fI,Y,y,c,q);
j1.Xe(bl,fl,fl+b3-1,fI)}}}}}else if(b=="SYMBOL"){}else if(b=="INSTANCE"){var aK=w.symbolData,jK=aK.symbolOverrides,d=S.Yc(q.gk,aK.symbolID);
if(d)z=d.children;else console.log(w.name,"symbol not found",aK.symbolID);n=n.slice(0);for(var l=0;l<jK.length;
l++)n.push(jK[l])}else console.log(b);if(!1){}else if(z&&!p){c.B.push(c.C$());var ay=!1,f8=Q==0&&b!="SYMBOL"&&b!="INSTANCE";
if(f8){if(h._G())console.log(h);Y.ws(h)}k=E[E.length-1];if(f8&&k&&k.type=="SOLID"){var gN=k.color;Y.add.artb.artboardBackgroundType.v=4;
Y.add.artb.Clr=S.gM(gN)}else if((k||$[0])&&C){var d4=c.mX();d4.nY("Background");S.a87(d4,C,w,k,$,R,h,y,c,q);
d4.cv();d4.qL(c);c.B.push(d4);ay=!0}z.sort(S.a8o);var bK=q.Hm;q.Hm={};for(var hf=0;hf<z.length;hf++)S.g3(z[hf],n,R,y,c,Q+1,q);
q.Hm=bK;Y.add.lsct=!1?c0.q8:c0.$g;Y.UM="pass";var bC=Y.tl();Y.Vg=24;Y.WH(bC);var gW=Q!=0&&E.length!=0&&!w.frameMaskDisabled&&w.containerSupportsFillStrokeAndCorners;
if(!ay&&gW&&C){Y.add.vmsk=C;Y.cv();Y.qL(c)}else S.aiE(q,Y,c);c.B.push(Y)}else if(w.mask){if(C){q.Hm.N1=C}}else{var dn=[],h5=1;
if(T)for(var fq=0;fq<T.length;fq++){var L=T[fq],jN=L.color,cU=L.type,jb=["DROP_SHADOW","INNER_SHADOW"].indexOf(cU);
if(jb!=-1){var ac=["DrSh","IrSh"][jb],a_=JSON.parse(d5.FK[d5.order.indexOf(ac)]);dn.push([ac,a_]);a_.enab.v=L.visible;
a_.Md.v.BlnM=eS.Yf(S.awB(L.blendMode));a_.Opct.v.val=Math.round(100*jN.a);a_.blur.v.val=Math.round(L.radius*R.H5());
a_.Clr=S.gM(jN);var bM=L.offset.x,ib=L.offset.y;a_.uglg.v=!1;a_.lagl.v.val=Math.round(180/Math.PI*Math.atan2(ib,-bM));
a_.Dstn.v.val=Math.round(Math.sqrt(bM*bM+ib*ib)*R.H5())}}if(b=="TEXT"&&E[0]&&E[0].type!="SOLID")h5=0;
for(var l=h5;l<E.length;l++){var jz=E[l],jj=S.HY(w,jz,R,h,y,c,q);if(jj[0]=="GdFl")dn.push(["GrFl",jj[1]]);
else if(jj[0]=="SoCo")dn.push(["SoFi",jj[1]]);else if(jj[0]=="PtFl")dn.push(["patternFill",jj[1]]);else if(jj[0]=="None"){}else throw jj}if(!p)for(var l=0;
l<$.length;l++){var jz=$[l],jj=S.HY(w,jz,R,h,y,c,q);if(jj[0]=="SoCo"){var a_=JSON.parse(d5.FK[d5.order.indexOf("FrFX")]);
dn.push(["FrFX",a_]);a_.enab=jj[1].enab;a_.Opct=jj[1].Opct;a_.Md=jj[1].Md;a_.Clr=jj[1].Clr;a_.Sz.v.val=w.strokeWeight}}if(dn.length!=0){var jy=JSON.parse(d5.default);
for(var l=0;l<d5.order.length;l++)jy[d5.tS[l]]={t:"VlLs",v:[]};for(var l=0;l<dn.length;l++){var g0=dn[l],ac=d5.tS[d5.order.indexOf(g0[0])];
jy[ac].v.unshift({t:"Objc",v:g0[1]})}if(z==null)Y.add.lmfx=jy}c.B.push(Y)}};eP.a87=function(w,n,H,y,c,Q,q,S,A,V){var e=eP;
w.Vg|=16;w.add.vmsk=n;var d=w.add.vstk=JSON.parse(JSON.stringify(d5.Ed.default)),N=e.HY(H,y,Q,q,S,A,V);
if(N[0]=="None"){d.fillEnabled.v=!1;w.add.SoCo=N[1]}else{e.v2(N,w);w.add[N[0]]=N[1]}var N=e.HY(H,c[0],Q,q,S,A,V);
if(N[0]!="None"){var d=w.add.vstk;d.strokeEnabled.v=!0;d.strokeStyleLineWidth.v.val=H.strokeWeight*Q.H5();
d.strokeStyleLineAlignment.v.strokeStyleLineAlignment=d5.Ed.YH[["INSIDE","CENTER","OUTSIDE"].indexOf(H.strokeAlign)];
var b={SoCo:"SoFi",GdFl:"GrFl",PtFl:"patternFill"}[N[0]],z=["SoFi","GrFl","patternFill"].indexOf(b),v=[d5.jG,d5.B6,d5.sY][z];
d.strokeStyleContent.v={classID:d5.Ed.oj[0]};var T=H.dashPattern;if(T)d.strokeStyleLineDashSet.v=hO.f5(T,1/H.strokeWeight);
var Y=d.strokeStyleContent.v={classID:d5.Ed.oj[z]};for(var l=0;l<v.length;l++)Y[v[l]]=N[1][v[l]];if(!d.fillEnabled.v)e.v2(N,w)}};
eP.v2=function(w,n){var H=w[1].Opct.v.val;if(H!=100)n.opacity=Math.round(n.opacity/255*(H/100)*255)};
eP.a8o=function(w,n){var H=w.parentIndex.position,y=n.parentIndex.position;return H>y?1:-1};eP.abP=function(w){for(var l=1;
l<w.length;l++){var n=w[l];if(n.type=="IMAGE"&&n.opacity==1){w=w.slice(l);break}}for(var l=0;l<w.length;
l++){var n=w[l],H=n.imageThumbnail;if(n.type=="IMAGE"&&(n.image==null||n.image.dataBlob==null)&&H&&H.dataBlob)n.image=H;
if(!n.visible||n.type=="IMAGE"&&n.image.dataBlob==null){w.splice(l,1);l--}}return w};eP.aiE=function(w,n,H){if(w.Hm.N1){n.add.vmsk=w.Hm.N1.clone();
n.cv();n.qL(H)}};eP.a5g=function(w,n,H,y,c,Q,q,S){var A=w.fontSize,V=w.lineHeight,e=w.fontName,d=w.textAlignHorizontal,N=w.textTracking,b=w.textCase,z=w.textDecoration;
if(A==null)A=y.tq.FontSize;if(e)j1.Ho(y,e.postscript);if(A!=null)y.tq.FontSize=Math.round(A);if(z=="UNDERLINE")y.tq.Underline=!0;
if(N)y.tq.Tracking=Math.round(N*1e3);if(b)y.tq.FontCaps=b=="UPPER"?2:0;if(V&&(V.units!="PERCENT"||V.value!=100)){if(A==null)A=15;
var v=V.value;if(V.units=="PERCENT")v=1*A*v/100;if(V.units=="RAW")v=1*A*v;y.tq.AutoLeading=!1;y.tq.Leading=Math.round(v)}if(d)y.AW.Justification=["LEFT","RIGHT","CENTER"].indexOf(d);
var T=w.fillPaints,Y=w.inheritFillStyleID;if(Y){var g=eP.Yc(S.gk,Y);if(g)T=g.fillPaints}if(T&&T[0]){var R=eP.HY(w,T[0],n,H,Q,q,S);
if(R[0]=="SoCo"){var h=O.M.cH(R[1].Clr.v);y.tq.FillColor={Type:1,Values:[1,h.b/255,h.J/255,h.k/255]};
eP.v2(R,c)}}};eP.HY=function(w,n,H,y,c,Q,q){var S=eP,A,V,e=w.size;if(n){var d=n.type,N=["GRADIENT_LINEAR","GRADIENT_RADIAL","GRADIENT_DIAMOND","GRADIENT_ANGULAR"].indexOf(d);
if(d=="SOLID"){A="SoCo";var b=n.color;V=JSON.parse(d5.FK[d5.order.indexOf("SoFi")]);V.Clr=S.gM(b)}else if(N!=-1){var z=JSON.parse(d5.FK[d5.order.indexOf("GrFl")]),v=z.Grad.v;
v.Intr.v=0;z.Type.v.GrdT=["Lnr","Rdl","Dmnd","Angl"][N];var T=[],Y=n.stops;for(var l=0;l<Y.length;l++){var g=Y[l],R=g.color;
T.push([g.position,[R.r,R.g,R.b],R.a])}O.M.Wm(T,v);var h=S.lN(n.transform);h.G$();var E=h.clone();if(e)E.scale(e.x,e.y);
E.concat(H);var G=new ce(0,.5),k=new ce(1,.5);G=E.rY(G);k=E.rY(k);if(!0){G.x=k.x+.5*(G.x-k.x);G.y=k.y+.5*(G.y-k.y)}O.M.yK(G,k,y,z);
if(N==3){if(E.iL*E.Du-E.k*E.Mg<0)z.Rvrs.v=!z.Rvrs.v}A="GdFl";V=z}else if(d=="IMAGE"){var z=JSON.parse(d5.FK[d5.order.indexOf("patternFill")]),h=S.lN(n.transform);
h.G$();var $=n.image.dataBlob,p=q.aud[$];if(p==null){var X=S.E$(c,$);p=q.aud[$]={};p.id=iC.aX()+"-d71c-11e5-b1ae-a548a96e5f9f";
p.TP=[new Uint8Array(X.data),X.Zg];if(h.iL<0){var C=p.TP[0].slice(0);O.K.dj(C,p.TP[0],X.Zg.m,X.Zg.e)}p.name="someImage";
Q.mv(p)}if(h.iL<0)h.iL=-h.iL;var D=["FILL","FIT","STRETCH","TILE"].indexOf(n.imageScaleMode),o=D==3?n.scale:1;
hO.alg(p,z,e.x,e.y,D,H,h,o);A="PtFl";V=z}else throw d;if(V)V.Opct={t:"UntF",v:{type:"#Prc",val:Math.round(n.opacity*100)}}}if(A==null||n.opacity<.001){A="None";
V={classID:"null",Clr:{t:"Objc",v:O.M.Yw({b:0,J:0,k:0})}}}return[A,V]};eP.E$=function(w,n){var H=w[n];
if(H.rslt)return H.rslt;var y=H.bytes.buffer,c=cb.mj(y),Q=cb.Mn(c);try{H.rslt=Q._N(y)[0]}catch(hV){H.rslt={data:O.R(4),Zg:new cr(0,0,1,1)}}return H.rslt};
eP.anS=function(w,n,H){var y=w.type,c=w.size,Q=w.cornerRadius,V;if(Q==null)Q=0;var q=c.x,S=c.y,A=[Q,Q,Q,Q],e=["rectangleTopLeftCornerRadius","rectangleTopRightCornerRadius","rectangleBottomRightCornerRadius","rectangleBottomLeftCornerRadius"];
for(var l=0;l<4;l++)if(w[e[l]]!=null)A[l]=w[e[l]];if(y=="RECTANGLE"||y=="ROUNDED_RECTANGLE"||y=="FRAME"){V=O.r.yj.Rect(0,0,q,S,A)}else if(y=="ELLIPSE"){var d=w.arcData,N=d?d.startingAngle:0,b=d?d.endingAngle:2*Math.PI,z=d?d.innerRadius:0;
if(N==0&&b>1.999*Math.PI)V=O.r.yj.r1(0,0,q,S,0);else V=O.r.yj.aeE(q/2,S/2,S/2,N,b);if(z!=0&&z!=1){var v=a.TB.Ce(V).slice(3);
v.reverse();for(var l=0;l<v.length;l++){var T=v[l],Y=T.P7;T.P7=T.f$;T.f$=Y}var g=new b7;g.translate(-q/2,-S/2);
g.scale(z,z);g.translate(q/2,S/2);O.r._R(v,g);V=V.concat(v);V[2].length*=2}}else if(y=="LINE"){V=O.r.yj.Rect(0,0,q,S,0);
V.pop();V.pop();V[2].length=2}else if(y=="STAR"){V=O.r.yj.Hv(q/2,S/2,q/2,2*Math.PI*(1/4),5,0,w.starInnerScale)}else if(y=="REGULAR_POLYGON"){V=O.r.yj.dW(.5,.5,.5,Math.PI/2,w.count,0);
var R=new b7;R.scale(q,S);O.r._R(V,R)}else if(y=="BOOLEAN_OPERATION"){V=[{type:6},{type:8,all:0}];var h=w.children,E=["XOR","UNION","SUBTRACT","INTERSECT"].indexOf(w.booleanOperation);
if(E==-1)throw w;if(h==null)h=[];for(var l=0;l<h.length;l++){var G=h[l],k=new a.TB,$=eP.anS(G,n,k);if(k.i==null)continue;
O.r._R(k.i,eP.lN(G.transform));V=V.concat(k.i.slice(2))}for(var l=3;l<V.length;l++)if(V[l].NB!=null)V[l].NB=E}else if(y=="VECTOR"){var p,X,r=3;
if(!0){var C=w.vectorData;if(C==null)return;p=C.normalizedSize;X=C.vectorNetworkBlob}var D=n[X].bytes,o=new Uint32Array(D.buffer),t=new Float32Array(D.buffer),u=o[0],m=o[1],U=o[2],I=[],x=[],J=[],Z=r+u*3,f=Z+m*7;
for(var l=0;l<u;l++){var F=r+l*3,_=new ce(t[F+1],t[F+2]);I.push(_)}for(var l=0;l<m;l++){var K=Z+l*7;
x.push([o[K+0],o[K+1],t[K+2],t[K+3],o[K+4],t[K+5],t[K+6]])}for(var l=0;l<U;l++){var B=o[f+1],ij=J[l]=[];
f+=2;for(var W=0;W<B;W++){var L=o[f++],i=ij[W]=[];for(var e3=0;e3<L;e3++)i[e3]=o[f+e3];f+=L}}if(f!=o.length)throw"e";
if(U==0){var eE=-1;for(var l=0;l<m;l++){if(eE==-1){}else{var ec=-1;for(var W=l;W<m;W++)if(x[W][4]==eE)ec=W;
for(var W=l;W<m;W++)if(x[W][1]==eE)ec=W;if(ec!=-1){var gw=0,Y=x[ec];x[ec]=x[l];x[l]=Y;if(Y[1]!=eE){gw=Y[1];
Y[1]=Y[4];Y[4]=gw;gw=Y[2];Y[2]=Y[5];Y[5]=gw;gw=Y[3];Y[3]=Y[6];Y[6]=gw}}}eE=x[l][4]}J.push([[]]);for(var l=0;
l<m;l++)J[0][0].push(l)}var bl=[],cD=[];for(var a$=0;a$<J.length;a$++){for(var hJ=0;hJ<J[a$].length;
hJ++){var ei=J[a$][hJ],df=0;if(ei.length>1){var bM=x[ei[0]],ib=x[ei[1]];df=bM[4]==ib[1]?1:0}for(var l=0;
l<ei.length;l++){var fI=x[ei[l]],gK=1,bs=4;if(df==0){gK=4;bs=1}var km=I[fI[gK]],aJ=I[fI[bs]];if(l==0){cD.push("M");
bl.push(km.x,km.y)}cD.push("C");bl.push(km.x+fI[gK+1],km.y+fI[gK+2],aJ.x+fI[bs+1],aJ.y+fI[bs+2],aJ.x,aJ.y)}}}V=O.p.KL({w:bl,T:cD},!1);
if(Q!=0){var A=[],ip=V[2].length;for(var l=0;l<ip;l++)A.push(Q);if(O.r.Wo(V))O.r.NP(V,2,A)}var fl=new b7;
fl.scale(p.x==0?1:c.x/p.x,p.y==0?1:c.y/p.y);O.r._R(V,fl)}H.i=V};eP.Yc=function(w,n){return w[n.sessionID+","+n.localID]};
eP.ahM=function(w,n){return w.sessionID==n.sessionID&&w.localID==n.localID};eP.awB=function(w){var n={NORMAL:"norm",MULTIPLY:"mul ",SCREEN:"scrn",COLOR_DODGE:"div ",COLOR_BURN:"idiv",HARD_LIGHT:"hLit",DARKEN:"dark",LUMINOSITY:"lum ",OVERLAY:"over"}[w];
if(n==null)throw w;return n};eP.gM=function(w){return{t:"Objc",v:O.M.Yw({b:w.r*255,J:w.g*255,k:w.b*255})}};
eP.lN=function(w){var n=[w.m00,w.m10,w.m01,w.m11,w.m02,w.m12];for(var l=0;l<6;l++)if(Math.abs(n[l])<1e-20)n[l]=0;
return new b7(n[0],n[1],n[2],n[3],n[4],n[5])};function hC(){}hC.V2=function(){var w=j.QN;function n(b,z,v,T){var Y=T?[]:{};
while(z<b.length-1&&b[z]!=125){var g=w(b,z,3),R=w(b,z+3,1),h;z+=4;z++;if(R=="v"){var E=n(b,z,v+1,g=="ELM"||g=="TIL");
h=E.Z;z=E.Q}else if(R=="i"||R=="f"){var G=z;while(b[G]!=125)G++;var k=w(b,z,G-z);h=R=="i"?parseInt(k,16):parseFloat(k);
z=G+1}else if(R=="s"){var $=j.kH(b,z),k="";z+=2;for(var l=0;l<$;l++)k+=String.fromCharCode(b[z+2*l+1]);
h=k;z=z+2*$+1}else if(R=="b"){h=b[z]==49;z=z+2}else throw"e";if(T)Y.push([g,h]);else if(Y[g]==null)Y[g]=h;
else{if(!(Y[g]instanceof Array))Y[g]=[Y[g]];Y[g].push(h)}}z++;return{Z:Y,Q:z}}function H(b,z){var v=y(b).slice(1),b=z.Clr.v;
b.Rd.v=v[0]*255;b.Grn.v=v[1]*255;b.Bl.v=v[2]*255}function y(b){return[(b>>>24&255)/255,(b>>>16&255)/255,(b>>>8&255)/255,(b>>>0&255)/255]}function c(b,z){var v=z&4278190080|(z&255)<<16|(z>>>8&255)<<8|z>>>16&255;
new Uint32Array(b.buffer).fill(v)}function Q(b,z){var v=b.TSZ,T=b.WPX,Y=b.HPX,g=b.TIL,R=new cr(0,0,T,Y),h=O.R(T*Y*4),E=0;
for(var G=0;G<Y;G+=v)for(var k=0;k<T;k+=v){var $=new cr(k,G,v,v),p,X=g[E];if(X[0]=="TMC"){p=O.R($.O()*4);
c(p,X[1])}else if(X[0]=="TID"){p=z[X[1]]}O.j1(p,$,h,R);E++}return[h,R]}function q(b,z){b=new Uint8Array(b);
var v=8,T,Y={},m=0;while(v<b.length){var g=j.s(b,v);v+=4;var R=w(b,v,4);v+=4;if(R=="mkTS"){var h=pako.inflate(b.slice(v,v+g)),E=n(h,0,0);
T=E.Z}else if(R=="mkBT"){var G=j.s(b,v+4),k=j.s(b,v+8),h=pako.inflate(b.slice(v+76,v+g));if(k==0)for(var l=0;
l<h.length;l+=4){var $=h[l],p=h[l+1],X=h[l+2],C=h[l+3];h[l+3]=$;h[l+2]=C;h[l+1]=X;h[l]=p}else{var D=O.R(h.length*4);
D.fill(255);O.Bk(h,D);h=D}Y[G]=h}v+=g+4}var o=T.PDC,t=o?o instanceof Array?o:[o]:[T.MKB],u=new cr;for(var l=0;
l<t.length;l++){var U=t[l];u=u.ld(new cr(0,m,U.WID,U.HIT));m+=U.HIT+100}z.m=u.m;z.e=u.e;z.buffer=O.R(u.O()*4);
z.kA(t.length);m=0;for(var I=0;I<t.length;I++){z.B.push(z.C$());var U=t[I],x=U.WID,J=U.HIT,r=U.BGC,Z=(U.LYL?U:T).LYL.LAY,_=3;
for(var l=0;l<Z.length;l++)A(Z[l],z,null,Y,new b7(1,0,0,1,-U.XLC,-U.YLC+m));var f=z.mX();z.B.push(f);
var F=new cr(0,m,x,J);m+=J+100;f.ws(F);if(r>>>24!=0){var K=O.M.Yw({b:r>>>16&255,J:r>>>8&255,k:r>>>0&255});
f.add.artb.Clr={t:"Objc",v:K};_=4}f.add.artb.artboardBackgroundType.v=_;f.nY(U.PGN?U.PGN:"Page "+(I+1));
f.add.lsct=c0.$g;f.UM="pass";f.Vg=24}}function S(b,z,v){var T=b[z];return T instanceof Array?T[v]:T}function A(b,z,v,T,Y){var g=z.mX();
if(b.VIS!=null)g.WH(b.VIS);if(b.VIF!=null)g.WH(b.VIF.VIS);if(b.OPA!=null)g.opacity=Math.round(255*b.OPA/1e3);
g.UM=b.CLL||v=="GRP"?"pass":"norm";if(b.BLD!=null){var R=b.BLD,h={"0":"norm","2":"mul ","4":"over","5":"scrn","7":"diss","9":"dark","10":"lite","37":"idiv","30":"norm","39":"lbrn","41":"vLit"}[R+""];
if(h==null)console.log(b.OBN,R);else g.UM=h;if(R==30)g.opacity>>>=1}if(b.CLL){g.nY(b.LNM);z.B.push(z.C$());
var E=b.CLL.CEL;if(E.length==null)E=[E];for(var G=E.length-1;G>=0;G--){var k=E[G].ELM;for(var l=k.length-1;
l>=0;l--)A(k[l][1],z,k[l][0],T,Y)}g.add.lsct=b.DIS?c0.q8:c0.$g;g.Vg|=24}else if(v=="GRP"){var $=g.add.lmfx=e(b.EFL),p;
z.B.push(z.C$());var k=b.ELM;if(b.MNA){p=k[0][1];k=k.slice(1)}g.nY("Group: "+k.length+" objects");for(var l=k.length-1;
l>=0;l--)A(k[l][1],z,k[l][0],T,Y);if(p){if(b.MRX){var X=Q(p,T),C=g.z=new a.ZV;C.rect=X[1].clone();C.rect.x=p.XLC;
C.rect.y=p.YLC+Y.fp;C.channel=O.R(C.rect.O());O.RR(X[0],C.channel,0);O.G$(C.channel)}else{V(g,p,Y);g.cv();
g.qL(z)}}g.add.lsct=c0.$g;g.Vg|=24}else if(v=="IMG"){g.nY(b.OBN?b.OBN:"Bitmap");var X=Q(b,T);g.rect=X[1].clone();
g.rect.x=b.XLC;g.rect.y=b.YLC+Y.fp;g.buffer=X[0]}else if(v=="TXT"){var D=b.TFS,o=D.TRN instanceof Array?D.TRN.length:1,U="",I="Arial",x=20,J=0;
g.add.lnsr="rend";g.add.TySh=j1.d2(0,0);g.add.TySh.oo=new cr(0,0,100,100);var t=new b7(1,0,0,1,b.LFT,b.TOP);
if(b.MTX){var u=b.MTX,C=new b7(u.M00,u.M01,u.M10,u.M11,u.M20,u.M21);t.concat(C)}t.concat(Y);g.add.TySh.D=t;
var m=g.add.TySh.EB;for(var l=0;l<o;l++){var r=S(D,"TRN",l);if(r==null)continue;r=r.replaceAll("\x18","'").replaceAll("\x19","'").replaceAll("\x1C","'").replaceAll("\x1D","'");
r=r.replaceAll("\x03","\n").replaceAll("\r","\n");j1.Uq(m,U.length,r);var Z=j1.ni(m,0,1),f=S(D,"FON",l);
if(f)I=f;j1.Ho(Z,I);var F=S(D,"PTS",l);if(F!=null)x=F;Z.tq.FontSize=Math.round(x);var _=S(D,"LED",l);
if(_!=null){Z.tq.Leading=_*x;Z.tq.AutoLeading=!1}var K=S(D,"UND",l);if(K!=null){Z.tq.Underline=K}var B=S(D,"ITL",l);
if(B!=null){Z.tq.FauxItalic=B}var ij=S(D,"FCL",l);if(ij!=null)J=ij;Z.tq.FillColor={Type:1,Values:y(J)};
var W=S(D,"JST",l);if(W!=null)Z.AW.Justification=[0,2,1,3,5,4,6,7,8][W];j1.Xe(m,U.length,U.length+r.length,Z);
U+=r}g.nY(U.slice(0,255));var L=b.RIT-b.LFT,i=b.BOT-b.TOP;if(b.IMG){A(b.IMG,z,"IMG",T,Y);var e3=z.B.pop();
g.buffer=e3.buffer;g.rect=e3.rect.clone()}j1.mn(m,1);j1.wr(m,[0,0,L,i])}else if(v=="PTH"){g.nY(b.OBN?b.OBN:"Path");
g.Vg|=16;var eE=!1;V(g,b,Y);var ec=g.add.vmsk,gw=g.add.vstk,bl=O.r.dF(ec.i),cD=b.PAT,a$=cD.BPL,hJ=cD.FPL,ei=cD.TXF;
if(hJ&&hJ.FEF)ec.Hk+=hJ.FEF/2.4;if(a$){var df=a$.CAT;gw.strokeEnabled.v=!0;gw.strokeStyleLineWidth.v.val=a$.BDI;
gw.strokeStyleLineAlignment.v.strokeStyleLineAlignment=d5.Ed.YH[b.BRP];H(cD.BCL,gw.strokeStyleContent.v);
if(df!="bc_Basic"&&df!="bc_Pencil")eE=!0}if(hJ==null){gw.fillEnabled.v=!1;g.add.SoCo=JSON.parse(d5.FK[d5.order.indexOf("SoFi")]);
H(0,g.add.SoCo)}else if(hJ.CAT=="fc_Solid"){g.add.SoCo=JSON.parse(d5.FK[d5.order.indexOf("SoFi")]);H(b.PAT.FCL,g.add.SoCo)}else if(hJ.CAT=="fc_Linear"||hJ.CAT=="fc_Circular"||hJ.CAT=="fc_Elliptical"){var bM=hJ.CAT=="fc_Linear",ib=g.add.GdFl=JSON.parse(d5.FK[d5.order.indexOf("GrFl")]),fI=ib.Grad.v,eU=[],gK=hJ.FGL,bs,km=[];
if(gK.FGY){var aJ=gK.FGY,bs=aJ.FG0.FGI,km=aJ.FG1.FGI}else bs=gK.FGV.FGI;for(var l=0;l<bs.length;l++){var ip=bs[l],fl=y(ip.FGC),b3=1;
if(km.length==bs.length)b3=y(km[l].FGC)[0];eU.push([ip.FGP,fl.slice(1),b3])}ib.Type.v.GrdT=bM?"Lnr":"Rdl";
O.M.Wm(eU,fI);fI.Intr.v=0;var dY=b.PRI?b.PRI:b,k4=new ce(dY.PSX,dY.PSY),aK=new ce(dY.PEX,dY.PEY);if(hJ.CAT=="fc_Elliptical"&&dY.PFX!=null){var jK=new ce(dY.PFX,dY.PFY),ay=ce.Re(k4,aK),f8=ce.Re(k4,jK);
if(f8<ay){var gN=ay;ay=f8;f8=gN}aK=new ce(k4.x+(ay+f8)/2,k4.y);if(ay/f8<.5)eE=!0}if(bM){k4.x=(k4.x+aK.x)/2;
k4.y=(k4.y+aK.y)/2}O.M.yK(k4,aK,bl,ib)}else console.log(hJ.CAT);var $=g.add.lmfx=e(b.EFL,ec);if(hJ&&hJ.FTB!=0&&ei){var X=Q(ei.MSK,T),d4={};
d4.id=iC.aX()+"-d71c-11e5-b1ae-a548a96e5f9f";d4.name="someImage";d4.TP=X;z.mv(d4);var bK=X[0];for(var l=0;
l<bK.length;l+=4){bK[l+3]=255-bK[l];bK[l]=bK[l+1]=bK[l+2]=255}var ib=JSON.parse(d5.FK[d5.order.indexOf("patternFill")]);
ib.Opct.v.val=Math.round(hJ.FTB/10);ib.Algn.v=!0;ib.Ptrn.v.Idnt.v=d4.id;$.patternFillMulti.v.unshift({t:"Objc",v:ib})}if(eE&&b.IMG){A(b.IMG,z,"IMG",T,Y);
var hf=z.B[z.B.length-1];hf.opacity=g.opacity;return}g.cv();g.qL(z)}else if(v=="URL")return;else{console.log("unknown layer type",v,b);
g.nY("Layer")}z.B.push(g)}function V(b,z,v){if(z.PBL==null)return;var T=b.add.vmsk=new a.TB,Y=b.add.vstk=JSON.parse(JSON.stringify(d5.Ed.default)),g=z.PBL.PBP;
if(!(g instanceof Array))g=[g];for(var R=0;R<g.length;R++){var h=g[R].PBT;if(h==null)continue;if(!(h instanceof Array))h=[h];
var E=g[R].ISC?0:3;T.i.push({type:E,length:h.length,NB:0,P0:2,Hj:0,jS:0});for(var l=0;l<h.length;l++){var G=h[l],k=G.XLC,$=G.YLC,p=[k,$,k,$,k,$],X="XPC YPC XLC YLC XSC YSC".split(" ");
for(var C=0;C<6;C++){var D=X[C],o=G[D];if(o!=null)p[C]=o}T.i.push({type:E+2,H:new ce(k,$),P7:new ce(p[0],p[1]),f$:new ce(p[4],p[5])})}}O.r._R(T.i,v)}function e(b,z){var v=JSON.parse(d5.default);
for(var l=0;l<d5.order.length;l++)v[d5.tS[l]]={t:"VlLs",v:[]};if(b==null)return v;var T=b.EPS;if(!(T instanceof Array))T=[T];
for(var l=0;l<T.length;l++){var Y=T[l].DCE,g={};for(var R=0;R<Y.length;R++)g[Y[R].DCK]=Y[R].DCV;if(g.EffectIsVisible=="false")continue;
var h=g.mkbFile_WriteOnly_TemporaryEffectUiName;if(h=="Gaussian Blur..."&&z){z.Hk+=parseFloat(g.gaussian_blur_radius);
continue}var E=["Drop Shadow","Inner Bevel","Inner Glow","Glow"].indexOf(h);if(E==-1){continue}var G=["DrSh","ebbl","IrGl","OrGl"][E],k=d5.tS[d5.order.indexOf(G)],$=JSON.parse(d5.FK[d5.order.indexOf(G)]);
v[k].v.unshift({t:"Objc",v:$});if(G=="DrSh"){$.uglg.v=!1;d(g,"ShadowDistance",$,"Dstn");d(g,"ShadowBlur",$,"blur");
d(g,"ShadowAngle",$,"lagl",180);$.Opct.v.val=100;N(g,"ShadowColor",$,"Clr")}if(G=="IrGl"){$.Md.v.BlnM="Nrml";
var p=g.MaskSoftness,X=g.GlowWidth;if(p&&X){p=parseInt(p);X=parseInt(X);$.blur.v.val=X+p;$.Ckmt.v.val=Math.round(100*X/(X+p))}d(g,"BevelContrast",$,"Opct");
N(g,"OuterBevelColor",$,"Clr")}if(G=="OrGl"){$.Md.v.BlnM="Nrml";var p=g.MaskSoftness,X=g.GlowWidth;if(p&&X){p=parseInt(p);
X=parseInt(X);$.blur.v.val=X+p}d(g,"BevelContrast",$,"Opct");N(g,"OuterBevelColor",$,"Clr")}if(G=="ebbl"){$.uglg.v=!1;
d(g,"BevelWidth",$,"blur");d(g,"AngleSoftness",$,"Sftn");d(g,"BevelContrast",$,"srgR");d(g,"LightAngle",$,"lagl")}}return v}function d(b,z,v,T,Y){var g=b[z];
if(Y==null)Y=0;if(g)v[T].v.val=parseInt(g)+Y}function N(b,z,v,T){var Y=b[z];if(Y){Y=Y.slice(1);if(Y.length==6)Y=Y+"ff";
if(Y.length!=8)throw"e";var g=y(parseInt(Y,16)),R=v[T].v;R.Rd.v=g[0]*255;R.Grn.v=g[1]*255;R.Bl.v=g[2]*255;
v.Opct.v.val=Math.round(v.Opct.v.val/100*g[3]*100)}}return q}();function cG(){}cG.V2=function(){function w(o,t,u){var m=!1,U=Date.now(),I=E(o,m);
if(m)console.log("part found",Date.now()-U);U=Date.now();var x=h(I),J=x.Layer,r=x.Header;if(m)console.log(x);
var Z=J[0];Z=x.Layer[0];if(m)console.log("document parsed",Date.now()-U);U=Date.now();x.Setup.Gradient=R(x.Setup.Gradient,I);
if(m)console.log("grads loaded",Date.now()-U);U=Date.now();x.Setup.Pattern=g(x.Setup.Pattern,I);if(m)console.log("patts loaded",Date.now()-U);
U=Date.now();x.Setup.DocumentData=Y(x.Setup.DocumentData,I).pop();if(m)console.log("docdata loaded",Date.now()-U);
U=Date.now();x.Setup.SVGFilter=Y(x.Setup.SVGFilter,I);if(m)console.log("svgfilter loaded",Date.now()-U);
U=Date.now();var f=r.Cropmarks,F=r.BoundingBox.split(" ").map(parseFloat),_=r.ArtSize?r.ArtSize.split(" ").map(parseFloat):[F[2]-F[0],F[3]-F[1]];
t.m=Math.round(_[0]);t.e=Math.round(_[1]);var K=[1,0,0,1,-F[0]+(t.m-(F[2]-F[0]))/2,-F[1]+(t.e-(F[3]-F[1]))/2];
K[3]=-1;K[5]=t.e-K[5];if(f){f=f.split(" ").map(parseFloat);t.m=Math.round(f[2]-f[0]);t.e=Math.round(f[3]-f[1]);
K=[1,0,0,-1,-f[0],t.e+f[1]]}var B=x.Setup.DocumentData;if(B&&B[0]&&B[0].ArtboardArray){var ij=B[0].ArtboardArray;
if(ij.length!=1)console.log(ij.length,"artboards");var W=new cr,L=[];for(var l=0;l<ij.length;l++){var i=ij[l],e3=i.PositionPoint1,eE=i.PositionPoint2,ec=e3[0],gw=Math.min(e3[1],eE[1]),bl=eE[0],cD=Math.max(e3[1],eE[1]),a$=new cr(ec,gw,bl-ec,cD-gw);
L.push(a$);W=W.ld(a$)}t.m=Math.round(W.m);t.e=Math.round(W.e);K[4]=-W.x;K[5]=W.y+t.e;if(ij.length!=1){t.B.push(t.C$());
for(var l=0;l<L.length;l++){var i=ij[l],a$=L[l],hJ=t.mX();hJ.nY(i.Name);t.B.push(hJ);hJ.add.SoCo=JSON.parse(d5.FK[d5.order.indexOf("SoFi")]);
var ei=hJ.add.SoCo.Clr.v;V(ei,[1,1,1]);var ec=a$.x,gw=a$.y,bl=ec+a$.m,cD=gw+a$.e,df=[ec,gw,bl,gw,bl,cD,ec,cD];
O.p.D(df,d(K),df);b(hJ,{cmds:["M","L","L","L","Z"],crds:df},t);hJ.add.vstk=JSON.parse(JSON.stringify(d5.Ed.default))}var hJ=t.mX();
hJ.nY("_Artboards_");hJ.add.lsct=c0.$g;hJ.UM="pass";hJ.Vg=24;t.B.push(hJ)}}if(B&&B[0]&&B[0]["#document"]){var bM=B[0]["#document"],ib=bM["xmlnode-children"][0];
if(ib&&ib["xmlnode-children"])ib=ib["xmlnode-children"][0];if(ib["xmlnode-nodename"]=="variableSets"){var fI=ib["xmlnode-children"][0]["xmlnode-children"],eU=fI[0],gK=fI[1],bs=D(eU);
t.Uw=hb.MS("<variableSets><variableSet>"+bs+"</variableSet></variableSets>");if(gK){var km=D(gK),aJ=t.az=hb.lz(km);
for(var l=0;l<aJ.length;l++)for(var ip=0;ip<aJ[l].length;ip++)aJ[l][ip]=aJ[l][ip].trim()}}}var fl=1/iX.Ab(new cr(0,0,t.m,t.e),8192*8192);
while(t.m*t.e*fl*fl<800*800)fl*=2;while(u&&Math.max(t.m*fl,t.e*fl)<Math.max(u[0],u[1]))fl++;t.m=Math.round(t.m*fl);
t.e=Math.round(t.e*fl);t.uP=Math.round(72*fl);t.buffer=O.R(t.m*t.e*4);for(var l=0;l<6;l++)K[l]*=fl;H=[0,0,0];
y=[0,0,0];c="SoCo";for(var b3=0;b3<J.length;b3++){var dY=J[b3];dY.Raster=n(dY,"Raster");dY.Place=n(dY,"Place");
var k4=v(I,dY);Q(t,k4,K,x,dY,I)}if(m)console.log("layers created",Date.now()-U);U=Date.now()}function n(o,t){var u=o.Layer,m=o[t];
if(m==null)m=[];if(u){for(var l=0;l<u.length;l++){var U=u[l],I=U[t]=n(U,t);m=m.concat(I)}m.sort(function(x,J){return x._begin-J._begin})}return m}var H,y,c;
function Q(o,t,u,m,U,I){var x="",J=0,r="",Z=!1,f={},F=UDOC.G,_=UDOC.getState(),K="norm",B=1,ij=!1,W=0,i=null,e3=!1,eE=0,ec=null,gw,bl,cD=0,a$=0,hJ=0,bM=0,ib=!1;
_.ctm=u;var L=[],ei=[],df=[];for(var fI=0;fI<t.length;fI++){var eU=t[fI],aJ=1e9;if(eU[0]=="%"){if(eU=="%_/ArtDictionary :"&&eE==0)i=[eU.slice(2)];
else if(i!=null){if(eU=="%_"&&eE==0){var gK=$(i)[0],bs=gK.AI10_ArtUID;if(bs&&!bs.startsWith("XMLID"))o.B[o.B.length-1].nY(X(bs));
i=null}else{i.push(eU.slice(e3?1:2));if(eU=="%_X=")eE++;if(eU=="%_X+")eE--;if(eU=="%_/Binary : /ASCII85Decode ,")e3=!0;
if(e3&&eU.endsWith("~>"))e3=!1}}else if(ec){gw+=(gw==""?"":" ")+eU.slice(2);if(gw.endsWith("X#")){ec.push(gw.slice(0,gw.length-3));
gw=""}}continue}else if(eU=="/Mesh X!"){ec=[];gw="";continue}else if(eU=="/End X!"){q(ec,_,o);ec=null;
continue}var km="Xa XR m l c f U u *U w J j M d".split(" "),ip=-1,fl=eU.indexOf("(")!=-1;for(var l=0;
l<km.length;l++){var b3=eU.indexOf(" "+km[l]+" ");if(b3!=-1&&b3<aJ&&!fl){aJ=b3;ip=l}}if(ip!=-1){Z=!0;
var dY=aJ+1+km[ip].length;t[fI]=eU.slice(0,dY);var k4=t[fI+1];if(k4==null||k4[0]=="%"||ip>9)t.splice(fI+1,0,eU.slice(dY));
else t[fI+1]=(eU.slice(dY)+" "+k4).replace(/\s\s+/g," ");fI--;continue}eU=eU.trim();var aK=eU.split(" "),jK=aK[aK.length-1],ay=jK.toLowerCase(),f8=aK.map(parseFloat);
if(jK=="m")F.moveTo(_,f8[0],f8[1]);else if(jK=="L"||jK=="l")F.lineTo(_,f8[0],f8[1]);else if(jK=="V"||jK=="v"){var gN=_.pth.crds,d4=_.cpos[0],bK=_.cpos[1];
F.curveTo(_,d4,bK,f8[0],f8[1],f8[2],f8[3]);var hf=gN.length;gN[hf-6]=d4;gN[hf-5]=bK}else if(jK=="Y"||jK=="y")F.curveTo(_,f8[0],f8[1],f8[2],f8[3],f8[2],f8[3]);
else if(jK=="C"||jK=="c")F.curveTo(_,f8[0],f8[1],f8[2],f8[3],f8[4],f8[5]);else if(jK=="H"||jK=="h"){if(jK==ay)F.closePath(_);
L.push(JSON.parse(JSON.stringify(_.pth)))}else if(jK=="Xy"){K=["norm","mul ","scrn","over","sLit",null,"div "][f8[0]];
B=f8[1];if(K==null){K="norm";console.log("unknown blend mode",f8[0])}}else if(jK=="Xd"){var bC=o.B[o.B.length-1];
bC.opacity=Math.round(255*B);bC.UM=bC.Ok()&&K=="norm"?"pass":K}else if(jK=="AE")cD=f8[0];else if(jK=="Ae")a$=f8[0];
else if(jK=="Xw")hJ=f8[0];else if(jK=="*"){var gW=_.pth.crds,dn=_.ctm,b3=gW[0]==gW[2]?0:1;o.V_.push([b3,gW[b3]]);
F.newPath(_)}else if(jK=="XN")bl=eU.split(" ")[0];else if(jK=="XI"){var fq=U.Raster,jN,cU;if(fq==null||fq.length==0){console.log("no Raster");
continue}if(eU!="XI"){continue}else{if(fq[J].Data==null){continue}var jb=fq[J++].Data,ac=jb._begin,a_=jb._end;
while(I[ac]!=88)ac++;ac+=3;jN=I.slice(ac,a_);cU=t[fI-2].split(" ").map(parseFloat)}var h5=cU.slice(8),jz=h5[2],jj=h5[3],jy=jz*jj,g0=O.R(jy*4);
g0.fill(255);var bt=h5[7],kl=h5[8],iO=h5[6],dN=Math.ceil(jz*bt*iO/8);if(bt==1){if(iO==8)for(var l=0;
l<jy;l++)for(var aG=0;aG<3;aG++)g0[4*l+aG]=jN[l];else if(iO==1)for(var iA=0;iA<jj;iA++)for(var a0=0;
a0<jz;a0++)for(var aG=0;aG<3;aG++)g0[4*(iA*jz+a0)+aG]=255*(jN[iA*dN+(a0>>>3)]>>>7-(a0&7)&1);else throw iO}else if(bt==3)for(var l=0;
l<jy;l++)for(var aG=0;aG<3;aG++)g0[4*l+aG]=jN[3*l+aG];else if(bt==4||bt==5)for(var l=0;l<jy;l++){var cd=N([jN[bt*l+0]/255,jN[bt*l+1]/255,jN[bt*l+2]/255,jN[bt*l+3]/255]);
g0[4*l+0]=cd[0]*255;g0[4*l+1]=cd[1]*255;g0[4*l+2]=cd[2]*255}else if(bt==7)for(var l=0;l<jy;l++){g0[4*l+0]=jN[bt*l+0];
g0[4*l+1]=jN[bt*l+1];g0[4*l+2]=jN[bt*l+2]}else console.log("unknown number of channels",bt);if(kl==1){var co=jj*dN;
for(var l=0;l<jy;l++)g0[4*l+3]=jN[co+l]}var c7=O.O7(g0,jz,jj)?"JPG":"PNG";if(jz*jj<700*700)c7="PNG";
var cF=cb.Mn(c7).vd([[g0.buffer]],jz,jj),b1=o.rR(new Uint8Array(cF),"<Image>",0,0);o.B.push(b1);b1.UM=K;
b1.opacity=Math.round(255*B);b1.WH(hJ==0);var u=new b7;u.scale(1,-1);u.concat(d(cU.slice(1)));u.concat(d(_.ctm));
var a5=b1.rect.clone();a5.x=a5.y=0;var aK=O.p.u3(a5).w;O.p.D(aK,u,aK);b1.add.SoLd.Trnf=P.WJ.w2(aK);b1.add.SoLd.nonAffineTransform=P.WJ.w2(aK);
b1.W0(o,!1)}else if(jK=="Ln"){x=A(eU)}else if(jK=="u"||jK=="q"||jK=="Lb"){ei.push(a$==1);df.push((jK=="Lb"?1-f8[0]:hJ)==0);
if(ij)continue;o.B.push(o.C$())}else if(jK=="U"||jK=="Q"||jK=="LB"){if(ei.length==0||df.length==0)throw fI;
var iy=ei.pop(),ko=df.pop();if(jK=="LB")iy=cD==1;if(ij)continue;var b1=o.mX();b1.nY((jK=="U"?"<Group>":"<Clip Group>")+r);
if(jK=="LB")b1.nY(x);if(jK=="Q"&&L.length!=0){var gc=L.pop(),eR=UDOC.G.isBox(gc,[0,0,o.m,o.e]);if(!eR)b(b1,gc,o)}b1.add.lsct=iy?c0.q8:c0.$g;
b1.UM="pass";b1.Vg=24;b1.WH(ko);o.B.push(b1);if(ib){if(o.B[o.B.length-3].getName()=="</Layer group>"){o.B.pop();
o.B.splice(o.B.length-2,1)}ib=!1}}else if(jK=="Bb"||jK=="Bh"||jK=="BB"){}else if(jK=="Bg"){var aX=m.Setup.Gradient,ck=aX[A(eU)];
if(ck==null){console.log("gradient not found");for(var by in aX){ck=aX[by];break}}c="GdFl";H=S(ck.Ph,ck.ahm)}else if(jK=="Bm"||jK=="Xm"){var i3=H.Type.v.GrdT;
if(i3=="Lnr"&&jK!="Xm"||i3=="Rdl"&&jK!="Bm")continue;var bb=new ce(0,0),il=new ce(1,0),eH=new b7;eH.concat(d(f8));
eH.concat(d(_.ctm));bb=eH.rY(bb);il=eH.rY(il);var j9=O.p.hH(_.pth.crds);if(j9._G())j9=O.p.hH([bb.x,bb.y,il.x,il.y]);
if(i3=="Lnr"){bb.x=(bb.x+il.x)/2;bb.y=(bb.y+il.y)/2}O.M.yK(bb,il,j9,H)}else if(jK=="p"){var jq=A(eU),jn=m.Setup.Pattern[jq];
if(jn.raw==null){var j9=jn.C5,jz=Math.round(j9[2]-j9[0]),jj=Math.round(j9[3]-j9[1]),gK=new iC;gK.m=jz;
gK.e=jj;gK.buffer=O.R(jz*jj*4);Q(gK,jn.Nk,[1,0,0,-1,-jn.C5[0],jj+jn.C5[1]],m,U,I);jn.raw=new Uint8Array(cb.Mn("PSD").vd(gK))}var eQ=eU.slice(eU.indexOf(")")+2),ik=eQ.slice(0,eQ.indexOf("[")-1).split(" ").map(parseFloat),dR=eQ.slice(eQ.indexOf("[")+1,eQ.indexOf("]")).split(" ").map(parseFloat);
c="patt";H=[jq,ik,dR]}else if(jK=="J"||jK=="j"||jK=="w"||jK=="M"||jK=="d"){for(var l=1;l<aK.length;l++){var d0=aK[l],ii=f8[l-1];
if(d0=="w")_.lwidth=ii;if(d0=="j")_.ljoin=ii;if(d0=="J")_.lcap=ii;if(d0=="d"){var fB=eU.slice(eU.indexOf("[")+1,eU.indexOf("]")).trim();
if(fB.length!=0){var bF=fB.split(" ").map(parseFloat);_.dash=bF}else if(fB=="")_.dash=[]}}}else if(ay=="xa"||ay=="xx"){var hL=f8[4]==null?f8.slice(0,3):[f8[4],f8[5],f8[6]];
if(ay=="xx"&&f8[f8.length-2]==2)hL=N(f8);c="SoCo";if(jK=="Xa"||jK=="Xx")H=hL;else y=hL}else if(ay=="xk"){var hL,im=f8[f8.length-2],eB=f8[f8.length-3];
if(im==0)hL=N(f8);else if(im==1){hL=[f8[4],f8[5],f8[6]];for(var l=0;l<3;l++)hL[l]=eB*1+(1-eB)*hL[l]}else throw eU;
c="SoCo";if(jK=="Xk")H=hL;else y=hL}else if(ay=="k"||ay=="x"){if(ay=="x"){f8.pop();var gP=1-f8.pop();
for(var l=0;l<4;l++)f8[l]*=gP}var hL=N(f8);c="SoCo";if(jK==ay)H=hL;else y=hL}else if(ay=="g"){var hL=[f8[0],f8[0],f8[0]];
c="SoCo";if(jK==ay)H=hL;else y=hL}else if(ay=="n"){if(!ij)F.newPath(_)}else if(jK=="*u"){ij=!0;W=0}else if(jK=="*U"||ay=="s"||ay=="f"||ay=="b"){if(jK!="*U"&&ij){if(ay=="f"||ay=="b")W|=1;
if(ay=="s"||ay=="b")W|=2;continue}if(jK==ay)F.closePath(_);if(jK=="*U"){ij=!1}var b1;if(c=="patt"){var jn=m.Setup.Pattern[H[0]];
b1=o.rR(jn.raw,"<Pattern>",0,0);var a5=b1.rect.clone();a5.x=a5.y=0;var aK=O.p.u3(a5).w,dR=d(H[2]);dR.qH=dR.fp=0;
O.p.D(aK,dR,aK);b1.add.SoLd.Trnf=P.WJ.w2(aK);b1.add.SoLd.nonAffineTransform=P.WJ.w2(aK);b1.W0(o,!1)}else{b1=o.mX();
b1.Vg|=16;var ig=b1.add.vstk=JSON.parse(JSON.stringify(d5.Ed.default));ig.strokeEnabled.v=ig.fillEnabled.v=!1;
if(c=="SoCo"){b1.add.SoCo=JSON.parse(d5.FK[d5.order.indexOf("SoFi")]);var ao=b1.add.SoCo.Clr.v;V(ao,H)}if(c=="GdFl")b1.add.GdFl=H;
if(ay=="f"||ay=="b"||jK=="*U"&&W&1)ig.fillEnabled.v=!0;if(ay=="s"||ay=="b"||jK=="*U"&&W&2)f$.AL(ig,_,1,f$.hR(y))}b1.nY("<"+(jK=="*U"?"Compound ":"")+"Path>"+r);
b1.UM=K;b1.opacity=Math.round(255*B);b1.WH(hJ==0);b(b1,_.pth,o);o.B.push(b1);F.newPath(_)}else if(jK==","&&aK[0]=="/XMLUID"){var bC=o.B[o.B.length-1];
for(var l=0;l<o.Uw.length;l++)if("("+o.Uw[l].docRef+")"==aK[2])o.Uw[l].docRef="id('"+bC.add.lyid+"')"}else if(jK==","&&aK[1]=="/FreeUndo"){bM=f8[0]}else if(jK==","&&aK[1]=="/StoryIndex"){var el=m.Setup.TextDocument,fh=null;
if(!(el instanceof Array))el=m.Setup.TextDocument=T(el,I);var d_=el[0],jO=el[2];if(d_._DocumentResources)d_=el[0]=iL.apD(d_);
else iL.aa$(d_);var b1=o.mX();b1.add.lnsr="rend";b1.add.TySh=j1.d2(0,0);var g2=f8[0];if(bM==1){for(var l=1;
l<60;l++){var k4=t[fI+l];if(k4.endsWith("/StoryIndex ,")){g2=parseFloat(k4.slice(2,k4.indexOf(" ")));
ib=!0;break}}bM=0}var h_=fe.ai9(d_),bE=b1.add.TySh.EB=h_[g2];if(bE==null){console.log("text not found");
ib=!1;continue}b1.nY(j1.md(bE).slice(0,50));b1.UM=K;b1.opacity=Math.round(255*B);b1.WH(hJ==0);var gP=d_._1._1[g2]._1._0[0]._0;
gP=parseInt(gP.slice(1));var fc=d_._0._8._0,gg=fc[gP]._0;if(gg._0)fh=e(gg._0);else if(gg._1)fh=e(gg._1._0);
else fh=e(gg._2._2).slice(3);if(fh.length!=2){var j9=O.p.hH(fh);fh=[j9.x,j9.y];if(j9.O()!=0){j1.mn(bE,1);
j1.wr(bE,[0,0,Math.round(j9.m),Math.round(j9.e)])}}var bq=new b7,bk=new b7(1,0,0,1,fh[0],fh[1]),fs=new b7(1,0,0,1,-jO[0],-jO[1]),cf=d(_.ctm),e1=new b7;
if(gg._2&&gg._2._2){var u=e(gg._2._2);e1=new b7(u[0],u[1],u[2],u[3],u[4],u[5])}bq.concat(bk);bq.concat(e1);
bq.concat(fs);bq.scale(1,-1);bq.concat(cf);b1.add.TySh.D=bq;o.B.push(b1);o.se=!0}else if(jK=="Tp"){f.Yx=d(f8)}else if(jK=="Tf"){f.font=aK[0].slice(2)}else if(jK=="Tk"){var b1=o.mX();
b1.add.lnsr="rend";var cv=b1.add.TySh=j1.d2(0,0),bE=cv.EB,eH=f.Yx.clone(),jp=eH.H5();eH.concat(d(_.ctm));
var ee=new b7(1/jp,0,0,-1/jp,0,0);ee.concat(eH);cv.D=ee;var bP=A(eU);b1.nY(bP);j1.Uq(bE,0,bP);var jW=j1.ni(bE,0,bP.length);
jW.tq.FontSize=jp;jW.tq.FillColor={Type:1,Values:[1,H[0],H[1],H[2]]};j1.Ho(jW,f.font);j1.Xe(bE,0,bP.length,jW);
o.B.push(b1);o.se=!0}else if(Z&&f8.length>3){var hy=!1;for(var l=0;l<f8.length;l++)if(isNaN(f8[l]))hy=!0;
if(!hy)t[fI+1]=(eU+" "+t[fI+1]).replace(/\s\s+/g," ")}}}function q(o,t,u){var m=UDOC.G,U=[],I=[],x="/DeviceGray",J=1,r=[],Z=1;
for(var f=0;f<o.length;f++){var F=o[f];if(F.endsWith(" /CS")){var _=F.indexOf("/NChannel"),K=F.indexOf("/Process");
if(F.startsWith("/DeviceRGB")){x="/DeviceRGB";J=3}else if(F.startsWith("/DeviceGray")){x="/DeviceGray";
J=1}else if(F.startsWith("/DeviceCMYK")){x="/DeviceCMYK";J=4;r=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]]}else if(_!=-1){x="/DeviceCMYK";
J=parseInt(F.slice(_-2,_-1));var B=1;for(var l=0;l<J;l++){B=F.indexOf("[",B);r[J-1-l]=F.slice(B+1,B+8).split(" ").map(parseFloat);
B++}}else if(K){x="/DeviceGray";J=1}else throw F}else if(F[0]=="["){var ij=F.indexOf("]"),W=F.slice(1,ij).split(" ").map(parseFloat),L=F.slice(ij+2),i,e3,eE,ec,gw,bl;
if(L=="/Size"||L=="/P"||L=="/R")continue;if(L=="/S"||L=="/A"){i=W[0];e3=W[1];eE=W[2];ec=W[3];gw=W[4];
bl=W[5]}else if(L=="/N"){var cD=J+(Z==1?0:1),a$;i=W[cD+0];e3=W[cD+1];eE=W[cD+2];ec=W[cD+3];gw=W[cD+5];
bl=W[cD+6];if(x=="/DeviceRGB")a$=W.slice(0,3);else if(x=="/DeviceGray")a$=[W[0],W[0],W[0]];else if(x=="/DeviceCMYK"){var hJ=[0,0,0,0];
for(var l=0;l<J;l++){var ei=W[l],df=r[l];hJ[0]+=ei*df[0];hJ[1]+=ei*df[1];hJ[2]+=ei*df[2];hJ[3]+=ei*df[3]}a$=N(hJ)}else throw a$;
a$.push(W[J]);I.push([a$,i,e3])}else throw L;U.push([L,gw,bl,i,e3,eE,ec])}else if(F=="/E"){var bM=U.slice(0),ib=0;
for(var l=0;l<U.length;l++){var fI=U[l][0];if(fI=="/N"){ib++;continue}var eU=l,gK=l+1;while(U[gK][0]!="/N"&&gK<U.length)gK++;
if(ib==0||ib==3){for(var bs=0;bs<gK-eU;bs++)bM[eU+bs]=U[gK-1-bs]}else for(var bs=eU;bs<gK;bs++){var km=bM[bs],aJ=km[1];
km[1]=km[5];km[5]=aJ;aJ=km[2];km[2]=km[6];km[6]=aJ}l=gK-1}U=[];for(var l=0;l<bM.length;l++){var km=bM[l];
U.push(km[1],km[2],km[3],km[4],km[5],km[6])}var ip=U.length;m.moveTo(t,U[2],U[3]);for(var l=0;l<ip;l+=6){var eE=U[(l+4)%ip],ec=U[(l+5)%ip],gw=U[(l+6)%ip],bl=U[(l+7)%ip],i=U[(l+8)%ip],e3=U[(l+9)%ip];
m.curveTo(t,eE,ec,gw,bl,i,e3)}m.closePath(t);U=[]}else if(F.endsWith("/Version"))Z=parseFloat(F[0])}var fl=u.mX();
fl.Vg|=16;fl.nY("<Mesh>");var b3=fl.add.vstk=JSON.parse(JSON.stringify(d5.Ed.default));b3.strokeEnabled.v=!1;
if(I.length>=2){var dY=0,k4=0,aK=0;for(var l=0;l<I.length;l++)for(var bs=l+1;bs<I.length;bs++){var jK=I[l][0],ay=I[bs][0],f8=jK[0]-ay[0],gN=jK[1]-ay[1],d4=jK[2]-ay[2],bK=Math.sqrt(f8*f8+gN*gN+d4*d4);
if(bK>aK){aK=bK;dY=l;k4=bs}}var hf=I[dY],bC=I[k4],gW=fl.add.GdFl=S(0,[[0,hf[0]],[1,bC[0]]]),dn=d(t.ctm),fq=dn.rY(new ce(hf[1],hf[2])),jN=dn.rY(new ce(bC[1],bC[2])),cU=O.p.hH(t.pth.crds);
fq.x=(fq.x+jN.x)/2;fq.y=(fq.y+jN.y)/2;O.M.yK(fq,jN,cU,gW)}b(fl,t.pth,u);u.B.push(fl);m.newPath(t)}function S(o,t){var H=JSON.parse(d5.FK[d5.order.indexOf("GrFl")]),u=H.Grad.v;
u.Intr.v=0;H.Type.v.GrdT=["Lnr","Rdl"][o];O.M.Wm(t,u);return H}function A(o){var t=o.indexOf(")");while(o[t-1]=="\\")t=o.indexOf(")",t+1);
return o.slice(o.indexOf("(")+1,t).replaceAll("\\","")}function V(o,H){o.Rd.v=H[0]*255;o.Grn.v=H[1]*255;
o.Bl.v=H[2]*255}function e(o){var t=[];for(var l=0;l<o.length;l++)t[l]=parseFloat(o[l].slice(1));return t}function d(o){return new b7(o[0],o[1],o[2],o[3],o[4],o[5])}function N(o){return O.df(o)}function b(o,t,u){o.add.vmsk=new a.TB;
if(t.crds.length!=0)o.add.vmsk.i=z(t);o.cv();o.qL(u)}function z(o){var t={w:o.crds,T:o.cmds},u=O.p.KL(t,!1);
return u}function v(o,t){var u=[],Z=0,K=0;for(var m=0;m<2;m++){var U=t[["Raster","Place"][m]];if(U){for(var l=0;
l<U.length;l++){var I=U[l][["Data","PlacedObjectPreview"][m]];if(I==null)continue;var x=I._begin,J=I._end;
if(x>J)x=J;u.push([x,J])}}}u.sort(function(ij,W){return ij[0]-W[0]});var r=[t._begin];for(var l=0;l<u.length;
l++){var f=u[l],x=f[0]+32;r.push(x,f[1]);Z+=f[1]-x}r.push(t._end);var F=t._end-t._begin,_=new Uint8Array(F-Z);
for(var l=0;l<r.length;l+=2){var x=r[l],B=r[l+1]-x;_.set(new Uint8Array(o.buffer,x,B),K);K+=B}return j.NR(_).split(/\r\n|\r|\n/)}function T(o,t){if(o==null)return[];
var u=v(t,o),m="",U="",I=0,x;for(var l=2;l<u.length;l++){var J=u[l];if(J[0]=="%"){if(I==0)m+=J.slice(1);
else U+=J.slice(1)}else if(J==";")I++;else if(J.endsWith("/RulerOrigin ,"))x=J.split(" ").slice(0,2).map(parseFloat)}var r=[m,U],Z=[];
for(var l=0;l<2;l++){var f=r[l],F=new Uint8Array(f.length);j.lY(F,0,f);var _=FromPS.F.ASCII85Decode({buff:F,off:0}),K=hq.V2(_);
Z.push(K)}Z.push(x);return Z}function Y(o,t){if(o==null)return[];var u=v(t,o);u=u.slice(1);for(var l=0;
l<u.length;l++){var m=u[l];if(m[0]=="%")u[l]=m.slice(m[1]=="_"?2:1)}var U=$(u);return U}function g(o,t){var u={};
if(o==null)return u;for(var l=0;l<o.length;l++){var m=v(t,o[l]),U=m[1],I=A(U),x=U.slice(U.indexOf(")")+2).split(" ").map(parseFloat),J=[];
for(var r=2;r<m.length;r++)J.push(m[r].slice(2));u[I]={C5:x,Nk:J}}return u}function R(o,t){var u={},m,U;
if(o==null)return u;var I=[];for(var l=0;l<o.length;l++){var x=v(t,o[l]);for(var J=0;J<x.length;J++){var r=x[J];
if(r.endsWith("%_Bs")){var Z=r.slice(0,r.length-4);if(!Z.endsWith(" "))Z+=" ";r=Z+"%_BS"}if(r[0]=="("){m=A(r);
var f=r.split(")"),F=f[1].split(" ");U=parseInt(F[1])}else if(r.endsWith("%_BS")){var f=r.split(" "),ij,W=1;
f.pop();f=f.map(parseFloat);var _=f.pop(),K=f.pop(),B=f.pop();if(B==0)ij=[f[0],f[0],f[0]];else if(B==2||B==4)ij=[f[4],f[5],f[6]];
else if(B==1||B==3)ij=N(f);else if(B==6){if(f.length==3)ij=[f[0],f[0],f[0]];else ij=N(f);W=f.pop()}else{throw B}I.push([_/100,ij,W,K/100])}else if(r=="BD"){for(var L=0;
L<I.length-1;L++)I[L][3]=I[L+1][3];I.sort(function(i,e3){return i[0]-e3[0]});u[m]={Ph:U,ahm:I};I=[]}}}return u}function h(o){var t="Gradient PluginObject Symbol Pattern PatternLayer BrushPattern Encoding Raster Layer Resource Place Rider".split(" "),u=Date.now(),m=0,U=[],I={Header:{}},x=[I],J=o.length;
while(m<J){var r=m;while(r!=J&&o[r]!=13&&o[r]!=10){r++}if(o[m]==37&&o[m+1]==95&&o[m+2]==37)m+=2;if(o[m]==37&&(o[m+1]==37||o[m+1]==65)){var Z=j.QN(o,m,r-m);
if(Z=="%%EOF")break;if(Z=="%%EndComments"||Z=="%EndComments"||Z=="%AI5_Begin_NonPrinting"||Z=="%AI5_End_NonPrinting--"||Z.startsWith("%AI17_Begin_Content_if_version_gt")||Z=="%AI17_End_Versioned_Content"){}else{var f=Z.indexOf("Begin"),F=Math.max(Z.indexOf("_End"),Z.indexOf("%End"));
if(f!=-1&&Z[f-1]!="%"&&Z[f-1]!="_")f=-1;if(f!=-1){var _=Z.slice(f+5).split(":")[0],K={_begin:m,_end:m},B=x[x.length-1];
if(t.indexOf(_)!=-1){if(B[_]==null)B[_]=[];B[_].push(K)}else{if(B[_]!=null){console.log(x);throw Z}B[_]=K}x.push(K);
if(Z.startsWith("%%BeginData")){r=j.OA(o,"%%EndData",m)}else if(Z=="%AI9_BeginDocumentData")r=j.OA(o,"%AI9_EndDocumentData",r);
else if(Z=="%AI11_BeginTextDocument")r=j.OA(o,"%AI11_EndTextDocument",r)}else if(F!=-1){if(x.length>1)x.pop()._end=m}else if(x.length==1&&(Z.startsWith("%AI")||Z.startsWith("%%")&&Z.indexOf(" ")!=-1)){var ij=1;
if(Z.startsWith("%AI"))while(Z[ij]!="_"&&ij<Z.length)ij++;var W=Z.indexOf(":");if(W==-1)W=Z.indexOf(" ");
var L=Z.slice(ij+1,W),i=Z.slice(W+1).trim();I.Header[L]=i}}}m=r;if(o[m]==13)m++;if(o[m]==10)m++}return I}function E(o,t){var u=Date.now(),m=new Uint8Array(o),U,I=m[2]==68;
if(t)console.log(!I?"EPS":"PDF");if(I){var x=j.OA(m,"/AIMetaData "),ec=!1,gw=!1;while(m[x]!=60)x--;x--;
var J=j.OA(m,">>",x),r=j.QN(m,x+2,J-x-2).split("/"),Z=[];for(var l=0;l<r.length;l++){var f=r[l],F=f.startsWith("AIPrivateData"),_=f.startsWith("AIPDFPrivateData");
if(!F&&!_)continue;var K=f.trim().split(/\s+/),B=parseInt(K[1]),ij=parseInt(K[0].slice(F?13:16));Z.push([ij,B])}if(t)console.log("--- map made",Date.now()-u);
u=Date.now();var W=FromPDF.indexOfXref(m),L=[],i=FromPDF.readXrefTrail(m,W,L),e3={buff:m,off:0},eE=new Array(Z.length),bl=x;
for(var l=0;l<Z.length;l++){var ij=Z[l][0],B=Z[l][1],cD=FromPDF.getIndirect(B,0,e3,L),a$=cD.buff,hJ=cD["/Filter"],ei=0;
if(hJ!=null&&typeof hJ=="string")hJ=[hJ];var df=j.QN(a$,ei,ei+20);if(df=="%AI12_CompressedData"){ei+=20;
ec=!0}else if(df=="%AI24_ZStandard_Data"){ei+=20;gw=!0}a$=new Uint8Array(a$.buffer,a$.byteOffset+ei,a$.length-ei);
if(hJ)for(var bM=0;bM<hJ.length;bM++){var ib=hJ[bM];if(ib=="/FlateDecode")a$=pako.inflate(a$);else if(ib=="/ASCIIHexDecode")a$=FromPS.F.HexDecode({buff:a$,off:0});
else if(ib=="/ASCII85Decode")a$=FromPS.F.ASCII85Decode({buff:a$,off:0});else throw ib}eE[ij-1]=a$}if(t)console.log("--- arrays found",Date.now()-u);
u=Date.now();var fI=j.QN(eE[0],0,13);if(fI=="%%BoundingBox"||fI=="%AI7_Thumbnai")eE=eE.slice(1);if(fI=="%AI24_ZStanda"){eE[0]=eE[0].slice(20);
gw=!0}if(j.QN(eE[0],0,13)=="%AI12_Compres"){eE[0]=eE[0].slice(20);ec=!0}U=G(eE);if(t)console.log("--- concatenated",Date.now()-u);
u=Date.now();if(ec)U=UZIP.inflate(U);if(gw)U=cb.LB.VW(U);if(t)console.log("--- inflated",Date.now()-u);
u=Date.now()}else{var eU=j.NR(m);if(eU.indexOf("%AI5_BeginLayer")!=-1){U=m}else{var gK=eU.split(/[\n\r]+/),bs=[],km=!1;
for(var aJ=0;aJ<gK.length;aJ++){var ip=gK[aJ].trim();if(ip=="%AI9_PrivateDataEnd"){km=!1;break}else if(ip=="%AI9_DataStream"||ip=="%AI24_DataStream"){km=!0}else if(km)bs.push(ip.slice(1))}var fl=j.bv(bs.join("")),b3=FromPS.F.ASCII85Decode({buff:fl,off:0});
if(b3[0]==120&&b3[1]==156)U=UZIP.inflate(b3);else U=cb.LB.VW(b3)}}return U}function G(o){var t=0,m=0;
for(var l=0;l<o.length;l++)t+=o[l].length;var u=new Uint8Array(t);for(var l=0;l<o.length;l++){var U=o[l];
u.set(U,m);m+=U.length}return u}function k(o,t){for(var l=0;l<t.length;l++)if(o.startsWith(t[l]))return!0;
return!1}function $(o){var t=[],u=[],top=-1,m,U=null,I=null,x=null,J=0;for(var r=0;r<o.length;r++){var Z=o[r];
if(m){Z=m+Z;m=null}var f="\t".repeat(t.length);if(U!=null){U.push(Z);if(Z.endsWith("~>")){var F=j.bv(U.join("")),_=FromPS.F.ASCII85Decode({off:0,buff:F});
t.push(_);u.push(!1);top++;U=null}}else if(x!=null){if(Z=="X+"){if(J==1){t.push(x);u.push(!1);top++;
x=null}else J--}else if(Z=="X=")J++;else x.push(Z)}else if(I!=null){if(Z=="/Def ; "){t.push(I);u.push(!1);
top++;I=null}else I.push(Z)}else if(Z=="/Binary : /ASCII85Decode ,"){U=[]}else if(Z=="X="){x=[];J++}else if(Z=="/FillStyle : 0 O"){I=["0 O"]}else if(Z=="/SVGFilter :"||Z=="; /Def ;")continue;
else if(Z.startsWith("/XMLUIDREF :")){var K=p(Z);t[top][K[4]]=K[2]}else if(Z.startsWith("/")&&Z[1].toUpperCase()!=Z[1].toLowerCase()){if(Z.startsWith("/XMLUID")){var K=p(Z);
if(u[top])throw"e";t[top][K[4]]=K[2]}if(Z.startsWith("/GObjRef")){var K=p(Z);if(K.length==7){if(u[top])throw"e";
t[top][K[5]]=K[2]}else{if(!u[top])throw"e";t[top].push(K[2])}}else{var B=Z.startsWith("/Array")||Z.startsWith("/Document");
t.push(B?[]:{});u.push(B);top++}}else if(Z.endsWith(",")){var ij,W,K=p(Z);K.pop();if(K[0]==";"||K.length==1||Z==" ,"){W=t.pop();
u.pop();top--;ij=u[top]?null:K.pop()}else{ij=u[top]?null:K.pop();var L=K.pop(),i=K[0];if(L=="/Int")W=parseInt(i);
else if(L=="/Real")W=parseFloat(i);else if(L=="/Bool")W=i=="1";else if(L=="/String"||L=="/UnicodeString")W=K.join("");
else if(L=="/RealMatrix"||L=="/RealPoint"||L=="/RealPointRelToROrigin")W=K.map(parseFloat);else throw L}if(u[top])t[top].push(W);
else t[top][ij]=W}else if(Z==";"){}else if(Z==""){}else{if(Z.indexOf("/RealPoint")!=-1){}else if(Z.startsWith("(")&&Z.endsWith(")")){}else if(Z.endsWith("/RealMatrix")){}else throw Z;
m=m?m+Z:Z}}return t}function p(o){var t=0,u=[];while(t<o.length){var m=o[t],U=m.charCodeAt(0);if(m==" ")t++;
else if(m==","||m==";"||m==":"){u.push(m);t++}else if(m=="("){var I=t+1;while(!(o[I]==")"&&o[I-1]!="\\"))I++;
var x=o.slice(t+1,I);u.push(x);t=I+1}else if(m=="/"||m=="-"||48<=U&&U<=57){var I=t;while(o[I]!=" ")I++;
u.push(o.slice(t,I));t=I}else throw m}return u}function X(o){var t="";for(var l=0;l<o.length;l++){if(o[l]=="_"&&o[l+1]=="x"){var ds=parseInt(o.slice(l+2,l+4),16);
t+=String.fromCharCode(ds);l+=4}else if(o[l]=="_")t+=" ";else t+=o[l]}return t}function C(o){var t="xmlnode-nodename",u="xmlnode-nodevalue",m="xmlnode-attributes",U="xmlnode-children",I=o[t],x=o[m],J=o[U],r={_nam:I};
for(var Z in x){var f=x[Z];if(Object.keys(f[m]).length!=0||f[U].length!=0)throw"e";if(f[t]!=Z)throw"e";
r[Z]=f[u]}if(J.length==0)return r;var F=r.cln=[];for(var l=0;l<J.length;l++)F.push(C(J[l]));return r}function D(o){var t="xmlnode-nodename",u="xmlnode-nodevalue",m="xmlnode-attributes",U="xmlnode-children",I=o[t].split(":").pop().replace("#",""),x=o[m],J=o[U],r="<"+I;
for(var Z in x)if(Z!="xmlns"&&Z!="xmlns:v")r+=" "+Z.split(":").pop()+"=\""+x[Z][u]+"\"";r+=">"+(J.length==0?"":"\n");
for(var l=0;l<J.length;l++)r+=D(J[l]);if(o[u])r+=o[u];return r+"</"+I+">\n"}return w}();function d9(){}d9.V2=function(){var w,n,H,y,c,Y,g,R;
function Q(m){return j.ID(w,m)}function q(m){return j.eX(w,m)}function S(m){return j.U5(w,m)}function A(m){return j.Hr(w,m)}function V(m,U){var I=[];
for(var l=0;l<U;l++)I.push(S(m+l*4));return I}function e(m,U){var I=[];for(var l=0;l<U;l++)I.push(Q(m+l*8));
return I}function d(m){return S((m+1)*4096-12)}function N(m){return S((m+1)*4096-8)}function b(m,n,U,I){if(y[m]==null)y[m]=[];
y[m].push([I,new Uint8Array(w.buffer,n,U)])}function z(m,U,I,x){var J=H[m],n=J*4096;n=n+S(n+4096-24-12-U*4);
var r=q(n),Z=w[n+2],f=w[n+3];if(U!=Z)throw Z;if(f==0)b(x,n+4,I,9);else{var F=q(n+6),_=S(n+8);b(x,n+12,r-12,9);
z(_,F,I-(r-12),x)}}function v(){var m=S(352),U=S(m*4096+128),I=S(936);H=[];y={};c={};for(var l=0;l<1e9;
l++){var x=S(I*4096+128+l*4);if(x==0)break;var J=V(x*4096+128,4096-128-12>>>2);H=H.concat(J)}for(var r=0;
r<H.length;r++){var Z=H[r],f=d(Z);if(f!=6)continue;var n=Z*4096,F=S(n);n+=4;for(var l=0;l<F;l++){var _=S(n);
n+=4;var K=S(n);n+=4;var B=S(n);n+=4;var ij=S(n);n+=4;if(_==0)c[K]=B;else{var W=B&65535,L=B>>>16;if(L==0)b(K,ij*4096,W,8);
else z(ij,L,W,K)}}}var Y={};for(var i in y){var e3=y[i],eE=e3.length;if(eE==1)Y[i]=e3[0][1];else{var ec=0,n=0;
for(var l=0;l<eE;l++)ec+=e3[l][1].length;var gw=Y[i]=new Uint8Array(ec);for(var l=0;l<eE;l++){gw.set(e3[l][1],n);
n+=e3[l][1].length}}}return Y}function T(n,m){var U=m?S(n):q(n),I="";n+=m?4:2;while(I.length<U){var x=w[n++],J=w[n++],r=0,Z="";
x+=(J&15)*256;J=J&240;for(var l=0;l<x;l++){if(J==64)r=w[n++];else if(J==128)r=w[n++]|w[n++]<<8;else throw J;
Z+=String.fromCharCode(r)}I+=Z}return[I,n]}function h(n,m,U){var I=V(n,m);for(var l=0;l<m;l++){U.push(l);
if(I[l]>g)throw"e";I[l]=G(I[l],U);U.pop()}return I}var E={};function G(m,U){if(R.indexOf(m)!=-1)return Y[m];
if(m==0)return null;if(Y[m]==null)return null;if(!(Y[m]instanceof Uint8Array))return Y[m];var I=w,n=0;
w=Y[m];R.push(m);var x=c[m].toString(16),J=Y[m]={_type:u[x]?u[x]+":"+x:"typ-"+x,_eid:m};while(n+8<w.length){var r=S(n);
n+=4;var Z=r.toString(16),f=S(n);n+=4;var F=n+f;if(n+f>w.length){J._bin=w;break}k(Z,C,J,n,f,U);n=F}w=I;
R.pop();return J}function k(m,U,I,n,x,J){var r=U[m+":"+I._type];if(r==null)r=U[m];J.push(r?r[0]==""?m:r[0]:m);
if(r){var Z=r[0],f=null,F=r[1];if(Z=="")Z=F+"-"+m;if(o[F]&&x!=o[F]){console.log(F);console.log(m,r);
console.log(w.slice(n,n+x));throw"e"}if(F=="mat")f=e(n,6);else if(F=="mmat")f=[G(S(n),J),e(n+6,6)];else if(F=="rect")f=e(n,4);
else if(F=="mrct"){f=e(n,4);f.push(q(n+32))}else if(F=="doub")f=Q(n);else if(F=="pointArr"){var _=q(n);
f=V(n+2,_*2)}else if(F=="usrt")f=q(n);else if(F=="uint")f=S(n);else if(F=="pntr"||F=="ptr6"){f=G(S(n),J)}else if(F=="bool2"){if(q(n)!=0&&q(n)!=1)throw q(n);
f=q(n)==1}else if(F=="bool4"){if(S(n)!=0&&S(n)!=1)throw m+","+S(n);f=S(n)==1}else if(F=="color"){if(x!=38&&x!=30)throw x;
var K=S(n),B=q(n+4);f=[K];for(var l=0;l<B;l++)f.push(Q(n+6+l*8))}else if(F=="path"){var ij=n+x;f=[];
var W=S(n);n+=4;for(var l=0;l<W;l++){var L=[[]];f.push(L);var i=S(n);n+=4;for(var e3=0;e3<i;e3++){var K=S(n);
n+=4;if(K<2){L[0].push([K,Q(n),Q(n+8),Q(n+16),Q(n+24),Q(n+32),Q(n+40)]);n+=48}else if(K==2){L[0].push([K,Q(n),Q(n+8)]);
n+=16}else throw K}L.push(q(n));n+=2}}else if(F=="ptrAndList"){var eE=S(n),ec=S(n+4);f=h(n+8,ec,J);f.unshift(G(eE,J))}else if(F=="ptrArray"||F=="ptrArrayX"){var gw=x>>2;
if(F=="ptrArray"){gw=S(n);n+=4;if(x!=4+gw*4)throw x}f=h(n,gw,J)}else if(F=="ptrArray2"){var gw=S(n);
n+=4;f=h(n,gw,J);n+=gw*4;gw=S(n);n+=4;f.push(h(n,gw,J))}else if(F=="cldrn"){var bl=S(n),cD=S(n+4),gw=S(n+8);
f={c:G(bl,J),bU:G(cD,J),IN:h(n+12,gw,J)};if(x!=12+gw*4){console.log(m,sa);throw"e"}if(bl==0)throw bl}else if(F=="aprnc"){var gw=S(n);
n+=4;f={};for(var l=0;l<gw;l++){var a$=S(n),hJ=q(n+4),ei=q(n+6);n+=8;var df=t[a$.toString(16)];if(df==null)df="prm-"+a$.toString(16);
else df=X(df);f[df]=[];for(var e3=0;e3<ei;e3++){var bM=S(n),ib=q(n+4),fI=null;n+=6;if(bM==28264)fI=Q(n);
else if(bM==28263)fI=S(n);else if(bM==279)fI=G(S(n),J);else if(bM==28261)fI=q(n)==1;else if(bM==28265)fI=[Q(n),Q(n+4)];
else if(bM==83231)fI=T(n+3)[0];else if(bM==28259||bM==28260||bM==23094||bM==67679){fI=w.slice(n,n+ib)}else throw bM.toString(16);
f[df].push(fI);n+=ib}}}else if(F=="lopts"){f={ag3:q(n+0)==1,show:q(n+2)==1,awK:q(n+4)==1,VC:S(n+10),name:T(n+21)[0]}}else if(F=="origin"){var ij=n+x;
if(w[n++]!=1)throw"e";var _=S(n);n+=4;var eU=j.QN(w,n,_);n+=_;if(w[n++]!=1)throw"e";var gK=w[n++];if(gK!=1&&gK!=53)throw gK;
var bs=q(n);n+=2;if(bs!=0&&bs!=1)throw bs;var km=S(n);n+=4;if(km!=0&&km!=1)throw km;var aJ=S(n);n+=4;
if(aJ!=0&&aJ!=2&&aJ!=3)throw aJ;var ip=S(n);n+=4;var fl=T(n,!0);n=fl[1];fl=fl[0];var b3=S(n),dY=S(n+4);
n+=8;var k4=S(n);n+=4;if(k4!=0)throw k4;var aK=S(n);n+=4;n+=3;var jK=T(n)[0];n+=2+2+jK.length;f={file:eU,id:fl,xU:jK}}else if(F=="string")f=T(n+3)[0];
else if(F=="relEnt"){var ay=q(n);n+=2;f=[];for(var l=0;l<ay;l++)f.push([S(n+l*8),G(S(n+l*8+4),J)])}else if(F=="textData"){var ij=n+x,f8=S(n);
n+=4;var a$=S(n);n+=4;var B=q(n);n+=2;var gN=[];for(var l=0;l<B;l++){var d4=S(n);n+=4;if(f8==514)gN.push(T(n,!0)[0]);
else if(f8==515){var bK=S(n),m=S(n+4),hf=$(n+8,J);gN.push([bK,G(m,J),hf])}else if(f8==516){var bK=S(n),m=S(n+4),bC=q(n+8),hf=$(n+8,J);
gN.push([bK,G(m,J),hf])}else gN.push(w.slice(n,n+d4));n+=d4}if(ij-n!=12)throw ij-n;f=gN}else if(F=="storyProps"){var gW=S(n);
if(q(n+4)>1)throw"e";var dn=G(S(n+6),J),B=S(n+10),fq=G(S(n+14+B*4),J);f={aj0:gW,akC:dn,IN:h(n+14,B,J),amm:fq,aeB:V(n+14+B*4+4,4)}}else if(F=="styleProps")f=$(n,J);
else if(F=="bounds"){var jN=n,ay=S(n);n+=4;f=[];for(var l=0;l<ay;l++){var cU=[];f.push(cU);for(var e3=0;
e3<4;e3++)cU.push(Q(n+e3*8));n+=32;cU.push(w[n]);n++}if(n!=jN+x)throw"e"}else if(F=="columnPos"){var ay=S(n);
n+=4;f=[e(n,ay),Q(n+ay*8)];n+=ay*8+8}else if(F=="StyleName"){f=[S(n+4)]}else if(F=="fontName"){var ij=n+x;
f=[q(n)];n+=2;for(var l=0;l<2;l++){var eU=T(n+3);n=eU[1];f.push(eU[0])}f.push(S(n));n+=4;var jb=q(n);
n+=2;f.push(jb);var ac=q(n);n+=2;var a_=[];f.push(a_);for(var h5=0;h5<ac;h5++){var jz=[];a_.push(jz);
var eU=T(n+3);n=eU[1];jz.push(eU[0]);var jj=q(n);n+=2;var eU=j.QN(w,n,jj);n+=jj;jz.push(eU);for(var l=0;
l<3;l++){var eU=T(n+3);n=eU[1];jz.push(eU[0])}jz.push(S(n));n+=4;var eU=T(n,!0);n=eU[1];jz.push(eU[0])}if(n+4!=ij)throw"e";
f.push(S(n))}else throw F;if(I[Z]!=null){console.log(Z,I[Z],f);console.log(J.slice(0));console.log(eid,m,n,I[Z],r,f);
throw"e"}I[Z]=f}else{var jy=w.slice(n,n+x);I["prop-"+m]=jy}J.pop()}function $(n,m){var U=q(n);n+=2;var I={};
for(var l=0;l<U;l++){var x=S(n);n+=4;var J=x.toString(16),r=q(n);n+=2;var Z=q(n);n+=2;for(var f=0;f<Z;
f++){var F=S(n);n+=4;var _=q(n);n+=2;k(J,D,I,n,_,m);n+=_}}return I}function p(m){w=new Uint8Array(m);
Y=v();var U=Y[2147483649];U=j.NR(U,4,U.length-4);delete Y[2147483649];g=0;for(var I in Y)g=Math.max(g,parseInt(I));
R=[];var x={};for(var I in Y)x[I]=Y[I];for(var I in Y)G(parseInt(I),[]);return Y}function X(m){m=m.split(" ").join("");
return m[0].toLowerCase()+m.slice(1)}var C={"2d2":["","bool2"],"1623":["","bool2"],"2c32":["visible","bool2"],cd1f:["","bool2"],"1b8":["","bool4"],"2c2d":["locked","bool4"],"118":["","uint"],"119":["bitmap","uint"],"117":["","uint"],"117:Page:50f":["color","pntr"],"117:Fill:1f05":["parentFill","pntr"],"56c":["","uint"],bf31:["","uint"],ca58:["","uint"],cade:["","uint"],"313":["","pntr"],a6b:["trapPreset","pntr"],e02:["","pntr"],"170d":["bitmapFill","pntr"],"1b916":["","pntr"],"205":["columns","ptrAndList"],"220":["obj228","ptrAndList"],"2ab":["story","ptrArrayX"],"302":["layer","ptr6"],"21f":["rect","rect"],"27e":["","rect"],"2d6":["rect","rect"],"565":["rect","rect"],"5dd":["rect","rect"],"1633":["rect","rect"],"51a":["margins","mrct"],"151":["transform","mat"],"2de":["transform","mat"],"40d":["transform","mat"],"56e":["transform","mat"],"5cc":["transform","mat"],"140f":["mTransform","mmat"],"14527":["transform","mat"],"528":["columnPos","columnPos"],"261":["relEnt","relEnt"],"262":["textData","textData"],"15b":["children","cldrn"],"2c8":["children","cldrn"],"303":["children","cldrn"],"503":["children","cldrn"],"28dc":["children","cldrn"],"104e5":["children","cldrn"],"1b95a":["children","cldrn"],"1f01":["color","color"],"162b":["path","path"],"6e03":["appearance","aprnc"],"304":["lopts","lopts"],"2c10":["name","string"],"8c92":["origin","origin"],"3e05":["name","fontName"],"20f":["","ptrArrayX"],"210":["","ptrArrayX"],"211":["","ptrArrayX"],"222":["stories","ptrArray2"],"223":["stoProps","storyProps"],"23f":["styProps","styleProps"],"2c6b":["bounds","bounds"],"230":["name","StyleName"],"301":["layers","ptrArray"],"501":["spreads","ptrArray"],"4c01":["sections","ptrArray"],"1401":["masterSpreads","ptrArray"],a67:["","ptrArray"],"1f05":["colors","ptrArray"],"1f0c":["","ptrArray"],"1f60":["","ptrArray"],"1f61":["","ptrArray"],"288a":["","ptrArray"],"377c":["textFrames","ptrArray"],"3e06":["","ptrArray"],"1081d":["","ptrArray"]},D={"1b01":["fillColor","pntr"],"1b02":["fontStyle","string"],"1b03":["FontSize","doub"],"1b11":["FontCaps","usrt"],"1b16":["StartIndent","doub"],"1b17":["EndIndent","doub"],"1b18":["FirstLineIndent","doub"],"1b1b":["leading","doub"],"1b26":["SpaceBefore","doub"],"1b27":["SpaceAfter","doub"],"1b2a":["Underline","bool2"],"1b2b":["font","pntr"],"1b3c":["FontBaseline","usrt"],"1b3d":["Strikethrough","bool2"],"1b7e":["align","usrt"]},o={mmat:54,mat:48,mrct:34,rect:32,doub:8,ptr6:6,uint:4,pntr:4,bool4:4,bool2:2,usrt:2},t={"10816":"Object Opacity","10891":"Stroke Opacity","10892":"Stroke Blending Mode","10893":"Stroke Knockout Group","10894":"Stroke Isolate Blending","108d8":"Fill Opacity","108d9":"Fill Blending Mode","108da":"Fill Knockout Group","108db":"Fill Isolate Blending","10817":"Object Blending Mode","10818":"Object Knockout Group","10819":"Object Isolate Blending","6e64":"Stroke Swatch","6e65":"Stroke Weight","6e66":"Stroke Tint","6e6e":"Stroke Type","6e68":"Fill Swatch","6e69":"Fill Tint","6e6b":"Stroke Cap","6e6c":"Stroke Join","6e6d":"Stroke Mitre Limit","6e8c":"Stroke Align Stroke","6e71":"Stroke Start Arrrowhead","6e72":"Stroke End Arrrowhead","6e89":"Stroke Gap Color Swatch","6e8a":"Stroke Gap Tint","6e84":"Stroke Arrowhead Align","6e95":"Stroke Start Arrowhead Scale","6e96":"Stroke End Arrowhead Scale","6e8f":"Corner 1 Shape","6e6f":"Corner 2 Shape","6e90":"Corner 3 Shape","6e91":"Corner 4 Shape","6e70":"Corner 1 Size","6e92":"Corner 2 Size","6e93":"Corner 3 Size","6e94":"Corner 4 Size","1081a":"Object Drop Shadow","1081f":"Object Drop Shadow Blending Mode","10837":"Object Drop Shadow Color","10895":"Stroke Drop Shadow","10899":"Stroke Drop Shadow Blending Mode","1084d":"Object Inner Shadow","1084f":"Object Inner Shadow Blending Mode","1eb8f":"GradientFeatherSetting GradientStart","1eb8e":"GradientFeatherSetting Length","14534":"name"},u={e01:"Document","301":"RESpread","236":"REParStyle","302":"Layer","401":"Group","501":"Spread","50f":"Page","227":"Column","201":"Story","205":"Style","263":"TextFrame",a32:"Trapping","1f05":"Fill","3e03":"Font","6201":"Path",ca18:"StoryText"};
return p}();function fO(){}fO.V2=function(){var w=0;function n(V,e){var d=d9.V2(V),X=1;w=0;var N=d[1],b=N.spreads,z=[],v=new cr;
for(var T=0;T<b.length;T++){var Y=b[T],g=Y.children.IN,R=y(Y),h=g[0].children.IN,E=new cr;for(var G=0;
G<h.length;G++){var k=h[G],$=y(k);$.concat(R);var p=H(k);p.offset($.qH,$.fp);p=O.p.sb(p);E=E.ld(p)}z.push(E);
v=v.ld(E)}while(Math.sqrt(v.O())*X<1e3)X++;e.m=v.m*X;e.e=v.e*X;e.buffer=new Uint8Array(4*e.m*e.e);e.se=!0;
e.kA(b.length);for(var T=0;T<b.length;T++){var Y=b[T],g=Y.children.IN,C=e.mX();C.Vg=24;C.add.lsct=c0.q8;
C.nY("Artboard "+(T+1));var D=z[T].clone();D.offset(-v.x,-v.y);D.x*=X;D.y*=X;D.m*=X;D.e*=X;D=O.p.sb(D);
C.ws(D);C.UM="pass";e.B.push(e.C$());var R=y(Y);R.translate(-v.x,-v.y);R.scale(X,X);var o={};for(var t=0;
t<g.length-1;t++){var u=g[t],m=u.children.IN,U=e.mX(),I=u.layer.lopts;if(I.name=="Internal_pages_layer_name"||o[I.name])continue;
o[I.name]=!0;U.Vg=24;U.add.lsct=c0.q8;U.nY(I.name);U.WH(I.show);if(I.ag3)U.add.lspf=1<<31;U.UM="pass";
e.B.push(e.C$());for(var l=0;l<m.length;l++)q(m[l],e,R,d);e.B.push(U)}e.B.push(C)}}function H(V){var e=V.rect;
return new cr(e[0],e[1],e[2]-e[0],e[3]-e[1])}function y(V){var e=V.transform;return new b7(e[0],e[1],e[2],e[3],e[4],e[5])}function c(V){var e=V.color,d=V.parentFill,b;
if(e==null&&d)e=d.color;if(e==null){console.log("strange color",V);return[0,0,0]}var N=e[0];if(N==5)b=e.slice(1);
else if(N==6)b=UDOC.C.cmykToRgb(e.slice(1));else if(N==7){var z=O.l_(e[1],e[2],e[3]);b=[z.b/255,z.J/255,z.k/255]}else{console.log(e);
throw N}return b}function Q(V,e){var l=0,d=0;while(d+V[l][0]<=e){d+=V[l][0];l++}V=V[l][1].textData;l=0;
while(d+V[l][0]<=e){d+=V[l][0];l++}return V[l]}function q(V,e,d,N){var b=V.transform?y(V):new b7;b.concat(d);
d=b;var z=V.path,v=V.appearance,T=V.visible,Y=V.children?V.children.IN:null,g=e.mX();if(T!=null)g.WH(T);
var R=Y&&Y.length==1&&Y[0].bitmapFill,h=V["bool2-1623"]&&Y&&Y.length==1&&Y[0].rect&&Y[0]._type.startsWith("TextFrame");
if(R){g.nY("bitmap");var E=Y[0],G=H(E),k=y(E);k.concat(d);var $=E.bitmapFill.bitmap;$=N[$]._bin;if($.length!=$.buffer.byteLength)$=$.slice(0);
var p=e.rR($,"img.jpg",0,0);p.Vg=g.Vg;g=p;var X=[0,0,G.m,0,G.m,G.e,0,G.e];O.p.D(X,k,X);g.add.SoLd.Trnf=P.WJ.w2(X);
g.add.SoLd.nonAffineTransform=P.WJ.w2(X);g.W0(e,!1);var C=E.path;if(C&&C.length!=0)g.add.vmsk=A(C,k,v);
else if(z&&z.length!=0)g.add.vmsk=A(z,d,v);g.cv();g.qL(e)}else if(h){if(v&&v.strokeSwatch){var D=e.mX();
S(D,e,v,z,d);e.B.push(D)}var o=Y[0],G=H(o),k=y(o),L=0;k.concat(d);var t=o.children.IN[0],u=t.obj228,m=u[0].story[1],U=m.stoProps.akC.relEnt,I=m.stoProps.IN[0].relEnt,x=m.stoProps.IN[1]["ptrArrayX-210"][0].textData,J=N[U[0][1].textData[0][1].name[0]],r=J?J.styProps:{};
x=x.join("").replace(/\r/g,"\n");var Z=-1;while((Z=x.indexOf("\uFFFC"))!=-1){x=x.slice(0,Z)+(x[Z-1]=="\n"?" ":" ")+x.slice(Z+1)}g.nY(x.slice(0,255));
g.add.lnsr="rend";g.add.TySh=j1.d2(0,0);g.add.TySh.oo=G;g.add.TySh.D=k;var f=g.add.TySh.EB;j1.Uq(f,0,x);
var F=j1.ni(f,0,x.length);F.tq.FontSize=10;j1.Xe(f,0,x.length,F);var _=[];if(x.length!=0){var K=Q(U,0),B=Q(I,0),ij=1;
for(var l=1;l<x.length;l++){var z=Q(U,l),W=Q(I,l);if(z!=K||W!=B){_.push(ij);ij=0}K=z;B=W;ij++}if(ij!=0)_.push(ij)}for(var l=0;
l<_.length;l++){var i=Q(I,L),e3=_[l],eE=Math.min(L+e3,x.length-1),ec=i[2],gw=i[1].styProps;if(gw==null)gw={};
var bl=Q(U,L),cD=bl[1].styProps,a$=bl[2],hJ={};for(var ei in r)hJ[ei]=r[ei];for(var ei in cD)hJ[ei]=cD[ei];
for(var ei in a$)hJ[ei]=a$[ei];for(var ei in gw)hJ[ei]=gw[ei];for(var ei in ec)hJ[ei]=ec[ei];var F=j1.ni(f,L,eE),df=["FontSize","FontCaps","Underline","Strikethrough","FontBaseline"],bM=df.concat(["StartIndent","EndIndent","FirstLineIndent","SpaceBefore","SpaceAfter"]);
for(var ib=0;ib<bM.length;ib++){var ei=bM[ib],fI=ib<df.length?F.tq:F.AW;if(hJ[ei]!=null)fI[ei]=hJ[ei]}if(hJ.fillColor){var eU=c(hJ.fillColor);
F.tq.FillColor={Type:1,Values:[1].concat(eU)}}if(hJ.font){var gK=hJ.font.name[5],bs=hJ.fontStyle;if(bs==null)bs="Regular";
for(var km=0;km<gK.length;km++)if(gK[km][0]==bs)j1.Ho(F,gK[km][1])}if(hJ.leading!=null&&hJ.leading>1){F.tq.Leading=hJ.leading;
F.tq.AutoLeading=!1}if(hJ.align!=null)F.AW.Justification=[0,2,1,6,3,5,4,0,0,0][hJ.align];j1.Xe(f,L,eE,F);
L+=e3}j1.mn(f,1);j1.wr(f,[0,0,Math.round(G.m),Math.round(G.e)])}else if(V._type.startsWith("Path")&&(Y==null||Y.length==0)&&z){S(g,e,v,z,d)}else{var aJ=V["prop-14526"];
if(Y==null&&aJ){var ip=N[j.U5(aJ,20)];Y=[ip]}if(Y){if(z&&z.length!=0){g.add.vmsk=A(z,d,v);g.cv();g.qL(e)}g.nY("group");
g.Vg=24;g.add.lsct=c0.q8;e.B.push(e.C$());for(var l=0;l<Y.length;l++)q(Y[l],e,d,N)}}if(v){var fl=v.objectBlendingMode,b3=v.objectOpacity,dY=v.fillTint;
if(fl)g.UM="norm,mul ,scrn,over,sLit,hLit,div ,idiv,dark,lite,diff,smud,hue ,sat ,colr,lum ".split(",")[fl[0]];
if(b3)g.opacity=Math.round(g.opacity*b3[0]/100);if(!R&&dY)g.opacity=Math.round(g.opacity*dY[0]/100)}if(V.name)g.nY(V.name);
else if(v&&v.name)g.nY(v.name[0]);e.B.push(g)}function S(V,e,d,N,b){V.nY("path");V.Vg|=16;var z=V.add.vstk=JSON.parse(JSON.stringify(d5.Ed.default)),v=[0,0,0];
if(d){var T=d.strokeSwatch,Y=d.fillSwatch,g=d.strokeWeight;z.strokeEnabled.v=T!=null;z.fillEnabled.v=Y!=null;
if(T){z.strokeStyleLineWidth.v.val=g?g[0]:1;v=c(T[0]);z.strokeStyleContent.v.Clr.v=O.M.Yw({b:v[0]*255,J:v[1]*255,k:v[2]*255})}if(Y){v=c(Y[0])}}V.add.SoCo={classID:"null",Clr:{t:"Objc",v:O.M.Yw({b:v[0]*255,J:v[1]*255,k:v[2]*255})}};
V.add.vmsk=A(N,b,d);V.cv();V.qL(e)}function A(V,e,d){var N=new a.TB,b=N.i;for(var z=0;z<V.length;z++){var v=V[z],T=v[0].length,Y=v[1]==0,g=Y?0:3;
b.push({type:g,length:T,NB:0,P0:2,Hj:0,jS:0});for(var l=0;l<T;l++){var R=v[0][l],h=R[0],E=new ce(R[1],R[2]),G=new ce(R[3],R[4]),k=new ce(R[5],R[6]);
if(h==0||h==1)b.push({type:g+2,P7:E,H:G,f$:k});else if(h==2)b.push({type:g+2,P7:E,H:E,f$:E});else throw h}}O.r._R(b,e);
return N}return n}();var cZ=function(w){function n(q,S){var A=[];for(var l=0;l<9;l++){var V=j.s(q,S+l*4);
if(l%3==2)A.push((V>>>30)+(V&1073741823)/1073741823);else A.push((V>>>16)+(V&65535)/65535)}return A}function H(q,S,A,V){var e={},d=j.s,N=j.kH;
while(S<A){var b=S,z=j.s(q,S);S+=4;var v=j.QN(q,S,4);S+=4;if(z==0)throw"e";if(z==1){z=j.Qd(q,S);S+=8}var T=b+z,Y="".padStart(V,"\t"),g={};
if(v=="mvhd"){var R=q[S];if(R!=0)throw"e";S+=4;g.akK=d(q,S);S+=4;g.a3d=d(q,S);S+=4;g.bM=d(q,S);S+=4;
g.duration=d(q,S);S+=4;g.a6c=d(q,S);S+=4;g.volume=N(q,S);S+=2;S+=10;g.a8g=n(q,S);S+=4*9;g.a0y=[];for(var l=0;
l<6;l++)g.a0y.push(d(q,S+l*4));S+=4*6;g.a14=d(q,S);S+=4}else if(v=="tkhd"){var R=q[S];if(R!=0)throw"e";
S+=4;g.akK=d(q,S);S+=4;g.a3d=d(q,S);S+=4;g.aoy=d(q,S);S+=4;S+=4;g.duration=d(q,S);S+=4;S+=8;g.j=N(q,S);
S+=2;g.azA=N(q,S);S+=2;g.volume=N(q,S);S+=2;S+=2;g.a8g=n(q,S);S+=4*9;g.pV=d(q,S)>>>16;S+=4;g.WZ=d(q,S)>>>16;
S+=4}else if(v=="mdhd"){g.Vg=d(q,S);S+=4;g.akK=d(q,S);S+=4;g.a3d=d(q,S);S+=4;g.bM=d(q,S);S+=4;g.duration=d(q,S);
S+=4;g.lang=N(q,S);S+=2;g.P4=N(q,S);S+=2}else if(v=="stsd"){var h=d(q,S);S+=4;if(h!=0)throw h;var E=d(q,S);
S+=4;if(E!=1)throw E;var G=d(q,S);S+=4;g.He=j.QN(q,S,4);S+=4;for(var l=0;l<6;l++)if(q[S+l]!=0)throw"e";
S+=6;g.alB=N(q,S);S+=2;g.alC=N(q,S);S+=2;g.auM=N(q,S);S+=2;g.ap4=d(q,S);S+=4;if(["mp4v","avc1","encv","s263"].indexOf(g.He)!=-1){g.aw3=d(q,S);
S+=4;g.avd=d(q,S);S+=4;g.auY=[N(q,S),N(q,S+2)];S+=4;g.aa1=[d(q,S)/(1<<16),d(q,S+4)/(1<<16)];S+=8;var k=d(q,S);
S+=4;if(k!=0)throw"e";var $=N(q,S);S+=2;if($!=1)throw"e";var p=q[S];S++;g.a5K=j.QN(q,S,p);S+=31;g.abc=N(q,S);
S+=2;var X=N(q,S);S+=2;if(X!=65535)throw"e";if(S!=T)g.a1o=H(q,S,T,V+1)}else if(["mp4a","enca","samr","sawb","ec-3"].indexOf(g.He)!=-1){g.d4=N(q,S);
S+=2;g.a4C=N(q,S);S+=2;var C=N(q,S);S+=2;if(C!=0)throw C;var D=N(q,S);S+=2;if(D!=0)throw D;g.arG=d(q,S)/(1<<16);
S+=4}else if(g.He=="tx3g"){}else throw g.He}else if(v=="stts"||v=="stsz"||v=="stco"||v=="stsc"||v=="ctts"){var h=d(q,S),o=0,u=0;
S+=4;if(h!=0)throw h;if(v=="stsz"){o=d(q,S);S+=4}var t=d(q,S)*(v=="stsc"?3:v=="stts"||v=="ctts"?2:1);
S+=4;g=[];for(var l=0;l<t;l++){if(o!=0)g.push(o);else{g.push(d(q,S));S+=4}}for(var l=0;l<t;l++)u+=g[l]}else if(v=="moov"||v=="trak"||v=="mdia"||v=="minf"||v=="dinf"||v=="stbl"){g=H(q,S,T,V+1)}else{g.Q=S;
g.uv=z}S=T;if(v=="trak"){if(e[v]==null)e[v]=[];e[v].push(g)}else{if(e[v]!=null)throw v;e[v]=g}}return e}function y(q){var S=new Uint8Array(q);
return H(S,0,S.length,0)}function c(q,S,A){var V=Q(q,S),e=V.mdia.minf.stbl,d=e.stsc,N=0,b=0;for(var l=0;
l<d.length;l+=3){var z=(l+3<d.length?d[l+3]:1e4)-d[l],v=b+z*d[l+1];if(b<=A&&A<v){while(b+d[l+1]<=A){N++;
b+=d[l+1]}break}N+=z;b=v}var T=e.stco[N];while(b<A){T+=e.stsz[b];b++}return[T,e.stsz[A]]}function Q(q,S){var A=q.moov.trak;
for(var l=0;l<A.length;l++)if(A[l].tkhd.azA==S)return A[l]}return{V2:y,a48:c,a2y:Q}}(),P={};P.V=function(w){return window.devicePixelRatio||1};
P.L$=function(w,n){return(n.ac2=="touch"?12:8)*P.V()/w.u.N};P.rG=function(w,n,H){this.name=w;this.id=n;
this.ZZ=null;if(H!=null)this.Ux=H};P.rG.prototype.dZ=function(w,n,H,y,c){};P.rG.prototype.enable=function(w,n,H,y,c,Q){var q=new aL(M.E.L,!0);
q.data={d:M.c.N4,Xn:"default"};n.S(q)};P.rG.prototype.disable=function(w,n,H,y,c){};P.rG.prototype.a0e=function(w,n,H,y,c){return!1};
P.rG.prototype.mO=function(w,n,H,y,c){};P.rG.prototype.QP=function(w,n,H,y,c){};P.rG.prototype.C9=function(w,n,H,y,c){};
P.rG.prototype.sh=function(w,n,H,y,c,Q){};P.rG.prototype.Qz=function(w,n,H,y,c){};P.rG.prototype.QI=function(w,n,H,y){};
P.rG.prototype.BK=function(w,n,H,y){};P.rG.prototype.KC=function(w,n){};P.rG.prototype.LL=function(w,n){};
P.rG.prototype.ro=function(w,n,H,y,c){};P.rG.prototype.AB=function(w,n){};P.rG.prototype.XT=function(w,n){return!1};
P.rG.prototype.U8=function(w,n){return!1};P.rG.prototype.i7=function(){return!1};P.rG.prototype.nX=function(w,n){return!0};
P.rG.prototype.ae=function(){return null};P.rG.prototype.th=function(w,n,H){};P.rG.prototype.agj=function(){return!1};
P.rG.prototype.Pq=function(w,n,H,y){};P.rG.prototype.track=function(w){var n=new aL(M.E.dp,!0);n.data=w;
w.mu=!0;this.ZZ.S(n)};P.rG.j6=function(w,n,H,y){var c=10*P.V()*(w.ac2=="touch"?2:1),Q=w.x+c,q=w.y-c,S=O.xr.To(n.m,H.uP,y,H.m,!0),A=O.xr.To(n.e,H.uP,y,H.e,!0);
while(S.length<A.length)S=" "+S;while(S.length>A.length)A=" "+A;P.rG.yE(Q,q,[hV.get([12,41]).charAt(0)+": "+S,hV.get([12,42]).charAt(0)+": "+A],H)};
P.rG.yE=function(w,n,H,y){function c(V,v,T,Y,g,R){V.beginPath();V.moveTo(v,T+R);V.arcTo(v,T+g,v+R,T+g,R);
V.arcTo(v+Y,T+g,v+Y,T+g-R,R);V.arcTo(v+Y,T,v+Y-R,T,R);V.arcTo(v,T,v,T+R,R)}var Q=P.V(),q=Math.round,S=q(11*Q),A=P.rG.a7I,e=0;
if(A==null)A=P.rG.a7I=document.createElement("canvas");var V=A.getContext("2d");V.font=S+"px monospace";
for(var l=0;l<H.length;l++)e=Math.max(e,V.measureText(H[l]).width);var d=q(e+12*Q),N=q((H.length*14+5)*Q),b=new cr(w,n-N,d,N);
if(A.width!=d||A.height!=N){A.width=d;A.height=N;V.font=S+"px monospace"}V.clearRect(0,0,d,N);V.fillStyle="rgba(0,0,3,0.8)";
c(V,0,0,d,N,q(4*Q));V.fill();V.fillStyle="rgba(255,255,255,1)";for(var l=0;l<H.length;l++)V.fillText(H[l],q(6*Q),q((l+1)*13*Q));
var z=[V.getImageData(0,0,d,N).data,b.clone()];if(y)y.I.n7=[z];return z};P.rG.a7I=null;P.DX="0";P.pj="1";
P.atJ="2";P.axV="3";P.Y4="5";P.aul="6";P.afu="7";P.$b="8";P.XZ="9";P.yR="10";P.JJ="11";P.Fn="12";P.Pj="13";
P.om="14";P.s0="16";P.m0="18";P.pT="19";P.eO="20";P._3="21";P.bp="22";P.p6="23";P.BJ="24";P.dQ="25";
P.bX="27";P.XN="31";P.Sd="32";P.Dn="34";P.a7Y="35";P.ly="36";P._H="37";P.$0="38";P.TY="39";P.NG="40";
P.Ge="41";P.f2="42";P.Ea="43";P.any="44";P.nr="47";P.CC="48";P.ko="51";P.Dl="52";P.S0="54";P.sr="55";
P.DG="56";P.Te="57";P.ri="58";P.em="59";P.xy="60";P.uD="61";P.G8="70";P.xM="100";P._c="101";P.i1="102";
P.yL="103";P.OF="120";P.bf="230";P.anb="231";P.O$="232";P.YV="233";P.C8="234";P.NJ="235";P.xt="236";
P.a7z=function(w){var n=P._g,H=null;for(var y in n)if(n[y][1].indexOf(w[1].classID)!=-1)H=y;return H};
P._g={};P._g[P.p6]=["tools/brush",["PbTl"]];P._g[P.BJ]=["tools/pencil",["PcTl"]];P._g[P.XN]=["tools/eraser",["ErTl"]];
P.sT=function(w,n,H){P.rG.call(this,w,n,H);this.kT={brush:w?iG.Pn():null,bmode:"norm",opacity:1,flow:1,smth:0,samp:0,emode:0,wconf:[40,!0,!0],sall:!1,algnd:!1,sfrom:0,alt:[!1],expo:.5,rng:1,strn:.5,pdetail:!0,smode:1,qsmode:0,setop:0,patch:0};
this.Uz=null;this.Oi=null;this.Jm=null;this.tF=null;this.Hc=null;this.bO=null;this.dT=null;this.Ys=null;
this.HZ=null;this.U0=null;this.iW=null;this.XW=null;this.Cr=null;this.YM=1;this.Ht=!1;this.Lt=null;this.caller=null};
P.sT.prototype=new P.rG;P.sT.prototype.U8=function(w,n){return w.iO&&n.l(b8.fx)};P.sT.prototype.QP=function(w,n,H,y,c){if(y.l(b8.FO)){this.bO=new ce(c.x,c.y);
var Q=this.kT.brush.Brsh.v,q=Q.Dmtr.v.val,S=Q.Hrdn!=null?Q.Hrdn.v.val:-1;this.dT=[q,S,!0,JSON.parse(JSON.stringify(this.kT.brush)),c];
this.ZY(H)}};P.sT.prototype._f=function(w,n,H){var y=this.dT,c=w.u.N,Q=H.x-y[4].x,q=H.y-y[4].y,S=y[0],A=y[1],V=Math.abs(Q)>Math.abs(q);
if(V&&y[2]){var e=Math.round(2*Q/c);S+=e;H.x-=Q-.5*e*c}if(!V&&!y[2]&&A!=-1){var e=Math.round(.25*q);
A+=e;H.y-=q-4*e}S=Math.max(1,S);A=y[1]==-1?-1:Math.max(0,Math.min(100,A));var d=y[3];d.Brsh.v.Dmtr.v.val=S;
if(A!=-1)d.Brsh.v.Hrdn.v.val=A;this.dT=[S,A,V,d,H];var N=cn.uZ(d,n.Sr.NS,c),b=N[1];b.x=Math.round(this.bO.x-b.m/2);
b.y=Math.round(this.bO.y-b.e/2);w.I.El=[N];var z=w.u.Sb(this.bO.x,this.bO.y);w.I.ls={Oh:[],YA:[z.x-S/2,z.y,z.x+S/2,z.y]};
if(A!=-1)w.I.ls.YA.push(z.x+50/c,z.y-A/2,z.x+50/c,z.y+A/2);w.Va=!0};P.sT.prototype.Qz=function(w,n,H,y,c){if(this.id==P.eO||this.id==P._3)return;
if(this.bO){this.bO=null;this.kY(JSON.parse(JSON.stringify(this.dT[3])));w.I.El=[];w.I.ls=null;w.Va=!0;
return}var Q=new aL(M.E.L,!0);Q.data={d:M.c.Hi,G:this.id,alb:"showBrushOpts",gG:new ce(c.JV+4,c.m6)};
n.S(Q)};P.sT.prototype.kY=function(w){var n=new aL(M.E.L,!0);n.data={d:M.c.Yj,PY:h6.Ja,Aq:w};this.caller.S(n)};
P.sT.ba=function(w,n,H,y,c,Q){if(w==null)w="FrgC";if(n==null)n="norm";if(H==null)H=1;if(c==null)c=!1;
var q={classID:"Fl",Usng:{t:"enum",v:{FlCn:w}},Opct:{t:"UntF",v:{type:"#Prc",val:Math.round(H*100)}},PrsT:{t:"bool",v:c},Md:{t:"enum",v:{BlnM:eS.Yf(n)}}};
if(w=="Clr")q.Clr={t:"Objc",v:y};if(w=="contentAware")q.contentAwareColorAdaptationFill={t:"bool",v:!0};
if(w=="Ptrn")q.Ptrn={t:"Objc",v:Q};return{fd:"fill",ei:q}};P.sT.prototype.dZ=function(w,n,H,y,c){this.ZZ=n;
var Q=H.np.length;if(Q==0&&!H.BG())return;var q=Q!=0?-1-H.np[0]:H.g[0],S=H.B[q];if(w.d=="fromAction"){var A=w.nG,V=A.ei;
if(V&&V.null&&V.null.v[0]&&V.null.v[0].v.classID=="Path"){var e=H._e(),d=e[0],N=e[1],b=d[N.length==0?0:N[0]].add.vmsk;
if(A.fd=="fill"){var z=b.LZ(),v=c.Ni,T=this.kT,Y=v>>16&255,g=v>>8&255,R=v>>0&255;this.hi(H,S,z,Y,g,R,Math.round(T.opacity*255),T.bmode,"Fill Path")}else{for(var h=0;
h<1e3;h++){var E=O.r.Pt(b.i,h,!0);if(E==-1){this.sh(H,n,c,y,null);break}var G=b.i[E],k=b.i.slice(E,E+1+G.length),$=O.p.$n(k,!0).w,p=$.slice(0,8);
for(var X=8;X<$.length;X+=6)p.push($[X-2],$[X-1],$[X],$[X+1],$[X+2],$[X+3],$[X+4],$[X+5]);var C={};C.Points=p;
C.TextOnPathTRange=b.Ug.slice(0);var C=ir.je(C,2,G.type==3),D=C[0];if(h==0)this.mO(H,n,c,y,H.u.Cc(D[0],D[1]));
else this.Oi.moveTo(D[0],D[1]);var o=D.length,t=G.type==0?o+2:o;for(var l=2;l<t;l+=2){var u=H.u.Cc(D[l%o],D[(l+1)%o]);
u.iO=!0;this.C9(H,n,c,y,u,this.kT.flow)}this.Oi.finish();this.Jw(H)}}}else if(A.fd=="fill"){var m=V.PrsT?V.PrsT.v:!1,U=S?S.add.lspf:0;
if(m&&S){S.add.lspf=U==null?1:U|1}var I=(V.Opct?V.Opct.v.val:100)/100,x=V.Md?eS.Yi(V.Md.v.BlnM):"norm",J=V.Usng.v.FlCn;
if(J=="contentAware"){if(H.P==null){alert("Select an area to heal first.");return}if(!H.BG())return;
this.Ub(H);this.Sz(H,0);var r=H.P,Z=O.R(r.rect.O()*4);O.o2(r.channel,Z,3);this.pU(H,"sheal",Z,r.rect,r.rect);
this.U(H,r.rect);this.finish(H,r.rect)}else if(J=="Ptrn"){var f=c.XG,F=H.P?H.P.rect.clone():new cr(0,0,H.m,H.e),_=O.R(F.O()*4);
hO.yr(V,_,F,f,new ce(0,0));this.fC(H,S,H.P,_,"norm",[6,48,0,2])}else{var v;if(J=="FrgC")v=c.Ni;else if(J=="BckC")v=c.uu;
else if(J=="Blck")v=0;else if(J=="Wht")v=16777215;else if(J=="Gry")v=8421504;else if(J=="Clr"){var K=O.M.cH(V.Clr.v);
v=K.b<<16|K.J<<8|K.k}var Y=v>>16&255,g=v>>8&255,R=v>>0&255;this.hi(H,S,H.P,Y,g,R,Math.round(255*I),x,[2,3])}if(m&&S){S.add.lspf=U==null?0:U}}else if(A.fd=="delete"){var B=q<0?1:S.Ks,r=H.P,i;
if(r==null)return;var ij=q<0?H.d4[-q-1]:B<=0?null:B==1?S.LZ():S.iS(H).z,F=B<=0?S.rect:ij.rect,W=B<=0?r.rect.Fa(F):r.rect.clone();
if(W._G())return;var L=W.O();if(B<=0){i=O.R(L*4);O.j1(S.buffer,S.rect,i,W)}else{i=O.R(L);ij.extend(W);
O.qS(ij.channel,ij.rect,i,W)}if(0<=q&&S.U_(H,r)){if(B<=0){O.jZ(i,0);O.j1(S.cJ.C5,S.cJ.hK,i,W)}else{i.fill(255);
O.qS(S.cJ.C5,S.cJ.hK,i,W)}}else{if(B<=0){var e3=O.R(i.length>>2);O.RR(i,e3,3);O.q.p8(O.By(r.rect.O()),r.rect,e3,W,r.channel,W,1);
O.o2(e3,i,3)}else{var eE=O.R(r.rect.O()),Y=c.uu>>>16&255,g=c.uu>>8&255,R=c.uu>>0&255;eE.fill(Math.round(O.LC(Y,g,R)));
O.q.p8(eE,r.rect,i,W,r.channel,W,1)}}this.qb(H,!0,[2,2],q,B,W,i)}}if(w.d=="stroke"){var ec=w.anH,r=H.P;
if(r==null){r={rect:S.rect.clone(),channel:O.R(S.rect.O())};O.RR(S.buffer,r.channel,3)}var gw=hO.qi(ec),bl=P.Me.a8V(r,Math.ceil(gw[0]),Math.ceil(gw[1])),v=O.M.cH(ec.Clr.v),Y=Math.round(v.b),g=Math.round(v.J),R=Math.round(v.k);
this.hi(H,S,bl,Y,g,R,Math.round(255*ec.Opct.v.val/100),eS.Yi(ec.Md.v.BlnM),[14,9])}if(w.d=="fillBMP"){this.fC(H,S,H.P,w.Ka,w.$X,w.hG)}if(w.d=="draw"){var cD=w.jR,a$=cD.rect;
this.Ub(H);var hJ=H.B[H.g[0]];if(w.avj&&hJ&&hJ.Ks<=0&&H.np.length==0){a$=P.LV.adC(cD,H);hJ.buffer=cD.buffer.slice(0);
hJ.rect=a$.clone()}else{var ei=this.kT.bmode;this.kT.bmode="norm";this.pU(H,"draw",cD.buffer,a$,a$.Fa(new cr(0,0,H.m,H.e)));
this.kT.bmode=ei}this.U(H,a$);H.zi=!0;this.finish(H,a$,w.hG,w.avj)}};P.sT.prototype.hi=function(w,n,H,y,c,Q,q,S,A){var V=H==null?new cr(0,0,w.m,w.e):H.rect,e=q<<24|Q<<16|c<<8|y<<0,d=O.R(V.O()*4);
O.jZ(d,e);this.fC(w,n,H,d,S,A)};P.sT.prototype.fC=function(w,n,H,y,c,Q){var q=w.np.length!=0?-1-w.np[0]:w.g[0],S=q<0?1:n.Ks,A=q<0?w.d4[-1-q]:S<=0?null:S==1?n.LZ():n.iS(w).z,V=S<=0?n.rect:A.rect,e=H==null?new cr(0,0,w.m,w.e):H.rect,d=H==null?O.a0(w.m*w.e):H.channel;
if(H!=null)O.CS(d,y);var N=e.O(),b=O.R(N*4);if(S<=0)O.j1(n.buffer,n.rect,b,e);else{A.extend(e);b.fill(255);
O.Bk(A.IX(e),b)}if(0<=q&&H&&n.U_(w,H)&&S<=0){var z=n.cJ.z5,v=n.cJ.z5.slice(0);if(S<=0)O.Bq(y,v);else O.Bq(fullc,v);
var T=new dq([2,3],this);T.data={d:"drawtemp",j:w.g[0],vm:S,arf:z,ak2:v};w.c0(T);this.KC(T.data,w)}else{if(S<=0){var Y;
if(n.ox(0)){Y=O.R(e.O());O.RR(b,Y,3)}O.q.SG(c,y,e,b,e,e,1);if(n.ox(0))O.o2(Y,b,3)}else{O.q.SG(c,y,e,b,e,e,1);
var g=O.R(N);O._i(b,g);b=g}this.qb(w,!0,Q,q,S,e,b)}};P.sT.prototype.XT=function(w){if(b8.KK.indexOf(w)!=-1)return!0;
return!1};P.sT.prototype.QI=function(w,n,H,y){var c=this.kT.brush,Q=y.l(b8.FO),q=Q!=this.Ht,S=P.sT.Zc(c,y);
if(S!=null)this.kY(S);if(!y.l(b8.NX)&&y.RQ()!=-1){var A=b8._J(Math.round(this.kT.opacity*100),y.RQ())/100;
this.NO({opacity:A},n)}if(this.id==P.$b&&q&&w!=null){var V=this.kT.qsmode;if(V==2)V=w.P==null?0:1;else V=2;
this.NO({qsmode:V},n)}this.Ht=Q;if(q){if(w)this.YM=w.u.N;this.ZY(H,y)}};P.sT.Zc=function(w,n){var H=w.Brsh.v.Dmtr.v.val,y=w.Brsh.v.Hrdn!=null?w.Brsh.v.Hrdn.v.val:-1,c=H,Q=y,q=n.l(b8.fx);
if(n.l(b8.gT)){if(q)y=25*Math.floor((y-1)/25);else{if(H<=10)H--;else if(H<=50)H=5*Math.floor((H-1)/5);
else if(H<=100)H=10*Math.floor((H-1)/10);else if(H<=200)H=25*Math.floor((H-1)/25);else if(H<=400)H=50*Math.floor((H-1)/50);
else H=100*Math.floor((H-1)/100)}}if(n.l(b8.vn)){if(q)y=25*Math.ceil((y+1)/25);else{if(H<10)H++;else if(H<50)H=5*Math.ceil((H+1)/5);
else if(H<100)H=10*Math.ceil((H+1)/10);else if(H<200)H=25*Math.ceil((H+1)/25);else if(H<400)H=50*Math.ceil((H+1)/50);
else H=100*Math.ceil((H+1)/100)}}H=Math.max(1,H);y=Math.max(0,Math.min(100,y));if(Q==-1)y=-1;if(H!=c||y!=Q){var S=JSON.parse(JSON.stringify(w));
S.Brsh.v.Dmtr.v.val=H;if(Q!=-1)S.Brsh.v.Hrdn.v.val=y;return S}return null};P.sT.prototype.ZY=function(w,n,H,y){if(w.Sr.list.length==0)return;
var c=this.id,Q;if((c==P.bX||c==P.pT||c==P.p6||c==P.BJ)&&(n!=null&&n.l(b8.FO)||this.kT.alt[0]))Q="crosshair";
else{var q=this.YM,S=this.kT.brush;if((c==P.bX||c==P.pT)&&H&&this.XW&&this.XW.length==this.iW.O()*4){var A=H.u.Sb(y.x,y.y),V=this.agF(A),e=this.XW,d=this.iW,N=new cr(d.x+V.x,d.y+V.y,d.m,d.e),b=cn.uZ(S,w.Sr.NS,q),z=b[0],v=b[1],T=Math.ceil(v.m/q),Y=new cr(Math.round(A.x-T/2),Math.round(A.y-T/2),T,T),g=O.R(Y.O()*4),R,h;
O.j1(e,N,g,Y);if(q==1){R=g;h=Y}else{var E=new b7(q,0,0,q,0,0),G=P.WJ.T_([g,Y],E,!0);h=v.clone();h.x=G.rect.x;
h.y=G.rect.y;if(h.Hw(G.rect))R=G.buffer;else{R=O.R(h.O()*4);O.j1(G.buffer,G.rect,R,h)}}var k=this.kT.opacity/255;
for(var l=0;l<R.length;l+=4)R[l+3]=k*(z[l+3]*R[l+3]);cn.a6L(new Uint32Array(R.buffer),h,4278190080,4294967295);
Q={c1:R,U2:h,_O:new ce(h.m/2,h.e/2)}}else Q=cn.ja(S,w.Sr.NS,q,c==P.dQ||c==P.Sd)}var $=new aL(M.E.L,!0);
$.data={d:M.c.N4,Xn:Q};if(this.caller)this.caller.S($)};P.sT.prototype.enable=function(w,n,H,y){this.Uz=H;
this.caller=n;this.kY(JSON.parse(JSON.stringify(this.kT.brush)));if(w&&w.u.N!=0)this.YM=w.u.N;this.ZY(H,y)};
P.sT.prototype.AB=function(w,n){if(n==h6.Ja){this.kT.brush=w.Sr.TX;this.ZY(w)}};P.sT.prototype.ro=function(w,n,H,y,c){for(var Q in w)this.kT[Q]=w[Q];
if(this.kT.alt[0])this.ZY(c,y,H)};P.sT.prototype.arz=function(w){var n=w.np.length!=0?-1-w.np[0]:w.g[0],H=w.B[n],y=n<0?1:H.Ks,c=n<0?w.d4[-n-1]:y<=0?null:y==1?H.LZ():H.iS(w).z,Q=c?c.channel:H.buffer,q=(c?c.rect:H.rect).clone();
return[H,y,c,Q,q]};P.sT.prototype.Ub=function(w,n){this.Cr=w.P==null?null:{rect:w.P.rect.clone(),channel:w.P.channel.slice(0)};
var H=this.arz(w),y=H[0],c=H[1],Q=H[2];this.U0=H[3];this.HZ=H[4];var q=new cr(0,0,w.m,w.e),S=q.ld(this.HZ);
if((this.co()&&c<=0||S.Hw(this.HZ))&&n!=!0)this.U0=this.U0.slice(0);else{if(Q)Q.extend(S);else y.extend(S)}};
P.sT.prototype.Sz=function(w,n){var H=this.arz(w),y=H[1],c=H[3],Q=H[4],q=[c,Q],S=n!=null?n:this.kT.sfrom;
if(y<=0&&S!=0){q[1]=new cr(0,0,w.m,w.e);q[0]=w.E$(S==1&&w.g[0]!=w.B.length-1?w.g[0]:null).slice(0)}this.iW=q[1].clone();
this.XW=q[0].slice(0)};P.sT.prototype.Ig=function(w,n,H){if(w.l(b8.FO)){var y=new aL(M.E.v,!0);y.G=P.om;
y.data={d:"pickhere",asR:H};n.S(y);return!0}return!1};P.sT.prototype.$G=function(w,n,H,y,c,Q){if(this.id!=P.$b&&!w.BG(this.caller)){this.Oi=null;
return}if(this.id!=P.$b&&this.Oi)return;this.Ub(w);var q=new cr(0,0,w.m,w.e),S=null;if(Q!=null){var A=w.np.length!=0?-1-w.np[0]:w.g[0],V=w.B[A],e=A<0?w.d4[-A-1]:V.Ks<=0?null:V.Ks==1?V.LZ():V.iS(w).z;
S=O.R(q.O()*4);if(e)P.sT.pJ(this.U0,this.HZ,e.color,S,q);else O.j1(this.U0,this.HZ,S,q)}var d=this.kT;
if(this.Oi&&this.id==P.$b&&d.qsmode!=0&&w.P!=null){}else{var N=n.Ni,b=n.uu;if(this.Lt=="erase"){var z=N;
N=b;b=z}var v=this.id==P.$b?this.HZ:q;this.Oi=new cn(d.brush,n.Sr.NS,n.Sr.c4,{wi:c,vc:Q,abH:d.smth*50/w.u.N,Y9:this.id==P.BJ||d.emode==1,VQ:w.VQ},N,b,v,S)}if(this.id==P.$b){this.Oi.agI(d.brush,d.qsmode==2?0:16777215)}var T=w.u.Sb(y.x,y.y);
if(H.l(b8.fx)&&this.Jm){var Y=this.Jm;this.Oi.moveTo(Y.x,Y.y,y.TJ);this.Oi.lineTo(.001*Y.x+.999*T.x,.001*Y.y+.999*T.y,y.TJ);
this.Oi.lineTo(T.x,T.y,y.TJ)}else this.Oi.moveTo(T.x,T.y,y.TJ);this.Jm=T;this.tF=T.clone();this.Hc=new eh(T,w.u.db)};
P.sT.prototype.u2=function(w,n,H){if(w&&w.u.N!=0&&w.u.N!=this.YM){this.YM=w.u.N;this.ZY(H)}};P.sT.prototype.nc=function(w,n,H,y){if(this.Oi==null)return;
var c=w.B[w.g[0]],Q=w.u.Sb(y.x,y.y),q=this.Hc.Tq(Q,H);if(q.Hw(this.Jm))return 1;this.Oi.lineTo(q.x,q.y,y.TJ);
this.Jm=q;if(this.id==P.bX||this.id==P.pT){var S=this.$Y(),A=11;S=w.u.Cc(Q.x-S.x,Q.y-S.y);var V=A>>>1,e=new cr(Math.round(S.x)-V,Math.round(S.y)-V,A,A),d=O.R(e.O()*4);
O.jZ(16777215);for(var l=0;l<A;l++)d[(l*A+V)*4+3]=d[(A*V+l)*4+3]=255;w.I.n7=[[d,e]];w.Va=!0}};P.sT.prototype.BK=function(w,n,H,y){if(H.ZR!=this.id)return;
if(this.id!=P.$b||w==null)return;if(w.P==null||w.g[0]!=this.azN){this.azN=w.g[0];this.NO({qsmode:0},n)}};
P.sT.prototype.U=function(w,n){if(w.np.length!=0){w.Va=!0;return}var H=w.B[w.g[0]];if(n==null){n=this.Oi.fu();
if(this.co()&&H.Ks<=0)n=n.Fa(this.HZ)}var y=H.Ks;if(y==1||y==3){var c=Math.round((y==1?H.LZ():H.iS(w).z).Hk*2.4);
n=n.clone();n.i_(c,c)}if(n._G())return;if(y<=0){H.U(n)}if(y==1){H.LZ().Yh=!0;H.qL(w,n)}if(y==3){H.U(n)}w.U(w.root.k8(n,w,w.g[0],!0))};
P.sT.prototype.sh=function(w,n,H,y,c){if(this.Oi==null)return;this.Oi.finish();if(this.id!=P.m0&&this.id!=P.pT&&this.id!=P.$b)this.Jw(w);
if(this.id==P.bX||this.id==P.pT){w.I.n7=[];w.Va=!0}if(this.id==P.$b){var Q=w.P;w.P=this.Cr;var q=new aL(M.E.v,!0);
q.data={d:"setsel",hG:this.name,P:Q};q.G=P.pj;n.S(q);if(this.kT.qsmode==0)this.NO({qsmode:1},n)}else{this.finish(w,this.Oi.xV());
this.Oi=null;this.Ys=null}this.dir=0};P.sT.prototype.NO=function(w,n){for(var H in w)this.kT[H]=w[H];
var y=new aL(M.E.L,!0);y.data={d:M.c.Hi,G:this.id,oz:w};n.S(y)};P.sT.prototype.co=function(){var w=this.id;
return w==P.$b||w==P.XN||w==P.TY||w==P.NG||w==P.Ge||w==P.bp};P.sT.prototype.finish=function(w,n,H,y,c){var Q=w.np.length!=0?-1-w.np[0]:w.g[0],q=w.B[Q],S=Q<0?1:q.Ks,A=Q<0?w.d4[-Q-1]:S<=0?null:S==1?q.LZ():q.iS(w).z,V=A?A.rect:q.rect,N;
if(this.co()||!V.Hw(this.HZ)){if(A==null){if(this.co())q.KU();else{var e=n.ld(this.HZ),d=O.R(e.O()*4);
O.j1(q.buffer,q.rect,d,e);q.buffer=d;q.rect=e}}else A.KU();this.U(w,V)}if(S<=0){N=O.R(n.O()*4);O.j1(this.U0,this.HZ,N,n)}else{N=O.R(n.O());
N.fill(A.color);O.qS(this.U0,this.HZ,N,n)}this.qb(w,!1,H?H:this.name,Q,S,n,N,y,c)};P.sT.prototype.qb=function(w,n,H,y,c,Q,q,S,A){var V=q;
if(c>0){V=O.R(Q.O()*4);P.sT.pJ(q,Q,0,V,Q)}var e=new dq(H,this);e.data=[{j:y,vm:c,U2:Q,G_:V}];if(S)e.data.Xt=[w.P,null];
if(A)e.data.Xt=[this.Cr,w.P];w.c0(e);if(n)this.KC(e.data,w);else if(S)w.P=null;P.D1.api(w,e.data)};P.sT.prototype.LL=function(w,n){this.ass(w,n,!1)};
P.sT.prototype.KC=function(w,n){this.ass(w,n,!0)};P.sT.prototype.ass=function(w,n,H){if(w.d=="drawtemp"){var y=H?w.ak2:w.arf,c=n.B[w.j];
c.cJ.z5=y;c.ll(n,0,0,n.P);c.U();n.zi=!0}else{P.D1.tL(n,w);if(w.Xt){n.P=w.Xt[H?1:0];n.Ii=!0}}n.U()};P.sT.prototype.Jw=function(w){this.pU(w,this.Lt,this.Oi.L5(),this.Oi.fH(),this.Oi.fu());
this.U(w)};P.sT.prototype.pU=function(w,n,H,y,c){var Q=this.kT,q=w.B[w.g[0]],S=w.np.length!=0?w.d4[w.np[0]]:q.Ks<=0?null:q.Ks==1?q.LZ():q.iS(w).z,A=O.R(c.O()*4),V,e=q.ox(0);
if(S==null){if(this.id==P._3&&n=="heal")O.j1(q.buffer,q.rect,A,c);else O.j1(this.U0,this.HZ,A,c);if(e){V=O.R(c.O());
O.RR(A,V,3)}}else{P.sT.pJ(this.U0,this.HZ,S.color,A,c)}if(w.P&&n!="qselect"){var d=c.Fa(w.P.rect),N=O.R(d.O()*4);
if(n=="copy"){var b=O.R(d.O());O.qS(w.P.channel,w.P.rect,b,d);O.j1(A,c,N,d);O.q.AF(H,y,N,d,b,d,0,d,1,!1)}else{O.j1(H,y,N,d);
O.lf(w.P.channel,w.P.rect,N,d)}H=N;y=d}function z(Y,a$){var ei=Math.max(a$.x,Math.min(a$.x+a$.m-1,Y.x)),df=Math.max(a$.y,Math.min(a$.y+a$.e-1,Y.y));
return new ce(ei,df)}if(n=="idraw"||n=="ierase"){if(this.Ys==null)this.Ys=O.R(this.HZ.O());var v=this.kT.samp,T=this.Uz.uu,Y=z(this.Jm,c),g=v==0?Y:this.tF,R=g.x,h=g.y,E=P.s1.AV(this.U0,this.HZ,[g,new ce(R-2,h),new ce(R+2,h),new ce(R,h-2),new ce(R,h+2)]);
if(v==2)E=[[T>>>16&255,T>>>8&255,T>>>0&255,255]];var G=P.s1.Gq(A,c,Y,E,this.kT.wconf),k=O.R(c.O());O.qS(this.Ys,this.HZ,k,c);
O.w8.ld(G,k,k);O.qS(k,c,this.Ys,this.HZ);O.lf(k,c,H,y);n=n.slice(1)}if(n=="erase"&&(P.D1.arq(w)!=16777215||S))n="draw";
if(n=="draw")O.q.SG(Q.bmode,H,y,A,c,c,Q.opacity);else if(n=="erase"){var $=O.R(c.O()*4);O.j1(H,y,$,c);
if(S==null){var p=O.R(c.O());O.RR($,p,3);O.ub(p,Q.opacity);O.G$(p);O.lf(p,c,A,c)}else{O.jZ($,0,4278190080);
O.q.SG("norm",$,c,A,c,c,Q.opacity)}}else if(n=="clone"||n=="heal"){var X=this.$Y(),C=this.iW.clone();
C.offset(X.x,X.y);var D=c.clone();D.i_(1,1);var o=O.R(D.O()*4),t=O.R(D.O());O.j1(H,y,o,D);O.RR(o,t,3);
O.jZ(o,0);if(S==null){O.j1(this.XW,C,o,D);var u=O.R(D.O());O.RR(o,u,3);O.I_(u,t)}else P.sT.pJ(this.XW,C,S.color,o,D);
if(n=="clone"){O.o2(t,o,3);O.q.SG(Q.bmode,o,D,A,c,c,Q.opacity)}if(n=="heal"){var m=t.slice(0);O.round(m,20);
var U=O.R(D.O()*4);if(S==null)O.j1(this.U0,this.HZ,U,D);else P.sT.pJ(this.U0,this.HZ,S.color,U,D);O.q.AF(o,D,U,D,m,D,0,D,1,!1);
O.l6.Mh(U,m,D);O.q.AF(U,D,A,c,t,D,0,c,1,!1)}}else if(n=="dodge"||n=="burn"){var o=O.R(c.O()*4),J=1,r=0,Z=0,f=0;
O.j1(H,y,o,c);var I=c.O()*4,x=P.sT.B7;if(this.Ht){if(n=="dodge")n="burn";else n="dodge"}var F=Q.rng;
if(n=="dodge"){r=[1-J/2,1,1+J][F];Z=[1,1/(1+J),1][F];f=[J/2,0,0][F]}if(n=="burn"){r=[1/(1-J/2),1,1-J/2][F];
Z=[1,1+J,1][F];f=[-(J/2)/(1-J/2),0,0][F]}for(var l=0;l<I;l+=4){var _=o[l+3];A[l+0]=x(A[l+0],r,Z,f,_);
A[l+1]=x(A[l+1],r,Z,f,_);A[l+2]=x(A[l+2],r,Z,f,_)}}else if(n=="sponge"||n=="redeye"){var o=O.R(c.O()*4),t=O.R(c.O());
O.j1(H,y,o,c);O.RR(o,t,3);O.Bq(A,o);var K=Q.smode;if(this.Ht)K=1-K;var B=gT.B1("hue2");if(n=="sponge")fm.UN(B,0,[0,[-50,46][K],[6,5][K]]);
else fm.UN(B,1,{cf:[265,305,25,55],dl:[0,-90,-70]});var ij=fb.QT("hue2",B);fb.kS(ij,o,o,c);O.q.AF(o,c,A,c,t,c,0,c,1,!1)}else if(n=="copy")O.j1(H,y,A,c);
else if(n=="sheal"){var o=O.R(c.O()*4),t=O.R(c.O());O.j1(H,y,o,c);O.RR(o,t,3);o.fill(0);var W=this.XW,L=this.iW;
if(S){W=O.R(L.O()*4);P.sT.pJ(this.XW,L,0,W,L)}var i=O.Fi.Mh(W,L,t,o,c);if(i!=0)O.j1(W,L,o,c);if(this.kT.sfrom==0)O.j1(o,c,A,c);
else{O.j1(this.U0,this.HZ,A,c);O.o2(t,o,3);O.q.SG("norm",o,c,A,c,c,1)}}else if(n=="qselect"){var e3=this.HZ,eE=e3.m,ec=e3.e,gw=eE*ec,bl=this.Oi.L5(),E=this.U0,cD=P.Me.P6,t=cD.JS;
t.fill(128);for(var l=0;l<gw;l++){var a$=bl[l<<2],hJ=bl[(l<<2)+3];if(hJ==255&&(a$==0||a$==255))t[l]=a$}t[0]=t[eE-1]=0;
t[(ec>>>1)*eE]=t[(ec>>>1)*eE+eE-1]=0;P.kp.zv(cD,!0);w.P={rect:e3,channel:cD.P.slice(0)};w.Ii=!0}if(S==null){if(e)O.o2(V,A,3);
O.j1(A,c,q.buffer,q.rect)}else P.sT.aJ(A,c,S)};P.sT.$Y=function(){return null};P.sT.B7=function(w,n,H,y,c){var Q=w*(1/255),q=y+n*Math.pow(Q,H),S=Math.round(q*c+Q*(255-c));
return Math.max(0,Math.min(255,S))};P.sT.pJ=function(w,n,H,y,c){var Q=O.R(c.O());Q.fill(H);O.qS(w,n,Q,c);
y.fill(255);O.Bk(Q,y)};P.sT.aJ=function(w,n,H){var y=O.R(n.O());O._i(w,y);O.qS(y,n,H.channel,H.rect)};
P.Me=function(w,n,H){P.rG.call(this,w,n,H);this.kT={binop:0,feat:0,cstr:{lG:0,x:3,y:2},wconf:[16,!0,!0],anta:!0,sall:!1};
this.Pz=new ce(-1,-1);this.dL=new ce(-1,-1);this.oW="default";this.ZZ=null;this.Eq=!1;this.ij=new j6;
this.Un=!1;this.BH=null;this.VT=null;this.S8=!1;this.Dx=!1};P.Me.prototype=new P.rG;P.Me.prototype.ayQ=function(){var w=this.kT,n=[w.binop,w.feat];
if(this.id==P.XZ)n.push(w.wconf);return n};P.Me.prototype.as3=function(w,n,H){var y=this.kT;y.binop=w[0];
y.feat=w[1];y.wconf=w[2];this.oZ(H)};P.Me.prototype.oZ=function(w){var n=new aL(M.E.L,!0);n.data={d:M.c.Hi,G:this.id,kT:this.kT};
w.S(n)};P.Me.P6={key:""};P.Me.Vc=function(w,n,H){var y={fd:w,ei:{classID:"setd",null:{t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]}}};
if(n)y.ei.T=n;if(H!=null)y.ei.AntA={t:"bool",v:H};return y};P.Me.re=function(w,n,H){return P.Me.Vc("set",{t:"Objc",v:{classID:w,Top:{t:"UntF",v:{type:"#Pxl",val:n.y}},Left:{t:"UntF",v:{type:"#Pxl",val:n.x}},Btom:{t:"UntF",v:{type:"#Pxl",val:n.y+n.e}},Rght:{t:"UntF",v:{type:"#Pxl",val:n.x+n.m}}}},H)};
P.Me.jV=function(w,n,H){var y=[],c=[],q="set";for(var l=0;l<w.length;l+=2){y.push(w[l]);c.push(w[l+1])}var Q={t:"Objc",v:{classID:"Plgn",Pts:{t:"ObAr",v:{classID:"Pnt",arr:[{id:"Hrzn",type:"UnFl",uID:"#Pxl",arr:y},{id:"Vrtc",type:"UnFl",uID:"#Pxl",arr:c}]}}}};
if(n)q=["set","addTo","subtractFrom","interfaceWhite"][n];return P.Me.Vc(q,Q,H)};P.Me.acF=function(w,n,H){var y={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Pxl",val:w.x}},Vrtc:{t:"UntF",v:{type:"#Pxl",val:w.y}}}},c=P.Me.Vc("set",y);
c.ei.Tlrn={t:"long",v:n[0]};c.ei.AntA={t:"bool",v:n[1]};c.ei.Cntg={t:"bool",v:n[2]};if(H==!0)c.ei.Mrgd={t:"bool",v:H};
return c};P.Me.pd=function(w){return P.Me.Vc("set",{t:"enum",v:{Ordn:w?"Al":"None"}})};P.Me.oN=function(w,n,H){var y={classID:"null"};
if(w!="border")y.selectionModifyEffectAtCanvasBounds={t:"bool",v:H};var c={e:"By",c:"By",b:"Wdth",f:"Rds",s:"Rds"}[w[0]];
y[c]={t:"UntF",v:{type:"#Pxl",val:n}};return{fd:w,ei:y}};P.Me.aaG=function(w,n,H){var y={t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]},c={t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:n}}]};
if(H)c.v.push({t:"name",v:{classID:"Lyr",val:H}});var Q=[{classID:"null",null:y,T:c},{classID:"null",null:c,T:y},{classID:"null",null:c,From:y},{classID:"null",null:c,With:y}],q=["set","add","subtract","interfaceIconFrameDimmed"];
return{fd:q[w],ei:Q[w]}};P.Me.ase=function(w,n){var H=new aL(M.E.L,!0);H.data={d:M.c.Yj,PY:h6.$T};if(!n.OH)w.S(H);
H.data={d:M.c.Yj,PY:h6.Gh};if(!n.al.wH)w.S(H)};P.Me.prototype.dZ=function(w,n,H,y,c){P.Me.ase(n,c);this.ZZ=n;
var Q=w.d,q,S,A=new cr(0,0,H.m,H.e),d4=!1,bK,bC,gW,dn;if(Q=="fromAction"){var V=w.nG,e=V.fd,d=V.ei,N=d?d.selectionModifyEffectAtCanvasBounds:null,b=N&&N.v;
if(e=="colorRange"){if(d.Clrs){var z=d.Clrs.v.Clrs,v=0,T=255,Y=["Shdw","Mdtn","Hghl"].indexOf(z),E=.4;
if(Y==0)T=60;else if(Y==1){v=100;T=150}else v=190;var g=["shadows","midtones","highlights"][Y],R=d[g+"LowerLimit"],h=d[g+"UpperLimit"];
if(R)v=R.v;if(h)T=h.v;var G=d[g+"Fuzziness"];if(G)E=G.v/100;q=P.Me.x8(H,v,T,E,!0)}else{var v=d.Mnm.v,T=d.Mxm.v,E;
v={qm:v.Lmnc.v,iL:v.A.v,k:v.B.v};T={qm:T.Lmnc.v,iL:T.A.v,k:T.B.v};E=d.Fzns.v/200;q=P.Me.x8(H,v,T,E)}S=[7,8]}else if(e=="inverse"){if(H.P==null){alert("No selection!");
return}q={channel:O.R(A.O()),rect:A};O.qS(H.P.channel,H.P.rect,q.channel,q.rect);O.G$(q.channel);S=[7,2]}else if(e=="expand"){var k=d.By.v.val,$=H.P.rect.clone();
$.i_(k,k);var p=O.R($.O()),X=O.R($.O());O.qS(H.P.channel,H.P.rect,X,$);O.style.stroke(X,p,$,k);q={channel:p,rect:$};
S=[7,4]}else if(e=="contract"){var k=d.By.v.val,C=H.P.rect.clone();C.i_(1,1);if(!b)C=C.Fa(A);var X=O.R(C.O()),D=O.R(X.length);
O.qS(H.P.channel,H.P.rect,X,C);O.G$(X);O.style.stroke(X,D,C,k);O.G$(D);q={channel:D,rect:C};O.KU(q);
S=[7,5]}else if(e=="border"){var k=d.Wdth.v.val;q=P.Me.a8V(H.P,k/2,k/2);S=[7,9]}else if(e=="feather"||e=="smoothness"){var k=d.Rds.v.val;
q=P.Me.agW(H.P,k,e=="smoothness",A,b);S=e=="feather"?[7,6]:[19,3,0]}else if(e=="move"){var o=d.T.v,$=H.P.rect.clone();
$.x+=o.Hrzn.v.val;$.y+=o.Vrtc.v.val;q={channel:H.P.channel,rect:$};S=[7,7]}else if(e=="grow"||e=="similar"){var t=this.kT.wconf.slice(0);
if(d.Tlrn)t[0]=d.Tlrn.v;t[2]=e=="grow";var u=H.E$(),m=new cr(0,0,H.m,H.e),U=H.P.rect,I=Math.round(Math.sqrt(U.O())/10),x=O.R(m.O());
O.qS(H.P.channel,U,x,m);var J=[];for(var r=0;r<U.e;r+=I)for(var Z=(U.O()+r)%I;Z<U.m;Z+=I)if(H.P.channel[r*U.m+Z]==255){var f=new ce(U.x+Z,U.y+r);
J.push(f);if(t[2])O.w8.ld(P.s1.Gq(u,m,f,null,t),x,x)}if(!t[2])O.w8.ld(P.s1.Gq(u,m,f,P.s1.AV(u,m,J),t),x,x);
q={channel:x,rect:m};S=e=="grow"?"Grow Selection":"Similar Selection";console.log(d)}else{var F=d.null.v,_=d.AntA!=null&&d.AntA.v;
function K(iO){var dN=iO.Top.v.val,cU=iO.Left.v.val;return new cr(cU,dN,iO.Rght.v.val-cU,iO.Btom.v.val-dN)}function B(iO){var dN=iO[0].arr,aG=iO[1].arr,iA={w:[],T:[]};
for(var l=0;l<dN.length;l++){iA.T.push(l==0?"M":"L");iA.w.push(dN[l],aG[l])}iA.T.push("Z");return iA}var ij=["set","addTo","subtractFrom","interfaceWhite"].indexOf(e),W=d.T?d.T.v:null;
if(W&&W.classID=="Elps"){q=this.aj5(P.yB.a4c(K(W)));S=[10,4]}else if(W&&W.classID=="Rctn"){var L=K(W);
q={channel:O.R(L.O()),rect:L.clone()};q.channel.fill(255);S=[10,15]}else if(W&&W.classID=="ObSl"){var L=K(W),i=P.Me.P6,e3=i.rect,eE=i.JS,ec=e3.m,gw=e3.e,bl=L.x-e3.x,cD=bl+L.m-1,a$=Math.max(bl,Math.min(cD,bl+cD>>>1)),hJ=L.y-e3.y,ei=hJ+L.e-1,df=Math.max(hJ,Math.min(ei,hJ+ei>>>1)),bM=Math.max(bl,0),ib=Math.min(cD,ec),fI=Math.max(hJ,0),eU=Math.min(ei,gw);
eE.fill(128);if(0<=hJ)for(var Z=bM;Z<ib;Z++)eE[hJ*ec+Z]=0;if(ei<gw)for(var Z=bM;Z<ib;Z++)eE[ei*ec+Z]=0;
if(0<=bl)for(var r=fI;r<eU;r++)eE[r*ec+bl]=0;if(cD<ec)for(var r=fI;r<eU;r++)eE[r*ec+cD]=0;var gK=P.tc.a2P,bs=Math.round(L.m*gK),km=Math.round(L.e*gK);
for(var Z=Math.max(0,a$-bs);Z<Math.min(ec,a$+bs);Z++)eE[df*ec+Z]=255;for(var r=Math.max(0,df-km);r<Math.min(gw,df+km);
r++)eE[r*ec+a$]=255;P.kp.zv(i,!0);q={channel:i.P.slice(0),rect:e3.clone()};S=[10,44]}else if(W&&W.classID=="Plgn"){q=this.aj5(B(W.Pts.v.arr));
S=[10,9]}else if(W&&W.classID=="Pnt"){q=P.s1.aa0(H,new ce(W.Hrzn.v.val,W.Vrtc.v.val),[d.Tlrn.v,_,d.Cntg==null||d.Cntg.v],d.Mrgd?d.Mrgd.v:!1);
S=[10,12]}else if(W&&W.Ordn=="None"){q=null;S=[7,1]}else if(W&&W.Ordn=="Al"){var aJ=A;if(H.g.length!=0){var ip=H.root.wO(H.g[0]);
while(ip.parent&&ip.parent.parent)ip=ip.parent;if(ip.j.add.artb)aJ=ip.j.oC()}q={channel:O.R(aJ.O()),rect:aJ};
q.channel.fill(255);S=[7,0]}else if(W&&W[0]&&W[0].v.keyID=="WrPt"){var fl={d:"frompath",Vm:[-1,0,0]};
this.dZ(fl,n,H,y,c);return}else{var b3=["set","add","subtract","interfaceIconFrameDimmed"].indexOf(e),dY=e=="set"?W:F,k4=dY[0].v.enum,fl;
if(k4=="Trsp"||k4=="Msk"||k4=="vectorMask"||k4=="Trgt"){var aK=H.g[0];if(dY.length==2)aK=ih.aI(H,dY[1]);
var jK=["Trsp","Msk","vectorMask"].indexOf(k4);if(k4=="Trgt"&&H.B[aK].Ks==1)jK=1;fl={d:"fromlayer",Vm:[aK,jK,b3]}}else{if(dY[0].t=="name"){var aK=0;
for(var l=0;l<H.d4.length;l++)if(H.d4[l].name==dY[0].v.val)aK=l;fl={d:"fromchannel",Vm:[-5-aK,0,b3]}}else{var ay=["RGB","Rd","Grn","Bl"].indexOf(k4);
fl={d:"fromchannel",Vm:[-1-ay,0,b3]}}}this.dZ(fl,n,H,y,c);return}if(q){if(!_)O.round(q.channel);if(d.Fthr)q=P.Me.agW(q,d.Fthr.v.val,!1);
if(e!="set"&&H.P!=null)q=O.w8.D9(q,H.P,ij)}}if(e=="expand"||e=="contract")if(!b&&!A.contains(q.rect)){var f8=q.rect.Fa(A),gN=O.R(f8.O());
O.qS(q.channel,q.rect,gN,f8);q.channel=gN;q.rect=f8}}if(Q=="qmask"){d4=!0;var fq=H.LM(),m=new cr(0,0,H.m,H.e);
if(fq){q=fq.rect.Hw(m)&&O.lS(fq.channel,255)?null:{rect:fq.rect.clone(),channel:fq.channel.slice(0)};
bK=fq}else{q=null;bC=new a.ZV;bC.color=0;bC.name="Quick Mask";bC.SC=!0;if(H.P){bC.rect=H.P.rect.clone();
bC.channel=H.P.channel.slice(0)}else{bC.rect=m;bC.channel=O.R(bC.rect.O());bC.channel.fill(255)}}S=[6,6,1];
H.zi=!0}if(Q=="setsel"){q=w.P;S=w.hG}if(Q=="crange"){var v=w.Py,T=w.Gk;q=P.Me.x8(H,v,T,w.xf);S=[7,8]}if(Q=="fromlayer"||Q=="fromchannel"||Q=="frompath"){var jN=w.Vm[0],jK=w.Vm[1],ij=w.Vm[2];
if(Q=="fromlayer"){if(jN==null)jN=H.g[0];var cU=H.B[jN];if(jK==0){var jb=cU.rect,ac=cU.buffer;if(jb._G())return;
var a_=O.R(ac.length>>>2);O.RR(ac,a_,3);q={channel:a_,rect:jb.clone()}}else{if(cU.z==null)cU.qL(H);var h5=jK==1?cU.LZ():cU.z;
q=P.Me.aoD(h5,A)}this.track(P.Me.aaG(ij,["Trsp","Msk"][jK],cU.getName()))}else if(Q=="frompath"){var jz=H._e(),jj=jz[1],jz=jz[0],bt=!0;
if(jN==null)if(jz.length==0||jj.length==0)return;var jy=jz[jj[0]];if(jN!=null)for(var l=0;l<jz.length;
l++)if(jz[l].cm==jN)jy=jz[l];var h5=jy.add.vmsk.LZ(),g0=h5.fH();if(g0.O()==0)return;var a_=h5.ra();if(w.Vm[3]!=null)bt=w.Vm[3];
if(!bt){a_=a_.slice(0);O.round(a_)}gW=[JSON.stringify(H.SV),JSON.stringify(H.t7)];dn=["[]","[]"];H.SV=[];
H.t7=[];q={channel:a_,rect:g0}}else{if(jN==null)jN=P.Me.alX(H);q=P.Me.aa3(H,jN)}if(ij!=0&&H.P)q=O.w8.D9(q,H.P,ij);
S=[14,11]}if(q!=null&&O.lS(q.channel,0)){q=null;S=[7,1]}if(q)O.KU(q);var kl=new dq(S,this);kl.data={d:"changesel",Cr:H.P,Ee:q,LM:d4,akJ:bK,awW:bC,h9:gW,afh:dn};
H.c0(kl);this.KC(kl.data,H)};P.Me.alX=function(w){var n=0;if(w.np.length!=0)n=-5-w.np[0];else if(JSON.stringify(w.u.vE)=="[1,1,1]")n=-1;
else n=-2-w.u.vE.indexOf(1);return n};P.Me.aa3=function(w,n){var H,y=new cr(0,0,w.m,w.e);if(-5<n&n<0){var c=-n-1,Q=w.E$(),q=O.R(y.O());
if(c==0)O._i(Q,q);else O.RR(Q,q,c-1);H={channel:q,rect:y.clone()}}if(n<-4){H=P.Me.aoD(w.d4[-n-5],y)}return H};
P.Me.aoD=function(w,n){var H,y;if(w.cH()==0){y=w.fH().clone();if(y.O()==0)return;H=w.ra()}else{y=n;H=O.R(y.O());
w.iU(y,H)}return{channel:H,rect:y}};P.Me.prototype.U8=function(w){return this.Un||w.iO&&this.id!=P.Y4};
P.Me.prototype.ZX=function(w,n,H){var y=new aL(n,!0);y.data=H;w.S(y)};P.Me.prototype.amJ=function(w,n){var H=new aL(M.E.L,!0);
H.data={d:M.c.N4,Xn:n};w.S(H)};P.Me.prototype.fH=function(w,n,H){n=w.P==null||this.ij.RZ(1)||this.ij.tV(1)?n:null;
var y=this.Pz,c=this.dL;if(H){y.x=Math.max(0,Math.min(w.m,y.x));y.y=Math.max(0,Math.min(w.e,y.y));c.x=Math.max(0,Math.min(w.m,c.x));
c.y=Math.max(0,Math.min(w.e,c.y))}var Q=P.FQ.Uu(y,c,n,!0,this.kT.cstr),q=Q[0].x,S=Q[0].y,A=new cr(q,S,Q[1].x-q,Q[1].y-S);
if(H){A.x=Math.max(A.x,0);A.y=Math.max(A.y,0)}return A};P.Me.prototype.mO=function(w,n,H,y,c){this.Dx=!0;
if(this.u6())return;this.ZZ=n;this.Eq=!1;this.ij.mO(y);this.Pz=w.u.Sb(c.x,c.y);this.Pz=P.xz.Ov(w,this.Pz,H);
if(this.au$(w,this.Pz,y)){this.Un=!0;this.BH=w.P.rect.clone();return}this.A9(w,H,y,c);w.u.HW=new cr};
P.Me.prototype.au$=function(w,n,H){var y=H.l(b8.fx),c=H.l(b8.FO);if(w.P&&!y&&!c&&this.kT.binop==0)return O.Z3(n,w.P.channel,w.P.rect);
return!1};P.Me.prototype.C9=function(w,n,H,y,c){this.ZZ=n;if(this.S8)return;var Q=w.u.Sb(c.x,c.y);if(ce.Re(this.Pz,Q)*w.u.N>5){this.Eq=!0;
this.ij.C9()}if(y.l(b8.QQ)){if(this.VT==null)this.VT=new ce(Q.x-this.Pz.x,Q.y-this.Pz.y);this.Pz.x=Q.x-this.VT.x;
this.Pz.y=Q.y-this.VT.y}else this.VT=null;this.dL=Q;if(!this.Un)this.dL=P.xz.Ov(w,this.dL,H);if(this.au$(w,this.dL,y))this.amJ(n,"move");
else this.amJ(n,this.oW);if(this.Un){var q=this.BH.clone();q.x+=this.dL.x-this.Pz.x;q.y+=this.dL.y-this.Pz.y;
var S=P.xz.YY(w,q,H);w.P.rect.x=Math.round(this.dL.x-this.Pz.x+this.BH.x+S[0]);w.P.rect.y=Math.round(this.dL.y-this.Pz.y+this.BH.y+S[1]);
w.Ii=!0;P.xz.IF(w,q,S);return}this.jf(w,H,y,c,n);if(w.u.HW)w.u.HW=this.fH(w,y)};P.Me.prototype.u6=function(){return!1};
P.Me.prototype.sh=function(w,n,H,y,c,Q){var q=this.Dx;this.Dx=!1;if(Q||!q)return;w.u.HW=null;this.dL=w.u.Sb(c.x,c.y);
this.dL=P.xz.Ov(w,this.dL,H);if(this.Un){this.Un=!1;if(w!=null&&w.I.lC){w.I.lC=null;w.Va=!0}if(this.dL.Hw(this.Pz)&&this.NL()==0){this.ZX(n,M.E.dp,P.Me.pd());
return}this.apr(w,this.BH,w.P.rect.clone());return}this.Cw(w,H,y,c,n);P.Me.ase(n,H);this.ij.sh();this.Rr(n)};
P.Me.prototype.apr=function(w,n,H){var y=w.H_();if(y!=null&&y.G==this&&y.data.d=="movesel"){}else{y=new dq([7,7],this);
y.data={d:"movesel",k2:n};w.c0(y)}y.data.cW=H;this.KC(y.data,w)};P.Me.prototype.QP=function(w,n,H,y,c){this.S8=!0};
P.Me.prototype.Qz=function(w,n,H,y,c){var Q=new aL(M.E.L,!0);Q.data={d:M.c.Hi,G:this.id,nu:c,UE:w,KM:H};
n.S(Q);this.S8=!1};P.Me.prototype.QI=function(w,n,H,y){this.ij.QI(y);if(w!=null&&w.P!=null){var c=y.oY();
if(c.x!=0||c.y!=0){var Q=w.P.rect.clone();Q.x+=c.x;Q.y+=c.y;this.apr(w,w.P.rect.clone(),Q)}}this.Rr(n)};
P.Me.prototype.Rr=function(w){var n=new aL(M.E.L,!0);n.data={d:M.c.Hi,G:this.id,AX:this.NL()};w.S(n)};
P.Me.prototype.NL=function(){var w=this.ij.RZ(0),n=this.ij.tV(0);return P.Me.wd(this.kT.binop,w,n)};
P.Me.wd=function(w,n,H){if(n)w=1;if(H)w=2;if(n&&H)w=3;return w};P.Me.prototype.finish=function(w,n,H,y){var c=w.P,Q=this.getSelection(w,n,H,y);
if(Q==null)Q=P.Me.pd();else{var q=this.kT.feat,S=this.NL();if(q!=0)Q.ei.Fthr={t:"UntF",v:{type:"#Pxl",val:q}};
if(S!=0&&S!=4)Q.fd=["","addTo","subtractFrom","interfaceWhite",""][S]}this.ZX(this.ZZ,M.E.dp,Q);this.Pz.HV(-1,-1);
this.dL.HV(-1,-1)};P.Me.prototype.getSelection=function(w,n,H,y){return null};P.Me.prototype.A9=function(w,n,H,y){};
P.Me.prototype.jf=function(w,n,H,y){};P.Me.prototype.Cw=function(w,n,H,y){};P.Me.prototype.LL=function(w,n){var H=w.d;
if(H=="changesel")n.P=w.Cr;if(H=="movesel")n.P.rect=w.k2;if(w.LM){if(w.akJ){n.np=[n.d4.length];n.d4.push(w.akJ)}else{n.d4.pop();
n.np=[]}}if(w.h9){n.SV=JSON.parse(w.h9[0]);n.t7=JSON.parse(w.h9[1])}n.Ii=!0};P.Me.prototype.KC=function(w,n){var H=w.d;
if(H=="changesel")n.P=w.Ee;if(H=="movesel")n.P.rect=w.cW;if(w.LM){if(w.awW){n.np=[n.d4.length];n.d4.push(w.awW)}else{n.d4.pop();
n.np=[]}}if(w.h9){n.SV=JSON.parse(w.afh[0]);n.t7=JSON.parse(w.afh[1])}n.Ii=!0};P.Me.prototype.ro=function(w){this.kT=w.kT};
P.Me.prototype.aj5=function(w){var n=O.p.w1(w.w);if(n._G())return null;var H=O.Ke(n.m,n.e);H.save();
H.beginPath();H.translate(-n.x,-n.y);Typr.U.pathToContext({cmds:w.T,crds:w.w},H);H.closePath();H.fill();
H.restore();var y=O.R(n.O()),c=H.getImageData(0,0,n.m,n.e);O.RR(c.data,y,3);return{rect:n,channel:y}};
P.Me.agW=function(w,n,H,y,c){if(H)n=Math.round(n*.7);var Q=Math.ceil(2.6*n),q=w.rect.clone();q.i_(Q,Q);
if(y&&!c)q=q.Fa(y);var S=O.R(q.O()),A=O.R(S.length);O.qS(w.channel,w.rect,A,q);O.CU.Tw(A,S,q,n);if(H){var V=S.length;
for(var l=0;l<V;l++){var e=(S[l]-128)*n*2.5;S[l]=Math.max(0,Math.min(255,Math.round(128+e)))}}return{channel:S,rect:q}};
P.Me.a8V=function(w,n,H){var y=Math.max(1,Math.ceil(H)),c=w.rect.clone();c.i_(y,y);var Q=c.O(),q={channel:O.R(Q),rect:c},S=O.R(Q);
O.qS(w.channel,w.rect,S,q.rect);if(H!=0)O.style.stroke(S,q.channel,q.rect,H);else O.Bq(S,q.channel);
var A=O.R(Q);O.G$(S);if(n!=0)O.style.stroke(S,A,q.rect,n);else O.Bq(S,A);O.w8.Fa(q.channel,A,q.channel);
return q};P.Me.x8=function(w,n,H,y,c){var Q=new cr(0,0,w.m,w.e),q=w.E$();if(w.P){var S=w.P.rect.Fa(Q),A=O.R(S.O()*4);
O.j1(q,Q,A,S);Q=S;q=A}var V=Q.O(),e=O.R(V),d=1/y;if(c){if(n>=H)n=H-1;var N=n*(1-y),b=n,z=H,v=H+(255-H)*y,T=N==b?0:1/(b-N),Y=z==v?0:1/(v-z);
for(var l=0;l<V;l++){var g=l<<2,R=O.LC(q[g],q[g+1],q[g+2]),h=0;if(R<N)h=0;else if(R<b)h=(R-N)*T;else if(R<=z)h=1;
else if(R<=v)h=1-(R-z)*Y;else h=0;e[l]=q[g+3]*h*h}}else for(var l=0;l<V;l++){var g=l<<2,E=O.eT(q[g],q[g+1],q[g+2]),h=O.SQ(E,n,H,y,d);
e[l]=q[g+3]*h}return{rect:Q,channel:e}};P.MM=function(){P.sT.call(this,[10,18],P.ly,"tools/blur");this.Lt="copy"};
P.MM.prototype=new P.sT;P.MM.prototype.mO=function(w,n,H,y,c){var Q=y.l(b8.FO)?cn.B_:cn.ly;this.$G(w,H,y,c,this.kT.strn,Q);
if(this.Oi==null)return;this.Jw(w)};P.MM.prototype.C9=function(w,n,H,y,c){this.u2(w,n,H);if(this.bO)this._f(w,H,c);
if(this.Oi==null)return;if(!c.iO)return;this.nc(w,H,y,c);this.Jw(w)};P.a7=function(){P.sT.call(this,[10,0],P.p6,"tools/brush");
this.Lt="draw"};P.a7.prototype=new P.sT;P.a7.prototype.mO=function(w,n,H,y,c){if(this.Ig(y,n,c))return;
this.$G(w,H,y,c,this.kT.flow);if(this.Oi==null)return;this.Jw(w)};P.a7.prototype.C9=function(w,n,H,y,c){this.u2(w,n,H);
if(this.bO)this._f(w,H,c);if(this.Oi==null)return;if(!c.iO)return;this.nc(w,H,y,c);this.Jw(w)};P.bo=function(){P.sT.call(this,[10,42],P.dQ,"tools/crepl");
this.Lt="idraw";this.kT.bmode="hue "};P.bo.prototype=new P.sT;P.bo.prototype.mO=function(w,n,H,y,c){if(this.Ig(y,n,c))return;
this.$G(w,H,y,c,this.kT.flow);if(this.Oi==null)return;this.Jw(w)};P.bo.prototype.C9=function(w,n,H,y,c){this.u2(w,n,H);
if(this.bO)this._f(w,H,c);if(this.Oi==null)return;if(!c.iO)return;this.nc(w,H,y,c);this.Jw(w)};P.w7=function(){P.sT.call(this,[10,43],P.bp,"tools/redeye");
this.kT.smode=0;this.Lt="redeye"};P.w7.prototype=new P.sT;P.w7.prototype.mO=function(w,n,H,y,c){this.$G(w,H,y,c,this.kT.flow);
if(this.Oi==null)return;this.Jw(w)};P.w7.prototype.C9=function(w,n,H,y,c){this.u2(w,n,H);if(this.bO)this._f(w,H,c);
if(this.Oi==null)return;if(!c.iO)return;this.nc(w,H,y,c);this.Jw(w)};P.XH=function(){P.sT.call(this,[10,38],P.BJ,"tools/pencil");
this.Lt="draw"};P.XH.prototype=new P.sT;P.XH.prototype.mO=function(w,n,H,y,c){if(this.Ig(y,n,c))return;
this.$G(w,H,y,c,this.kT.flow);if(this.Oi==null)return;this.Jw(w)};P.XH.prototype.C9=function(w,n,H,y,c){this.u2(w,n,H);
if(this.bO)this._f(w,H,c);if(this.Oi==null)return;if(!c.iO)return;this.nc(w,H,y,c);this.Jw(w)};P.H9=function(){P.sT.call(this,[10,22],P.NG,"tools/burn");
this.Lt="burn"};P.H9.prototype=new P.sT;P.H9.prototype.mO=function(w,n,H,y,c){this.$G(w,H,y,c,this.kT.expo/Math.E);
if(this.Oi==null)return;this.Jw(w)};P.H9.prototype.C9=function(w,n,H,y,c){this.u2(w,n,H);if(this.bO)this._f(w,H,c);
if(this.Oi==null)return;if(!c.iO)return;this.nc(w,H,y,c);this.Jw(w)};P.oB=function(w,n,H){P.sT.call(this,w==""?null:w?w:[10,1],n?n:P.bX,H?H:"tools/clone");
this.Lt="clone";this.V9=null;this.Q=null};P.oB.prototype=new P.sT;P.oB.prototype.mO=function(w,n,H,y,c){var Q=this.kT,q=Q.alt[0];
if(y.l(b8.FO)||y.l(b8.Ek)||q){this.V9=w.u.Sb(c.x,c.y);this.Q=null;if(q)this.NO({alt:[!1]},n);this.Sz(w);
this.ZY(H,y,w,c);return}if(this.V9==null){alert(hV.get([15,7,0]));return}this.ZY(H,y);this.$G(w,H,y,c,this.kT.flow);
if(this.Oi==null)return;this.Q=this.agF(w.u.Sb(c.x,c.y));this.Jw(w)};P.oB.prototype.agF=function(w){var n=this.Q;
if(n==null||!this.kT.algnd)n=new ce(Math.round(w.x-this.V9.x),Math.round(w.y-this.V9.y));return n};P.oB.prototype.C9=function(w,n,H,y,c){this.u2(w,n,H);
if(this.bO)this._f(w,H,c);if(this.Oi==null){if(this.V9!=null)this.ZY(H,y,w,c);return}if(!c.iO||this.V9==null)return;
this.nc(w,H,y,c);this.Jw(w)};P.oB.prototype.$Y=function(){return this.Q};P.RP=function(w,n,H){P.rG.call(this,w,n,H);
this.uF={JF:{lG:0,x:0,y:0},_6:!1};this.di=!1;this.dC=null;this.cursor=null;this.adf=0;this.JA=null;this.Pz=null;
this.DO=null;this.uh=!1};P.RP.prototype=new P.rG;P.RP.prototype.i7=function(){return this.dC!=null};
P.RP.prototype.U8=function(w){return this.Pz!=null||this.dC&&this.dC.azh()};P.RP.prototype.mO=function(w,n,H,y,c){this.JA=c;
var Q=w.u.Sb(c.x,c.y),q=this.uF.JF,S=q.lG!=0?q.x/q.y:null,A=this.uh;this.uh=!1;if(this.dC){var V=this.dC.T$(Q,w.u.N);
if(A&&V==null){this.dC.clear(w);this.dC=null}else{this.dC.mO(w,H,y,Q,S,!1,c);return}}this.Pz=P.xz.Ov(w,Q,H)};
P.RP.prototype._1=function(w,n,H){if(H==null)H=[w.x,w.y,w.x+w.m,w.y,w.x+w.m,w.y+w.e,w.x,w.y+w.e];return new jA(H,!0,!1,this.id==P.JJ,!0,n,this.id==P.JJ?2:0,this.id==P.JJ?4:3)};
P.RP.prototype.ZY=function(w){var n=new aL(M.E.L,!0);n.data={d:M.c.N4,Xn:this.cursor};w.S(n)};P.RP.prototype.enable=function(w,n,H,y){this.ZZ=n;
this.cursor="crosshair";this.ZY(n);if(w!=null&&this.dC==null){var c=w.P?{TC:"cropby",a3A:3}:{TC:"config",uF:this.uF,aqo:!0};
this.ro(c,n,w,y,H);if(w.P==null&&this.uF.JF.lG==0)this.uh=!0}};P.RP.prototype.C9=function(w,n,H,y,c){this.JA=c;
var Q=w.u.Sb(c.x,c.y);if(!c.iO){var q="crosshair";if(this.dC){var S=this.dC.T$(Q,w.u.N,null,c);if(S)q=S;
else q="default"}if(q!=this.cursor){this.cursor=q;this.ZY(n)}}if(this.dC)this.dC.C9(w,H,y,Q);else if(this.Pz){if(this.di){w.I.lJ={T:["M","L"],w:[this.Pz.x,this.Pz.y,Q.x,Q.y]}}else{var A=P.FQ.Uu(this.Pz,P.xz.Ov(w,Q,H),y,!0,this.uF.JF),V=A[0].x,e=A[0].y,d=this.DO=new cr(V,e,A[1].x-V,A[1].y-e);
w.I.lJ=O.p.u3(d);P.rG.j6(c,d,w,H)}w.Va=!0}};P.RP.am2=function(w,n,H){var y,c,S,A;if(n<=H){y=n;c=H}else{y=H;
c=n}var Q=w-Math.floor((w+Math.PI)/(2*Math.PI))*2*Math.PI;Q=Math.abs(Q);if(Q>Math.PI/2)Q=Math.PI-Q;var q=y/(c*Math.sin(Q)+y*Math.cos(Q));
if(n<=H){S=y*q;A=c*q}else{S=c*q;A=y*q}return{pV:S,WZ:A}};P.RP.prototype.sh=function(w,n,H,y,c){this.JA=c;
var Q=w.u.Sb(c.x,c.y);if(this.dC==null){var q=this.DO;if(this.Pz&&(q||this.di)){if(this.di){var S=this.Pz,A=Q;
if(S.x>A.x){var V=S;S=A;A=V}var S=Math.atan2(-(A.y-S.y),A.x-S.x),e=P.RP.am2(S,w.m,w.e),d=[0,0,e.pV,0,e.pV,e.WZ,0,e.WZ],N=new b7;
N.translate(-e.pV/2,-e.WZ/2);N.rotate(S);N.translate(w.m/2,w.e/2);O.p.D(d,N,d);this.dC=this._1(q,!1,d);
w.I.lJ=null;this.di=!1}else{var b=this.uF.JF;this.dC=this._1(q,b.lG!=0)}this.dC.lW(w,H);this.DO=null;
this.ZX(n,M.E.L,{d:M.c.Hi,G:this.id,E3:!0});this.Pz=null;w.I.n7=[];w.Va=!0}return}this.dC.sh(w,H,y,Q);
this.ZX(n,M.E.L,{d:M.c.Hi,G:this.id,E3:!0});var d=this.dC.VO();if(Math.abs(d[0]-d[4])<2&&Math.abs(d[1]-d[5])<2){this.disable(w,n,null,y);
return}if(Date.now()-this.adf<200&&this.dC.DQ(Q)){this.xo(w,H);this.disable(w,n,H,y);return}this.adf=Date.now()};
P.RP.prototype.QI=function(w,n,H,y){var c=this.dC;if(c==null||this.JA&&this.JA.iO)return;if(y.l(b8.IO)){this.xo(w,H);
this.disable(w,n,H,y)}else if(y.l(b8.RN)){this.disable(w,n,H,y)}else c.QI(w,H,y)};P.RP.aoO=function(w,n,H){var y={classID:"null",T:{t:"Objc",v:{classID:"Rctn",Top:{t:"UntF",v:{type:"#Pxl",val:w[1]}},Left:{t:"UntF",v:{type:"#Pxl",val:w[0]}},Btom:{t:"UntF",v:{type:"#Pxl",val:w[1]+w[3]}},Rght:{t:"UntF",v:{type:"#Pxl",val:w[0]+w[2]}}}},Angl:{t:"UntF",v:{type:"#Ang",val:n!=null?n:0}},Dlt:{t:"bool",v:H!=null?H:!0},cropAspectRatioModeKey:{t:"enum",v:{cropAspectRatioModeClass:"pureAspectRatio"}},CnsP:{t:"bool",v:!1}};
return{fd:"crop",ei:y}};P.RP.oU=function(w,n){if(n==null)n=[!0,!0,!0,!0];var H={classID:"trim",trimBasedOn:{t:"enum",v:{trimBasedOn:["topLeftPixelColor","bottomRightPixelColor","Trns"][w]}}},y=["Top","Left","Btom","Rght"];
for(var l=0;l<4;l++)H[y[l]]={t:"bool",v:n[l]};return{fd:"trim",ei:H}};P.RP.auW=function(w,n,H,y){var c={classID:"null"};
if(y!=null){c.Wdth={t:"UntF",v:{type:"#Pxl",val:w}};c.Hght={t:"UntF",v:{type:"#Pxl",val:n}};c.Intr={t:"enum",v:{Intp:["Nrst","Blnr","bicubicSharper"][y]}}}if(H!=null)c.Rslt={t:"UntF",v:{type:"#Rsl",val:H}};
return{fd:"imageSize",ei:c}};P.RP.agJ=function(w,n,H){if(H==null)H=4;var y=Math.floor(H/3),c=H%3;return{fd:"canvasSize",ei:{classID:"null",Wdth:{t:"UntF",v:{type:"#Pxl",val:w}},Hght:{t:"UntF",v:{type:"#Pxl",val:n}},Hrzn:{t:"enum",v:{HrzL:["Left","Cntr","Rght"][c]}},Vrtc:{t:"enum",v:{VrtL:["Top","Cntr","Btom"][y]}}}}};
P.RP.prototype.dZ=function(w,n,H,y,c){var Q=new cr(0,0,H.m,H.e),q=[11,3],S=H.uP,A=H.m/2,V=H.e/2,e=1,F,_,K;
if(w.d=="fromAction"){var d=w.nG,N=d.fd,b=d.ei,z=H.m/H.e,v=b.Wdth?b.Wdth.v.val:-1,T=b.Hght?b.Hght.v.val:-1,S=b.Rslt?b.Rslt.v.val:null,Y=b.Wdth?b.Wdth.v.type:b.Hght?b.Hght.v.type:-1,g=1,R;
if(Y=="#Prc"){if(v!=-1)v=Math.round(H.m*v/100);if(T!=-1)T=Math.round(H.e*T/100)}if(N=="imageSize"){if(b.Intr){if(b.Intr.v.Intp=="Nrst")g=0;
if(b.Intr.v.Intp=="bicubicSharper")g=2;if(v==-1&&T==-1){var h=S/H.uP;v=Math.round(H.m*h);T=Math.round(H.e*h)}if(b.CnsP&&b.CnsP.v){if(v==-1)v=Math.round(T*z);
if(T==-1)T=Math.round(v/z)}}else{if(Y=="#Prc")S=Math.round(H.uP*(H.m/v));else if(Y==-1)S=Math.round(S);
else throw"e";v=H.m;T=H.e}R={d:"imgsize",Js:v,Nc:T,ud:S,yV:g}}else if(N=="canvasSize"){if(v==-1)v=H.m;
if(T==-1)T=H.e;if(b.Rltv&&b.Rltv.v==!0){if(b.Wdth)v+=H.m;if(b.Hght)T+=H.e}var E=b.Vrtc?b.Vrtc.v.VrtL:"Cntr",G=b.Hrzn?b.Hrzn.v.HrzL:"Cntr";
R={d:"canvsize",Js:v,Nc:T,An:3*["Top","Cntr","Btom"].indexOf(E)+["Left","Cntr","Rght"].indexOf(G)}}else if(N=="revealAll"){R={d:"revealAll"}}else if(N=="trim"){var k={topLeftPixelColor:0,bottomRightPixelColor:1,Trns:2}[b.trimBasedOn.v.trimBasedOn];
if(k==null)throw"e";var $=["Top","Left","Btom","Rght"],p=[!0,!0,!0,!0];for(var l=0;l<4;l++)if(b[$[l]])p[l]=b[$[l]].v;
R={d:"trim",awb:k,Nt:p}}else if(N=="crop"){var X,C,D,o;if(b.T){var t=b.T.v,X=Math.round(t.Left.v.val),C=Math.round(t.Top.v.val),D=Math.round(t.Rght.v.val)-X,o=Math.round(t.Btom.v.val)-C}else{var u=H.P.rect;
X=u.x;C=u.y;D=u.m;o=u.e}R={d:"canvsize",Js:D,Nc:o,Q:new ce(X,C),a54:b.Dlt!=null&&b.Dlt.v}}else console.log(d);
if(R)this.dZ(R,n,H,y,c);return}else if(w.d=="imgsize"){Q=new cr(0,0,w.Js,w.Nc);if(w.ud)S=w.ud;e=w.yV}else if(w.d=="canvsize"){var m=w.An!=null?w.An:0;
Q=new cr(0,0,w.Js,w.Nc);var U=H.m-w.Js,I=H.e-w.Nc,x=Math.round(U/2),J=Math.round(I/2);if(m==1||m==4||m==7)Q.x=x;
if(m==2||m==5||m==8)Q.x=U;if(m==3||m==4||m==5)Q.y=J;if(m==6||m==7||m==8)Q.y=I;if(w.Q){Q.x=w.Q.x;Q.y=w.Q.y}}else if(w.d=="rot"&&(w.Z+2*Math.PI)%(Math.PI/2)!=0){var r=O.p.u3(Q).w,Z=new b7;
Z.translate(-A,-V);Z.rotate(w.Z);Z.translate(A,V);O.p.D(r,Z,r);Q=O.p.w1(r)}else if(w.d=="rot"&&w.Z!=Math.PI&&w.Z!=-Math.PI){Q=new cr(A-H.e/2,V-H.m/2,H.e,H.m);
if((H.m+H.e&1)==1){A=Math.floor(A);V=Math.floor(V);Q=new cr(A-Math.floor(H.e/2),V-Math.floor(H.m/2),H.e,H.m);
if((H.m&1)==1&&w.Z!=-Math.PI/2)Q.y--;if((H.e&1)==1&&w.Z==-Math.PI/2)Q.x--}}else if(w.d=="trim"){q=[11,12,0];
var f=H.E$(),u=new cr(0,0,H.m,H.e);Q=O.od(f,u,w.awb,w.Nt);if(Q._G())Q=u}else if(w.d=="revealAll"){q=[11,12,2];
Q=H.root.fH(H,!0)}var B=w.d=="canvsize"&&w.a54;if(w.d=="imgsize"||w.d=="rot"||w.d=="scl"||B){var ij=new b7;
if(w.d=="imgsize"){q=[11,10];ij.scale(w.Js/H.m,w.Nc/H.e);K=H._P();for(var l=0;l<K[0].length;l++)K[0][l][1]*=K[0][l][0]==0?ij.iL:ij.Du}else if(B){}else{ij.translate(-A,-V);
if(w.d=="rot")ij.rotate(w.Z);if(w.d=="scl")ij.scale(w.Z.x,w.Z.y);ij.translate(A,V);q=w.hG}_=O.K.og(ij);
F=this.f4(H,c,!0,_,e,B?Q:null)}else if(w.d=="auto-align"){if(H.g.length<2){alert("Select two or more layers.");
return}var W=[];for(var l=0;l<H.g.length;l++){var L=H.B[H.g[l]];if(!L.QG()&&L.add.SoLd==null){alert("Unsupported layer selected.");
return}if(L.rect._G()){alert("Empty layer selected.");return}W.push([L.buffer,L.rect])}var i=O.SN.i2(W,0);
if(i==null){alert("No similarity found.");return}_=i[1];var e3=H.g;H.g=H.g.slice(1);F=this.f4(H,c,!1,i.slice(1),e);
H.g=e3;Q=H.root.fH(H,!0);q=[2,10,1]}var eE=new cr(0,0,H.m,H.e);if(!Q._G()&&(!Q.Hw(eE)||F!=null)){var ec=new dq(q,this);
ec.data={ata:H.uP,ud:S,Jt:F,eA:_,In:P.RP.ae4(H,Q,eE,F!=null)};if(K){ec.data.al7=H._P();ec.data.akI=K}P.RP.a36(H,ec.data,Q);
H.c0(ec);this.KC(ec.data,H)}};P.RP.ae4=function(w,n,H,y){if(w.B0.length==0)return null;var c=JSON.stringify(w.B0),Q=JSON.parse(c);
P.pI.aic(Q,n,H,y);Q=JSON.stringify(Q);return[c,Q]};P.RP.prototype.f4=function(w,n,H,y,c,Q){var q={B:[],nE:null,OG:null};
if(H){for(var l=0;l<w.B.length;l++)q.B.push(l);for(var l=0;l<w.Wh.length;l++)q.B.push(-1-l);for(var l=0;
l<w.d4.length;l++)q.B.push(-1e3-l)}else q.B=w.g.slice(0);q.nE=P.WJ.AH(w,q.B,!0);P.WJ.If(w,n,q.B,q.nE,c,y,null,!0,Q);
q.OG=P.WJ.AH(w,q.B,!0);return q};P.RP.prototype.KC=function(w,n){if(w.ud)n.uP=w.ud;if(w.In)n.B0=JSON.parse(w.In[1]);
if(w.Jt){P.RP.Rm(n,O.K.iK(w.eA));P.WJ.GH(n,w.Jt.B,w.Jt.OG);if(w.akI)n.da(w.akI)}P.RP.Ez(n,w)};P.RP.prototype.LL=function(w,n){if(w.ata)n.uP=w.ata;
if(w.In)n.B0=JSON.parse(w.In[0]);P.RP.K9(n,w);if(w.ET)n.u.Q.aK(w.ET);n.ah7();if(w.Jt){var H=O.K.iK(w.eA).clone();
H.G$();P.RP.Rm(n,H);P.WJ.GH(n,w.Jt.B,w.Jt.nE);if(w.al7)n.da(w.al7)}};P.RP.Rm=function(w,n){for(var l=0;
l<w.B.length;l++){var H=w.B[l];if(H.add.artb==null)continue;var y=O.p.u3(H.oC()).w;O.p.D(y,n,y);var c=O.p.w1(y);
H.ws(c)}};P.RP.eS=function(w){var n=new cr,H=0,y=w.root.children.length;for(var l=0;l<y;l++){var c=w.root.children[l].j;
if(c.add.artb==null)continue;n=n.ld(c.oC());H++}var Q=new cr(0,0,w.m,w.e);if(!n._G()&&!Q.Hw(n))return n;
return null};P.RP.U6=function(w){var n=P.RP.eS(w);if(n)P.RP._6(w,n,!0);return n};P.RP._6=function(w,n,H){var y=w.m,c=w.e,Q=n.m,q=n.e,S=n.x==0&&n.y==0;
if(S&&y==Q&&c==q)return;w.m=Q;w.e=q;var A=[];for(var l=0;l<w.B.length;l++)A.push(l);if(!S)P.xz.Om(w,A,null,-n.x,-n.y);
for(var l=0;l<w.B.length;l++){w.B[l].qL(w)}w.ah7();if(H){var V=w.u.Q,e=w.u.N;V.x+=Math.round((n.x+(Q-y)/2)*e);
V.y+=Math.round((n.y+(q-c)/2)*e)}else w.u.Q.HV(0,0);if(w.P)w.P.rect.offset(-n.x,-n.y);var d=w._P();for(var N=0;
N<d[0].length;N++)if(d[1][N]==-1){var b=w.V_[N];b[1]-=b[0]==0?n.x:n.y}for(var l=0;l<w.d4.length;l++)w.d4[l].rect.offset(-n.x,-n.y)};
P.RP.prototype.ro=function(w,n,H,y,c){if(w.TC=="commit"){this.xo(H,c);this.disable(H,n,null,y)}else if(w.TC=="cancel"){this.disable(H,n,null,y)}var Q=null,q=new cr(0,0,H.m,H.e),S=this.uF.JF;
if(w.TC=="config"){this.uF=w.uF;S=this.uF.JF;if(H==null||!w.aqo)return;Q=q;if(S.lG==1){var A=S.x/S.y;
if(Q.m/A<Q.e)Q.e=Math.round(Q.m/A);else Q.m=Math.round(Q.e*A)}if(S.lG==2){Q.m=S.x;Q.e=S.y}Q.x=Math.round((H.m-Q.m)/2);
Q.y=Math.round((H.e-Q.e)/2)}if(w.TC=="straighten"){alert("Draw a line in the image.");this.di=!0}if(w.TC=="cropby"){if(H==null)return;
var V=w.a3A,Q;if(V==0)Q=H.root.fH(H,!0);if(V==1){if(H.g.length==0)alert("No layer is selected.");else{var e=H.root.wO(H.g[0]);
Q=e.fH(H,!0)}}if(V==2){if(H.g.length==0)alert("No layer is selected.");else{Q=O.od(H.E$(),q,0);if(Q._G())Q=q.clone()}}if(V==3){if(H.P!=null)Q=H.P.rect;
else alert("There is no selection.")}if(V==4){Q=new cr(0,0,H.m,H.e)}}if(Q&&Q._G())Q=null;if(Q!=null){this.dC=this._1(Q,S.lG!=0);
this.dC.lW(H,c);this.ZX(n,M.E.L,{d:M.c.Hi,G:this.id,E3:!0})}};P.RP.prototype.xo=function(w,n){var H=this.dC.VO(),y=O.p.w1(H),c=this.aiK(w,H),Q=!1,q=this.uF.JF,S=this.uF._6,A=q.x,V=q.y,N;
if(this.id==P.yR&&q.lG==2&&c.O()!=A*V){c=new cr(c.x,c.y,A,V);Q=!0}var e=O.K.gU(H,c);e=O.K.G$(e);var d=O.K.gr(e),b=Math.atan2(e[3],e[0]);
if(Math.abs(b)>1e-9||!d||Q||S)N=this.f4(w,n,!0,e,1,y);var z=new dq(this.name,this),v=new cr(0,0,w.m,w.e);
z.data={Jt:N,eA:e,ET:w.u.Q.clone(),In:P.RP.ae4(w,c,v,!1)};P.RP.a36(w,z.data,c);w.c0(z);this.KC(z.data,w);
this.track(P.RP.aoO([y.x,y.y,y.m,y.e],null,S))};P.RP.a36=function(w,n,H){if(H==null)return;n.k2=new cr(0,0,w.m,w.e);
n.cW=H};P.RP.Ez=function(w,n){if(n.cW==null)return;P.RP._6(w,n.cW)};P.RP.K9=function(w,n){if(n.cW==null)return;
var H=n.k2.clone();H.offset(-n.cW.x,-n.cW.y);P.RP._6(w,H)};P.RP.prototype.aiK=function(w,n){var H=O.K.gU(n),y=O.K.gr(H),c=O.K.iK(H),Q=c.qH,q=c.fp,S=Math.atan2(c.k,c.iL);
c.rotate(S);var A=new cr(Q,q,c.iL,c.Du);if(!y){function V(R,l,h){var E=R[l]-R[h],G=R[l+1]-R[h+1];return Math.sqrt(E*E+G*G)}var e=V(n,0,2),d=V(n,4,6),N=Math.max(e,d),b=V(n,2,4),z=V(n,6,0),v=Math.max(b,z),T=P.RP.aiF(n,w.m/2,w.e/2),Y,g;
if(isNaN(T)||T==Infinity||T==-Infinity||Math.min(T,1/T)<.1)T=(e+d)/(b+z);if(N/v>T){Y=N*1;g=Y/T}else{g=v*1;
Y=g*T}A.m=Y;A.e=g}A.x=Math.round(A.x);A.y=Math.round(A.y);A.m=Math.round(A.m);A.e=Math.round(A.e);return A};
P.RP.aiF=function(w,n,H){var y=w[0]-n,c=w[1]-H,Q=w[2]-n,q=w[3]-H,S=w[6]-n,A=w[7]-H,V=w[4]-n,e=w[5]-H,d=((c-e)*S-(y-V)*A+y*e-c*V)/((q-e)*S-(Q-V)*A+Q*e-q*V),N=((c-e)*Q-(y-V)*q+y*e-c*V)/((A-e)*Q-(S-V)*q+S*e-A*V),b=-((N*A-c)*(d*q-c)+(N*S-y)*(d*Q-y))/((N-1)*(d-1));
function z(T){return T*T}var v=Math.sqrt((z(d-1)+z(d*q-c)/b+z(d*Q-y)/b)/(z(N-1)+z(N*A-c)/b+z(N*S-y)/b));
if(d==1&&N==1)v=Math.sqrt((z(q-c)+z(Q-y))/(z(A-c)+z(S-y)));return v};P.RP.prototype.disable=function(w,n,H,y){if(w==null)return;
if(this.dC)this.dC.clear(w);this.dC=null;this.ZX(n,M.E.L,{d:M.c.Hi,G:this.id,E3:!1})};P.RP.prototype.ZX=function(w,n,H,y){var c=new aL(n,!0);
c.data=H;if(y)c.G=y;w.S(c)};P.ayL=function(){P.RP.call(this,[10,2],P.yR,"tools/rcrop")};P.ayL.prototype=new P.RP;
P.a1E=function(){P.RP.call(this,[10,39],P.JJ,"tools/pcrop")};P.a1E.prototype=new P.RP;P.Ia=function(){P.sT.call(this,[10,21],P.TY,"tools/dodge");
this.Lt="dodge"};P.Ia.prototype=new P.sT;P.Ia.prototype.mO=function(w,n,H,y,c){this.$G(w,H,y,c,this.kT.expo/Math.PI);
if(this.Oi==null)return;this.Jw(w)};P.Ia.prototype.C9=function(w,n,H,y,c){this.u2(w,n,H);if(this.bO)this._f(w,H,c);
if(this.Oi==null)return;if(!c.iO)return;this.nc(w,H,y,c);this.Jw(w)};P.v0=function(){P.sT.call(this,[10,3],P.XN,"tools/eraser");
this.Lt="erase"};P.v0.prototype=new P.sT;P.v0.prototype.mO=function(w,n,H,y,c){this.$G(w,H,y,c,this.kT.flow);
if(this.Oi==null)return;this.Jw(w)};P.v0.prototype.C9=function(w,n,H,y,c){this.u2(w,n,H);if(this.bO)this._f(w,H,c);
if(this.Oi==null)return;if(!c.iO)return;var Q=this.nc(w,H,y,c);this.Jw(w)};P.lx=function(){P.sT.call(this,[10,45],P.Sd,"tools/beraser");
this.Lt="ierase"};P.lx.prototype=new P.sT;P.lx.prototype.mO=function(w,n,H,y,c){if(this.Ig(y,n,c))return;
this.$G(w,H,y,c,this.kT.flow);if(this.Oi==null)return;this.Jw(w)};P.lx.prototype.C9=function(w,n,H,y,c){this.u2(w,n,H);
if(this.bO)this._f(w,H,c);if(this.Oi==null)return;if(!c.iO)return;this.nc(w,H,y,c);this.Jw(w)};P.eR=function(){P.Me.call(this,[10,15],P.pj,"tools/rselect");
this.oW="crosshair"};P.eR.prototype=new P.Me;P.eR.prototype.jf=function(w,n,H,y){if(!y.iO||!this.Eq)return;
var c=this.fH(w,H,!0);w.I.lJ=O.p.u3(c);w.Va=!0;P.rG.j6(y,c,w,n)};P.eR.prototype.Cw=function(w,n,H,y){w.I.lJ=null;
w.I.n7=[];w.Va=!0;this.finish(w,n,H,y)};P.eR.prototype.getSelection=function(w,n,H,y){if(this.Pz.Hw(this.dL)||!this.Eq)return null;
var c=this.fH(w,H,!0);if(c._G())return null;return P.Me.re("Rctn",c,this.kT.anta)};P.yB=function(){P.Me.call(this,[10,4],P.atJ,"tools/eselect");
this.oW="crosshair"};P.yB.prototype=new P.Me;P.yB.prototype.jf=function(w,n,H,y){if(!y.iO||!this.Eq)return;
var c=this.fH(w,H);w.I.lJ=P.yB.a4c(c);w.Va=!0;P.rG.j6(y,c,w,n)};P.yB.prototype.Cw=function(w,n,H,y){w.I.lJ=null;
w.I.n7=[];w.Va=!0;this.finish(w,n,H,y)};P.yB.prototype.getSelection=function(w,n,H,y){if(this.Pz.Hw(this.dL)||!this.Eq)return null;
var c=this.fH(w,H);if(!c.QW(new cr(0,0,w.m,w.e)))return null;return P.Me.re("Elps",c,this.kT.anta)};
P.yB.a4c=function(w){var n=w.x,H=w.y,y=w.x+w.m,c=w.y+w.e,Q=(n+y)/2,q=(H+c)/2,S=(n-y)/2,A=(H-c)/2,V=.5522848,e={w:[Q,q-A],T:["M","C","C","C","C"]};
e.w.push(Q+V*S,q-A,Q+S,q-V*A,Q+S,q);e.w.push(Q+S,q+V*A,Q+V*S,q+A,Q,q+A);e.w.push(Q-V*S,q+A,Q-S,q+V*A,Q-S,q);
e.w.push(Q-S,q-V*A,Q-V*S,q-A,Q,q-A);return e};P.Xd=function(w){P.rG.call(this,[10,5],w?P.yL:P.om,"tools/eyedropper");
this.tX=null;this.Q5=0;this.WM=null;this.hx=1;this.NV=2;this.amo=!0;this.N_=!1};P.Xd.prototype=new P.rG;
P.Xd.prototype.U8=function(w){return w.iO};P.Xd.prototype.dZ=function(w,n,H,y,c){if(w.d=="pickhere")this.ab(H,n,c,null,w.asR);
if(w.d=="supertool")this.tX=w.G};P.Xd.prototype.mO=function(w,n,H,y,c){var Q=this.tX;if(Q){Q.mO(w,n,H,y,c);
return}this.Q5=H.Ni;this.WM=c;var q=this.ab(w,null,H,y,c);this.ZY(w,n,q,c)};P.Xd.prototype.C9=function(w,n,H,y,c){var Q=this.tX;
if(Q){Q.C9(w,n,H,y,c);return}var q=this.WM;if(q){var S=c.x-q.x,A=c.y-q.y,V=1,e=new ce(q.x+S*V,q.y+A*V),d=this.ab(w,null,H,y,e);
this.ZY(w,n,d,e,new ce(S*(1-V),A*(1-V)))}};P.Xd.prototype.ZY=function(w,n,H,y,c){var Q=this.amo,q=this.N_,V=12,e=11;
if(w.u.N>4)q=!1;if(!q&&!Q)return;if(c==null)c=new ce(0,0);var S=new cr(0,0,w.m,w.e),A=w.E$(),d=(V*2+1)*e,N=new ce(d/2,d/2),b=new cr(0,0,d,d),z=O.R(b.O()*4),v=w.u.Sb(y.x,y.y),T=Math.floor(v.x),Y=Math.floor(v.y),g=new b7;
g.scale(1/e,1/e);g.translate(T-V,Y-V);if(q)O.scale.c8(A,S,g,z,b);var R=(V-3.4)*e,h=(V-1.7)*e,E=V*e;for(var G=0;
G<d;G++)for(var k=0;k<d;k++){var $=ce.Re(new ce(k,G),N);if($>R){if(Q){var p=Math.max(0,R-$+1),X=(G*d+k)*4,C=z[X+3]<<24|z[X]<<16|z[X+1]<<8|z[X+2],D=255<<24|(G<E+e*.5?H:this.Q5);
if($>h){p=Math.max(0,h-$+1);C=D;D=4286611584}else if(!q){C=D&16777215}z[X+0]=(1-p)*(D>>>16&255)+p*(C>>>16&255);
z[X+1]=(1-p)*(D>>>8&255)+p*(C>>>8&255);z[X+2]=(1-p)*(D>>>0&255)+p*(C>>>0&255);z[X+3]=(1-p)*(D>>>24&255)+p*(C>>>24&255)}if($>E){z[(G*d+k)*4+3]=Math.max(0,255*(E-$+1))}}}function o(l){var K=l<<2;
z[K]=0;z[K+1]=0;z[K+2]=0;z[K+3]=255}function t(l){var K=l<<2;z[K]=255;z[K+1]=255;z[K+2]=255;z[K+3]=255}var u=this.hx*e+2,m=d-u>>>1,U=m+u-1;
if(q&&u<d)for(var l=0;l<u;l++){var I=m*d+m+l,x=U*d+m+l,J=(m+l)*d+m,r=(m+l)*d+U;o(I);o(x);o(J);o(r);if(l!=0&&l!=u-1){t(I+d);
t(x-d);t(J+1);t(r-1)}}if(!q)for(var l=-9;l<=9;l++){if(-3<l&&l<3)continue;var Z=d>>>1,k=Z*d+Z+l,G=(Z+l)*d+Z;
t(k-d);o(k);t(k+d);t(G-1);o(G);t(G+1)}var f=P.rG.yE(0,0,["#"+O.w9(H),"RGB "+(H>>>16&255)+","+(H>>>8&255)+","+(H>>>0&255)]),S=f[1];
S.y=0;S.x=d-S.m>>>1;O.j1(f[0],S,z,b);var F={c1:z,U2:b,_O:new ce(N.x+c.x,N.y+c.y)},_=new aL(M.E.L,!0);
_.data={d:M.c.N4,Xn:F};n.S(_)};P.Xd.prototype.sh=function(w,n,H,y,c,Q){this.ab(w,n,H,y,c);var q=this.tX;
if(q){q.sh(w,n,H,y,c);return}if(this.WM){this.WM=null;if(Q)this.ab(w,n,H,y,c,this.Q5);var S=new aL(M.E.L,!0);
S.data={d:M.c.N4,Xn:"default"};n.S(S)}};P.Xd.prototype.ab=function(w,n,H,y,c,Q){if(Q==null)Q=P.Xd.SS(w,c,this.hx,this.NV);
var q=new aL(M.E.L);q.data={d:M.c.Yj,PY:h6.Fz,cl:y&&y.l(b8.FO)?1:0,Z:Q};if(n)n.S(q);return Q};P.Xd.SS=function(w,n,H,y){if(y==null)y=2;
var c=w.u.Sb(n.x,n.y),Q,q,S=w.g.length==1&&w.B[w.g[0]].Ks>0,A=w.np.length!=0,h=0,E=0,G=0;if(S||A){var V;
if(A)V=w.d4[w.np[0]];else{var e=w.B[w.g[0]];V=e.Ks==1?e.LZ():e.aij()}q=V.fH();if(!q.yo(c))return V.color==0?0:16777215;
Q=O.R(q.O()*4);Q.fill(255);var d=V.ra();O.Bk(d,Q)}else if(y==0&&w.g.length!=0){var e=w.B[w.g[0]];Q=e.buffer;
q=e.rect}else{Q=y==2?w.E$():w.E$(w.g[0]);q=new cr(0,0,w.m,w.e)}var N=Math.floor(c.x)-q.x,b=Math.floor(c.y)-q.y,z=(H-1)/2,v=Math.max(0,N-z),T=Math.max(0,b-z),Y=Math.min(q.m,N+z+1),g=Math.min(q.e,b+z+1),R=(Y-v)*(g-T);
for(var N=v;N<Y;N++)for(var b=T;b<g;b++){var l=4*(b*q.m+N);h+=Q[l];E+=Q[l+1];G+=Q[l+2]}h=Math.round(h/R);
E=Math.round(E/R);G=Math.round(G/R);return h<<16|E<<8|G};P.Xd.prototype.ro=function(w){var n=w.kT;this.hx=[1,3,5,11,31][n[0]];
this.NV=n[1];this.amo=n[2];this.N_=n[3]};P.H2=function(){P.rG.call(this,[10,6],P.Dn,"tools/gradient");
this.kT={M:JSON.parse(d5.n0.avu).v,fw:"Lnr",XR:!1,MT:!1,ao0:"norm",wi:1};this.YQ=!1;this.mg=null};P.H2.prototype=new P.rG;
P.H2.prototype.enable=function(w,n,H,y){var c=new aL(M.E.L,!0);c.data={d:M.c.N4,Xn:"default"};n.S(c)};
P.H2.prototype.ro=function(w){this.kT=w.PY};P.H2.prototype.mO=function(w,n,H,y,c){if(!w.BG())return;
this.mg=w.u.Sb(c.x,c.y);this.mg=P.xz.Ov(w,this.mg,H);this.YQ=!0};P.H2.prototype.C9=function(w,n,H,y,c){if(!this.YQ)return;
var Q=w.u.Sb(c.x,c.y);Q=P.xz.Ov(w,Q,H);if(y.l(b8.fx))Q=P.H2.bL(this.mg,Q);w.I.lJ={w:[this.mg.x,this.mg.y,Q.x,Q.y],T:["M","L"]};
w.I.aN=[this.mg.x,this.mg.y,Q.x,Q.y];w.Va=!0};P.H2.prototype.sh=function(w,n,H,y,c){if(!this.YQ)return;
var Q=w.B[w.g[0]],q=w.u.Sb(c.x,c.y);q=P.xz.Ov(w,q,H);if(y.l(b8.fx))q=P.H2.bL(this.mg,q);var S=q.Hy(this.mg),A=ce.Gu(this.mg,q,.5),V=Math.atan2(S.y,S.x),e=ce.Re(this.mg,q),d=Math.sin(V),N=Math.cos(V);
if(e>2){var b;if(w.P)b=w.P.rect;else b=new cr(0,0,w.m,w.e);var z=O.R(b.O()*4),v=this.kT,T=v.fw;if(T!="Lnr"){e*=2;
A=this.mg}O.M.DN(v.M,z,b,[N*1/e,d*1/e,-d*1/e,N*1/e],A.x,A.y,v.XR,d5.M.types.indexOf(T),H.Ni,H.uu,null,v.MT);
var Y=Math.round(v.wi*256),g=z.length;if(Y!=256)for(var l=0;l<g;l+=4)z[l+3]=z[l+3]*Y>>>8;var R=new aL(M.E.v);
R.G=P.XN;R.data={d:"fillBMP",Ka:z,$X:v.ao0,hG:this.name};n.S(R)}w.I.lJ=null;w.I.aN=[];w.Va=!0;this.YQ=!1};
P.H2.prototype.dZ=function(w,n,H,y,c){function Q(N){N=N.v;var b=N.Hrzn.v.val,z=N.Vrtc.v.val;return H.u.Cc(b,z)}if(w.d=="fromAction"){var q=this.kT,S=this.kT={};
for(var A in q)S[A]=q[A];var V=w.nG.ei;if(V.Opct)S.wi=V.Opct.v.val/100;if(V.Dthr)S.MT=V.Dthr.v;if(V.Grad)S.M=V.Grad.v;
if(V.Type)S.fw=V.Type.v.GrdT;var e=Q(V.From),d=Q(V.T);this.mO(H,n,c,y,e);this.sh(H,n,c,y,d);this.kT=q}};
P.H2.bL=function(w,n){if(w.Hw(n))return w;var H=n.x-w.x,y=n.y-w.y,c=Math.abs(H),Q=Math.abs(y);if(c>Q)Q=c/2>Q?0:c;
if(Q>c)c=Q/2>c?0:Q;c=H>0?c:-c;Q=y>0?Q:-Q;var q=Math.sqrt(H*H+y*y)/Math.sqrt(c*c+Q*Q);return new ce(w.x+c*q,w.y+Q*q)};
P.H2.zT=function(w,n,H,y,c,Q,q){var S=new cr(0,0,n,H),A=O.R(n*H*4);O.DE(A,n,H,4);var V=Math.sin(y),e=Math.cos(y),d=O.R(n*H*4);
O.M.DN(w,d,S,[e*1/n,V*1/n,-V*1/H,e*1/H],n/2,H/2,!1,0,c,Q);O.q.SG("norm",d,S,A,S,S,1);if(q)q.putImageData(new ImageData(new Uint8ClampedArray(A.buffer),n,H),0,0);
else return cb.m8(A.buffer,n,H,null,null,!0)};P.H2.adT=function(w,n,H){var y=JSON.parse(JSON.stringify(w));
if(y.Clrs)for(var l=0;l<y.Clrs.v.length;l++){var c=y.Clrs.v[l].v,Q=c.Type.v.Clry;if(Q=="UsrS")continue;
var q=Q=="FrgC"?n:H;c.Type.v.Clry="UsrS";c.Clr={t:"Objc",v:O.M.Yw({b:q>>16&255,J:q>>8&255,k:q&255})}}return y};
P.RT=function(){P.rG.call(this,[10,7],P.em,"tools/hand");this.QH=!1;this.WM=new ce(0,0);this.$o=null;
this.vO=0};P.RT.prototype=new P.rG;P.RT.prototype.ro=function(w,n,H,y){this.QH=w.QH};P.RT.prototype.dZ=function(w,n,H,y,c){var Q=w.d;
if(Q=="setcls"){H.u.vE=w.vE;H.Va=!0;H.qF=!0}if(Q=="scroll"&&!y.l(b8.FO)){if(y.l(b8.NX))P.RT.EI(H,H.u.Q.x-w.c5.y,H.u.Q.y-w.c5.x);
else P.RT.EI(H,H.u.Q.x-w.c5.x,H.u.Q.y-w.c5.y)}};P.RT.prototype.enable=function(w,n,H,y){this.$o=null;
var c=new aL(M.E.L,!0);c.data={d:M.c.N4,Xn:"grab"};n.S(c);if(w&&Date.now()-this.vO<300){c.type=M.E.v;
c.G=P.uD;c.data={d:"adapt",Z:"fitscr"};n.S(c)}this.vO=Date.now()};P.RT.prototype.mO=function(w,n,H,y,c){this.$o=w.u.Q.clone();
this.WM.HV(c.x,c.y)};P.RT.prototype.C9=function(w,n,H,y,c){if(!c.iO)return;if(this.$o==null)this.mO(w,n,H,y,c);
var Q=this.QH?n.oE:[w];for(var l=0;l<Q.length;l++)P.RT.EI(Q[l],this.$o.x+(c.x-this.WM.x),this.$o.y+(c.y-this.WM.y))};
P.RT.prototype.sh=function(w,n,H,y,c){this.$o=null};P.RT.EI=function(w,n,H){var y=w.u.N,c=w.u.GN,Q=c.m,q=c.e,S=w.m*y,A=w.e*y,V=S<Q&&A<q,e=Q/2+S/2-64,d=q/2+A/2-64;
w.u.Q.HV(Math.max(-e,Math.min(e,n)),Math.max(-d,Math.min(d,H)));w.qF=!0};P.Ts=function(){P.rG.call(this,[10,47],P.xy,"tools/rview");
this.WM=new ce(0,0);this.Jm=null;this.cE=null;this.vO=0};P.Ts.prototype=new P.rG;P.Ts.prototype.enable=function(w,n,H,y){this.$o=null;
var c=new aL(M.E.L,!0);c.data={d:M.c.N4,Xn:"grab"};n.S(c);if(w&&Date.now()-this.vO<300&&w.u.db!=0){w.u.db=0;
w.Va=!0}this.vO=Date.now();if(w)this.xR(w,n)};P.Ts.prototype.disable=function(w,n,H,y,c){if(w)this.xR(w,n)};
P.Ts.prototype.Pq=function(w,n,H,y){if(w)this.xR(w,n)};P.Ts.prototype.mO=function(w,n,H,y,c){this.WM.HV(c.x,c.y);
var Q=w.u;this.Jm=Q.Sb(Q.GN.m/2,Q.GN.e/2);this.cE=Q.ZP();var q=Q.Sb(Q.GN.m/2,Q.GN.e/2),S=Math.min(Q.GN.m,Q.GN.e)*.35/Q.N,A=S*.2,V=q.x,e=q.y;
w.I.lJ={T:"M L L L L L".split(" "),w:[V,e,V,e-S,V+A,e,V,e+S,V-A,e,V,e-S]};w.Va=!0};P.Ts.prototype.a0L=function(w){var n=w.u,H=n.Sb(n.GN.m/2,n.GN.e/2);
w.I.lJ={T:["M","L"],w:[H.x,H.y,H.x,H.y-200]}};P.Ts.prototype.C9=function(w,n,H,y,c){if(!c.iO)return;
var Q=w.u,q=this.Jm,S=this.WM,A=new ce(Q.GN.m/2,Q.GN.e/2),V=Math.atan2(c.y-A.y,c.x-A.x),e=Math.atan2(S.y-A.y,S.x-A.x),d=Math.atan2(this.cE.k,this.cE.iL),N=V-e,b=Math.PI/4;
if(y.l(b8.fx)){N=d+b*Math.round((N-d)/b)}this.afL(w,n,this.cE.clone(),q,N)};P.Ts.prototype.sh=function(w,n,H,y,c){w.I.lJ=null;
w.Va=!0};P.Ts.prototype.ro=function(w,n,H,y){this.afL(H,n,null,null,w.lQ-H.u.db);H.u.db=w.lQ};P.Ts.prototype.afL=function(w,n,H,y,c){var Q=w.u;
if(H==null)H=Q.ZP();if(y==null)y=Q.Sb(Q.GN.m/2,Q.GN.e/2);H.translate(-y.x,-y.y);H.rotate(c);H.translate(y.x,y.y);
Q.a4G(H);if(w.m*Q.N<Q.GN.m&&w.e*Q.N<Q.GN.e)Q.Q.HV(0,0);w.Va=!0;this.xR(w,n)};P.Ts.prototype.xR=function(w,n){var H=new aL(M.E.L,!0);
H.data={d:M.c.Hi,G:this.id,lQ:w.u.db};n.S(H)};P.wx=function(){P.oB.call(this,[10,25],P.pT,"tools/hbrush")};
P.wx.prototype=new P.oB("");P.wx.prototype.sh=function(w,n,H,y,c){if(this.Oi==null)return;this.pU(w,"heal",this.Oi.L5(),this.Oi.fH(),this.Oi.xV());
this.U(w,this.Oi.xV());P.sT.prototype.sh.call(this,w,n,H,y,c);if(!this.kT.algnd)this.Q=null};P.m_=function(w){P.rG.call(this,w?["VAR0 VAR1",[22,4,1],[10,8]]:[10,8],w?P.CC:P.nr,w?"tools/vtype":"tools/htype");
this.W8=[];this.KM=null;this.caller=null;this.on=1;this.SO=null;this.am6=0;this.CH=0;this.ahG=null;this.lI=null;
this.Co=null;this.Zx=null;this.H4=null;this.Y$=null;this.aib=null;this.fQ=null;this.dC=null;this.x9=null;
this.a9b=null;this.gR=!1;this.M3=!1;this.nT=!1;this.ye=null;this.SB=null;this.anN=null;this.QL=!1;this.NI=!1;
this.gE=-1;this.$H=-1;this.Iy=document.createElement("textarea");this.Iy.setAttribute("style","font-family:Arial; font-size:14px; z-index:-1; "+" position:absolute; top:0px; left:0px;  pointer-events: none; opacity:0; width:"+(window.innerWidth-10)+"px; height:150px;");
this.Iy.addEventListener("input",this.Kr.bind(this),!1);this.Iy.addEventListener("keydown",this.a7D.bind(this),!1);
this.Iy.addEventListener("keyup",this.aur.bind(this),!1)};P.m_.prototype=new P.rG;P.m_.prototype.U8=function(w){return w.iO};
P.m_.prototype.BK=function(w,n,H,y){if(this.Co!=null||this.id==P.CC)return;this.caller=n;var c=this.a3S(w);
if(c.length!=0){var Q=null,q=[],S=[];for(var l=0;l<c.length;l++){var A=w.B[c[l]],V=A.add.TySh,e=0,d=j1.md(V.EB).length-2,N=j1.ni(V.EB,e,d);
j1.Bn(N,V.D.H5());if(N.tq.Font!=null)N.tq.Font=N.II[N.tq.Font].Name;Q=N.II;q.push(N.tq);S.push(N.AW)}var N={II:Q,tq:j1.dO(q),AW:j1.dO(S)};
if(N.tq.Font!=null)j1.Ho(N,N.tq.Font);this.am4(n,N,V)}};P.m_.prototype.a3S=function(w){var n=[];for(var l=0;
l<w.g.length;l++)if(w.B[w.g[l]]&&w.B[w.g[l]].add.TySh)n.push(w.g[l]);return n};P.m_.prototype.dZ=function(w,n,H,y,c){var Q=w.d=="insertGlyph",q=w.d=="copyText",S=w.d=="selectAll";
if((Q||q||w.d=="insertText"||S)&&this.Co){var A=Q?String.fromCharCode(65533):w.Z,V=this.Iy,e=V.value,d=V.selectionStart,N=V.selectionEnd;
if(q){f1._D(new Blob([e.slice(d,N)],{type:"text/plain"}))}else if(S){this.gE=V.selectionStart=0;this.$H=V.selectionEnd=e.length;
this.NH(H);V.focus()}else{V.value=e.slice(0,d)+A+e.slice(N);V.selectionStart=V.selectionEnd=d+A.length;
this.Kr(null,Q?w.Z:null);V.focus()}}if(w.d=="updateStyles"){if(this.Co==null){var b=this.a3S(H),z=!1;
if(b.length!=0){this.rH(H,n,c,b);for(var l=0;l<b.length;l++){var v=H.B[b[l]],T=v.add.TySh;j1.ui(T,this.on);
this.Co=v;var Y=j1.md(T.EB);this.gE=0;this.$H=Y.length-1;j1.Xe(T.EB,this.gE,this.$H,this.pA(c,T));var g=this.Pu(H,c);
if(g==!1)z=!0}if(z){this.QL=!0;return}this.ji(H,n)}return}this.rq(c)}if(w.d.startsWith("warp")){var R=this.NI;
if(w.d=="warp"||w.d=="warpCancel"){if(this.Co==null)return;if(w.d=="warp")this.Co.add.TySh.oa=w.v$;else this.Co.add.TySh.oa=this.aib;
this.Pu(H,c);if(!R)this.NH(H)}if(w.d!="warp")this.Iy.focus();if((w.d=="warpConfirm"||w.d=="warpCancel")&&R){this.NI=!1;
if(w.d=="warpConfirm")this.ji(H,n);else this.yZ(H,n)}}if(w.d=="editCurr"){if(c.ZR!=P.nr){this.SO=c.ZR;
var h=new aL(M.E.L,!0);h.data={d:M.c.DY,G:P.nr};n.S(h)}if(this.Co!=null)this.disable(H,n,c,y);this.KM=c;
this.caller=n;this.rH(H,n,c,[w.Nf]);var Y=j1.md(this.Co.add.TySh.EB);this.gE=0;this.$H=Y.length-1;this.NH(H);
this.BD();this.Iy.focus()}if(w.d=="switchPntPrgr"){if(this.Co)return;var v=H.B[H.g[0]],T=v.add.TySh,E=T.D.H5(),G=JSON.parse(JSON.stringify(T.EB)),k=j1.O_(G),$=k==1?j1.fL(G):[0,0,Math.round(v.rect.m*1.05/E),Math.round(v.rect.e*1.25/E)],p=j1.ni(G,0,0),X=p.II[p.tq.Font].Name,C=c.KF.WX(X),D=[0,$[2],$[2]/2][p.AW.Justification%3],o=C?ir.NF(C,X,p.tq):p.tq.FontSize*.8;
j1.mn(G,1-k);if(k==0){D=-D;o=-o;j1.wr(G,[0,0,$[2],$[3]])}var t=new b7(1,0,0,1,D,o);t.concat(T.D);this.dZ({mx:H.g[0],d:"newED",ln:G,D:t,azK:[16,3,k==1?0:1]},n,H,y,c)}if(w.d=="newED"){var v=H.B[w.mx],T=v.add.TySh,u=this.mE(H,[w.mx]);
T.EB=w.ln;if(w.D)T.D=w.D;if(kn.K4(T,c.KF,n)){kn.Pu(v,c.KF,H);H.U()}else H.se=!0;var m=new dq(w.azK?w.azK:this.name,this);
m.data={Kb:u,ph:this.mE(H,[w.mx])};H.c0(m)}if(w.d=="fromAction"){var U=w.nG.ei.Usng.v,I=U.TxtC.v,x=[];
for(var l=0;l<2;l++){var J=I[l==0?"Hrzn":"Vrtc"].v,A=J.val;if(J.type=="#Prc")A=(l==0?H.m:H.e)*(A/100);
x[l]=A}this.PE(H,n,c,y,H.u.Cc(x[0],x[1]),!0);var v=H.B[H.g[0]],T=v.add.TySh,r=T.EB,e=j1.md(r);j1.J9(r,0,e.length-1);
j1.Uq(r,0,U.Txt.v.replace(/\r/g,"\n"));e=j1.md(r);for(var k=0;k<2;k++){var Z=U[k==0?"Txtt":"paragraphStyleRange"].v;
for(var l=0;l<Z.length;l++){var f=Z[l].v,d=f.From.v,N=Math.min(f.T.v-1,e.length-1);f=f[k==0?"TxtS":"paragraphStyle"].v;
var F=j1.ni(r,d,N),_=k==0?F.tq:F.AW;for(var K in f){var B=f[K].v;if(K=="Sz")_.FontSize=Math.round(B.val*(B.type=="#Pnt"?H.uP/72:1));
else if(K=="fontPostScriptName")j1.Ho(F,B);else if(K=="Algn")_.Justification={Left:1,Cntr:2}[B.Alg];
else if(K=="leading")_.Leading=f[K].v.val;else if(K=="baselineShift")_.BaselineShift=f[K].v.val;else if(K=="autoLeading")_.AutoLeading=f[K].v;
else if(K=="syntheticBold")_.FauxBold=f[K].v;else if(K=="syntheticItalic")_.FauxItalic=f[K].v;else if(K=="Trck")_.Tracking=f[K].v;
else if(K=="verticalScale")_.VerticalScale=f[K].v/100;else if(K=="horizontalScale")_.HorizontalScale=f[K].v/100;
else if(K=="Clr")_.FillColor={Type:1,Values:[1,B.Rd.v/255,B.Grn.v/255,B.Bl.v/255]}}j1.Xe(r,d,N,F)}}if(kn.q2(H,c.KF,n))kn.Pu(v,c.KF,H);
else H.se=!0;H.U();this.ji(H,n)}};P.m_.prototype.rq=function(w){var n=Math.min(this.gE,this.$H),H=Math.max(this.gE,this.$H),y=this.Co.add.TySh;
j1.ui(y,this.on);var c=this.pA(w,y);j1.Xe(y.EB,n,H-1,c);var Q=this.caller.Xz(),q=this.Pu(Q,w);if(q)this.NH(Q);
if(document.activeElement.tagName.toLowerCase()!="input")this.Iy.focus()};P.m_.prototype.XT=function(w){return this.W8.indexOf(w)!=-1};
P.m_.prototype.enable=function(w,n,H,y){var c=this.Iy;n.n.appendChild(c);this.fQ="default";this.ZY(n)};
P.m_.prototype.i7=function(){return this.Co!=null};P.m_.Av=function(w,n){for(var l=w.B.length-1;l>=0;
l--){var H=w.B[l];if(H.add.TySh&&H.rect.yo(n)&&w.ayj(l)){var y=H.ox(31);return y?-2:l}}return-1};P.m_.prototype.mO=function(w,n,H,y,c){this.KM=H;
this.caller=n;var Q=w.u.Sb(c.x,c.y),q=this.Co==null;if(q){var S=P.m_.Av(w,Q);if(S==-2){alert(hV.get([6,57,0]));
return}if(S>=0&&!y.l(b8.fx)){if(!kn.K4(w.B[S].add.TySh,H.KF,n)){alert("Fonts not loaded yet");return}this.rH(w,n,H,[S])}else{this.nT=!0;
this.ye=c;return}}var A=q?-1:j1.O_(this.Co.add.TySh.EB),V=this.x9?this.x9:this.dC;if(V&&V.mO(w,H,y,Q,null,null,c)&&O.v$.Rd(this.Co.add.TySh.oa)||!q&&O.p.rf(Q,this.Co.rect)>20/w.u.N&&(A==0||A==1)){this.gR=!0;
this.SB=Q;this.anN=this.Co.add.TySh.D.clone();if(this.gE==-1&&this.$H==-1)this.gE=this.$H=this.aW(Q)}else{if(this.H4==null){alert("Fonts not loaded yet");
return}this.M3=!0;this.gE=this.$H=this.aW(Q);var e=Date.now();if(e-this.am6>300)this.CH=0;this.CH++;
this.am6=e;if(this.CH==2)this.adB();if(this.CH==3)this.ar2();if(this.CH>1){this.M3=!1}}this.BD();this.NH(w)};
P.m_.prototype.rH=function(w,n,H,y){var c=w.B[y[0]];this.Co=c;this.ZX(n,M.E.L,{d:M.c.Hi,G:this.id,TC:"showactive"});
this.Zx=y;w.g=y.slice(0);w.gm();w.nR=!0;this.Y$=this.mE(w,y);this.wS(c.add.TySh);this.Pu(w,H)};P.m_.prototype.wS=function(w){if(j1.O_(w.EB)!=1)return;
var n=j1.fL(w.EB);n=new cr(0,0,n[2]-n[0],n[3]-n[1]);var H=[n.x,n.y,n.x+n.m,n.y,n.x+n.m,n.y+n.e,n.x,n.y+n.e];
O.p.D(H,w.D,H);this.dC=new jA(H,!1,!1,!1,!0)};P.m_.prototype.adB=function(){var w=j1.md(this.Co.add.TySh.EB);
this.gE=this.axj(w,this.gE);this.$H=this.av_(w,this.gE)};P.m_.prototype.axj=function(w,n){var H=" \t\n,.?!_-+=@#$%^&*'\"(){}[]\\/<>:;|",y=[];
for(var l=0;l<H.length;l++)y.push(H.charAt(l));var c=y.indexOf(w[n])==-1?!0:!1;for(var l=n-1;l>=0;l--)if(y.indexOf(w.charAt(l))!=-1==c)return l+1;
return 0};P.m_.prototype.av_=function(w,n){var H=" \t\n,.?!_-+=@#$%^&*'\"(){}[]\\/<>:;|",y=[];for(var l=0;
l<H.length;l++)y.push(H.charAt(l));var c=y.indexOf(w[n])==-1?!0:!1;for(var l=n+1;l<w.length;l++)if(y.indexOf(w.charAt(l))!=-1==c)return l;
return w.length-1};P.m_.prototype.ar2=function(){var w=this.H4.a5z(this.gE);this.gE=w[0];this.$H=w[1]};
P.m_.prototype.ZY=function(w){var n=new aL(M.E.L,!0);n.data={d:M.c.N4,Xn:this.fQ};w.S(n)};P.m_.prototype.C9=function(w,n,H,y,c){var Q=w.u.Sb(c.x,c.y),q=this.Co;
if(!c.iO){var S="default",A=this.dC,V=this.x9?this.x9:A;if(V&&O.v$.Rd(q.add.TySh.oa)){var e=V.T$(Q,w.u.N,null,c);
if(e)S=e;else if(V==A&&A.DQ(Q))S="text"}else if(q&&O.p.rf(Q,q.rect)>20/w.u.N)S="move";else if(P.m_.Av(w,Q)>=0)S="text";
if(S!=this.fQ){this.fQ=S;this.ZY(n)}}var d=this.ye;if(this.nT&&Math.min(c.x-d.x,c.y-d.y)>4/w.u.N){this.nT=!1;
this.PE(w,n,H,y,c);q=this.Co;this.gR=!0;this.dC=new jA(null,!1,!1,!1,!0);var N=w.u.Sb(this.ye.x,this.ye.y);
N.x=Math.round(N.x);N.y=Math.round(N.y);this.dC.mO(w,H,y,N,null,null,c,w.u.db)}if(this.gR){var b=q.add.TySh;
if(this.x9){this.x9.C9(w,H,y,Q);var z=O.K.iK(O.K.gU(this.x9.VO(),this.a9b));b.D=z;this.Pu(w,H);j1.un(b)}else if(this.dC){this.dC.C9(w,H,y,Q);
var v=b.D.clone(),T=Math.atan2(v.k,v.iL);v.rotate(T);var z=O.K.iK(O.K.gU(this.dC.VO())),Y=Math.atan2(z.k,z.iL);
z.rotate(Y);if(!isNaN(z.iL)&&z.iL*z.Du-z.k*z.Mg!=0){var g=new cr(0,0,z.iL/v.iL,z.Du/v.Du),R=Math.round(g.m),h=Math.round(g.e),E=b.EB.Curve;
if(E){var G=j1.fL(b.EB),k=new b7(R/G[2],0,0,h/G[3],0,0);O.p.D(E.Points,k,E.Points);j1.un(b)}j1.wr(b.EB,[0,0,R,h]);
b.D=O.K.iK(O.K.gU(this.dC.VO(),g));this.Pu(w,H);j1.un(b)}}else{var $=Q.x-this.SB.x,p=Q.y-this.SB.y;b.D=this.anN.clone();
var X=new ce(b.D.qH+$,b.D.fp+p);X=P.xz.Ov(w,X,H);b.D.qH=X.x;b.D.fp=X.y;this.Pu(w,H)}}if(this.M3)this.$H=this.aW(Q);
if(this.gR||this.M3)this.NH(w)};P.m_.prototype.PE=function(w,n,H,y,c,Q){var q=w._e(),S=q[0],A=q[1],V=w.mX();
V.add.lnsr="rend";var e=w.B.slice(0);V.nY("Text layer "+e.length);this.Co=V;var d=w.g.length==0?w.B.length-1:w.g[w.g.length-1],N=d+1;
if(e[d].add.lsct==c0.q8)N--;this.Y$={zD:e.slice(0),Cr:w.g.slice(0)};e.splice(N,0,V);w.g=[N];this.gE=this.$H=0;
w.UF(e);this.Y$.ss=e.slice(0);this.Y$.Ee=w.g.slice(0);this.ZX(n,M.E.L,{d:M.c.Hi,G:this.id,TC:"showactive"});
var b=w.u.Sb(c.x,c.y),z=H.Qx;console.log(z);if(this.id==P.CC){z=JSON.parse(JSON.stringify(z));z.tq.BaselineDirection=1}V.add.TySh=j1.d2(b.x,b.y,z,w.u.db);
var v=V.add.TySh,T=v.EB;if(this.id==P.CC)T._LineOrientation=2;j1.ui(v,this.on);if(c.iO)j1.mn(T,1);else{j1.mn(T,0);
var Y=S[A.pop()],g=Y?Y.add.vmsk:null;if(Q)g=null;if(g&&!y.l(b8.fx)){g=g.clone();var R=g.i,E,G;for(var l=0;
l<R.length;l++)if(R[l].NB!=null)R[l].NB=0;var h=5/w.u.N;E=O.r.Z3(g.i,b,!0,h);if(E.cm==-1)E=O.r.Z3(g.i,b);
if(E.cm!=-1){j1.mn(T,1);var k=O.r.Pt(R,E.cm),$=O.r.qE(R,E.cm)-1;R=g.i=R.slice(0,2).concat(R.slice(k,k+$+1));
g.g=[];v.add={vmsk:g,vogk:a.cv(R)};T.Curve={};j1.h2(v);if(E.Hm!=null){var p=ir.je(T.Curve);O.p.D(p[0],v.D,p[0]);
var X=O.p.xA(p[0],b.x,b.y),C=H.Qx.AW.Justification;if(C==2||C==5){var D=(p[2][X]+p[3]*.5)%p[3];X=ir.MI(D,p[2])}var o=p[1][X];
o=o%$;g.Ug=[o,o];j1.h2(v)}else this.wS(v)}}}return V};P.m_.prototype.sh=function(w,n,H,y,c,Q){if(Q){this.nT=!1;
return}if(this.Co==null&&!this.nT)return;var q=w.u.Sb(c.x,c.y),S=this.nT;if(this.nT){this.nT=!1;this.PE(w,n,H,y,c);
this.M3=!0}if(this.gR||this.M3){this.NH(w);this.BD();if(S)this.rq(H)}if(this.gR&&this.dC)this.dC.sh(w,H,y,q);
this.gR=this.M3=!1;this.Iy.focus()};P.m_.prototype.BD=function(){var w=this.Co.add.TySh,n=Math.min(this.gE,this.$H),H=Math.max(this.gE,this.$H),y,c;
if(n==H){var Q=j1.md(w.EB);if(n==0||Q.charAt(n-1)=="\n")y=c=n;else y=c=n-1}else{y=n;c=H-1}var q=j1.ni(w.EB,y,c);
j1.Bn(q,w.D.H5());this.am4(this.caller,q,w)};P.m_.prototype.am4=function(w,n,H){this.ZX(w,M.E.L,{d:M.c.Yj,PY:h6.A_,Qx:n});
var y=this.on=j1.QD(H);this.ZX(this.caller,M.E.L,{d:M.c.Hi,G:this.id,TC:"changeAA",z2:y})};P.m_.prototype.Qz=function(w,n,H,y,c){if(w==null)return;
var Q=w.u.Sb(c.x,c.y),q=P.m_.Av(w,Q);if(q==-1)return;var S=new aL(M.E.L,!0);S.data={d:M.c.Hi,G:this.id,TC:"showpan",aey:this.Co!=null,Nf:q,nu:c,UE:w,KM:H};
n.S(S)};P.m_.prototype.a4U=function(){var w=this.Co;if(w&&!this.gR&&this.x9!=null){var n=this.caller.Xz();
this.x9.sh(n,this.KM,null,null);this.x9=null;this.wS(w.add.TySh);this.NH(n)}};P.m_.prototype.disable=function(w,n,H,y){var c=this.Co;
this.ji(w,n)};P.m_.prototype.ro=function(w,n,H,y,c){if(this.NI)return;if(w.TC=="commit")this.ji(H,n);
if(w.TC=="cancel")this.yZ(H,n);if(w.TC=="changeAA"){this.on=w.z2;if(H!=null)this.dZ({d:"updateStyles"},n,H,y,c)}if(w.TC=="showwarp"){if(H==null)return;
if(this.Co==null){var Q=H.B[H.g[0]],q=Q.add.TySh;if(q==null)return;this.rH(H,n,c,[H.g[0]]);this.Iy.focus();
this.NI=!0}this.aib=this.Co.add.TySh.oa;var S=new aL(M.E.L,!0);S.data={d:M.c.rL,Ln:"textwarp"};n.S(S)}};
P.m_.prototype.AB=function(w,n){if(n!=h6.Ax)return;if(this.QL){this.QL=!1;var H=this.caller.Xz(),y=this.Zx;
for(var l=0;l<y.length;l++){this.Co=H.B[y[l]];this.Pu(H,w)}this.ji(H,this.caller);return}if(this.Co)this.rq(w)};
P.m_.prototype.pA=function(w,n){var H=JSON.parse(JSON.stringify(w.Qx));j1.Bn(H,1/n.D.H5());return H};
P.m_.prototype.KC=function(w,n){if(w.Kb!=null)this.nP(n,w.ph);else this.av2(n,w.ss,w.Ee)};P.m_.prototype.LL=function(w,n){if(w.Kb!=null)this.nP(n,w.Kb);
else this.av2(n,w.zD,w.Cr)};P.m_.prototype.nP=function(w,n){for(var l=0;l<n.length;l++){var H=n[l],y=H.mx,c=w.B[y];
c.buffer=H.G_;c.rect=H.U2.clone();c.U();c.Sh.TP=null;c.Sh.path=null;var Q=c.add.TySh;Q.oa=H.v$;Q.oo=H.oo.clone();
Q.D=H.D.clone();Q.EB=JSON.parse(JSON.stringify(H.EB));c.Id()}w.U()};P.m_.prototype.mE=function(w,n){var H=[];
for(var l=0;l<n.length;l++){var y=n[l],c=w.B[y],Q=c.add.TySh;H.push({mx:y,D:Q.D.clone(),v$:JSON.parse(JSON.stringify(Q.oa)),oo:Q.oo.clone(),EB:JSON.parse(JSON.stringify(Q.EB)),G_:c.buffer.slice(0),U2:c.rect.clone()})}return H};
P.m_.prototype.av2=function(w,n,H){w.g=H;w.UF(n);w.U();w.zi=!0};P.m_.prototype.Pu=function(w,n,H){if(H==null)H=!1;
var y=this.Co.add.TySh;if(!kn.K4(y,n.KF,this.caller))return!1;if(!H){var c=j1.md(y.EB);this.Iy.value=c.slice(0,c.length-1)}var Q=this.Co.rect,q=kn.Pu(this.Co,n.KF,w);
this.H4=q[0];var S=q[1];if(O.v$.Rd(y.oa))y.oo=new cr;else{if(j1.O_(y.EB)==1){var A=j1.fL(y.EB),ds=S.oo.y;
y.oo=new cr(0,ds,A[2]-A[0],A[3]-A[1]-ds)}else y.oo=S.oo}w.C1();w.U(w.root.k8(S.U2.ld(Q),w,w.B.indexOf(this.Co)));
return!0};P.m_.prototype.Kr=function(w,n){if(this.Co==null||this.NI)return;var H=this.Iy.selectionStart,y=this.Co.add.TySh,c=j1.md(y.EB),Q=this.Iy.value+"\n",q=Math.min(this.gE,this.$H),S=Math.max(this.gE,this.$H),N=!1;
this.gE=Math.min(H,q);if(Q.length-H<c.length-this.$H)this.$H=c.length-Q.length+H;if(c!=Q){while(this.gE>0&&c.charAt(this.gE-1)!=Q.charAt(this.gE-1))this.gE--}var A=c.substring(0,this.gE),V=c.substring(this.$H,c.length),e=Q.substring(this.gE,Q.length-V.length);
j1.J9(y.EB,this.gE,this.$H);j1.Uq(y.EB,this.gE,e);if(n!=null)j1.a3v(y.EB,this.gE,n);var d=this.pA(this.KM,y),b=-1,z=Array.from(e);
for(var l=0;l<z.length;l++)b=Math.max(b,z[l].codePointAt(0));if(b!=-1&&b>128&&b!=65533&&d.tq.Font!=null){var v=d.II[d.tq.Font].Name,T=this.KM.KF.Fo(b,v,d.II);
if(v!=T){j1.Ho(d,T);N=!0}}if(this.lI!=null&&e==this.lI){var Y=JSON.parse(this.ahG);d.tq=Y.tq;d.II=Y.II;
N=!0}j1.Xe(y.EB,this.gE,this.gE+e.length-1,d);this.gE=this.$H=A.length+e.length;var g=this.caller.Xz(),R=this.Pu(g,this.KM,!0);
if(R)this.NH(g,!0);if(N)this.BD()};P.m_.prototype.aur=function(w){var n=b8;if(!w.ctrlKey)this.a4U();
w.stopPropagation()};P.m_.prototype.a7D=function(w){w.stopPropagation();var n=w.ctrlKey||w.metaKey,H=b8,A=0,V=0,R=0,t=!1;
if(this.Co==null||this.NI)return;if(this.Co==null)return;var y=this.caller.Xz();if(this.x9==null&&n){var c=this.Co.add.TySh,Q=j1.O_(c.EB),q;
if(Q==1){q=j1.fL(c.EB);q=new cr(0,0,q[2]-q[0],q[3]-q[1])}else q=this.H4.x$();var S=[q.x,q.y,q.x+q.m,q.y,q.x+q.m,q.y+q.e,q.x,q.y+q.e];
O.p.D(S,c.D,S);this.x9=new jA(S,!0,!0,!1,!1);this.a9b=q;this.NH(y)}if(H.dy(w.code,H.sw))A=1;if(H.dy(w.code,H.dw))A=-1;
if(H.dy(w.code,H.sm))V=-1;if(H.dy(w.code,H.JL))V=1;var e=H.dy(w.code,b8.zL),d=H.dy(w.code,b8.aoi);if(H.dy(w.code,b8.IO)&&n){this.ji(y,this.caller);
return}if(H.dy(w.code,b8.RN)){this.yZ(y,this.caller);return}if(H.dy(w.code,b8.Ba)){w.preventDefault();
var N=this.Iy,b=N.value,z=N.selectionStart,v=N.selectionEnd;N.value=b.substring(0,z)+"\t"+b.substring(v);
N.selectionStart=N.selectionEnd=z+1;this.Kr(null);return}var T=H.dy(w.code,H.iA),Y=H.dy(w.code,H.u_);
if(n&&(T||Y)){w.preventDefault();var g=new aL(M.E.v,!0);g.G=P.uD;g.data={d:"zoom",wy:T};this.caller.S(g)}if(H.dy(w.code,H.Cd))R=1;
if(H.dy(w.code,H.Il))R=-1;var h=this.gE==this.$H,E=n&&w.shiftKey&&R!=0&&!h;if(E||w.altKey&&A!=0){var G=JSON.parse(JSON.stringify(this.KM.Qx));
if(E){var k=G.tq.FontSize;if(k==null)k=16;G.tq.FontSize=Math.max(1,k+R*(w.altKey?5:1))}else{if(h){G.tq.Kerning+=20*A;
G.tq.AutoKerning=!1}else G.tq.Tracking+=20*A}w.preventDefault();var $=new aL(M.E.L,!0);$.data={d:M.c.Yj,PY:h6.A_,Qx:G};
this.caller.S($);var g=new aL(M.E.v,!0);g.G=P.nr;g.data={d:"updateStyles"};this.caller.S(g);return}if((H.dy(w.code,H.sO)||H.dy(w.code,H.K_))&&n){var p=this.gE,X=this.$H;
if(p>X){var C=p;p=X;X=C}var c=this.Co.add.TySh,D=j1.md(c.EB);if(p!=X){this.lI=D.slice(p,X);this.ahG=JSON.stringify(this.KM.Qx)}}var o=j1.md(this.Co.add.TySh.EB);
if(A!=0||V!=0||e||d){w.preventDefault();var u=this.gE;if(A!=0){if(n&&A==-1)u=this.axj(o,this.gE-1);else if(n&&A==1)u=this.av_(o,this.gE);
else{var N=this.Iy,b=N.value;u=this.gE+A;if(u!=0&&b.codePointAt(u-1)>65535)u+=A}}else if(V!=0){var m=this.H4.aT(this.gE);
if(V==-1&&m.lF==0)u=0;else if(V==1&&m.lF==this.H4.a6$()-1)u=99999999999;else u=this.H4.amu(new ce(m.U2.x+m.U2.m/2,0),m.lF+V)}else if(e){var U=this.gE-1;
while(U>0&&o.charCodeAt(U)!=10)U--;u=U==0?0:U+1}else if(d){var U=this.gE;while(U<o.length-1&&o.charCodeAt(U)!=10)U++;
u=U}u=Math.max(0,Math.min(o.length-1,u));if(w.shiftKey)this.gE=u;else this.gE=this.$H=u;t=!0}if(H.dy(w.code,b8.c)&&n){this.gE=0;
this.$H=o.length-1;t=!0}if(t){this.BD();this.NH(y)}};P.m_.a0Q=function(w,n){var H=w.length;if(H!=n.length)return!1;
for(var l=0;l<H;l++)if(w[l].mx!=n[l].mx)return!1;return!0};P.m_.prototype.ji=function(w,n){if(this.Co==null)return;
this.Co.Id();var H=this.Y$;if(H instanceof Array){var y=this.mE(w,this.Zx),c=w.H_();if(c!=null&&c.G==this&&c.data.Kb&&P.m_.a0Q(c.data.Kb,H))c.data.ph=y;
else{var Q=new dq(this.name,this);Q.data={Kb:H,ph:y};w.c0(Q)}}else{var Q=new dq(this.name,this);Q.data={zD:H.zD,ss:H.ss,Cr:H.Cr,Ee:H.Ee};
w.c0(Q)}this.escape(w,n)};P.m_.prototype.yZ=function(w,n){if(this.Co==null)return;if(this.Y$ instanceof Array){this.nP(w,this.Y$);
if(this.Co)j1.un(this.Co.add.TySh)}else{w.g=this.Y$.Cr;w.UF(this.Y$.zD);w.zi=!0}w.U();this.escape(w,n)};
P.m_.prototype.escape=function(w,n){this.a4U();this.Co=null;this.Zx=null;this.H4=null;this.dC=null;this.Iy.blur();
w.I.lJ=null;w.I.sv=null;w.I.aN=[];w.Va=!0;this.gR=!1;this.M3=!1;this.gE=this.$H=-1;this.ZX(n,M.E.L,{d:M.c.Hi,G:this.id,TC:"hideactive"});
if(this.SO){var H=new aL(M.E.L,!0);H.data={d:M.c.DY,G:this.SO};n.S(H);this.SO=null}};P.m_.prototype.ZX=function(w,n,H,y){var c=new aL(n,!0);
c.data=H;if(y)c.G=y;w.S(c)};P.m_.prototype.aW=function(w){var n=this.Co.add.TySh,H=this.H4,y=n.D.clone();
y.G$();var c=y.rY(w),Q=j1.fH(n,H),q=O.v$.h_(n.oa,Q),S=O.cR.aix(q,c);if(S==null)S=new Float64Array(2);
c=new ce(Q.x+S[0]*Q.m,Q.y+S[1]*Q.e);if(H.t9){var A=H.t9.clone();A.G$();c=A.rY(c)}var V=H.amu(c);return V};
P.m_.prototype.NH=function(w,n){if(n==null)n=!1;var H=this.Co.add.TySh,y=j1.O_(H.EB),c=this.H4,Q=c?j1.fH(H,c):null;
w.I.aN=[];w.I.lJ=null;w.I.sv=null;var q=this.x9?this.x9:this.dC;if(q){q.lW(w,this.KM,!O.v$.Rd(H.oa));
var S=H.D.clone();S.G$();if(c&&c.t9&&c.Ph==1){var A=c.t9.clone();A.G$();S.concat(A)}O.p.D(w.I.aN,S,w.I.aN);
O.p.D(w.I.lJ.w,S,w.I.lJ.w);if(c&&c.t9==null&&c.a3N()){var V=Q.m-20,e=Q.e+8;w.I.lJ.w.push(V,e,V+10,e,V+5,e-5,V+5,e+5);
w.I.lJ.T.push("M","L","M","L")}}else if(y==0)this.afq(w,H,c);else w.I.lJ={w:[],T:[]};var d=Math.min(this.gE,this.$H),N=Math.max(this.gE,this.$H);
if(!n){this.Iy.selectionStart=d;this.Iy.selectionEnd=N}if(c!=null){var b=function(q,h){var E=q.x,G=q.y+q.e,k=new b7;
k.translate(-E,-G);k.rotate(-h);k.translate(E,G);q.y+=q.e*.27;var R=O.p.u3(q);O.p.D(R.w,k,R.w);return R};
if(d==N){d=Math.max(d,0);var z=c.aT(d);if(z){var v=z.U2,T=this.KM.Qx.tq.FontSize;if(T!=null&&T!=0){T/=H.D.H5();
v.y+=v.e-T;v.e=T}var Y=c.az5(d);if(Y!=null&&Y.UX==1)v.x+=v.m;var g=b(v,z.db).w;w.I.lJ.T.push("M","L");
w.I.lJ.w.push(g[0],g[1]-1,g[6],g[7]-1)}}else{w.I.sv={w:[],T:[]};for(var l=d;l<N;l++){var z=c.aT(l),R=b(z.U2,z.db);
O.p.concat(w.I.sv,R)}}}w.I.lJ=kn.pC(w.I.lJ,H,c);w.I.sv=kn.pC(w.I.sv,H,c);w.I.aN=kn.pC({w:w.I.aN},H,c).w;
w.Va=!0};P.m_.prototype.afq=function(w,n,H){if(H==null)return;w.I.aN.push(0,0);if(w.I.lJ==null)w.I.lJ={T:[],w:[]};
for(var l=0;l<H.AW.length;l++){var y=H.AW[l];for(var c=0;c<y.WQ.length;c++){var Q=y.WQ[c],q=y.Pi.x+Q.Pi.x+Q.U2.x,S=y.Pi.y+Q.Pi.y+Q.U2.y+Q.U2.e;
w.I.lJ.T.push("M","L");w.I.lJ.w.push(q,S,q+Q.U2.m,S)}}w.Va=!0};P.amq=function(){P.m_.call(this,!0)};
P.amq.prototype=new P.m_;P.uH=function(){P.Me.call(this,[10,9],P.Y4,"tools/lasso");this.oW="crosshair";
this.q$=null;this.Ij=null;this.SB=null};P.uH.prototype=new P.Me;P.uH.prototype.A9=function(w,n,H,y){this.q$=this.Pz;
this.Ij={w:[this.q$.x,this.q$.y],T:["M"]}};P.uH.prototype.jf=function(w,n,H,y){this.SB=y;var c=this.Ij;
if(c==null)return;if(!y.iO){if(this.Ij!=null&&this.Yp>1&&H.l(b8.FO)){c.w.pop();c.w.pop();c.w.push(this.dL.x,this.dL.y);
w.I.lJ=c;w.Va=!0}return}c.T.push("L");c.w.push(this.dL.x,this.dL.y);this.q$=this.dL;if(this.Eq){w.I.lJ=c;
w.Va=!0}};P.uH.prototype.i7=function(){return this.Ij!=null};P.uH.prototype.u6=function(){return this.Ij!=null};
P.uH.prototype.QI=function(w,n,H,y){P.Me.prototype.QI.call(this,w,n,H,y);if(this.Ij&&this.Yp>1&&this.SB&&!this.SB.iO&&!y.l(b8.FO))this.ap6(w,H,y)};
P.uH.prototype.Cw=function(w,n,H,y){this.SB=y;var c=this.Ij;if(c==null)return;if(this.Yp>1&&H.l(b8.FO)){c.T.push("L");
c.w.push(this.dL.x,this.dL.y);return}this.ap6(w,n,H)};P.uH.prototype.ap6=function(w,n,H){this.finish(w,n,H,this.SB);
this.Ij=null;w.I.lJ=null;w.Va=!0};P.uH.prototype.getSelection=function(w,n,H,y){if(this.Pz.Hw(this.dL)||!this.Eq)return null;
return P.Me.jV(this.Ij.w,null,this.kT.anta)};P.xz=function(){P.rG.call(this,[10,11],P.DX,"tools/move");
this.nI=new ce(0,0);this.Cs=new ce(0,0);this.nj=null;this.Hc=null;this._I=new ce(0,0);this.hv=null;this.Uz=null;
this.ZZ=null;this.vO=0;this.v_=null;this.VP=[];this.cx=null;this.zY=null;this.YQ=!1;this.d=0;this.vA=null;
this.FD=null;this.k4=null;this.aG=!1;this.kT={xY:!1,pY:!1,ls:!1,aaD:1};this.atC=!1;this.a7f=!1;this.dC=null;
this.iu=null;this.anl=null;var w=[];for(var l=0;l<O.xr.RH.length;l++)w.push({name:O.xr.RH[l],C:function(n,H,y){return{NW:H.al.GZ==y}}});
this.ky=new az(w);this.ky.h("select",this.tB,this)};P.xz.prototype=new P.rG;P.rG.prototype.U8=function(w){return this.YQ&&this.d!=2};
P.xz.prototype.agj=function(){return this.YQ&&(this.d==0||this.d==1)};P.xz.prototype.Pq=function(w,n,H,y){this.Vb(w,-this._I.x,-this._I.y);
this._I.HV(0,0);this.S5(w,null,H);this.Rb(w)};P.xz.prototype.ae=function(){var w=this.kT;return[w.xY?1:0,w.pY?1:0,w.ls?1:0]};
P.xz.prototype.th=function(w,n,H){var y=this.kT;if(w&&w[0]!=null)y.xY=w[0]==1;if(w&&w[1]!=null)y.pY=w[1]==1;
if(w&&w[2]!=null)y.ls=w[2]==1;var c=new aL(M.E.L,!0);c.data={d:M.c.Hi,G:this.id,ml:y,axQ:n};H.S(c)};
P.xz.a1n=function(w,n,H,y,c,Q,q){if(q==null)q=[!1,!0];var S=w.Q_(null,c,!0),A,V;if(w.add.artd&&w.g.length==1&&w.B[w.g[0]].add.artb){var e=w.B[w.g[0]].oC();
A=w.Kt(S,e,e)[0]}else{var d=new cr(0,0,w.m,w.e),A=w.Kt(S,q[0]?d:null,q[1]?null:d)[0];delete A.add.artd;
if(q[1]){var b=O.od(A.E$(),new cr(0,0,A.m,A.e),2);P.RP._6(A,b)}}if(H!=1){var z=new cr(0,0,Math.round(A.m*H),Math.round(A.e*H));
P.RP._6(A,z);var v=[];for(var l=0;l<A.B.length;l++)v.push(l);var T=P.WJ.AH(A,v,!0);P.RP.Rm(A,new b7(H,0,0,H,0,0));
P.WJ.If(A,y,v,T,1,O.K.og(new b7(H,0,0,H,0,0)),null,!0);A.eU()}else if(V){A.U();A.eU()}var Y=[];for(var l=0;
l<n.length;l++)if(A.m*A.e!=0)Y.push(cb._L(A,n[l].toUpperCase(),null,null,Q?Q[l]:null,y));return Y};P.xz.prototype.ae2=function(w,n,H,y,c){if(w==null||w.g.length==0)return;
var Q=P.xz.a1n(w,[n],H,y,null)[0],q=new aL(M.E.L,!0);q.data={d:M.c.fI,data:Q,name:w.B[w.g[0]].getName()+(H==1?"":"@"+H+"x")+"."+n};
c.S(q)};P.xz.prototype.ro=function(w,n,H,y,c){if(w.cl=="getPNG"){this.ae2(H,"png",w.x5,c,n)}else if(w.cl=="getSVG"){this.ae2(H,"svg",w.x5,c,n)}if(w.cl=="prms"){this.kT=w;
this.Rb(H)}};P.xz.a2_=function(w){var ds=w.length,H=0;w.sort(function(Q,q){return Q[0]+Q[1]/2-(q[0]+q[1]/2)});
var n=w[ds-1][0]+w[ds-1][1]-w[0][0];for(var l=0;l<ds;l++)H+=w[l][1];var y=Math.round((n-H)/(ds-1)),c=w[0][0];
for(var l=0;l<ds;l++){w[l][0]=c;c+=w[l][1]+y}};P.xz.prototype.dZ=function(w,n,H,y,c){var Q=w.d;if(Q=="trsl"){var q=Math.round(w.aH),S=Math.round(w.z$);
this._I.HV(q,S);this.Gg(H,n,y,c,!1,w.j);this.Vb(H,q,S);this.S5(H,null,c)}else if(Q=="fcmy"||Q=="fvec"){var A=["RGB","CMYK"][w.Z]+" Color";
if(Q=="fvec")A=["Raster","Vector"][w.Z]+" Mode";var V=new dq(A,this);V.data={d:w.d,EV:H.add[Q]==null?0:H.add[Q],z2:w.Z};
H.c0(V);this.KC(V.data,H)}else if(Q=="pview"){var Q=new dq([8,14],this);Q.data={d:w.d};H.c0(Q);this.KC(Q.data,H)}else if(Q=="lockguides"){if(H)H.cU=!H.cU}else if(Q=="gids"||Q=="gidsFromLayer"){var e=w.FD,d,N;
if(e==null)e=H._P();if(Q=="gids"){d=w.wC;var b=e[0].length,z=d[0].length;N=b==z?[23,2]:b>z?[23,3]:[23,4];
if(z==0)N=[11,15,0]}else if(Q=="gidsFromLayer"){var v=[],T=[],Y=H.Zf();for(var l=0;l<H.g.length;l++){var g=H.B[H.g[l]].rect;
if(g._G())continue;v.push([0,g.x],[1,g.y],[0,g.x+g.m],[1,g.y+g.e]);T.push(Y,Y,Y,Y)}N=[11,15,1];d=H._P();
P.xz.Pw(d,[v,T])}if(JSON.stringify(e)==JSON.stringify(d))return;var Q=new dq(N,this);Q.data={d:2,FD:e,wC:d};
H.c0(Q);this.KC(Q.data,H)}else if(Q=="algn"){var R=w.Z;if(H==null)return;if(H.g.length<2&&!(H.P!=null&&R!=3&&R!=7)){alert(hV.get([15,7,5]));
return}var h=H.P;H.P=null;var g=h?h.rect:P.WJ.fH(H);this.Gg(H,n,y,c,!1);if(!this.YQ)return;var E=this.v_,G={},k=[],$=[],p=[];
for(var l=0;l<E.length;l++){var X=E[l];while(H.B[X].getName()=="</Layer group>")X++;var C=H.root.wO(X),D=C;
while(C.parent!=null){C=C.parent;if(E.indexOf(C.index)!=-1)D=C}var o=$.indexOf(D.index);if(o==-1){o=$.length;
$.push(D.index)}k[l]=o}var t=[],u=[],m=[];for(var l=0;l<$.length;l++){var U=P.WJ.fH(H,H.Q_(!0,$[l]));
m.push(U);var I=R==3?[U.y,U.e]:[U.x,U.m];t[l]=I;u.push(I)}P.xz.a2_(u);for(var l=0;l<$.length;l++){var U=m[l],x=U.x,J=U.y;
if(R==0)x=g.x;if(R==1)x=g.x+(g.m-U.m)/2;if(R==2)x=g.x+(g.m-U.m);if(R==3)J=t[l][0];if(R==4)J=g.y;if(R==5)J=g.y+(g.e-U.e)/2;
if(R==6)J=g.y+(g.e-U.e);if(R==7)x=t[l][0];p.push(Math.round(x-U.x),Math.round(J-U.y))}var r=[];for(var l=0;
l<E.length;l++){var Z=k[l];r[2*l]=p[2*Z];r[2*l+1]=p[2*Z+1]}this.Vb(H,0,0,null,r);var f=R==3||R==7?[20,4,6]:[20,4,R<3?R:R-1];
this.S5(H,null,c,r,f);H.P=h}else if(Q=="disabAuto"){this.th([!1],null,n)}};P.xz.Pw=function(w,n){for(var l=0;
l<n[0].length;l++){var H=n[0][l],y=n[1][l],c=!1;for(var Q=0;Q<w[0].length;Q++){var q=w[0][Q],S=w[1][Q];
if(H[0]==q[0]&&H[1]==q[1]&&y==S)c=!0}if(!c){w[0].push(H.slice(0));w[1].push(y)}}};P.xz.prototype.enable=function(w,n,H,y,c){this.Uz=H;
this.ZZ=n;this.aG=c?!0:!1;this.Rb(w);this.ZY("default",n);this.QI(w,n,H,y)};P.xz.prototype.disable=function(w,n,H,y){this.agk(w)};
P.xz.prototype.agk=function(w){if(w==null)return;if(this.dC){this.dC.clear(w);this.dC=null}if(w.I.ls){w.I.ls=null;
w.Va=!0}if(w.I.lC){w.I.lC=null;w.Va=!0}if(w.I.p4[this.id]){delete w.I.p4[this.id];w.Va=!0}if(w.I.n7.length!=0){w.I.n7=[];
w.Va=!0}};P.xz.prototype.BK=function(w,n,H,y){if(H.ZR!=this.id)return;this.Rb(w)};P.xz.prototype.Rb=function(w,n){if(w==null)return;
var H=this.kT;this.agk(w);if(!this.aG){var y;if(H.pY||H.ls)y=O.p.sb(P.WJ.fH(w));if(H.pY&&!y._G()){this.dC=new jA([y.x,y.y,y.x+y.m,y.y,y.x+y.m,y.y+y.e,y.x,y.y+y.e],!0);
this.dC.lW(w,this.Uz)}if(H.ls){var c=null,e=null,d=!1;if(w.Zf()!=-1)c=w.B[w.Zf()].oC();else c=new cr(0,0,w.m,w.e);
w.I.ls={Oh:[y],YA:[]};var Q=w.I.ls.YA,q=y.x+y.m,S=y.y+y.e,A=y.x+Math.floor(y.m/2),V=y.y+Math.floor(y.e/2);
if(n){var N=w.root.Z3(new ce(Math.floor(n.x),Math.floor(n.y)));if(N){e=O.p.sb(N.j.en(w));if(e.QW(y)){d=(e.n1(y)||y.n1(e))&&!y.Hw(e);
if(!d)e=null}}}this.abh(y,Q);if(e!=null){w.I.ls.Oh.push(e);var b=e.x+e.m,z=e.y+e.e,v=e.x+Math.floor(e.m/2),T=e.y+Math.floor(e.e/2);
if(d){var Y=A,g=V;if(y.n1(e)){Y=v;g=T}Q.push(y.x,g,e.x,g);Q.push(q,g,b,g);Q.push(Y,y.y,Y,e.y);Q.push(Y,S,Y,z)}else{this.abh(e,Q);
var R=S<e.y||z<y.y,h=q<e.x||b<y.x;if(q<e.x)Q.push(q,V,e.x,V);if(b<y.x)Q.push(b,V,y.x,V);if(S<e.y)Q.push(A,S,A,e.y);
if(z<y.y)Q.push(A,z,A,y.y);if(R&&!h){if(y.x<e.x)Q.push(y.x,T,e.x,T);if(e.x<y.x)Q.push(e.x,V,y.x,V)}}}else{if(y.y>c.y)Q.push(A,c.y,A,y.y);
if(S<c.y+c.e)Q.push(A,S,A,c.y+c.e);if(y.x>c.x)Q.push(c.x,V,y.x,V);if(q<c.x+c.m)Q.push(q,V,c.x+c.m,V)}w.Va=!0}}if(this.d==2&&this.YQ){var E=new cr(0,0,w.m,w.e),G=w.Zf();
if(G!=-1){var k=w._P(),$=k[1][this.v_];if($==-1)$=G;E=w.B[$].oC()}var p=w.V_[this.v_],X=p[0],C=(X==0?"X":"Y")+": "+O.xr.To(p[1]-(X==0?E.x:E.y),w.uP,this.Uz,X==0?E.m:E.e,!0);
P.rG.yE(Math.round(this.nj.x)+10,Math.round(this.nj.y)-10,[C],w);w.Va=!0}if(this.d==3&&this.YQ){var D=O.p.u3(this.vA);
w.I.p4[this.id]={lJ:D};w.Va=!0}};P.xz.prototype.abh=function(w,n){var H=w.m,y=w.e,c=w.x+Math.floor(H*.2),Q=w.y+Math.floor(y*.2);
n.push(c,w.y,c,w.y+y);n.push(w.x,Q,w.x+H,Q)};P.xz.prototype.ZY=function(w,n){var H={d:M.c.N4,Xn:w},y=new aL(M.E.L,!0);
y.data=H;n.S(y)};P.xz.prototype.HH=function(w){var n=this.iu.uf()[0],H=this.hv,y=this.anl[n];this.awo(H,y)};
P.xz.prototype.tB=function(w){var n=JSON.parse(JSON.stringify(this.Uz.al));n.GZ=this.ky.uf()[0];var H=new aL(M.E.L,!0);
H.data={d:M.c.Yj,PY:h6.zz,z2:n};this.ZZ.S(H)};P.xz.prototype.Qz=function(w,n,H,y,c){if(this.YQ)this.sh(w,n,H,y,c);
this.hv=w;this.Uz=H;this.ZZ=n;var Q=w.u.Sb(c.x,c.y),q;if(P.xz.OJ(H,c,w.u)){q=this.ky}else{if(this.iu)this.iu.removeEventListener("select",this.HH);
var S=[];w.root.Z3(Q,S);if(S.length==0)return;var A=[];this.anl=S;for(var l=0;l<S.length;l++)A.push({name:w.B[S[l]].getName()});
q=this.iu=new az(A);q.h("select",this.HH,this)}q.parent=n;q.f();q.update(w,H);var V=new aL(M.E.L,!0);
V.data={d:M.c.hf,_0:q,x:c.JV+2,y:c.m6+1};n.S(V)};P.xz.prototype.a0e=function(w,n,H,y,c){var Q=P.xz.X4(w,c);
return Q!=-1||P.xz.OJ(H,c,w.u)};P.xz.X4=function(w,n){if(w==null||w.add.artd==null)return-1;var H=w.u.Sb(n.x,n.y),y=12*P.V()/w.u.N;
for(var l=0;l<w.B.length;l++){var c=w.B[l];if(!c.tl()||c.add.artb==null)continue;var Q=c.oC(),q=new cr(Q.x,Q.y-1.7*y,y*c.getName().length*.5,y);
if(q.yo(H))return l}return-1};P.xz.prototype.mO=function(w,n,H,y,c){var Q=P.xz.X4(w,c),q=P.xz.ab9(w,w.u.Sb(c.x,c.y));
if(Q!=-1){w.g=[Q];if(H.ZR==P.DX){var S=new aL(M.E.L);S.data={d:M.c.DY,G:P.G8};n.S(S)}return}if(q!=-1){w.u.$r=q;
w.qF=!0;var S=new aL(M.E.L,!0);S.data={d:M.c.Fp,Ln:eV.AG.ar6};n.S(S);return}this.nj=c;this.nI.HV(c.x,c.y);
this.Cs=w.u.Sb(c.x,c.y);this.Hc=new eh(this.Cs);this.Gg(w,n,y,H,!0)};P.xz.OJ=function(w,n,H,y){var c=O.xr.iY,Q=H.GN.e;
return w.Mr&&(0<n.x&&n.x<c||0<n.y&&n.y<c||y&&0<n.x&&n.x<4*c&&Q-c<n.y&&n.y<Q)};P.xz.prototype.Gg=function(w,n,H,y,c,Q){var q,S=this.Cs,A=!1;
if(c){var V=y.OH&&y.al.V_;if(P.xz.OJ(y,this.nI,w.u)){q=w._P();var e=w._P(),d=null;if(this.nI.x<O.xr.iY){d=[0,S.x]}if(this.nI.y<O.xr.iY){d=[1,S.y]}e[0].push(d);
e[1].push(w.Zf(!0));w.da(e);if(!V){var N=new aL(M.E.L);if(!y.al.V_){N.data={d:M.c.Yj,PY:h6.Oc};n.S(N)}if(!y.OH){N.data={d:M.c.Yj,PY:h6.$T};
n.S(N)}V=!0}}var b=this.abL(w,S);if(V&&b!=null&&!w.cU){this.d=2;this.FD=q?q:w._P();this.v_=b;this.YQ=!0;
this.zY=P.WJ.fH(w);return}if(w.np.length!=0){this.d=4;this.zY=w.d4[w.np[0]].rect.clone();this.YQ=!0;
return}if(this.dC&&this.dC.T$(S,w.u.N,!0,this.nj)!=null){var N=new aL(M.E.L);N.data={d:M.c.DY,G:P.xM,abD:!0};
n.S(N);return}if(w.P&&w.P.rect.yo(S)){var z=Math.round(S.x),v=Math.round(S.y),T=w.P.rect;A=w.P.channel[(v-T.y)*T.m+z-T.x]>128}if(!A&&(!this.aG&&this.kT.xY||this.aG&&this.kT.xY&&(H.l(b8.fx)||w.g.length<2))){var Y=this.ajR(w,S,H);
if(!Y){w.g=[];w.t7=null;w.zi=w.QR=!0;this.d=3;this.vA=new cr;this.YQ=!0;return}}if(H.l(b8.FO)&&!A){var g=new aL(M.E.v);
g.G=P.YV;g.data={d:a.Bc,a9I:!0};n.S(g)}}if(w.np.length!=0){this.d=4;this.zY=w.d4[w.np[0]].rect.clone();
this.YQ=!0;return}this.v_=w.Q_(Q==null,Q,null,!0);for(var l=0;l<this.v_.length;l++){var R=this.v_[l],h=w.B[R];
if(h.ox(2)||h.ox(31)||w.eV(R)){alert(hV.get([6,57,0]));return}}if(w.add.artd&&c){var E=this.v_,G=!1;
for(var l=0;l<E.length;l++)if(w.B[E[l]].add.artb)G=!0;if(!G){this.cx=[w,w.B.slice(0),w.g.slice(0),-1];
this.v_.sort(function(t,u){return t-u})}}this.VP=P.xz.ad$(w,this.v_);this.d=0;if(w.P&&(!c||A)&&w.g.length==1&&w.BG(!1)){if(!w.ari()){this.YQ=!1;
return}var k=w.B[w.g[0]],$=H.l(b8.FO);this.d=1;var p=w.history[w.Cf];if(p.G==this&&p.data.d==1&&p.data.j==w.g[0]&&k.Ks==k.cJ.Ks&&!$){this.k4=p}else{var X=k.cJ,C=!1,D;
if(!k.U_(w,w.P)||$){C=!0;k.DI(w,w.P,$)}if(k.cJ.Ks<=0){D=O.R(k.cJ.z5.length>>2);O.RR(k.cJ.z5,D,3)}else D=w.P.channel.slice(0);
var o={rect:k.cJ.nk.clone(),channel:D};this.k4=new dq($?[12,53]:[12,54],this);this.k4.data={d:1,j:w.g[0],cJ:k.cJ,mo:X,AN:C,Cr:w.P,Ee:o,Du:new ce(0,0)};
w.c0(this.k4);w.P=o;w.Ii=!0}}this.YQ=!0;this.zY=P.WJ.fH(w)};P.xz.prototype.ajR=function(w,n,H){var y=w.root.Z3(new ce(Math.floor(n.x),Math.floor(n.y)));
if(y){if(y.j.add.vmsk)w.Va=!0;var c=w.B.indexOf(y.j);if(this.kT.aaD==0){var Q=w.root.wO(c);while(Q.parent&&Q.parent.depth!=0&&Q.parent.j.add.artb==null)Q=Q.parent;
c=Q.index}if(H.l(b8.fx)){var q=w.g.indexOf(c);if(q==-1)w.g.push(c);else if(w.g.length>1)w.g.splice(q,1)}else if(w.g.indexOf(c)==-1){this.awo(w,c)}}return y!=null};
P.xz.prototype.awo=function(w,n){w.B[n].Ks=0;w.g=[n];w.t7=null;w.gm();w.nR=!0;w.zi=!0};P.xz.ab9=function(w,n){var H=w.add.Anno;
if(H==null||H.length==0)return-1;var y=30/w.u.N;for(var l=0;l<H.length;l++)if(new cr(H[l][0],H[l][1],y,y).yo(n))return l;
return-1};P.xz.prototype.C9=function(w,n,H,y,c){this.nj=c;var Q=w.u.Sb(c.x,c.y),b,z;if(this.Hc&&this.d<2)Q=this.Hc.Tq(Q,y);
if(!this.YQ){if(H.OH&&H.al.V_&&w&&!w.cU){var q=this.abL(w,Q),S="default",A=P.xz.X4(w,c);if(q!=null)S=["col-resize","row-resize"][w.V_[q][0]];
else if(this.dC){var V=this.dC.T$(Q,w.u.N,null,c);if(V)S=V}else if(A!=-1||P.xz.ab9(w,Q)!=-1){S="pointer"}this.ZY(S,n)}this.Rb(w,Q);
return}var e=this.Cs,d=Math.round(Q.x-e.x)-this._I.x,N=Math.round(Q.y-e.y)-this._I.y;if(this.zY){if(this.d==2){var v=[];
if(w.P)v.push(w.P.rect);if(this.zY)v.push(this.zY);if(w.u.HW)v.push(w.u.HW);Q=P.xz.Ov(w,Q,H,[!1,v,!0])}else{z=this.zY.clone();
z.offset(this._I.x+d,this._I.y+N);b=P.xz.YY(w,z,H);var T=this.Hc.aze(y);if(T==1){b[0]=0;b[2]=1e9}if(T==2){b[1]=0;
b[3]=1e9}d+=Math.round(b[0]);N+=Math.round(b[1])}}this._I.x+=d;this._I.y+=N;var Y=this.cx;if(Y&&w==Y[0]){w.UF(Y[1]);
w.g=Y[2].slice(0);Y[3]=-1}this.Vb(w,d,N,Q,null,y.l(b8.fx));if(Y&&w==Y[0]){var g=this.zY.clone();g.offset(this._I.x,this._I.y);
var R=Q,A=w.Zf(),h=-1;for(var l=0;l<w.B.length;l++){var E=w.B[l];if(!E.tl()||E.add.artb==null)continue;
var G=E.oC();if(G.yo(R))h=l}if(h!=-1&&h!=A){var k=P.LV.zw(w,this.v_,h,!0,null,!1);w.UF(k[0]);w.g=k[1];
Y[3]=h}}this.Rb(w,Q);if(b)P.xz.IF(w,z,b)};P.xz.prototype.abL=function(w,n){var H=P.L$(w,this.nj);n=[n.x,n.y];
var y=w._P(),c=w.Zf();for(var l=0;l<y[0].length;l++){var Q=y[0][l],q=y[1][l];if(q!=-1&&q!=c)continue;
if(Math.abs(Q[1]-n[Q[0]])<H)return l}return null};P.xz.prototype.Vb=function(w,n,H,y,c,Q){if(this.d==0){if(c)P.xz.Rj(w,this.v_,this.VP,c);
else P.xz.Om(w,this.v_,this.VP,n,H)}else if(this.d==1){var q=this.k4.data;q.Du.offset(n,H);P.xz.Jj(w,q.j,n,H)}else if(this.d==2){var S=1e-5;
if(Q)S=w.u.N<=1?10:1;else if(w.u.N<=1)S=1;var A=S*Math.round(y.x/S),V=S*Math.round(y.y/S),e=[A,V],d=w.V_[this.v_];
d[1]=e[d[0]]}else if(this.d==3){var N=this.Cs,b=O.p.w1([N.x,N.y,y.x,y.y]);this.vA=b;var z=[];w.root.a2F(b,z);
if(JSON.stringify(w.g)!=JSON.stringify(z)){w.g=z;w.zi=w.QR=!0}}else if(this.d==4){for(var l=0;l<w.np.length;
l++)w.d4[w.np[l]].rect.offset(n,H);w.Va=!0}};P.xz.Jj=function(w,n,H,y){var c=w.B[n];w.P.rect.offset(H,y);
c.ll(w,H,y,w.P);w.Ii=!0;w.U()};P.xz.prototype.sh=function(w,n,H,y,c,Q){this.S5(w,c,H);this.Rb(w);if(Date.now()-this.vO<300&&!Q){var q=P.m_.Av(w,w.u.Sb(c.x,c.y));
if(P.xz.OJ(H,c,w.u,!0)){var S=new aL(M.E.L);if(c.y>w.u.GN.e-20){S.data={d:M.c.rL,Ln:"doczoom",EV:w.u.N*100,yk:{Y:M.E.v,G:P.uD,W:{d:"pzoom"}}}}else{S.data={d:M.c.rL,Ln:"preferences"}}n.S(S)}else if(q>=0){var A=new aL(M.E.v,!0);
A.G=P.nr;A.data={d:"editCurr",Nf:q};n.S(A)}}this.vO=Date.now();P.RP.U6(w)};P.xz.prototype.S5=function(w,n,H,y,c){if(!this.YQ)return;
this.YQ=!1;if(this.d==0){if(y){this.a2r(w,null,y,c)}else{if(this._I.x==0&&this._I.y==0)return;this.a2r(w,this._I.clone())}w.qF=!0}else if(this.d==2){var Q=0;
n=[n.x,n.y];var q=this.v_,S=w.V_[q],hi=this.FD[0].length,A=w.V_.length;if(H.Mr&&n[S[0]]<O.xr.iY){var V=w._P();
V[0].splice(q,1);V[1].splice(q,1);w.da(V);Q=1;if(hi==A-1)return}if(hi<A)Q=2;var e=new dq([[23,2],[23,3],[23,4]][Q],this);
e.data={d:2,FD:this.FD,wC:w._P()};w.c0(e)}else if(this.d==4){var e=new dq([12,54],this);e.data={d:4,g:w.np.slice(0),Q:this._I.clone()};
w.c0(e)}this._I.HV(0,0)};P.xz.prototype.QI=function(w,n,H,y){var c=y.oY(w?w.u.db:0);if(w!=null&&(c.x!=0||c.y!=0)){if(y.l(b8.FO)&&w.P==null){var Q=new aL(M.E.v);
Q.G=P.YV;Q.data={d:a.Bc,a9I:!0};n.S(Q)}this._I.HV(c.x,c.y);this.Gg(w,n,y,H,!1);if(!this.YQ)return;this.Vb(w,c.x,c.y);
this.S5(w,null,H);this.Rb(w)}var q=y.l(b8.NX);if(!this.aG&&this.a7f!=q){if(q){this.atC=this.kT.xY;this.kT.xY=!0}else{this.kT.xY=this.atC}this.a7f=q;
var S=new aL(M.E.L,!0);S.data={d:M.c.Hi,G:this.id,ml:this.kT};n.S(S)}};P.xz.prototype.LL=function(w,n){if(w.d==0){var H=w.ot;
if(H){n.UF(H.zD);n.g=H.y5.slice(0);n.U();n.zi=!0}P.xz.Rj(n,w.g,w.zV,w.mY,!0);P.RP.U6(n)}else if(w.d=="fcmy"||w.d=="fvec"){if(w.EV==0)delete n.add[w.d];
else n.add[w.d]=w.EV;n.Va=!0}else if(w.d=="pview"){n.VQ=!n.VQ;n.U()}else if(w.d==2){n.da(w.FD);n.Va=!0}else if(w.d==4){for(var l=0;
l<w.g.length;l++)n.d4[w.g[l]].rect.offset(-w.Q.x,-w.Q.y);n.Va=!0}else{var y=n.B[w.j];if(w.AN){y.r4(n,w.mo);
n.P=w.Cr;n.Ii=!0;n.U();y.U()}else{P.xz.Jj(n,w.j,-w.Du.x,-w.Du.y)}}};P.xz.prototype.KC=function(w,n){if(w.d==0){P.xz.Rj(n,w.g,w.zV,w.mY);
var H=w.ot;if(H){n.UF(H.ss);n.g=H.qP.slice(0);n.U();n.zi=!0}P.RP.U6(n)}else if(w.d=="fcmy"||w.d=="fvec"){if(w.z2==0)delete n.add[w.d];
else n.add[w.d]=w.z2;n.Va=!0}else if(w.d=="pview"){n.VQ=!n.VQ;n.U()}else if(w.d==2){n.da(w.wC);n.Va=!0}else if(w.d==4){for(var l=0;
l<w.g.length;l++)n.d4[w.g[l]].rect.offset(w.Q.x,w.Q.y);n.Va=!0}else{var y=n.B[w.j];if(w.AN){y.cJ=w.cJ;
n.P=w.Ee;P.xz.Jj(n,w.j,0,0);y.U()}else{P.xz.Jj(n,w.j,w.Du.x,w.Du.y)}}};P.xz.prototype.a2r=function(w,n,H,y){if(H){var c=!0;
for(var l=0;l<H.length;l++)if(H[l]!=0)c=!1;if(c)return}var Q=w.history[w.Cf],q=this.cx,S=q!=null&&q[3]!=-1&&q[0]==w;
if(!S&&H==null&&Q.data&&Q.G==this&&Q.data.d==0&&JSON.stringify(Q.data.g)==JSON.stringify(this.v_)&&JSON.stringify(Q.data.zV)==JSON.stringify(this.VP)){var A=Q.data.mY,V=Q.data.ab7.ei.T.v;
V.Hrzn.v.val+=n.x;V.Vrtc.v.val+=n.y;for(var l=0;l<A.length;l+=2){A[l]+=n.x;A[l+1]+=n.y}}else{if(n==null)n=new ce(H[0],H[1]);
var e={fd:"move",ei:{classID:"null",null:ih._K("Lyr",!0),T:{t:"Objc",v:{classID:"Ofst",Hrzn:{t:"UntF",v:{type:"#Rlt",val:n.x}},Vrtc:{t:"UntF",v:{type:"#Rlt",val:n.y}}}}}},d=null;
if(S)d={zD:q[1],y5:q[2],ss:w.B.slice(0),qP:w.g.slice(0)};this.cx=null;var N=new dq(y?y:[12,54],this);
if(H)N.data={d:0,g:this.v_,zV:this.VP,ot:d,mY:H};else N.data={d:0,g:this.v_,zV:this.VP,ot:d,mY:P.xz.anp(this.v_,n.x,n.y)};
N.data.ab7=e;w.c0(N);this.track(e)}};P.xz.anp=function(w,n,H){var y=[];for(var l=0;l<w.length;l++)y.push(n,H);
return y};P.xz.Om=function(w,n,H,y,c){P.xz.Rj(w,n,H,P.xz.anp(n,y,c))};P.xz.Rj=function(w,n,H,y,c){if(n.length==0)return;
if(H==null){H=[];for(var l=0;l<n.length;l++){H.push(w.B[n[l]].Wa(w,!0))}}var Q=new cr,q=new cr(0,0,w.m,w.e);
for(var l=0;l<n.length;l++){var S=y[2*l],A=y[2*l+1];if(c){S=-S;A=-A}var V=w.B[n[l]],e=H[l];if(V.add.fxrp&&(e.indexOf(0)!=-1||V.hu()))V.add.fxrp.offset(S,A);
for(var d=0;d<e.length;d++){var N=e[d];if(N==0){V.rect.offset(S,A);if(V.RL()&&V.iS(w))V.iS(w).rect.offset(S,A);
if(V.add.artb){var b=V.oC();b.offset(S,A);V.ws(b);var z=V.add.artb.guideIndeces;z=z?z.v:[];for(var v=0;
v<z.length;v++){var T=w.V_[z[v].v];T[1]+=T[0]==0?S:A}}if(V.add.TySh){V.add.TySh.D.translate(S,A);if(V.add.TySh.add){V.add.TySh.add.vmsk.offset(S,A)}}if(V.add.SoLd){var Y=new b7(1,0,0,1,S,A),g=V.add.SoLd,R=P.WJ.b6(g.Trnf),h=P.WJ.b6(g.nonAffineTransform);
O.p.D(R,Y,R);O.p.D(h,Y,h);g.Trnf=P.WJ.w2(R);g.nonAffineTransform=P.WJ.w2(h);P.WJ.a3i(g,Y)}}if(N==1)V.LZ().rect.offset(S,A);
if(N==2){V.add.vmsk.offset(S,A);if(V.add.vogk)O.X.D(V.add.vogk,[1,0,S,0,1,A,0,0],[]);if(V.Sh.Ij){var E=V.Sh.Ij.ad.w;
O.p.D(E,new b7(1,0,0,1,S,A),E)}}if(N==3){V.iS(w).z.rect.offset(S,A);if(e.length==1)V.U()}}if(e.length>0){var G=V.add.GdFl;
if(G==null)G=V.add.PtFl;if(V.hu()&&!V.Cu()&&V.add.vmsk!=null&&O.r.e6(V.add.vmsk.i)&&V.add.vmsk.qC==255&&(G==null||G.Algn&&G.Algn.v)){V.rect.offset(S,A)}else V.qL(w);
var k=w.root.k8(V.en(w),w,n[l]);if(V.add.artb)k=k.ld(V.oC());Q=Q.ld(k);k.offset(-S,-A);Q=Q.ld(k);if(V.QB()&&V.z&&V.z.color==255)Q=Q.ld(q);
V.aq3()}}w.U(O.p.sb(Q))};P.xz.ad$=function(w,n){var H=[];for(var l=0;l<n.length;l++){var y=w.B[n[l]];
H.push(y.Wa(w))}return H};P.xz.IF=function(w,n,H){var y={w:[],T:[]},c=n.x+H[0],Q=n.y+H[1];if(H[2]!=1e9){y.T.push("M","L");
var q=Q+n.e;if(H[4])y.w.push(H[2],Math.min(Q,q,H[4][1]),H[2],Math.max(Q,q,H[4][1]));else y.w.push(H[2],Q,H[2],Q+n.e)}if(H[3]!=1e9){y.T.push("M","L");
var S=c+n.m;if(H[5])y.w.push(Math.min(c,S,H[5][0]),H[3],Math.max(c,S,H[5][0]),H[3]);else y.w.push(c,H[3],S,H[3])}if(y.w.length!=0){w.I.lC=y;
w.Va=!0}};P.xz.Ov=function(w,n,H,y){var c=P.xz.asE(w,[[n.x],[n.y]],H,y);return new ce(n.x+c[0],n.y+c[1])};
P.xz.YY=function(w,n,H,y,c){var Q=c==!0?1:.5,q=P.xz.asE(w,[[n.x,n.x+Math.round(n.m*Q),n.x+n.m],[n.y,n.y+Math.round(n.e*Q),n.y+n.e]],H,y);
return q};P.xz.asE=function(w,n,H,y){if(y==null)y=[!0,null,!0];var c=[0,0,1e9,1e9,null,null];if(!H.yd)return c;
var Q=JSON.parse(JSON.stringify(n));for(var q=0;q<2;q++){var S=1e9,A=n[q],V=0,e=null;for(var d=0;d<A.length;
d++){var N=P.xz.ar0(w,A[d],Q[1-q][d],q,H,y),b=N[0];if(b!=1e9)Q[q][d]=b;if(b!=1e9&&Math.abs(b-A[d])<Math.abs(S)){S=b-A[d];
V=b;e=N[1]}}if(S!=1e9){c[q]=S;c[q+2]=V;c[q+4]=e}}return c};P.xz.ar0=function(w,n,H,y,c,Q){var q=1e9,S=null,A=c.Wg,V=c.al,e=[w.root];
while(e.length!=0&&A[2]){var d=e.pop(),N=d.j,b=N.rect;if(!N.tl())continue;if(d.children)for(var l=0;
l<d.children.length;l++)e.push(d.children[l]);if(w.g.indexOf(d.index)!=-1||b._G())continue;var z=b.m,v=z>>>1,T=b.e,Y=T>>>1,g=q;
if(y==0){if(Math.abs(b.x-n)<Math.abs(q-n))q=b.x;if(Math.abs(b.x+v-n)<Math.abs(q-n))q=b.x+v;if(Math.abs(b.x+z-n)<Math.abs(q-n))q=b.x+z}else{if(Math.abs(b.y-n)<Math.abs(q-n))q=b.y;
if(Math.abs(b.y+Y-n)<Math.abs(q-n))q=b.y+Y;if(Math.abs(b.y+T-n)<Math.abs(q-n))q=b.y+T}if(g!=q){S=[b.x+v,b.y+Y]}}var R=q;
q=1e9;if(Q[0]&&A[0]&&V.V_&&c.OH){var h=w._P(),E=h[0],G=h[1],k=w.Zf();for(var l=0;l<E.length;l++)if((G[l]==-1||G[l]==k)&&E[l][0]==y&&Math.abs(E[l][1]-n)<Math.abs(q-n))q=E[l][1]}if(A[1]&&V.LR&&c.OH){var $=Math.round(O.xr._Z(V.Rv,w.uP,w.m,V.c$));
if(y==1&&V.ZW==1){var p=H*.5*Math.sqrt(4/3),X;$*=Math.sqrt(4/3);X=Math.round((n-p)/$)*$+p;if(Math.abs(X-n)<Math.abs(q-n))q=X;
X=Math.round((n+p)/$)*$-p;if(Math.abs(X-n)<Math.abs(q-n))q=X}else{var X=Math.round(n/$)*$;if(Math.abs(X-n)<Math.abs(q-n))q=X}}var C=w.B0;
if(A[3]&&V.B0&&c.OH&&C.length!=0){for(var l=0;l<C.length;l++){if(!Q[2]&&w.J$.indexOf(l)!=-1)continue;
var D=P.pI.WT(C,l);for(var o=0;o<3;o+=2)if(D[o+y]!=n&&Math.abs(D[o+y]-n)<Math.abs(q-n))q=D[o+y]}}if(Q[1])for(var t=0;
t<Q[1].length;t++){var b=Q[1][t],z=b.m,T=b.e,u=[b.x,b.y,b.x+(z>>>1),b.y+(T>>>1),b.x+z,b.y+T];for(var l=0;
l<6;l+=2)if(Math.abs(u[l+y]-n)<Math.abs(q-n))q=u[l+y]}if(A[4]){var b=new cr(0,0,w.m,w.e),k=w.Zf();if(k!=-1)b=w.B[k].oC();
var z=b.m,T=b.e,u=[b.x,b.y,b.x+(z>>>1),b.y+(T>>>1),b.x+z,b.y+T];for(var l=0;l<6;l+=2)if(Math.abs(u[l+y]-n)<Math.abs(q-n))q=u[l+y]}if(Math.abs(q-n)<=Math.abs(R-n))S=null;
else q=R;var m=Math.abs(q-n)<=4*P.V()/w.u.N?q:1e9;return[m,S]};P.s1=function(){P.Me.call(this,[10,12],P.XZ,"tools/mwand");
this.GO=null};P.s1.prototype=new P.Me;P.s1.prototype.ae=P.Me.prototype.ayQ;P.s1.prototype.th=P.Me.prototype.as3;
P.s1.prototype.A9=function(w,n,H,y){this.GO=y;this.ahf=this.kT.wconf[0];this.finish(w,n,H,y)};P.s1.prototype.jf=function(w,n,H,y,c){if(!y.iO)return;
var Q=new aL(M.E.v);Q.G=P.O$;Q.data={d:"h_stepbck"};c.S(Q);var q=y.x-this.GO.x,S=Math.max(0,Math.min(255,Math.round(this.ahf+q/4)));
this.kT.wconf[0]=S;this.oZ(c);this.finish(w,n,H,this.GO)};P.s1.prototype.Cw=function(w,n,H,y,c){this.kT.wconf[0]=this.ahf;
this.oZ(c)};P.s1.prototype.getSelection=function(w,n,H,y){var c=this.dL;c=w.u.Sb(y.x,y.y);var Q=P.Me.acF(new ce(Math.floor(c.x),Math.floor(c.y)),this.kT.wconf,this.kT.sall);
return Q};P.s1.aa0=function(w,n,H,y,c){if(w.g.length!=1){alert("More than one layer selected.");return null}var Q=w.B[w.g[0]],q=null,S;
if(c)q=Q.Ks<=0?null:Q.Ks==1?Q.LZ():Q.iS(w).z;if(q==null&&Q.add.lsct!=null&&Q.add.lsct!=c0.Ua){alert("No layer selected.");
return null}if(n.x<0||n.x>w.m||n.y<0||n.y>w.e)return null;var A=new cr(0,0,w.m,w.e);if(y){S=w.E$()}else if(q==null&&A.Hw(Q.rect))S=Q.buffer;
else{S=O.R(A.O()*4);if(q==null)O.j1(Q.buffer,Q.rect,S,A);else P.sT.pJ(q.channel,q.rect,q.color,S,A)}var V=P.s1.Gq(S,A,n,null,H),e=O.zX(V,A),d=O.R(e.O());
O.qS(V,A,d,e);return{rect:e,channel:d}};P.s1.AV=function(w,n,H){var y=n.m,c=n.e,q=0,S=0,A=0,V=0;w=new Uint32Array(w.buffer);
var Q=[],e=H.length;for(var l=0;l<e;l++){var d=H[l],N=Math.round(d.x-.5-n.x),b=Math.round(d.y-.5-n.y);
N=Math.max(0,Math.min(y-1,N));b=Math.max(0,Math.min(c-1,b));var z=b*y+N,v=w[z];Q.push([v&255,v>>8&255,v>>16&255,v>>>24])}return Q};
P.s1.Gq=function(w,n,H,y,c){w=new Uint32Array(w.buffer);var Q=n.m,q=n.e,S=Q*q;if(y==null)y=P.s1.AV(w,n,[H]);
var A=Math.round(H.x-.5-n.x),V=Math.round(H.y-.5-n.y),e=V*Q+A,d=Date.now(),N=O.R(Q*q),b=c[0],z=1/b,v=c[1]&&b>0?255:0;
if(c[2]){var T=O.R(N.length),Y=new Uint32Array(S),g=1;Y[0]=A<<16|V;T[e]=1;while(g>0){var R=Y[g-1];g--;
var h=R>>>16,E=R&65535,l=E*Q+h,G=P.s1.A0(w[l],y);if(G>b){var k=v*(1-Math.max(0,Math.min(1,(G-b)*z)));
N[l]=~~k}else{N[l]=255;if(E!=q-1&&T[l+Q]==0){Y[g++]=h<<16|E+1;T[l+Q]=1}if(E!=0&&T[l-Q]==0){Y[g++]=h<<16|E-1;
T[l-Q]=1}if(h!=Q-1&&T[l+1]==0){Y[g++]=h+1<<16|E;T[l+1]=1}if(h!=0&&T[l-1]==0){Y[g++]=h-1<<16|E;T[l-1]=1}}}}else{for(var l=0;
l<S;l++){var G=P.s1.A0(w[l],y);if(G<=b)N[l]=255}for(var E=0;E<q;E++)for(var h=0;h<Q;h++){var l=E*Q+h;
if(N[l]==0&&(h>0&&(N[l-1]==255||E>0&&N[l-Q-1]==255||E<q-1&&N[l+Q-1]==255)||h<Q-1&&(N[l+1]==255||E>0&&N[l-Q+1]==255||E<q-1&&N[l+Q+1]==255)||E>0&&N[l-Q]==255||E<q-1&&N[l+Q]==255)){var G=P.s1.A0(w[l],y),k=v*(1-Math.max(0,Math.min(1,(G-b)*z)));
N[l]=~~k}}}return N};P.s1.A0=function(w,n){var H=n.length,y=P.s1.acc(w,n[0]),l=1;while(l!=H){y=Math.min(y,P.s1.acc(w,n[l]));
l++}return y};P.s1.acc=function(w,n){var H=w&255,y=w>>>8&255,c=w>>>16&255,Q=w>>>24&255;if(n[3]==0)return Q<5?0:255;
var q=Math.max(Math.abs(H-n[0]),Math.max(Math.abs(y-n[1]),Math.abs(c-n[2])));return Q==0?255:q};P.rV=function(w,n){if(n)P.sT.call(this);
else if(w)P.sT.call(this,[10,49],P._3,"tools/camove");else P.sT.call(this,[10,26],P.eO,"tools/patch");
this.q$=null;this.Ij=null;this.Q=null;this.Pi=null;this.Bo=new ce;this.uI=null;this.cG=null};P.rV.prototype=new P.sT;
P.rV.prototype.mO=function(w,n,H,y,c){var Q=w.u.Sb(c.x,c.y);if(w.P&&O.Z3(Q,w.P.channel,w.P.rect)){var q=new cr(0,0,w.m,w.e),S=q.Fa(w.P.rect);
if(!w.BG()||S._G())return;if(!0){var A=O.R(S.O());O.qS(w.P.channel,w.P.rect,A,S);w.P={channel:A,rect:S}}this.Ub(w);
this.Sz(w);this.Pi=Q;this.Bo=new ce(Q.x-w.P.rect.x,Q.y-w.P.rect.y);this.cG=O.R(w.P.rect.O()*4);this.cG.fill(255);
if(this.kT.patch==1){var V=w.B[w.g[0]];V.DI(w,w.P,!0);if(V.cJ==null)this.Pi=null}this.uI=w.P.rect.clone()}else{this.Ij={w:[Q.x,Q.y],T:["M"]};
this.q$=Q}};P.rV.prototype.C9=function(w,n,H,y,c){var Q=w.u.Sb(c.x,c.y);if(this.Pi){if(this.kT.patch==1){if(w.np.length==0){var q=w.B[w.g[0]].cJ,S=Q.x-this.Bo.x,A=Q.y-this.Bo.y;
P.xz.Jj(w,w.g[0],Math.round(S-q.nk.x),Math.round(A-q.nk.y))}}else this.acZ(w,Q,"clone")}if(this.q$){this.Ij.T.push("L");
this.Ij.w.push(Q.x,Q.y);this.q$=Q;w.I.lJ=this.Ij;w.Va=!0}};P.rV.prototype.sh=function(w,n,H,y,c){var Q=w.u.Sb(c.x,c.y);
if(this.Pi){var q=w.P.rect.clone();if(this.id==P._3){var S=w.B[w.g[0]];S.r4(w,S.cJ);w.P.rect=this.uI.clone();
var A=O.R(w.P.rect.O()*4);O.o2(w.P.channel,A,3);this.pU(w,"sheal",A,w.P.rect,w.P.rect);w.P.rect=q;q=q.ld(this.uI)}this.acZ(w,Q,"heal");
this.finish(w,q,null,null,!0);w.U(q);this.Pi=null}if(this.q$){var V=P.Me.wd(this.kT.setop,y.l(b8.fx),y.l(b8.FO)),e=new aL(M.E.dp,!0);
if(this.Ij.w.length<=4)e.data=P.Me.pd();else e.data=P.Me.jV(this.Ij.w,V);n.S(e);this.q$=null;w.I.lJ=null;
w.Va=!0}};P.rV.prototype.$Y=function(){return this.Q};P.rV.prototype.ro=function(w,n,H,y,c){P.sT.prototype.ro.call(this,w,n,H,y,c);
this.ZY(c,y)};P.rV.prototype.ZY=function(w,n){var H="auto;";if(n!=null&&n.l(b8.fx)&&!n.l(b8.FO)||this.kT.setop=="union")H="copy";
var y=new aL(M.E.L,!0);y.data={d:M.c.N4,Xn:H};if(this.caller)this.caller.S(y)};P.rV.prototype.acZ=function(w,n,H){var y=new ce(Math.round(this.Pi.x-n.x),Math.round(this.Pi.y-n.y));
if(this.kT.patch==1)y.HV(-y.x,-y.y);this.Q=y;this.pU(w,H,this.cG,w.P.rect,w.P.rect);this.U(w,w.P.rect)};
P.azD=function(){P.rV.call(this,!0);this.kT.patch=1};P.azD.prototype=new P.rV(!0,!0);P.Kj=function(){P.sT.call(this,[10,13],P.a7Y,"tools/pbucket");
this.OM=!1};P.Kj.prototype=new P.sT;P.Kj.prototype.enable=function(w,n,H,y){var c=new aL(M.E.L,!0);c.data={d:M.c.N4,Xn:"default"};
n.S(c)};P.Kj.prototype.AB=function(w,n){};P.Kj.prototype.mO=function(w,n,H,y,c){this.OM=!0};P.Kj.prototype.sh=function(w,n,H,y,c,Q){var q=this.OM;
this.OM=!1;if(!q||Q)return;if(this.Ig(y,n,c))return;if(!w.BG())return;var S=w.u.Sb(c.x,c.y),A=P.s1.aa0(w,S,this.kT.wconf,this.kT.sall,!0);
if(A==null)return;var V=O.R(A.rect.O()*4);O.jZ(V,(H.Ni&255)<<16|(H.Ni>>8&255)<<8|(H.Ni>>16&255)<<0);
O.o2(A.channel,V,3);this.Ub(w);this.pU(w,"draw",V,A.rect,A.rect);this.U(w,A.rect);this.finish(w,A.rect)};
P.pN=function(){P.Me.call(this,[10,14],P.aul,"tools/plasso");this.oW="crosshair";this.W8=[];this.a3=null;
this.Ij=null;this.aaa=0};P.pN.prototype=new P.Me;P.pN.prototype.disable=function(w,n,H,y){this.IA(w)};
P.pN.prototype.A9=function(w,n,H,y){this.W8=[b8.DB,b8.uU]};P.pN.prototype.XT=function(w){return this.W8.indexOf(w)!=-1};
P.pN.prototype.U8=function(w){return this.Ij!=null};P.pN.prototype.u6=function(){return this.Ij!=null};
P.pN.prototype.i7=function(){return this.Ij!=null};P.pN.prototype.jf=function(w,n,H,y){if(this.Ij==null)return;
var c=this.Ij,Q=c.w,q=Q.length-2,S=this.dL;if(this.ij.tV(1)&&H.l(b8.FO)&&y.iO){Q.push(0,0);c.T.push("L");
q+=2}else if(H.l(b8.fx))S=P.H2.bL(new ce(Q[q-2],Q[q-1]),S);Q[q]=S.x;Q[q+1]=S.y;w.I.lJ=c;w.Va=!0};P.pN.prototype.Cw=function(w,n,H,y){var c=Date.now();
if(this.Ij==null)this.Ij={w:[this.dL.x,this.dL.y,this.dL.x,this.dL.y],T:["M","L"]};else{this.jf(w,n,H,y);
if(c-this.aaa<250||ce.Re(this.dL,new ce(this.Ij.w[0],this.Ij.w[1]))<P.L$(w,y)){this.a3=this.Ij;this.finish(w,n,H,y);
this.IA(w);return}this.Ij.T.push("L");this.Ij.w.push(this.dL.x,this.dL.y)}this.aaa=c;w.I.lJ=this.Ij};
P.pN.prototype.IA=function(w){this.Ij=null;this.W8=[];if(w!=null){w.I.lJ=null;w.Va=!0}};P.pN.prototype.QI=function(w,n,H,y){P.Me.prototype.QI.call(this,w,n,H,y);
if(y.l(b8.RN)&&this.Ij==null&&this.a3&&w.P!=null){var c=new aL(M.E.v);c.G=P.O$;c.data={d:"h_stepbck"};
n.S(c);this.A9(w,H,y,null);this.Ij=this.a3;return}if(this.Ij==null)return;if(y.l(b8.DB)||y.l(b8.uU)){this.Ij.w.pop();
this.Ij.w.pop();this.Ij.T.pop();this.jf(w,H,y)}if(y.l(b8.IO)){if(this.Ij.w.length>4){this.a3=this.Ij;
this.finish(w,H,y)}this.Ij=null}if(y.l(b8.RN)){this.Ij=null}w.I.lJ=this.Ij;w.Va=!0};P.pN.prototype.getSelection=function(w,n,H,y){return P.Me.jV(this.Ij.w,null,this.kT.anta)};
P.Dd=function(){P.Me.call(this,[10,10],P.afu,"tools/mlasso");this.oW="crosshair";this.W8=[];this.i=[];
this.sV=[];this.WQ=[];this.tg=null;this.yC=null;this.TW=null;this.vO=0;this.Dh=0};P.Dd.prototype=new P.Me;
P.Dd.prototype.disable=function(w,n,H,y){this.clear(w)};P.Dd.prototype.U8=function(w){return this.i.length!=0};
P.Dd.prototype.i7=function(){return this.i.length!=0};P.Dd.prototype.XT=function(w){return this.W8.indexOf(w)!=-1};
P.Dd.prototype.A9=function(w,n,H,y){this.W8=[b8.DB,b8.uU];var c=this.cc(this.Pz,w);if(this.i.length!=0&&(ce.Re(c,this.i[0])<P.L$(w,y)||Date.now()-this.vO<300)){this.t5(w,this.i[0]);
this.finish(w,n,H);this.clear(w);return}this.vO=Date.now();if(this.i.length!=0)c=this.Sv(c,w);else{var Q=w.m,q=w.e,S=O.R(Q*q),A=w.E$(),V=Q*q*4;
for(var l=0;l<V;l+=4)S[l>>>2]=~~(.5+O.LC(A[l],A[l+1],A[l+2])*(A[l+3]*(1/255)));this.tg=O.wN.abN(S,Q,q);
this.TW=new Uint16Array(S.length)}this.t5(w,c);this.Dh=H.l(b8.FO)?1:0;this.kZ(w)};P.Dd.prototype.t5=function(w,n){var H=this.i;
this.sV[H.length]=this.WQ.length;if(H.length!=0){O.wN.Kq(this.yC,n.y*w.m+n.x);var y=this.pS(w,n);y.reverse();
var c=P.Dd.adO(w,y);this.WQ=this.WQ.concat(c)}H.push(n);this.a0x(w)};P.Dd.prototype.a0x=function(w){var n=this.i[this.i.length-1],H=n.y*w.m+n.x;
this.yC=O.wN.axi(this.tg.Sp,this.tg.fg,H);this.TW.fill(0)};P.Dd.prototype.cc=function(w,n){return new ce(Math.floor(Math.max(0,Math.min(n.m-1,w.x))),Math.floor(Math.max(0,Math.min(n.e-1,w.y))))};
P.Dd.prototype.clear=function(w){this.WQ=[];this.i=[];this.sV=[];this.tg=null;this.yC=null;this.TW=null;
if(w!=null){w.I.lJ=null;w.I.aN=[];w.Va=!0}this.W8=[]};P.Dd.prototype.jf=function(w,n,H,y){var c=this.i,Q=c.length;
if(Q==0)return;var q=this.Sv(this.cc(this.dL,w),w),S=this.pS(w,q);for(var l=0;l<S.length;l++){var A=S[l],V=new ce(A%w.m,Math.floor(A/w.m));
if(this.TW[A]>30&&ce.Re(V,c[Q-1])>20){this.t5(w,V);return}this.TW[A]++}if(this.Dh==1&&y.iO)this.t5(w,q);
this.kZ(w)};P.Dd.prototype.kZ=function(w){var n=this.i;if(n.length!=0){var H=this.Sv(this.cc(this.dL,w),w),y=this.pS(w,H);
y.reverse();var c=P.Dd.adO(w,y),Q=this.WQ.concat(c),q=w.I.lJ={w:Q,T:["M"]};for(var l=2;l<Q.length;l+=2)q.T.push("L")}w.I.aN=[];
for(var l=0;l<n.length;l++)w.I.aN.push(n[l].x+.5,n[l].y+.5);w.Va=!0};P.Dd.prototype.Cw=function(w,n,H,y){};
P.Dd.prototype.QI=function(w,n,H,y){if(this.i.length==0)return;if(y.l(b8.DB)||y.l(b8.uU)){this.i.pop();
this.WQ=this.WQ.slice(0,this.sV[this.i.length]);this.sV.pop();if(this.i.length==0)this.clear(w);else this.a0x(w);
this.kZ(w)}if(y.l(b8.IO)){var c=this.cc(this.dL,w);this.t5(w,c);this.finish(w,H,y);this.clear(w)}if(y.l(b8.RN)){this.clear(w)}};
P.Dd.prototype.getSelection=function(w,n,H,y){return P.Me.jV(this.WQ,null,this.kT.anta)};P.Dd.prototype.pS=function(w,n){var H=this.i[this.i.length-1],y=H.y*w.m+H.x,c=n.y*w.m+n.x;
if(this.Dh==1)return[c,y];var Q=[c];while(c!=y){c=this.yC.Oo[c];Q.push(c);if(Q.length>5e3){console.log(Q);
throw"e"}}return Q};P.Dd.adO=function(w,n){var H=[],y=w.m;for(var l=0;l<n.length;l++){var c=n[l];H.push(c%y+.5,Math.floor(c/y)+.5)}return H};
P.Dd.prototype.Sv=function(w,n){var H=n.m,y=n.e,c=w.clone(),q=3;O.wN.Kq(this.yC,w.y*H+w.x);var Q=this.yC.Rk[w.y*H+w.x];
for(var S=-q+1;S<q;S++)for(var A=-q+1;A<q;A++){var V=w.x+A,e=w.y+S;if(V<0||V>=H||e<0||e>=y)continue;
O.wN.Kq(this.yC,e*H+V);if(this.yC.Rk[e*H+V]<Q)c.HV(V,e)}return c};P.Dw=function(){P.rG.call(this,[10,36],P.s0,"tools/ruler");
this.Ug=null;this.Jk=null;this.Z_=null;this.$l=null;this.Di=null};P.Dw.prototype=new P.rG;P.Dw.prototype.U8=function(w){return w.iO};
P.Dw.prototype.enable=function(w,n,H,y){P.rG.prototype.enable.call(this,w,n,y,H);if(w)this.Rb(w)};P.Dw.prototype.disable=function(w,n,H,y){if(w)this.IA(w)};
P.Dw.prototype.dZ=function(w,n,H,y,c){this.Ug=this.Z_=null;this.Rb(H)};P.Dw.prototype.mO=function(w,n,H,y,c){var Q=P.L$(w,c),q=w.u.Sb(c.x,c.y);
q.x=Math.round(q.x);q.y=Math.round(q.y);var S=this.Ug;this.Jk=S?S.slice(0):null;var A=S&&ce.Re(q,S[0])<Q,V=S&&ce.Re(q,S[1])<Q,e=S&&S[2]&&ce.Re(q,S[2])<Q;
if(A||V||e){if(y.l(b8.FO)&&S.length==2){if(V){var d=S[0];S[0]=S[1];S[1]=d}S[2]=S[0].clone();this.Z_=[2]}else this.Z_=[A?0:V?1:2]}else if(S&&P.Dw.ajC(S[0],S[1],q)<Q&&Math.min(S[0].x,S[1].x)-5<=q.x&&q.x<=Math.max(S[0].x,S[1].x)+5&&Math.min(S[0].y,S[1].y)-5<=q.y&&q.y<=Math.max(S[0].y,S[1].y)+5){this.Z_=[];
this.Di=[];for(var l=0;l<S.length;l++){this.Z_.push(l);this.Di.push(S[l].clone())}this.$l=q}else{this.Ug=[q.clone(),q.clone()];
this.Z_=[1]}};P.Dw.prototype.C9=function(w,n,H,y,c){if(this.Z_==null)return;var Q=this.Ug,q=this.Z_,S=w.u.Sb(c.x,c.y);
S.x=Math.round(S.x);S.y=Math.round(S.y);if(q.length>1){var A=S.x-this.$l.x,V=S.y-this.$l.y;for(var l=0;
l<Q.length;l++){Q[l]=this.Di[l].clone();Q[l].offset(A,V)}}else{Q[q[0]].HV(S.x,S.y);if(y.l(b8.fx)){Q[q[0]]=P.H2.bL(Q[1-q[0]],Q[q[0]])}}this.Rb(w);
this.ZX(n,M.E.L,{d:M.c.Hi,G:this.id,a4z:Q[0],rN:Q[1],GI:Q[2],uP:w.uP,aaC:w.m});w.u.HW=O.p.w1([Q[0].x,Q[0].y,Q[1].x,Q[1].y]);
console.log(w.u.HW)};P.Dw.prototype.sh=function(w,n,H,y,c,Q){this.Z_=null;if(Q){this.Ug=this.Jk.slice(0);
this.Rb(w)}};P.Dw.prototype.ZX=function(w,n,H){var y=new aL(n,!0);y.data=H;w.S(y)};P.Dw.prototype.Rb=function(w){var n=this.Ug;
if(n==null)this.IA(w);else{var H=[n[1].x,n[1].y,n[0].x,n[0].y],y=["M","L"];if(n.length>2){H.push(n[2].x,n[2].y);
y.push("L")}w.I.lJ={T:y,w:H};w.I.aN=H}w.Va=!0};P.Dw.prototype.IA=function(w){w.I.lJ=null;w.I.aN=[]};
P.Dw.ajC=function(w,n,H){var y=n.x-w.x,c=n.y-w.y,Q=Math.abs(c*H.x-y*H.y+n.x*w.y-n.y*w.x),q=Math.sqrt(y*y+c*c);
return q==0?0:Q/q};P.fU=function(){P.sT.call(this,[10,19],P._H,"tools/sharpen");this.Lt="copy"};P.fU.prototype=new P.sT;
P.fU.prototype.mO=function(w,n,H,y,c){var Q=this.kT.pdetail?cn.B_:cn._H;if(y.l(b8.FO))Q=cn.ly;this.$G(w,H,y,c,this.kT.strn,Q);
if(this.Oi==null)return;this.Jw(w)};P.fU.prototype.C9=function(w,n,H,y,c){this.u2(w,n,H);if(this.bO)this._f(w,H,c);
if(this.Oi==null)return;if(!c.iO)return;this.nc(w,H,y,c);this.Jw(w)};P.Eb=function(){P.sT.call(this,[10,24],P.m0,"tools/shbrush");
this.Lt="draw";this.kT.opacity=.5};P.Eb.prototype=new P.sT;P.Eb.prototype.mO=function(w,n,H,y,c){this.$G(w,H,y,c,1);
if(this.Oi==null)return;this.Sz(w);this.Jw(w)};P.Eb.prototype.C9=function(w,n,H,y,c){this.u2(w,n,H);
if(this.bO)this._f(w,H,c);if(this.Oi==null)return;if(!c.iO)return;this.nc(w,H,y,c);this.Jw(w)};P.Eb.prototype.sh=function(w,n,H,y,c){if(this.Oi==null)return;
this.pU(w,"sheal",this.Oi.L5(),this.Oi.fH(),this.Oi.xV(),null);this.U(w,this.Oi.xV());P.sT.prototype.sh.call(this,w,n,H,y,c)};
P.Ir=function(){P.sT.call(this,[10,20],P.$0,"tools/smudge");this.Lt="copy"};P.Ir.prototype=new P.sT;
P.Ir.prototype.mO=function(w,n,H,y,c){this.$G(w,H,y,c,this.kT.strn,cn.$0);if(this.Oi==null)return;this.Jw(w)};
P.Ir.prototype.C9=function(w,n,H,y,c){this.u2(w,n,H);if(this.bO)this._f(w,H,c);if(this.Oi==null)return;
if(!c.iO)return;this.nc(w,H,y,c);this.Jw(w)};P.Mb=function(){P.sT.call(this,[10,23],P.Ge,"tools/sponge");
this.Lt="sponge"};P.Mb.prototype=new P.sT;P.Mb.prototype.mO=function(w,n,H,y,c){this.$G(w,H,y,c,this.kT.flow);
if(this.Oi==null)return;this.Jw(w)};P.Mb.prototype.C9=function(w,n,H,y,c){this.u2(w,n,H);if(this.bO)this._f(w,H,c);
if(this.Oi==null)return;if(!c.iO)return;this.nc(w,H,y,c);this.Jw(w)};P.kL=function(){P.rG.call(this,[10,17],P.uD,"tools/zoom");
this.G$=!1;this.wy=!0;this.QH=!1;this.eF=0;this.gQ=null;this.mg=null;this.YR=0;this.ET=null;this.adu=0;
this.ky=new az([{name:[8,0],Jg:"Ctrl + +"},{name:[8,1],Jg:"Ctrl + -",Pp:!0},{name:[20,3],Jg:"Ctrl + 0"},{name:["VAR0: 100%",[20,2]],Jg:"Ctrl + 1"}],[{Y:M.E.v,G:P.uD,W:{d:"zoom",wy:!0}},{Y:M.E.v,G:P.uD,W:{d:"zoom",wy:!1}},{Y:M.E.v,G:P.uD,W:{d:"adapt",Z:"fitscr"}},{Y:M.E.v,G:P.uD,W:{d:"adapt",Z:"pixel"}}])};
P.kL.prototype=new P.rG;P.kL.prototype.Qz=function(w,n,H,y,c){var Q=this.ky;Q.f();Q.parent=n;Q.update(w,H);
var q=new aL(M.E.L,!0);q.data={d:M.c.hf,_0:Q,x:c.JV+2,y:c.m6+1};n.S(q)};P.kL.prototype.enable=function(w,n,H,y){this.Fu(n,y);
if(w&&Date.now()-this.eF<300)this.dZ({d:"adapt",Z:"pixel"},n,w,y,H);this.eF=Date.now()};P.kL.prototype.mO=function(w,n,H,y,c){this.mg=new ce(c.x,c.y);
this.YR=w.u.N;this.ET=w.u.Q.clone()};P.kL.prototype.C9=function(w,n,H,y,c){if(this.mg==null)return;var Q=Math.exp(Math.log(this.YR)+(c.x-this.mg.x)/64);
Q=Math.max(.02,Math.min(P.kL.Vl[0],Q));w.u.N=this.YR;w.u.Q=this.ET.clone();this.dZ({d:"zoom",N:Q,nj:this.mg,QH:this.QH},n,w,y,H)};
P.kL.prototype.sh=function(w,n,H,y,c){if(ce.Re(this.mg,c)<4){var Q=this.awN(y);this.dZ({d:"zoom",wy:Q,nj:c,QH:this.QH},n,w,y,H)}this.mg=null};
P.kL.Vl=[128,64,32,16,12,8,6,5,4,3,2,1,2/3,1/2,1/2*(2/3),1/4,1/4*(2/3),1/8,1/8*(2/3),1/16,1/16*(2/3),1/32,1/32*(2/3),1/64];
P.kL.amX=function(w,n,H,y){var c=1;while(w*c*1/2>H||n*c*1/2>y)c*=1/2;if(w*c*2/3>H||n*c*2/3>y)c*=1/2;
else if(w*c>H||n*c>y)c*=2/3;return c};P.kL.azs=function(w,n){var H=P.kL.a91(w);if(n&&H==0)return w;if(!n&&H==P.kL.Vl.length-1)return w;
return P.kL.Vl[n?H-1:H+1]};P.kL.a91=function(w){var n=0;while(P.kL.Vl[n]>w)n++;return n};P.kL.fS=function(w,n,H,y){var c=w.z3;
if(y==0||y==null){y=P.kL.azs(w.N,H);if(y==w.N)return}var Q=w.Sb(n.x,n.y);Q.x=Math.max(0,Math.min(c.m,Q.x));
Q.y=Math.max(0,Math.min(c.e,Q.y));if(!1){}else{var q=w.ZP(),S=w.N/y;q.translate(-Q.x,-Q.y);q.scale(S,S);
q.translate(Q.x,Q.y);w.a4G(q)}};P.kL.prototype.dZ=function(w,n,H,y,c){if(w.d=="pzoom"){if(typeof w.Z=="string")return;
w={d:"zoom",N:w.Z/100}}var Q=0,q=!1,S=null;if(w.d=="adapt"){var A=0;if(w.Z=="pixel")A=1;if(w.Z=="fitscr"){var A=0,V=H.u.GN.m,e=H.u.GN.e,d=new cr(0,0,H.m,H.e),N=O.p.u3(d).w,b=new b7;
b.rotate(H.u.db);O.p.D(N,b,N);var z=O.p.hH(N),v=c.Mr?O.xr.iY+4:8;A=Math.min((V-v*2)/z.m,(e-v*2)/z.e);
H.u.Q.HV(0,0)}S=new ce(Math.round(H.u.GN.m/2),Math.round(H.u.GN.e/2));Q=A;P.kL.fS(H.u,S,q,Q);H.qF=!0}if(w.d.startsWith("multi")){function T(X){var u=X[0].x-X[1].x,m=X[0].y-X[1].y;
return Math.sqrt(u*u+m*m)}function Y(X){return new ce((X[0].x+X[1].x)/2,(X[0].y+X[1].y)/2)}var g=w.pf,R=Y(g);
if(w.d=="multidown"){this.gQ=[g,H.u.N,H.u.Sb(R.x,R.y)]}else{var h=P.kL.Vl;Q=this.gQ[1]*T(g)/T(this.gQ[0]);
Q=Math.max(h[h.length-1],Math.min(h[0],Q));if(Q!=H.u.N)P.kL.fS(H.u,R,q,Q);var E=this.gQ[2],G=H.u.Cc(E.x,E.y),k=H.u.Q;
k.x=Math.round(k.x+R.x-G.x);k.y=Math.round(k.y+R.y-G.y);H.qF=!0}}if(w.d=="scroll"){S=w.nj;var h=P.kL.Vl,$=w.c5.y,p=1+Math.abs($)*8e-4*(w.azH?10:1);
if($>0)p=1/p;Q=H.u.N*p;P.kL.fS(H.u,S,q,Math.min(h[0],Math.max(h[h.length-1],Q)));H.qF=!0}if(w.d=="zoom"){var X=w.QH?n.oE:[H];
for(var l=0;l<X.length;l++){var C=X[l],D=C.u;S=w.nj?w.nj:new ce(Math.round(D.GN.m/2),Math.round(D.GN.e/2));
if(w.N!=null)Q=w.N;else q=w.wy;P.kL.fS(D,S,q,Q);C.qF=!0}}if(w.d=="mskView"){var o=H.B[H.g[0]];if(o.Ks<=0){o.Ks=1;
H.zi=!0}var t=o.Ks==3?o.iS(H).z:o.LZ();if(w.Z==0){H.u.vE=[1,1,1];t.SC=!1}if(w.Z==1){H.u.vE=[1,1,1];t.SC=!0}if(w.Z==2){H.u.vE=[0,0,0];
t.SC=!0}for(var l=0;l<H.d4.length;l++)H.d4[l].SC=!1;H.np=[];H.Va=!0}};P.kL.prototype.QI=function(w,n,H,y){if(this.G$!=y.l(b8.FO)){this.G$=y.l(b8.FO);
var c={d:M.c.Hi,G:this.id,G$:this.G$},Q=new aL(M.E.L,!0);Q.data=c;n.S(Q);this.Fu(n,y)}};P.kL.prototype.Fu=function(w,n){var H=new aL(M.E.L,!0),y=this.awN(n);
H.data={d:M.c.N4,Xn:y?"zoom-in":"zoom-out"};w.S(H)};P.kL.prototype.ro=function(w,n,H,y){this.wy=w.wy;
this.QH=w.QH;this.Fu(n,y)};P.kL.prototype.awN=function(w){var n=this.wy;if(w.l(b8.QQ)&&w.l(b8.NX))n=!0;
if(this.G$)n=!n;return n};P.kL.aho=function(w,n){if(w.l(b8.iA)||w.l(b8.a9Q)){n.G=P.uD;n.data={d:"zoom",wy:!0}}if(w.l(b8.u_)){n.G=P.uD;
n.data={d:"zoom",wy:!1}}if(w.l(b8.W$)){n.G=P.uD;n.data={d:"adapt",Z:"fitscr"}}if(w.l(b8.gP)){n.G=P.uD;
n.data={d:"adapt",Z:"pixel"}}};P.S2=function(w,n,H){P.rG.call(this,w,n,H);this.mC=null;this.Uz=null;
this.ZZ=null;this.atB=0};P.S2.prototype=new P.rG;P.S2.Qi=function(w){var n={t:"obj ",v:[{t:"prop",v:{classID:"Path",keyID:"WrPt"}}]},H=w==0?{classID:"null",null:n,WhPt:{t:"bool",v:!0}}:{classID:"Strk",null:n,Usng:{t:"type",v:{classID:"PbTl"}},__name:"Stroke"};
return{fd:w==0?"fill":"stroke",ei:H}};P.S2.prototype.enable=function(w,n,H,y,c){this.Uz=H;var Q=new aL(M.E.L,!0);
Q.data={d:M.c.N4,Xn:"default"};n.S(Q)};P.S2.prototype.Qz=function(w,n,H,y,c){var Q=w._e(),q=Q[0],S=Q[1];
if(S.length==0)return;var A=q[S[0]],V=A.add.vmsk,e=w.u.Sb(c.x,c.y),d=4*P.V()/w.u.N,N=new cr(e.x-d,e.y-d,d*2,d*2),b=O.r.Jb(V.i,N)[0];
if(b.length!=0){V.V1=b;w.Va=!0}var z=O.r.Z3(V.i,e).cm;if(z!=-1){V.g=[z];w.Va=!0}var v=new aL(M.E.L,!0);
v.data={d:M.c.Hi,G:this.id,nu:c,UE:w,KM:H};n.S(v)};P.S2.prototype.afw=function(w,n){var H=new aL(M.E.L,!0);
H.data={d:M.c.Yj,PY:h6.$T};if(!n.OH)w.S(H);H.data={d:M.c.Yj,PY:h6.WV};if(!n.al.Wh)w.S(H)};P.S2.prototype.BK=function(w,n,H,y){if(H.ZR!=this.id)return;
if(w.g.length==0)return;var c=w.B[w.g[0]],Q=c.add.vmsk,q=c.add.vstk,S=P.S2.bH(w,w.g[0]);this.mC=w;this.ZZ=n;
if(c.hu()&&Q!=null&&(JSON.stringify(q)!=JSON.stringify(H.Lp)||JSON.stringify(S)!=JSON.stringify(H.jP))){this.atB=Date.now();
var A=new aL(M.E.L,!0);A.data={d:M.c.Yj,PY:h6.im,Z:S};n.S(A);A.data={d:M.c.Yj,PY:h6.pE,Z:q};n.S(A)}};
P.S2.prototype.AB=function(w,n){if(this.mC==null)return;if(n==h6.z8||n==h6.im||n==h6.pE){if(Date.now()-this.atB<50)return;
var H=n==h6.im,y=this.mC,c=H?w.jP:w.Lp,Q=[],q=y.g;for(var l=0;l<q.length;l++){var S=q[l],A=y.B[S];if(!A.hu()||A.add.vmsk==null)continue;
Q.push(S)}var V=new aL(M.E.v,!0);V.G=P.YV;V.data={d:a.pk,uy:Q,OO:H,Z:c};if(Q.length!=0)this.ZZ.S(V)}};
P.S2.prototype.aq0=function(w){if(typeof w=="number"){var n=new aL(M.E.dp,!0);n.data=P.FQ.ba(0);n.data.ei.Usng.v.Type.v.Clr.v=O.M.Yw({b:w>>>16&255,J:w>>>8&255,k:w>>>0&255});
this.ZZ.S(n)}};P.S2.prototype.dZ=function(w,n,H,y,c){this.ZZ=n;if(w.d=="newfill"){if(w.Ph==0){var Q=new aL(M.E.L,!0);
Q.data={d:M.c.rL,Ln:"colorpicker",qA:c.Ni,Ro:this.aq0.bind(this)};n.S(Q)}}else if(w.d=="pathedit"){var q=w.cl,S="",A=H.Wh.slice(0),V=H.SV.slice(0),e=H.Wh.slice(0),d=H.SV.slice(0);
if(q=="rnm"){var N=-1-w.cm,b=A[N],z=iC.nN(w.name,b.add);if(N!=0)e[N]=z;else{d=[e.length];e.push(z);e[0]=iC.nN("Work Path")}S="Rename"}else if(q=="new"){var z=iC.nN("Path "+A.length);
if(w.a6b){var v=H._e(),T=v[0],Y=v[1],R=T[Y[0]];z.add.vmsk=R.add.vmsk.clone();z.add.vogk=JSON.parse(JSON.stringify(R.add.vogk));
if(R.cm==-1){var h=e[d[0]]=iC.nN("Path "+A.length);h.name=R.name;h.cm=R.cm}}e.push(z);d=[e.length-1];
S="New"}else if(q=="del"){if(d.length==0)return;d.sort(function(t,K){return t-K});if(d[0]==0){e[0]=iC.nN(A[0].name);
d=d.slice(1)}var E=0;while(d.length!=0){e.splice(d[0]-E,1);d=d.slice(1);E++}S="Delete"}else if(q=="fromsel"){var G=e[0]=iC.nN("Work Path");
d=[0];if(H.P==null)return;var k=H.P.channel.slice(0);for(var l=0;l<k.length;l++)k[l]=k[l]>128?2:1;var $=H.P.rect.clone();
$.i_(1,1);var p=O.R($.O());O.qS(k,H.P.rect,p,$);var X=jv.Lv(p,$.m,$.e,Math.round($.O()*5e-4)),T=jv._e(X),C=new b7(1,0,0,1,-1+H.P.rect.x,-1+H.P.rect.y);
for(var l=0;l<T.length;l++)O.p.D(T[l].path.w,C,T[l].path.w);for(var l=0;l<T.length;l++){var D=T[l];if(D.color==1&&D.parent==-1)continue;
var o=O.p.KL(T[l].path,!1);G.add.vmsk.i=G.add.vmsk.i.concat(o.slice(2))}G.add.vogk=a.cv(G.add.vmsk.i);
S="Selection to"}var t=new dq(S+" Path",this);t.data={Jk:A,mk:V,a2v:e,T7:d};if(q=="fromsel"){t.data.Cr=H.P;
t.data.Ee=null}H.c0(t);this.KC(t.data,H)}else{var u=w.hG,v=H._e(w.d=="append"||w.d=="fromAction"),T=v[0],Y=v[1],G=T[Y[0]],m=G.add.vmsk,U=G.add.vogk,I=m.clone(),x=m.clone(),J=JSON.stringify(U);
if(w.d=="fromAction"){var r=w.nG,Z=r.fd,f=r.ei,F=f.T;if(Z=="set"){if(F){U.push(O.X.sQ(F));x.i.push({type:0,NB:1,length:0});
O.X.X8(U,x);u=[12,76,0]}else throw f}else if(Z=="draw"){U=[O.X.sQ(f.Shp)];x.i.push({type:0,NB:1,length:0});
O.X.X8(U,x);P.S2.asw(x.i,f.AntA.v,c.Ni,n);return}else throw Z}else if(w.d=="remove"){if(w.gY&&x.V1.length!=0){x.i=O.r.aqQ(x.i,x.V1,U,w.a3c);
var _=O.r.xD(x.i);for(var l=0;l<x.g.length;l++)if(x.g[l]>=_){x.g.splice(l,1);l--}x.V1=[];u="Delete Anchors"}else{if(x.g.length==0)return;
var E=0;for(var l=0;l<x.g.length;l++){U.splice(x.g[l]+E,1);E--}x.i=O.r.a8Q(x.i,x.g);x.g=[];x.V1=[];if(u==null)u="Delete Paths"}}if(w.d=="append"){P.S2.fc(w.azk,x,U)}this.t_(H,G.cm,x,U);
this.D6(H,u,G.cm,I,x.clone(),null,J,JSON.stringify(U))}};P.S2.asw=function(w,n,H,y){var c=new a.TB;c.i=c.i.concat(w.slice(2));
var Q=c.LZ();if(!n)O.round(Q.channel);var q=O.R(Q.rect.O()*4);O.jZ(q,(H&255)<<16|(H>>8&255)<<8|(H>>16&255)<<0);
O.o2(Q.channel,q,3);var S=new aL(M.E.v,!0);S.G=P.p6;S.data={d:"draw",jR:{buffer:q,rect:Q.rect.clone()},hG:this.name};
y.S(S)};P.S2.Q0=function(w,n){var H=O.r.aeR(w.i,w.g),y=[];for(var l=0;l<w.g.length;l++)y.push(JSON.parse(JSON.stringify(n[w.g[l]])));
return[H,y]};P.S2.fc=function(w,n,H){var y=O.r.xD(n.i),c=O.r.xD(w[0]);n.i=n.i.concat(w[0].slice(2));
n.g=[];for(var l=0;l<c;l++)n.g.push(y+l);for(var l=0;l<c;l++)H.push(JSON.parse(JSON.stringify(w[1][l])))};
P.S2.prototype.XT=function(w,n){if(n==null)return!1;var H=n._e(),y=H[0],c=H[1];if(c.length==0)return!1;
var Q=y[c[0]],q=Q.add.vmsk;if(q&&q.g.length+q.V1.length!=0)return[b8.DB,b8.uU].indexOf(w)!=-1};P.S2.prototype.QI=function(w,n,H,y){if(w==null)return;
var c=w._e(),Q=c[0],q=c[1];if(q.length==0)return;var S=Q[q[0]],A=S.add.vmsk;if(y.l(b8.RN)||y.l(b8.IO)||this.id==P.f2&&y.l(b8.aR)){A.V1=[];
w.Va=!0}if(A.g.length!=0){var V=y.oY(w?w.u.db:0);if(V.x!=0||V.y!=0){var e=A.clone(),d=A.clone(),N=new b7(1,0,0,1,V.x,V.y),b=S.add.vogk,z=JSON.stringify(b);
if(y.l(b8.FO)){var v=P.S2.Q0(d,b);P.S2.fc(v,d,b)}O.r._R(d.i,N,d.g);O.X.D(b,O.K.og(N),d.g);this.t_(w,S.cm,d,b);
this.D6(w,"Move Paths",S.cm,e,d.clone(),!0,z,JSON.stringify(b))}if(y.l(b8.DB)||y.l(b8.uU))this.dZ({d:"remove",gY:this.id==P.f2},n,w,y,H)}};
P.S2.prototype.D6=function(w,n,H,y,c,Q,q,S){var A=new dq(n,this);A.data={qn:H,xL:y,DF:c,ai5:Q,agN:q,iG:S};
w.c0(A)};P.S2.prototype.KC=function(w,n){if(w.qn!=null)this.t_(n,w.qn,w.DF.clone(),JSON.parse(w.iG));
else{n.Wh=w.a2v.slice(0);n.SV=w.T7.slice(0);n.Va=n.zi=!0}if(w.Cr||w.Ee){n.P=w.Ee;n.Ii=!0}};P.S2.prototype.LL=function(w,n){if(w.qn!=null)this.t_(n,w.qn,w.xL.clone(),JSON.parse(w.agN));
else{n.Wh=w.Jk.slice(0);n.SV=w.mk.slice(0);n.Va=n.zi=!0}if(w.Cr||w.Ee){n.P=w.Cr;n.Ii=!0}};P.S2.prototype.t_=function(w,n,H,y){var c=n<0?w.Wh[-1-n]:n<1e6?w.B[n]:w.B[n-1e6].add.TySh,Q=c.add.vmsk;
Q.channel=null;Q.Yh=!0;if(Q.lZ){Q.lZ.channel=null;Q.lZ.Yh=!0}c.add.vmsk=H;c.add.vogk=y;if(1e6<=n){j1.h2(c);
var q=w.B[n-1e6],S=c,A=this.Uz;kn.Pu(q,A.KF);w.U()}else if(0<=n){H.Yh=!0;c.qL(w);w.U()}w.Va=w.zi=!0};
P.S2.bH=function(w,n){var H=w.B[n],y=H.add.vstk,c=null;if(y&&!y.fillEnabled.v)c={SU:0};else if(H.add.SoCo)c={SU:1,WL:H.add.SoCo};
else if(H.add.GdFl)c={SU:2,WL:H.add.GdFl};else if(H.add.PtFl)c={SU:3,WL:H.add.PtFl};return c};P.S2.hU=function(w,n){var H=w.add.vmsk,y=w.add.vstk,c=n.SU;
if(y)y.fillEnabled.v=c!=0;if(c>0){var Q=["SoCo","GdFl","PtFl"][c-1];for(var l=0;l<3;l++)delete w.add[["SoCo","GdFl","PtFl"][l]];
w.add[Q]=n.WL}};P.FQ=function(w,n,H,y){P.S2.call(this,w,n,H);this.kT={shape:ca.B1(),pshape:0,binop:0,crad:0,irad:40,length:4,sides:5,width:5,tolr:5,tsiz:300,cstr:{lG:0},anta:!0,aopts:[!1,!1,50,100,0]};
this.aoT=y;this.CE=null;this.OI=null;this.xp=null;this.ij=new j6};P.FQ.prototype=new P.S2;P.FQ.prototype.U8=function(w){return w.iO&&this.id!=P.Ea};
P.FQ.prototype.enable=function(w,n,H,y,c){this.Uz=H;var Q=new aL(M.E.L,!0);Q.data={d:M.c.N4,Xn:"crosshair"};
n.S(Q)};P.FQ.prototype.QI=function(w,n,H,y){P.S2.prototype.QI.call(this,w,n,H,y);this.ij.QI(y);this.Rr(n,H)};
P.FQ.prototype.Rr=function(w,n){var H=new aL(M.E.L,!0);H.data={d:M.c.Hi,G:this.id,AX:this.NL(n)};w.S(H)};
P.FQ.prototype.NL=function(w){var n=this.ij.RZ(0),H=this.ij.tV(0),y=P.Me.wd(this.kT.binop,n,H);if(w.zd==1&&y==0)y=1;
return y};P.FQ.prototype.Nv=function(w,n,H,y){};P.FQ.prototype.mO=function(w,n,H,y,c){var Q=H.zd;if(Q!=2)this.afw(n,H);
if(Q==2&&!w.BG())return;var q=w.u.Sb(c.x,c.y);q=P.xz.Ov(w,q,H);this.xp=[q.x,q.y];this.CE=q;this.OI=new ce(0,0);
this.ij.mO(y)};P.FQ.prototype.ank=function(w,n,H,y){var c=[this.CE.clone(),n.clone()];H=this.ij.RZ(1)||H.l(b8.fx)||this.ij.tV(1)?H:null;
if(this.aoT)c=P.FQ.Uu(c[0],c[1],H,!0,this.kT.cstr);if(w)w.u.HW=new cr(c[0].x,c[0].y,c[1].x-c[0].x,c[1].y-c[0].y);
return this.Nv(c[0],c[1],this.ij.RZ(1)&&H.l(b8.fx),this.xp,w.u,y)};P.FQ.prototype.a1e=function(w,n,H){var y=w.u.Sb(n.x,n.y);
if(this.id==P.Ea)return y;var c=this.kT.cstr;if(c.lG==2){var Q=new cr(y.x-c.x,y.y-c.y,c.x,c.y),q=P.xz.YY(w,Q,H);
y.x+=q[0];y.y+=q[1];P.xz.IF(w,Q,q)}else y=P.xz.Ov(w,y,H);return y};P.FQ.prototype.C9=function(w,n,H,y,c){if(this.CE==null)return;
var Q=this.xp,q=Q.length,S=c?this.a1e(w,c,H):new ce(Q[q-2],Q[q-1]);if(y.l(b8.QQ))this.CE=S.Hy(this.OI);
else this.OI=S.Hy(this.CE);Q.push(S.x,S.y);if(this.kT.shape==null)this.kT.shape=H.Df[0];var A=this.ank(w,S,y,!0)[0],V=O.p.$n(A);
w.I.lJ=V;if(this.id!=P.Ea&&this.id!=P.DG&&this.id!=P.Te)P.rG.j6(c,w.u.HW,w,H);w.Va=!0;this.ij.C9()};
P.FQ.prototype.arJ=function(w,n,H,y){var c=w[4].clone();if(y){c.x-=n/2;c.y-=H/2}if(this.id==P.DG){n/=2;
H/=2;c.x+=n;c.y+=H;H=-H;n=0}var Q=this.Nv(c,new ce(c.x+n,c.y+H),!1,this.xp);this.auc(w[0],w[1],w[2],Q)};
P.FQ.prototype.auc=function(w,n,H,y){var c=H.zd,Q=new aL(M.E.dp,!0);if(c==0)Q.data=P.FQ.a26(y[1],H);
else if(c==1){var q={__name:"Set",classID:"setd",null:{t:"obj ",v:[{t:"prop",v:{classID:"Path",keyID:"WrPt"}}]},T:y[1]};
Q.data={fd:"set",ei:q}}else{var q={__name:"Draw",classID:"Draw",AntA:{t:"bool",v:!0},Shp:y[1]};Q.data={fd:"draw",ei:q}}n.S(Q);
if(y[1].v.classID=="customShape"&&y[1].v.Nm.v.startsWith("--")){var S=w._e(),A=S[0],V=S[1],e=A[V.pop()],d=e.add.vmsk,N=e.add.vogk;
O.X.Bf(N);var b=d.clone();b.i=y[0];this.t_(w,e.cm,b,N)}};P.FQ.prototype.sh=function(w,n,H,y,c,Q){if(this.CE==null)return;
var q=this.a1e(w,c,H),S=this.NL(H),A=H.zd,V=this.xp,e=V.length;if(this.id==P.Ea&&e<=4){}else if(e<=4){q.x=Math.round(q.x);
q.y=Math.round(q.y);var d=new aL(M.E.L);d.data={d:M.c.rL,Ln:"createshape",amF:this.arJ.bind(this),abX:this.name,azr:[w,n,H,y,q]};
if(!Q)n.S(d)}else if(e!=2){var N=this.ank(w,q,y),b=N[0],z=w._e(!0),v=z[0],T=z[1],Y=T.length-1;if(A==1&&b.length>2||A==0&&S!=0&&Y!=-1&&v[T[Y]].cm>=0){b[2].NB=[1,2,3,0][S-1];
var g=v[T.pop()],R=g.add.vmsk,h=g.add.vogk,E=R.clone(),G=R.clone(),k=JSON.stringify(h);G.i=G.i.concat(b.slice(2));
G.g=[O.r.xD(G.i)-1];var $=O.X.sQ(N[1]);h.push($?$:O.X.By());this.t_(w,g.cm,G,h);this.D6(w,this.name,g.cm,E,G,null,k,JSON.stringify(h))}else if(A==0){this.auc(w,n,H,N)}else if(A==2){P.S2.asw(b,this.kT.anta,H.Ni,n)}}this.CE=null;
w.I.lJ=null;w.I.lC=null;w.I.n7=[];w.u.HW=null;w.Va=!0;this.ij.sh();this.Rr(n,H)};P.FQ.prototype.ro=function(w,n,H,y,c){for(var H in w)this.kT[H]=w[H]};
P.FQ.Uu=function(w,n,H,y,c){var Q=w.x,q=w.y,S=n.x,A=n.y;if(c&&c.lG==2){if(y){S=Math.round(S);A=Math.round(A)}Q=S-c.x;
q=A-c.y}else{var V=0;if(c&&c.lG==1)V=c.y/c.x;else if(H&&H.l(b8.fx))V=1;if(V!=0){if(y){if(Q<S)Q=Math.floor(Q);
else Q=Math.ceil(Q);if(q<A)q=Math.floor(q);else q=Math.ceil(q)}var e=Math.abs(S-Q),d=Math.abs(A-q),N=e;
if(d/e<V)N*=d/e/V;S=S>Q?Q+N:Q-N;A=A>q?q+N*V:q-N*V}if(H&&H.l(b8.FO)){Q-=S-Q;q-=A-q}}var w=new ce(Q,q),n=new ce(S,A);
if(y)P.FQ.arO(w,n);return[w,n]};P.FQ.arO=function(w,n){if(w.x>n.x){var H=w.x;w.x=n.x;n.x=H}if(w.y>n.y){var H=w.y;
w.y=n.y;n.y=H}w.x=Math.floor(w.x);w.y=Math.floor(w.y);n.x=Math.ceil(n.x);n.y=Math.ceil(n.y)};P.FQ.amH=function(){return{classID:"Mk",null:{t:"obj ",v:[{t:"Clss",v:{classID:"contentLayer"}}]},Usng:{t:"Objc",v:{classID:"contentLayer",Type:{t:"Objc",v:{}}}}}};
P.FQ.ba=function(w,n){var H=P.FQ.amH(),y=H.Usng.v.Type;if(n==null){y.v=JSON.parse(JSON.stringify(d5.Um[w]));
y.v.classID=["solidColorLayer","gradientLayer","patternLayer"][w]}else P.LV.AR(n,y.v,w);return{fd:"make",ei:H}};
P.FQ.a26=function(w,n){var H=n.jP,y=JSON.parse(JSON.stringify(n.Lp));y.fillEnabled.v=H.SU!=0;var c=P.FQ.ba(Math.max(0,H.SU-1),H.WL);
c.ei.Usng.v.Shp=w;c.ei.Usng.v.strokeStyle={t:"Objc",v:y};return c};P.QY=function(w){P.S2.call(this,w==0?[10,29]:[10,51],w==0?P.f2:P.any,w==0?"tools/pen":"tools/cpen");
this.Dh=w;this.CF=null;this.M7=null;this.wI=null;this.azj=0;this.y9=null;this.Ns=!1;this.mI=!1;this.rT=!1;
this.vQ=!1;this.eF=0};P.QY.prototype=new P.S2;P.QY.prototype.U8=function(w){return this.M7!=null};P.QY.prototype.QI=function(w,n,H,y){if(!y.l(b8.FO))this.rT=!1;
if(this.Dh==1&&(y.l(b8.DB)||y.l(b8.uU))&&this.XT(b8.DB,w)){this.dZ({d:"remove",gY:!0},n,w,y,H);return}P.S2.prototype.QI.call(this,w,n,H,y)};
P.QY.prototype.mO=function(w,n,H,y,c){this.CF=c;this.afw(n,H);var Q=w.u.Sb(c.x,c.y),v,T;Q.x=Math.round(Q.x);
Q.y=Math.round(Q.y);var q=P.xz.Ov(w,Q,H),S=H.zd,A=this.azj;if(S==2)S=0;var V=w._e(S==1),e=V[0],d=V[1],N=e[d.pop()],b=N?N.add.vmsk:null;
if(S==0&&A!=0&&N&&N.cm>=0)S=1;var z=P.L$(w,c);if(b)v=O.r.Z3(b.i,Q,!0,z);var Y=y.l(b8.FO);if(S==0&&(b==null||b.V1.length==0&&v.cm==-1)){var g=new aL(M.E.dp,!0),R=O.X.o9("customShape",[0,0,1,1],null,null,null,"--");
g.data=P.FQ.a26(R,H);n.S(g);this.vQ=!0;V=w._e(!0);e=V[0];d=V[1];N=e[d.pop()];b=N.add.vmsk;b.i=b.i.slice(0,2)}var h=N.add.vogk;
this.M7=b.clone();this.wI=JSON.stringify(h);var E=b.i,G=O.r.xD(E);T=O.r.Jb(b.i,new cr(Q.x-z,Q.y-z,z*2,z*2),b.V1);
v=O.r.Z3(b.i,Q,!0,z);var k=T[0].length+T[1].length+T[2].length;if(v.cm!=-1&&T[0].length==0){var $=O.r.Pt(E,v.cm),p=E[$].length;
while(p<=v.Hm){v.Hm-=p;$+=p+1}var X={type:4,P7:q.clone(),H:q.clone(),f$:q.clone()},C=$+2+v.Hm,D=$+1+(1+v.Hm)%p,o=E[C-1],t=E[D];
if(!o.H.Hw(o.f$)||!t.P7.Hw(t.H)){var u=O.p.amY(o.H,o.f$,t.P7,t.H,v.gG);o.f$=u[0];X.P7=u[1];X.H=u[2];
X.f$=u[3];t.P7=u[4]}E.splice(C,0,X);E[$].length++;b.V1=[C];if(this.Dh==1){X.P7.x+=2;this.j2(b)}}else if(k!=0&&Y){var m=0;
for(var l=0;l<3;l++)if(T[l].length!=0){m=T[l][0];this.mI=l==1;break}if(T[0].length!=0){var U=b.i.length-1,I=b.i[m];
I.f$=I.H.clone();var x=I.type>=3?3:0;if(m!=U){I.P7=I.H.clone();I.type=x+1;this.rT=!0}else I.type=x+2}b.V1=[m]}else if(T[0].length==1&&E[T[0][0]-1]&&(E[T[0][0]-1].H!=null||E[T[0][0]-1].type==0||E[T[0][0]-1].length==1)){var m=T[0][0];
if(this.Dh==1){var J=E[m],r=J.H,Z=Math.abs(O.p.amV(J.P7.x,J.P7.y,r.x,r.y,J.f$.x,J.f$.y));if(Z>.01){J.P7=r.clone();
J.f$=r.clone()}if(Date.now()-this.eF<300){var f=J.P7.Hw(r)&&J.f$.Hw(r);if(f)J.f$.offset(2,2);else{J.P7=r.clone();
J.f$=r.clone()}this.eF=0}else this.eF=Date.now();b.V1=[m];this.j2(b)}else{var $=O.r.Pt(E,O.r.jA(E,m)),R=E[$],F=$+R.length;
if(m!=F||R.type==0){E[$].length--;E.splice(m,1);F--;if(R.length==0){E.splice($,1);F=-1}}if(F!=-1)b.V1=[F];
else b.V1=[]}}else{var _=0;if(b.V1.length!=1){b.g=[G];E.push({type:3,length:1,NB:[1,2,3,0][Math.max(0,A-1)],P0:0,Hj:0,jS:0});
_=E.length;h.push(O.X.By())}else{var J=b.V1[0],K=O.r.jA(E,J),$=O.r.Pt(E,K);J=$+E[$].length;if(ce.Re(Q,E[$+1].H)<z){E[$].type=0;
b.V1=[$+1];this.y9=q;this.Ns=!0;this.t_(w,N.cm,b,h);w.Va=!0;return}E[$].length++;_=J+1;if(J==$+1&&E[$].length!=2)_=$+1}if(y.l(b8.fx)&&E[_-1]&&E[_-1].H)q=P.H2.bL(E[_-1].H,q);
var X={type:4,P7:q.clone(),H:q.clone(),f$:q.clone()};E.splice(_,0,X);b.V1=[_];this.y9=q;if(this.Dh==1){X.P7.x+=2;
this.j2(b)}this.eF=Date.now()}this.t_(w,N.cm,b,h);w.Va=!0};P.QY.prototype.j2=function(w){var n=w.i,H=w.V1[0],y=O.r.Pt(n,O.r.jA(n,H))+1,c=n[y-1].length;
if(c<3)return;var Q=[],q=[];for(var l=0;l<5;l++){var S=y+(H-y-2+l+5*c)%c;q.push(S);var A=n[S].H;Q.push(A.x,A.y)}var V=O.p.Be(Q);
for(var l=1;l<4;l++){var e=l*4,d=n[q[l]],A=d.H,N=d.P7.Hw(A)&&d.f$.Hw(A);if(!N){d.P7.HV(V[e],V[e+1]);
d.f$.HV(V[e+2],V[e+3])}else{d.P7=A.clone();d.f$=A.clone()}}};P.QY.prototype.C9=function(w,n,H,y,c){if(this.M7==null)return;
var Q=this.CF;if(Q&&ce.Re(Q,c)<P.L$({u:{N:1}},c))return;this.CF=null;var q=w.u.Sb(c.x,c.y),S=P.xz.Ov(w,q,H),A=w._e(H.zd==1),V=A[0],e=A[1],d=V[e.pop()],N=d.add.vmsk,b=N.i,z=b[N.V1[0]];
if(this.Dh==1){var v=z.H.Hw(z.P7)&&z.H.Hw(z.f$);z.H=q.clone();z.P7=q.clone();z.f$=q.clone();if(!v)z.P7.x+=2;
this.j2(N)}else if(y.l(b8.QQ)){if(y.l(b8.fx))S=P.H2.bL(this.y9,S);var T=z.H.Hy(z.f$),Y=z.P7.Hy(z.H);
z.f$=S;z.H=S.add(T);z.P7=z.H.add(Y)}else{if(y.l(b8.fx))S=P.H2.bL(z.H,S);if(this.mI){var g=z.P7;z.P7=z.f$;
z.f$=g}if(this.Ns){var R=ce.Re(z.H,S),h=R==0?0:ce.Re(z.H,z.f$)/R;z.f$.x=z.H.x+h*(S.x-z.H.x);z.f$.y=z.H.y+h*(S.y-z.H.y)}else z.f$=S;
if(y.l(b8.FO)&&!this.rT)z.type=5;else{z.type=4;z.P7=z.H.add(z.H.Hy(S))}this.y9=S;if(this.mI){var g=z.P7;
z.P7=z.f$;z.f$=g}}this.t_(w,d.cm,N,d.add.vogk);w.Va=!0};P.QY.prototype.sh=function(w,n,H,y,c){if(this.M7==null)return;
var Q=w._e(H.zd==1),q=Q[0],S=Q[1],A=q[S.pop()],V=A.add.vmsk,e=A.add.vogk;if(this.Ns){V.V1=[];this.t_(w,A.cm,V,A.add.vogk)}var d=this.M7.i.length,N=V.i.length;
if(!this.vQ)this.D6(w,this.Ns?"Close Path":(d==N?"Move":d<N?"Add":"Delete")+" Anchor Point",A.cm,this.M7,V.clone(),null,this.wI,JSON.stringify(e));
this.vQ=!1;this.Ns=!1;this.mI=!1;this.rT=!1;this.M7=null};P.QY.prototype.ro=function(w,n,H,y,c){this.azj=w.binop};
P.Gp=function(){P.FQ.call(this,[10,30],P.Ea,"tools/fpen",!1)};P.Gp.prototype=new P.FQ;P.Gp.prototype.Nv=function(w,n,H,y,c,Q){var q=y.length-1,S=Math.sqrt((y[q-1]-y[0])*(y[q-1]-y[0])+(y[q]-y[1])*(y[q]-y[1]))<6/c.N;
return[O.r.Rt(y,S,Q),O.X.o9("customShape",[0,0,1,1],null,null,null,"--")]};P.qQ=function(){P.S2.call(this,[10,27],P.ko,"tools/pselect");
this.R5=null;this.Th=!1;this.Ij=null;this.M7=null;this.$i=null;this.wI=null;this.$K=null;this.zY=null;
this.ZK=null;this.Hc=null};P.qQ.prototype=new P.S2;P.qQ.prototype.U8=function(w){return w.iO};P.qQ.prototype.mO=function(w,n,H,y,c){var Q=w.u.Sb(c.x,c.y),q=w._e(),S=q[0],A=q[1],V,e;
for(var l=0;l<A.length;l++){var d=S[A[l]],N=d.add.vmsk,b=O.r.Z3(N.i,Q).cm;if(b!=-1){this.Ij=V=d;e=b}for(var z=0;
z<N.Ug.length;z++){var v=O.r.Bs(N.i,N.Ug[z]);if(v==null)continue;var T=ce.Re(v,Q);if(T<4*P.V()/w.u.N){var Y=w.B[d.cm-1e6].add.TySh,g=Y.EB.Curve,R=Y.D,h=g.Reversed;
g.Reversed=!1;var g=ir.je(Y.EB.Curve);g.Reversed=h;O.p.D(g[0],R,g[0]);this.ZK=[g,z,R.iL*R.Du-R.k*R.Mg];
this.Ij=V=d;e=0}}if(this.ZK)break}if(V!=null){var N=V.add.vmsk;N.V1=[];var E=N.g.indexOf(e);if(y.l(b8.fx)){if(E==-1){N.g.push(e);
this.Th=!0}else N.g.splice(E,1)}else{if(E==-1)N.g=[e];this.Th=!0}this.zY=O.r.dF(N.i,N.g)}this.R5=Q;this.Hc=new eh(Q);
w.zi=!0;w.Va=!0};P.qQ.prototype.C9=function(w,n,H,y,c){if(this.R5==null)return;var Q=w.u.Sb(c.x,c.y);
if(this.Th){Q=this.Hc.Tq(Q,y);var q=this.Ij;if(this.M7==null){this.M7=this.$i=q.add.vmsk.clone();this.wI=this.$K=JSON.stringify(q.add.vogk);
if(y.l(b8.FO)){var S=this.M7.clone(),A=JSON.parse(this.wI),V=P.S2.Q0(S,A);P.S2.fc(V,S,A);this.$i=S;this.$K=JSON.stringify(A)}}var S=this.$i.clone(),A=JSON.parse(this.$K);
if(this.ZK){var e=this.ZK,d=e[0][0],N=O.p.xA(d,Q.x,Q.y);S.Ug[e[1]]=e[0][1][N];var b=d[N*2],z=d[N*2+1],v=(d[N*2+2]-b)*(Q.y-z)-(d[N*2+3]-z)*(Q.x-b);
if(e[2]<0)v=-v;S.XR=v>0}else{var T=this.zY.clone(),Y=T.x,g=T.y;T.offset(Q.x-this.R5.x,Q.y-this.R5.y);
T.x=Math.round(T.x);T.y=Math.round(T.y);var R=P.xz.YY(w,T,H),h=new b7(1,0,0,1,T.x-Y+R[0],T.y-g+R[1]);
O.r._R(S.i,h,S.g);O.X.D(A,O.K.og(h),S.g);P.xz.IF(w,T,R)}this.t_(w,q.cm,S,A)}else{var E=this.R5;w.I.lJ=O.p.u3(new cr(E.x,E.y,Q.x-E.x,Q.y-E.y));
w.Va=!0}};P.qQ.prototype.sh=function(w,n,H,y,c){if(this.R5==null)return;var Q=w.u.Sb(c.x,c.y),q=this.Ij,S=q?q.add.vmsk:null;
if(this.Th){var A=JSON.stringify(q.add.vogk);if(!this.R5.Hw(Q))this.D6(w,"Move Paths",q.cm,this.M7,S,null,this.wI,A);
if(w!=null&&w.I.lC){w.I.lC=null;w.Va=!0}}else{if(S){var V=this.R5,e=new cr(V.x,V.y,Q.x-V.x,Q.y-V.y),d=O.r.a8v(S.i,e);
if(y.l(b8.fx)){for(var l=0;l<d.length;l++)if(S.g.indexOf(d[l])==-1)S.g.push(d[l])}else S.g=d}w.I.lJ=null;
w.Va=!0}this.R5=null;this.M7=null;this.ZK=null;this.Th=!1;this.Hc=null};P.qQ.prototype.BK=function(w,n,H,y){P.S2.prototype.BK.call(this,w,n,H,y);
if(H.ZR!=this.id)return;if(w.g.length==0)return;var c=w._e(),Q=c[0],q=c[1];if(q.length==0)return;var S=Q[q[0]],A=S.add.vmsk,V=S.add.vstk,e=S.add.vogk,d=new aL(M.E.L,!0);
d.data={d:M.c.Hi,G:this.id,TC:"main",N1:A?A:null,X:e};n.S(d)};P.qQ.prototype.ro=function(w,n,H,y,c){var Q=w.Vm;
if(Q.N1){var q=H._e(),S=q[0],A=q[1];if(A.length==0)return;var V=S[A[0]],e=V.add.vmsk.clone(),d=JSON.stringify(V.add.vogk),N=Q.N1;
this.t_(H,V.cm,N,Q.X);var b=[18,5];if(e.i.length==N.i.length)b=e.g[0]==N.g[0]?"Fill Rule":"Path Order";
this.D6(H,b,V.cm,e,N,null,d,JSON.stringify(Q.X))}};P.YF=function(){P.S2.call(this,[10,28],P.Dl,"tools/dselect");
this.Wx=-1;this.pB=-1;this.RV=null;this.R5=null;this.Ij=null;this.M7=null;this.wI=null;this.mC=null;
this.vO=0;this.iR={psnap:!1};this.Hc=null};P.YF.prototype=new P.S2;P.YF.prototype.U8=function(w){return w.iO};
P.YF.prototype.ro=function(w){this.iR=w};P.YF.prototype.dZ=function(w,n,H,y,c){if(w.d=="crnr"){if(H==null)return;
var Q=H._e(),q=Q[0],S=Q[1];if(S.length==0){alert("No paths selected");return}var A=q[S[0]],V=A.add.vmsk;
if(V.V1.length==0){alert("No corners selected");return}for(var l=0;l<V.V1.length;l++){var e=V.i[V.V1[l]];
if(!e.H.Hw(e.f$)||!e.H.Hw(e.P7)){alert("Only sharp corners can be rounded");return}}if(this.M7==null){this.M7=A.add.vmsk.clone();
this.wI=JSON.stringify(A.add.vogk);this.Ij=A;this.mC=H}var d=new aL(M.E.L,!0);d.data={d:M.c.rL,Ln:"cornerradius",EV:5,ty:this.a9$.bind(this)};
n.S(d)}else P.S2.prototype.dZ.call(this,w,n,H,y,c)};P.YF.prototype.a9$=function(w){if(w=="confirm"){var n=this.mC,H=this.Ij,y=H.add.vmsk,c=H.add.vogk;
this.D6(n,[12,94,0],H.cm,this.M7,y,null,this.wI,JSON.stringify(c));this.IA();return}var y=this.M7.clone(),c=JSON.parse(this.wI),Q=y.V1;
if(w=="cancel"){}else{var q=[];for(var l=0;l<Q.length;l++){var S=Q[l],A=O.r.jA(y.i,S,!0),d=0;if(q.indexOf(A)!=-1)continue;
q.push(A);var V=O.r.Pt(y.i,A,!0),e=y.i[V].length,N=[];for(var b=0;b<e;b++){var z=y.V1.indexOf(V+b+1)==-1?0:w;
N.push(z);if(z!=0)d++}O.r.NP(y.i,V,N);for(var b=0;b<Q.length;b++)if(Q[b]>V+e)Q[b]+=d}this.PL(y,c);y.V1=[]}this.t_(this.mC,this.Ij.cm,y,c);
if(w=="cancel")this.IA()};P.YF.prototype.disable=function(w,n,H,y){this.R1(w)};P.YF.prototype.mO=function(w,n,H,y,c){this.R1(w);
var Q=w.u.Sb(c.x,c.y),d,N,b;this.RV=Q.clone();var q=w._e(),S=q[0],A=q[1];if(A.length==0)return;var V=P.L$(w,c),e=new cr(Q.x-V,Q.y-V,V*2,V*2);
for(var z=0;z<A.length;z++){d=this.Ij=S[A[z]];N=d.add.vmsk;b=O.r.Jb(N.i,e);if(b[0].length+b[1].length+b[2].length!=0)break}var v=[!1,!1,!1];
for(var l=0;l<3;l++){for(var T=0;T<b[l].length;T++){var Y=b[l][T],g=N.i[Y];if(N.V1.indexOf(Y)!=-1||l==1&&N.V1.indexOf(Y-1)!=-1&&!g.H.Hw(g.P7)||l==2&&N.V1.indexOf(Y+1)!=-1&&!g.H.Hw(g.f$)){b[l]=[Y];
v[l]=!0;break}}}if(b[0].length!=0&&(v[0]||!v[1]&&!v[2])){var R=b[0][0],h=N.V1.indexOf(R);if(y.l(b8.fx)){if(h==-1)N.V1.push(R);
else{N.V1.splice(h,1);w.Va=!0;return}}else if(h==-1)N.V1=[R];this.Wx=R;this.pB=0}else if(b[1].length!=0&&v[1]){this.Wx=b[1][0];
this.pB=1}else if(b[2].length!=0&&v[2]){this.Wx=b[2][0];this.pB=2}else{var E=O.r.Z3(N.i,Q,!0,V);if(E.cm==-1)this.R5=Q;
else{N.g=[E.cm];N.V1=[]}}if(this.M7==null){this.M7=d.add.vmsk.clone();this.wI=JSON.stringify(d.add.vogk)}this.Hc=new eh(Q);
w.Va=!0};P.YF.prototype.C9=function(w,n,H,y,c){if(w==null)return;var Q=w.u.Sb(c.x,c.y),q=this.Ij;if(this.Wx!=-1){var S=this.M7.clone(),A=q.add.vogk,V=S.i[this.Wx];
V=[V.H,V.P7,V.f$][this.pB];if(y.l(b8.fx)){if(this.pB==0){Q=this.Hc.Tq(Q,y);Q.x+=V.x-this.RV.x;Q.y+=V.y-this.RV.y}else Q=P.H2.bL(S.i[this.Wx].H,Q)}else{if(this.iR.psnap){Q.x=Math.round(Q.x);
Q.y=Math.round(Q.y)}Q=P.xz.Ov(w,Q,H)}if(this.pB==0){var e=new b7(1,0,0,1,Q.x-V.x,Q.y-V.y);O.r._R(S.i,e,null,S.V1)}else{var d=S.i[this.Wx],N=d.P7,b=d.f$;
if(this.pB==2){N=d.f$;b=d.P7}if(y.l(b8.FO)&&(d.type==1||d.type==4))d.type++;N.HV(Q.x,Q.y);if(d.type==1||d.type==4){var z=ce.Re(N,d.H),v=ce.Re(b,d.H);
if(v!=0){b.x=d.H.x-(N.x-d.H.x)*(v/z);b.y=d.H.y-(N.y-d.H.y)*(v/z)}}}this.PL(S,A);this.t_(w,q.cm,S,A)}else if(this.R5!=null){var T=this.R5;
w.I.lJ=O.p.u3(new cr(T.x,T.y,Q.x-T.x,Q.y-T.y));w.Va=!0}else{var Y=w._e(),g=Y[0],R=Y[1],q,S,G;if(R.length==0)return;
var h=P.L$(w,c),E=new cr(Q.x-h,Q.y-h,h*2,h*2);for(var k=0;k<R.length;k++){q=g[R[k]];S=q.add.vmsk;G=O.r.Jb(S.i,E);
if(G[0].length+G[1].length+G[2].length!=0)break}this.R1(w);for(var l=0;l<3;l++){for(var $=0;$<G[l].length;
$++){var p=G[l][$],X=S.i[p];X=l==0?X.H:l==1?X.P7:X.f$;w.I.e7.push(w.I.tE.length>>>1);w.I.tE.push(X.x,X.y);
w.Va=!0}}}};P.YF.prototype.R1=function(w){if(w&&w.I.tE.length!=0){w.I.tE=[];w.I.e7=[];w.Va=!0}};P.YF.prototype.sh=function(w,n,H,y,c){var Q=w.u.Sb(c.x,c.y),q=this.Ij,S=q?q.add.vmsk:null,A=q?q.add.vogk:null;
if(this.Wx!=-1){if(Date.now()-this.vO<300){var V=S.i[this.Wx],e=this.pB,d=null;if(e==0){var N=V.P7.Hw(V.H),b=V.f$.Hw(V.H);
if(!N&&!b){d="Anchor Type";if(V.type==1||V.type==4)V.type++;else{V.type--;V.f$=V.H.add(V.H.Hy(V.P7))}}else{d="Add Handles";
if(N&&b){V.P7.x-=30;V.f$.x+=30}else if(N)V.P7=V.H.add(V.H.Hy(V.f$));else if(b)V.f$=V.H.add(V.H.Hy(V.P7))}}else{d="Remove Handle";
if(e==1)V.P7.aK(V.H);else V.f$.aK(V.H)}this.PL(S,A);this.t_(w,q.cm,S,A);this.D6(w,d,q.cm,this.M7,S,null,this.wI,JSON.stringify(A))}else if(!this.RV.Hw(Q)){this.D6(w,"Drag Anchors",q.cm,this.M7,S,null,this.wI,JSON.stringify(A))}this.vO=Date.now()}else if(this.R5!=null){var z=this.R5,v=new cr(z.x,z.y,Q.x-z.x,Q.y-z.y);
if(v.m<0)v.x+=v.m;if(v.e<0)v.y+=v.e;v.m=Math.abs(v.m);v.e=Math.abs(v.e);var T=O.r.Jb(S.i,v);S.V1=T[0].concat(y.l(b8.fx)?S.V1:[]);
w.I.lJ=null}this.IA();w.Va=!0};P.YF.prototype.IA=function(){this.Ij=null;this.M7=null;this.R5=null;this.Wx=this.pB=-1;
this.Hc=null};P.YF.prototype.PL=function(w,n){for(var l=0;l<w.V1.length;l++){var H=O.r.jA(w.i,w.V1[l]);
O.X.d5(n,H)}};P.YF.prototype.QI=function(w,n,H,y){if(w==null)return;var c=w._e(),Q=c[0],q=c[1];if(q.length==0)return;
var S=Q[q[0]],A=S.add.vmsk;if(A==null||A.V1.length==0)return;var V=S.add.vogk,e=JSON.stringify(V),d=y.oY(w?w.u.db:0);
if(d.x!=0||d.y!=0){var N=A.clone(),b=A.clone(),z=new b7(1,0,0,1,d.x,d.y);O.r._R(b.i,z,null,b.V1);this.PL(b,V);
this.t_(w,S.cm,b,V);this.D6(w,"Move Anchors",w.g[0],N,b.clone(),!0,e,JSON.stringify(V))}if(y.l(b8.DB)||y.l(b8.uU))this.dZ({d:"remove",gY:!0,a3c:!0},n,w,y,H)};
P.YF.prototype.D6=function(w,n,H,y,c,Q,q,S){var A=w.H_();if(Q&&A!=null&&A.G==this&&A.data.ai5&&A.data.qn==H&&JSON.stringify(A.data.xL.V1)==JSON.stringify(y.V1)){A.data.DF=c;
A.data.iG=S}else{var A=new dq(n,this);A.data={qn:H,xL:y,DF:c,ai5:Q,agN:q,iG:S};w.c0(A)}};P.Rect=function(){P.FQ.call(this,[10,32],P.S0,"tools/rect",!0)};
P.Rect.prototype=new P.FQ;P.Rect.prototype.Nv=function(w,n,H){var y=this.kT.crad,c=n.x-w.x,Q=n.y-w.y;
return[O.r.yj.Rect(w.x,w.y,c,Q,y),O.X.o9("Rctn",[w.x,w.y,n.x,n.y],[y,y,y,y])]};P.r1=function(){P.FQ.call(this,[10,33],P.sr,"tools/ellipse",!0)};
P.r1.prototype=new P.FQ;P.r1.prototype.Nv=function(w,n,H){var y=n.x-w.x,c=n.y-w.y;return[O.r.yj.r1(w.x,w.y,y,c),O.X.o9("Elps",[w.x,w.y,n.x,n.y])]};
P.jW=function(){P.FQ.call(this,[10,34],P.DG,"tools/pshape",!1);this.kT.aopts=[!1,!0,50,100,0]};P.jW.prototype=new P.FQ;
P.jW.prototype.Nv=function(w,n,H){var y=this.kT.pshape,c=this.kT.crad,Q=this.kT.irad/100,q=this.kT.sides,S=this.kT.width,A=this.kT.aopts,V=this.kT.length,T;
n=n.clone();var e=w.x,d=w.y,N=n.x,b=n.y,z=Math.sqrt((N-e)*(N-e)+(b-d)*(b-d)),v=Math.atan2(-b+d,N-e);
if(H)v=Math.round(v*180/Math.PI/15)*15*Math.PI/180;if(y==0)T=O.r.yj.dW(e,d,z,v,q,c);if(y==1)T=O.r.yj.Hv(e,d,z,v,q,c,Q);
if(y==2)T=O.r.yj.Ra(w.x,w.y,n.x,n.y,S,A);if(y==3)T=O.r.yj.atj(e,d,z,v,V);return[T,O.X.o9("customShape",[w.x,w.y,n.x,n.y],null,null,null,"--")]};
P.jW.prototype.QI=function(w,n,H,y){P.FQ.prototype.QI.call(this,w,n,H,y);var c=y.oY(),Q=this.kT,q,S;
if(c.y!=0){var A=-c.y,V=Q.pshape;if(V<2){q="sides";S=Math.max(3,Math.min(100,Q.sides+A))}else if(V==2){q="width";
S=Math.max(1,Math.min(100,Q.width+A))}else if(V==3){q="length";S=Math.max(4,Math.min(40,Q.length+A))}}if(c.x!=0){q="pshape";
S=Math.max(0,Math.min(3,Q.pshape+c.x))}if(q){var e=new aL(M.E.L,!0),d={};d[q]=S;Q[q]=S;e.data={d:M.c.Hi,G:this.id,cl:"vals",arC:d};
n.S(e);this.C9(w,n,H,y)}};P.Ou=function(){P.FQ.call(this,[10,35],P.Te,"tools/line",!1)};P.Ou.prototype=new P.FQ;
P.Ou.prototype.Nv=function(w,n,H){var y=this.kT.width,c=this.kT.aopts;n=n.clone();if(H){n=P.H2.bL(w,n)}return[O.r.yj.Ra(w.x,w.y,n.x,n.y,y,c),O.X.o9("Ln",null,null,[w.x,w.y,n.x,n.y],y,null,c)]};
P.YU=function(){P.FQ.call(this,[10,31],P.ri,"tools/cshape",!0)};P.YU.prototype=new P.FQ;P.YU.prototype.Nv=function(w,n,H){var y=this.kT.shape,c=y.C5.m/y.C5.e,Q=a.TB.Ce(y.i);
n=n.clone();if(H){n.y=w.y+(n.x-w.x)/c}var q=n.x-w.x,S=n.y-w.y;O.r._R(Q,new b7(q,0,0,S,w.x,w.y));return[Q,O.X.o9("customShape",[w.x,w.y,n.x,n.y],null,null,null,y.S6)]};
P.WJ=function(w,n,H){P.rG.call(this,w,n,H);this.YJ=0;this.B=null;this._v=null;this.KM=null;this.yV=1;
this.nO=!0;this.VF=!1;this.cursor=null;this.mo=null;this.Cr=null;this.AN=!1;this.nE=null;this.afR=0;
this.Dt=null;this.Dh=0;this.k2=null;this.dC=null;this.wB=null;this.sa=null;this.aqL=null;this.l5=null};
P.WJ.prototype=new P.rG;P.WJ.kU=function(w,n,H){var y={classID:"null",null:ih._K(H?"Lyr":"Dcmn",!0)};
if(w)y.Angl={t:"UntF",v:{type:"#Ang",val:n}};else y.Axis={t:"enum",v:{Ornt:n}};return{fd:w?"rotateEventEnum":"flip",ei:y}};
P.WJ.prototype.Qz=function(w,n,H,y,c){var Q=new aL(M.E.L,!0);Q.data={d:M.c.Hi,G:this.id,nu:c,UE:w,KM:H};
n.S(Q);this.S8=!1};P.WJ.prototype.U8=function(w){return this.dC&&this.dC.azh()};P.WJ.prototype.dZ=function(w,n,H,y,c){this.KM=c;
if(w.d=="again"&&this.Dt==null)return;if(!this.nX(H,c))return;if(this.dC){this.a1z(w,this.dC.Ry(),n,H,y,c);
this.kf(H,c,0,!0);this.D_(H);return}this.ahU(H,w.j==null,w.j);this.a1P(H);this.a1z(w,null,n,H,y,c);this.ji(H,n,w.hG,!1)};
P.WJ.prototype.a1z=function(w,n,H,y,c,Q){var q=this.k2;if(n==null){var S=w.An!=null?w.An:4;n=this.dC.ae1()[S]}var A=n.x,V=n.y;
if(w.d=="rot"&&w.Z!=Math.PI&&(q.m+q.e&1)==1){A=Math.floor(A);V=Math.floor(V)}var e=new b7;e.translate(-A,-V);
if(w.d=="rot")e.rotate(w.Z);if(w.d=="scl")e.scale(w.Z.x,w.Z.y);if(w.d=="mat")e.concat(w.Z);e.translate(A,V);
if(w.d=="again")e=this.Dt;var d=O.K.og(e);if(w.d=="dtr"){var N=O.K;d=N.dO(w.Z,N.R(-A,-V));d=N.dO(N.R(A,V),d)}var b=this.dC.VO();
O.K.D(d,b);this.dC.mQ(b);if(w.cB){var z=w.cB.v;this.ro({TC:"switchWarp"},H,y,c);this.ro({TC:"wrp",cB:z},H,y,c)}};
P.WJ.prototype.i7=function(){return!0};P.WJ.prototype.nX=function(w,n){if(w==null)return!1;if(this.id==P._c)return w.P!=null;
var H=w.Q_(!0,null,null,!0);if(this.id==P.i1&&w.B[H[0]].rect._G()){alert("Layer is empty.");return!1}for(var l=0;
l<H.length;l++){var y=w.B[H[l]];if(y.ox(2)||y.ox(31)){alert(hV.get([6,57,0]));return!1}if(y.add.artb){alert("You can not transform the whole artboard");
return!1}if(y.add.TySh)if(!kn.K4(y.add.TySh,n.KF))return!1;if(y.add.SoLd){if(H.length==1&&!O.v$.Rd(y.add.SoLd.warp.v)&&(y.LZ()&&y.LZ().G9||y.add.vmsk&&y.add.vmsk.G9)){alert("Unlink masks before transforming Smart Object");
return!1}if(!w.afS(y.add.SoLd.Idnt.v)){alert("Unsupported format of the smart object ("+w._7(y.add.SoLd.Idnt.v).w5+")");
return!1}}}if(w.P==null)return!0;if(!w.BG())return!1;return w.ari()};P.WJ.prototype.mO=function(w,n,H,y,c){var Q=this.arN(c,w),q=Q[0],S=Q[1],A=this.Dh==0?this.dC:this.wB;
w.u.N*=S;this.VF=A.mO(w,H,y,q,null,null,c);w.u.N/=S;if(this.VF&&A.DQ(q)){if(Date.now()-this.afR<250)this.ji(w,n,null,!0);
this.afR=Date.now()}};P.WJ.prototype.ZY=function(w){var n=new aL(M.E.L,!0);n.data={d:M.c.N4,Xn:this.cursor};
w.S(n)};P.WJ.prototype.arN=function(w,n){var H=1;w=n.u.Sb(w.x,w.y);if(this.Dh==1){var y=O.K.gU(this.dC.VO(),this.k2);
H=O.K.iK(y).H5();var c=O.K.G$(y);w=O.K.ani(c,w)}return[w,H]};P.WJ.prototype.C9=function(w,n,H,y,c){var Q=this.arN(c,w),q=Q[0],S=Q[1],A=this.Dh==0?this.dC:this.wB;
if(!c.iO){var V="default";if(A){var e=A.T$(q,w.u.N*S,null,c);if(e)V=e}if(V!=this.cursor){this.cursor=V;
this.ZY(n)}}if(!this.VF)return;w.u.N*=S;A.C9(w,H,y,q,this.nO);w.u.N/=S;this.kf(w,H,0,!0);this.D_(w);
this.Ex(n)};P.WJ.prototype.sh=function(w,n,H,y,c){var Q=w.u.Sb(c.x,c.y);this.dC.sh(w,H,y,Q);this.VF=!1};
P.WJ.prototype.QI=function(w,n,H,y){if(y.l(b8.IO))this.ji(w,n,null,!0);else if(y.l(b8.RN))this.yZ(w,n);
else{var c=this.dC.QI(w,H,y);if(c){this.kf(w,H,0,!0);this.Ex(n)}}};P.WJ.prototype.ro=function(w,n,H,y){if(w.TC=="commit")this.ji(H,n,null,!0);
else if(w.TC=="cancel")this.yZ(H,n);else if(w.TC=="switchWarp"){this.Dh=1-this.Dh;this.au2();this.D_(H);
this.Ex(n)}else if(w.TC=="wrp"){this.wB.aka(w.cB);this.D_(H);this.kf(H,this.KM,0,!0)}else if(w.TC=="ctyp"){this.dC.abI(w.CD);
this.D_(H);this.Ex(n)}else if(w.TC=="cen"){this.dC.ayu(w._O);this.D_(H);this.kf(H,this.KM,0,!0)}else if(w.TC=="trn"){var c=O.K.og(w.HB),Q=this.k2,q=O.K.gU(this.dC.VO(),this.k2);
c[6]=q[6],c[7]=q[7];var S=[Q.x,Q.y,Q.x+Q.m,Q.y,Q.x+Q.m,Q.y+Q.e,Q.x,Q.y+Q.e];O.K.D(c,S);this.yV=w.yV;
this.nO=w.nO;this.dC.mQ(S);this.D_(H);this.kf(H,this.KM,0,!0)}};P.WJ.prototype.D_=function(w){if(this.Dh==0)this.dC.lW(w,this.KM);
else{this.wB.lW(w);var n=O.K.gU(this.dC.VO(),this.k2);O.K.D(n,w.I.lJ.w);O.K.D(n,w.I.aN)}};P.WJ.prototype.ji=function(w,n,H,y){this.kf(w,this.KM,this.yV);
var c=new dq(H?H:this.name,this);if(this.YJ==0)c.data={type:this.YJ,B:this.B,nE:this._v,OG:P.WJ.AH(w,this.B)};
else if(this.YJ==1){var Q=w.B[this.B[0]],q;if(Q.cJ.Ks<=0){q=O.R(Q.cJ.nk.O());O.RR(Q.cJ.z5,q,3)}else q=w.P.channel;
var S={rect:Q.cJ.nk.clone(),channel:q};c.data={type:this.YJ,j:this.B[0],Cr:this.Cr,Ee:S,mo:this.mo,AN:this.AN,cJ:Q.cJ,nE:this.nE,OG:{U2:Q.cJ.nk,G_:Q.cJ.z5}}}else if(this.YJ==2){c.data={type:this.YJ,Cr:this.Cr,Ee:{rect:w.P.rect.clone(),channel:w.P.channel.slice(0)}}}w.c0(c);
var A=this.k2,V=new ce(A.x+A.m/2,A.y+A.e/2),e=O.K.gU(this.dC.VO(),A),d=O.K.iK(e),N=new b7;N.translate(V.x,V.y);
N.concat(d);N.translate(-V.x,-V.y);d=N.clone();var b=-Math.atan2(-d.k,d.iL),z=new b7;z.rotate(b);d.concat(z);
function v(E,G){return{t:"UntF",v:{type:["#Pxl","#Prc","#Ang"][G],val:E}}}var T=ih._K("Lyr",!0);if(this.id==P._c)T.v[0]={t:"prop",v:{classID:"Chnl",keyID:"fsel"}};
var Y=e,g=O.K;Y=g.dO(Y,g.R(V.x,V.y));Y=g.dO(g.R(-V.x,-V.y),Y);Y=g.R();var R={classID:"null",null:T,FTcs:{t:"enum",v:{QCSt:"Qcsa"}},Intr:{t:"enum",v:{Intp:"Bcbc"}},Ofst:{t:"Objc",v:{__name:"Offset",classID:"Ofst",Hrzn:v(N.qH,0),Vrtc:v(N.fp,0)}},Skew:{t:"Objc",v:{classID:"Pnt",Hrzn:v(Math.atan(d.Mg/d.Du)*180/Math.PI,2),Vrtc:v(0,2)}},Usng:{t:"Objc",v:{classID:"Pnt",Hrzn:v(100*Y[6],1),Vrtc:v(100*Y[7],1)}},Wdth:v(d.iL*100,1),Hght:v(d.Du*100,1),Angl:v(b*180/Math.PI,2)},h=this.wB?this.wB.xb():null;
if(h&&!O.v$.Rd(h)){R.warp={t:"Objc",v:h}}this.ZZ=n;this.track({fd:"transform",ei:R});this.escape(w,n,y)};
P.WJ.prototype.yZ=function(w,n){if(this.YJ==0)P.WJ.GH(w,this.B,this._v);else if(this.YJ==1){var H=w.B[this.B[0]];
w.P=this.Cr;if(!this.AN){H.cJ.nk=this.nE.U2;H.cJ.z5=this.nE.G_;H.ll(w,0,0,w.P)}else{H.r4(w,this.mo)}w.U();
w.Ii=!0}else if(this.YJ==2){w.P=this.Cr;w.Ii=!0}this.escape(w,n,!0)};P.WJ.prototype.escape=function(w,n,H){this.dC.clear(w);
this.dC=null;this.wB=null;this.l5=null;this.Dh=0;if(H)this.ZX(n,M.E.L,{d:M.c.po})};P.WJ.prototype.KC=function(w,n){if(w.type==0)P.WJ.GH(n,w.B,w.OG);
else{if(w.type==1){var H=n.B[w.j];if(w.AN){H.cJ=w.cJ}else{H.cJ.nk=w.OG.U2;H.cJ.z5=w.OG.G_}H.ll(n,0,0,n.P);
n.U()}n.P={rect:w.Ee.rect.clone(),channel:w.Ee.channel.slice(0)};n.Ii=!0}};P.WJ.prototype.LL=function(w,n){if(w.type==0)P.WJ.GH(n,w.B,w.nE);
else{if(w.type==1){var H=n.B[w.j];if(w.AN){H.r4(n,w.mo)}else{H.cJ.nk=w.nE.U2;H.cJ.z5=w.nE.G_;H.ll(n,0,0,n.P)}n.U()}n.P=w.Cr;
n.Ii=!0}};P.WJ.prototype.ahU=function(w,n,H){w._e();var y=[];if(H==null)for(var l=0;l<w.SV.length;l++)if(w.Wh[w.SV[l]].add.vmsk.i.length>2)y.push(-1-w.SV[l]);
var c=[],Q=w.u.vE;if(Q[0]+Q[1]+Q[2]==3)if(H!=null||y.length==0||w.t7!=null&&w.t7.length!=0){if(w.g.length==1){var q=w.B[w.g[0]];
if(q.Ok()&&q.gK)c=[w.g[0]]}if(c.length==0)c=w.Q_(n,H,null,!0)}c=c.concat(y);for(var l=0;l<w.np.length;
l++)c.push(-1e3-w.np[l]);this.B=c};P.WJ.prototype.enable=function(w,n,H,y,c,Q){if(this.cursor==null)this.cursor="default";
this.ZY(n);if(this.dC)return;this.KM=H;this.ahU(w,!0);this.a1P(w,Q&&Q.Ny!=null&&Q.Ny!=-1?Q.Ny:null);
this.Ex(n);this.D_(w);if(Q&&Q.Ny==-1)this.ro({TC:"switchWarp"},n,w,y)};P.WJ.prototype.ae=function(){return[this.nO?1:0]};
P.WJ.prototype.th=function(w,n,H){if(w&&w[0]!=null)this.nO=w[0]==1};P.WJ.prototype.Ex=function(w){var n={d:M.c.Hi,G:this.id};
if(this.Dh==0){var H=O.K.gU(this.dC.VO(),this.k2),y=O.K.iK(H);n.HB={Yx:y,CD:this.dC.anx(),_O:this.dC.Ry(),U2:this.k2.clone(),nO:this.nO}}else{n.cB=this.wB.xb()}n.aak=this.wB!=null;
this.ZX(w,M.E.L,n)};P.WJ.prototype.a1P=function(w,n){var H=this.id==P._c,y=!0,c=this.B[0],Q=w.B[c],S=null,A=null;
if(H){this.YJ=2;this.Cr=w.P}else if(w.P&&this.B.length==1&&c>=0&&!Q.rect._G()){this.YJ=1;this.Cr=w.P;
this.mo=Q.cJ;this.AN=!1;if(!Q.U_(w,w.P)){this.AN=!0;Q.DI(w,w.P,!1)}this.nE={G_:Q.cJ.z5,U2:Q.cJ.nk}}else{this.YJ=0;
this._v=P.WJ.AH(w,this.B,null);for(var l=0;l<this._v.length;l++)if(this._v[l][3]!=null)y=!1}var q=this.YJ==1;
if(this._v&&this._v.length==1){var V=this._v[0];if(V[2]!=null&&V[2].X){var e=V[2].N1.g;if(e.length<2){A=V[2].X[e.length==0?0:e[0]].v;
if(!O.X.qw(A))A=null}}if(V[3]==null)q=!0;if(V[4]!=null){S=w.B[this.B[0]].add.SoLd;if(V[1]||V[2])q=!1}}var d=H?w.P.rect.clone():P.WJ.fH(w,this.B);
this.k2=d;if(!H&&S){var N=P.WJ.b6(S.nonAffineTransform);this.k2=O.p.hH(O.v$.h_(S.warp.v));if(q)this.wB=new ea(S.warp.v);
this.sa=O.K.gU(N,this.k2);this.dC=new jA(N,!0,!0,y,!1,!1,n)}else{if(q||H)this.wB=new ea(O.v$.R(this.k2));
this.sa=[1,0,0,0,1,0,0,0];if(this.id==P.i1)n=3;this.dC=new jA([d.x,d.y,d.x+d.m,d.y,d.x+d.m,d.y+d.e,d.x,d.y+d.e],!0,!0,y,!1,!1,n)}this.aqL=[1,0,0,0,1,0,0,0];
if(this.id==P.i1){var b,z;if(this._v){var v=this._v[0][0],T=v.rh;b=T[0];z=T[1]}else if(this.nE){b=this.nE.G_;
z=this.nE.U2}this.l5=O.Kk.a6v(b,z.m,z.e)}};P.WJ.fH=function(w,n){if(n==null)n=w.Q_(!0,null,null,!0);
var H=new cr,y=new cr;if(w.P&&n.length==1&&n[0]>=0)H=w.P.rect.clone();else for(var l=0;l<n.length;l++){var c=n[l],Q=0<=c?w.B[c]:-1e3<c?w.Wh[-1-c]:w.d4[-1e3-c],q=Q.add?Q.add.vmsk:null,S=0<=c?Q.en(w,n.length==1,!1,!0):-1e3<c?O.r.dF(q.i,n.length==1&&q.g.length!=0?q.g:null):Q.rect.clone();
H=H.ld(S);if(c>0&&Q.add.artb)y=y.ld(Q.oC())}return!y._G()?y:H};P.WJ.prototype.ZX=function(w,n,H,y){var c=new aL(n,!0);
c.data=H;if(y)c.G=y;w.S(c)};P.WJ.AH=function(w,n,H){var y=[];for(var l=0;l<n.length;l++){var c=n[l],Q,q;
if(c>=0){Q=w.B[c];q=Q.Wa(w,H,!0)}else if(c>-1e3){Q=w.Wh[-1-c];q=[2]}else{y.push([null,null,null,null,null,null,null,w.d4[-1e3-c].clone()]);
continue}var S=[],A=q.indexOf(0)!=-1;if(A){var V={rh:Q.add.SoLd?null:[Q.buffer.slice(0),Q.rect.clone()]};
S.push(V);if(Q.RL()){var e=Q.iS(w);V.aen=e.buffer.slice(0);V.a4j=e.rect.clone()}}else S.push(null);if(q.indexOf(1)!=-1)S.push(Q.LZ().clone());
else S.push(null);if(q.indexOf(2)!=-1)S.push({N1:Q.add.vmsk.clone(),Ed:Q.add.vstk?JSON.parse(JSON.stringify(Q.add.vstk)):null,WL:Q.add.vstk?P.S2.bH(w,c):null,X:Q.add.vogk?JSON.parse(JSON.stringify(Q.add.vogk)):null});
else S.push(null);if(Q.add.TySh&&A){j1.h2(Q.add.TySh);S.push(Q.add.TySh.D.clone())}else S.push(null);
if(Q.add.SoLd&&A)S.push(JSON.parse(JSON.stringify(Q.add.SoLd)));else S.push(null);if(q.indexOf(3)!=-1)S.push(Q.iS(w).z.clone());
else S.push(null);if(Q.add.lmfx)S.push(JSON.stringify(Q.add.lmfx));else S.push(null);y.push(S)}return y};
P.WJ.GH=function(w,n,H){for(var l=0;l<n.length;l++){var y=n[l],c=0<=y?w.B[y]:-1e3<y?w.Wh[-1-y]:w.d4[-1e3-y],Q=H[l];
if(Q[0]){if(Q[0].rh){c.rect=Q[0].rh[1].clone();c.buffer=Q[0].rh[0].slice(0)}if(c.RL()){var q=c.iS(w);
q.buffer=Q[0].aen.slice(0);q.rect=Q[0].a4j.clone()}}if(Q[1]){c.LZ().channel=Q[1].channel.slice(0);c.LZ().rect=Q[1].rect.clone();
c.LZ().Yh=!0}if(Q[2]){c.add.vmsk=Q[2].N1.clone();if(Q[2].WL)P.S2.hU(c,Q[2].WL);if(Q[2].Ed)c.add.vstk=JSON.parse(JSON.stringify(Q[2].Ed));
if(Q[2].X)c.add.vogk=JSON.parse(JSON.stringify(Q[2].X))}if(Q[3]){c.add.TySh.D=Q[3].clone();j1.un(c.add.TySh)}if(Q[4]){c.add.SoLd=JSON.parse(JSON.stringify(Q[4]))}if(Q[5]){var S=c.iS(w).z;
S.channel=Q[5].channel.slice(0);S.rect=Q[5].rect.clone()}if(Q[6]){c.add.lmfx=JSON.parse(Q[6])}if(Q[7]){c.channel=Q[7].channel.slice(0);
c.rect=Q[7].rect.clone();c.Yh=!0}if(0<=y){c.qL(w);c.U();if(Q[4])c.W0(w,!1)}}w.U()};P.WJ.If=function(w,n,H,y,c,Q,q,S,A,V){if(typeof Q[0]=="number"){var e=[];
for(var l=0;l<H.length;l++)e[l]=Q;Q=e}for(var l=0;l<H.length;l++){var d=Q[l],N=O.K.iK(d),b=N.H5(),z=H[l],v=0<=z?w.B[z]:-1e3<z?w.Wh[-1-z]:w.d4[-1e3-z],T=y[l];
if(v.add&&v.add.lmfx&&S)hO.l$(v.add.lmfx,b);if(T[0]&&!T[3]&&!T[4]&&!T[5]){var Y=T[0].rh;if(A){var g=A.clone(),R=O.R(g.O()*4);
O.j1(Y[0],Y[1],R,g);Y=[R,g]}var h=P.WJ.cd(Y,c,d,q,c==0?v.buffer.buffer:null,null,null,V);if(h){v.rect=h.rect;
v.buffer=h.buffer}}if(T[1]){var E=v.LZ();P.WJ.IJ(w,T[1],E,c,d,q,E.G9&&q&&!O.v$.Rd(q)&&T[0]?T[0].rh[1]:null);
if(A){var g=v.rect.Fa(A),G=O.R(g.O());O.qS(E.channel,E.rect,G,g);E.channel=G;E.rect=g}}if(T[2]){var k=q&&!O.v$.Rd(q),$=T[2].N1.clone(),p=H.length==1&&$.g.length!=0,X=H.length==1&&$.V1.length>1;
if(X)p=!1;var C=p?$.g:null,D=X?$.V1:null;if(k){var o=O.v$.h_(q);O.K.D(d,o);O.r.a6E($.i,o,C,D)}else O.r.aiH($.i,d,C,D);
if(v.add.vstk&&S){v.add.vstk.strokeStyleLineWidth.v.val=T[2].Ed.strokeStyleLineWidth.v.val*b;var t=T[2].WL;
if(t&&t.SU==3){t=JSON.parse(JSON.stringify(t));var u=t.WL.phase.v;t.WL.Scl.v.val=Math.round(t.WL.Scl.v.val*b);
u.Hrzn.v=Math.round(u.Hrzn.v*b);u.Vrtc.v=Math.round(u.Vrtc.v*b);P.S2.hU(v,t)}}if(v.add.vogk){v.add.vogk=JSON.parse(JSON.stringify(T[2].X));
if(k||X)O.X.Bf(v.add.vogk);else O.X.D(v.add.vogk,d,H.length>1?[]:$.g,S)}$.Hk*=b;v.add.vmsk=$;if(v.add.vogk)O.X.X8(v.add.vogk,v.add.vmsk)}if(T[3]){var m=T[3].clone();
m.concat(N);v.add.TySh.D=m;j1.un(v.add.TySh);kn.Pu(v,n.KF)}if(T[4]){var U=v.add.SoLd,I=P.WJ.b6(T[4].nonAffineTransform);
O.K.D(d,I);var x=O.p.w1(I);if(jA.DR(I)){if(q){var J=O.p.hH(O.v$.h_(T[4].warp.v)),G=O.K.gU(I,J),r=O.p.hH(O.v$.h_(q));
I=[r.x,r.y,r.x+r.m,r.y,r.x+r.m,r.y+r.e,r.x,r.y+r.e];O.K.D(G,I);U.warp.v=q}var Z=O.K.gU(I),f=I;if(!O.K.gr(Z)){Z[6]=Z[7]=0;
f=[0,0,1,0,1,1,0,1];O.K.D(Z,f)}U.Trnf=P.WJ.w2(f);U.nonAffineTransform=P.WJ.w2(I);if(U.filterFX)U.filterFX=JSON.parse(JSON.stringify(T[4].filterFX));
P.WJ.a3i(U,N);v.W0(w,c==0,n.KF)}}if(T[5])P.WJ.IJ(w,T[5],v.iS(w).z,c,d,q);if(T[7])P.WJ.IJ(w,T[7],v,c,d,q);
if(0<=z){if(c!=0)v.KU();v.qL(w);v.U()}}w.U()};P.WJ.ak_=function(w,n){var H=n.H5(),y=0;O.BX(w);while(H<.45&&y<w.length-4){y+=2;
H*=2;var c=new b7;c.scale(2,2);c.concat(n);n=c}var Q=w[y],q=w[y+1],S=q.m,A=q.e,V=O.p.u3(q).w;O.p.D(V,n,V);
var e=O.p.w1(V),d=O.R(e.O()),N=e.x,b=e.y,z=e.m,v=e.e,T=n.clone();T.G$();var Y=T.rY(new ce(0,0)),g=T.rY(new ce(1,0)),R=g.x-Y.x,h=g.y-Y.y,E=S-.51,G=A-.51;
for(var k=0;k<v;k++){var $=T.iL*(N+.5)+T.Mg*(k+b+.5)+T.qH,p=T.k*(N+.5)+T.Du*(k+b+.5)+T.fp;for(var X=0;
X<z;X++){if($<.5||$>E||p<.5||p>G){}else d[k*z+X]=Math.floor(.5+O.K.am3($,p,Q,S,A));$+=R;p+=h}}return{rect:e,channel:d}};
P.WJ.T_=function(w,n,H,y,c,Q){if(H==null)H=!1;return P.WJ.cd(w,H?0:1,O.K.og(n),null,y,c,Q,H)};P.WJ.cd=function(w,n,H,y,c,Q,q,S){if(S==null)S=!1;
if(S&&q)throw"e";var A={},N=0,b=.3;if(y&&!O.v$.Rd(y)){var V=O.v$.h_(y);O.K.D(H,V);A.rect=O.p.w1(V);A.buffer=O.R(A.rect.O()*4);
O.cR.drawImage(V,w[0],w[1].m,w[1].e,A.buffer,A.rect,n==0);return A}O.Qt(w);var e=w[0],d=w[1],z=d.O()*O.K.iK(H).H5();
if(S&&z>4e6)b=z>8e6?2.2:1.2;while(N+3<w.length&&w[N+3].O()>16&&O.K.gr(H)&&O.K.iK(H).H5()<b){N+=2;var v=w[N],T=w[N+1],Y=d.m/T.m,g=d.e/T.e;
H=O.K.dO(H,[1,0,d.x,0,1,d.y,0,0]);H=O.K.dO(H,[Y,0,0,0,g,0,0,0]);H=O.K.dO(H,[1,0,-d.x,0,1,-d.y,0,0]);
d=T;e=v}var R=O.K.dO(H,O.K.og(new b7(d.m,0,0,d.e,d.x,d.y))),h=[0,0,1,0,1,1,0,1];O.K.D(R,h);A.rect=O.p.w1(h);
if(q)A.rect=A.rect.Fa(q);if(S){while((A.rect.m&3)!=0)A.rect.m++;while((A.rect.e&3)!=0)A.rect.e++}if(!jA.DR(h)||A.rect.m>1e5||A.rect.e>1e5||A.rect.O()>3e4*3e4)return null;
var E=A.rect.O()*4;if(c&&c.byteLength>=E&&E>=c.byteLength>>2){A.buffer=new Uint8Array(c)}else{A.buffer=O.R(E)}O.K.drawImage(R,e,d.m,d.e,A.buffer,A.rect,n==0,Q,S);
if(n==2&&A.buffer){var G=A.rect.m,k=A.rect.e,$;$=[0,-1,0,-1,16,-1,0,-1,0];$=O.yb.sF($);var p=A.buffer.slice(0);
O.yb.NC(p,A.buffer,G,k,$,255,!1,!0)}if(A.buffer)return A};P.WJ.IJ=function(w,n,H,y,c,Q,q){var S=n.rect,A=n.channel;
if(q){S=q;A=n.iU(S)}if(n.color==255)O.G$(A);var V=O.R(S.O()*4);O.o2(A,V,3);var e=P.WJ.cd([V,S],y,c,Q);
if(e){H.rect=e.rect;H.channel=O.R(e.rect.O());O.RR(e.buffer,H.channel,3);H.Yh=!0}if(n.color==255){O.G$(A);
if(e)O.G$(H.channel)}};P.WJ.a3i=function(w,n){var H=w.filterFX;if(H)H=H.v.filterFXList;if(H)H=H.v;if(H)for(var y=0;
y<H.length;y++){var c=H[y].v.Fltr;if(c==null||c.v.classID!="rigidTransform")continue;c=c.v;console.log(c);
var Q=[];for(var q=0;q<4;q++)Q.push(c["PuX"+q].v,c["PuY"+q].v);O.p.D(Q,n,Q);for(var q=0;q<4;q++){c["PuX"+q].v=Q[q*2];
c["PuY"+q].v=Q[q*2+1]}var S=["PinP","posFinalPins"],A=["originalVertexArray","deformedVertexArray"],V=c.puppetShapeList.v;
for(var e=0;e<V.length;e++){var d=V[e].v;for(var N=0;N<S.length;N++){var b=P.WJ.b6(d[S[N]]);O.p.D(b,n,b);
d[S[N]]=P.WJ.w2(b);var z=new Uint8Array(d[A[N]].v),v=new Float32Array(z.buffer);O.p.D(v,n,v);var T=[];
for(var Y=0;Y<z.length;Y++)T[Y]=z[Y];d[A[N]].v=T}}}};P.WJ.b6=function(w){var n=[],H=w.v.length;for(var l=0;
l<H;l++)n.push(w.v[l].v);return n};P.WJ.w2=function(w){var n={t:"VlLs",v:[]},H=w.length;for(var l=0;
l<H;l++)n.v.push({t:"doub",v:w[l]});return n};P.WJ.prototype.au2=function(){var w=O.p.hH(O.v$.h_(this.wB.xb())),n=O.K.gU(this.dC.VO(),this.k2),H=[w.x,w.y,w.x+w.m,w.y,w.x+w.m,w.y+w.e,w.x,w.y+w.e];
O.K.D(n,H);this.dC.mQ(H);this.k2=w};P.WJ.prototype.kf=function(w,n,H,y){var c=O.K.gU(this.dC.VO(),this.k2);
c=O.K.dO(c,O.K.G$(this.sa));var Q=this.wB?this.wB.xb():null;if(this.YJ==0){var q=this.Dt=O.K.iK(c);if(this.id==P.i1){var S=this._v[0][0],A=S.rh,V=A[1],e=~~(V.m*Math.max(0,q.iL)),d=~~(V.e*Math.max(0,q.Du)),N=new cr(Math.round(q.iL*V.x+q.qH),Math.round(q.Du*V.y+q.fp),e,d),b=O.Kk.D(this.l5,N),z=w.B[this.B[0]];
z.buffer=b;z.rect=N;z.U();w.U()}else P.WJ.If(w,n,this.B,this._v,H,c,Q,null,null,y)}else if(this.YJ==1){var v=w.B[this.B[0]],V=this.nE.U2;
if(v.Ks<=0){var T=this.nE.G_,Y=this.Cr,g=null;if(Q&&!O.v$.Rd(Q)&&!Y.rect.Hw(V)){var b=O.R(Y.rect.O()*4);
O.j1(T,V,b,Y.rect);T=b;V=Y.rect}if(this.id==P.i1){var q=this.Dt=O.K.iK(c),e=~~(V.m*Math.max(0,q.iL)),d=~~(V.e*Math.max(0,q.Du)),N=new cr(Math.round(q.iL*V.x+q.qH),Math.round(q.Du*V.y+q.fp),e,d),b=O.Kk.D(this.l5,N);
g={buffer:b,rect:N}}else g=P.WJ.cd([T,V],H,c,Q);if(g){v.cJ.z5=g.buffer;v.cJ.nk=g.rect;var R=O.R(g.rect.O());
O.RR(v.cJ.z5,R,3);w.P={channel:R,rect:v.cJ.nk.clone()}}}else{var h=O.R(V.O()*4);O.o2(this.nE.G_,h,3);
var g=P.WJ.cd([h,V],H,c,Q);if(g){v.cJ.z5=O.R(g.rect.O());O.RR(g.buffer,v.cJ.z5,3);v.cJ.nk=g.rect}this.abF(w,H,c,Q)}v.ll(w,0,0,w.P);
if(H!=0){v.KU();O.KU(w.P)}w.Ii=!0;w.U()}else if(this.YJ==2)this.abF(w,H,c,Q)};P.WJ.prototype.abF=function(w,n,H,y){var c=this.Cr.rect,Q=O.R(c.O()*4);
O.o2(this.Cr.channel,Q,3);var q=P.WJ.cd([Q,c],n,H,y),S=O.R(q.rect.O());O.RR(q.buffer,S,3);w.P={channel:S,rect:q.rect};
w.Ii=!0};P.WJ.prototype.disable=function(w,n,H,y){if(this.dC)this.ji(w,n,null,!0)};P.ajg=function(){P.WJ.call(this,[10,16],P.xM,"tools/transform")};
P.ajg.prototype=new P.WJ;P.a6w=function(){P.WJ.call(this,[7,10],P._c,"tools/transform")};P.a6w.prototype=new P.WJ;
P.a45=function(){P.WJ.call(this,[10,48],P.i1,"tools/transform")};P.a45.prototype=new P.WJ;P.zO=function(w,n,H){P.rG.call(this,[10,46],P.OF,"tools/transform");
this.ZA=[1,1,2,!0];this.e8="rigidTransform";this.Ta=null;this.az3=null;this.EC=null;this.Zy=null;this.SB=null;
this.GM=null;this.Gt=[]};P.zO.prototype=new P.rG;P.zO.prototype.i7=function(){return!0};P.zO.amE=function(w){if(w==null)return!1;
if(w.g.length!=1)return!1;var n=w.B[w.g[0]];return n.add.SoLd||w.BG(!1)};P.zO.prototype.nX=function(w,n){return P.zO.amE(w)};
P.zO.prototype.enable=function(w,n,H,y,c,Q,q){this.az3=Q.sH;var S=Q.sH,A,v=null;if(S){var V=w.B[S.j];
if(V.add.SoLd.filterFX!=null){var e=V.add.SoLd.filterFX.v.filterFXList.v;if(e[S.index])A=JSON.parse(JSON.stringify(e[S.index].v.Fltr.v))}}var d=A==null,V=w.B[w.g[0]],N=V.buffer,b=V.rect,z=V.add.SoLd;
if(z){var T=z.nonAffineTransform.v;v=[];for(var l=0;l<4;l++)v.push(T[l*2].v,T[l*2+1].v);if(d)this.Wy("edit",n);
var Y=V.iS(w);N=Y.buffer;b=Y.rect}this.Ta={buffer:N.slice(0),rect:b.clone(),a2w:v};if(d)A=P.zO.No(this.Ta,this.ZA);
this.EC=A;this.Zy=P.zO.A$(this.EC,this.ZA);this.av();this.Rb(w);if(d)this.k9(n);var g=new aL(M.E.L,!0);
g.data={d:M.c.Hi,G:this.id,PY:this.ZA};n.S(g);g.data={d:M.c.N4,Xn:"default"};n.S(g)};P.zO.prototype.disable=function(w,n,H,y){if(this.Zy)this.ji(w,n,!0)};
P.zO.prototype.av=function(w){var n=this.Zy;this.Gt=[];for(var l=0;l<n.length;l++){var H=n[l];for(var y=0;
y<H.g.length;y++)this.Gt.push([l,H.g[l]]);H.WD=O.uX.PM(H);if(w)O.uX.pH(H)}};P.zO.prototype.ro=function(w,n,H,y){if(w.TC=="commit")this.ji(H,n,!0);
else if(w.TC=="cancel")this.yZ(H,n,!0);else if(w.TC=="prm"){var c=!1;for(var l=0;l<3;l++)if(this.ZA[l]!=w.PY[l])c=!0;
this.ZA=w.PY;if(c){this.EC=P.zO.No(this.Ta,this.ZA,this.EC);this.Zy=P.zO.A$(this.EC,this.ZA);this.av(!0);
this.k9(n)}this.Rb(H)}else if(w.TC=="moveDepth"){var Q=this.Zy;for(var q=0;q<Q.length;q++){var S=Q[q];
for(var l=0;l<S.g.length;l++){var A=S.g[l];S.Nn[A]+=w.a9q?1:-1}}this.k9(n)}};P.zO.prototype.XT=function(w,n){return w==b8.DB||w==b8.uU};
P.zO.prototype.QI=function(w,n,H,y){var c=y.oY();if(y.l(b8.IO))this.ji(w,n,!0);else if(y.l(b8.RN))this.yZ(w,n,!0);
else if(y.l(b8.DB)||y.l(b8.uU)){var Q=this.Zy;for(var q=0;q<Q.length;q++){var S=Q[q];S.g.sort(function(e,d){return d-e});
for(var l=0;l<S.g.length;l++){var A=S.g[l],V=A*2;S.Nn.splice(A,1);S.mc.splice(A,1);S.eb.splice(A,1);
S.zy.splice(A,1);S.DJ.splice(V,2);S.d0.splice(V,2)}S.g=[];if(S.zy.length==0){S.Md=S.FP.slice(0);S.aV=S.FP.slice(0)}}this.av(!0);
this.k9(n);this.Rb(w)}else if(c.x!=0||c.y!=0){this.atz(w,c.x,c.y,n);this.fN=null}};P.zO.prototype.ji=function(w,n,H){this.Wy("confirm",n);
this.escape(w,n,H)};P.zO.prototype.yZ=function(w,n,H){this.Wy("cancel",n);this.escape(w,n,H)};P.zO.prototype.escape=function(w,n,H){w.I.lJ=null;
w.I.tE=[];w.Va=!0;this.Zy=null;var y=new aL(M.E.L,!0);y.data={d:M.c.po};if(H)n.S(y)};P.zO.prototype.mO=function(w,n,H,y,c){var Q=w.u.Sb(c.x,c.y),q=Q.x,S=Q.y,A=this.Zy,V=null,e=[0,2,4,1.2,1.2,1.2],d=-1,N=P.L$(w,c);
for(var l=0;l<A.length;l++){var b=A[l],z=O.p.xA(b.d0,q,S,N);if(z!=-1)V=[l,z];if(d==-1&&O.uX.j0.avD(b.aV,b.Tk,q,S))d=l}if(V==null&&d!=-1){var b=A[d];
P.zO.a7Z(b,q,S,q,S,0);V=[d,b.zy.length-1];b.WD=O.uX.PM(b)}this.SB=Q;if(V){var v=A[V[0]].g.indexOf(V[1])!=-1;
if(y.l(b8.fx)&&!v){A[V[0]].g.push(V[1]);this.Gt.push(V)}else if(!v){A[V[0]].g=[V[1]];this.Gt=[V]}}this.Rb(w)};
P.zO.a7Z=function(w,n,H,y,c,Q){var q=O.p.xA(w.aV,n,H);w.zy.push(q);w.d0.push(y,c);w.DJ.push(w.aV[q*2]-n,w.aV[q*2+1]-H);
w.eb.push(0);w.mc.push(!1);w.Nn.push(Q)};P.zO.prototype.C9=function(w,n,H,y,c){var Q=w.u.Sb(c.x,c.y),q=this.SB;
if(q)this.atz(w,Q.x-q.x,Q.y-q.y,n)};P.zO.prototype.atz=function(w,n,H,y){var c={},Q=this.Gt,q=this.Zy;
if(this.fN==null){this.fN=[];for(var l=0;l<q.length;l++)this.fN.push(q[l].d0.slice(0))}for(var l=0;l<Q.length;
l++){var S=this.Gt[l],A=S[0],V=q[S[0]],e=S[1]*2;V.d0[e+0]=this.fN[A][e+0]+n;V.d0[e+1]=this.fN[A][e+1]+H;
c[A]=A}for(var A in c)O.uX.pH(this.Zy[c[A]]);this.Rb(w);this.k9(y)};P.zO.prototype.Wy=function(w,n){var H=new aL(M.E.v,!0);
H.G=P.NJ;H.data={d:w,sH:this.az3,e8:this.e8,X5:this.EC};n.S(H)};P.zO.prototype.sh=function(w,n,H,y,c){this.SB=null;
this.fN=null};P.zO.prototype.k9=function(w){P.zO.azI(this.Zy,this.ZA,this.EC);this.Wy("edit",w)};P.zO.prototype.Rb=function(w){var n=this.Zy,H=this.EC;
w.I.lJ={w:[],T:[]};w.I.tE=[];w.I.e7=[];for(var l=0;l<n.length;l++){var y=n[l];for(var c=0;c<y.g.length;
c++)w.I.e7.push((w.I.tE.length>>>1)+y.g[c]);w.I.tE=w.I.tE.concat(y.d0);if(this.ZA[3])O.p.concat(w.I.lJ,O.p.azp(y.aV,y.Tk))}w.Va=!0};
P.zO.No=function(w,n,H){var y=w.buffer,c=w.rect,Q=w.a2w,q=gT.B1("rigidTransform");if(Q)for(var l=0;l<4;
l++){q["PuX"+l].v=Q[l*2];q["PuY"+l].v=Q[l*2+1]}var S=q.puppetShapeList.v,A=O.uX.a7S(y,c.m,c.e,n[1],n[2]),V=[];
for(var e=0;e<A.length;e++){var d={classID:"puppetShape",rigidType:{t:"bool",v:!0},VrsM:{t:"long",v:1},VrsN:{t:"long",v:0},originalVertexArray:{t:"tdta",v:[]},deformedVertexArray:{t:"tdta",v:[]},indexArray:{t:"tdta",v:[]},pinOffsets:{t:"VlLs",v:[]},posFinalPins:{t:"VlLs",v:[]},pinVertexIndices:{t:"VlLs",v:[]},PinP:{t:"VlLs",v:[]},PnRt:{t:"VlLs",v:[]},PnOv:{t:"VlLs",v:[]},PnDp:{t:"VlLs",v:[]},meshQuality:{t:"long",v:2},meshExpansion:{t:"long",v:2},meshRigidity:{t:"long",v:2},imageResolution:{t:"doub",v:72},selectedPin:{t:"VlLs",v:[]}};
d.meshBoundaryPath={t:"Objc",v:{classID:"pathClass",pathComponents:{t:"VlLs",v:[{t:"Objc",v:{classID:"PaCm",shapeOperation:{t:"enum",v:{shapeOperation:"xor"}},SbpL:{t:"VlLs",v:[{t:"Objc",v:{classID:"Sbpl",Clsp:{t:"bool",v:!0},Pts:{t:"VlLs",v:[]}}}]}}}]}}};
var N=A[e];S.push({t:"Objc",v:d});var b=N.FP.slice(0);O.p.D(b,new b7(1,0,0,1,c.x,c.y),b);var z=N.Tk;
for(var l=0;l<z.length;l+=3){var v=z[l+1];z[l+1]=z[l+2];z[l+2]=v}V.push({Tk:z,FP:b,Md:b,aV:b,zy:[],DJ:[],d0:[],WD:null,g:[],eb:[],mc:[],Nn:[]})}if(H){var T=P.zO.A$(H,[]),Y=V[0];
for(var l=0;l<T.length;l++){var g=T[l];for(var R=0;R<g.g.length;R++)Y.g.push((Y.d0.length>>>1)+g.g[R]);
for(var R=0;R<g.zy.length;R++){var h=g.zy[R]*2,E=g.FP[h]-g.DJ[R*2],G=g.FP[h+1]-g.DJ[R*2+1];P.zO.a7Z(Y,E,G,g.d0[R*2],g.d0[R*2+1],g.Nn[R])}}}P.zO.azI(V,n,q);
return q};P.zO.A$=function(w,n){var H=P.WJ.b6,y=w.puppetShapeList.v,c=[];for(var Q=0;Q<y.length;Q++){var q=y[Q].v;
n[0]=q.meshRigidity.v-1;n[1]=q.meshQuality.v-1;n[2]=q.meshExpansion.v;var S=q.pinVertexIndices.v.length,A=q.meshBoundaryPath.v.pathComponents.v;
if(A.length!=0){var V=A[0].v.SbpL.v[0].v.Pts;V.v=[]}var e=new Uint32Array(new Uint8Array(q.indexArray.v).buffer),d=new Float32Array(new Uint8Array(q.originalVertexArray.v).buffer),N=new Float32Array(new Uint8Array(q.deformedVertexArray.v).buffer),b=[],z=[],v=[];
for(var l=0;l<e.length;l++)b.push(e[l]);for(var l=0;l<d.length;l++){z.push(d[l]);v.push(N[l])}var T=H(q.pinVertexIndices),Y=H(q.pinOffsets),g=H(q.posFinalPins),R=H(q.PnRt),h=H(q.PnOv),E=H(q.PnDp),G=H(q.selectedPin);
c.push({Tk:b,FP:z,Md:v.slice(0),aV:v,zy:T,DJ:Y,d0:g,WD:null,eb:R,mc:h,Nn:E,g:G})}return c};P.zO.azI=function(w,n,H){function y(N,b){var z=[];
for(var l=0;l<N.length;l++)z.push({t:b,v:N[l]});return z}function c(N,b,z){var v=new(z?Uint32Array:Float32Array)(N),T=new Uint8Array(v.buffer);
for(var l=0;l<T.length;l++)b[l]=T[l]}var Q=H.puppetShapeList.v;for(var q=0;q<Q.length;q++){var S=w[q],A=Q[q].v;
A.meshRigidity.v=n[0]+1;A.meshQuality.v=n[1]+1;A.meshExpansion.v=n[2];c(S.Tk,A.indexArray.v,!0);c(S.FP,A.originalVertexArray.v);
c(S.aV,A.deformedVertexArray.v);var V=[];for(var l=0;l<S.zy.length;l++){var e=S.zy[l]*2,d=l*2;V[d]=S.FP[e]-S.DJ[d];
V[d+1]=S.FP[e+1]-S.DJ[d+1]}A.PinP.v=y(V,"doub");A.pinVertexIndices.v=y(S.zy,"long");A.pinOffsets.v=y(S.DJ,"doub");
A.posFinalPins.v=y(S.d0,"doub");A.PnRt.v=y(S.eb,"long");A.PnOv.v=y(S.mc,"bool");A.PnDp.v=y(S.Nn,"doub");
A.selectedPin.v=y(S.g,"long")}};P.pI=function(w,n,H){P.rG.call(this,w?w:[10,40],n?n:P.Fn,H?H:"tools/slice");
this.mT=null;this.ZZ=null;this.VD=null;this.ay2=null;this.LW=null;this.ky=null};P.pI.prototype=new P.rG;
P.pI.Z3=function(w,n){var H=-1;for(var l=0;l<w.length;l++){var y=P.pI.WT(w,l);if(y[0]<=n.x&&n.x<=y[2]&&y[1]<=n.y&&n.y<=y[3]){H=l;
break}}return H};P.pI.prototype.dZ=function(w,n,H,y,c){if(H==null)return;this.Sn(H);if(w.d=="fromAction"){var Q=w.nG,q=Q.fd,S=Q.ei,A=H._P(),V=H.Zf(),e=V==-1?new cr(0,0,H.m,H.e):H.B[V].oC();
if(q=="divide"){if(H.J$.length!=0){var d=H.J$[0],N=P.pI.WT(H.B0,d);e=new cr(N[0],N[1],N[2]-N[0],N[3]-N[1]);
H.B0.splice(d,1);H.J$=[]}A=[[],[]];for(var b=0;b<2;b++){var z=["Across","Down"][b],v=S["pixels"+z]?0:1,T=S[["pixels","slices"][v]+z];
if(T==null)continue;T=T.v;var Y=b==0?e.x:e.y,g=b==0?e.m:e.e;if(v==0)for(var l=1;l*T<g;l++){A[0].push([b,Y+l*T]);
A[1].push(V)}else{var R=Math.floor(g/T);for(var l=1;l<T;l++){A[0].push([b,Y+l*R]);A[1].push(V)}}}}var h=[e.x,e.x+e.m],E=[e.y,e.y+e.e];
for(var l=0;l<A[0].length;l++){var G=A[0][l],k=Math.round(G[1]),$=A[1][l];if($!=-1&&$!=V)continue;if(G[0]==0&&h.indexOf(k)==-1)h.push(k);
if(G[0]==1&&E.indexOf(k)==-1)E.push(k)}h.sort(function(I,x){return I-x});E.sort(function(I,x){return I-x});
for(var p=1;p<E.length;p++)for(var X=1;X<h.length;X++){H.B0.push(P.pI.Vx());P.pI.GU(H.B0,H.B0.length-1,[h[X-1],E[p-1],h[X],E[p]]);
H.Va=!0}}else if(w.d=="reorder"){if(H.J$.length==0)return;var C=H.B0,D=H.J$;D.sort(function(I,x){return I-x});
console.log(D);var o=C.slice(0),t=[],u=[];for(var l=0;l<D.length;l++){var d=D[l],m=C[d];u.push(m);o.splice(o.indexOf(m),1)}var U=Math.max(0,Math.min(o.length,D[0]-w.dir));
for(var l=0;l<u.length;l++){o.splice(U+l,0,u[l]);t.push(U+l)}H.B0=o;H.J$=t}else if(w.d=="delete"){var C=H.B0.slice(0);
for(var l=0;l<H.J$.length;l++)H.B0.splice(H.B0.indexOf(C[H.J$[l]]),1);H.J$=[]}else if(w.d=="deleteAll"){H.B0=[];
H.J$=[]}else{H.B0[H.J$[0]].v=w;H.Va=!0}this.I8(H)};P.pI.prototype.enable=function(w,n,H,y,c,Q){P.rG.prototype.enable.call(this,w,n,H,y,c,Q);
if(!H.al.B0){var q=new aL(M.E.L,!0);q.data={d:M.c.Yj,PY:h6.bq};n.S(q)}};P.pI.prototype.disable=function(){this.mT=null;
this.ZZ=null};P.pI.prototype.Qz=function(w,n,H,y,c){var Q=w.u.Sb(c.x,c.y),q=P.pI.Z3(w.B0,Q);if(q==-1)return;
this.mT=w;this.ZZ=n;w.J$=[q];w.Va=!0;if(this.ky==null){this.ky=new az([{name:[5,4]},{name:[8,11,1],JY:!0}]);
this.ky.h("select",this.tB,this)}var S=this.ky;S.parent=n;S.f();S.update(w,H);var A=new aL(M.E.L,!0);
A.data={d:M.c.hf,_0:S,x:c.JV+2,y:c.m6+1};n.S(A)};P.pI.prototype.tB=function(w){var n=this.ky.uf()[0],H=this.mT;
if(n==0){this.Sn(H);H.B0.splice(H.J$[0],1);H.J$=[];H.Va=!0;this.I8(H)}if(n==1){var y=new aL(M.E.L,!0);
y.data={d:M.c.rL,Ln:"soptions",Z:H.B0[H.J$[0]].v};this.ZZ.S(y)}};P.pI.prototype.mO=function(w,n,H,y,c){if(w==null)return;
this.Sn(w);var Q=w.u.Sb(c.x,c.y);Q=P.xz.Ov(w,Q,H,[!0,null,!1]);Q.x=Math.round(Q.x);Q.y=Math.round(Q.y);
this.LW=Q;w.B0.unshift(P.pI.Vx());w.J$=[0];P.pI.GU(w.B0,0,[Q.x,Q.y,Q.x+20,Q.y+20]);w.Va=!0};P.pI.prototype.C9=function(w,n,H,y,c){if(this.VD==null)return;
var Q=w.u.Sb(c.x,c.y),q=this.LW;Q=P.xz.Ov(w,Q,H,[!0,null,!1]);Q.x=Math.round(Q.x);Q.y=Math.round(Q.y);
var S=[q.x,q.y,Q.x,Q.y];P.pI.aot(S);P.pI.GU(w.B0,0,S);w.Va=!0};P.pI.prototype.sh=function(w,n,H,y,c){this.I8(w);
this.LW=null};P.pI.prototype.Sn=function(w){this.VD=JSON.stringify(w.B0);this.ay2=JSON.stringify(w.J$)};
P.pI.prototype.I8=function(w){var n=JSON.stringify(w.B0);if(n!=this.VD){var H=new dq(this.name,this);
H.data={nE:this.VD,OG:n,asr:this.ay2,a1L:JSON.stringify(w.J$)};w.c0(H)}this.VD=null};P.pI.prototype.LL=function(w,n){n.B0=JSON.parse(w.nE);
n.J$=JSON.parse(w.asr);n.Va=!0};P.pI.prototype.KC=function(w,n){n.B0=JSON.parse(w.OG);n.J$=JSON.parse(w.a1L);
n.Va=!0};P.pI.prototype.XT=function(w,n){return n!=null&&n.J$.length!=0&&(w==b8.DB||w==b8.uU)};P.pI.prototype.QI=function(w,n,H,y){if(w==null)return;
if(y.l(b8.DB)||y.l(b8.uU))this.dZ({d:"delete"},n,w,y,H);var c=y.oY();if(c.x!=0||c.y!=0){this.Sn(w);P.pI.M3(w,c);
this.I8(w)}};P.pI.prototype.ro=function(w,n,H,y,c){};P.pI.aic=function(w,n,H,y){var c=new ce(-n.x,-n.y),Q=n.m/H.m,q=n.e/H.e,S=[0,0,n.m,n.e];
for(var l=0;l<w.length;l++){var A=P.pI.WT(w,l);if(y){A[0]=Math.round(A[0]*Q);A[1]=Math.round(A[1]*q);
A[2]=Math.round(A[2]*Q);A[3]=Math.round(A[3]*q)}else{P.pI.Nd(A,c);P.pI.amz(A,S)}if(A[0]>=A[2]||A[1]>=A[3]){w.splice(l,1);
l--;continue}P.pI.GU(w,l,A)}};P.pI.M3=function(w,n){var H=w.B0;for(var l=0;l<w.J$.length;l++){var y=P.pI.WT(H,w.J$[l]);
P.pI.Nd(y,n);P.pI.GU(H,w.J$[l],y)}};P.pI.amz=function(w,n){if(w[0]<n[0])w[0]=n[0];if(w[1]<n[1])w[1]=n[1];
if(n[2]<w[2])w[2]=n[2];if(n[3]<w[3])w[3]=n[3]};P.pI.Nd=function(w,n){w[0]=Math.round(w[0]+n.x);w[2]=Math.round(w[2]+n.x);
w[1]=Math.round(w[1]+n.y);w[3]=Math.round(w[3]+n.y)};P.pI.GU=function(w,l,n){var H=w[l].v.bounds.v;H.Left.v=n[0];
H.Top.v=n[1];H.Rght.v=n[2];H.Btom.v=n[3]};P.pI.WT=function(w,l){var n=w[l].v.bounds.v;return[n.Left.v,n.Top.v,n.Rght.v,n.Btom.v,l]};
P.pI.aot=function(w){if(w[2]<w[0]){var n=w[0];w[0]=w[2];w[2]=n}if(w[2]==w[0])w[2]++;if(w[3]<w[1]){var n=w[1];
w[1]=w[3];w[3]=n}if(w[3]==w[1])w[3]++};P.pI.hH=function(w,n){var H=1e9,y=-1e9,c=1e9,Q=-1e9;for(var l=0;
l<n.length;l++){var q=P.pI.WT(w,n[l]);H=Math.min(H,q[0]);c=Math.min(c,q[1]);y=Math.max(y,q[2]);Q=Math.max(Q,q[3])}return[H,c,y,Q]};
P.pI.Vx=function(){return{t:"Objc",v:{classID:"slice",sliceID:{t:"long",v:0},groupID:{t:"long",v:0},origin:{t:"enum",v:{ESliceOrigin:"userGenerated"}},Type:{t:"enum",v:{ESliceType:"Img"}},bounds:{t:"Objc",v:{classID:"Rct1",Top:{t:"long",v:0},Left:{t:"long",v:0},Btom:{t:"long",v:0},Rght:{t:"long",v:0}}},url:{t:"TEXT",v:""},null:{t:"TEXT",v:""},Msge:{t:"TEXT",v:""},altTag:{t:"TEXT",v:""},cellTextIsHTML:{t:"bool",v:!0},cellText:{t:"TEXT",v:""},horzAlign:{t:"enum",v:{ESliceHorzAlign:"default"}},vertAlign:{t:"enum",v:{ESliceVertAlign:"default"}},bgColorType:{t:"enum",v:{ESliceBGColorType:"None"}},topOutset:{t:"long",v:0},leftOutset:{t:"long",v:0},bottomOutset:{t:"long",v:0},rightOutset:{t:"long",v:0}}}};
P.Fv=function(){P.pI.call(this,[10,41],P.Pj,"tools/sselect");this.LW=null;this.YZ=null;this.Gc=null;
this.GM=null;this.tm=!1};P.Fv.prototype=new P.pI;P.Fv.prototype.mO=function(w,n,H,y,c){if(w==null)return;
var Q=w.u.Sb(c.x,c.y),q=P.Fv.alV(Q,4/w.u.N,w.B0,w.J$);q.pop();if(q.length!=0){this.LW=Q;this.Gc=q;this.Sn(w);
return}var S=w.B0,A=P.pI.Z3(S,Q);if(A==-1)w.J$=[];else{var V=w.J$.indexOf(A);if(y.l(b8.fx)){if(V==-1)w.J$.push(A);
else w.J$.splice(V,1)}else{w.J$.sort(function(v,T){return v-T});if(V==-1)w.J$=[A];this.LW=Q;this.Sn(w);
this.YZ=P.pI.hH(S,w.J$);this.GM=[];for(var l=0;l<w.J$.length;l++)this.GM.push(P.pI.WT(S,w.J$[l]));if(y.l(b8.FO)){var e=S.slice(0),d=w.J$,N=[];
for(var l=0;l<d.length;l++){var A=d[l],b=e[A],z=S.indexOf(b);N.push(z);S.splice(z,0,JSON.parse(JSON.stringify(b)))}w.J$=N}}}w.Va=!0};
P.Fv.prototype.C9=function(w,n,H,y,c){var Q=w.u.Sb(c.x,c.y);if(this.LW==null){var q=P.Fv.alV(Q,4/w.u.N,w.B0,w.J$),S=q.pop(),A=q.length==0?"default":["ew","nwse","ns","nesw"][S]+"-resize",V=new aL(M.E.L,!0);
V.data={d:M.c.N4,Xn:A};n.S(V);return}if(!this.tm&&Q.Hw(this.LW))return;this.tm=!0;var e=w.B0,q=this.Gc;
if(q){Q=P.xz.Ov(w,Q,H,[!0,null,!1]);var d=Math.round(Q.x),N=Math.round(Q.y);for(var l=0;l<q.length;l+=2){var b=P.pI.WT(e,q[l]),z=q[l+1];
b[z]=(z&1)==0?d:N;P.pI.aot(b);P.pI.GU(e,q[l],b)}}else{var v=Q.Hy(this.LW),T=this.YZ.slice(0);P.pI.Nd(T,v);
var Y=new cr(T[0],T[1],T[2]-T[0],T[3]-T[1]),R=P.xz.YY(w,Y,H,[!0,null,!1],!0);P.xz.IF(w,Y,R);v.x+=R[0];
v.y+=R[1];for(var l=0;l<w.J$.length;l++)P.pI.GU(e,w.J$[l],this.GM[l]);P.pI.M3(w,v)}w.Va=!0};P.Fv.prototype.sh=function(w,n,H,y,c){if(this.LW==null)return;
this.I8(w);w.I.lC=null;w.Va=!0;this.LW=null;this.Gc=null;this.GM=null;this.tm=!1};P.Fv.alV=function(w,n,H,y){var c=w.x,Q=w.y,q=[],S=-1,A=[];
for(var l=0;l<y.length;l++){var V=y[l],e=P.pI.WT(H,V),d=e[0],N=e[1],b=e[2],z=e[3];if(c<d-n||b+n<c||Q<N-n||z+n<Q)continue;
var v=[c<d+n,Q<N+n,b-n<c,z-n<Q],T=-1;for(var Y=0;Y<4;Y++){if(v[Y]&&v[Y+1&3])T=1+2*(Y&1);if(v[Y])q.push(V,Y)}if(T==-1){if(v[0]||v[2])T=0;
if(v[1]||v[3])T=2}if(T!=-1){S=T;A.push(V)}}var g=q.length;for(var l=0;l<g;l+=2){var V=q[l],R=q[l+1],h=P.pI.WT(H,V)[R];
for(var Y=0;Y<y.length;Y++){var E=y[Y];if(A.indexOf(E)!=-1)continue;var e=P.pI.WT(H,E);if(e[R&1]==h)q.push(E,R&1);
if(e[2+(R&1)]==h)q.push(E,2+(R&1))}}q.push(S);return q};P.tc=function(){P.Me.call(this,[10,44],P.axV,"tools/oselect");
this.oW="crosshair";this.azO=0};P.tc.prototype=new P.Me;P.tc.prototype.A9=function(w,n,H,y){if(Math.random()<1/(1+this.azO)){alert("The cross should be fully inside the object.",3500);
this.azO++}};P.tc.prototype.jf=function(w,n,H,y){P.kp.vh(w,P.Me.P6,this.ZZ);if(!y.iO||!this.Eq)return;
var c=this.fH(w,H,!1),Q=c.m,q=c.e,S=c.x,A=c.y,V=c.x+Q,e=c.y+q,d=S+Q/2,N=A+q/2,b=P.tc.a2P;w.I.lJ={w:[S,A,V,A,V,e,S,e,d-Q*b,N,d+Q*b,N,d,N-q*b,d,N+q*b],T:"M L L L Z M L M L".split(" ")};
w.Va=!0};P.tc.a2P=.12;P.tc.prototype.Cw=function(w,n,H,y){w.I.lJ=null;w.Va=!0;this.finish(w,n,H,y)};
P.tc.prototype.getSelection=function(w,n,H,y){if(this.Pz.Hw(this.dL)||!this.Eq)return null;var c=this.fH(w,H,!1),Q=w.B[w.g[0]];
if(c._G()||!c.QW(Q.rect))return null;return P.Me.re("ObSl",c)};P.kp=function(){P.sT.call(this,[10,37],P.$b,"tools/qselect");
this.Lt="qselect"};P.kp.prototype=new P.sT;P.kp.prototype.mO=function(w,n,H,y,c){P.kp.vh(w,P.Me.P6,n,!0);
this.$G(w,H,y,c,1);if(this.Oi==null)return;this.Jw(w)};P.kp.prototype.C9=function(w,n,H,y,c){this.u2(w,n,H);
P.kp.vh(w,P.Me.P6,n);if(this.bO)this._f(w,H,c);if(this.Oi==null)return;if(!c.iO)return;var Q=this.nc(w,H,y,c);
if(Q!=1)this.Jw(w)};P.kp.vh=function(w,n,H,y){if(w&&n.key!=P.kp.UL(w)){n.key=P.kp.UL(w);var c=w.B[w.g[0]].rect.O(),q="Image Analysis ...";
if(c==0)return;var Q=c>1e6&&y!=!0,S=new aL(M.E.L,!0);S.data={d:M.c.el,D0:q};if(Q)H.S(S);var A=function(){var V=P.kp.a9_(w);
for(var e in V)n[e]=V[e];var S=new aL(M.E.L,!0);S.data={d:M.c.yW,D0:q};if(Q)H.S(S)};if(y)A();else setTimeout(A,30)}};
P.kp.UL=function(w){var n=w.g[0],H=w.B[n],y=H.rect,c=y.m,Q=y.e,q=c*Q,S=H.buffer;return[n,y.x,y.y,c,Q,S[0],S[1],S[2],S[3]].join(",")};
P.kp.a9_=function(w){var n=w.g[0],H=w.B[n],y=H.rect,c=y.m,Q=y.e,q=c*Q,S=H.buffer,A=Date.now(),V=O.R(q);
V.fill(128);var e=O.WS.H3(S,c,Q);console.log(Date.now()-A);var d={key:P.kp.UL(w),Qn:S,rect:y.clone(),pV:c,WZ:Q,xf:12,a13:!1,JS:V,PW:e,P:O.R(q),rm:null,Yq:null,US:null};
P.kp.zv(d);return d};P.kp.zv=function(w,n){var H=w.pV,y=w.WZ,c=0,Q=0,q=Date.now(),S=w.rm!=null&&O.WS.ayr(w.PW.Tk,w.rm.Tk,w.rm.Ek,w.JS);
c=Date.now()-q;q=Date.now();if(!S&&!w.a13){w.rm=O.WS.Rt(w.PW,H,y,w.JS,w.xf);if(!O.WS.ayr(w.PW.Tk,w.rm.Tk,w.rm.Ek,w.JS)){w.a13=!0;
console.log("conflict")}w.Yq=O.WS.axZ(w.Qn,H,y,w.rm.Tk,w.rm.Ek);w.US=[w.Yq[0].slice(0),[]];Q=Date.now()-q;
q=Date.now()}var q=Date.now();if(n){w.US[0].set(w.Yq[0]);var A=w.Yq[1],V=w.US[1];for(var e=0;e<A.length;
e++)V[e]=A[e].slice(0);O.WS.at8(w.rm.Tk,H,y,w.rm.Ek,w.JS,w.P,w.US)}};P.MQ=function(){P.rG.call(this,[10,50],P.G8,"tools/artb");
this.W4=null;this.CG=!1;this.dC=null;this.uE=!1;this.akr=null;this.Xp=100;this.Dv=null;this.vO=0};P.MQ.prototype=new P.rG;
P.MQ.prototype.dZ=function(w,n,H,y,c){this.QX(H,w.ana,n,w.Ny)};P.MQ.ars=function(w,n){var H=w[0],y=0,c=0;
if(H==0)c=-1;else if(H==1)y=1;else if(H==2)c=1;else y=-1;return[20/n.up,w[1]+y*60/n.up,w[2]+c*60/n.up]};
P.MQ.prototype.ro=function(w,n,H,y,c){this.W4=w.PY;this.vO=Date.now()};P.MQ.prototype.BK=function(w,n,H,y){if(H.ZR!=this.id)return;
if(w==null||w.g.length!=1){this.IA(w);return}var c=w.g[0],Q=w.B[c],q=Q.add.artb;if(q==null){this.IA(w);
return}if(this.uE)return;if(Date.now()-this.vO>50){this.W4={};var S=["artboardBackgroundType","Clr"];
for(var l=0;l<S.length;l++)if(q[S[l]])this.W4[S[l]]=JSON.parse(JSON.stringify(q[S[l]]));var A=new aL(M.E.L,!0);
A.data={d:M.c.Hi,G:this.id,ml:this.W4};n.S(A)}var V=Q.oC(),e=O.p.u3(V).w,d=this.dC=new jA(e,!0,!1,!1,!0,!1,3,!1);
d.lW(w,H,!1);var N={w:[1,0],T:["M"]};for(var l=1;l<30;l++){var b=Math.PI*2*l/30;N.w.push(Math.cos(b),Math.sin(b));
N.T.push("L")}N.T.push("Z","M","L","M","L");N.w.push(-.5,0,.5,0,0,-.5,0,.5);var z=V.x+V.m/2,v=V.y+V.e/2,T=this.Xp*1.1,Y=this.akr=[z,V.y,V.x+V.m,v,z,V.y+V.e,V.x,v],R=[0,-T,T,0,0,T,-T,0],h=w.root.children;
w.I.us=[];for(var l=0;l<4;l++){var E=new ce(Y[l*2]+R[l*2],Y[l*2+1]+R[l*2+1]),G=!1;for(var k=0;k<h.length;
k++){var Q=h[k].j;if(Q.add.artb==null)continue;var V=Q.oC();if(V.yo(E))G=!0}if(G){Y[l*2]=1e9;continue}w.I.us.push([l,Y[l*2],Y[l*2+1]])}};
P.MQ.prototype.disable=function(w,n,H,y,c){this.IA(w)};P.MQ.prototype.IA=function(w){if(this.dC){this.dC.clear(w);
this.dC=null;w.I.us=null}};P.MQ.prototype.mO=function(w,n,H,y,c){this.vO=Date.now();var Q=w.u.Sb(c.x,c.y),q=this.dC;
if(q){var S=new aL(M.E.v),A=q.aqD(null,Q,w,c);if(A<9){this.uE=q.mO(w,H,y,Q,null,!0,c);return}else if(q.DQ(Q)){S.G=P.DX;
S.data={d:"disabAuto"};n.S(S);var V=new aL(M.E.L);V.data={d:M.c.DY,G:P.DX,abD:!0};n.S(V);return}else{var e=-1,d=w.I.us;
for(var l=0;l<d.length;l++){var N=P.MQ.ars(d[l],w.u);if(ce.Re(Q,new ce(N[1],N[2]))<N[0])e=d[l][0]}if(e!=-1){var b=w.B[w.g[0]].oC(),z=b.clone(),v=(e==0||e==2?b.e:b.m)+this.Xp;
if(e==0||e==3)v=-v;if(e==0||e==2)b.y+=v;else b.x+=v;if(y.l(b8.FO)){var T=new cr(0,0,w.m,w.e);S.G=P.YV;
S.data={d:a.Bc};n.S(S);P.xz.Om(w,w.Q_(null,w.g[0],null,!0),null,b.x-z.x,b.y-z.y);w.g=w.g.slice(w.g.length-1);
var Y=P.RP.U6(w);if(Y){var R=w.H_();R.data.k2=T;R.data.cW=Y;R.data.qP=w.g}}else this.QX(w,b,n);return}}}this.Dv=P.xz.Ov(w,Q,H)};
P.MQ.prototype.QX=function(w,n,H,y){if(y==null)y=0;var c=w.B.slice(0),Q=[w.B.length+1],q=w.mX();q.nY(hV.get([1,16,0])+" "+(w.add.artd==null?1:w.root.children.length+1));
q.add.lsct=c0.q8;q.ws(n);if(this.W4){var S=q.add.artb,A=this.W4;for(var V in A)S[V]=A[V]}q.UM="pass";
q.Vg=24;if(y==0){if(w.add.artd||n.Fa(new cr(0,0,w.m,w.e))._G())c.push(w.C$());else c.unshift(w.C$())}else{var e=w.Q_();
e.sort(function(v,T){return v-T});var d=P.LV.zw(w,e,c.length-1,!1,null,!1),N=d.pop(),b=d.pop();c=d.pop();
c.splice(w.B.length-e.length,0,w.C$())}c.push(q);var z=new aL(M.E.v);z.G=P.YV;z.data={d:a.Rq,ss:c,Ee:Q,hG:[1,16,2]};
H.S(z)};P.MQ.prototype.C9=function(w,n,H,y,c){var Q=w.u.Sb(c.x,c.y),q=this.dC,S=this.Dv;if(q){if(this.uE){q.C9(w,H,y,Q)}else{var A=q.T$(Q,w.u.N,null,c);
if(A==null)A="default";var V=new aL(M.E.L,!0);V.data={d:M.c.N4,Xn:A};n.S(V)}}if(S){var e=this.WT(w,Q,y,H);
w.I.lJ=O.p.u3(e);w.Va=!0;P.rG.j6(c,e,w,H)}};P.MQ.prototype.sh=function(w,n,H,y,c){var Q=w.u.Sb(c.x,c.y),q=this.Dv;
if(this.uE){this.dC.sh(w,H,y,Q);this.uE=!1;var S=O.p.w1(this.dC.VO()),A=a.hW(S),V=w.B[w.g[0]],e=JSON.parse(JSON.stringify(V.add.artb));
e.artboardRect.v=A;var d=new aL(M.E.v,!0);d.G=P.YV;d.data={d:a.oO,_r:e};n.S(d)}if(q){var N=this.WT(w,Q,y,H);
if(N.O()>20)this.QX(w,N,n);w.I.lJ=null;w.Va=!0;this.Dv=null;w.I.n7=[]}};P.MQ.prototype.WT=function(w,n,H,y){var c=this.Dv,Q=P.xz.Ov(w,n,y),q=P.FQ.Uu(c,Q,H,!0);
c=q[0];Q=q[1];return O.p.w1([c.x,c.y,Q.x,Q.y])};function jA(w,n,H,y,c,Q,q,S){this.Jk=null;this.Ug=w?w.slice(0):null;
this.k$=4;this.dL=null;this.Ww=null;this.uT=null;this.f7=-1;this.Zr=null;this.a8I=!1;this.adh=[];for(var l=0;
l<8;l++)this.adh.push(cb.apH(0,PIMG.rotate,-.5,-.5,-45-l*45));this.a22=n;this.axK=H;this.a5N=y;this.ac8=c;
this.JE=Q;this.Ny=q;this.azv=S==null?1:S}jA.prototype.azh=function(){return this.f7!=-1};jA.prototype.VO=function(){return this.Ug.slice(0)};
jA.prototype.mQ=function(w){this.Ug=w};jA.prototype.ae1=function(){return this.fA(this.Ug)};jA.prototype.anx=function(){return this.k$};
jA.prototype.abI=function(w){this.k$=w};jA.prototype.Ry=function(w){if(w==null)w=this.Ug;if(this.k$==9)return this.dL;
else return this.fA(w)[this.k$]};jA.prototype.ayu=function(w){if(this.k$==9)this.dL=w.clone();else{var n=this.Ry(),H=new b7(1,0,0,1,w.x-n.x,w.y-n.y);
O.p.D(this.Ug,H,this.Ug)}};jA.prototype.T$=function(w,n,H,y){var c=this.hM(null,w,n,y),Q;if(c==9)return"default";
if(c==10){if(H)return null;return!this.a22?"move":null}if(c==-1||c==4)return null;if(c==11){var q=this.Ry().Hy(w);
Q=90-Math.atan2(q.y,q.x)*180/Math.PI;var S=Math.round(8*(Q/360));S=(S+8)%8;return this.adh[S]}else{var A=this.G5(w,this.Ug);
Q=[135,90,45,180,0,0,225,270,315][c];var V=O.K.gU(this.Ug);Q+=Math.atan2(-V[3],V[0])*180/Math.PI;var e="ew nesw ns nwse ew nesw ns nwse".split(" "),S=Math.round(8*(Q/360));
S=(S+8)%8;return e[S]+"-resize"}};jA.prototype.G5=function(w,n){var H=O.K.G$(O.K.gU(n)),y=new Float64Array(2);
O.K.Xu(w.x,w.y,H,y);return new ce(y[0],y[1])};jA.prototype.DQ=function(w){var n=this.G5(w,this.Ug);return 0<=n.x&&n.x<=1&&0<=n.y&&n.y<=1};
jA.prototype.mO=function(w,n,H,y,c,Q,q,S){this.a8I=Q;this.Zr=y;var A=w.u.N,V;if(this.Ug==null)y=P.xz.Ov(w,y,n);
this.uT=y.clone();if(this.Ug==null){if(S==null)S=0;var e=new b7;e.rotate(S);var d=e.rY(new ce(1,1));
this.uT.offset(d.x,d.y);var N=c==null?1:1/c,b=this.Ug=[0,0,1,0,1,N,0,N];e.translate(y.x,y.y);O.p.D(this.Ug,e,this.Ug);
V=8}else{V=this.hM(H,y,A,q);if(0<=V&&V<=8)this.uT=this.fA(this.Ug)[V];if(V==9){this.k$=9;this.dL=y.clone()}}this.Jk=this.Ug.slice(0);
this.f7=V;this.lW(w,n);this.Ww=this.Ry();return V!=-1};jA.prototype.aqD=function(w,n,H,y){return this.hM(w,n,H.u.N,y)};
jA.prototype.hM=function(w,n,H,y){var c=-1,Q=this.fA(),q=[0,2,6,8,1,3,5,7],S=y?P.L$({u:{N:H}},y):8*P.V()/H,A=ce.Re(Q[0],Q[2]),V=ce.Re(Q[0],Q[6]),e=this.G5(n,this.Ug);
e.x*=A;e.y*=V;var d=new cr(0,0,A,V);d.i_(S,S);if(c==-1)if(ce.Re(this.Ry(),n)<S)c=9;if(c==-1)for(var l=0;
l<q.length;l++)if(ce.Re(Q[q[l]],n)<S)c=q[l];if(c==-1&&d.yo(e)){if(Math.abs(e.y-0)<S)c=1;if(Math.abs(e.x-0)<S)c=3;
if(Math.abs(e.y-V)<S)c=7;if(Math.abs(e.x-A)<S)c=5}if(c==-1&&w&&w.l(b8.FO))c=9;if(c==-1||this.Ny==4){if(this.DQ(n)){if(this.a22)c=10}else{d.i_(3*S,3*S);
c=d.yo(e)&&this.Ny!=3?11:10}}return c};jA.prototype.C9=function(w,n,H,y,c){if(this.f7==-1)return;this.Zr=y;
var Q=H.l(b8.fx),q=H.l(b8.FO),S=H.l(b8.NX),A=w.u.N,V=this.uT,e=this.f7,d=this.fA(),N=P.xz.Ov(w,V,n),b=P.xz.Ov(w,y,n),z,v;
if(e==9){var d=this.fA(),T=-1;for(var l=0;l<d.length;l++)if(ce.Re(d[l],b)*A<10)T=l;this.k$=T==-1?9:T;
this.dL=Q?P.H2.bL(N,b):b.clone()}else if(e==10){v=O.p.hH(this.Jk);var Y=v.x,g=v.y;v.offset(y.x-V.x,y.y-V.y);
if(this.aqI()){v.x=Math.round(v.x);v.y=Math.round(v.y)}z=P.xz.YY(w,v,n);var R=new b7(1,0,0,1,v.x-Y+z[0],v.y-g+z[1]);
O.p.D(this.Jk,R,this.Ug)}else if(e==11){var h=this.Ry(this.Jk),E=h.Hy(y),G=h.Hy(V),k=Math.atan2(E.y,E.x),$=Math.atan2(G.y,G.x),R=new b7(1,0,0,1,-h.x,-h.y),p=Math.PI/12;
if(Q)R.rotate(Math.round(($-k)/p)*p);else R.rotate($-k);R.translate(h.x,h.y);O.p.D(this.Jk,R,this.Ug)}else{if(c&&!S)Q=!Q;
var X,C=this.Jk,D=e==0||e==2||e==6||e==8;if(this.Ny==1){if(D)Q=q=S=!0}else if(this.Ny==2&&D&&this.a8I!=!0)S=!0;
if(this.Ny==3)S=!1;if(this.a5N&&D&&S){var l=[0,0,2,0,0,0,6,0,4,0][e],o=-1,t=b.x,u=b.y;if(Q){var m=l+6&7,U=l+10&7,I=jA.aan(C[l],C[l+1],C[m],C[m+1],b.x,b.y),x=jA.aan(C[l],C[l+1],C[U],C[U+1],b.x,b.y),J=I[2]<x[2]?I:x;
t=J[0];u=J[1];if(q)o=I[2]<x[2]?m:U}else if(q)o=l+4&7;X=C.slice(0);if(o!=-1){var r=C[o],Z=C[o+1],f=(C[l]+r)/2,F=(C[l+1]+Z)/2;
X[o]=f-(t-f);X[o+1]=F-(u-F)}X[l]=t;X[l+1]=u}else if(D&&q){var h=this.Ww,_=h.x,K=h.y,B=N.x-_,ij=N.y-K,W=1,L=1;
if(Math.abs(B)>=1)W=(b.x-_)/B;if(Math.abs(ij)>=1)L=(b.y-K)/ij;if(Q||this.JE)W=L=(W+L)/2;var R=new b7;
R.translate(-_,-K);R.scale(W,L);R.translate(_,K);X=C.slice(0);O.p.D(X,R,X)}else{if(this.aqI()){b.x=Math.round(b.x);
b.y=Math.round(b.y)}var i=[0,1,2,5,8,7,6,3],e3=i[(i.indexOf(e)+4)%8],eE=[];for(var l=0;l<3;l++)for(var o=0;
o<3;o++)eE.push(new ce(o/2,l/2));var h=this.Ww,ec=this.G5(b,C),gw=this.G5(V,C),bl=q&&(this.k$==4||this.k$==9)?this.G5(h,C):eE[e3],cD=new b7,a$=new b7,W=(ec.x-bl.x)/(gw.x-bl.x);
if(W==0)W=1e-4;var L=(ec.y-bl.y)/(gw.y-bl.y);if(L==0)L=1e-4;if(this.ac8){W=Math.max(W,0);L=Math.max(L,0)}if(e==0||e==2||e==6||e==8){if(Q||this.JE)cD.scale(W,W);
else cD.scale(W,L)}if(e==1||e==3||e==5||e==7){var hJ=this.JE||Q,ei=S&&Q;if(e==1||e==7)cD.scale(hJ?L:1,ei?1:L);
else cD.scale(ei?1:W,hJ?W:1);if(this.axK&&S){if(e==1||e==7)a$.Mg=(ec.x-bl.x)/(ec.y-bl.y);else a$.k=(ec.y-bl.y)/(ec.x-bl.x)}}var R=new b7;
R.translate(-bl.x,-bl.y);R.concat(cD);R.concat(a$);R.translate(bl.x,bl.y);X=[0,0,1,0,1,1,0,1];O.p.D(X,R,X);
var J=O.K.gU(C);O.K.D(J,X)}if(jA.DR(X))this.Ug=X}this.lW(w,n);if(z)P.xz.IF(w,v,z)};jA.aan=function(w,n,H,y,c,Q){var q=H-w,S=y-n,A=c-w,V=Q-n,e=q*q+S*S,d=A*q+V*S,N=d/e,b=w+N*q,z=n+N*S,v=c-b,T=Q-z;
return[b,z,Math.sqrt(v*v+T*T)]};jA.prototype.aqI=function(){var w=this.Ug;return Math.abs(w[1]-w[3])<1e-6&&Math.abs(w[2]-w[4])<1e-6||Math.abs(w[0]-w[2])<1e-6&&Math.abs(w[3]-w[5])<1e-6};
jA.DR=function(w){return O.p.nL(w)||O.p.nL([w[6],w[7],w[4],w[5],w[2],w[3],w[0],w[1]])};jA.prototype.sh=function(w,n,H,y){this.f7=-1;
this.Zr=null;w.I.lC=null;w.I.n7=[];w.Va=!0};jA.prototype.QI=function(w,n,H){var y=H.oY(w?w.u.db:0);if(y.x||y.y){var c=new b7(1,0,0,1,y.x,y.y);
O.p.D(this.Ug,c,this.Ug);this.lW(w,n);return!0}return!1};jA.prototype.fA=function(w){if(w==null)w=this.Ug;
var n=w[6]-w[0],H=w[7]-w[1],y=w[4]-w[2],c=w[5]-w[3],Q=[w[0],w[1],w[2],w[3],w[0]+n/2,w[1]+H/2,w[2]+y/2,w[3]+c/2,w[6],w[7],w[4],w[5]],q=[];
for(var l=0;l<3;l++){var S=l*4,A=Q[S+0],V=Q[S+1],e=Q[S+2],d=Q[S+3];q.push(new ce(A,V));q.push(new ce(A+(e-A)/2,V+(d-V)/2));
q.push(new ce(e,d))}return q};jA.prototype.lW=function(w,n,H){if(H==null)H=!1;var y=this.fA(),c=y[0],Q=y[2],q=y[6],S=y[8];
w.I.lJ={T:[],w:[]};w.I.lJ.T.push("M","L","L","L","Z");w.I.lJ.w.push(c.x,c.y,Q.x,Q.y,S.x,S.y,q.x,q.y);
var A=this.azv;if(A>1){w.I.dm=JSON.parse(JSON.stringify(w.I.lJ));var V=Q.Hy(c),e=q.Hy(c),d=S.Hy(Q),N=S.Hy(q);
for(var l=1;l<A;l++){w.I.lJ.T.push("M","L","M","L");var b=l/A;w.I.lJ.w.push(c.x+V.x*b,c.y+V.y*b,q.x+N.x*b,q.y+N.y*b);
w.I.lJ.w.push(c.x+e.x*b,c.y+e.y*b,Q.x+d.x*b,Q.y+d.y*b)}}w.u.HW=new cr(0,0,ce.Re(y[0],y[2]),ce.Re(y[0],y[6]));
if(this.f7!=-1&&this.f7<9&&this.Zr){var z=w.u.Cc(this.Zr.x,this.Zr.y);P.rG.j6(z,w.u.HW,w,n)}if(!H){w.I.aN=[];
for(var l=0;l<y.length;l++)if(l!=4)w.I.aN.push(y[l].x,y[l].y);var v=this.Ry();w.I.aN.push(v.x,v.y)}w.Va=!0};
jA.prototype.clear=function(w){w.u.HW=null;w.I.lC=null;w.I.lJ=null;w.I.dm=null;w.I.aN=[];w.Va=!0};function ea(w,n){this.v$=null;
this.f7=-1;this.aka(w)}ea.prototype.xb=function(){return JSON.parse(JSON.stringify(this.v$))};ea.prototype.aka=function(w){this.v$=JSON.parse(JSON.stringify(w))};
ea.prototype.DQ=function(w){return!0};ea.prototype.T$=function(w,n,H,y){var c=this.hM(w,n,y);if(c==-1)return"default";
return"pointer"};ea.prototype.mO=function(w,n,H,y,c,Q,q){this.f7=this.hM(y,w.u.N,q);return this.f7!=-1};
ea.prototype.hM=function(w,n,H){var y=this.auh(),c=-1,Q=1e6;for(var l=0;l<y.length;l++){var q=ce.Re(y[l],w);
if(q<Q){c=l;Q=q}}return Q<(H?P.L$({u:{N:n}},H)*2:20*P.V()/n)?c:-1};ea.prototype.C9=function(w,n,H,y){if(this.f7==-1)return;
var c=w.u.N,Q=this.f7,q=O.v$.h_(this.v$);q[Q*2]=y.x;q[Q*2+1]=y.y;O.v$.WU(q,this.v$)};ea.prototype.sh=function(w,n,H,y){this.f7=-1;
w.Va=!0};ea.prototype.QI=function(w,n,H){var y=H.oY();if(y.x||y.y){var c=new b7(1,0,0,1,y.x,y.y);O.p.D(this.Ug,c,this.Ug);
this.lW(w)}};ea.prototype.auh=function(w){var n=O.v$.h_(this.v$),H=[];for(var l=0;l<n.length;l+=2)H.push(new ce(n[l],n[l+1]));
return H};ea.prototype.lW=function(w){var n=this.auh();w.I.lJ={T:[],w:[]};w.I.lJ.T.push("M","C","C","C","C");
var H=[0,1,2,3,7,11,15,14,13,12,8,4,0];for(var l=0;l<H.length;l++)w.I.lJ.w.push(n[H[l]].x,n[H[l]].y);
w.I.lJ.T.push("M","L","L","M","L","L","M","L","L","M","L","L");H=[4,0,1,2,3,7,11,15,14,13,12,8];for(var l=0;
l<H.length;l++)w.I.lJ.w.push(n[H[l]].x,n[H[l]].y);w.I.aN=[];for(var l=0;l<n.length;l++)w.I.aN.push(n[l].x,n[l].y);
w.Va=!0};ea.prototype.clear=function(w){w.I.lJ=null;w.I.aN=[];w.Va=!0};function j6(){this.Lf=!1;this.UG=!1;
this.anR=!1;this.avM=!1;this.W9=!1;this.Ht=!1;this.q_=0;this.Yp=0}j6.prototype.mO=function(w){this.Lf=!0;
this.UG=!1;this.W9=w.l(b8.fx);this.Ht=w.l(b8.FO);this.q_=this.W9?0:1;this.Yp=this.Ht?0:1};j6.prototype.QI=function(w){var n=this.avM=w.l(b8.fx),H=this.anR=w.l(b8.FO);
if(this.UG){if(this.q_==0&&!n)this.q_++;if(this.q_==1&&n)this.q_++;if(this.Yp==0&&!H)this.Yp++;if(this.Yp==1&&H)this.Yp++}};
j6.prototype.C9=function(){this.UG=!0};j6.prototype.sh=function(){this.Lf=!1};j6.prototype.tV=function(l){if(l==0)return this.Lf?this.Ht:this.anR;
if(l==1)return this.UG?this.Yp==2:!1};j6.prototype.RZ=function(l){if(l==0)return this.Lf?this.W9:this.avM;
if(l==1)return this.UG?this.q_==2:!1};P.History=function(){P.rG.call(this,"History",P.O$);this.DS=!0;
this.anG=0};P.History.prototype=new P.rG;P.History.prototype.dZ=function(w,n,H,y){H.qF=!0;if(w.d=="h_itemchange"){if(w.index<H.Cf)for(var l=H.Cf;
l>w.index;l--)this.VJ(H);if(w.index>H.Cf)for(var l=H.Cf;l<w.index;l++)this.Cj(H)}if(w.d=="h_stepfwd")this.Cj(H);
if(w.d=="h_stepbck")this.VJ(H);if(w.d=="h_undoredo"){var c=this.DS||this.anG!=H.Cf;if(c){this.VJ(H);
c=!1}else{this.Cj(H);c=!0}this.DS=c;this.anG=H.Cf}if(w.d=="h_clear"){if(!window.confirm("Do you really want to clear all states in History? You won't be able to undo it."))return;
H.history=[new dq([1,0],null)];H.Cf=0}else this.DS=!0};P.History.prototype.VJ=function(w){if(w.Cf==0)return;
var n=w.history[w.Cf];n.G.LL(n.data,w);w.Cf--};P.History.prototype.Cj=function(w){if(w.Cf==w.history.length-1)return;
var n=w.history[w.Cf+1];n.G.KC(n.data,w);w.Cf++};P.LV=function(){P.rG.call(this,"Layers",P.YV);this.ZZ=null};
P.LV.prototype=new P.rG;P.LV.prototype.dZ=function(w,n,H,y,c){this.ZZ=n;var Q=w.d,q=w.j!=null?w.j:H.g.length!=0?H.g[0]:H.B.length-1,S=H.B[q];
H.zi=!0;var A=y.l(b8.FO),V=y.l(b8.fx),e=y.l(b8.NX);if(Q==a.xC&&H.P==null&&(H.g.length>1||!H.BG(!1)))Q=a.Bc;
if(Q==a.Cx){var d=new dq([6,33],this),N=S.Ok()?["pass"].concat(eS.$Q):eS.$Q,b=N[w.z2],z=w.j!=null?[w.j]:H.g,v=JSON.stringify(z),T=[];
for(var l=0;l<z.length;l++)T.push(H.B[z[l]].UM);d.data={d:Q,uy:v,kP:T,z2:b};H.c0(d);this.KC(d.data,H);
this.track(ih.Zs("Md",{t:"enum",v:{BlnM:eS.Yf(b)}}))}if(Q==a.eq){var d,Y=H.H_(),z=w.j!=null?[w.j]:H.g,v=JSON.stringify(z);
if(Y&&Y.data&&Y.data.d==Q&&Y.data.uy==v)d=Y;else{var g=ih.Zs("Opct",{t:"UntF",v:{type:"#Prc",val:0}});
this.track(g);var T=[];for(var l=0;l<z.length;l++)T.push(H.B[z[l]].opacity);d=new dq([6,32],this);d.data={d:Q,uy:v,kP:T,z2:w.z2,DZ:g.ei};
H.c0(d)}d.data.z2=w.z2;d.data.DZ.T.v.Opct.v.val=Math.round(w.z2*100/255);this.KC(d.data,H)}if(Q==a.OY){if(S.add.iOpa==null)S.add.iOpa=255;
var d,Y=H.H_();if(Y&&Y.data&&Y.data.d==Q&&Y.data.j==q)d=Y;else{d=new dq("Fill Opacity Change",this);
d.data={d:Q,j:q,kP:S.add.iOpa,z2:w.z2};H.c0(d)}d.data.z2=w.z2;this.KC(d.data,H)}if(Q==a.Cz){var R=w.z2,h=w.j!=null?[w.j]:H.g.slice(0),E=[],G=[],d;
for(var k=0;k<h.length;k++){var $=H.B[h[k]];if($.add.lspf==null)$.add.lspf=0;var T=$.add.lspf,b=T;for(var l=0;
l<R[0].length;l++){var p=R[1][l],X=1<<p;if((b&X)==0&&R[0][l])b^=X;else if((b&X)!=0&&!R[0][l])b^=X}E.push(T);
G.push(b)}var Y=H.H_(),z=JSON.stringify(h);if(Y&&Y.data&&Y.data.d==Q&&JSON.stringify(Y.data.uy)==z){d=Y;
d.data.z2=G}else{var d=new dq([6,57,1],this);d.data={d:Q,uy:z,kP:E,z2:G};H.c0(d)}this.KC(d.data,H)}if(Q==a.gI){var C="----",D=w.r3,b=null;
for(var l=0;l<fE.S_.KO.length;l++)if(S.add[fE.S_.KO[l]])C=fE.S_.KO[l];var o=S.add[C];if(D=="TySh")b=j1.d2(50,50,c.Qx);
var d=new dq("Layer Type",this);d.data={d:Q,j:q,aof:[C,o],r3:[D,b]};H.c0(d);this.KC(d.data,H)}if(Q==a.Rw){var h=[];
if(A){var t=H.H_(),u=t?t.data:null;if(t!=null&&t.G==this&&u.d==a.Rw&&u.uy.length!=1){var m=new aL(M.E.v);
m.G=P.O$;m.data={d:"h_stepbck"};n.S(m);if(u.j==q)return}var U=H.root.wO(q),I=U,x=[w.j];while(I.parent!=H.root){x.push(I.parent.index);
I=I.parent}for(var l=0;l<H.B.length;l++){var J=H.B[l],I=H.root.wO(l),r=x.indexOf(l)!=-1?!0:J.tl()&&U.depth<I.depth;
if(r!=J.tl())h.push(l)}}else if(w.uy)h=w.uy;else{h.push(q);var Z=H.B[q].tl(),g={fd:Z?"hide":"show",ei:{classID:Z?"Hd":"Shw",null:{t:"VlLs",v:[ih._K("Lyr",!0)]}}};
this.track(g)}var d=new dq("Layer visibility",this,!0);d.data={d:Q,uy:h,j:q};H.c0(d);this.KC(d.data,H)}if(Q==a.$C){if(c.ZR==P.G8){var f=new aL(M.E.L);
f.data={d:M.c.DY,G:P.DX};n.S(f)}var F=w.a52,_=w.uk,ij,escape=!1,W=!1;if(w.PB){if(e&&(_==0||_==1||_==2)){var K=0;
if(V)K++;if(A)K+=2;var B=new aL(M.E.v,!0);B.G=P.pj;B.data={d:"fromlayer",Vm:[w.j,_,K]};n.S(B);return}}var g={fd:"select",ei:{classID:"null",MkVs:{t:"bool",v:!1}}};
H.a1j();if(y.l(b8.NX)||w.tH==0){var L=H.g.indexOf(q);if(L==-1)H.g.push(q);else if(H.g.length>1){if(w.tH!=0)H.g.splice(L,1)}H.g.sort(function(d,dg){return d-dg});
g.ei.selectionModifier={t:"enum",v:{selectionModifierType:"addToSelection"}};ij=q}else if(V&&!A&&_>0){Q=_==1?a.gy:_==2?a.qz:a.jJ;
escape=!0}else if((V||w.tH==1)&&H.g.length>0){var i=Math.min(q,H.g[0]),e3=Math.max(q,H.g[H.g.length-1]);
H.g=[];for(var l=i;l<=e3;l++)if(H.B[l].add.lsct!=c0.ho)H.g.push(l);g.ei.selectionModifier={t:"enum",v:{selectionModifierType:"addToSelectionContinuous"}};
ij=q}else{ij=q;if(q>=H.B.length)return;var J=H.B[q];if(J&&J.Ok()&&w.as7)J.add.lsct=c0.q8;else if(H.g.length==1&&H.g[0]==q&&Math.max(0,_)==J.Ks){W=!0;
H.zi=!1}if(!W){H.g=[q];H.gm()}}if(!W){if(ij!=null&&ij<H.B.length){g.ei.null={t:"obj ",v:[{t:"name",v:{classID:"Lyr",val:H.B[ij].getName()}}]},this.track(g)}if(!escape){console.log("no escape");
if(H.g.length==1){var eE=H.g[0];for(var l=0;l<H.B.length;l++){if(l==eE)continue;var $=H.B[l];$.Ks=0;
$.gK=!1}var S=H.B[eE];if(_==2){S.gK=!S.gK;H.SV=[]}else if(S){S.Ks=_<=0?0:_}}else for(var l=0;l<H.B.length;
l++){var $=H.B[l];$.Ks=0;$.gK=!1}H.t7=null;H.qF=!0}}if(w.PB&&A){if((_==1||_==3)&&F!=null){var B=new aL(M.E.v,!0);
B.G=P.uD;B.data={d:"mskView",Z:F!=0?0:V?1:2};n.S(B)}else{this.dZ({d:a.vg,j:w.j},n,H,y,c)}}}if(Q==a.gy||Q==a.jJ){var ec=Q==a.gy,gw=ec?S.LZ():S.iS(H).z;
if(gw==null)return;var d=new dq(gw.isEnabled?ec?[6,15]:[6,42]:ec?[6,14]:[6,41],this);d.data={d:Q,j:q};
H.c0(d);this.KC(d.data,H)}if(Q==a.qz){var gw=S.add.vmsk;if(gw==null)return;var d=new dq(gw.isEnabled?[6,17]:[6,16],this);
d.data={d:Q,j:q};H.c0(d);this.KC(d.data,H)}if(Q==a.ayy){var bl=S.add.lsct==c0.q8?c0.$g:c0.q8,I=H.root.wO(H.B.indexOf(S)),hJ=!1;
if(y.l(b8.NX)){var cD=I.parent;for(var l=0;l<cD.children.length;l++){var a$=cD.children[l].j;if(a$.Ok())a$.add.lsct=bl}}else S.add.lsct=bl;
for(var l=0;l<H.g.length;l++){var ei=H.g[l];if(I.Jq<ei&&ei<I.index)hJ=!0}if(hJ)H.g=[I.index];H.qF=!0}if(Q==a.vg){if(!H.q0(q))return;
var d=new dq(S.Ak?[6,19]:[6,18],this);d.data={d:Q,j:q};H.c0(d);if(w.z2==null||w.z2!=S.Ak)this.KC(d.data,H)}if(Q==a.asY){if(S.H7())S.Vg-=32;
else S.Vg+=32;H.qF=!0}if(Q==a.cQ||Q==a.SZ){var d;if(Q==a.cQ)d=new dq(S.add.lmfx.masterFXSwitch.v?[6,30,0]:[6,29],this);
if(Q==a.SZ)d=new dq(S.add.SoLd.filterFX.v.enab.v?[6,44]:[6,43],this);d.data={d:Q,j:q};H.c0(d);this.KC(d.data,H)}if(Q==a.Fh||Q==a.va){var eE=w.index,d;
if(Q==a.Fh)d=new dq(S.add.lmfx[d5.tS[eE[0]]].v[eE[1]].v.enab.v?[6,30,0]:[6,29],this);if(Q==a.va)d=new dq(S.add.SoLd.filterFX.v.filterFXList.v[eE].v.enab.v?[6,44]:[6,43],this);
d.data={d:Q,j:q,index:w.index};H.c0(d);this.KC(d.data,H)}if(Q==a.S7){if(w.src==w.VE)return;var df=H.B[w.src],bM=H.B[w.VE],ib=df.add.lmfx?JSON.stringify(df.add.lmfx):"",fI=bM.add.lmfx?JSON.stringify(bM.add.lmfx):"";
if(bM.add.lmfx==null){bM.add.lmfx=JSON.parse(d5.default);for(var l=0;l<d5.order.length;l++)bM.add.lmfx[d5.tS[l]]={t:"VlLs",v:[]}}if(w.bg==null){bM.add.lmfx=JSON.parse(ib);
if(!A)delete df.add.lmfx}else{var eU=w.bg[0],gK=d5.tS[eU];if(d5.apv.indexOf(d5.order[eU])==-1)bM.add.lmfx[gK].v=[];
bM.add.lmfx[gK].v.push(df.add.lmfx[gK].v[w.bg[1]]);if(!A)df.add.lmfx[gK].v.splice(w.bg[1],1)}var bs=df.add.lmfx?JSON.stringify(df.add.lmfx):"",km=bM.add.lmfx?JSON.stringify(bM.add.lmfx):"";
if(!bM.H7())bM.Vg+=32;var d=new dq("Move Layer Styles",this);d.data={d:Q,Ri:w.src,XI:w.VE,azX:ib,arQ:fI,atd:bs,atR:km};
H.c0(d);this.KC(d.data,H)}if(Q==a.a5){if(w.src!=null)q=w.src;var $=H.B[q],aJ=JSON.stringify($.add.SoLd),ip=JSON.parse(aJ),fl=ip.filterFX.v.filterFXList.v;
fl.splice(w.bg,1);var d=new dq([6,53],this);d.data={d:a.cp,zV:[{qn:q,yG:[aJ,JSON.stringify(ip)]}]};H.c0(d);
this.KC(d.data,H)}if(Q==a.a8c){var b3=A,df=H.B[w.src],bM=H.B[w.VE],dY=[];if(df!=bM&&bM.add.SoLd==null){alert("Target layer is not a smart object!");
return}if(df==bM&&!b3&&w.bg==w.Zj)return;if(df==bM&&w.bg==-1)return;var k4=df.iS(H),aJ=JSON.stringify(df.add.SoLd),ip=JSON.parse(aJ),fl=ip.filterFX.v.filterFXList.v;
if(df==bM){fl.splice(w.Zj,0,fl[w.bg]);if(!b3)fl.splice(w.bg+(w.bg<w.Zj?0:1),1);dY.push({qn:w.src,yG:[aJ,JSON.stringify(ip)]})}else if(w.bg==-1){var aK=ip.filterFX;
if(!b3){delete ip.filterFX;dY.push({qn:w.src,yG:[aJ,JSON.stringify(ip)],hy:[k4,null]})}var jK=bM.RL()?bM.iS(H):null,ay=iC.a32(k4),f8=JSON.stringify(bM.add.SoLd),gN=JSON.parse(f8);
gN.placed.v=ay.id;gN.filterFX=aK;dY.push({qn:w.VE,yG:[f8,JSON.stringify(gN)],hy:[jK,ay]})}else{var d4=fl[w.bg];
if(!b3){fl.splice(w.bg,1);dY.push({qn:w.src,yG:[aJ,JSON.stringify(ip)]})}var f8=JSON.stringify(bM.add.SoLd),gN=JSON.parse(f8);
if(gN.filterFX==null)gN.filterFX=gT.RS();var bK=gN.filterFX.v.filterFXList.v;bK.splice(w.Zj,0,d4);var hf={qn:w.VE,yG:[f8,JSON.stringify(gN)]};
if(!bM.RL()){var ay=iC.ai8(bM.add.SoLd.placed.v);hf.hy=[null,ay]}dY.push(hf)}var d=new dq([6,52],this);
d.data={d:a.cp,zV:dY};H.c0(d);this.KC(d.data,H)}if(Q==a.sz){var gw=S.LZ(),d=new dq(gw.G9?[6,26]:[6,25],this);
d.data={d:Q,j:q};H.c0(d);this.KC(d.data,H);this.track({fd:"set",ei:{classID:"setd",null:{t:"obj ",v:[ih._K("Lyr",!0)]},T:{t:"Objc",v:{classID:"Lyr",Usrs:{t:"bool",v:gw.G9}}}}})}if(Q==a.Vf){var gw=S.add.vmsk,d=new dq(gw.G9?[6,28]:[6,27],this);
d.data={d:Q,j:q};H.c0(d);this.KC(d.data,H)}if(Q==a.Ef){var d=new dq("Variables / Datasets",this),bC=JSON.stringify([H.Uw,H.az]);
if(bC==w.Z)return;d.data={d:Q,atO:bC,ac4:w.Z};H.c0(d);this.KC(d.data,H)}if(Q==a.M_){var gW=[],d;for(var l=0;
l<H.g.length;l++){var k=H.g[l],J=H.B[k];if(J.add.vogk)gW.push(k,JSON.stringify(J.add.vogk))}for(var l=0;
l<H.SV.length;l++){var k=H.SV[l],J=H.Wh[k];if(J.add.vogk)gW.push(-1-k,JSON.stringify(J.add.vogk))}O.X.a58(H,w.Z,w.agm);
var dn=[];for(var l=0;l<H.g.length;l++){var k=H.g[l],J=H.B[k];if(J.add.vogk)dn.push(k,JSON.stringify(J.add.vogk))}for(var l=0;
l<H.SV.length;l++){var k=H.SV[l],J=H.Wh[k];if(J.add.vogk)dn.push(-1-k,JSON.stringify(J.add.vogk))}var Y=H.H_();
if(Y&&Y.data&&Y.data.d==Q){var fq=!0;for(var l=0;l<gW.length;l+=2)if(gW[l]!=Y.data.Wj[l])fq=!1;if(fq){d=Y;
d.data.oz=dn}}if(d==null){var d=new dq([12,91,1],this);d.data={d:Q,Wj:gW,oz:dn};H.c0(d)}this.KC(d.data,H)}if(Q==a.oO){var jN=JSON.stringify(S.add.artb),cU=JSON.stringify(w._r),d;
H.B[q].add.artb=JSON.parse(cU);var jb=new cr(0,0,H.m,H.e),ac=P.RP.eS(H),Y=H.H_();if(Y&&Y.data&&Y.data.d==Q&&Y.data.j==q){d=Y;
d.data._r=cU}if(d==null){var d=new dq("Editing Artboard",this);d.data={d:Q,j:q,ar4:jN,_r:cU,k2:jb};H.c0(d)}d.data.cW=ac;
this.KC(d.data,H)}if(Q==a.cF){var dn=H.d4.slice(0),a_=H.np.slice(0),h5=H.P,jz=H.P;if(w.cl=="fromAction"){var jj=w.Z.fd,jy=w.Z.ei;
if(jj=="make"||jj=="duplicate"){var g0=dn.length,kl=!1,iO=!1;if(H.LM())g0--;var bt=new a.ZV;bt.name="Alpha "+(g0+1);
if(jj=="make"){var dN=jy.Nw.v;bt.color=0;a_=[g0];bt.SC=!0;bt.nn=dN.Opct.v;if(dN.Nm)bt.name=dN.Nm.v;if(dN.classID=="SCch"){kl=!0;
jz=null;bt.Ph=1}}else{var aG=jy.null.v[0].v;if(aG.keyID=="fsel")kl=!0;else{var iA=P.Me.alX(H);jz=P.Me.aa3(H,iA);
bt.color=0;bt.rect=jz.rect;bt.channel=jz.channel}}if(kl){bt.color=0;if(H.P){bt.rect=H.P.rect.clone();
bt.channel=H.P.channel.slice(0)}if(iO){bt.color=255-bt.color;O.G$(bt.channel)}}for(var l=0;l<H.d4.length;
l++)H.d4[l].SC=!1;H.u.vE=[0,0,0];dn.splice(g0,0,bt)}else if(jj=="delete"){if(S&&S.LZ()&&S.Ks==1){this.dZ({d:a.Xg},n,H,y,c);
return}var a0=H.np;a0.sort(function(d,dg){return dg-d});if(a0.length==0)return;for(var l=0;l<a0.length;
l++)dn.splice(a0[l],1);a_=[];H.u.vE=[1,1,1]}else if(jj=="hide"){dn[a_[0]]=dn[a_[0]].clone();dn[a_[0]].SC=!1}}if(w.cl=="rnm"){dn[w.cm]=dn[w.cm].clone();
dn[w.cm].name=w.name}var d=new dq("Channel Edit",this);d.data={d:Q,Wj:H.d4.slice(0),mk:H.np.slice(0),oz:dn,T7:a_,Cr:h5,Ee:jz};
this.KC(d.data,H);H.c0(d)}if(Q==a.Rq){var cd=new cr(0,0,H.m,H.e),d=new dq(w.hG,this);d.data={d:a.Rq,zD:H.B.slice(0),ss:w.ss,y5:H.g.slice(0),qP:w.Ee};
H.c0(d);this.KC(d.data,H);var co=P.RP.U6(H);if(co){d.data.k2=cd;d.data.cW=co}}if(Q==a.oM){var c7=H.Q_(null,w.j),b1=1e10;
if(c7.length==0)return;if(H.B.length==c7.length){alert("Project must have at least 1 layer");return}var cF=[];
for(var l=0;l<H.B.length;l++)if(c7.indexOf(l)==-1)cF.push(H.B[l]);for(var l=0;l<c7.length;l++)b1=Math.min(b1,c7[l]);
b1=Math.max(b1-1,0);while(cF[b1].name=="</Layer group>")b1++;this.track({fd:"delete",ei:{classID:"Dlt",null:ih._K("Lyr",!0)}});
var jb=new cr(0,0,H.m,H.e),d=new dq([6,31],this);d.data={d:a.Rq,zD:H.B.slice(0),ss:cF,y5:H.g.slice(0),qP:[b1]};
H.c0(d);this.KC(d.data,H);var ac=P.RP.eS(H);if(ac){d.data.cW=ac;d.data.k2=jb;P.RP.U6(H)}}if(Q==a.TZ){if(!y.l(b8.fx))return;
var d=new dq("Switch Layer Link",this);d.data={d:Q,j:w.j};H.c0(d);this.KC(d.data,H)}if(Q==a.p7){var a0=w.asH?w.asH:H.g,a5=0,gc=!1;
if(a0.length==0)return;if(a0.length==1&&H.B[a0[0]].ds==0){alert(hV.get([15,7,5]));return}var iy=[];for(var l=0;
l<H.B.length;l++){var ko=H.B[l].ds;iy.push(ko);a5=Math.max(a5,ko)}var eR=-1,aX=-1;for(var l=0;l<a0.length;
l++){var ko=H.B[a0[l]].ds;if(ko==0)gc=!0;else if(eR==-1||eR==ko)eR=ko;else aX=ko}if(!gc)for(var l=0;
l<a0.length;l++)H.B[a0[l]].ds=0;else if(eR!=-1&&aX==-1)for(var l=0;l<a0.length;l++)H.B[a0[l]].ds=eR;
else for(var l=0;l<a0.length;l++)H.B[a0[l]].ds=a5+1;var ck=[];for(var l=0;l<H.B.length;l++){var ko=H.B[l].ds;
if(ck[ko]==null)ck[ko]=0;ck[ko]++}for(var l=0;l<H.B.length;l++){var ko=H.B[l].ds;if(ck[ko]==1)H.B[l].ds=0}var by=iy;
iy=[];for(var l=0;l<H.B.length;l++){var ko=H.B[l].ds;iy.push(ko);a5=Math.max(a5,ko)}var d=new dq(gc?[6,54,0]:[6,54,1],this);
d.data={d:a.p7,ajP:by,aw_:iy};H.c0(d);this.KC(d.data,H)}if(Q==a.Bc&&(w.j!=null||H.g.length!=0)||Q==a.dz){var i3=H.e_(Q==a.Bc?w.j:q,null,w.a9I),bb;
if(Q==a.dz){var $=i3[0],jj=$.add.SoLd.Idnt.v,il=H._7(jj).clone();$.add.SoLd.Idnt.v=il.h4=iC.aX()+jj.slice(8);
H.add.lnk2.push(il)}if(Q==a.Bc){var eH={fd:"duplicate",ei:{classID:"null",null:ih._K("Lyr",!0)}};if(w.xh){i3[i3.length-1].nY(w.xh);
eH.Nm={t:"TEXT",v:w.xh}}this.track(eH);w.a4s=w.j}Q=a.J6;w.B=i3;w.tD=H;w.d3=H}if(Q==a.J6){var j9,jq,jn=w.tD,eQ=w.d3,fB=0,bF=0,ig=!1,ao,h_=0,bE=0;
if(jn!=eQ){console.log("ADDLAYERS different projs");var j9=new cr(0,0,jn.m,jn.e),jq=new cr(0,0,eQ.m,eQ.e),ik=[],dR=[];
for(var l=0;l<w.B.length;l++){var $=w.B[l];if($.add.SoLd==null)continue;var jj=$.add.SoLd.Idnt.v;if(ik.indexOf(jj)==-1){ik.push(jj);
dR.push(iC.aX()+jj.slice(8))}$.add.SoLd.Idnt.v=dR[ik.indexOf(jj)];var k4=$.iS(jn);if(k4){jn.Bu(k4);eQ.rr(k4)}}if(ik.length>0){if(eQ.add.lnk2==null)eQ.add.lnk2=[];
for(var l=0;l<ik.length;l++){var d0=jn._7(ik[l]),il=d0.clone();il.h4=dR[l];eQ.add.lnk2.push(il)}}}var h5=eQ.g.slice(0);
h5.sort(function(d,dg){return d-dg});var cF=eQ.B.slice(0),jz=[],ii=-1;for(var l=0;l<h5.length;l++)ii=Math.max(ii,h5[l]);
if(w.a4s!=null)ii=w.a4s;var hL=jn.Zf();if(w.qf){ii=w.qf-1;var im=eQ.B[w.qf].oC();fB+=im.x;bF+=im.y}if(hL!=-1&&(jn!=eQ||w.qf)){var eB=jn.B[hL].oC();
fB-=eB.x;bF-=eB.y}var gP=eQ._P();for(var l=0;l<gP[0].length;l++){var el=gP[1][l];if(el!=-1)gP[1][l]=cF[el]}ii++;
for(var l=0;l<w.B.length;l++){var J=w.B[l],d_=J.add.artb;cF.splice(ii,0,J);jz.push(ii);ii++;if(d_){ao=!0;
var jO=d_.guideIndeces;if(jO){jO=jO.v;for(var g2=0;g2<jO.length;g2++){gP[0].push(jn.V_[jO[g2].v].slice(0));
gP[1].push(J);ig=!0}}}}for(var l=0;l<gP[0].length;l++){var el=gP[1][l];if(el!=-1)gP[1][l]=cF.indexOf(el)}for(var l=0;
l<w.B.length;l++){var J=w.B[l];if(J.add.lsct==c0.ho){if(h_==0)bE++;h_++}else if(J.Ok())h_--}if(bE==1)jz=[ii-1];
var d=new dq([6,0],this);d.data={d:a.Rq,zD:eQ.B.slice(0),ss:cF,y5:h5,qP:jz};if(ig){d.data.L_=[eQ._P(),gP]}eQ.c0(d);
this.KC(d.data,eQ);if(fB!=0||bF!=0)P.xz.Om(eQ,eQ.Q_(),null,fB,bF);if(ao){d.data.k2=new cr(0,0,eQ.m,eQ.e);
d.data.cW=P.RP.eS(eQ);P.RP.U6(eQ)}}if(Q==a.a6H){var fc=w.j!=null?[w.j]:H.Q_(),cF=H.B.slice(0);for(var l=0;
l<fc.length;l++){var J=H.B[fc[l]].clone();J.fn(H);cF.splice(fc[l],1,J)}var d=new dq([6,8],this);d.data={d:a.Rq,zD:H.B.slice(0),ss:cF,y5:H.g.slice(0),qP:H.g.slice(0)};
H.c0(d);this.KC(d.data,H)}if(Q==a.a1Q){var cF=H.B.slice(0),J=cF[H.g[0]]=cF[H.g[0]].clone(),gg=J.add.lmfx,fh,im;
delete J.add.lmfx;var g$=H.g[0],bk=g$+1;if(J.Ok()){var fs=H.B[H.g[0]].Sh;im=fs.a49;fh=fs.wX;var I=H.root.wO(g$);
g$=I.Jq}else{im=J.rect;fh=O.R(im.O());O.RR(J.buffer,fh,3)}var cf=hO.io(gg,J.add.fxrp,fh,im,H,im).type;
for(var l=0;l<d5.order.length;l++){var e1=d5.order[l],cv=cf[e1];cv.reverse();for(var g2=0;g2<cv.length;
g2++){var jp=cv[g2],z=H.mX(),ee=l>7;if(e1=="ebbl"){if(jp.wG||jp.K5){var bP=jp.wG?jp.wG:jp.K5;if(jp.wG)delete jp.wG;
else delete jp.K5;if(jp.K5||jp.zR)g2--}else if(jp.zR||jp.TL){var bP=jp.TL?jp.TL:jp.zR;if(jp.TL){delete jp.TL;
if(jp.zR)g2--}ee=!0}jp=bP}z.UM=jp.$X;z.opacity=Math.round(255*jp.AX);z.buffer=jp.fF;z.rect=jp.la.clone();
z.rect.offset(im.x,im.y);if(e1=="FrFX"){z.buffer=z.buffer.slice(0);O.o2(jp.K8?jp.K8:jp.Tz,z.buffer,3);
if(jp.K8){ee=!0;delete jp.K8;if(jp.Tz)g2--}}z.Ak=!ee;z.nY(J.getName()+"'s "+hV.get(d5.names[l]));cF.splice(ee?g$:bk,0,z);
if(ee)bk++}}var d=new dq("Styles to Layers",this);d.data={d:a.Rq,zD:H.B.slice(0),ss:cF,y5:H.g.slice(0),qP:[bk-1]};
H.c0(d);this.KC(d.data,H)}if(Q==a.YB){var fc=H.Q_(),cF=H.B.slice(0),jW=new cr(0,0,H.m,H.e);for(var l=0;
l<fc.length;l++){var hy=H.B[fc[l]],ht=hy.tl();hy.WH(!0);var jZ=H.root.wO(fc[l]);if(hy.Ok())continue;
if(jZ==null)continue;var J=hy.clone();J.fn(H);var fa=jZ.fH(H,!0),ju=H.B;H.UF([hy]);H.U();H.eU();J.buffer=O.R(fa.O()*4);
O.j1(H.E$(),jW,J.buffer,fa);J.rect=fa;J.opacity=255;J.add.iOpa=255;J.UM="norm";J.U();J.Sh.uK=!0;H.UF(ju);
if(J.add.lmfx)delete J.add.lmfx;J.z=J.lZ=null;cF.splice(fc[l],1,J);J.WH(ht);hy.WH(ht)}var d=new dq([6,34],this);
d.data={d:a.Rq,zD:H.B.slice(0),ss:cF,y5:H.g.slice(0),qP:H.g.slice(0)};H.c0(d);this.KC(d.data,H)}if(Q==a.amR){var fc=H.Q_(),cF=H.B.slice(0);
for(var l=0;l<fc.length;l++){var J=H.B[fc[l]],dC=J.add.TySh;if(dC==null)continue;var $=new ir(dC.EB,c.KF),et=O.p.iw(kn.Zt($,dC));
for(var jU in et){var dH=et[jU],a$=J.clone();delete a$.add.TySh;a$.Vg=a$.Vg|1<<4;a$.add.SoCo=JSON.parse(JSON.stringify(d5.Um[0]));
var bf=a$.add.SoCo.Clr.v;bf.Rd.v=parseInt(jU.slice(1,3),16);bf.Grn.v=parseInt(jU.slice(3,5),16);bf.Bl.v=parseInt(jU.slice(5,7),16);
var fD=new a.TB;fD.i=O.p.KL(dH,!1);if(a$.add.vmsk!=null){a$.add.vmsk.agS();fD.concat(a$.add.vmsk)}a$.add.vmsk=fD;
a$.add.vstk=JSON.parse(JSON.stringify(d5.Ed.default));a$.cv();a$.qL(H);cF.splice(cF.indexOf(J),0,a$)}cF.splice(cF.indexOf(J),1)}var jz=H.g.slice(0);
for(var l=jz.length-1;l>=0;l--)if(jz[l]>=cF.length)jz.splice(l,1);var d=new dq([6,40],this);d.data={d:a.Rq,zD:H.B.slice(0),ss:cF,y5:H.g.slice(0),qP:jz};
H.c0(d);this.KC(d.data,H)}if(Q==a.Rf){var cR=H.g.length,fv,f2;if(cR<2){alert("Select two or more layers.");
return}for(var l=0;l<cR;l++){var eB=H.B[H.g[l]].rect;fv=l==0?eB:fv.Fa(eB);f2=l==0?eB:f2.ld(eB)}if(fv.O()*1.2>f2.O()){alert("stacking images");
var jh=[],jr=[];for(var l=0;l<cR;l++){var J=H.B[H.g[l]];jh.push(J.buffer);jr.push(J.rect)}var cy=O.ai4.qs(jh,jr),cA=cy[0],kq=cy[1],am=[];
for(var l=0;l<cR;l++){var gw=new a.ZV;gw.color=255;gw.rect=kq;gw.channel=cA[l];am.push(H.g[l],null,gw)}var d=new dq("Focus-Stack",this);
d.data={d:a.ez,QZ:am};H.c0(d);this.KC(d.data,H);return}if(!H.wJ())return;var a$=H.B[H.g[0]].clone(),cF=[];
for(var l=0;l<H.B.length;l++)if(H.g.indexOf(l)==-1)cF.push(H.B[l]);cF.splice(H.g[0],0,a$);for(var l=1;
l<cR;l++)if(H.B[H.g[l]].rect.O()>2e6){alert("Blended areas are too large.");return}for(var l=1;l<cR;
l++){var J=H.B[H.g[l]],kq=J.rect.clone();kq.i_(1,1);var dg=O.R(kq.O()*4);O.j1(J.buffer,J.rect,dg,kq);
a$.extend(kq);var ja=O.R(kq.O()*4);O.j1(a$.buffer,a$.rect,ja,kq);var d=O.R(kq.O());O.RR(dg,d,3);O.round(d,200);
O.o2(d,dg,3);O.q.SG("norm",dg,kq,ja,kq,kq,1);O.l6.Mh(ja,d,kq);O.j1(ja,kq,a$.buffer,a$.rect)}var d=new dq([2,10,0],this);
d.data={d:a.Rq,zD:H.B.slice(0),ss:cF,y5:H.g.slice(0),qP:[H.g[0]]};H.c0(d);this.KC(d.data,H)}if(Q==a.rd){var cF=H.B.slice(0),a_=H.g.slice(0);
for(var l=0;l<cF.length;l++){var J=cF[l],aW=J.add.vmsk;if(J.hu()&&aW&&J.add.vstk.strokeEnabled.v&&!J.add.vstk.fillEnabled.v){var bx=aW.i,hT=0,dp=-1;
for(var g2=0;g2<bx.length;g2++){if((bx[g2].type==0||bx[g2].type==3)&&bx[g2].NB!=-1){hT++;if(bx[g2].type==3&&dp==-1){bx[g2].P0=bx[g2].NB=1;
dp=g2}}}if(hT>1&&dp!=-1&&hT<10){console.log("separating an open path into a new layer");J=J.clone();
aW=J.add.vmsk;bx=aW.i;var z=bx[dp].length,hA=J.clone();hA.add.lyid=H.lb();aW.i=bx.slice(0,2).concat(bx.slice(dp,dp+z+1));
aW.g=[];J.qL(H);J.U();var cw=hA.add.vmsk.i;hA.add.vmsk.i=cw.slice(0,dp).concat(cw.slice(dp+z+1,cw.length));
hA.add.vmsk.g=[];hA.qL(H);cF[l]=J;cF.splice(l+1,0,hA);for(var g2=0;g2<a_.length;g2++)if(a_[g2]>l)a_[g2]++;
var jC=a_.indexOf(l);if(jC!=-1){a_.splice(jC+1,0,l+1)}}}}if(cF.length!=H.B.length){var d=new dq("Splitting open paths",this);
d.data={d:a.Rq,zD:H.B.slice(0),ss:cF,y5:H.g.slice(0),qP:a_};H.c0(d);this.KC(d.data,H)}}if(Q==a.Oq){this.dZ({d:a.rd},n,H,y,c);
var h5=H.g.slice(0),ju=H.B.slice(0),fc=H.Q_();if(fc.length==0)return;H.aih(fc,!1,w.xU);var d=new dq([6,36,0],this);
d.data={d:a.Rq,zD:ju,ss:H.B.slice(),y5:h5,qP:H.g.slice(0)};H.c0(d);this.KC(d.data,H)}if(Q==a.aba){var aJ=S.add.SoLd;
if(aJ==null)return;var jj=aJ.Idnt.v,fi=H._7(jj);fi.E$(!1);var i_=fi.TM[0],kq=fi.TM[1];if(O.AO(i_)){alert("The smart object contains transparency.");
return}var hz=cb.Mn("jpg").vd([[i_.buffer]],kq.m,kq.e,[90]);this.dZ({d:a.s8,data:new Uint8Array(hz),w5:"image.jpg"},n,H,y,c);
console.log(H.add);return}if(Q==a.s8){var jW=w.z3,jj=w.id;if(jW==null)jW=H;if(jj==null)jj=S.add.SoLd.Idnt.v;
var d0=jW._7(jj),il=d0.clone();il.raw=w.data;il.w5=w.w5;var eA=cb.mj(w.data.buffer);if(eA=="psd"){il.z7="8BIM";
il.SU="8BPB"}else{il.z7="    ";il.SU="    "}il.E$(!1);d0.E$(!1);var d=new dq([6,36,1],this);d.data={d:a.s8,id:jj,kI:d0,I3:il};
jW.c0(d);this.KC(d.data,jW)}if(Q==a.pn){var d=new dq([6,36,4],this);d.data={d:Q,j:q,EV:S.add.SoLd.Impr.v.classID,z2:w.z2};
H.c0(d);this.KC(d.data,H)}if(Q==a.ack){var e0,g4;if(w.RW){e0=w.z3;g4=w.RW}else{w.z3.C1();w.z3.gF();w.z3.U();
w.z3.eU();w.z3.E$();e0=cb.Mn("PSD").vd(w.z3,0,0,[!0,!0]);g4=w.z3.name}if(!(e0 instanceof ArrayBuffer))throw"e";
e0=new Uint8Array(e0);var L=w.Nf;if(L==null){if(H.g.length==0)L=H.g.length;else{var ei=H.g[H.g.length-1],z=H.B[ei];
L=z.Ok()?ei:ei+1}}var af=new cr(0,0,H.m,H.e),h0=H.Zf();if(h0!=-1)af=H.B[h0].oC();var dA=H.rR(e0,g4,null,null,af,c.KF,n),cF=H.B.slice(0);
cF.splice(L,0,dA);var d=new dq([6,36,2],this);d.data={d:a.Rq,zD:H.B.slice(),ss:cF,y5:H.g.slice(0),qP:[cF.indexOf(dA)]};
H.c0(d);this.KC(d.data,H)}if(Q==a.N6&&w.cl=="merge"){var jt=[],fy=H.root.children,b0=0;for(var l=0;l<fy.length;
l++){var I=fy[l],J=I.j,d2=I.children,f3=!0;if(!J.Ok()||d2.length==0)continue;for(var g2=0;g2<d2.length;
g2++)if(!d2[g2].j.getName().startsWith("_a_")){f3=!1;break}if(f3)jt.push(H.B.indexOf(J))}var dG=[];for(var l=0;
l<jt.length;l++)if(H.g.indexOf(jt[l])!=-1)dG.push(jt[l]);if(dG.length>=2)jt=dG;if(jt.length<2){alert("At least two animation folders needed (whose layers start with \"_a_\").",3500);
return}var bL=[];for(var l=0;l<jt.length;l++)bL.push(H.B[jt[l]].getName());var cv=[];for(var hG=0;hG<jt.length;
hG++){var I=H.root.wO(jt[hG]),hf=[[],[],0,hG];cv.push(hf);for(var l=0;l<I.children.length;l++){var k=I.children[l].index,J=I.children[l].j,bt=J.getName(),js=20,ed=bt.split(",");
if(ed.length>1){var cL=parseInt(ed.pop());if(!isNaN(cL)&&cL!=0)js=cL}hf[0].push(J);hf[1].push(js);hf[2]+=js}}cv.sort(function(d,dg){return dg[2]-d[2]});
var iF=cv[0],k7=iF[2];for(var el=1;el<cv.length;el++){var hf=cv[el],aH=1,ar=hf[1].slice(0),jR=0;while((aH+1)*hf[2]<=iF[2]){aH++;
ar=ar.concat(hf[1])}hf[1]=ar;hf[2]*=aH;var dE=iF[2]/hf[2];for(var l=0;l<hf[1].length;l++){var dl=Math.floor(hf[1][l]*dE);
hf[1][l]=dl;jR+=dl}while(jR<k7){jR++;hf[1][hf[1].length-1]++}hf[2]=jR}var aR=[],ge=[],dl=[];for(var l=0;
l<cv.length;l++){aR.push(0);ge.push(0)}while(b0<k7){var cj=1e9,g0=-1;for(var l=0;l<cv.length;l++){var jT=cv[l][1],g$=aR[l];
if(g$!=jT.length&&ge[l]+jT[g$]<b0+cj){g0=l;cj=ge[l]+jT[g$]-b0}}ge[g0]+=cv[g0][1][aR[g0]];aR[g0]++;if(cj!=0){dl.push(cj);
b0+=cj}}for(var l=1;l<dl.length;l++){var gy=dl[l];if(gy<16&&(dl[l-1]<16||l<dl.length-1&&16<=dl[l+1])){dl[l-1]+=gy;
dl.splice(l,1);l--}}var ht=[],jW=new cr(0,0,H.m,H.e);for(var l=0;l<H.B.length;l++){ht[l]=H.B[l].tl();
H.B[l].WH(!1)}var fQ=H.g.slice(0);H.g=jt;var c7=H.Q_();c7.sort(function(d,dg){return d-dg});var cF=[];
for(var l=0;l<H.B.length;l++){if(c7.indexOf(l)==-1)cF.push(H.B[l])}cv.sort(function(d,dg){return d[3]-dg[3]});
function ie(jT,ai){var l=0,hX=0;while(hX+jT[l]<=ai){hX+=jT[l];l++}return l}b0=0;cF.splice(c7[0],0,H.C$());
for(var fw=0;fw<dl.length;fw++){var h=[];for(var l=0;l<cv.length;l++){var g$=ie(cv[l][1],b0)%cv[l][0].length,J=cv[l][0][g$];
h.push(J)}var J=H.mX();for(var l=0;l<cv.length;l++){var kx=h[l],cD=H.B[jt[l]];kx.WH(!0);cD.WH(!0)}H.U();
H.eU();var i_=H.E$();J.rect=O.od(i_,jW,2);J.buffer=O.R(J.rect.O()*4);O.j1(i_,jW,J.buffer,J.rect);for(var l=0;
l<cv.length;l++){var kx=h[l],cD=H.B[jt[l]];kx.WH(!1);cD.WH(!1)}J.WH(fw==0);J.nY("_a_frm"+fw+","+dl[fw]);
cF.splice(c7[0]+1+fw,0,J);b0+=dl[fw]}var J=H.mX();J.nY(bL.join(" + "));J.UM="pass";J.add.lsct=c0.$g;
J.Vg=24;cF.splice(c7[0]+1+dl.length,0,J);for(var l=0;l<H.B.length;l++)H.B[l].WH(ht[l]);var d=new dq([6,12,0],this);
d.data={d:a.Rq,zD:H.B,ss:cF,y5:fQ,qP:[c7[0]+1+dl.length]};H.c0(d);this.KC(d.data,H)}if(Q==a.s$||Q==a.ii){var ia=H.g.length==1,gt=!0,dA=null,jz;
if(ia&&H.g[0]==0)return;var ju=H.B.slice(0),h5=H.g.slice(0);if(ia)H.g=[q,q-1];if(Q==a.ii){H.g=[];for(var l=0;
l<H.B.length;l++)if(H.B[l].tl())H.g.push(l)}var fc=H.Q_();fc.sort(function(d,dg){return d-dg});var i1=new cr,jW=new cr(0,0,H.m,H.e);
for(var l=0;l<fc.length;l++){var k=fc[l],J=H.B[k];if(J.Ok()||J.getName()=="</Layer group>")continue;
gt=gt&&J.hu()&&J.add.vmsk!=null;i1=i1.ld(H.root.wO(k).fH(H,!0))}if(gt){var aW=null;for(var l=0;l<fc.length;
l++){var z=H.B[fc[l]];if(z.rect.O()==0)continue;if(dA==null){dA=z.clone();aW=dA.add.vmsk}else{var z=H.B[fc[l]],cw=a.TB.Ce(z.add.vmsk.i);
aW.i=aW.i.concat(cw.slice(2));dA.add.vogk=dA.add.vogk.concat(JSON.parse(JSON.stringify(z.add.vogk)))}}dA.add.vmsk.Yh=!0;
dA.qL(H)}else if(jW.n1(i1)){dA=H.mX();dA.nY(H.B[fc[fc.length-1]].getName());dA.rect=i1;dA.buffer=O.R(i1.O()*4);
var aT=H.add.artd;delete H.add.artd;var hM=H.E$(fc);if(aT)H.add.artd=aT;O.j1(hM,jW,dA.buffer,i1);dA.KU();
dA.U()}else{H.aih(fc,!0);dA=H.B[H.g[0]];H.B.splice(H.g[0],1);var gx=H._7(dA.add.SoLd.Idnt.v);H.add.lnk2.splice(H.add.lnk2.indexOf(gx),1);
delete dA.add.SoLd}var bX=A,dt=-1;if(w.ei&&w.ei.Dplc&&w.ei.Dplc.v)bX=!0;if(bX&&Q==a.ii&&H.B[h5[0]].QG()&&H.B[h5[0]].rect._G()){dt=h5[0]}if(dt!=-1||ia){var eb=H.B[dt!=-1?dt:q-1];
dA.nY(eb.getName());dA.add.lclr=eb.add.lclr}var cF=[];for(var l=0;l<H.B.length;l++)if(bX||fc.indexOf(l)==-1)if(l!=dt)cF.push(H.B[l]);
var a1=fc[fc.length-1],cI=a1==H.B.length-1?null:H.B[a1+1],ew=cI?cF.indexOf(cI):cF.length;cF.splice(ew,0,dA);
jz=[ew];var d=new dq([6,12,0],this);d.data={d:a.Rq,zD:ju,ss:cF,y5:h5,qP:jz};H.c0(d);this.KC(d.data,H)}if(Q==a.a4m){var a$=H.mX();
a$.rect=new cr(0,0,H.m,H.e);a$.buffer=O.R(a$.rect.O()*4);O.jZ(a$.buffer,4294967295);O.q.SG("norm",H.E$(),a$.rect,a$.buffer,a$.rect,a$.rect,1);
a$.nY("Background");a$.add.lspf=1<<2;var d=new dq([6,12,1],this);d.data={d:a.Rq,zD:H.B.slice(),ss:[a$],y5:H.g.slice(0),qP:[0]};
H.c0(d);this.KC(d.data,H)}var gV=Q==a.xC||Q==a.lg;if(Q==a.So||Q==a.j9||Q==a.wn||Q==a.iJ||gV){var J=gV?H.e_()[0]:H.mX(),k5=hV.get([0,3]),cP=w.xh,aP=!1,bn,gC;
if(Q==a.wn)k5=hV.get([12,76,1]);if(gV){if(H.P){var hy=H.B[H.g[0]],fr=hy.Ih(H,H.P);if(fr==null){alert("Copied area is empty");
return}J.rect=fr.rect;J.buffer=fr.G_;J.fn(H);J.WH(!0)}else cP=J.getName();J.add.lspf=0;J.Ak=!1;if((J.Vg&1)!=0)J.Vg--}if(Q==a.iJ){J.rect=P.LV.adC(w.jR,H);
J.buffer=w.jR.buffer.slice(0);if(w.mB&&H.P){J.z=new a.ZV;J.z.rect=H.P.rect;J.z.color=0;J.z.channel=H.P.channel.slice(0)}}if(Q==a.So){this.track({fd:"make",ei:{classID:"Mk",null:ih._K("Lyr")}})}if(Q==a.j9){J.Vg|=16;
var hB=w.ei.Usng.v,ad=hB.Type.v,dr=fb.e2[ad.classID];k5=hV.get(fb.names[dr]);if(hB.Nm)cP=hB.Nm.v;J.add[dr]=gT.B1(dr);
if(J.add[dr]==null)J.add[dr]={};for(var cW in ad)J.add[dr][cW]=JSON.parse(JSON.stringify(ad[cW]));J.z=P.LV.a6M(H);
J.Ks=1}if(Q==a.wn){J.Vg|=16;var jy=w.ei,hB=jy.Usng.v,kt=hB.Type.v,jP=hB.Shp;if(hB.Nm)cP=hB.Nm.v;if(jP==null){var kf=H._e(),et=kf[0],h3=kf[1];
if(h3.length!=0&&et[h3[0]].cm<0){var hp=et[h3[0]].add;J.add.vmsk=hp.vmsk.clone();J.add.vstk=JSON.parse(JSON.stringify(d5.Ed.default));
J.add.vogk=JSON.parse(JSON.stringify(hp.vogk));H.SV=[]}else J.z=P.LV.a6M(H)}else{J.add.vmsk=new a.TB;
J.add.vstk=JSON.parse(JSON.stringify(hB.strokeStyle?hB.strokeStyle.v:d5.Ed.default));J.add.vogk=[];if(jP){var cz=O.X.sQ(jP);
if(cz){J.add.vogk=[cz];J.add.vmsk.i.push({type:0,NB:1,length:0});O.X.X8(J.add.vogk,J.add.vmsk)}else{jP=jP.v;
var ax=jP.classID;if(ax=="Plgn"){var eq=jP.Cntr.v,eB=jP.corner.v;eq=new ce(eq.Hrzn.v.val,eq.Vrtc.v.val);
eB=new ce(eB.Hrzn.v.val,eB.Vrtc.v.val);J.add.vmsk.i=O.r.yj.dW(eq.x,eq.y,Math.sqrt(eB.x*eB.x+eB.y*eB.y),Math.atan2(eB.y,eB.x),jP.sides.v,0)}else if(ax=="customShape"){var h8=O.X.YT(jP),i8=h8[2]-h8[0],fx=h8[3]-h8[1],iI=c.Df,aM,dV;
for(var l=0;l<iI.length;l++)if(iI[l].S6==jP.Nm.v)aM=iI[l];if(aM){dV=a.TB.Ce(aM.i);O.r._R(dV,new b7(i8,0,0,fx,h8[0],h8[1]))}else dV=O.r.yj.Rect(h8[0],h8[1],i8,fx,0);
J.add.vmsk.i=dV}J.cv()}}}var h1={solidColorLayer:0,gradientLayer:1,patternLayer:2}[kt.classID],i9=["SoCo","GdFl","PtFl"][h1];
J.add[i9]=JSON.parse(JSON.stringify(d5.Um[h1]));if(h1==0)J.add[i9].Clr.v=O.M.Yw(O.ps(c.Ni));P.LV.AR(kt,J.add[i9],h1);
if(jP==null)k5=hV.get([6,48,0,h1]);if(i9=="PtFl"){var ke=J.add[i9].Ptrn.v,ed=hO.EZ(ke,c.XG);if(ed==null)ed=hO.EZ(ke,H.add.Patt);
ke.Idnt.v=ed.id;H.mv(ed)}J.qL(H)}var cR=P.LV.sq(H,k5+" ");J.nY(k5+" "+(cR+1));if(cP)J.nY(cP);var kw=H.g.length==0?H.B.length-1:H.g[H.g.length-1],jX=H.B[kw];
if(Q==a.wn&&jX.QG()&&jX.rect._G()){aP=!0;J.nY(jX.getName());bn=kw}else{bn=kw+(Q==a.So&&e&&!V?0:1);if(jX&&jX.add.lsct==c0.q8)bn--}if(w.art)bn=Math.max(0,bn-1);
var cF=H.B.slice(0);if(Q==a.lg){var gF=cF[H.g[0]]=cF[H.g[0]].clone(),d7=H.P.channel.slice(0);O.G$(d7);
O.lf(d7,H.P.rect,gF.buffer,gF.rect)}cF.splice(bn,aP?1:0,J);var h7=[5,2];if(Q==a.So)h7=[6,13];if(Q==a.j9)h7=[6,1];
if(Q==a.wn){h7=[6,48,1];var jP=w.ei.Usng.v.Shp;if(jP){var bH={Rctn:[10,32],Ln:[10,35],Elps:[10,33],Plgn:[12,93,0],customShape:[10,31]}[jP.v.classID];
if(bH)h7=bH}}if(gV){h7=[6,49,Q==a.xC?0:1]}if(gV||Q==a.wn||Q==a.iJ||Q==a.j9)if(H.P)gC=[H.P,null];var d=new dq(h7,this);
d.data={d:a.Rq,zD:H.B.slice(0),ss:cF,y5:H.g.slice(0),qP:[bn],Tg:gC};H.c0(d);this.KC(d.data,H);if(Q==a.wn&&jP==null&&h1!=0||Q==a.j9){var f=new aL(M.E.L);
f.data={d:M.c.Fp,Ln:eV.AG.Y6};n.S(f)}}if(Q==a.vB){var J=H.mX(),k5=hV.get([0,4]),cR=P.LV.sq(H,k5+" ");
J.nY(k5+" "+(cR+1));J.UM="pass";J.add.lsct=c0.q8;J.Vg=24;if(w.xh)J.nY(w.xh);if(w.k_!=null)J.add.lclr=w.k_;
var au=H.C$(),kw=q,bn=kw+(e?0:1),cF=H.B.slice(0);cF.splice(bn,0,au,J);var d=new dq([6,20],this);d.data={d:a.Rq,zD:H.B.slice(0),ss:cF,y5:H.g.slice(0),qP:[bn+1]};
H.c0(d);this.KC(d.data,H)}if(Q==a.gq||Q==a.JP){var hg=Q==a.gq?w.source:H.g[0],al,gq,eW=H.g.indexOf(hg)!=-1,iZ=A|w.a2q,fZ,cj=null;
if(eW)fZ=H.Q_();else fZ=H.vK(hg);fZ.sort(function(d,dg){return d-dg});if(Q==a.gq){al=w.target;gq=w.IG>.5}else if(w.target!=null){al=Math.min(w.target,H.B.length-1);
gq=w.target<H.B.length;H.nR=!0}else{var gX=w.cl;gq=gX>1;if(gX==0){al=H.B.length-1}if(gX==1){al=fZ[fZ.length-1]+1;
var z=H.vK(al);if(z.indexOf(hg)==-1)al+=z.length-1}if(gX==2){al=fZ[0]-1;var z=H.vK(al);if(z.indexOf(hg)==-1)al-=z.length-1}if(gX==3){al=0;
if(H.B[0].add.lnsr=="bgnd")al++}if(al<0||al>H.B.length-1)return;H.nR=!0}if(fZ.indexOf(al)!=-1&&!iZ)return;
var dF=P.LV.zw(H,fZ,al,gq,iZ?H.e_(eW?null:hg):null,Q==a.gq&&w.IG>.8),k8=dF.pop(),a_=dF.pop(),cF=dF.pop(),bO=H.g;
H.g=[hg];var hL=H.Zf();H.g=[al];var bu=H.Zf();if(bu==al&&!gq)bu=-1;H.g=bO;if(hg==hL){}else if(hL!=bu){var cj=new ce(0,0);
if(hL!=-1){var kq=H.B[hL].oC();cj.x-=kq.x;cj.y-=kq.y}if(bu!=-1){var kq=H.B[bu].oC();cj.x+=kq.x;cj.y+=kq.y}}var d=new dq(iZ?[6,0]:[6,35],this);
d.data={d:a.Rq,zD:H.B.slice(0),ss:cF,y5:H.g.slice(0),qP:a_,Y3:cj};H.c0(d);this.KC(d.data,H);var jy={classID:"move",null:ih._K("Lyr",!0),T:{t:"obj ",v:[{t:"indx",v:{classID:"Lyr",val:k8+(gq?0:1)}}]},Adjs:{t:"bool",v:!1},Vrsn:{t:"long",v:5},Dplc:{t:"long",v:iZ}};
this.track({fd:"move",ei:jy})}if(Q==a.Tl){if(w.lD){if(S==null||!S.Ok())return;var I=H.root.wO(q),em=H.B.indexOf(I.a3_),cF=H.B.slice(0);
cF.splice(q,1);cF.splice(em,1);var a_=[];for(var l=em;l<q-1;l++)a_.push(l);var d=new dq("Ungroup Layers",this);
d.data={d:a.Rq,zD:H.B.slice(0),ss:cF,y5:H.g.slice(0),qP:a_};H.c0(d);this.KC(d.data,H)}else{var J=H.mX(),hK=hV.get([0,4])+" ";
J.nY(hK+(P.LV.sq(H,hK)+1));J.UM="pass";if(w.xh)J.nY(w.xh);if(w.k_!=null)J.add.lclr=w.k_;J.add.lsct=H.g.length==1?c0.q8:c0.$g;
J.Vg=24;var au=H.C$(),fZ=H.Q_();if(fZ.length==0)return;fZ.sort(function(d,dg){return d-dg});var cF=[];
for(var l=0;l<H.B.length;l++)if(fZ.indexOf(l)==-1)cF.push(H.B[l]);var kw=H.g[H.g.length-1]-fZ.length;
cF.splice(kw+1,0,au);for(var l=0;l<fZ.length;l++)cF.splice(kw+2+l,0,H.B[fZ[l]]);cF.splice(kw+2+fZ.length,0,J);
var d=new dq([6,9],this);d.data={d:a.Rq,zD:H.B.slice(0),ss:cF,y5:H.g.slice(0),qP:[cF.indexOf(J)]};H.c0(d);
this.KC(d.data,H);var g={fd:"make",mu:!0};g.ei={classID:"Mk",null:ih._K("layerSection"),From:ih._K("Lyr",!0),Usng:{t:"Objc",v:{classID:"layerSection",Nm:{t:"TEXT",v:J.getName()}}}};
this.track(g)}}if(Q==a.aoJ){if(H.g.length!=1)return;var L=H.g[0],g7=A;if(H.B[L].LZ()==null&&!y.l(b8.NX)){Q=a.aU;
w.Ny=H.P?!g7?"RvlS":"HdSl":!g7?"RvlA":"HdAl"}else{Q=a.s4;w.a9P=!0}}if(Q==a.aU){if(H.g.length!=1)return;
var L=H.g[0],J=H.B[L];if(J.add.vmsk&&J.z==null)J.qL(H);var j2=J.LZ();if(j2==null||w.a5t){var d=new dq([6,21],this),dS=new a.ZV,dZ=w.Ny,b6=dZ=="RvlS"||dZ=="HdSl";
if(dZ=="RvlS"||dZ=="HdAl"||dZ=="Trns")dS.color=0;if(b6){dS.channel=H.P.channel.slice(0);dS.rect=H.P.rect.clone();
if(dZ=="HdSl")O.G$(dS.channel)}if(dZ=="Trns"){dS.rect=J.rect.clone();dS.channel=O.R(J.rect.O());O.RR(J.buffer,dS.channel,3)}d.data={d:a.ez,QZ:[L,j2,dS],Tg:b6?[H.P,null]:null};
H.c0(d);this.KC(d.data,H);H.B[L].Ks=1;this.track({fd:"make",ei:{__name:"Make",classID:"Mk",Nw:{t:"type",v:{classID:"Chnl"}},At:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"Msk"}}]},Usng:{t:"enum",v:{UsrM:dZ}}}})}}else if(Q==a.a1S){var df=H.B[w.src],bM=H.B[w.VE],d=new dq([6,21],this),bV=df.LZ(),aO=bM.LZ(),gw=[w.src,bV,null,w.VE,aO,bV];
if(A||V){var bt=bV.clone();if(A)gw=[w.VE,aO,bt];else gw[5]=bt;if(V){O.G$(bt.channel);bt.color=255-bt.color}}d.data={d:a.ez,QZ:gw};
H.c0(d);this.KC(d.data,H)}if(Q==a.Xg){if(H.g.length!=1)return;var L=q,cm=H.B[L].LZ();if(cm!=null){var d=new dq([6,22],this);
d.data={d:a.ez,QZ:[q,cm,null]};H.c0(d);this.KC(d.data,H)}}if(Q==a.tA){var ju=H.B.slice(0),a$=S.clone(),jf=a$.LZ();
O.lf(jf.iU(a$.rect),a$.rect,a$.buffer,a$.rect);P.LV.X3(H,a$);a$.KU();H.B[H.g[0]]=a$;var d=new dq([5,8],this);
d.data={d:a.Rq,zD:ju,ss:H.B.slice(),y5:H.g.slice(0),qP:H.g.slice(0)};H.c0(d);this.KC(d.data,H)}if(Q==a.yw){if(H.g.length!=1)return;
var L=H.g[0];if(H.B[L].iS(H).z==null){var d=new dq([6,45],this);d.data={d:Q,j:L,z:new a.ZV};H.c0(d);
this.KC(d.data,H)}}if(Q==a.Sw){if(H.g.length!=1)return;var L=H.g[0];if(H.B[L].iS(H).z!=null){var d=new dq([6,46],this);
d.data={d:Q,j:L,z:H.B[L].iS(H).z};H.c0(d);this.KC(d.data,H)}}if(Q==a.$P){if(w.src==null&&H.g.length!=1)return;
if(w.src!=null)q=w.src;if(H.B[q].RL()){var d=new dq([6,47],this),aJ=JSON.stringify(H.B[q].add.SoLd),ip=JSON.parse(aJ);
delete ip.filterFX;d.data={d:a.cp,zV:[{qn:q,yG:[aJ,JSON.stringify(ip)],hy:[H.B[q].iS(H),null]}]};H.c0(d);
this.KC(d.data,H)}}if(Q==a.s4){if(H.g.length!=1)return;if(S.add.vmsk==null){var d=new dq([6,23],this),bx=H._e(),a0=bx[1],bx=bx[0],dS,cz;
if(w.a9P&&a0.length!=0){var hp=bx[a0[0]].add;dS=hp.vmsk.clone();cz=hp.vogk}else{dS=new a.TB;cz=[];dS.i[1].all=w.a37?0:1}d.data={d:Q,j:q,DL:!0,z:dS,X:JSON.stringify(cz),Ed:null};
if(S.hu()){d.data.Ed=JSON.stringify(d5.Ed.default)}H.c0(d);this.KC(d.data,H)}}if(Q==a.Ng){var df=H.B[w.src],bM=H.B[w.VE];
if(bM.add.vmsk)return;var d=new dq([6,23],this),aW=df.add.vmsk;d.data={j:w.VE,DL:df.gK,z:aW.clone(),X:JSON.stringify(df.add.vogk),Ed:df.add.vstk?JSON.stringify(df.add.vstk):null};
if(A){d.data.d=a.s4}else{d.data.d=Q;d.data.src=w.src;d.data.VE=w.VE}H.c0(d);this.KC(d.data,H)}if(Q==a.gc||Q==a.vw){if(H.g.length!=1)return;
var J=H.B[q],aW=J.add.vmsk;if(aW!=null){var aN=Q==a.vw,d=new dq(aN?[6,8]:[6,24],this);d.data={d:a.gc,j:q,DL:J.gK,z:aW,X:JSON.stringify(J.add.vogk),Ed:J.add.vstk?JSON.stringify(J.add.vstk):null};
if(aN){d.data.lZ=aW.LZ(J.add.vstk)}H.c0(d);this.KC(d.data,H)}}if(Q==a.HM){var d=new dq("Metadata",this);
d.data={d:Q,nE:JSON.stringify(H.zN),OG:JSON.stringify(w.OG)};H.c0(d);this.KC(d.data,H)}if(Q==a.lj){var aZ=w.VE?w.VE:H,aw=aZ.name,cP=w.Z+".psd";
if(aw==cP)return;var d=new dq([6,37],this);d.data={d:Q,aii:aw,xh:cP};if(w.ac5!=!0)aZ.c0(d);this.KC(d.data,aZ)}if(Q==a.N6&&w.cl.endsWith("makeframes")){var eN=[],d1=w.cl.startsWith("make");
for(var l=0;l<H.g.length;l++){var k=H.g[l],J=H.B[k],hH=J.getName(),jo=hH.startsWith("_a_");if(d1==jo||J.add.lsct==c0.ho)continue;
var dP=d1?"_a_"+hH:hH.slice(3);eN.push([k,hH,dP,J.add.lnsr,null])}var d=new dq([6,37],this);d.data={d:a.$w,PY:eN};
H.c0(d);this.KC(d.data,H)}if(Q==a.$w){var aw=S.getName(),cP=w.name.substring(0,255);if(aw==cP)return;
var d=new dq([6,37],this);d.data={d:Q,PY:[[q,aw,cP,S.add.lnsr,null]]};H.c0(d);this.KC(d.data,H);this.track(ih.Zs("Nm",{t:"TEXT",v:cP}))}if(Q==a.LD){var jD=H.Q_(),fo=[],fj=[];
for(var l=0;l<jD.length;l++){fo.push(H.B[jD[l]].add.lclr);fj.push(w.aoS)}var d=new dq([6,38],this);d.data={d:Q,B:jD,a4Q:fo,k_:fj};
H.c0(d);this.KC(d.data,H)}if(Q==a.Q$){var d=H.history[H.Cf];if(d!=null&&d.G==this&&d.data.d==Q&&d.data.j==w._Y&&d.data.z2.mU==w.xa.mU)d.data.z2=w.xa;
else{d=new dq("Mask Density / Feather",this);d.data={d:Q,j:w._Y,EV:H.B[w._Y].rP(w.xa.mU),z2:w.xa};H.c0(d)}this.KC(d.data,H)}if(Q==a.pk){var kd=JSON.stringify(w.Z),e_=JSON.parse(kd),d=H.history[H.Cf];
if(d!=null&&d.G==this&&d.data.d==Q&&d.data.OO==w.OO&&d.data.uy.join(",")==w.uy.join(",")){for(var l=0;
l<w.uy.length;l++)d.data.dr[l]=e_;if(d.data.ei&&e_.SU!=0)P.LV.AR(e_.WL,d.data.ei.T.v,e_.SU-1)}else{d=new dq([11,6],this);
d.data={d:Q,uy:w.uy,OO:w.OO,a0h:[],dr:[]};var cS=!1;for(var l=0;l<w.uy.length;l++){var k=w.uy[l],J=H.B[k],dc=w.OO?P.S2.bH(H,k):JSON.parse(JSON.stringify(J.add.vstk));
d.data.a0h.push(dc);d.data.dr.push(e_);if(JSON.stringify(dc)!=kd)cS=!0}if(!cS)return;H.c0(d);if(w.OO&&e_.SU>0){var jy=d.data.ei={classID:"setd",null:ih._K("contentLayer",!0),T:{t:"Objc",v:{}}};
P.LV.AR(e_.WL,jy.T.v,e_.SU-1);this.track({fd:"set",ei:jy})}}if(w.OO&&e_.SU==3)H.mv(hO.EZ(e_.WL.Ptrn.v,c.XG));
if(!w.OO){var iJ=e_.strokeStyleContent.v;if(iJ.classID==d5.Ed.oj[2])H.mv(hO.EZ(iJ.Ptrn.v,c.XG))}this.KC(d.data,H)}};
P.LV.zw=function(w,n,H,y,c,Q){var q=w.B[H],S=[];if(c)S=w.B.slice(0);else for(var l=0;l<w.B.length;l++)if(n.indexOf(l)==-1)S.push(w.B[l]);
var A=S.indexOf(q);if(Q&&q.Ok()&&q.add.lsct==c0.$g)A-=w.vK(H).length-1;var V=[];for(var l=0;l<n.length;
l++){var e=A+(y?0:1)+l,d=c?c[l]:w.B[n[l]];S.splice(e,0,d);V.push(e)}return[S,V,A]};P.LV.AR=function(w,n,H){var y=[d5.jG,d5.B6,d5.sY][H];
if(n.classID==null)n.classID=["solidColorLayer","gradientLayer","patternLayer"][H];for(var l=0;l<y.length;
l++)if(w[y[l]])n[y[l]]=JSON.parse(JSON.stringify(w[y[l]]))};P.LV.a6M=function(w){var n=new a.ZV;if(w.P!=null){n.color=0;
n.channel=w.P.channel.slice(0);n.rect=w.P.rect.clone()}return n};P.LV.ZO=function(w,n,H,y,c){var Q=y.m/H.m,q=y.e/H.e,S=y.m/2,A=y.e/2,V=O.p.u3(y).w;
for(var l=0;l<w.B.length;l++){var e=w.B[l],d=e.add.SoLd;if(d==null||d.Idnt.v!=n)continue;if(Q!=1||q!=1){var N=P.WJ.b6(d.nonAffineTransform),b=O.K.gU(N,y),z=new b7;
z.translate(-S,-A);z.scale(Q,q);z.translate(S,A);var v=O.K.dO(b,O.K.og(z)),T=V.slice(0);O.K.D(v,T);d.Trnf=P.WJ.w2(T);
d.nonAffineTransform=P.WJ.w2(T);if(O.v$.Rd(d.warp.v)){var Y=d.warp.v.bounds.v;Y.Rght.v.val=y.m;Y.Btom.v.val=y.e}}e.W0(w,null,c)}w.U()};
P.LV.an2=function(w,n,H){n.color=255-n.color;O.G$(n.channel);n.Yh=!0;w.qL(H);H.U()};P.LV.prototype.LL=function(w,n){var H=w.d,y=n.B[w.j];
n.zi=!0;if(H==a.s8){n.add.lnk2.splice(n.add.lnk2.indexOf(w.I3),1,w.kI);P.LV.ZO(n,w.id,w.I3.TM[1],w.kI.TM[1])}if(H==a.pn){y.add.SoLd.Impr.v.classID=w.EV;
y.W0(n)}if(H==a.Cx){var c=JSON.parse(w.uy);for(var l=0;l<c.length;l++)n.B[c[l]].UM=w.kP[l];n.U()}if(H==a.eq){var c=JSON.parse(w.uy);
for(var l=0;l<c.length;l++)n.B[c[l]].opacity=w.kP[l];n.U()}if(H==a.Cz){var c=JSON.parse(w.uy);for(var l=0;
l<c.length;l++)if(n.B[c[l]].add.lsct!=c0.ho)n.B[c[l]].add.lspf=w.kP[l]}if(H==a.gI){var Q=w.r3,q=w.aof;
delete y.add[Q[0]];if(q[0]!="----")y.add[q[0]]=q[1]}if(H==a.OY){y.add.iOpa=w.kP;n.U()}if(H==a.Rw){for(var l=0;
l<w.uy.length;l++){var S=n.B[w.uy[l]];S.WH(!S.tl())}n.U()}if(H==a.gy){var A=y.LZ();A.isEnabled=!A.isEnabled;
y.qL(n);n.U()}if(H==a.jJ){var A=y.iS(n).z;A.isEnabled=!A.isEnabled;y.U();n.U()}if(H==a.qz){var A=y.add.vmsk;
A.isEnabled=!A.isEnabled;if(!A.isEnabled){if(y.lZ){y.z=y.lZ;y.lZ=null}else y.z=null}else if(y.z){y.lZ=y.z;
y.z=null}y.qL(n);n.U()}if(H==a.vg){y.Ak=!y.Ak;n.U()}if(H==a.cQ){y.add.lmfx.masterFXSwitch.v=!y.add.lmfx.masterFXSwitch.v;
y.Sh.uK=!0;n.U()}if(H==a.SZ){y.add.SoLd.filterFX.v.enab.v=!y.add.SoLd.filterFX.v.enab.v;y.Sm(n);n.U()}if(H==a.Fh){var V=w.index,e=y.add.lmfx[d5.tS[V[0]]].v[V[1]].v;
e.enab.v=!e.enab.v;y.Sh.uK=!0;n.U()}if(H==a.S7){var d=n.B[w.Ri],N=n.B[w.XI],b=w.azX,z=w.arQ;if(b=="")delete d.add.lmfx;
else d.add.lmfx=JSON.parse(b);if(z=="")delete N.add.lmfx;else N.add.lmfx=JSON.parse(z);d.Sh.uK=!0;N.Sh.uK=!0;
n.U()}if(H==a.va){var v=y.add.SoLd.filterFX.v.filterFXList.v[w.index].v;v.enab.v=!v.enab.v;y.Sm(n);n.U()}if(H==a.axR){y.add.SoLd.filterFX.v=JSON.parse(JSON.stringify(w.aq4));
y.Sm(n);n.U()}if(H==a.sz){var A=y.LZ();A.G9=!A.G9}if(H==a.Vf){var A=y.add.vmsk;A.G9=!A.G9}if(H==a.Ef){var T=JSON.parse(w.atO);
n.Uw=T[0];n.az=T[1]}if(H==a.M_){var T=w.Wj;for(var l=0;l<T.length;l+=2){var Y=T[l],S=Y>=0?n.B[Y]:n.Wh[-1-Y];
S.add.vogk=JSON.parse(T[l+1]);O.X.X8(S.add.vogk,S.add.vmsk);if(Y>=0)S.qL(n)}n.U()}if(H==a.oO){y.add.artb=JSON.parse(w.ar4);
n.U();P.RP.K9(n,w)}if(H==a.cF){n.P=w.Cr;n.d4=w.Wj.slice(0);n.np=w.mk.slice(0);n.Va=n.qF=!0}if(H==a.TZ){y.aD=!y.aD}if(H==a.p7){var g=w.ajP;
for(var l=0;l<g.length;l++)n.B[l].ds=g[l]}if(H==a.Rq){if(w.Y3)P.xz.Om(n,n.g,null,-w.Y3.x,-w.Y3.y);if(w.y5)n.g=w.y5;
if(w.Tg)n.P=w.Tg[0];n.t7=null;n.U();n.UF(w.zD);P.RP.K9(n,w);if(w.L_)n.da(w.L_[0])}if(H==a.ez){for(var l=0;
l<w.QZ.length;l+=3)P.LV.X3(n,n.B[w.QZ[l]],w.QZ[l+1]);if(w.Tg){var R=w.Tg[0];if(R==null)delete n.P;else n.P=R}}if(H==a.yw){y.iS(n).z=null;
y.U();n.U()}if(H==a.Sw){y.iS(n).z=w.z;y.U();n.U()}if(H==a.cp){P.LV.a6a(n,w.zV,0)}if(H==a.s4){P.LV.a6(n,y,!0)}if(H==a.Ng){P.LV.a6(n,n.B[w.VE],w.z.isEnabled);
P.LV.VG(n,n.B[w.src],w)}if(H==a.gc){if(w.lZ)P.LV.X3(n,y,null);P.LV.VG(n,y,w)}if(H==a.HM){n.zN=JSON.parse(w.nE)}if(H==a.lj){n.name=w.aii}if(H==a.$w){for(var l=0;
l<w.PY.length;l++){var h=w.PY[l],S=n.B[h[0]];S.nY(h[1]);if(h[3])S.add.lnsr=h[3];else delete S.add.lnsr}}if(H==a.LD){for(var l=0;
l<w.B.length;l++)n.B[w.B[l]].add.lclr=w.a4Q[l]}if(H==a.pk){var E=w.a0h;for(var l=0;l<w.uy.length;l++){var S=n.B[w.uy[l]],G=E[l];
if(!w.OO)S.add.vstk=JSON.parse(JSON.stringify(G));else P.S2.hU(S,JSON.parse(JSON.stringify(G)));S.EA(n)}n.U()}if(H==a.Q$){y.ad5(w.EV);
y.qL(n);n.U()}n.qF=!0};P.LV.prototype.KC=function(w,n){var H=w.d,y=n.B[w.j];n.zi=!0;if(H==a.s8){n.add.lnk2.splice(n.add.lnk2.indexOf(w.kI),1,w.I3);
P.LV.ZO(n,w.id,w.kI.TM[1],w.I3.TM[1])}if(H==a.pn){y.add.SoLd.Impr.v.classID=w.z2;y.W0(n)}if(H==a.Cx){var c=JSON.parse(w.uy);
for(var l=0;l<c.length;l++)n.B[c[l]].UM=w.z2;n.U()}if(H==a.eq){var c=JSON.parse(w.uy);for(var l=0;l<c.length;
l++)n.B[c[l]].opacity=w.z2;n.U()}if(H==a.Cz){var c=JSON.parse(w.uy);for(var l=0;l<c.length;l++)if(n.B[c[l]].add.lsct!=c0.ho)n.B[c[l]].add.lspf=w.z2[l]}if(H==a.gI){var Q=w.aof,q=w.r3;
delete y.add[Q[0]];if(q[0]!="----")y.add[q[0]]=q[1]}if(H==a.OY){y.add.iOpa=w.z2;n.U()}if(H==a.Rw){for(var l=0;
l<w.uy.length;l++){var S=n.B[w.uy[l]];S.WH(!S.tl())}n.U()}if(H==a.gy){var A=y.LZ();A.isEnabled=!A.isEnabled;
y.qL(n);n.U()}if(H==a.jJ){var A=y.iS(n).z;A.isEnabled=!A.isEnabled;y.U();n.U()}if(H==a.qz){var A=y.add.vmsk;
A.isEnabled=!A.isEnabled;if(!A.isEnabled){if(y.lZ){y.z=y.lZ;y.lZ=null}else y.z=null}else if(y.z){y.lZ=y.z;
y.z=null}y.qL(n);n.U()}if(H==a.vg){y.Ak=!y.Ak;n.U()}if(H==a.cQ){y.add.lmfx.masterFXSwitch.v=!y.add.lmfx.masterFXSwitch.v;
y.Sh.uK=!0;n.U()}if(H==a.SZ){y.add.SoLd.filterFX.v.enab.v=!y.add.SoLd.filterFX.v.enab.v;y.Sm(n);n.U()}if(H==a.Fh){var V=w.index,e=y.add.lmfx[d5.tS[V[0]]].v[V[1]].v;
e.enab.v=!e.enab.v;y.Sh.uK=!0;n.U()}if(H==a.S7){var d=n.B[w.Ri],N=n.B[w.XI],b=w.atd,z=w.atR;if(b=="")delete d.add.lmfx;
else d.add.lmfx=JSON.parse(b);if(z=="")delete N.add.lmfx;else N.add.lmfx=JSON.parse(z);d.Sh.uK=!0;N.Sh.uK=!0;
n.U()}if(H==a.va){var v=y.add.SoLd.filterFX.v.filterFXList.v[w.index].v;v.enab.v=!v.enab.v;y.Sm(n);n.U()}if(H==a.axR){y.add.SoLd.filterFX.v=JSON.parse(JSON.stringify(w.afB));
y.Sm(n);n.U()}if(H==a.sz){var A=y.LZ();A.G9=!A.G9}if(H==a.Vf){var A=y.add.vmsk;A.G9=!A.G9}if(H==a.Ef){var T=JSON.parse(w.ac4);
n.Uw=T[0];n.az=T[1]}if(H==a.M_){var T=w.oz;for(var l=0;l<T.length;l+=2){var Y=T[l],S=Y>=0?n.B[Y]:n.Wh[-1-Y];
S.add.vogk=JSON.parse(T[l+1]);O.X.X8(S.add.vogk,S.add.vmsk);if(Y>=0)S.qL(n)}n.U()}if(H==a.oO){y.add.artb=JSON.parse(w._r);
n.U();P.RP.Ez(n,w)}if(H==a.cF){n.P=w.Ee;n.d4=w.oz.slice(0);n.np=w.T7.slice(0);n.Va=n.qF=!0}if(H==a.TZ){y.aD=!y.aD}if(H==a.p7){var g=w.aw_;
for(var l=0;l<g.length;l++)n.B[l].ds=g[l]}if(H==a.Rq){n.a1j();var R=w.ss,h=0,E;for(var l=0;l<R.length;
l++){var S=R[l],G=S.add.lsct;if(G==c0.ho)h++;else if(G==c0.q8||G==c0.$g)h--;if(S.add.artb&&h!=0)E="Artboards can not be inside folders."}if(E){n.history.pop();
n.Cf--;alert(E);return}P.RP.Ez(n,w);if(w.qP)n.g=w.qP;if(w.Tg)n.P=w.Tg[1];n.t7=null;n.U();n.UF(w.ss);
if(w.Y3)P.xz.Om(n,n.g,null,w.Y3.x,w.Y3.y);if(w.L_)n.da(w.L_[1])}if(H==a.ez){for(var l=0;l<w.QZ.length;
l+=3)P.LV.X3(n,n.B[w.QZ[l]],w.QZ[l+2]);if(w.Tg){var k=w.Tg[1];if(k==null)delete n.P;else n.P=k}}if(H==a.yw){y.iS(n).z=w.z;
y.Ks=0;y.U();n.U()}if(H==a.Sw){y.iS(n).z=null;y.Ks=0;y.U();n.U()}if(H==a.cp){P.LV.a6a(n,w.zV,1)}if(H==a.s4){P.LV.VG(n,y,w)}if(H==a.Ng){P.LV.a6(n,n.B[w.src],w.z.isEnabled);
P.LV.VG(n,n.B[w.VE],w)}if(H==a.gc){P.LV.a6(n,y,w.z.isEnabled);if(w.lZ)P.LV.X3(n,y,w.lZ)}if(H==a.HM){n.zN=JSON.parse(w.OG)}if(H==a.lj){n.name=w.xh}if(H==a.$w){for(var l=0;
l<w.PY.length;l++){var $=w.PY[l],S=n.B[$[0]];S.nY($[2]);if($[4])S.add.lnsr=$[4];else delete S.add.lnsr}}if(H==a.LD){for(var l=0;
l<w.B.length;l++)n.B[w.B[l]].add.lclr=w.k_[l]}if(H==a.pk){var p=w.dr;for(var l=0;l<w.uy.length;l++){var S=n.B[w.uy[l]],X=p[l];
if(!w.OO)S.add.vstk=JSON.parse(JSON.stringify(X));else P.S2.hU(S,JSON.parse(JSON.stringify(X)));S.EA(n)}n.U()}if(H==a.Q$){y.ad5(w.z2);
y.qL(n);n.U()}n.qF=!0};P.LV.sq=function(w,n){var H=0;for(var l=0;l<w.B.length;l++){var y=w.B[l].getName();
if(y.startsWith(n)){var c=y.slice(n.length).trim(),Q=parseInt(c);if(!isNaN(Q)&&Q+""==c&&Q>H)H=Q}}return H};
P.LV.a6a=function(w,n,H){for(var l=0;l<n.length;l++){var y=n[l],c=w.B[y.qn];if(y.yG){c.add.SoLd=JSON.parse(y.yG[H])}if(y.hy){if(y.hy[1-H]!=null)w.Bu(y.hy[1-H]);
if(y.hy[H]!=null)w.rr(y.hy[H]);else c.Ks=0}c.W0(w)}};P.LV.adC=function(w,n){var H=w.HZ,y=w.rect.clone();
if(H!=null&&(H.x!=n.m||H.y!=n.e)){y.x=Math.floor((n.m-y.m)/2);y.y=Math.floor((n.e-y.e)/2)}else if(H==null){var c=new cr(0,0,n.m,n.e),Q=n.Zf();
if(Q!=-1)c=n.B[Q].oC();y.x+=c.x;y.y+=c.y}return y};P.LV.a1Y=function(w,n){if(n.lZ)n.lZ=null;else n.z=null;
n.qL(w);w.U();n.Ks=0};P.LV.X3=function(w,n,H){var y=n.LZ();if(y==null&&H==null)return;if(y)P.LV.a1Y(w,n);
if(H==null)return;if(n.z)n.lZ=H;else n.z=H;n.qL(w);w.U()};P.LV.a6=function(w,n,H){if(n.lZ&&H){n.z=n.lZ;
n.lZ=null}else if(n.z&&H){n.z=null}delete n.add.vogk;delete n.add.vstk;delete n.add.vmsk;n.qL(w);n.gK=!1;
w.t7=[];w.U()};P.LV.VG=function(w,n,H){n.add.vogk=JSON.parse(H.X);if(H.Ed)n.add.vstk=JSON.parse(H.Ed);
else delete n.add.vstk;n.add.vmsk=H.z.clone();if(n.z&&n.add.vmsk.isEnabled)n.lZ=n.z;n.qL(w);n.gK=H.DL;
w.t7=[w.B.indexOf(n)];w.SV=[];w.U()};P.e1=function(){P.rG.call(this,"Layer Styles",P.C8);this.n6=null;
this.KS=null;this.L8=null;this.FK=[];this.eh=null};P.e1.prototype=new P.rG;P.e1.prototype.dZ=function(w,n,H,y,c){var Q=w.j;
if(Q==null)Q=H.g[0];var q=H.B[Q],S=w.cm;if(this.n6==null){this.L8=P.e1.ne(H,q);this.n6=JSON.stringify(this.L8);
if(q.add.lmfx)this.KS=JSON.stringify(q.add.lmfx)}if(q.add.lmfx==null){q.add.lmfx=JSON.parse(d5.default);
for(var l=0;l<d5.order.length;l++)q.add.lmfx[d5.tS[l]]={t:"VlLs",v:[]}}if(w.d=="scaleeffects"){if(w.Z=="confirm"||w.Z=="cancel"){this.dZ({d:w.Z},n,H,y,c);
return}q.add.lmfx=JSON.parse(this.KS);hO.l$(q.add.lmfx,w.Z/100)}else if(w.d=="changeprop"){var A=null;
if(S!=0){var V=this.FK[S[0]];if(V==null)V=d5.FK[S[0]];V=JSON.parse(V);var e=q.add.lmfx[d5.tS[S[0]]].v;
if(e[S[1]]==null)e[S[1]]={t:"Objc",v:V};A=e[S[1]].v;for(var d in V)if(A[d]==null)A[d]=V[d]}if(w.d=="changeprop"){if(S==0){this.L8[w.kx].v=w.Z;
P.e1.aE(H,q,this.L8)}else if(w.kx=="lagl"){if(A.uglg&&A.uglg.v){H.sK(w.Z.val);this.L8.gagl.v.val=H.s9()}else A[w.kx].v=w.Z}else if(w.kx=="Lald"){if(A.uglg.v){H.QF(w.Z.val);
this.L8.agi=H.Sk()}else A[w.kx].v=w.Z}else if((S[0]==3||S[0]==8)&&(w.kx=="Clr"||w.kx=="Grad")){if(w.kx=="Clr"){A.Clr={t:"Objc",v:w.Z};
delete A.Grad}if(w.kx=="Grad"){A.Grad={t:"Objc",v:w.Z};delete A.Clr}}else{A[w.kx].v=w.Z}if(S!=0)this.FK[S[0]]=JSON.stringify(A)}if(S!=0)if(A.Ptrn)H.mv(hO.EZ(A.Ptrn.v,c.XG))}else if(w.d=="setstl"){var N=w.Z.Lefx;
if(N)hO.aaU(N,H,c.XG);hO.aw9(w.Z,q,null,H);this.L8=P.e1.ne(H,q)}else if(w.d=="st_dupsingle"){var b=q.add.lmfx[d5.tS[w.GJ[0]]].v;
if(b[w.GJ[1]]==null)return;var z=JSON.parse(JSON.stringify(b[w.GJ[1]]));b.splice(w.GJ[1],0,z)}else if(w.d=="st_movsingle"){var v=w.GJ[1],b=q.add.lmfx[d5.tS[w.GJ[0]]].v;
if(b[w.GJ[1]]==null)return;var T=Math.max(0,Math.min(b.length-1,v+w.ax6)),Y=b[T];b[T]=b[v];b[v]=Y}else if(w.d=="cancel"){if(this.KS==null)delete q.add.lmfx;
else q.add.lmfx=JSON.parse(this.KS);P.e1.aE(H,q,JSON.parse(this.n6));this.n6=null;this.KS=null}else if(w.d=="confirm"){var g=JSON.stringify(q.add.lmfx),R=new dq([11,6],this);
R.data={B:[Q],h0:[this.KS],Np:[g],yX:[this.n6],vZ:[JSON.stringify(this.L8)]};H.c0(R);this.n6=null;this.KS=null;
if(g!=null){var h=JSON.parse(g);aU.nB(h);h.classID="Lefx";delete h.masterFXSwitch;var E=new aL(M.E.dp);
E.Pg=!0;E.data={fd:"set",mu:!0};var G=ih._K("Lyr",!0);G.v.splice(0,0,{t:"prop",v:{classID:"Prpr",keyID:"Lefx"}});
E.data.ei={__name:"Set",classID:"setd",null:G,T:{t:"Objc",v:h}};n.S(E)}}else if(w.d=="st_copy"){this.eh=[this.n6,this.KS];
this.n6=null;this.KS=null}else if(w.d=="st_paste"||w.d=="st_clear"){if(w.d=="st_paste"&&this.eh==null)return;
var k=w.j!=null?[w.j]:H.g.slice(0),$=[],p=[],X=[],C=[];for(var l=0;l<k.length;l++){var q=H.B[k[l]],D=P.e1.ne(H,q);
$.push(q.add.lmfx?JSON.stringify(q.add.lmfx):null);X.push(JSON.stringify(D));if(w.d=="st_paste"){p.push(this.eh[1]);
C.push(this.eh[0])}else{p.push(null);D.lrMd.v=0;D.Opct.v.val=100;D.iOpa.v.val=100;D.blIf={v:[]};for(var o=0;
o<10;o++)D.blIf.v.push(0,0,255,255);C.push(JSON.stringify(D))}}var R=new dq([11,6],this);R.data={B:k,h0:$,Np:p,yX:X,vZ:C};
this.KC(R.data,H);H.c0(R);this.n6=null;this.KS=null}else{var t=this.L8,h=null;if(w.d=="st_delsingle"){h=JSON.parse(this.KS);
h[d5.tS[w.GJ[0]]].v.splice(w.GJ[1],1);h=JSON.stringify(h)}if(h==null)delete q.add.lmfx;else q.add.lmfx=JSON.parse(h);
if(t!=null)P.e1.aE(H,q,t);var R=new dq([11,6],this);R.data={B:[w.j],h0:[this.KS],Np:[h],yX:[this.n6],vZ:[JSON.stringify(t)]};
H.c0(R);this.n6=null;this.KS=null}q.Sh.uK=!0;H.zi=!0;H.U()};P.e1.ne=function(w,n){if(n.add.iOpa==null)n.add.iOpa=255;
if(n.add.brst==null)n.add.brst=[1,1,1];var H=n.Ok()?["pass"].concat(eS.$Q):eS.$Q;return{lrMd:{v:H.indexOf(n.UM)},Opct:{v:{type:"#Prc",val:Math.round(n.opacity*100/255)},t:"UntF"},iOpa:{v:{type:"#Prc",val:Math.round(n.add.iOpa*100/255)},t:"UntF"},blIf:{v:n.wh.slice(0)},brst:{v:n.add.brst},gagl:{t:"UntF",v:{type:"#Ang",val:w.s9()}},agi:w.Sk(),Ok:n.Ok()}};
P.e1.aE=function(w,n,H){var y=n.Ok()?["pass"].concat(eS.$Q):eS.$Q;n.UM=y[H.lrMd.v];n.opacity=Math.round(H.Opct.v.val*255/100);
n.add.iOpa=Math.round(H.iOpa.v.val*255/100);n.wh=H.blIf.v.slice(0);n.add.brst=H.brst.v.slice(0);w.sK(H.gagl.v.val);
w.QF(H.agi)};P.e1.prototype.LL=function(w,n){for(var l=0;l<w.B.length;l++){var H=n.B[w.B[l]],y=w.h0[l];
if(y==null)delete H.add.lmfx;else H.add.lmfx=JSON.parse(y);P.e1.aE(n,H,JSON.parse(w.yX[l]));H.Sh.uK=!0}n.zi=!0;
n.U()};P.e1.prototype.KC=function(w,n){for(var l=0;l<w.B.length;l++){var H=n.B[w.B[l]],y=w.Np[l];if(y==null)delete H.add.lmfx;
else H.add.lmfx=JSON.parse(y);P.e1.aE(n,H,JSON.parse(w.vZ[l]));H.Sh.uK=!0}n.zi=!0;n.U()};P.nd=function(){P.rG.call(this,"Layer Comps",P.xt)};
P.nd.prototype=new P.rG;P.nd.prototype.dZ=function(w,n,H,y){var c=JSON.parse(JSON.stringify(H.PU)),Q=JSON.parse(JSON.stringify(H.PU)),q=null,S=null,A=null,V=-1,e=!1;
if(w.d=="delLC"){var d=P.nd.n3(H.PU,w.cm),N=H.PU.lastAppliedComp?H.PU.lastAppliedComp.v:0;Q.list.v.splice(d,1);
if(N==w.cm)delete Q.lastAppliedComp;q="Delete Layer Comp"}if(w.d=="editLC"){var d=P.nd.n3(H.PU,w.cm),b=Q.list.v[d].v;
if(w.xh!=null)b.Nm.v=w.xh;if(w.a2h!=null){var z=w.a2h,v=b.capturedInfo.v,T=v&(1<<z)-1;v=v>>z;if((v&1)==1)v--;
else v++;b.capturedInfo.v=(v<<z)+T}q="Layer Comp properties"}if(w.d=="setLC"){P.nd.ar(H);if(w.cm==0)delete Q.lastAppliedComp;
else Q.lastAppliedComp={t:"long",v:w.cm};q="Switch Layer Comp";e=!0}if(w.d=="updLC"){P.nd.ar(H);S=P.nd.afr(H,w.cm);
A=P.nd.t4(H,w.cm);Q.lastAppliedComp={t:"long",v:w.cm};q="Update Layer Comp";V=w.cm;e=!0}if(w.d=="addLC"){P.nd.ar(H);
var Y=1;for(var l=0;l<Q.list.v.length;l++)Y=Math.max(Y,Q.list.v[l].v.compID.v)+1;Y+=Math.floor(Math.random()*1e4);
var g={t:"Objc",v:{classID:"Comp",Nm:{t:"TEXT",v:"New Comp "+(Q.list.v.length+1)},compID:{t:"long",v:Y},capturedInfo:{t:"long",v:7}}};
Q.list.v.push(g);Q.lastAppliedComp={t:"long",v:Y};q="New Layer Comp";var R=P.nd.t4(H,Y);P.nd.eG(H,R,Y)}var h=new dq(q,this);
h.data={aw0:c,akw:Q,a4_:S,a9d:A,cm:V,kZ:e};this.KC(h.data,H);H.c0(h)};P.nd.prototype.KC=function(w,n){n.PU=w.akw;
n.zi=!0;if(w.a9d)P.nd.eG(n,w.a9d,w.cm);if(w.kZ){var H=n.PU.lastAppliedComp?n.PU.lastAppliedComp.v:0,y=P.nd.n3(n.PU,H),c=y==-1?null:n.PU.list.v[y].v,Q=c?c.capturedInfo.v:7;
P.nd.du(n,H,Q);n.U()}};P.nd.prototype.LL=function(w,n){n.PU=w.aw0;n.zi=!0;if(w.a4_)P.nd.eG(n,w.a4_,w.cm);
if(w.kZ){var H=n.PU.lastAppliedComp?n.PU.lastAppliedComp.v:0,y=P.nd.n3(n.PU,H),c=y==-1?null:n.PU.list.v[y].v,Q=c?c.capturedInfo.v:7;
P.nd.du(n,H,Q);n.U()}};P.nd.ar=function(w){if(w.PU.lastAppliedComp!=null||!w.jz)return;var n=P.nd.t4(w,0);
P.nd.eG(w,n,0);w.jz=!1};P.nd.fO=function(w,n,H){w.v.Hrzn.v+=n;w.v.Vrtc.v+=H};P.nd.n3=function(w,n){var H=w.list.v;
for(var l=0;l<H.length;l++)if(H[l].v.compID.v==n)return l;return-1};P.nd.a5v=function(w){var n=w.layerSettings.v,c=null;
if(n.length==0)return;var H="compList enab Ofst blendOptions Lefx FXRefPoint imageMask vectorMask layerSpecific".split(" "),y=n[0].v;
if(y.enab==null)y.enab={t:"bool",v:!0};if(y.Ofst==null)y.Ofst={t:"Objc",v:{classID:"null",Hrzn:{t:"long",v:0},Vrtc:{t:"long",v:0}}};
for(var l=0;l<n.length;l++){var Q=n[l].v;if(c==null)c=JSON.parse(JSON.stringify(Q));else for(var q=0;
q<H.length;q++){var S=H[q];if(Q[S])c[S]=JSON.parse(JSON.stringify(Q[S]))}n[l].v=JSON.parse(JSON.stringify(c))}};
P.nd.agL=function(w,n){var H=w.add.shmd.cmls,y=H.layerSettings.v;for(var c=0;c<y.length;c++){var Q=y[c].v,q=Q.compList.v[0].v;
if(q==n)return c}return-1};P.nd.aiN=function(w,n){var H=P.nd.agL(w,n);return H==-1?null:w.add.shmd.cmls.layerSettings.v[H].v};
P.nd.du=function(w,n,H){for(var l=0;l<w.B.length;l++){var y=w.B[l],c=y.add.shmd.cmls;if(c==null)continue;
var Q=c.layerSettings.v,q=P.nd.aiN(y,n);if(q==null){y.WH(!1);continue}if((H&1)!=0){if(q.enab)y.WH(q.enab.v);
else y.WH(!0)}if((H&2)!=0){if(q.Ofst){var S=q.Ofst.v,A=y.en(w),V=Math.round(S.Hrzn.v-A.x),e=Math.round(S.Vrtc.v-A.y);
if(V!=0||e!=0)P.xz.Om(w,[l],null,V,e)}}if((H&4)!=0){if(q.Lefx){var d=JSON.parse(JSON.stringify(q.Lefx.v));
aU.JX(d);if(JSON.stringify(d)!=JSON.stringify(y.add.lmfx)){y.add.lmfx=d;y.Sh.uK=!0}}else delete y.add.lmfx;
if(q.blendOptions){var N=q.blendOptions.v;if(N.Opct)y.opacity=Math.round(255*N.Opct.v.val/100);if(N.fillOpacity)y.add.iOpa=Math.round(255*N.fillOpacity.v.val/100);
if(N.Md)y.UM=y.add.lsct==c0.ho?"norm":eS.Yi(N.Md.v.BlnM)}else{y.opacity=255;y.UM=y.Ok()?"pass":"norm";
y.add.iOpa=255}}}};P.nd.afr=function(w,n){var H={};for(var l=0;l<w.B.length;l++){var y=w.B[l];if(y.add.shmd==null||y.add.shmd.cmls==null)continue;
H["l"+y.add.lyid]=JSON.parse(JSON.stringify(P.nd.aiN(y,n)))}return H};P.nd.t4=function(w,n){var H={};
for(var l=0;l<w.B.length;l++){var y=w.B[l],c=y.add.lyid;H["l"+c]=P.nd.aek(w,y,n)}return H};P.nd.aek=function(w,n,H){var y=n.add.shmd?n.add.shmd.cmls:null,c={classID:"null"},Q=n.en(w),q={t:"Objc",v:{classID:"null",Hrzn:{t:"long",v:Q.x},Vrtc:{t:"long",v:Q.y}}};
c.compList={t:"VlLs",v:[{t:"long",v:H}]};c.enab={t:"bool",v:n.tl()};c.Ofst=JSON.parse(JSON.stringify(q));
c.FXRefPoint=JSON.parse(JSON.stringify(y&&y.origFXRefPoint?y.origFXRefPoint:q));c.blendOptions={t:"Objc",v:{classID:"null",Md:{t:"enum",v:{BlnM:eS.Yf(n.UM)}},Opct:{t:"UntF",v:{type:"#Prc",val:100*n.opacity/255}},fillOpacity:{t:"UntF",v:{type:"#Prc",val:n.add.iOpa!=null?100*n.add.iOpa/255:100}}}};
if(n.add.vmsk){c.vectorMask={t:"Objc",v:{classID:"null"}};c.vectorMask.v.Ofst=JSON.parse(JSON.stringify(q))}if(n.add.lmfx){c.Lefx={t:"Objc",v:JSON.parse(JSON.stringify(n.add.lmfx))};
aU.nB(c.Lefx.v)}return c};P.nd.avK=function(w,n){var H=n.add.lyid;if(n.add.shmd==null)n.add.shmd={};
if(n.add.shmd.cmls==null){n.add.shmd.cmls={classID:"null",LyrI:{t:"long",v:H},layerSettings:{t:"VlLs",v:[{t:"Objc",v:P.nd.aek(w,n,0)}]}}}};
P.nd.eG=function(w,n,H){for(var l=0;l<w.B.length;l++){var y=w.B[l],c=y.add.lyid;P.nd.avK(w,y);var Q=y.add.shmd.cmls,q=Q.layerSettings.v,S=n["l"+c];
if(S!=null)S={t:"Objc",v:JSON.parse(JSON.stringify(S))};var A=P.nd.agL(y,H);if(A==-1){if(S==null)continue;
else q.push(S)}else{if(S==null)q.splice(A,1);else q[A]=S}}};P.nd.dv=function(w,n){for(var l=0;l<w.B.length;
l++){var H=w.B[l],y=H.add.lyid;if(H.add.shmd==null||H.add.shmd.cmls==null)continue;var c=H.en(w),Q=Math.round(c.x),q=Math.round(c.y);
if(!n){Q=-Q;q=-q}var S=H.add.shmd.cmls,A=S.layerSettings.v;if(S.origFXRefPoint)P.nd.fO(S.origFXRefPoint,-Q,-q);
for(var V=0;V<A.length;V++){var e=A[V].v;P.nd.fO(e.Ofst,Q,q);var d=e.imageMask,N=e.vectorMask;if(d&&d.v.Ofst)P.nd.fO(d.v.Ofst,Q,q);
if(N&&N.v.Ofst)P.nd.fO(N.v.Ofst,Q,q)}}};P.D1=function(){P.rG.call(this,"Adjust Edit",P.bf);this.OG=null;
this.Yn=null};P.D1.prototype=new P.rG;P.D1.F_=function(w,n,H,y){if(y)n/=4;var c=0,Q=0,q=255,S=0,A=0,V=255;
while(Q+w[c]<n){Q+=w[c];c++}while(S+w[q]<n){S+=w[q];q--}if(y){c-=Math.round(w[c]/(H/32));q+=Math.round(w[q]/(H/32));
if(c<0)A=Math.round(-c*255/(q-c));if(q>255)V=255-Math.round((q-255)*255/(q-c))}return[Math.max(c,0),Math.min(q,255),A,V,100]};
P.D1.prototype.dZ=function(w,n,H,y,c){var Q=w.d;if(Q=="auto"){var q=w.ME,S=P.D1.getData(H);for(var l=0;
l<S.length;l++){var A=S[l],V;if(q<3){}else{var e=gT.B1("hue2");fm.UN(e,0,[0,-100,0]);V=fb.QT("hue2",e)}fb.kS(V,A.G_,A.f1,A.U2)}P.D1.WP(H,S);
P.D1.wV(H,S,q<3?[4,16,q]:[19,7,0],this);H.U()}if(Q=="edit_layer")this.aoN(w,n,H,y);if(Q=="edit"||Q=="confirm"||Q=="cancel")this.RD(w,n,H,c,!0);
if(Q=="start"){if(H.g.length==0)return;var d=H.B[H.g[0]];if(d.add.SoLd&&d.Ks<=0&&H.np.length==0){var N=new aL(M.E.v,!0);
N.G=P.NJ;N.data={d:"start",e8:w.k0,X5:w.X5};n.S(N);return}if(!H.wJ(n,null,!0))return;if(kj[w.k0]&&w.X5==null){if(H.g.length!=1)alert("Will be applied to "+H.g.length+" layers.");
var N=new aL(M.E.L,!0);N.data={d:M.c.rL,Ln:"afw_"+w.k0};n.S(N)}else{this.RD({d:"edit",X5:w.X5,e8:w.k0},n,H,c);
this.RD({d:"confirm",e8:w.k0},n,H,c)}}};P.D1.prototype.aoN=function(w,n,H,y){var c=w.d,Q=H.g[0],q=H.B[Q],S=fb.get(q.add),A=JSON.parse(JSON.stringify(q.add[S])),N;
for(var V in w.Z)A[V]=w.Z[V];var e=JSON.parse(JSON.stringify(A));for(var V in fb.e2)if(fb.e2[V]==S)e.classID=V;
var d=H.history[H.Cf];if(d&&d.G==this&&d.data.EV!=null&&d.data.j==Q)N=d;else{var b=new aL(M.E.dp,!0),z={classID:"setd",null:ih._K("AdjL",!0),T:{t:"Objc",v:e}};
b.data={mu:!0,fd:"set",ei:z};n.S(b);var N=new dq([6,39],this);N.data={j:Q,EV:q.add[S],z2:A,DZ:z};H.c0(N)}N.data.z2=A;
N.data.DZ.T.v=e;this.KC(N.data,H)};P.D1.getData=function(w,n,H){var y=[],c=new cr(0,0,w.m,w.e),Q=w.np.length!=0?[-1-w.np[0]]:w.g;
for(var l=0;l<Q.length;l++){var q=Q[l],S=q<0?null:w.B[q],A={j:q,vm:q<0?1:S.Ks};y.push(A);var V=w.d4[-1-q];
if(0<=q)V=S.Ks<=0?null:S.Ks==1?S.LZ():S.iS(w).z;var e=V?V.rect:S.rect;if(w.P){A.U2=w.P.rect.Fa(n||V!=null?c:e)}else A.U2=n||V!=null?e.ld(c):e.clone();
if(H)A.U2=H[l].U2.clone();var d=A.U2.O();A.G_=O.R(d*4);if(V)P.sT.pJ(V.channel,V.rect,V.color,A.G_,A.U2);
else O.j1(S.buffer,e,A.G_,A.U2);A.f1=A.G_.slice(0);if(w.P){A.QZ=O.R(d);O.qS(w.P.channel,w.P.rect,A.QZ,A.U2)}}return y};
P.D1.ax8=function(w,n,H){if(n==null)return n;var y=fb.VS(w,n),Q;if(y==-1)return n;var c=H.length>>>2,q=O.ao(H),S=.001*c;
if(y==0||y==2)Q=[[0,255,0,255,100],P.D1.F_(q[1],S,c,y==2),P.D1.F_(q[2],S,c,y==2),P.D1.F_(q[3],S,c,y==2)];
if(y==1)Q=[P.D1.F_(q[0],S*.33,c,!1),[0,255,0,255,100],[0,255,0,255,100],[0,255,0,255,100]];var A=gT.B1("levl");
for(var l=0;l<4;l++)i7.UN(A,l,Q[l]);return A};P.D1.ait=function(w,n,H,y){var c,Q;if(H.t=="name"){var q=0;
for(var S=0;S<w.B.length;S++)if(w.B[S].getName()==H.v.val)q=S;if(w==n&&q==y.j){c=y.G_;Q=y.U2}else{var A=w.B[q];
c=A.buffer;Q=A.rect}}else{Q=new cr(0,0,w.m,w.e);c=w==n?y.c1:w.E$()}return[c,Q]};P.D1.prototype.RD=function(w,n,H,y){if(this.OG==null){if(w.e8=="aply")H.B[H.g[0]].extend(new cr(0,0,H.m,H.e));
this.OG=P.D1.getData(H,null,w.e8=="fade"?H.H_().data:null);if(w.e8=="aply"||w.e8=="matc")this.OG[0].c1=H.E$()}if(w.d=="edit"){this.Yn=[w.e8,w.X5];
var c=this.OG[0],Q=P.D1.ax8(w.e8,w.X5,c.G_),q=fb.QT(w.e8,Q);if(w.e8=="fade"||w.e8=="matc"||w.e8=="aply")q=w.X5;
if(q!=null){for(var S=0;S<this.OG.length;S++){var A=this.OG[S];if(w.Gf)O.Bq(A.G_,A.f1);else if(w.e8=="fade"){var V=eS.Yi(w.X5.Md.v.BlnM),e=w.X5.Opct.v.val/100,d=H.H_().data[S];
O.Bq(d.G_,A.f1);if(V=="norm")O.q.AF(A.G_,A.U2,A.f1,A.U2,null,null,null,A.U2,e);else{var N=hO.zF();N.t$=!0;
for(var l=0;l<d.G_.length;l+=4)if(d.G_[l+3]!=A.G_[l+3]){N=null;break}O.q.SG(V,A.G_,A.U2,A.f1,A.U2,A.U2,e,N)}}else if(w.e8=="matc"){var b;
if(q.noReference&&q.noReference.v)b=A.G_;else{var z=q.Srce.v,v=z[1].v.val,T=n.oE,Y=H;for(var l=0;l<T.length;
l++)if(T[l].name==v)Y=T[l];var g=P.D1.ait(Y,H,z[0],A);b=g[0]}gQ(A.G_,A.U2.m,A.U2.e,b,A.f1,[q.Lght.v,q.ClrR.v,q.Fade.v,q.neutralizeColor?q.neutralizeColor.v:!1])}else if(w.e8=="aply"){q=q.With.v;
var R=q.T.v,g=P.D1.ait(H,H,R[1],A),b=g[0],h=g[1],E=q.Clcl?q.Clcl.v.Clcn:null,V=E?eS.Yi(E):"norm",e=q.Opct?q.Opct.v.val/100:1,G=["RGB","Rd","Grn","Bl","Trsp"].indexOf(R[0].v.enum),Q=q.Invr&&q.Invr.v;
if(Q||G!=0){b=b.slice(0);if(Q)O.acr(b);if(G!=0){var k=O.R(h.O());O.RR(b,k,G-1);if(G==4)O.G$(k);for(var $=0;
$<3;$++)O.o2(k,b,$)}}if(E=="Add"||E=="Sbtr"){var p=1/q.Scl.v,X=q.Ofst.v,C=E=="Add"?1:-1,D=new Uint8ClampedArray(A.f1.buffer);
for(var l=0;l<b.length;l+=4){D[l]=(A.G_[l]+C*b[l])*p+X;D[l+1]=(A.G_[l+1]+C*b[l+1])*p+X;D[l+2]=(A.G_[l+2]+C*b[l+2])*p+X}}else{var N=hO.zF();
N.t$=q.PrsT&&q.PrsT.v;A.f1.fill(0);A.f1.set(A.G_);O.q.SG(V,b,h,A.f1,A.U2,A.U2,e,N)}}else fb.kS(q,A.G_,A.f1,A.U2)}P.D1.WP(H,this.OG)}}if(w.d=="cancel"){P.D1.a6J(H,this.OG);
this.OG=null}if(w.d=="confirm"){var o={fade:[2,11],aply:[2,12],matc:[4,18]},t=o[w.e8];if(t==null)t=fb.names[w.e8];
var u=fb.VS(w.e8,this.Yn[1]);if(u!=-1)t=[4,16,u];P.D1.wV(H,this.OG,t,this);this.OG=null;if(u==-1)P.D1.NT(n,this.Yn)}H.U()};
P.D1.NT=function(w,n){var H=n[0],y=n[1],c,Q;if(fb.LT[H]){c=fb.LT[H];if(kj[H])Q=y}if(gT.LT[H]){c=gT.LT[H];
if(kj[H])Q=y}if(H=="fade"){c="fade";Q=y}if(H=="matc"){c="matchColor";Q=y}if(H=="aply"){c="applyImageEvent";
Q=y}if(c==null)return;var q=new aL(M.E.dp,!0);q.data={mu:!0,fd:c};if(Q){Q=JSON.parse(JSON.stringify(Q));
q.data.ei=Q}w.S(q)};P.D1.a6J=function(w,n){P.D1.tL(w,n)};P.D1.wV=function(w,n,H,y){for(var l=0;l<n.length;
l++){var c=n[l],Q=w.B[c.j],q=c.j<0?w.d4[-1-c.j]:c.vm<=0?null:c.vm==1?Q.LZ():Q.iS(w).z;if(q){q.KU();q.Yh=!0;
if(Q)Q.qL(w)}else{Q.KU();Q.U()}delete c.f1;delete c.QZ}var S=new dq(H,y);S.data=n;w.c0(S);w.zi=!0};P.D1.WP=function(w,n,H){for(var l=0;
l<n.length;l++){var y=n[l],c=w.B[y.j],Q=H?y.G_:y.f1,q=y.U2;if(y.vm==0){c.extend(q);if(y.QZ){O.j1(y.G_,q,c.buffer,c.rect);
O.q.AF(Q,q,c.buffer,c.rect,y.QZ,q,0,q,1)}else O.j1(Q,q,c.buffer,c.rect)}else{var S=y.j<0?w.d4[-1-y.j]:y.vm==1?c.LZ():c.iS(w).z;
S.extend(q);if(y.QZ){var A=O.R(q.O()*4);O.Bq(y.G_,A);O.q.AF(Q,q,A,q,y.QZ,q,0,q,1);P.sT.aJ(A,q,S)}else P.sT.aJ(Q,q,S);
S.Yh=!0;if(c)c.qL(w)}if(c)c.U()}if(!H)P.D1.api(w,n)};P.D1.tL=function(w,n){for(var l=0;l<n.length;l++){var H=n[l],y=w.B[H.j],c=H.U2,Q=O.R(c.O()*4);
if(H.vm==0){O.j1(y.buffer,y.rect,Q,c);y.extend(c);O.j1(H.G_,c,y.buffer,y.rect);y.KU()}else{var q=H.j<0?w.d4[-1-H.j]:H.vm==1?y.LZ():y.iS(w).z;
P.sT.pJ(q.channel,q.rect,q.color,Q,c);q.extend(c);P.sT.aJ(H.G_,c,q);q.KU();q.Yh=!0;if(y)y.qL(w)}H.G_=Q;
if(y)y.U()}w.zi=!0};P.D1.api=function(w,n){var H=P.D1.arq(w),y=~H;if(H==16777215)return;for(var l=0;
l<n.length;l++){var c=n[l],Q=w.B[c.j],q=c.U2;if(c.vm!=0)continue;Q.extend(q);var S=q.x-Q.rect.x,A=q.y-Q.rect.y,V=Q.rect.m,e=new Uint32Array(c.G_.buffer),d=new Uint32Array(Q.buffer.buffer);
for(var N=0;N<q.e;N++)for(var b=0;b<q.m;b++){var z=N*q.m+b,v=(N+A)*V+(b+S);d[v]=d[v]&H|e[z]&y}Q.KU();
Q.U()}w.U()};P.D1.arq=function(w){var n=w.u.vE;return n[2]*16711680|n[1]*65280|n[0]*255};P.D1.prototype.LL=function(w,n){var H=n.B[w.j];
if(w.EV!=null)H.add[fb.get(H.add)]=w.EV;else P.D1.tL(n,w);n.U()};P.D1.prototype.KC=function(w,n){var H=n.B[w.j];
if(w.EV!=null)H.add[fb.get(H.add)]=w.z2;else P.D1.tL(n,w);n.U()};P.eD=function(){P.rG.call(this,"Filter Edit",P.NJ);
this.OG=null;this.Ye=null;this.d=null;this.Yn=null};P.eD.prototype=new P.rG;P.eD.prototype.dZ=function(w,n,H,y,c){if(w.d=="start"){if(H.g.length==0)return;
var Q=H.B[H.g[0]];if(Q.add.SoLd&&Q.Ks<=0&&H.np.length==0){}else if(!H.wJ(n,null,!0))return;var q=w.e8;
if((kj[q]||gT.a[q])&&w.X5==null){if(H.g.length!=1)alert("Will be applied to "+H.g.length+" layers.");
var S=new aL(M.E.L,!0);S.data=P.eD.axY(q,this.oF(H,q));n.S(S)}else{var A={d:"edit",e8:q,X5:w.X5,sH:this.oF(H)};
this.dZ(A,n,H,y,c);A.d="confirm";delete A.X5;this.dZ(A,n,H,y,c)}}if(w.d=="edit"||w.d=="cancel"||w.d=="confirm"){if(w.d=="edit")this.Yn=[w.e8,w.X5];
if(w.sH)this.abA(w,n,H,c);else this.aeZ(w,n,H,c)}if(w.d=="applylast"&&this.Yn!=null){var A={d:"edit",e8:this.Yn[0],X5:this.Yn[1],sH:this.oF(H)};
this.dZ(A,n,H,y,c);A.d="confirm";delete A.X5;this.dZ(A,n,H,y,c)}};P.eD.axY=function(w,n){var H=gT.a[w];
if(H)return{d:M.c.DY,G:H,ml:{sH:n}};else return{d:M.c.rL,Ln:"afw_"+w,sH:n}};P.eD.prototype.oF=function(w,n){var H=w.B[w.g[0]],y;
if(H.add.SoLd&&H.Ks<=0&&w.np.length==0){y={j:w.g[0],index:0};if(H.add.SoLd.filterFX!=null){var c=H.add.SoLd.filterFX.v.filterFXList.v;
y.index=c.length;for(var l=0;l<c.length;l++)if(gT.tu(c[l].v)==n&&gT.a[n])y.index=l}}return y};P.eD.prototype.abA=function(w,n,H,y){var c=H.B[w.sH.j],Q=w.e8;
if(w.d=="edit"){if(this.d==null){var q=gT.names[Q];if(q==null)q=fb.names[Q];if(Q=="blendOptions")q=[14,10];
this.d=new dq(q,this);this.d.data={sH:w.sH,a5a:JSON.parse(JSON.stringify(c.add.SoLd))}}if(!c.RL()){c.add.SoLd.filterFX=gT.RS();
this.d.data.hy=iC.ai8(c.add.SoLd.placed.v);H.rr(this.d.data.hy);c.W0(H)}var S=c.add.SoLd.filterFX.v.filterFXList.v;
if(S[w.sH.index]==null){S.push(gT.JM(Q,y))}if(w.X5){S[w.sH.index].v.enab.v=w.Gf!=!0;if(Q=="blendOptions")S[w.sH.index].v.blendOptions.v=w.X5;
else S[w.sH.index].v.Fltr.v=w.X5}this.d.data.ahS=JSON.parse(JSON.stringify(c.add.SoLd));this.KC(this.d.data,H)}if(w.d=="cancel"){if(this.d)this.LL(this.d.data,H);
this.d=null}if(w.d=="confirm"){if(this.d)H.c0(this.d);P.D1.NT(n,this.Yn);this.d=null}};P.eD.prototype.sO=function(w){return{b:w>>>16,J:w>>>8&255,k:w&255}};
P.eD.prototype.aeZ=function(w,n,H,y){if(this.OG==null){var c=gT.MZ(w.e8,w.X5);this.OG=P.D1.getData(H,c.x!=0||c.y!=0)}if(w.d=="edit"){var Q=JSON.stringify(w.X5);
if((w.X5==null||Q!=this.Ye)&&w.Gf!=!0)for(var l=0;l<this.OG.length;l++){var q=this.OG[l],S={rect:q.U2,buffer:q.G_},A={rect:q.U2,buffer:q.f1};
if(w.e8=="Avrg"&&q.QZ){S.buffer=q.G_.slice(0);O.CS(q.QZ,S.buffer)}gT.kS(w.e8,S,w.X5,this.sO(y.Ni),this.sO(y.uu),A,[H.add.lnk2?H.add.lnk2:[],H.B[H.g[0]].LZ(),H.d4,H._e()]);
if(w.e8=="Avrg"&&q.QZ){var V=q.G_.length;for(var l=0;l<V;l+=4)q.f1[l+3]=q.G_[l+3]}this.Ye=Q}P.D1.WP(H,this.OG,w.Gf)}if(w.d=="cancel"){P.D1.a6J(H,this.OG);
this.OG=null;this.Ye=null}if(w.d=="confirm"){P.D1.wV(H,this.OG,gT.names[w.e8],this);this.OG=null;this.Ye=null;
P.D1.NT(n,this.Yn)}H.U();H.zi=!0};P.eD.prototype.LL=function(w,n){if(w.sH){var H=n.B[w.sH.j];if(w.hy)n.Bu(w.hy);
H.add.SoLd=JSON.parse(JSON.stringify(w.a5a));if(H.RL())H.Sm(n);else{H.W0(n);H.Ks=0}}else P.D1.tL(n,w);
n.U();n.zi=!0};P.eD.prototype.KC=function(w,n){if(w.sH){var H=n.B[w.sH.j];if(w.hy)n.rr(w.hy);H.add.SoLd=JSON.parse(JSON.stringify(w.ahS));
if(H.RL())H.Sm(n);else H.W0(n);if(!H.H7())H.Vg+=32}else P.D1.tL(n,w);n.U();n.zi=!0};var h6={z8:"0",p6:"1",Wk:"2",K7:"3",FG:"3.5",cb:"4",wK:"5",vG:"6",Ie:"7",v:"8",Xs:"8.5",vR:"8.8",gb:"9",Ax:"10",A_:"11",im:"12",pE:"13",Ja:"14",W3:"15",et:"16",Zu:"17",Fz:"21",kF:"22",$T:"23",zz:"23.0",Oc:"23.1",JW:"23.2",WV:"23.3",v4:"23.4",bq:"23.5",Gh:"23.6",a4F:"30",XY:"31",Gr:"40",EO:"41",rO:"42"};
h6.EP={};h6.EP[h6.p6]=["abr","brushes",gI,[9,3],3];h6.EP[h6.Wk]=["grd","gradients",bR,[12,37],4];h6.EP[h6.K7]=["shc","contours",dD,[12,21],0];
h6.EP[h6.FG]=["acv","curves",aC,[4,2],0];h6.EP[h6.cb]=["asl","styles",dW,[12,22],5];h6.EP[h6.wK]=["pat","patterns",fM,[12,62],6];
h6.EP[h6.vG]=["csh","shapes",ca,[12,77],7];h6.EP[h6.Ie]=["aco","swatches",hQ,[9,8],0];h6.EP[h6.v]=["atn","actions",hr,[9,9],2];
h6.EP[h6.Xs]=["tpl","tpresets",kh,[9,12],0];h6.EP[h6.vR]=["icc","profiles",gE,"ICCs",8];function dq(w,n,H){if(H==null)H=!1;
this.name=w;this.G=n;this.SY=H;this.data=null;this.a99=Date.now()}var ih={};ih._K=function(w,n){var H={t:"Clss",v:{classID:w}};
if(n)H={t:"Enmr",v:{classID:w,typeID:"Ordn",enum:"Trgt"}};return{t:"obj ",v:[H]}};ih.Zs=function(w,n){var H={classID:"Lyr"};
H[w]=n;return{fd:"set",ei:{classID:"null",null:ih._K("Lyr",!0),T:{t:"Objc",v:H}}}};ih.a89=function(w,n,H,y,c){var Q=new aL(M.E.dp,!0),q=[],l=0,S=ih.Dj(n,H,y,q);
while(q.length!=0){var A=q.pop();l++;if(!A.C)continue;console.log(l-1);if(A.fd=="conditional"){var V=w.B[w.g[0]],e=A.ei.null.v.Cndt,d=!1;
if(e=="Bckg")d=!1;else if(e=="Pxel"&&w.BG(!1))d=!0;else if(e=="Adjs"&&fb.get(V.add))d=!0;else if(e=="Shp"&&V.add.vogk)d=!0;
else if(e=="Grup"&&V.Ok())d=!0;else if(e=="Opn"&&w!=null)d=!0;else if(e=="32Bt")d=!1;else if(e=="RGB")d=!0;
var N=A.ei.then,b=A.ei.else;if(d&&N)ih.Dj(n,N.v[0].v.val,N.v[1].v.val,q);if(!d&&b)ih.Dj(n,b.v[0].v.val,b.v[1].v.val,q)}else if(A.fd=="stop"){if(A.ei.Cntn&&A.ei.Cntn.v==!0)window.confirm(A.ei.Msge.v);
else{alert(A.ei.Msge.v);break}}else if(A.fd=="play"){var z=A.ei.null.v,v=new aL(M.E.L,!0);v.data={d:M.c.cX,Vm:[z[0].v.val,z[1].v.val]};
c.S(v)}else{Q.data={fd:A.fd,ei:A.ei};c.S(Q)}}};ih.Dj=function(w,n,H,y){var c;for(var l=0;l<w.length;
l++){if(w[l].hG!=H)continue;var Q=w[l].GN;for(var q=0;q<Q.length;q++){if(Q[q].hG!=n)continue;c=Q[q].GN}}var S=c.length;
for(var l=0;l<S;l++)y.push(c[S-1-l])};ih.a9A=function(w){var n=w.fd,H=w.ei,y,q,S,A,V;if(H&&H.null)y=H.null.v[0];
if(H&&y==null&&H.At)y=H.At.v[0];if(y&&y.t=="obj ")y=y.v[0];var c=y&&y.v?y.v.classID:null,Q=["purge"];
if(Q.indexOf(n)!=-1)return n[0].toUpperCase()+n.slice(1);if(n=="GEfc"||n=="paintDaubs")return i2.names[H.GEfk.v.GEft][1];
V=fb.LT;for(q in V)if(V[q]==n)S=q;V=gT.LT;for(q in V)if(V[q]==n)A=q;if(S){var e=fb.VS(S,H);if(e!=-1)return[4,16,e];
return fb.names[S]}if(A)return gT.names[A];var d=ih.a3L;if(n=="make"){if(y){if(c=="AdjL")return[6,1];
else if(c=="layerSection")return H.From?[6,9]:[6,20];else if(c=="Lyr")return[6,13];else if(c=="Chnl"&&y.v.enum=="Msk")return[6,2];
else if(c=="contentLayer")return[6,48,1];else if(c=="BckL")return"Make Background Layer";else if(c=="Path")return"Make Path";
else if(c=="TxLr")return"Make Text Layer";else if(c=="slice")return"Make Slices";else if(c=="Dcmn")return[11,7];
else if(c=="Gd")return[23,4]}if(H.Nw){c=H.Nw.v.classID;if(c=="Dcmn")return[11,7];else if(c=="Chnl"||c=="SCch")return"New Channel"}}else if(n=="deselect"){if(c=="Path")return"Deselect current path";
else throw c}else if(n=="draw"){return"Draw"}else if(n=="select"){if(c=="Chnl")return"Select "+(y.v.enum=="Msk"?"Mask ":"")+"Channel";
else if(c=="Mn")return"Select Panel \""+y.v.enum+"\"";else if(c=="Lyr"){if(y.t=="Enmr")return"Select "+{Bckw:"Backward",Frwr:"Forward",Back:"Back",Frnt:"Front"}[y.v.enum]+" Layer";
return"Select Layer \""+y.v.val+"\""}else if(c=="Path")return"Select Path";else if(c=="Brsh")return"Select Brush";
else if(c=="Dcmn")return"Select Document"}else if(d[n]&&c=="Chnl"){var N=y.v.keyID=="fsel";return d[n]+" "+(N?"Selection":"Channel")}else if(n=="set"){if(c=="Lyr")return"Set Current Layer";
else if(c=="AdjL")return[6,39];else if(c=="contentLayer")return[6,48,2];else if(c=="Prpr"){var b=y.v.keyID;
if(b=="TxtS")return"Set Text Style";else if(b=="paragraphStyle")return"Set Paragraph Style";else if(b=="Lefx")return[11,6];
else console.log(b)}else if(c=="Clr")return"Set "+(y.v.keyID=="FrgC"?"Foreground":"Background")+" color";
else if(c=="Brsh")return"Set Brush";else if(c=="Path")return"Set Work Path";else console.log(c)}else if(n=="move"){if(c=="Lyr")return"Move Layer";
else if(c=="Chnl"&&y.v.keyID=="fsel")return[7,7];else console.log(c)}else if(n=="show"||n=="hide"){var z="";
if(c=="Lyr")+"Layer";if(c=="Chnl")+"Channel";return(n=="show"?"Show":"Hide")+" "+z}else if(n=="reset"){if(c=="Clr")return"Reset Colors"}else if(n=="exchange"){if(c=="Clr")return[22,7,0]}else if(n=="rotateEventEnum")return[2,5];
else if(n=="flip"){var v=H.Axis.v.Ornt=="Hrzn";return[[2,6],[22,4,v?2:3]]}if(c=="Chnl"){if(n=="duplicate"){if(y.v.keyID=="fsel")return"Selection to Channel";
else return"Duplicate Channel"}if(n=="delete")return"Delete Channel"}if(n=="transform")return y&&y.v.keyID=="fsel"?[7,10]:[10,16];
var T={cut:[5,0],copyEvent:[5,1],copyToLayer:[6,49,0],cutToLayer:[6,49,1],copyMerged:[5,7],paste:[5,2],close:[1,12,0],save:[1,2],groupEvent:[6,18],ungroup:[6,19],duplicate:[6,0],mergeLayersNew:[6,12,0],mergeVisible:"Merge Visible",flattenImage:[6,12,1],updatePlacedLayer:[6,36,1],fade:[2,11],applyImageEvent:[2,12],matchColor:[4,18],fill:[2,3],colorRange:[7,8],desaturate:[19,7,0],delete:H?c=="Lyr"?[6,31]:"Delete Path":[2,2],align:[20,4,0],applyLocking:[6,57,1],crop:[11,12,1],placedLayerEditContents:"Edit Contents",placedLayerExportContents:"Export Contents",placedLayerReplaceContents:"Replace Contents",convertMode:"Convert Mode",grow:"Grow Selection",similar:"Similar Selection",newPlacedLayer:[6,7,0],selectNoLayers:"Deselect Layers",canvasSize:[11,3],imageSize:[11,10],rasterizeLayer:[6,8],revealAll:[11,12,2],divide:"Divide Current Slice",collapseAllGroupsEvent:"Collapse All Groups",conditional:"If"},Y=T[n];
if(Y==null)Y=ih.a4N[n];if(Y)return Y;return n};ih.a4N={border:[7,9],smoothness:[19,3,0],expand:[7,4],contract:[7,5],feather:[7,6],inverse:[7,2]};
ih.a3L={set:"Set",add:"Add Transparency",addTo:"Add To",subtract:"Subtract Transparency",subtractFrom:"Subtract From",interfaceIconFrameDimmed:"Intersect Transparency",interfaceWhite:"Intersect With"};
ih.a0p=function(w,n,H,y){var c=w.fd,Q=w.ei,q=!1,S=new aL(M.E.v,!0),e,d,N,b;S.G=P.YV;var A=new aL(M.E.L,!0),V=["purge","updatePlacedLayer","convertMode","convertToProfile"];
if(V.indexOf(c)!=-1)return;b=fb.LT;for(e in b)if(b[e]==c)d=e;b=gT.LT;for(e in b)if(b[e]==c)N=e;if(c=="fade")d=c;
if(c=="matchColor")d="matc";if(c=="applyImageEvent")d="aply";if(d){S.G=P.bf;S.data={d:"start",k0:d,X5:Q}}else if(N){S.G=P.NJ;
S.data={d:"start",e8:N,X5:Q}}else if(c=="GEfc"||c=="paintDaubs"){S.G=P.NJ;S.data={d:"start",e8:"GEfc",X5:Q}}else if(c=="imageSize"||c=="canvasSize"||c=="revealAll"||c=="trim"||c=="crop"){S.G=P.yR;
S.data={d:"fromAction",nG:w}}else if(c=="fill"||c=="stroke"||c=="delete"&&Q==null){var z=null;if(y.g.length!=0)z=y.B[y.g[0]];
var v=O.ps(H.Ni);if(z!=null&&c=="fill"&&z.add.TySh){var T="var c = new SolidColor();  c.rgb.red="+v.b+";  c.rgb.green="+v.J+";  c.rgb.blue="+v.k+";  app.activeDocument.activeLayer.textItem.color = c;";
A.data={d:M.c._t,kB:T}}else if(z!=null&&c=="delete"&&z.add.TySh){S.G=P.nr;S.data={d:"insertText",Z:""}}else if(z!=null&&c=="fill"&&z.hu()){var S=new aL(M.E.dp,!0),Q={classID:"setd",null:ih._K("contentLayer",!0),T:{t:"Objc",v:{}}};
P.LV.AR({Clr:{v:O.M.Yw(O.ps(H.Ni))}},Q.T.v,0);S.data={fd:"set",ei:Q};n.S(S);return}else{S.G=H.ZR==P.BJ?P.BJ:P.p6;
S.data={d:"fromAction",nG:w}}}else if(c=="colorRange"||c=="grow"||c=="similar"){S.G=P.XZ;S.data={d:"fromAction",nG:w}}else if(c=="set"&&Q&&Q.T&&Q.T.v.Ordn=="Al"&&H.ZR==P.nr&&n.vf().i7()){S.G=P.nr;
S.data={d:"selectAll"}}else if(ih.a4N[c]||ih.a3L[c]&&(!1||Q.With&&Q.With.v[0].v.keyID=="fsel"||Q.From&&Q.From.v[0].v.keyID=="fsel"||Q.null&&Q.null.v[0].v.keyID=="fsel"||Q.T.v[0]&&Q.T.v[0].v.keyID=="fsel")){S.G=P.pj;
S.data={d:"fromAction",nG:w}}var Y={copyToLayer:a.xC,cutToLayer:a.lg,mergeLayersNew:a.s$,rasterizeLayer:a.a6H,mergeVisible:a.ii,flattenImage:a.a4m,newPlacedLayer:a.Oq};
if(Y[c])S.data={d:Y[c],ei:Q};if(S.data){n.S(S);return}if(c=="collapseAllGroupsEvent"){for(var l=0;l<y.B.length;
l++){var z=y.B[l];if(z.Ok())z.add.lsct=c0.$g}y.qF=!0;return}if(c=="desaturate"){S.G=P.bf;S.data={d:"auto",ME:3};
if(y&&y.B[y.g[0]].add.SoLd==null)n.S(S);return}if(c=="close"){if(Q&&Q.Svng.v.YsN=="Ys"){A.data={d:M.c.Da};
n.S(A)}A.data={d:M.c.fT,jQ:y};n.S(A);return}if(c=="save"){A.data={d:M.c.Da};n.S(A);return}if(c=="copyMerged"){A.data={d:M.c.sX,Wi:!0,g1:!0};
n.S(A);return}if(c=="placedLayerReplaceContents")A.data={d:M.c.hN,OQ:!0};var Y={placedLayerEditContents:M.c.a6q,placedLayerExportContents:M.c.a9F,copyEvent:M.c.sX,paste:M.c.Yu};
if(Y[c])A.data={d:Y[c],g1:!0};if(A.data){n.S(A);return}var R=Q.null?Q.null.v:null,h=R?R[0].v.classID:"";
if(c=="make"){if(Q.null==null&&Q.Nw)h=Q.Nw.v.classID;if(h=="AdjL"){S.data={d:a.j9,ei:Q}}else if(h=="layerSection"){S.data=Q.From?{d:a.Tl}:{d:a.vB};
if(Q.Usng){var E=Q.Usng.v;if(E.Nm)S.data.xh=E.Nm.v;if(E.Clr)S.data.k_=ih.WG(E)}}else if(h=="Lyr"){if(Q.Usng&&Q.Usng.v.length==2)S.data={d:a.a1Q};
else{S.data={d:a.So};if(Q.Usng)S.data.xh=Q.Usng.v.Nm.v;if(Q.below&&Q.below.v)S.data.art=!0}}else if(h=="Chnl"&&Q.At&&Q.At.v[0].v.enum=="Msk"){S.data={d:a.aU,Ny:Q.Usng.v.UsrM}}else if(h=="Chnl"||h=="SCch"){S.data={d:a.cF,cl:"fromAction",Z:w}}else if(h=="contentLayer"){S.data={d:a.wn,ei:Q}}else if(h=="BckL"){y.B[y.g[0]].abk();
return}else if(h=="Dcmn"){if(Q.Nw==null)return;var G=Q.Nw.v;A.data={d:M.c.uJ,z3:iC.a33(G,H)}}else if(h=="Ptrn")A.data={d:M.c.iI,PY:0};
else if(h=="Path"){S.G=P.ko;S.data={d:"pathedit",cl:"fromsel"}}else if(h=="TxLr"){S.G=P.nr;S.data={d:"fromAction",nG:w}}else if(h=="slice"){S.G=P.Fn;
S.data={d:"fromAction",nG:w}}else if(h=="Gd"){var k=[[],[]],G=Q.Nw.v;k[G.Ornt.v.Ornt=="Vrtc"?0:1].push(G.Pstn.v.val);
var $=ey.s7(k);P.xz.Pw($,y._P());S.G=P.DX;S.data={d:"gids",wC:$}}else{console.log(c,h,Q);throw"e"}}else if(c=="divide"){S.G=P.Fn;
S.data={d:"fromAction",nG:w}}else if(c=="deselect"){if(h=="Path"){y.SV=[];y.t7=[];y.qF=y.Va=!0;return}else throw h}else if(c=="selectNoLayers"){y.g=[];
y.zi=!0}else if(c=="select"){var p={PcTl:P.BJ,PbTl:P.p6,moveTool:P.DX,cloneStampTool:P.bX,typeCreateOrEditTool:P.nr,artboardTool:P.G8,marqueeRectTool:P.pj,typeVerticalCreateOrEditTool:P.CC,perspectiveCropTool:P.JJ,marqueeEllipTool:P.atJ,eyedropperTool:P.om,eraserTool:P.XN,pathComponentSelectTool:P.ko,lassoTool:P.Y4,backgroundEraserTool:P.Sd,directSelectTool:P.Dl,polySelTool:P.aul,rectangleTool:P.S0,magneticLassoTool:P.afu,gradientTool:P.Dn,quickSelectTool:P.$b,bucketTool:P.a7Y,ellipseTool:P.sr,magicWandTool:P.XZ,blurTool:P.ly,polygonTool:P.DG,cropTool:P.yR,sharpenTool:P._H,lineTool:P.Te,sliceTool:P.Fn,smudgeTool:P.$0,customShapeTool:P.ri,sliceSelectTool:P.Pj,dodgeTool:P.TY,spotHealingBrushTool:P.m0,burnInTool:P.NG,saturationTool:P.Ge,penTool:P.f2,redEyeTool:P.bp,freeformPenTool:P.Ea,rulerTool:P.s0,paintbrushTool:P.p6,handTool:P.em,pencilTool:P.BJ,zoomTool:P.uD,objectSelectTool:P.axV,healingBrushTool:P.pT,patchTool:P.eO,contentAwareMoveTool:P._3,colorReplacementBrushTool:P.dQ,curvaturePenTool:P.any,rotareViewTool:P.xy};
if(h=="Lyr"){var X=Q.selectionModifier,C=X?X.v.selectionModifierType:null,D=ih.aI(y,R[0]),o=0;if(D==-1){alert("Layer "+R[0].v.val+" does not exist.");
return}var z=y.B[D];if(z.Ok()&&z.LZ()&&X==null)o=1;S.data={d:a.$C,j:D,tH:C?["addToSelection","addToSelectionContinuous"].indexOf(C):null,uk:o}}else if(h=="Path"){if(R[0].v.keyID=="WrPt"){y.SV=[0];
y.qF=y.Va=!0;return}else throw R[0]}else if(h=="Chnl"){S.data={d:a.$C,j:D,uk:R&&R[0].v.enum=="RGB"?0:1}}else if(h=="Dcmn"){if(n.oE.length<2)return;
A.data={d:M.c.afG,dir:Q.null.v[0].v.val}}else if(h=="Brsh"){var t=H.Sr.list,u;for(var l=0;l<t.length;
l++){if(t[l].v.Nm.v==R[0].v.val)u=t[l].v}A.data={d:M.c.Yj,PY:h6.Ja,Aq:u}}else if(h=="Mn"){if(R[0].v.enum=="Scl")A.data={d:M.c.DY,G:P.xM,ml:{Ny:3}};
if(R[0].v.enum=="Plce")A.data={d:M.c.hN,aiq:!0};if(R[0].v.enum=="ZmIn"){S.G=P.uD;S.data={d:"zoom",wy:!0}}if(R[0].v.enum=="ZmOt"){S.G=P.uD;
S.data={d:"zoom",wy:!1}}if(R[0].v.enum=="FtOn"){S.G=P.uD;S.data={d:"adapt",Z:"fitscr"}}}else if(p[h]){A.data={d:M.c.DY,G:p[h]}}else throw h}else if(c=="draw"){S.G=P.ko;
S.data={d:"fromAction",nG:w}}else if(c=="gradientClassEvent"){S.G=P.Dn;S.data={d:"fromAction",nG:w}}else if((c=="set"||c=="reset"||c=="exchange")&&h=="Clr"){A.data={d:M.c.Yj,PY:h6.Fz,cl:c=="reset"?3:2};
if(c=="set"){A.data.cl=R[0].v.keyID=="FrgC"?0:1;var m=O.M.cH(Q.T.v);A.data.Z=m.b<<16|m.J<<8|m.k}}else if(c=="set"){if(h=="AdjL"){var U=Q.T.v.classID;
U=fb.e2[U];S.G=P.bf;if(U)S.data={d:"edit_layer",Z:Q.T.v}}else if(h=="Lyr"){var I=Q.T.v,D=ih.aI(y,R[0]);
for(var x in I){if(x=="classID")continue;S.G=P.YV;if(x=="Nm")S.data={d:a.$w,name:I.Nm.v};else if(x=="Opct")S.data={d:a.eq,z2:Math.round(I.Opct.v.val*255/100)};
else if(x=="fillOpacity")S.data={d:a.OY,z2:Math.round(I.fillOpacity.v.val*255/100)};else if(x=="Md")S.data={d:a.Cx,z2:eS.HN.indexOf(I.Md.v.BlnM)+(y.B[D].Ok()?1:0)};
else if(x=="Usrs")S.data={d:a.sz,j:D};else if(x=="Blnd"){S.G=P.C8;S.data={d:"setstl",j:D,Z:{blendOptions:{t:"objc",v:I}}};
n.S(S);S.data={d:"confirm",j:D}}else if(x=="userMaskFeather"||x=="userMaskDensity"){var J=I.userMaskFeather,r=I.userMaskDensity,D=y.g[0],Z=y.B[D].rP(0);
if(J)Z.rF=J.v.val;if(r)Z.g7=r.v.val;S.data={d:a.Q$,_Y:D,xa:Z}}else if(x=="Clr"){var v=ih.WG(I);S.data={d:a.LD,aoS:v}}else if(x=="Lefx")ih.aun(n,D,I.Lefx.v,H);
else{console.log(Q);throw x}if(S.data){n.S(S);delete S.data}}S.data={};var z=y.B[D];z.aqp()}else if(h=="Prpr"){var I=JSON.parse(JSON.stringify(Q.T.v)),D=ih.aI(y,Q.null.v[1]),z=y.B[D],f=R[0].v.keyID;
if(f=="TxtS"||f=="paragraphStyle"){var F=z.add.TySh,_=JSON.parse(JSON.stringify(F.EB)),K=j1.md(_),B=j1.ni(_,0,K.length-2);
if(f=="TxtS")j1.a6O(I,B);else j1.a6p(I,B);j1.Xe(_,0,K.length-1,B);S.G=P.nr;S.data={d:"newED",mx:D,ln:_}}else if(f=="Lefx"){for(var ij in I)if(I[ij].v){if(ij=="Scl")I[ij].v.val=100}ih.aun(n,D,I,H);
S.data={}}else throw f}else if(h=="contentLayer"){var D=ih.aI(y,R[0]),I=Q.T.v;if(I.classID=="shapeStyle")I=I.FlCn.v;
var W={solidColorLayer:0,gradientLayer:1,patternLayer:2}[I.classID],L=P.S2.bH(y,D),N=L.SU==W+1?L.WL:d5.Um[W];
N=JSON.parse(JSON.stringify(N));P.LV.AR(I,N,W);S.data={d:a.pk,uy:[D],OO:!0,Z:{SU:W+1,WL:N}}}else if(h=="Brsh"){var u=JSON.parse(JSON.stringify(H.Sr.TX)),i=Q.T.v;
if(i.masterDiameter)u.Brsh.v.Dmtr.v.val=i.masterDiameter.v.val;else console.log("unknown brush parameters");
A.data={d:M.c.Yj,PY:h6.Ja,Aq:u}}else if(h=="Path"){S.G=P.ko;S.data={d:"fromAction",nG:w}}else{console.log(R[0],Q);
throw h}}else if(c=="move"){if(h=="Lyr"){var I=Q.T.v;if(I.classID=="Ofst"){S.data={d:"trsl",aH:I.Hrzn.v.val,z$:I.Vrtc.v.val};
S.G=P.DX}else{var e3,eE;if(I[0].t=="Enmr"){if(I[0].v.enum=="Frnt")eE=0;else if(I[0].v.enum=="Nxt")eE=1;
else if(I[0].v.enum=="Prvs")eE=2;else if(I[0].v.enum=="Back")eE=3;else throw"e"}else e3=I[0].v.val;S.data={d:a.JP,target:e3,cl:eE,a2q:Q.Dplc?Q.Dplc.v:!1}}}else if(h=="Chnl"&&R[0].v.keyID=="fsel"){S.G=P.pj;
S.data={d:"fromAction",nG:w}}}else if(c=="groupEvent"||c=="ungroup")S.data={d:a.vg};else if(c=="show"||c=="hide"){var ec=R[0].v;
for(var l=0;l<ec.length;l++){var gw=ec[l],h=gw.v.classID;if(h=="Lyr"){if(S.data==null)S.data={d:a.Rw,uy:[]};
var D=ih.aI(y,gw);if(D==-1)continue;var bl=y.B[D].tl();if(c=="show"&&bl||c=="hide"&&!bl)continue;S.data.uy.push(D)}else if(h=="Chnl"){S.data={d:a.cF,cl:"fromAction",Z:w}}else if(h=="filterFX"){if(gw.v.val!=null)S.data={d:a.va,index:gw.v.val-1};
S.data={d:a.SZ}}}}else if(c=="rotateEventEnum"){S.G=h=="Lyr"?P.xM:P.yR;var cD=Q.Angl.v.val;S.data={d:"rot",hG:[2,5],Z:-cD*Math.PI/180}}else if(c=="flip"){S.G=h=="Lyr"?P.xM:P.yR;
var a$=Q.Axis.v.Ornt=="Hrzn",hJ=a$?new ce(-1,1):new ce(1,-1);S.data={d:"scl",hG:[[2,6],[22,4,a$?2:3]],Z:hJ}}else if(c=="transform"){var ei=1,df=1,bM=0,ib=0,fI=0,eU=0,gK=0;
if(Q.Wdth)ei=Q.Wdth.v.val/100;if(Q.Hght)df=Q.Hght.v.val/100;if(Q.Skew){var bs=Q.Skew.v;bM=bs.Hrzn.v.val;
ib=bs.Vrtc.v.val}if(Q.Ofst){var km=Q.Ofst.v;eU=km.Hrzn.v.val;gK=km.Vrtc.v.val}if(Q.Angl)fI=Q.Angl.v.val;
var ip=new b7;ip.concat(new b7(ei,ei*Math.tan(ib*Math.PI/180),df*Math.tan(bM*Math.PI/180),df,0,0));ip.rotate(-fI*Math.PI/180);
ip.translate(eU,gK);var fl=O.K.og(ip);if(Q.Usng){var km=Q.Usng.v;fl[6]=km.Hrzn.v.val/100;fl[7]=km.Vrtc.v.val/100}var b3={Qcsa:4,Qcs0:0,Qcs1:2,Qcs2:8,Qcs3:6,Qcs4:1,Qcs5:5,Qcs6:7,Qcs7:3}[Q.FTcs.v.QCSt];
if(b3==null)throw Q.FTcs.v.QCSt;var R=Q.null;if(R&&R.v instanceof Array)R=R.v[0];var D=R?ih.aI(y,R):null;
if(D==-1)D=null;S.G=R&&R.v.keyID=="fsel"?P._c:P.xM;S.data={d:"dtr",An:b3,Z:fl,cB:Q.warp}}else if(c=="duplicate"){if(h=="Chnl")S.data={d:a.cF,cl:"fromAction",Z:w};
else S.data={d:a.Bc,xh:Q.Nm?Q.Nm.v:null}}else if(c=="delete"){if(h=="filterFX"){if(R[0].v.val!=null)S.data={d:a.a5,bg:R[0].v.val-1};
else S.data={d:a.$P}}else if(h=="Path"){S.G=P.ko;S.data={d:"pathedit",cl:"del"}}else if(h=="Lyr")S.data={d:a.oM};
else if(h=="Chnl"&&R[0].v.enum=="Msk")S.data={d:a.Xg};else if(h=="Chnl")S.data={d:a.cF,cl:"fromAction",Z:w};
else throw h}else if(c=="align"){if(Q.Aply&&Q.Aply.v.projection=="Auto"){S.G=P.yR;S.data={d:"auto-align"}}else{S.G=P.DX;
var dY=Q.Usng.v.ADSt,d={AdLf:0,AdCH:1,AdRg:2,AdTp:4,AdCV:5,AdBt:6}[dY];if(d==null)throw dY;S.data={d:"algn",Z:d}}}else if(c=="applyLocking"){var k4=Q.layerLocking.v,aK;
if(k4.protectTransparency)aK=[[k4.protectTransparency.v],[0]];else if(k4.protectNone)aK=[[!1,!1,!1,!1],[0,1,2,31]];
else{console.log(k4);throw"e"}S.data={d:a.Cz,z2:aK}}if(S.data)n.S(S);else if(A.data)n.S(A);else{console.log(w);
alert("Unknown action \""+c+"\"");throw"e"}};ih.aun=function(w,n,H,y){H=JSON.parse(JSON.stringify(H));
aU.JX(H);if(H.masterFXSwitch==null)H.masterFXSwitch={t:"bool",v:!0};console.log(H);var c=d5.tS;for(var Q=0;
Q<c.length;Q++)if(H[c[Q]]){for(var l=0;l<H[c[Q]].v.length;l++){var q=H[c[Q]].v[l].v,S=q.TrnS;if(S==null)S=q.MpgS;
if(S&&S.v.Crv==null){var A=S.v,V=A.Nm.v.split("=").pop(),e=y.KH;for(var d=0;d<e.length;d++){var N=e[d].Nm.v.split("=").pop();
if(N==V)A.Crv=JSON.parse(JSON.stringify(e[d].Crv))}if(S.v.Crv==null){console.log(S);throw"e"}}}}var b=new aL(M.E.v,!0);
b.G=P.C8;b.data={d:"setstl",j:n,Z:{Lefx:{t:"objc",v:H}}};w.S(b);b.data={d:"confirm",j:n};w.S(b)};ih.WG=function(w){var n={None:0,Rd:1,Orng:2,Ylw:3,Grn:4,Bl:5,Vlt:6,Gry:7}[w.Clr.v.Clr];
if(n==null)throw w.Clr.v.Clr;return n};ih.aI=function(w,n){var H=1e6,y=0,c=w.B.length;for(var l=0;l<w.g.length;
l++){H=Math.min(H,w.g[l]);y=Math.max(y,w.g[l])}var Q=n.t,q=-1;if(Q=="name"){var S=n.v.val,q=-1;for(var l=0;
l<c;l++)if(w.B[l].getName()==S){q=l;break}}else if(Q=="Enmr"){if(w.g.length!=0)q=w.g[0];if(n.v.enum=="Frwr")q=y+1;
if(n.v.enum=="Bckw")q=H-1;if(n.v.enum=="Back")q=0;if(n.v.enum=="Frnt")q=c-1;q=(q+c)%c}else if(Q=="prop"){if(n.v.keyID=="Bckg")q=0}return q};
var fb={};fb.names={brit:[4,0],levl:[4,1],curv:[4,2],expA:[4,3],vibA:[4,4],hue2:[4,5],blnc:[4,6],blwh:[4,7],phfl:[4,8],mixr:[4,9],clrL:[4,10],nvrt:[4,11],post:[4,12],thrs:[4,13],grdm:[4,14],selc:[4,15],rplc:[4,17]};
fb.ap_=["expA","clrL","selc"];fb.mw=[[13,1,1],[13,1,3],[13,1,4],[13,1,11],[13,1,5],[13,1,12]];fb.aiV=[[13,1,11],[13,1,12],[13,1,3],[13,1,10]];
fb.LQ=[[13,1,1],[13,1,4],[13,1,5]];fb.LA={BrgC:"brit",Lvls:"levl",Crvs:"curv",Exps:"expA",vibrance:"vibA",HStr:"hue2",ClrB:"blnc",BanW:"blwh",photoFilter:"phfl",Invr:"nvrt",Pstr:"post",Thrs:"thrs",GrMp:"grdm",SlcC:"selc",ChnM:"mixr",colorLookup:"clrL",rplc:"rplc"};
fb.e2=function(){var w=JSON.parse(JSON.stringify(fb.LA));delete w.GrMp;w.GdMp="grdm";return w}();fb.LT={brit:"brightnessEvent",levl:"levels",curv:"curves",expA:"exposure",vibA:"vibrance",hue2:"hueSaturation",blnc:"colorBalance",blwh:"blackAndWhite",phfl:"photoFilter",mixr:"channelMixer",clrL:"colorLookup",nvrt:"invert",post:"posterization",thrs:"thresholdClassEvent",grdm:"gradientMapEvent",selc:"selectiveColor",rplc:"replaceColor"};
fb.keys={levl:[b8.NX,b8.qm],curv:[b8.NX,b8.nH],hue2:[b8.NX,b8.LF],nvrt:[b8.NX,b8.Vp],blnc:[b8.NX,b8.bU]};
fb.ajE=function(w){var n=gT.B1("mixr");n.Mnch={t:"bool",v:w.qj};function H(y,l){var c={classID:"ChMx"},Q={Rd:0,Grn:1,Bl:2,Cnst:4};
for(var q in Q)c[q]={t:"UntF",v:{type:"#Prc",val:y[l+Q[q]]}};return{t:"Objc",v:c}}if(w.qj)n.Gry=H(w.Z,0);
else{n.Rd=H(w.Z,0);n.Grn=H(w.Z,5);n.Bl=H(w.Z,10)}return n};fb.Xk=function(w){function n(y,c,l){var Q={Rd:0,Grn:1,Bl:2,Cnst:4};
for(var q in Q)if(y[q])c[l+Q[q]]=y[q].v.val}var H={qj:!1,Z:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]};
if(w.Mnch&&w.Mnch.v)H.qj=!0;if(H.qj)n(w.Gry.v,H.Z,0);else{n(w.Rd.v,H.Z,0);n(w.Grn.v,H.Z,5);n(w.Bl.v,H.Z,10)}return H};
fb.get=function(w){for(var n in fb.names)if(w[n]!=null)return n;return null};fb.QT=function(w,n){var H=fb.fK,y;
if(w=="brit"){var c=n.Brgh?n.Brgh.v:0,Q=n.Cntr?n.Cntr.v:0,q=n.useLegacy?n.useLegacy.v:!1;if(q){var S=c/255,A=1+Q/100;
if(A>1)A=1+Math.tan(Math.PI/2*Q/101);var V=(1-A)/2,e=O.Rc.mf(S,S,S),d=[A,0,0,V,0,A,0,V,0,0,A,V,0,0,0,1],N=O.Rc.multiply(e,d),b=new O.$Z(256);
for(var l=0;l<256;l++)b.b[l]=l;O.Rc.transform(b,b,N);y={type:H.ti,t9:b.b,K0:b.b,$X:b.b,Oj:!1,EG:!1}}else{var z=1024,v=-30+60*(Q+100)/200,T=[];
for(var l=0;l<4;l++)T.push(O.hT.UH(l/3*255,l/3*255,!0));T[1].v.Hrzn.v=64;T[1].v.Vrtc.v=64-v;T[2].v.Hrzn.v=128+64;
T[2].v.Vrtc.v=128+64+v;T.sort(function(fB,bF){return fB.v.Hrzn.v-bF.v.Hrzn.v});var Y=O.hT.ea(T,z);function g(fB,z){var T=[],ds=3;
for(var l=0;l<ds+1;l++)T.push(O.hT.UH(l/ds*255,l/ds*255,!0));T[1].v.Hrzn.v=130-fB*26;T[1].v.Vrtc.v=130+fB*51;
T[2].v.Hrzn.v=233-fB*48;T[2].v.Vrtc.v=233+fB*10;return O.hT.ea(T,z)}var R=g(Math.abs(c)/100,z);if(c<0){var h=[],E=1/z;
for(var l=0;l<z;l++){var G=l*E,k=l;while(R[k]>G&&k>1)k--;h[l]=k*E}R=h}var $=new Uint8Array(z);for(var l=0;
l<z;l++){var p=Math.round((z-1)*R[l]);$[l]=Math.round(255*Y[p])}y={type:H.ti,t9:$,K0:$,$X:$,Oj:!1,EG:!1}}}if(w=="levl"){var X=[],C,D,e,o,t,u;
for(var l=0;l<4;l++)X.push(i7.$k(n,l));C=-X[0][0]/255;D=1/(X[0][1]/255-X[0][0]/255);e=O.Rc.multiply(O.Rc.kv(D,D,D),O.Rc.mf(C,C,C));
o=O.Rc.kv(1/(X[1][1]/255-X[1][0]/255),1/(X[2][1]/255-X[2][0]/255),1/(X[3][1]/255-X[3][0]/255));t=O.Rc.mf(-X[1][0]/255,-X[2][0]/255,-X[3][0]/255);
u=O.Rc.multiply(o,t);var $=new O.$Z(256);for(var l=0;l<256;l++)$.b[l]=$.J[l]=$.k[l]=l;var m=1/(X[0][4]/100),U=1/(X[1][4]/100),I=1/(X[2][4]/100),x=1/(X[3][4]/100);
O.Rc.transform($,$,u);for(var l=0;l<256;l++){$.b[l]=Math.round(Math.max(0,Math.min(255,255*Math.pow($.b[l]/255,U))));
$.J[l]=Math.round(Math.max(0,Math.min(255,255*Math.pow($.J[l]/255,I))));$.k[l]=Math.round(Math.max(0,Math.min(255,255*Math.pow($.k[l]/255,x))))}O.Rc.transform($,$,e);
for(var l=0;l<256;l++){$.b[l]=Math.round(Math.max(0,Math.min(255,255*Math.pow($.b[l]/255,m))));$.J[l]=Math.round(Math.max(0,Math.min(255,255*Math.pow($.J[l]/255,m))));
$.k[l]=Math.round(Math.max(0,Math.min(255,255*Math.pow($.k[l]/255,m))))}C=X[0][2]/255;D=X[0][3]/255-X[0][2]/255;
e=O.Rc.multiply(O.Rc.mf(C,C,C),O.Rc.kv(D,D,D));o=O.Rc.kv(X[1][3]/255-X[1][2]/255,X[2][3]/255-X[2][2]/255,X[3][3]/255-X[3][2]/255);
t=O.Rc.mf(X[1][2]/255,X[2][2]/255,X[3][2]/255);u=O.Rc.multiply(t,o);O.Rc.transform($,$,O.Rc.multiply(e,u));
y={type:H.ti,t9:$.b,K0:$.J,$X:$.k,Oj:!1,EG:!1}}if(w=="curv"){var J=aC.$k(n,0).length==256?1:0,r=[];if(J==0){var Z=O.hT.b8(aC.$k(n,0),256);
for(var l=1;l<4;l++){var f=O.hT.b8(aC.$k(n,l),256);r.push(O.hT.uj(f,Z))}}else{var F=[];for(var l=0;l<4;
l++){var _=new Uint8Array(256);F.push(_);var K=aC.$k(n,l);for(var k=0;k<256;k++)_[k]=K[k]}for(var l=1;
l<4;l++)r.push(O.hT.uj(F[l],F[0]))}y={type:H.ti,t9:r[0],K0:r[1],$X:r[2],Oj:!1,EG:!1}}if(w=="expA"){var B=n.Exps,ij=n.Ofst,W=n.gammaCorrection,L=B?B.v:0,i=ij?ij.v:0,e3=W?W.v:1,$=new Uint8Array(256);
for(var l=0;l<256;l++){var n=l/255,eE=Math.pow(Math.abs(i),1/(Math.PI/2));if(i>0){n=Math.max(i/Math.E,n);
n=n*Math.exp(i/1.75+L/Math.PI);n=(1-eE)*n+eE*1}else{n=n*Math.exp(-i*1.75+L/Math.PI);n=n+-eE*1.14}n=Math.pow(n,1/e3);
n=Math.max(0,Math.min(1,n));$[l]=Math.round(n*255)}y={type:H.ti,t9:$,K0:$,$X:$,Oj:!1,EG:!1}}if(w=="vibA"){var ec=(n.vibrance?n.vibrance.v:0)/100,gw=(n.Strt?n.Strt.v:0)/100,eE=1+ec*(ec>0?.25:.5),bl=.8+.2/eE;
y={type:H.Yo,PY:[ec,gw,bl,eE]}}if(w=="hue2"){var cD=[],a$=[],hJ=[],ei=n.Clrz?n.Clrz.v:!1;for(var l=0;
l<256;l++){cD[l]=l/255;a$[l]=0;hJ[l]=0}var df=fm.$k(n,0),bM=fb.Fx(df[1]/100);if(ei){var ib=df[0]/360;
for(var l=0;l<256;l++){cD[l]=ib;a$[l]=bM}}else{for(var l=0;l<256;l++){var fI=cD[l],eU=a$[l];cD[l]+=df[0]/360;
for(var k=0;k<6;k++){var gK=fm.$k(n,k+1),bs=gK.dl,km=gK.cf,eE=0;for(var aJ=1;aJ<4;aJ++)if(km[aJ]<km[0])km[aJ]+=360;
var ip=km[0],fl=km[1],b3=km[2],dY=km[3],k4=fI*360;if(k4<km[0])k4+=360;var aK=(k4-ip)/(fl-ip),jK=(k4-b3)/(dY-b3);
if(aK<0)eE=0;else if(aK<1)eE=aK;else if(jK<0)eE=1;else if(jK<1)eE=1-jK;else eE=0;var A=fb.Fx(bs[1]/100);
cD[l]+=eE*bs[0]/360;a$[l]+=eE*A;hJ[l]+=eE*bs[2]/100}}for(var l=0;l<256;l++){a$[l]=(1+a$[l])*(1+bM)-1;
hJ[l]=Math.max(-1,Math.min(1,hJ[l]))}}var ay=new Uint8Array(256),f8=new Uint8Array(256),gN=new Uint8Array(256);
for(var l=0;l<256;l++){var d4=cD[l],gw=a$[l],bK=hJ[l];if(d4>1)d4--;if(d4<0)d4++;gw=fb.aj4(gw);gw=(1+gw)*.5;
bK=(1+bK)*.5;ay[l]=Math.round(255*d4);f8[l]=Math.round(255*gw);gN[l]=Math.round(255*bK)}var hf=df[2]/100,bC=hf<0?-hf:hf,gW=hf<0?0:1;
y={type:H.nw,ahb:ay,ie:f8,a7E:gN,azw:bC*gW,y8:1-bC,a7a:df[2]/100,aji:ei?1:0}}if(w=="nvrt"){var $=new Uint8Array(256);
for(var l=0;l<256;l++)$[l]=255-l;y={type:H.ti,t9:$,K0:$,$X:$,Oj:!1,EG:!1}}if(w=="post"){var dn=n.Lvls.v,$=new Uint8Array(256),eE=dn/255.001,fq=255/(dn-1);
for(var l=0;l<256;l++)$[l]=Math.floor(l*eE)*fq;y={type:H.ti,t9:$,K0:$,$X:$,Oj:!1,EG:!1}}if(w=="grdm"){var jN=n.Grad.v,cU=n.Rvrs,z=1024,jb;
if(jN.Clrs){var ac=O.M.hr(jN,0,0);jb=O.M.yP(jN,ac,z,cU?cU.v:!1)}else{jb=O.M.Jc(jN,z,cU?cU.v:!1)}var a_=O.R(z),h5=O.R(z),jz=O.R(z);
O.RR(jb,a_,0);O.RR(jb,h5,1);O.RR(jb,jz,2);y={type:H.ti,t9:a_,K0:h5,$X:jz,Oj:!0,EG:!1}}if(w=="selc"){var jj=new Float32Array(9*3*2),jy=n.Dy,g0=n.Mthd?n.Mthd.v.CrcM=="Absl":!1;
for(var k=0;k<9;k++){var bt=k*6,kl=hu.$k(n,k),iO=kl[0]/100,dN=kl[1]/100,aG=kl[2]/100,iA=kl[3]/100;if(g0){jj[bt]=jj[bt+1]=jj[bt+2]=1;
jj[bt+3]=iO*(1+iA)+iA;jj[bt+4]=dN*(1+iA)+iA;jj[bt+5]=aG*(1+iA)+iA}else{jj[bt+0]=(1+iO)*(1+iA);jj[bt+1]=(1+dN)*(1+iA);
jj[bt+2]=(1+aG)*(1+iA)}}y={type:H.Fw,agY:jj}}if(w=="blwh"){var a0="Rd Yllw Grn Cyn Bl Mgnt".split(" "),y=[],b1=0,a5=0;
for(var l=0;l<6;l++)y.push(n[a0[l]].v);y.push(n.useTint.v,n.tintColor.v);var cd=[];for(var l=0;l<6;l++)cd.push((y[l]-50)/50);
var co=O.M.cH(y[7]);co.b/=255;co.J/=255;co.k/=255;var c7=O.qR(co.b,co.J,co.k),bK=O.Vr(O.EY(c7.WZ,1,.5)),cF=c7.ua*c7.X5;
if(bK==.5)b1=a5=.5;else{b1=cF*(.5-bK)/(.5/bK-1);a5=1-cF*(.5-bK)-1/(2*(1-bK));a5/=1-1/(2*(1-bK))}y={type:H.Pk,a8a:cd,IP:y[6]?1:0,af0:c7.WZ,Vr:bK,a2g:cF,GV:b1,ayN:a5}}if(w=="blnc"){var X=[],iy=["ShdL","MdtL","HghL"];
for(var l=0;l<3;l++){if(n[iy[l]]==null){X[l]=[0,0,0];continue}var dn=n[iy[l]].v,ko=dn[0].v/100,gc=dn[1].v/100,eR=dn[2].v/100,aX=n.PrsL==null||n.PrsL.v?(Math.min(ko,gc,eR)+Math.max(ko,gc,eR))/2:0;
X[l]=[ko-aX,gc-aX,eR-aX]}var r=[O.R(256),O.R(256),O.R(256)];for(var k=0;k<3;k++)for(var l=0;l<256;l++){var G=l*(1/255),ck=0,v=0,by=0;
v=X[2][k];by=Math.abs(v);if(v<0)ck=Math.pow(G,Math.SQRT2);else ck=1.63*(Math.pow(G+.04,.5)-.2);G=by*ck+(1-by)*G;
v=X[1][k];by=Math.abs(v);if(v<0)ck=Math.pow(G,2);else ck=Math.min(2.35*(Math.pow(G+.09,.5)-.3),Math.pow(G,1/2));
G=by*ck+(1-by)*G;v=X[0][k];by=Math.abs(v);if(v<0)ck=G<.4?0:Math.pow((G-.4)/.6,Math.SQRT2);else ck=Math.pow(G,Math.SQRT2/2);
G=by*ck+(1-by)*G;G=Math.max(0,Math.min(1,G));r[k][l]=Math.round(G*255)}y={type:H.ti,t9:r[0],K0:r[1],$X:r[2],Oj:!1,EG:!1}}if(w=="phfl"){var i3=O.M.cH(n.Clr.v),bb=[i3.b/255,i3.J/255,i3.k/255],il=n.Dnst.v/100,r=[O.R(256),O.R(256),O.R(256)];
for(var k=0;k<3;k++)for(var l=0;l<256;l++){var G=l*(1/255),eH=G*bb[k];eH=Math.max(0,Math.min(1,eH));
G=il*eH+(1-il)*G;r[k][l]=Math.round(G*255)}y={type:H.ti,t9:r[0],K0:r[1],$X:r[2],Oj:!1,EG:n.PrsL.v}}if(w=="thrs"){var $=O.R(256);
for(var l=n.Lvl.v;l<256;l++)$[l]=255;y={type:H.ti,t9:$,K0:$,$X:$,Oj:!0,EG:!1}}if(w=="mixr"){var j9=fb.Xk(n),N=[];
for(var l=0;l<j9.Z.length;l++)if(l%5!=3)N.push(j9.Z[l]/100);if(j9.qj){for(var jq=1;jq<3;jq++)for(var G=0;
G<4;G++)N[jq*4+G]=N[G]}y={type:H.lh,Yx:N}}if(w=="rplc"){var jn=n.Mnm.v,eQ=n.Mxm.v;y={type:H.u1,Py:[jn.Lmnc.v,jn.A.v,jn.B.v],Gk:[eQ.Lmnc.v,eQ.A.v,eQ.B.v],shift:[n.H.v/360,n.Strt.v/100,n.Lght.v/100],xf:n.Fzns.v/150}}if(w=="clrL"&&n.profile){var ik=new Uint8Array(n.profile.v),dR=ICC.R(ik.buffer),d0=[],ii=17,d0=ICC.U.sampleLUT(dR,ii);
y={type:H.Sf,G_:ICC.U.lutToRGBA8(d0,ii),awX:d0,Sp:ii}}return y};fb.VS=function(w,n){var H=-1;if(w!="levl"||n==null)H=-1;
else if(n.Auto)H=0;else if(n.AuCo)H=1;else if(n.autoBlackWhite)H=2;return H};fb.fK={ti:0,nw:1,Yo:2,Fw:3,Pk:4,lh:5,u1:6,Sf:7};
fb.Fx=function(w){if(w<0)return w;return Math.pow(Math.tan(Math.PI/2*w),1.3)};fb.aj4=function(w){if(w<0)return w;
w=Math.pow(w,1/1.3);return Math.atan2(w,1)/(Math.PI/2)};fb.kS=function(w,n,H,y){var c=fb.fK,Q=Date.now();
if(dy._k&&y.O()>300*300&&w.type!=c.ti&&w.type!=c.Sf){y=y.clone();y.x=y.y=0;var q=dy.On(0,y.m,y.e);q.set(n);
dy.O0(q,y);q.yp(y);fb.Eo(w,q.Qq,y);q.get(H);return}if(w.type==c.Sf){var S=w.awX,A=w.Sp;ICC.U.applyLUT(S,A,n,H);
var V=n.length;for(var l=0;l<V;l+=4)H[l+3]=n[l+3]}if(w.type==c.lh)O.Rc.cA(n,H,w.Yx);if(w.type==c.Pk){var e=w.a2g,d=w.Vr,N=w.GV,b=w.ayN,V=n.length;
for(var l=0;l<V;l+=4){var y=n[l]*(1/255),z=n[l+1]*(1/255),v=n[l+2]*(1/255),T=O.v1(y,z,v),Y=0;for(var g=0;
g<6;g++)Y+=Math.min(1,1.7*(1-T.fg))*T.ua*w.a8a[g]*fb.a1B(T.WZ,g*(1/6));var R=Math.max(0,Math.min(1,T.fg*(1+Y)));
if(w.IP==1){var h=0;if(R<N)h=R*(.5/d);else if(R<b)h=R+e*(.5-d);else h=1-(1-R)*.5/(1-d);T.WZ=w.af0;T.ua=Math.min(1,e+3*e*Math.abs(R-.5*(N+b)));
T.fg=h}else{T.WZ=0;T.ua=0;T.fg=R}var E=O.EY(T.WZ,T.ua,T.fg);H[l]=Math.round(E.b*255);H[l+1]=Math.round(E.J*255);
H[l+2]=Math.round(E.k*255)}}if(w.type==c.Fw){var G=w.agY,V=n.length,k=1/255;for(var l=0;l<V;l+=4){var y=n[l]*k,z=n[l+1]*k,v=n[l+2]*k,T=O.v1(y,z,v),$=Math.max(y,Math.max(z,v)),p=Math.min(y,Math.min(z,v)),X=1-y,C=1-z,D=1-v,o=0,t=0,u=0;
for(var g=0;g<9;g++){var m=g*6,J=0;if(G[m]==1&&G[m+1]==1&&G[m+2]==1&&G[m+3]==0&&G[m+4]==0&&G[m+5]==0)continue;
var U=X*G[m]+G[m+3],I=C*G[m+1]+G[m+4],x=D*G[m+2]+G[m+5];if(g<6)J=fb.a1B(T.WZ,g*(1/6))*T.ua*2*Math.min(T.fg,1-T.fg);
else if(g==6)J=Math.max(0,p-.5)*2;else if(g==7)J=1-(Math.abs($-.5)+Math.abs(p-.5));else J=Math.max(0,.5-$)*2;
o+=(Math.max(0,Math.min(1,U))-X)*J;t+=(Math.max(0,Math.min(1,I))-C)*J;u+=(Math.max(0,Math.min(1,x))-D)*J}X=Math.max(0,Math.min(1,X+o));
C=Math.max(0,Math.min(1,C+t));D=Math.max(0,Math.min(1,D+u));y=1-X;z=1-C;v=1-D;H[l]=Math.round(y*255);
H[l+1]=Math.round(z*255);H[l+2]=Math.round(v*255)}}if(w.type==c.ti){O.aqB(n,H,w.t9,w.K0,w.$X,w.Oj,w.EG)}if(w.type==c.nw){var r=new Uint32Array(n.buffer),Z=new Uint32Array(H.buffer),V=r.length;
if(fb.VU==null){fb.VU=new Float64Array(256);for(var l=0;l<256;l++)fb.VU[l]=fb.Fx(-1+2*l/255)}var f=fb.VU;
for(var l=0;l<V;l++){var F=r[l],y=(F&255)*(1/255),z=(F>>>8&255)*(1/255),v=(F>>>16&255)*(1/255),_=F>>>24,K=Math.min(y,z,v),B=Math.max(y,z,v),ij=0,W=0,L=0;
ij=O.v1(y,z,v).WZ;var i=~~(ij*255+.5),e3=w.ahb[i]*(1/255),eE=w.ie[i]*(1/255)*2-1,ec=w.a7E[i]*(1/255)*2-1,Y=-ec,gw=K;
if(0<ec){Y=ec;gw=B}var bl=w.azw+w.y8*Y*gw,cD=w.y8*(1-Y);y=bl+cD*y;z=bl+cD*z;v=bl+cD*v;B=Math.max(y,z,v);
K=Math.min(y,z,v);L=(B+K)*.5;if(B!=K){var a$=B-K;W=L>.5?a$/(2-(B+K)):a$/(B+K)}var hJ=eE;if(w.aji==0){eE=f[Math.floor((1+eE)*127.5)];
hJ=Math.min(W*(1+eE),1)}var E=O.EY(e3,hJ,L);y=E.b;z=E.J;v=E.k;Z[l]=_<<24|v*255<<16|z*255<<8|y*255}}if(w.type==c.u1){O.Bq(n,H);
var r=new Uint32Array(n.buffer),Z=new Uint32Array(H.buffer),V=r.length,ei=w.xf,df=1/ei,bM={qm:w.Py[0],iL:w.Py[1],k:w.Py[2]},ib={qm:w.Gk[0],iL:w.Gk[1],k:w.Gk[2]};
for(var l=0;l<V;l++){var F=r[l],fI=F&255,eU=F>>>8&255,gK=F>>>16&255,y=fI*(1/255),z=eU*(1/255),v=gK*(1/255),_=F>>>24,bs=O.eT(fI,eU,gK),km=O.SQ(bs,bM,ib,ei,df);
if(km==0)continue;var T=O.v1(y,z,v),e3=2+T.WZ+w.shift[0];T.WZ=e3-~~e3;T.ua=Math.max(0,Math.min(1,T.ua+w.shift[1]));
T.fg=Math.max(0,Math.min(1,T.fg+w.shift[2]));var E=O.EY(T.WZ,T.ua,T.fg);y=(1-km)*y+km*E.b;z=(1-km)*z+km*E.J;
v=(1-km)*v+km*E.k;Z[l]=_<<24|v*255<<16|z*255<<8|y*255}}if(w.type==c.Yo){var r=new Uint32Array(n.buffer),Z=new Uint32Array(H.buffer),V=r.length,aJ=w.PY[0],ip=w.PY[1],fl=w.PY[2],Y=w.PY[3],b3=O.Rc.Y2([.299,.587,.114,-.147,-.289,.436,.615,-.515,-.1]),dY=O.Rc.G$(b3),k4=2.4;
function A(gN){return Math.max(0,Math.min(1,gN))}function aK(gN){return Math.pow(gN,k4)}function jK(gN){return Math.pow(gN,1/k4)}function ay(y,z,v,gN){y=aK(y);
z=aK(z);v=aK(v);var d4=O.Rc.Qb(b3,[y,z,v,1]);d4[0]*=fl;d4[1]*=Y;d4[2]*=Y;var E=O.Rc.Qb(dY,d4);E[0]=jK(A(E[0]));
E[1]=jK(A(E[1]));E[2]=jK(A(E[2]));return E}for(var l=0;l<V;l++){var F=r[l],y=(F&255)*(1/255),z=(F>>>8&255)*(1/255),v=(F>>>16&255)*(1/255),_=F>>>24,E=ay(y,z,v,aJ);
y=E[0];z=E[1];v=E[2];var f8=O.v1(y,z,v);f8.ua=Math.max(0,Math.min(1,f8.ua*(1+ip)));E=O.EY(f8.WZ,f8.ua,f8.fg);
y=E.b;z=E.J;v=E.k;Z[l]=_<<24|v*255<<16|z*255<<8|y*255}}};fb.Eo=function(w,n,H){dy.k0.Eo(w,n)};fb.a1B=function(w,n){var H=O.bl(n,w)*6;
return Math.max(0,Math.min(1,H<0?1+H:1-H))};var gT={};gT.tu=function(w){var n=w.filterID.v;return n>16777215?j.akj(n):w.Fltr.v.classID};
gT.T1=[{WL:"GEfc"},{WL:"LnCr"},{WL:"Adobe Camera Raw Filter"},{WL:"LqFy",Pp:!0},{Hq:"3D",ac:["lightFilterGradient","Dila"]},{Hq:[24,2],ac:"Avrg,Blr ,BlrM,boxblur,GsnB,Bokh,MtnB,RdlB,surfaceBlur".split(",")},{Hq:[24,4],ac:"Dspl,Kale,Pnch,Plr ,Rple,Shr ,Sphr,Twrl,Wave,ZgZg".split(",")},{Hq:[24,6],ac:["AdNs","Dspc","DstS","Mdn ","denoise"]},{Hq:[24,8],ac:"ClrH,Crst,Frgm,Mztn,Msc ,Pntl".split(",")},{Hq:[24,10],ac:["Flam","Clds","DfrC","Fbrs","LnsF"]},{Hq:[24,12],ac:["Shrp","ShrE","ShrM","smartSharpen","UnsM"]},{Hq:[24,14],ac:"Dfs ,Embs,FndE,oilPaint,Slrz,TrcC,Wnd ".split(",")},{Hq:[24,16],ac:"HghP,HsbP,Mxm ,Mnm ,Ofst,Rept,Ctoa,Dthr,Part".split(",")},{Hq:"Fourier",ac:["dDFT","iDFT"]}];
gT.LT={LqFy:"LqFy",Avrg:"Avrg","Blr ":"blurEvent",BlrM:"blurMethod",boxblur:"boxblur",GsnB:"gaussianBlur",MtnB:"motionBlur",RdlB:"radialBlur",surfaceBlur:"surfaceBlur",lightFilterGradient:"lightFilterGradient",adaptCorrect:"adaptCorrect",Pnch:"pinch","Plr ":"polar",Rple:"ripple","Shr ":"shear",Sphr:"spherize",Twrl:"twirl",Wave:"wave",AdNs:"addNoise",DstS:"dustAndScratches","Mdn ":"median",denoise:"denoise",ClrH:"colorHalftone",Crst:"",Frgm:"",Mztn:"mezzotint","Msc ":"mosaic",Pntl:"",Flam:"",Clds:"clouds",DfrC:"differenceClouds",LnsF:"LnsF",Shrp:"sharpen",ShrM:"sharpenMore",smartSharpen:"smartSharpen",UnsM:"unsharpMask","Dfs ":"diffuse",FndE:"findEdges",oilPaint:"oilPaint","Adobe Camera Raw Filter":"Adobe Camera Raw Filter",HghP:"highPass","Mxm ":"maximum","Mnm ":"minimum",Ofst:"offset"};
gT.BT={AddNoise:"AdNs",Average:"Avrg",Blur:"Blr ",BlurMore:"BlrM",Clouds:"Clds",DifferenceClouds:"DfrC",DustAndScratches:"DstS",GaussianBlur:"GsnB",HighPass:"HghP",Maximum:"Mxm ",Minimum:"Mnm ",MotionBlur:"MtnB",Offset:"Ofst",Pinch:"Pnch",PolarCoordinates:"Plr ",Ripple:"Rple",Sharpen:"Shrp",SharpenMore:"ShrM",Twirl:"Twrl",UnsharpMask:"UnsM",Wave:"Wave",BrightnessContrast:"brit"};
gT.a={rigidTransform:P.OF};gT.names={lightFilterGradient:[24,17,8],rigidTransform:[10,46],LnCr:[24,1,1,0],LqFy:[24,1,0,0],GEfc:[24,0],Avrg:[24,3,0],"Blr ":[24,3,1],BlrM:[24,3,2],boxblur:[24,3,3],GsnB:[24,3,4],Bokh:[24,3,5],MtnB:[24,3,6],RdlB:[24,3,7],surfaceBlur:[24,3,10],Dspl:[24,5,0],Pnch:[24,5,1],"Plr ":[24,5,2],Rple:[24,5,3],"Shr ":[24,5,4],Sphr:[24,5,5],Twrl:[24,1,0,1,3],Wave:[24,5,6],ZgZg:[24,5,7],Kale:[24,5,8],AdNs:[24,7,0],Dspc:[24,7,1],DstS:[24,7,2],"Mdn ":[24,7,3],denoise:[24,7,4],ClrH:[24,9,0],Crst:[24,9,1],Frgm:[24,9,3],Mztn:[24,9,4],"Msc ":[24,9,5],Pntl:[24,9,6],Clds:[24,11,0],DfrC:[24,11,1],LnsF:[24,11,2],Flam:[24,11,3],Fbrs:[24,11,4],Shrp:[24,13,0],ShrE:[24,13,1],ShrM:[24,13,2],smartSharpen:[24,13,3],UnsM:[24,13,4],"Dfs ":[24,15,0],Embs:[24,15,1],FndE:[24,15,3],oilPaint:[24,15,4],Slrz:[24,15,5],TrcC:[24,15,6],"Wnd ":[24,15,7],HghP:[24,17,1],HsbP:"HSB/HSL","Mxm ":[24,17,2],"Mnm ":[24,17,3],Ofst:[24,17,4],Rept:[24,17,5],Ctoa:[24,17,6],Dthr:[12,23,3],Part:[24,17,7],dDFT:"Fourier Transform",iDFT:"Inverse Fourier Transform",defr:[2,13],Dila:"Texture Dilation",VaPo:"Vanishing Point",adaptCorrect:["VAR0/VAR1",[19,6,0],[19,6,2]],"Adobe Camera Raw Filter":"Camera Raw"};
gT.B1=function(w){var n=null;if(w=="GEfc")n={__name:"Filter Gallery",classID:"GEfc",GEfs:{t:"VlLs",v:[{t:"Objc",v:i2.B1("GlwE")}]}};
if(w=="LqFy"){var H={pV:5,WZ:5,map:new Float32Array(5*5*2)},y=new Uint8Array(ct.hc(H)),c=[];for(var l=0;
l<y.length;l++)c.push(y[l]);n={__name:"Liquify",classID:"LqFy",LqMe:{t:"tdta",v:c}}}if(w=="rigidTransform"){n={__name:"Puppet Warp",classID:"rigidTransform",null:{t:"obj ",v:[{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Trgt"}}]},rigidType:{t:"bool",v:!0},puppetShapeList:{t:"VlLs",v:[]},PuX0:{t:"doub",v:0},PuX1:{t:"doub",v:1e3},PuX2:{t:"doub",v:1e3},PuX3:{t:"doub",v:0},PuY0:{t:"doub",v:0},PuY1:{t:"doub",v:0},PuY2:{t:"doub",v:1e3},PuY3:{t:"doub",v:1e3}}}if(w=="LnCr")n={__name:"Lens Correction",classID:"LnCr",LnAg:{t:"bool",v:!0},LnAc:{t:"bool",v:!1},LnAv:{t:"bool",v:!1},LnAs:{t:"bool",v:!1},LnIp:{t:"bool",v:!1},LnFo:{t:"doub",v:0},LnPr:{t:"TEXT",v:""},LnIa:{t:"doub",v:0},LnI0:{t:"doub",v:0},LnI1:{t:"doub",v:0},LnI2:{t:"doub",v:0},LnI3:{t:"doub",v:1},LnRa:{t:"doub",v:0},LnVp:{t:"doub",v:0},LnHp:{t:"doub",v:0},LnSi:{t:"doub",v:100},LnFt:{t:"long",v:2},LnSb:{t:"doub",v:0},LnSt:{t:"long",v:50},LnRc:{t:"doub",v:0},LnGm:{t:"doub",v:0},LnBy:{t:"doub",v:0},LnNa:{t:"long",v:64},LnIh:{t:"long",v:0},LnIv:{t:"long",v:0},LnIs:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:127},Grn:{t:"doub",v:127},Bl:{t:"doub",v:127}}},LnNm:{t:"bool",v:!1}};
if(w=="adaptCorrect")n={__name:"Shadow/Highlight",classID:"adaptCorrect",sdwM:{t:"Objc",v:{__name:"Parameters",classID:"adaptCorrectTones",Amnt:{t:"UntF",v:{type:"#Prc",val:50}},Wdth:{t:"UntF",v:{type:"#Prc",val:25}},Rds:{t:"long",v:12}}},hglM:{t:"Objc",v:{__name:"Parameters",classID:"adaptCorrectTones",Amnt:{t:"UntF",v:{type:"#Prc",val:0}},Wdth:{t:"UntF",v:{type:"#Prc",val:0}},Rds:{t:"long",v:0}}},BlcC:{t:"doub",v:0},WhtC:{t:"doub",v:0},Cntr:{t:"long",v:0},ClrC:{t:"long",v:0}};
if(w=="Dfs ")n={__name:"Diffuse",classID:"Dfs",Md:{t:"enum",v:{DfsM:"Nrml"}},FlRs:{t:"long",v:14061024}};
if(w=="Fbrs")n={__name:"Fibers",classID:"Fbrs",Vrnc:{t:"long",v:10},Strg:{t:"long",v:1},RndS:{t:"long",v:8438429}};
if(w=="Embs")n={__name:"Emboss",classID:"Embs",Angl:{t:"long",v:45},Hght:{t:"long",v:5},Amnt:{t:"long",v:100}};
if(w=="oilPaint")n={__name:"Oil Paint",classID:"oilPaint",lightingOn:{t:"bool",v:!0},stylization:{t:"doub",v:3},brushScale:{t:"doub",v:1},microBrush:{t:"doub",v:0},LghD:{t:"long",v:45},specularity:{t:"doub",v:1},cleanliness:{t:"doub",v:2}};
if(w=="TrcC")n={__name:"Trace Contour",classID:"TrcC",Lvl:{t:"long",v:128},Edg:{t:"enum",v:{CntE:"Lwr"}}};
if(w=="Wnd ")n={__name:"Wind",classID:"Wnd",WndM:{t:"enum",v:{WndM:"Wnd"}},Drct:{t:"enum",v:{Drct:"Rght"}}};
if(w=="lightFilterGradient")n={__name:"Generate Normals",classID:"lightFilterGradient",blur:{t:"doub",v:0},textureScale:{t:"doub",v:1},Scl:{t:"doub",v:1},Dtl:{t:"VlLs",v:[{t:"doub",v:1},{t:"doub",v:1},{t:"doub",v:1}]}};
if(w=="boxblur")n={__name:"Box Blur",classID:"boxblur",Rds:{t:"UntF",v:{type:"#Pxl",val:15}}};if(w=="GsnB")n={__name:"Gaussian Blur",classID:"GsnB",Rds:{t:"UntF",v:{type:"#Pxl",val:7.2}}};
if(w=="Bokh")n={__name:"Lens Blur",classID:"Bokh",BkDi:{t:"enum",v:{BtDi:"BeIn"}},BkDp:{t:"long",v:0},BkDs:{t:"bool",v:!1},BkIs:{t:"enum",v:{BtIs:"BeS6"}},BkIb:{t:"doub",v:30},BkIc:{t:"long",v:0},BkIr:{t:"long",v:0},BkSb:{t:"doub",v:0},BkSt:{t:"long",v:255},BkNa:{t:"long",v:0},BkNt:{t:"enum",v:{BtNt:"BeNu"}},BkNm:{t:"bool",v:!1}};
if(w=="MtnB")n={__name:"Motion Blur",classID:"MtnB",Angl:{t:"long",v:0},Dstn:{t:"UntF",v:{type:"#Pxl",val:4}}};
if(w=="RdlB")n={__name:"Radial Blur",classID:"RdlB",Amnt:{t:"long",v:10},BlrM:{t:"enum",v:{BlrM:"Spn"}},BlrQ:{t:"enum",v:{BlrQ:"Gd"}},Cntr:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:.5},Vrtc:{t:"doub",v:.5}}}};
if(w=="surfaceBlur")n={__name:"Surface Blur",classID:"surfaceBlur",Rds:{t:"UntF",v:{type:"#Pxl",val:15}},Thsh:{t:"long",v:15}};
if(w=="denoise")n={__name:"Reduce Noise",classID:"denoise",ClNs:{t:"UntF",v:{type:"#Prc",val:29}},Shrp:{t:"UntF",v:{type:"#Prc",val:0}},removeJPEGArtifact:{t:"bool",v:!1},channelDenoise:{t:"VlLs",v:[{t:"Objc",v:{classID:"channelDenoiseParams",Chnl:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"Cmps"}}]},Amnt:{t:"long",v:5},EdgF:{t:"long",v:0}}},{t:"Objc",v:{classID:"channelDenoiseParams",Chnl:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"Rd"}}]},Amnt:{t:"long",v:0}}},{t:"Objc",v:{classID:"channelDenoiseParams",Chnl:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"Grn"}}]},Amnt:{t:"long",v:0}}},{t:"Objc",v:{classID:"channelDenoiseParams",Chnl:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"Bl"}}]},Amnt:{t:"long",v:0}}}]},preset:{t:"TEXT",v:"Default"}};
if(w=="Dspl")n={__name:"Displace",classID:"Dspl",HrzS:{t:"long",v:10},VrtS:{t:"long",v:10},DspM:{t:"enum",v:{DspM:"StrF"}},UndA:{t:"enum",v:{UndA:"RptE"}},DspF:{t:"Pth ",v:{sig:"txtu",pth:"file.psd\0"}}};
if(w=="Pnch")n={__name:"Pinch",classID:"Pnch",Amnt:{t:"long",v:-100}};if(w=="Plr ")n={__name:"Polar Coordinates",classID:"Plr",Cnvr:{t:"enum",v:{Cnvr:"RctP"}}};
if(w=="Rple")n={__name:"Ripple",classID:"Rple",Amnt:{t:"long",v:999},RplS:{t:"enum",v:{RplS:"Mdm"}}};
if(w=="Shr ")n={__name:"Shear",classID:"Shr",ShrP:{t:"VlLs",v:[{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:1}}},{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:128}}}]},UndA:{t:"enum",v:{UndA:"WrpA"}},ShrS:{t:"long",v:0},ShrE:{t:"long",v:1}};
if(w=="Sphr")n={__name:"Spherize",classID:"Sphr",Amnt:{t:"long",v:100},SphM:{t:"enum",v:{SphM:"Nrml"}}};
if(w=="Twrl")n={__name:"Twirl",classID:"Twrl",Angl:{t:"long",v:90}};if(w=="Wave")n={__name:"Wave",classID:"Wave",Wvtp:{t:"enum",v:{Wvtp:"WvSn"}},NmbG:{t:"long",v:1},WLMn:{t:"long",v:101},WLMx:{t:"long",v:102},AmMn:{t:"long",v:36},AmMx:{t:"long",v:37},SclH:{t:"long",v:100},SclV:{t:"long",v:100},UndA:{t:"enum",v:{UndA:"WrpA"}},RndS:{t:"long",v:743887}};
if(w=="ZgZg")n={__name:"ZigZag",classID:"ZgZg",Amnt:{t:"long",v:50},NmbR:{t:"long",v:10},ZZTy:{t:"enum",v:{ZZTy:"ArnC"}}};
if(w=="AdNs")n={__name:"Add Noise",classID:"AdNs",Dstr:{t:"enum",v:{Dstr:"Unfr"}},Nose:{t:"UntF",v:{type:"#Prc",val:20}},Mnch:{t:"bool",v:!1},FlRs:{t:"long",v:100691320}};
if(w=="DstS")n={__name:"Dust & Scratches",classID:"DstS",Rds:{t:"long",v:2},Thsh:{t:"long",v:26}};if(w=="Mdn ")n={__name:"Median",classID:"Mdn",Rds:{t:"UntF",v:{type:"#Pxl",val:7}}};
if(w=="ClrH")n={__name:"Color Halftone",classID:"ClrH",Rds:{t:"long",v:8},Ang1:{t:"long",v:10},Ang2:{t:"long",v:40},Ang3:{t:"long",v:70},Ang4:{t:"long",v:80}};
if(w=="Crst")n={__name:"Crystallize",classID:"Crst",ClSz:{t:"long",v:10},FlRs:{t:"long",v:1554929224}};
if(w=="Mztn")n={__name:"Mezzotint",classID:"Mztn",MztT:{t:"enum",v:{MztT:"FnDt"}},FlRs:{t:"long",v:204994187}};
if(w=="Msc ")n={__name:"Mosaic",classID:"Msc",ClSz:{t:"UntF",v:{type:"#Pxl",val:12}}};if(w=="Pntl")n={__name:"Pointillize",classID:"Pntl",ClSz:{t:"long",v:10},FlRs:{t:"long",v:1554929236}};
if(w=="LnsF")n={__name:"Lens Flare",classID:"LnsF",Brgh:{t:"long",v:100},FlrC:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:.19140625},Vrtc:{t:"doub",v:.185628741979599}}},Lns:{t:"enum",v:{Lns:"Zm"}}};
if(w=="Dthr")n={__name:"Dither",classID:"Dthr",Plte:{t:"long",v:0},Mthd:{t:"long",v:1}};if(w=="Part")n={__name:"Dither",classID:"Part",Cont:{t:"long",v:10},Size:{t:"long",v:8},Dpth:{t:"long",v:100},Brgh:{t:"long",v:800},Clr:{t:"Objc",v:{classID:"RGBC",Rd:{v:255,t:"doub"},Grn:{v:255,t:"doub"},Bl:{v:255,t:"doub"}}},Time:{t:"doub",v:0},Turb:{t:"long",v:0},Blnk:{t:"bool",v:!0},Fall:{t:"bool",v:!1},RndS:{t:"long",v:8438429}};
if(w=="Adobe Camera Raw Filter")n={__name:"Camera Raw Filter",classID:"Adobe Camera Raw Filter",CMod:{t:"TEXT",v:"Filter"},Sett:{t:"enum",v:{Sett:"Cst"}},WBal:{t:"enum",v:{WBal:"AsSh"}},Temp:{t:"long",v:0},Tint:{t:"long",v:0},CtoG:{t:"bool",v:!1},Strt:{t:"long",v:0},Shrp:{t:"long",v:0},LNR:{t:"long",v:0},CNR:{t:"long",v:0},VigA:{t:"long",v:0},BlkB:{t:"long",v:0},RHue:{t:"long",v:0},RSat:{t:"long",v:0},GHue:{t:"long",v:0},GSat:{t:"long",v:0},BHue:{t:"long",v:0},BSat:{t:"long",v:0},Vibr:{t:"long",v:0},HA_R:{t:"long",v:0},HA_O:{t:"long",v:0},HA_Y:{t:"long",v:0},HA_G:{t:"long",v:0},HA_A:{t:"long",v:0},HA_B:{t:"long",v:0},HA_P:{t:"long",v:0},HA_M:{t:"long",v:0},SA_R:{t:"long",v:0},SA_O:{t:"long",v:0},SA_Y:{t:"long",v:0},SA_G:{t:"long",v:0},SA_A:{t:"long",v:0},SA_B:{t:"long",v:0},SA_P:{t:"long",v:0},SA_M:{t:"long",v:0},LA_R:{t:"long",v:0},LA_O:{t:"long",v:0},LA_Y:{t:"long",v:0},LA_G:{t:"long",v:0},LA_A:{t:"long",v:0},LA_B:{t:"long",v:0},LA_P:{t:"long",v:0},LA_M:{t:"long",v:0},STSH:{t:"long",v:0},STSS:{t:"long",v:0},STHH:{t:"long",v:0},STHS:{t:"long",v:0},STB:{t:"long",v:0},PC_S:{t:"long",v:0},PC_D:{t:"long",v:0},PC_L:{t:"long",v:0},PC_H:{t:"long",v:0},PC_1:{t:"long",v:25},PC_2:{t:"long",v:50},PC_3:{t:"long",v:75},ShpR:{t:"doub",v:1},ShpD:{t:"long",v:25},ShpM:{t:"long",v:0},PCVA:{t:"long",v:0},GRNA:{t:"long",v:0},LPEn:{t:"long",v:0},MDis:{t:"long",v:0},PerV:{t:"long",v:0},PerH:{t:"long",v:0},PerR:{t:"doub",v:0},PerS:{t:"long",v:100},PerA:{t:"long",v:0},PerU:{t:"long",v:0},PerX:{t:"doub",v:0},PerY:{t:"doub",v:0},AuCA:{t:"long",v:0},Ex12:{t:"doub",v:0},Cr12:{t:"long",v:0},Hi12:{t:"long",v:0},Sh12:{t:"long",v:0},Wh12:{t:"long",v:0},Bk12:{t:"long",v:0},Cl12:{t:"long",v:0},DfPA:{t:"long",v:0},DPHL:{t:"long",v:30},DPHH:{t:"long",v:70},DfGA:{t:"long",v:0},DPGL:{t:"long",v:40},DPGH:{t:"long",v:60},Dhze:{t:"long",v:0},TMMs:{t:"long",v:0},Crv:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:255},{t:"long",v:255}]},CrvR:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:255},{t:"long",v:255}]},CrvG:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:255},{t:"long",v:255}]},CrvB:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:255},{t:"long",v:255}]},CamP:{t:"TEXT",v:"Embedded"},CP_D:{t:"TEXT",v:"54650A341B5B5CCAE8442D0B43A92BCE"},PrVe:{t:"long",v:184549376},Rtch:{t:"TEXT",v:""},REye:{t:"TEXT",v:""},LCs:{t:"TEXT",v:""},Look:{t:"TEXT",v:""},Pset:{t:"TEXT",v:""}};
if(w=="smartSharpen")n={__name:"Smart Sharpen",classID:"smartSharpen",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},useLegacy:{t:"bool",v:!1},Amnt:{t:"UntF",v:{type:"#Prc",val:150}},Rds:{t:"UntF",v:{type:"#Pxl",val:1}},noiseReduction:{t:"UntF",v:{type:"#Prc",val:0}},blur:{t:"enum",v:{blurType:"GsnB"}}};
if(w=="UnsM")n={__name:"Unsharp Mask",classID:"UnsM",Amnt:{t:"UntF",v:{type:"#Prc",val:142}},Rds:{t:"UntF",v:{type:"#Pxl",val:4.5}},Thsh:{t:"long",v:0}};
if(w=="HghP")n={__name:"High Pass",classID:"HghP",Rds:{t:"UntF",v:{type:"#Pxl",val:3}}};if(w=="HsbP")n={__name:"HSB/HSL",classID:"HsbP",Inpt:{t:"enum",v:{ClrS:"RGBC"}},Otpt:{t:"enum",v:{ClrS:"HSBl"}}};
if(w=="Mxm ")n={__name:"Maximum",classID:"Mxm",Rds:{t:"UntF",v:{type:"#Pxl",val:8}},preserveShape:{t:"enum",v:{preserveShape:"squareness"}}};
if(w=="Mnm ")n={__name:"Minimum",classID:"Mnm",Rds:{t:"UntF",v:{type:"#Pxl",val:8}},preserveShape:{t:"enum",v:{preserveShape:"squareness"}}};
if(w=="Ofst")n={__name:"Offset",classID:"Ofst",Hrzn:{t:"long",v:144},Vrtc:{t:"long",v:278},Fl:{t:"enum",v:{FlMd:"Wrp"}}};
if(w=="Kale")n={__name:"Kaleidoscope",classID:"Kale",Mirr:{t:"long",v:6},MRot:{t:"long",v:0}};if(w=="Rept")n={__name:"Repeat",classID:"Rept",Scl:{v:{type:"#Prc",val:100},t:"UntF"},Rsft:{v:{type:"#Prc",val:0},t:"UntF"},SpcX:{v:{type:"#Prc",val:0},t:"UntF"},SpcY:{v:{type:"#Prc",val:0},t:"UntF"},SpcC:{t:"bool",v:!1},Angl:{t:"long",v:0}};
if(w=="Flam")n={__name:"Repeat",classID:"Flam",Type:{t:"long",v:0},Leng:{t:"long",v:140},RndL:{t:"bool",v:!1},Widt:{t:"long",v:100},Angl:{t:"long",v:0},Intr:{t:"long",v:100},Adpt:{t:"bool",v:!1},Qual:{t:"long",v:1},Clr:{v:{classID:"RGBC",Rd:{v:255,t:"doub"},Grn:{v:110,t:"doub"},Bl:{v:28,t:"doub"}},t:"Objc"},Turb:{t:"long",v:50},Jag:{t:"long",v:0},Opct:{v:{type:"#Prc",val:25},t:"UntF"},Lins:{t:"long",v:10},Botm:{t:"long",v:30},Styl:{t:"long",v:0},Shap:{t:"long",v:0},RnSh:{t:"bool",v:!1},Arng:{t:"long",v:18}};
if(w=="Ctoa")n={__name:"Color to Alpha",classID:"Ctoa",Trsp:{v:{type:"#Prc",val:0},t:"UntF"},Opct:{v:{type:"#Prc",val:100},t:"UntF"},Clr:{v:{classID:"RGBC",Rd:{v:0,t:"doub"},Grn:{v:0,t:"doub"},Bl:{v:0,t:"doub"}},t:"Objc"}};
if(w=="brit")n={__name:"Brightness/Contrast",classID:"BrgC",Brgh:{t:"long",v:0},Cntr:{t:"long",v:0},useLegacy:{t:"bool",v:!1}};
if(w=="levl")n={__name:"Levels",classID:"Lvls",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Adjs:{t:"VlLs",v:[]}};
if(w=="curv")n={__name:"Curves",classID:"Crvs",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Adjs:{t:"VlLs",v:[]}};
if(w=="expA")n={__name:"Exposure",classID:"Exps",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Exps:{t:"doub",v:0},Ofst:{t:"doub",v:0},gammaCorrection:{t:"doub",v:1}};
if(w=="vibA")n={__name:"Vibrance",classID:"vibrance",vibrance:{t:"long",v:0},Strt:{t:"long",v:0}};if(w=="hue2")n={__name:"Hue/Saturation",classID:"HStr",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Clrz:{t:"bool",v:!1},Adjs:{t:"VlLs",v:[]}};
if(w=="blnc")n={__name:"Color Balance",classID:"ClrB",ShdL:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:0}]},MdtL:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:0}]},HghL:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:0}]},PrsL:{t:"bool",v:!0}};
if(w=="blwh")n={__name:"Black & White",classID:"BanW",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Rd:{t:"long",v:40},Yllw:{t:"long",v:85},Grn:{t:"long",v:204},Cyn:{t:"long",v:60},Bl:{t:"long",v:20},Mgnt:{t:"long",v:80},useTint:{t:"bool",v:!0},tintColor:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:0},Grn:{t:"doub",v:0},Bl:{t:"doub",v:0}}}};
if(w=="phfl")n={__name:"Photo Filter",classID:"photoFilter",Clr:{t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:67.06},A:{t:"doub",v:32},B:{t:"doub",v:120}}},Dnst:{t:"long",v:80},PrsL:{t:"bool",v:!0}};
if(w=="grdm")n={__name:"Gradient Map",classID:"GrMp",Rvrs:{t:"bool",v:!1},Grad:JSON.parse(d5.FK[6]).Grad};
if(w=="selc")n={__name:"Selective Color",classID:"SlcC",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Mthd:{t:"enum",v:{CrcM:"Rltv"}},ClrC:{t:"VlLs",v:[]}};
if(w=="thrs")n={__name:"Threshold",classID:"Thrs",Lvl:{t:"long",v:128}};if(w=="mixr")n={__name:"Channel Mixer",classID:"ChnM",presetKind:{t:"enum",v:{presetKindType:"presetKindDefault"}},Mnch:{t:"bool",v:!1},Rd:{t:"Objc",v:{classID:"ChMx",Rd:{t:"UntF",v:{type:"#Prc",val:100}}}},Grn:{t:"Objc",v:{classID:"ChMx",Grn:{t:"UntF",v:{type:"#Prc",val:100}}}},Bl:{t:"Objc",v:{classID:"ChMx",Bl:{t:"UntF",v:{type:"#Prc",val:100}}}}};
if(w=="clrL")n={__name:"Color Lookup",classID:"colorLookup"};if(w=="post")n={__name:"Posterize",classID:"Pstr",Lvls:{t:"long",v:3}};
if(w=="rplc")n={__name:"Replace Color",classID:"RplC",Fzns:{t:"long",v:55},Mnm:{t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:73.1},A:{t:"doub",v:23.95},B:{t:"doub",v:8.03}}},Mxm:{t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:73},A:{t:"doub",v:23},B:{t:"doub",v:8}}},H:{t:"long",v:-22},Strt:{t:"long",v:0},Lght:{t:"long",v:0}};
if(w=="fade")n={__name:"Fade",classID:"fade",Opct:{t:"UntF",v:{type:"#Prc",val:100}},Md:{t:"enum",v:{BlnM:"Nrml"}}};
if(w=="aply")n={classID:"null",With:{t:"Objc",v:{classID:"Clcl",T:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"RGB"}},{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Mrgd"}}]},Invr:{t:"bool",v:!1},Clcl:{t:"enum",v:{Clcn:"Nrml"}},Opct:{t:"UntF",v:{type:"#Prc",val:100}},Ofst:{t:"long",v:128},Scl:{t:"doub",v:1},PrsT:{t:"bool",v:!1}}}};
if(w=="matc"){n={__name:"Match Color",classID:"matchColor",Lght:{t:"long",v:100},ClrR:{t:"long",v:100},Fade:{t:"long",v:0},fsel:{t:"bool",v:!0},neutralizeColor:{t:"bool",v:!1},noReference:{t:"bool",v:!0}}}if(w=="Dila")n={__name:"Texture Dilation",classID:"Dila",Crop:{t:"UntF",v:{type:"#Pxl",val:0}},Rds:{t:"UntF",v:{type:"#Pxl",val:10}}};
if(w=="blendOptions")n={classID:"blendOptions",Opct:{t:"UntF",v:{type:"#Prc",val:100}},Md:{t:"enum",v:{BlnM:"Nrml"}}};
return n};gT.qe={sFlam:function(w,n){n[0]=w.Type.v;n[1]=w.Leng.v;n[2]=w.RndL.v;n[3]=w.Widt.v;n[4]=w.Angl.v;
n[5]=w.Intr.v;n[6]=w.Adpt.v;n[7]=w.Clr.v;n[8]=w.Qual.v;n[9]=w.Turb.v;n[10]=w.Jag.v;n[11]=w.Opct.v.val;
n[12]=w.Lins.v;n[13]=w.Botm.v;n[14]=w.Styl.v;n[15]=w.Shap.v;n[16]=w.RnSh.v;n[17]=w.Arng.v},gFlam:function(w,n){w.Type.v=n[0];
w.Leng.v=n[1];w.RndL.v=n[2];w.Widt.v=n[3];w.Angl.v=n[4];w.Intr.v=n[5];w.Adpt.v=n[6];w.Clr.v=n[7];w.Qual.v=n[8];
w.Turb.v=n[9];w.Jag.v=n[10];w.Opct.v.val=n[11];w.Lins.v=n[12];w.Botm.v=n[13];w.Styl.v=n[14];w.Shap.v=n[15];
w.RnSh.v=n[16];w.Arng.v=n[17]},sAdNs:function(w,n){n[0]=w.Nose.v.val;n[1]=["Gsn","Unfr"].indexOf(w.Dstr.v.Dstr);
n[2]=w.Mnch.v},gAdNs:function(w,n){w.Nose.v.val=n[0];w.Dstr.v.Dstr=["Gsn","Unfr"][n[1]];w.Mnch.v=n[2]},sDstS:function(w,n){n[0]=w.Rds.v;
n[1]=w.Thsh.v},gDstS:function(w,n){w.Rds.v=n[0];w.Thsh.v=n[1]},sGsnB:function(w,n){n[0]=w.Rds.v.val},gGsnB:function(w,n){w.Rds.v.val=n[0]},sDila:function(w,n){n[0]=w.Crop.v.val;
n[1]=w.Rds.v.val},gDila:function(w,n){w.Crop.v.val=n[0];w.Rds.v.val=n[1]},sHghP:function(w,n){n[0]=w.Rds.v.val},gHghP:function(w,n){w.Rds.v.val=n[0]},sHsbP:function(w,n){var H=["RGBC","HSBl","HSLC"];
n[0]=H.indexOf(w.Inpt.v.ClrS);n[1]=H.indexOf(w.Otpt.v.ClrS)},gHsbP:function(w,n){var H=["RGBC","HSBl","HSLC"];
w.Inpt.v.ClrS=H[n[0]];w.Otpt.v.ClrS=H[n[1]]},"sMxm ":function(w,n){var H="preserveShape";n[0]=w.Rds.v.val;
n[1]=w[H]?["squareness","Rndn"].indexOf(w[H].v[H]):0},"gMxm ":function(w,n){var H="preserveShape";w.Rds.v.val=n[0];
w[H]={t:"enum",v:{preserveShape:["squareness","Rndn"][n[1]]}}},"sMnm ":function(w,n){var H="preserveShape";
n[0]=w.Rds.v.val;n[1]=w[H]?["squareness","Rndn"].indexOf(w[H].v[H]):0},"gMnm ":function(w,n){var H="preserveShape";
w.Rds.v.val=n[0];w[H]={t:"enum",v:{preserveShape:["squareness","Rndn"][n[1]]}}},sMtnB:function(w,n){n[0]=[w.Angl.v];
n[1]=w.Dstn.v.val;console.log(n)},gMtnB:function(w,n){w.Angl.v=typeof n[0]=="number"?n[0]:n[0][0];w.Dstn.v.val=n[1]},sOfst:function(w,n){n[0]=w.Hrzn.v;
n[1]=w.Vrtc.v;n[2]=["Rpt","Bckg","Wrp"].indexOf(w.Fl.v.FlMd)},gOfst:function(w,n){w.Hrzn.v=n[0];w.Vrtc.v=n[1];
w.Fl.v.FlMd=["Rpt","Bckg","Wrp"][n[2]]},sPnch:function(w,n){n[0]=w.Amnt.v},gPnch:function(w,n){w.Amnt.v=n[0]},"sPlr ":function(w,n){n[0]=["RctP","PlrR"].indexOf(w.Cnvr.v.Cnvr)},"gPlr ":function(w,n){w.Cnvr.v.Cnvr=["RctP","PlrR"][n[0]]},sRple:function(w,n){n[0]=w.Amnt.v;
n[1]=["Sml","Mdm","Lrg"].indexOf(w.RplS.v.RplS)},gRple:function(w,n){w.Amnt.v=n[0];w.RplS.v.RplS=["Sml","Mdm","Lrg"][n[1]]},sTwrl:function(w,n){n[0]=w.Angl.v},gTwrl:function(w,n){w.Angl.v=n[0]},sZgZg:function(w,n){n[0]=w.Amnt.v;
n[1]=w.NmbR.v;n[2]=["ArnC","OtFr","PndR"].indexOf(w.ZZTy.v.ZZTy)},gZgZg:function(w,n){w.Amnt.v=n[0];
w.NmbR.v=n[1];w.ZZTy.v.ZZTy=["ArnC","OtFr","PndR"][n[2]]},sUnsM:function(w,n){n[0]=w.Amnt.v.val;n[1]=w.Rds.v.val;
n[2]=w.Thsh.v},gUnsM:function(w,n){w.Amnt.v.val=n[0];w.Rds.v.val=n[1];w.Thsh.v=n[2]},sWave:function(w,n){n[0]=w.NmbG.v;
n[1]=w.WLMn.v;n[2]=w.WLMx.v;n[3]=w.AmMn.v;n[4]=w.AmMx.v;n[5]=w.SclH.v;n[6]=w.SclV.v;n[7]=["WvSn","WvTr","WvSq"].indexOf(w.Wvtp.v.Wvtp);
n[8]=["WrpA","RptE"].indexOf(w.UndA.v.UndA);n[9]=w.RndS.v},gWave:function(w,n){w.NmbG.v=n[0];w.WLMn.v=n[1];
w.WLMx.v=n[2];w.AmMn.v=n[3];w.AmMx.v=n[4];w.SclH.v=n[5];w.SclV.v=n[6];w.Wvtp.v.Wvtp=["WvSn","WvTr","WvSq"][n[7]];
w.UndA.v.UndA=["WrpA","RptE"][n[8]];if(n[9]!=null){var H=parseInt(n[9]);if(isNaN(H))H=248325464;H=Math.max(0,Math.min(268435455,H));
w.RndS.v=H}},sbrit:function(w,n){n[0]=w.Brgh?w.Brgh.v:0;n[1]=w.Cntr?w.Cntr.v:0;n[2]=w.useLegacy?w.useLegacy.v:!1},gbrit:function(w,n){w.Brgh.v=n[0];
w.Cntr.v=n[1];if(n[2]!=null)w.useLegacy.v=n[2]}};gT.adg=function(w){var n=new ce(0,0);if(w.enab.v==!1)return n;
var H=w.filterFXList.v;for(var l=0;l<H.length;l++){var y=H[l].v;if(y.enab.v==!1)continue;var c=gT.tu(y),Q=gT.MZ(c,y.Fltr?y.Fltr.v:null);
if(Q.x>n.x)n.x=Q.x;if(Q.y>n.y)n.y=Q.y}return n};gT.MZ=function(w,n){var H=0,y=0;if(["GsnB","boxblur","smartSharpen","UnsM","HghP"].indexOf(w)!=-1){var c=n.Rds?n.Rds.v.val:1;
H=y=c*2.57}if(w=="MtnB")H=y=n.Dstn.v.val;if("Dila,Ofst,Rept,LqFy,Dspl,Pnch,Rple,Shr ,Sphr,Twrl,ZgZg,Wave,RdlB,Clds,DfrC,Plr ,LnCr,Wnd ,lightFilterGradient,rigidTransform,Frgm,Flam".split(",").indexOf(w)!=-1){H=y=1e4}if(w=="GEfc")return i2.MZ(n);
return new ce(Math.ceil(H),Math.ceil(y))};gT.RS=function(){return{t:"Objc",v:{classID:"filterFXStyle",enab:{t:"bool",v:!0},validAtPosition:{t:"bool",v:!0},filterMaskEnable:{t:"bool",v:!0},filterMaskLinked:{t:"bool",v:!0},filterMaskExtendWithWhite:{t:"bool",v:!0},filterFXList:{t:"VlLs",v:[]}}}};
gT.JM=function(w,n){var H={b:n.Ni>>16,J:n.Ni>>8&255,k:n.Ni&255},y={b:n.uu>>16,J:n.uu>>8&255,k:n.uu&255},c=gT.names[w];
if(c==null)c=fb.names[w];var Q=w;for(var q in fb.LA)if(fb.LA[q]==w)Q=q;var S={t:"Objc",v:{classID:"filterFX",Nm:{t:"TEXT",v:hV.get(c)},blendOptions:{t:"Objc",v:{classID:"blendOptions",Opct:{t:"UntF",v:{type:"#Prc",val:100}},Md:{t:"enum",v:{BlnM:"Nrml"}}}},enab:{t:"bool",v:!0},hasoptions:{t:"bool",v:!0},FrgC:{t:"Objc",v:O.M.Yw(H)},BckC:{t:"Objc",v:O.M.Yw(y)},filterID:{t:"long",v:Q.length==4?j.aup(Q):777}}},A=gT.B1(w);
if(A)S.v.Fltr={t:"Objc",v:A};return S};gT.p1=function(w,n,H,y){var c=Date.now(),Q=dy._k&&Math.max(y.m,y.e)<=dy.NK.getParameter(dy.NK.MAX_TEXTURE_SIZE);
if(w<1){var q=Math.round(w*5),S=[1,2,1,2,[40,26,13,6,4,2][q],2,1,2,1];S=O.yb.sF(S);if(!Q){O.A3(H);var A=H.slice(0);
O.yb.NC(A,H,y.m,y.e,S,255);O.kM(H)}else{var V=y.m,e=y.e,d=dy.On(0,V,e);d.set(H);var N=dy.On(1,V,e),b=new Float32Array([1/V,1/e]);
dy.O0(N);dy.filter.Eo({type:dy.filter.a98,i5:b,apx:new Float32Array(S)},d.iX);N.get(H)}}else{var z=n==O.CU.Q3?0:n==O.CU.Er?1:2,v=[];
while(z!=2&&w*[1,2.4][z]>20&&v.length<4){var T=O.Bb(H,y);v.push(H,y);H=T.fF;y=T.rect;w/=2}var V=y.m,e=y.e;
if(!Q||z==2&&w>15){O.A3(H);n(H,y,w);O.kM(H)}else{var d=dy.On(0,V,e);d.set(H);var N=dy.On(1,V,e),b=new Float32Array([1/V,1/e]);
if(z==0){var Y=1;while(Y<w)Y<<=1;dy.O0(N);dy.filter.Eo({type:dy.filter.ly,i5:b,Ha:w,ml:[0,0,Y]},d.iX);
dy.O0(d);dy.filter.Eo({type:dy.filter.ly,i5:b,Ha:w,ml:[0,1,Y]},N.iX);d.get(H)}else if(z==1){var g=3,R=O.CU.Lb(w,g);
for(var l=0;l<g;l++){var h=R[l]>>>1,E=1;while(E<h)E<<=1;if(h==0)continue;dy.O0(N);dy.filter.Eo({type:dy.filter.ly,i5:b,Ha:h,ml:[0,0,E]},d.iX);
dy.O0(d);dy.filter.Eo({type:dy.filter.ly,i5:b,Ha:h,ml:[0,1,E]},N.iX)}d.get(H)}else{var Y=1;while(Y<w)Y<<=1;
dy.O0(N);dy.filter.Eo({type:dy.filter.ly,i5:b,Ha:w,ml:[0,0,Y]},d.iX);N.get(H)}}var G=Date.now();while(v.length!=0){var k=v.pop(),$=v.pop();
O.scale.aad(H,y.m,y.e,$,k.m,k.e);H=$;y=k}}};gT.avh=function(w,n,H,y){for(var l=0;l<w.length;l++){H[l]=w[l]*(1/255);
y[l]=0}FFT.fft2d(H,y);var c=n>>>1,Q=16384,q=128,A=100;while(q<n){q<<=1;Q<<=2}var S=255/Math.log(Q),V=-100;
for(var e=0;e<n;e++)for(var d=0;d<c;d++){var N=n+c+e&n-1,b=H[N*n+d],z=y[N*n+d],v=Math.sqrt(b*b+z*z),T=Math.atan2(z,b);
w[e*n+d]=Math.round(S*Math.log(v+1));w[e*n+c+d]=Math.round((Math.PI+T)*(255*.5/Math.PI))}};gT.aet=function(w,n,H,y){H.fill(0);
y.fill(0);var c=n>>>1,Q=16384,q=128;while(q<n){q<<=1;Q<<=2}var S=255/Math.log(Q),A=[],V=[],e=[];for(var l=0;
l<256;l++){A[l]=Math.exp(l/S)-1;var d=l*(2*Math.PI/255)-Math.PI;V[l]=Math.sin(d);e[l]=Math.cos(d)}for(var N=0;
N<n;N++)for(var b=0;b<c;b++){var z=n+c+N&n-1,v=A[w[N*n+b]],d=w[N*n+c+b],T=v*e[d],Y=v*V[d];H[z*n+b]=T;
y[z*n+b]=Y;if(b!=0){var g=z==0?z*n+n-b:(n-z)*n+(n-b);H[g]=T;y[g]=-Y}}FFT.ifft2d(H,y);for(var l=0;l<w.length;
l++){w[l]=Math.max(0,Math.min(255,~~(.5+255*H[l])))}};gT.a5_=new ArrayBuffer(512);gT.adt=function(w){var n=gT.a5_,H=w.length;
if(n.byteLength<H)gT.a5_=n=new ArrayBuffer(H);var y=new Uint8Array(n);for(var l=0;l<H;l+=4){y[l]=w[l];
y[l+1]=w[l+1];y[l+2]=w[l+2];y[l+3]=w[l+3]}return n};gT.kS=function(w,n,H,y,c,Q,q){if(Q==null)Q={buffer:O.R(n.buffer.length),rect:n.rect.clone()};
Q.buffer.set(n.buffer);var S=H&&H.RndS?H.RndS.v>>>1:0;if(w=="GEfc"){var A=[];if(H.GEfs){var V=H.GEfs.v;
for(var l=0;l<V.length;l++){var e=V[l].v;if(e.GELv&&e.GELv.v==!1)continue;A.push(e)}}else A=[H];for(var l=0;
l<A.length;l++){var d;if(l==0)i2.kS(w,n,A[l],y,c,Q,q);else{if(d==null)d={buffer:O.R(n.buffer.length),rect:n.rect.clone()};
O.Bq(Q.buffer,d.buffer);i2.kS(w,d,A[l],y,c,Q,q)}}}if(w=="Dila"){var N=H.Crop.v.val,b=H.Rds.v.val+N;b=b*b;
if(b==0)return;var z=n.rect,v=z.m,T=z.e,Y=v*T,g=n.buffer,d=Q.buffer,R=O.R(Y);O.RR(g,R,3);if(N!=0){var h=z.clone();
h.i_(1,1);var E=O.R(h.O());O.qS(R,z,E,h);O.G$(E);O.style.stroke(E,E,h,N);O.G$(E);O.qS(E,h,R,z)}var G=O.style.C6(R,v,T);
d.fill(0);for(var k=0;k<T;k++)for(var $=0;$<v;$++){var l=k*v+$,p=l<<1,X=l<<2,C=G[p],D=G[p+1];if(C*C+D*D<b){var o=(k+D)*v+($+C)<<2;
d[X]=g[o];d[X+1]=g[o+1];d[X+2]=g[o+2];d[X+3]=255}}}if(w=="Adobe Camera Raw Filter"){var z=n.rect,v=z.m,T=z.e,Y=v*T,t=Y*4,u=Y*3,m=new Float32Array(v*T*3),U=n.buffer;
for(var l=0;l<Y;l++){var I=l*3,X=l*4;m[I]=U[X]*(1/255);m[I+1]=U[X+1]*(1/255);m[I+2]=U[X+2]*(1/255)}var x=JSON.parse(JSON.stringify(H));
delete x.Upri;delete x.GuUr;var J=m.slice(0);iN(m,v,T,J,x);m=J;U=Q.buffer;for(var l=0;l<Y;l++){var I=l*3,X=l*4;
U[X]=255*Math.max(0,Math.min(1,m[I]));U[X+1]=255*Math.max(0,Math.min(1,m[I+1]));U[X+2]=255*Math.max(0,Math.min(1,m[I+2]))}}if(w=="Fct "){var z=n.rect,v=z.m,T=z.e,Y=v*T,t=Y*4;
function r(kw){var dY=kw.slice(0);for(var k=0;k<3;k++)for(var $=0;$<3;$++)dY[k*3+$]=kw[(2-$)*3+k];return dY}function Z(cI,jJ,fZ,gX){var bx=0;
for(var k=0;k<3;k++)for(var $=0;$<3;$++)bx+=jJ[k*3+$]*cI[(gX-1+k)*v+fZ-1+$];return bx}var f=[8,5,2,5,2,-1,2,-1,-4],F=[5,5,5,2,2,2,-1,-1,-1],_=[2,2,2,2,2,2,2,2,2],K=[];
K.push(f);for(var l=0;l<3;l++)K.push(r(K[K.length-1]));K.push(F);for(var l=0;l<3;l++)K.push(r(K[K.length-1]));
K.push(_);for(var l=0;l<9;l++)K[l]=O.yb.sF(K[l]);var B=[-v-1,-v,-v+1,-1,0,1,v-1,v,v+1],ij=[-1,-1,0,-1,1,-1,-1,0,0,0,1,0,-1,1,0,1,1,1],W=O.R(Y),L=new Float32Array(Y),J=O.R(Y);
for(var i=0;i<3;i++){O.RR(n.buffer,W,i);for(var e3=0;e3<1;e3++){for(var k=1;k<T-1;k++)for(var $=1;$<v-1;
$++){var eE=k*v+$,ec=W[eE];L[eE]=1e9;for(var l=0;l<9;l++){var gw=Z(W,K[l],$,k),bl=(gw-ec)*(gw-ec);if(bl<L[eE])L[eE]=bl}}for(var k=1;
k<T-1;k++)for(var $=1;$<v-1;$++){var cD=0,a$=1e9;for(var l=0;l<9;l++){var hJ=k*v+$+B[l],bl=L[hJ];if(bl<a$){a$=bl;
cD=W[hJ]}}J[k*v+$]=cD}W.set(J)}O.o2(J,Q.buffer,i)}}if(w=="adaptCorrect"){var z=n.rect,v=z.m,T=z.e,Y=v*T,t=Y*4,ei=H.sdwM.v,df=ei.Amnt.v.val/100,bM=ei.Wdth.v.val/100,ib=ei.Rds.v,fI=H.hglM.v,eU=fI.Amnt.v.val/100,gK=fI.Wdth.v.val/100,km=fI.Rds.v;
O.Pa.qs(n.buffer,Q.buffer,v,T,df,bM,ib,eU,gK,km,H.ClrC.v/100,H.Cntr.v/100)}if(w=="denoise"){var z=n.rect,v=z.m,T=z.e,aJ=H.channelDenoise.v[0].v;
O.x3.abg(n.buffer,v,T,Q.buffer,aJ.Amnt.v/10,aJ.EdgF.v/100)}if(w=="HsbP"){var ip=H.Inpt.v.ClrS,fl=H.Otpt.v.ClrS,z=n.rect,v=z.m,T=z.e,Y=v*T;
for(var l=0;l<Y;l++){var X=l*4,e3=n.buffer[X]*(1/255),b3=n.buffer[X+1]*(1/255),dY=n.buffer[X+2]*(1/255);
if(ip=="RGBC"){}else if(ip=="HSLC"){var J=O.EY(e3,b3,dY);e3=J.b;b3=J.J;dY=J.k}else if(ip=="HSBl"){var J=O.a4J(e3,b3,dY);
e3=J.b;b3=J.J;dY=J.k}var k4=e3,aK=b3,jK=dY;if(fl=="RGBC"){}else if(fl=="HSLC"){var J=O.v1(e3,b3,dY);
k4=J.WZ;aK=J.ua;jK=J.fg}else if(fl=="HSBl"){var J=O.vI(e3,b3,dY);k4=J.WZ;aK=J.ua;jK=J.k}Q.buffer[X]=~~(255*k4);
Q.buffer[X+1]=~~(255*aK);Q.buffer[X+2]=~~(255*jK)}}if(w=="Fbrs"){var z=n.rect,v=z.m,T=z.e;O._.GE(n.buffer,v,T,Q.buffer,[H.Vrnc.v,H.Strg.v,S]);
var ay=O.R(v*T);O.RR(Q.buffer,ay,0);O.G$(ay);i2.hL(ay,Q.buffer,y,c)}if(w=="Frgm"){var z=n.rect,v=z.m,T=z.e,f8=n.buffer.slice(0);
O.A3(f8);O._.a7N(f8,v,T,Q.buffer);O.kM(Q.buffer)}if(w=="Flam"){var z=n.rect,v=z.m,T=z.e,gN=H.Clr.v,d4={type:H.Type.v+1,length:H.Leng.v,akv:H.RndL.v,M6:H.Widt.v,amS:H.Angl.v,atL:H.Intr.v,apP:H.Adpt.v,color:{b:gN.Rd.v,J:gN.Grn.v,k:gN.Bl.v},w6:H.Qual.v+1,G2:H.Turb.v,r_:H.Jag.v,opacity:H.Opct.v.val,sc:H.Lins.v,a4B:H.Botm.v,style:H.Styl.v+1,shape:H.Shap.v+1,acI:H.RnSh.v,a4H:H.Arng.v,av4:!1},bK=q[3],hf=bK[0],bC=bK[1],gW=hf[bC.length!=0?bC[0]:0];
if(gW==null){alert("Make a path first");return}var dn=gW.add.vmsk.i,fq=O.r.xD(dn),jN=[];for(var o=0;
o<fq;o++){var cU=O.r.Pt(dn,o),jb=dn[cU];if(jb.length<2)continue;var ac=[];jN.push(ac);var a_=jb.length-(jb.type==3?1:0);
for(var eE=0;eE<a_;eE++){var h5=dn[cU+1+eE],jz=eE==jb.length-1?dn[cU+1]:dn[cU+1+eE+1],jj=h5.H,jy=h5.f$,f=jz.P7,g0=jz.H,bt=Math.round(ce.Re(jj,g0)/5);
for(var kl=0;kl<bt;kl++){var iO=kl/bt,dN=1-iO,$=dN*dN*dN*jj.x+3*dN*dN*iO*jy.x+3*dN*iO*iO*f.x+iO*iO*iO*g0.x,k=dN*dN*dN*jj.y+3*dN*dN*iO*jy.y+3*dN*iO*iO*f.y+iO*iO*iO*g0.y;
ac.push($,k)}}}var aG=[jN,d4],iA=Date.now(),a0=bm(aG);gZ(n.buffer,v,T,Q.buffer,a0,aG)}if(w=="Dfs "){var z=n.rect,v=z.m,T=z.e,cd=["Nrml","DrkO","LghO","anisotropic"].indexOf(H.Md.v.DfsM);
if(cd<3)O._.abY(n.buffer,v,T,Q.buffer,[cd]);else{var aG=[1.4,1.6,1,4,!1,2,[0,0,.001]],z=n.rect.clone();
z.x=z.y=0;O.RI.filter(n.buffer,z,Q.buffer,aG)}}if(w=="TrcC"){var z=n.rect,v=z.m,co=v<<2,T=z.e,c7=H.Lvl.v,cF=H.Edg.v.CntE=="Lwr",b1=n.buffer,a5=Q.buffer;
O.jZ(a5,16777215,4278190080);function iy(en,cz){gc(en,cz);gc(en+1,cz+1);gc(en+2,cz+2)}function ko(en,cz){eR(en,cz);
eR(en+1,cz+1);eR(en+2,cz+2)}function gc(en,cz){var k4=b1[en],aK=b1[cz];if(k4>=c7&&aK<c7)a5[en]=0;if(k4<c7&&aK>=c7)a5[cz]=0}function eR(en,cz){var k4=b1[en],aK=b1[cz];
if(k4>c7&&aK<=c7)a5[cz]=0;if(k4<=c7&&aK>c7)a5[en]=0}if(cF)for(var k=1;k<T;k++)for(var $=1;$<v;$++){var X=k*v+$<<2;
iy(X,X-4);iy(X,X-co)}else for(var k=1;k<T;k++)for(var $=1;$<v;$++){var X=k*v+$<<2;ko(X,X-4);ko(X,X-co)}}if(w=="Embs"){var z=n.rect,v=z.m,T=z.e,aX=-H.Angl.v*Math.PI/180,ck=H.Hght.v,by=H.Amnt.v/100;
ck/=2;var C=Math.cos(aX)*ck,D=Math.sin(aX)*ck,b1=n.buffer,a5=Q.buffer;a5.fill(0);var i3=new Uint32Array(b1.buffer),J=new Uint8Array(4),bb=new Uint32Array(J.buffer);
for(var k=0;k<T;k++)for(var $=0;$<v;$++){var il=0,eH=0,j9=0;if(0<=$+C&&$+C<v&&0<=k+D&&k+D<T){O.K.y$($+C+.5,k+D+.5,i3,v,T,bb,0,0);
il+=J[0]-128;eH+=J[1]-128;j9+=J[2]-128}if(0<=$-C&&$-C<v&&0<=k-D&&k-D<T){O.K.y$($-C+.5,k-D+.5,i3,v,T,bb,0,0);
il-=J[0]-128;eH-=J[1]-128;j9-=J[2]-128}var X=k*v+$<<2;a5[X]=Math.max(0,Math.min(255,il*by+128));a5[X+1]=Math.max(0,Math.min(255,eH*by+128));
a5[X+2]=Math.max(0,Math.min(255,j9*by+128));a5[X+3]=b1[X+3]}}if(w=="ShrE"){var z=n.rect,v=z.m,T=z.e;
O._.ao5(n.buffer,v,T,Q.buffer)}if(w=="Dspc"){var z=n.rect,v=z.m,T=z.e;O._.ask(n.buffer,v,T,Q.buffer)}if(w=="Slrz"){var jq=Q.buffer,jn=128;
for(var l=0;l<jq.length;l+=4){if(jq[l]>jn)jq[l]=255-jq[l];if(jq[l+1]>jn)jq[l+1]=255-jq[l+1];if(jq[l+2]>jn)jq[l+2]=255-jq[l+2]}}if(w=="Wnd "){var z=n.rect,v=z.m,T=z.e,eQ=["Wnd","Blst","Stgr"],ik=H.WndM.v.WndM;
O._.Ln(n.buffer,v,T,Q.buffer,[eQ.indexOf(ik),H.Drct.v.Drct!="Left"])}if(w=="Bokh"){var z=n.rect,v=z.m,T=z.e,Y=v*T,t=Y*4,dR=n.buffer.slice(0),d0=H.BkDi.v.BtDi,ii=H.BkDc,fB=H.BkDs.v,bF=H.BkDp.v/255;
if(d0=="BeIn")bF=0;var hL=57*(.3+.7*((v+T)/2)/1750)*(H.BkIb.v/100)*(1+.2*Math.pow(bF,.1)),ds=parseInt(H.BkIs.v.BtIs.slice(3)),im=-H.BkIr.v*Math.PI/180,eB=[];
for(var l=0;l<8;l++){var gP=im+l*(Math.PI*2/ds),ig=im+(l+1)*(Math.PI*2/ds),ao=Math.cos(gP),el=Math.sin(gP),d_=Math.cos(ig),jO=Math.sin(ig),g2=[0,0,0];
O.Yx.MR([[ao,el,1,0],[d_,jO,1,0],[1,1,1,1]],g2);if(g2[2]>0){g2[0]*=-1;g2[1]*=-1;g2[2]*=-1}eB.push(g2[0],g2[1],g2[2],0)}if(d0=="BeIn"){O.jZ(dR,0,16777215);
bF=1}else if(d0=="BeIt"&&ii.v.BtDc=="BeCt"){}else{var h_;if(d0=="BeIt"&&ii.v.BtDc=="BeCm")h_=q[1];else if(d0=="BeIa")h_=q[2][ii.v];
if(h_==null){O.jZ(dR,0,16777215)}else{var W;if(h_.rect.Hw(z))W=h_.channel;else W=h_.iU(z);O.o2(W,dR,3)}}if(fB)for(var l=0;
l<t;l+=4)dR[l+3]=255-dR[l+3];if(dy._k){var bE=dR,fc=v,gg=T,fh=1,bq=(H.BkSb.v==0||H.BkSt.v==255)&&d0=="BeIn";
if(!bq){var g$=0;for(var l=0;l<t;l+=4)g$+=Math.abs(bF-dR[l+3]*(1/255));g$=g$/Y*hL;var bk=3.14*g$*g$*v*T/3e6;
if(bk>2e3){alert("too large radius");return}}while(bq&&3*(hL/fh)*(hL/fh)*v*T>500*2e3*2e3){var fs=O.Br(dR,new cr(0,0,fc,gg));
dR=fs.fF;fc=fs.rect.m;gg=fs.rect.e;fh*=2}var iA=Date.now(),g=dy.On(0,fc,gg);g.set(dR);var cf=dy.On(1,v,T);
dy.O0(cf);dy.filter.Eo({type:dy.filter.a6u,i5:new Float32Array([1/fc,1/gg]),a9C:bF,Kg:hL/fh,a34:new Float32Array([H.BkSb.v/100,H.BkSt.v/255]),ab_:new Float32Array([H.BkNa.v/100,H.BkNt.v.BtNt=="BeNu"?0:1,H.BkNm.v?1:0]),a6s:new Float32Array(eB.slice(0,16)),ayA:new Float32Array(eB.slice(16))},g.iX);
cf.get(Q.buffer);var e1=Q.buffer;for(var l=0;l<t;l+=4)e1[l+3]=n.buffer[l+3]}}if(w=="rigidTransform"){var iA=Date.now(),cv=gT.adt,g=n.buffer.slice(0),ht=0,jZ=0;
O.A3(g);O.jZ(Q.buffer,0);var v=n.rect.m,T=n.rect.e,jp=H.puppetShapeList.v,ee=[],bP=[],jW=[],hy=[];for(var eE=0;
eE<jp.length;eE++){var fa=jp[eE].v,p=ht*2,I=jZ*3,ju=fa.originalVertexArray.v.length>>>2,dC=fa.indexArray.v.length>>>2,et=new Float32Array(cv(fa.originalVertexArray.v));
for(var l=0;l<ju;l++)ee[p+l]=et[l];var jU=new Float32Array(cv(fa.deformedVertexArray.v));for(var l=0;
l<ju;l++)bP[p+l]=jU[l];var dH=new Uint32Array(cv(fa.indexArray.v));for(var l=0;l<dC;l++)jW[I+l]=ht+dH[l];
var bf=[],fD=[],cR=fa.PnDp.v;for(var l=0;l<cR.length;l++){bf.push(fa.pinVertexIndices.v[l].v);fD.push(cR[l].v)}var fv=O.uX.atS(et,dH,bf,fD);
for(var l=0;l<fv.length;l++)hy[ht+l]=fv[l];ht+=ju>>>1;jZ+=~~(dC/3)}var e3=n.rect,v=e3.m,T=e3.e;O.uX.vY(g,v,T,Q.buffer,v,T,ee,bP,hy,jW);
O.kM(Q.buffer)}if(w=="lightFilterGradient"){function f2(jj){var jJ=1/Math.sqrt(jj[0]*jj[0]+jj[1]*jj[1]+jj[2]*jj[2]);
jj[0]*=jJ;jj[1]*=jJ;jj[2]*=jJ}var v=n.rect.m,T=n.rect.e,Y=v*T,iA=Date.now(),jh=O.R(Y),aK=.3,jK=.7;O._i(Q.buffer,jh);
var jr=O.R(Y);O.CU.Tw(jh,jr,Q.rect,16);var cy=O.R(Y);O.CU.Tw(jh,cy,Q.rect,8);var cA=jh,kq=new Float32Array(Y),am=H.Dtl.v,dg=am[2].v,ja=am[1].v,aW=am[0].v,bx=H.Scl.v*40*H.textureScale.v/(dg+ja+aW);
dg*=bx;ja*=bx;aW*=bx;for(var l=0;l<Y;l++){var hT=jr[l]*(1/255),dp=cy[l]*(1/255),hA=cA[l]*(1/255);hA=hA*hA;
kq[l]=dg*hT+ja*dp+aW*hA}var cw=H.blur.v;if(cw!=0){var jC=kq.slice(0);O.CU.q4(jC,kq,Q.rect,cw)}var fi=v-1,i_=T-1;
for(var k=0;k<T;k++)for(var $=0;$<v;$++){var l=k*v+$,X=l*4,hz=kq[l],C=aK*(kq[l+($==fi?0:1)]-hz)+jK*(hz-kq[l-($==0?0:1)]),D=aK*(kq[l+(k==i_?0:v)]-hz)+jK*(hz-kq[l-(k==0?0:v)]),jj=[1,0,C],jy=[0,1,D];
f2(jj);f2(jy);var ig=jj[0],eA=jj[2],e0=jy[1],g4=jy[2],af=-eA*e0,h0=-ig*g4,dA=ig*e0;Q.buffer[X]=~~(127.5+af*127.5);
Q.buffer[X+1]=~~(127.5+h0*127.5);Q.buffer[X+2]=~~(127.5+dA*127.5)}}if(w=="defr"){var v=n.rect.m,T=n.rect.e;
fP(n.buffer,v,T,Q.buffer)}if(w=="dDFT"||w=="iDFT"){function jt(ds){if(ds==0)return 1;ds--;ds|=ds>>1;
ds|=ds>>2;ds|=ds>>4;ds|=ds>>8;ds|=ds>>16;return ds+1}var v=n.rect.m,T=n.rect.e,fy=jt(Math.max(v,T)),d2=fy>>>1,f3=new cr(0,0,fy,fy),dG=new cr(0,0,v,T);
dG.y=fy-T>>>1;var hG=v>>>1,js=new cr(0,dG.y,hG,T),ed=new O.$Z(v*T);O.cw(n.buffer,ed);var cL=new Float64Array(fy*fy),iF=new Float64Array(fy*fy),W=O.R(fy*fy);
FFT.init(fy);var k7=[ed.b,ed.J,ed.k];for(var l=0;l<3;l++){var aH=k7[l];W.fill(0);if(w=="dDFT"){O.qS(aH,dG,W,f3);
gT.avh(W,fy,cL,iF);O.qS(W,f3,aH,dG,js);js.x+=hG;f3.x-=d2-hG;O.qS(W,f3,aH,dG,js);js.x-=hG;f3.x+=d2-hG}else{O.qS(aH,dG,W,f3,js);
js.x+=d2;dG.x+=d2-hG;O.qS(aH,dG,W,f3,js);js.x-=d2;dG.x-=d2-hG;gT.aet(W,fy,cL,iF);O.qS(W,f3,aH,dG)}}O.HR(ed,Q.buffer)}if(w=="Avrg"){var ar=0,dE=0,jR=0,b0=0,aR=1;
for(var l=0;l<n.buffer.length;l+=4){var R=n.buffer[l+3];jR+=n.buffer[l]*R;dE+=n.buffer[l+1]*R;ar+=n.buffer[l+2]*R;
b0+=R}var ge=1/b0;ar=Math.round(aR*(ar*ge)+(1-aR)*255);dE=Math.round(aR*(dE*ge)+(1-aR)*255);jR=Math.round(aR*(jR*ge)+(1-aR)*255);
O.jZ(Q.buffer,ar<<16|dE<<8|jR,4278190080)}if(["GsnB","boxblur","smartSharpen","UnsM","HghP"].indexOf(w)!=-1){var cj=H.Rds?H.Rds.v.val:1,jT=w=="boxblur"?O.CU.Q3:O.CU.Er;
gT.p1(cj,jT,Q.buffer,Q.rect);if(w=="UnsM"||w=="smartSharpen"){var by=(H.Amnt?H.Amnt.v.val:200)/100,gy=0;
if(w=="UnsM")gy=H.Thsh.v;else by*=.75;for(var l=0;l<n.buffer.length;l++){if((l&3)==3){Q.buffer[l]=n.buffer[l];
continue}var ec=n.buffer[l],gw=Q.buffer[l],fQ=by*(ec-gw);if(fQ>0)fQ=Math.max(0,fQ-gy);else fQ=Math.min(0,fQ+gy);
Q.buffer[l]=Math.max(0,Math.min(255,ec+fQ))}}if(w=="HghP")for(var l=0;l<n.buffer.length;l++){if((l&3)==3){Q.buffer[l]=n.buffer[l];
continue}var ec=n.buffer[l],gw=Q.buffer[l];Q.buffer[l]=Math.max(0,Math.min(255,128+ec-gw))}}if(w=="AdNs"){var ie=new Uint8ClampedArray(Q.buffer.buffer),fw=255*H.Nose.v.val/100,kx;
if(H.Dstr.v.Dstr=="Gsn")kx=function(){return(Math.random()+Math.random()+Math.random()+Math.random()-2)*2};
else kx=function(){return Math.random()*2-1};for(var l=0;l<ie.length;l+=4){var e3=ie[l],b3=ie[l+1],dY=ie[l+2],ia,gt,i1;
if(H.Mnch.v){ia=gt=i1=kx()}else{ia=kx();gt=kx();i1=kx()}e3+=fw*ia;b3+=fw*gt;dY+=fw*i1;ie[l]=e3;ie[l+1]=b3;
ie[l+2]=dY}}var iA=Date.now();if(w=="Mdn "||w=="DstS"||w=="Mxm "||w=="Mnm "||w=="surfaceBlur"){var e3=0,aT=H.Thsh,fa=0;
if(aT)aT=aT.v;else aT=0;if(w=="Mdn "||w=="Mxm "||w=="Mnm "||w=="surfaceBlur")e3=H.Rds.v.val;else e3=H.Rds.v;
var hM=H.preserveShape;if(hM&&hM.v.preserveShape=="Rndn")fa=1;var v=n.rect.m,T=n.rect.e,gx=["Mnm ","Mxm ","surfaceBlur"].indexOf(w),bX=(fa==0?1:.75)*[.73,.73,1][gx]*(v*T*e3*e3)/1722387,dt=[.73,.9,1.4][gx]*(v*T*Math.sqrt(e3))/6500;
if(dy._k&&gx!=-1&&(bX<dt||fa==1)&&bX<1500){var g=dy.On(0,v,T);g.set(n.buffer);var d=dy.On(1,v,T);dy.O0(d);
dy.filter.Eo({type:dy.filter.arB,i5:new Float32Array([1/v,1/T]),Kg:e3,ajx:aT/255,ml:[fa,gx,10*Math.ceil(e3/10)]},g.iX);
d.get(Q.buffer)}else{e3=Math.round(e3);O.Hs.eP=.5;var jT=O.Hs.jK;if(w=="Mxm ")jT=O.Hs.uG;if(w=="Mnm ")jT=O.Hs.vy;
if(w=="surfaceBlur")jT=O.Hs.wP;O.Hs.ZQ(n.buffer,Q.buffer,v,T,e3,jT,[aT]);if(w=="DstS")for(var l=0;l<v*T*4;
l++){var eb=Math.abs(n.buffer[l]-Q.buffer[l]);if(eb<=aT)Q.buffer[l]=n.buffer[l]}}}if(w=="ClrH"){var js=n.rect.clone();
js.x=js.y=0;var e3=H.Rds.v;e3=Math.round(e3*Math.sqrt(2));var v=js.m,T=js.e,ed=new O.$Z(v*T);O.cw(n.buffer,ed);
O.G$(ed.b);O.G$(ed.J);O.G$(ed.k);var a1=O.Ke(v,T),e1=O.R(v*T*4);for(var cI=0;cI<3;cI++){var W=cI==0?ed.b:cI==1?ed.J:ed.k,aX=Math.PI*H["Ang"+(cI+1)].v/180,ew=new b7(1/e3,0,0,1/e3,0,0);
ew.rotate(aX);O.o2(W,e1,3);var J=P.WJ.T_([e1,js],ew,!0),dG=J.rect;a1.clearRect(0,0,v,T);var gV=Math.sin(aX),k5=Math.cos(aX);
for(var l=0;l<dG.e;l++)for(var kl=0;kl<dG.m;kl++){var $=(kl+dG.x+.5)*e3,k=(l+dG.y+.5)*e3,fr=$,ad=k;$=k5*fr-gV*ad;
k=gV*fr+k5*ad;var Y=J.buffer[(l*dG.m+kl<<2)+3]*(1/255),cj=e3*Math.sqrt(Y*(1/Math.PI));a1.beginPath();
a1.arc($,k,cj,0,2*Math.PI);a1.fill()}var dr=a1.getImageData(0,0,v,T);O.RR(dr.data,W,3)}O.G$(ed.b);O.G$(ed.J);
O.G$(ed.k);O.HR(ed,Q.buffer)}if(w=="Crst"||w=="Pntl"){var v=n.rect.m,T=n.rect.e,jT=w=="Crst"?O.px.arx:O.px.awg;
jT(n.buffer,v,T,Q.buffer,H.ClSz.v,[Math.round(c.b),Math.round(c.J),Math.round(c.k)])}if(w=="Mztn"){var v=n.rect.m,T=n.rect.e,Y=v*T,ed=new O.$Z(Y),cW=[ed.b,ed.J,ed.k];
O.cw(n.buffer,ed);var ik=H.MztT.v.MztT,kt={FnDt:[.1,0,.3,1.4],MdmD:[.9,0,.1,1.4],GrnD:[3,0,.2,1.4],CrsD:[7,0,.1,1.4],ShrL:[0,10,.16,3],MdmL:[0,22,.06,3],LngL:[0,25,.01,4.5],ShSt:[3,10,.05,4.4],MdmS:[4,25,.15,4],LngS:[4,30,.05,4]}[ik],iA=Date.now(),jP=[];
for(var l=0;l<Y;l++){jP[l]=Math.random()}var Y=v*T,kf=Math.round(Y*kt[0]),h3=Y-v-1;for(var l=0;l<kf;
l++){var hp=Math.random(),aY=1;if(hp<.5){aY=v;hp*=2}else hp=2*(hp-.5);var en=Math.floor(hp*h3),cz=en+aY;
jP[en]=jP[cz]}var ax=Math.round(v*kt[1]);for(var k=0;k<T;k++)for(var l=0;l<ax;l++){var hp=O.q.bj(k*Y+l),en=k*v+Math.floor(hp*(v-1));
jP[en]=jP[en+1]}var eq=new Float64Array(256);for(var l=0;l<256;l++){var h8=l/255,i8=2*(h8<.5?h8:1-h8);
i8=kt[2]+Math.pow(i8,kt[3])*(1-kt[2]);h8=h8<.5?i8*.5:1-i8*.5;eq[l]=h8}for(var i=0;i<3;i++){var W=cW[i];
for(var k=0;k<T;k++){for(var $=0;$<v;$++){var l=k*v+$,fx=W[l],h8=eq[fx],hp=jP[l];W[l]=hp>h8?0:255}}}O.HR(ed,Q.buffer)}if(w=="Msc "){var fq=H.ClSz.v.val,v=n.rect.m,T=n.rect.e,iI=Math.ceil(v/fq),aM=Math.ceil(T/fq),i9=O.R(iI*aM*4);
O.scale.ou(n.buffer,v,T,i9,iI,aM,1/fq);O.scale.ou(i9,iI,aM,Q.buffer,v,T,fq)}if(w=="Clds"||w=="DfrC"){var v=Q.rect.m,T=Q.rect.e,Y=v*T,gp=O.R(Y);
if(w=="Clds")O.jZ(Q.buffer,4278190080);var ke=O.R(256*4);for(var l=0;l<256;l++){var X=l<<2,kw=l/255,dH=1-kw;
ke[X]=Math.round(kw*y.b+dH*c.b);ke[X+1]=Math.round(kw*y.J+dH*c.J);ke[X+2]=Math.round(kw*y.k+dH*c.k)}O._.ahz(n.buffer,v,T,gp);
var jX=Q.buffer;for(var l=0;l<Y;l++){var X=l<<2,i=gp[l]<<2,e3=ke[i],b3=ke[i+1],dY=ke[i+2];if(w=="Clds"){jX[X]=e3;
jX[X+1]=b3;jX[X+2]=dY}else{jX[X]=Math.abs(jX[4*l]-e3);jX[X+1]=Math.abs(jX[4*l+1]-b3);jX[X+2]=Math.abs(jX[4*l+2]-dY)}}}if(w=="LnsF"){var v=n.rect.m,T=n.rect.e,ik=["Zm","Nkn","Nkn1","PnVs"].indexOf(H.Lns.v.Lns),aP=H.FlrC.v,bn=[Math.min(ik,2),H.Brgh.v/100,aP.Hrzn.v,aP.Vrtc.v],iA=Date.now();
O.acR(n.buffer,v,T,Q.buffer,bn)}var gF=["Blr ","BlrM","Shrp","ShrM"].indexOf(w);if(gF!=-1){var d7=gF>1,v=n.rect.m,T=n.rect.e,gC=O.yb.LX[gF],bH=n.buffer.slice(0);
if(!d7)O.A3(bH);O.yb.NC(bH,Q.buffer,v,T,gC,255,!1,d7);if(!d7)O.kM(Q.buffer)}if(w=="MtnB"){var au=-H.Angl.v*Math.PI/180,gL=H.Dstn.v.val/2,iA=Date.now(),v=n.rect.m,T=n.rect.e,z=n.rect.clone();
z.x=z.y=0;if(dy._k){var iA=Date.now(),fY=Q.buffer;fY.set(n.buffer);O.A3(fY);var al=dy.On(0,v,T);al.set(fY);
var b1=O.R(4);b1[0]=Math.round(128+127*Math.cos(au));b1[1]=Math.round(128+127*Math.sin(au));new Uint32Array(fY.buffer).fill(new Uint32Array(b1.buffer)[0]);
var eW=dy.On(1,v,T);eW.set(fY);dy.O0(al,z);al.yp(z);dy.filter.Eo({type:dy.filter.gx,d6:eW.iX,i5:new Float32Array([1/v,1/T]),a5J:gL/2,av6:1},al.Qq);
al.get(fY);O.kM(fY)}else{var ew=new b7;ew.rotate(au);var J=P.WJ.T_([n.buffer,n.rect],ew,!1,null,!0);
gT.p1(gL,O.CU.AZ,J.buffer,J.rect);ew.G$();J=P.WJ.T_([J.buffer,J.rect],ew,!1,Q.buffer.buffer,!0,Q.rect)}console.log(Date.now()-iA)}if(w=="RdlB"){var v=n.rect.m,T=n.rect.e,by=H.Amnt.v,iZ=H.BlrM.v.BlrM=="Zm",cI=H.Cntr.v,fZ=cI.Hrzn.v,gX=cI.Vrtc.v,C=Math.max(fZ,1-fZ)*v,D=Math.max(gX,1-gX)*T,cj=Math.sqrt(C*C+D*D),dF=2*Math.PI*cj*1.5,k8=Math.round(dF),bO=Math.round(cj),js=new cr(0,0,k8,bO),bu=O.R(k8*bO*4),em=iZ?4:1,hK=iZ?.6:8*((v+T)/2)/1400,g7=.1,fh=1,j2=1;
O.K.vW(n.buffer,v,T,bu,k8,bO,fZ,gX,em,g7,fh,j2);var dS=iZ?O.R(k8*bO*4):null;if(iZ){O.K.wf(bu,dS,k8,bO);
var iO=dS;dS=bu;bu=iO;js.m=bO;js.e=k8}gT.p1(hK*by,O.CU.AZ,bu,js);if(iZ){O.K.wf(bu,dS,bO,k8);var iO=dS;
dS=bu;bu=iO;js.m=k8;js.e=bO}O.K.Nr(bu,k8,bO,Q.buffer,v,T,fZ,gX,em,g7,fh,j2)}if(w=="Plr "){var v=n.rect.m,T=n.rect.e;
if(H.Cnvr.v.Cnvr=="RctP")O.K.Nr(n.buffer,v,T,Q.buffer,v,T,.5,.5,1,0,2,v/T);else O.K.vW(n.buffer,v,T,Q.buffer,v,T,.5,.5,1,0,2,v/T)}if(w=="FndE"){var v=n.rect.m,T=n.rect.e;
O.yb.$N(n.buffer,Q.buffer,v,T)}if(w=="oilPaint"){var aX=H.LghD.v*Math.PI/180,dZ=[Math.cos(aX),Math.sin(aX),.001],aG=[H.stylization.v,H.cleanliness.v,H.brushScale.v,H.microBrush.v,H.lightingOn.v,H.specularity.v,dZ],z=n.rect.clone();
z.x=z.y=0;O.RI.filter(n.buffer,z,Q.buffer,aG)}if(w=="Ofst"){var v=n.rect.m,T=n.rect.e,b6=new Uint32Array(n.buffer.buffer),bV=new Uint32Array(Q.buffer.buffer),fr=H.Hrzn.v,ad=H.Vrtc.v,aO=H.Fl.v.FlMd;
O.jZ(bV,0);if(aO=="Bckg"||aO=="Rpt"){var js=n.rect.clone();js.offset(fr,ad);O.j1(b6,js,bV,Q.rect)}if(aO=="Rpt"){var ao,el,d_,jO,cm;
fr=Math.max(-v,Math.min(v,fr));ad=Math.max(-T,Math.min(T,ad));ao=fr>0?fr:0;d_=fr>0?v:v+fr;el=ad>0?0:ad+T;
jO=ad>0?ad:T;cm=ad>0?0:v*(T-1);for(var k=el;k<jO;k++)for(var $=ao;$<d_;$++)bV[k*v+$]=b6[cm+$-fr];ao=fr>0?0:v+fr;
d_=fr>0?fr:v;el=ad>0?ad:0;jO=ad>0?T:T+ad;cm=fr>0?0:v-1;for(var k=el;k<jO;k++)for(var $=ao;$<d_;$++)bV[k*v+$]=b6[cm+v*(k-ad)];
if(fr>=0&&ad>=0){ao=0;d_=fr;el=0;jO=ad;cm=0}if(fr>=0&&ad<0){ao=0;d_=fr;el=T+ad;jO=T;cm=v*(T-1)}if(fr<0&&ad>=0){ao=v+fr;
d_=v;el=0;jO=ad;cm=v-1}if(fr<0&&ad<0){ao=v+fr;d_=v;el=T+ad;jO=T;cm=v*T-1}for(var k=el;k<jO;k++)for(var $=ao;
$<d_;$++)bV[k*v+$]=b6[cm]}if(aO=="Wrp"){fr=(fr+100*v)%v;ad=(ad+100*T)%T;var js=new cr(fr-v,ad-T,v,T);
O.j1(b6,js,bV,Q.rect);js.offset(v,0);O.j1(b6,js,bV,Q.rect);js.offset(0,T);O.j1(b6,js,bV,Q.rect);js.offset(-v,0);
O.j1(b6,js,bV,Q.rect)}}if(w=="Rept"){var jf=H.Rsft.v.val/100,aN=H.SpcX.v.val/100;aN=Math.max(aN,-.99);
var aZ=H.SpcY.v.val/100;aZ=Math.max(aZ,-.99);var fh=H.Scl.v.val/100,ew=new b7;ew.rotate(H.Angl.v*Math.PI/180);
ew.scale(fh,fh);var aw={buffer:n.buffer,rect:n.rect};O.Vu(aw);if(aw.rect._G()){aw.buffer=n.buffer;aw.rect=n.rect}var jX=aw.buffer,js=aw.rect,eN=O.od(jX,js,0),d1=new Uint32Array(jX.buffer)[0];
if(!eN._G()&&!eN.Hw(js)){var hH=O.R(eN.O()*4);O.j1(jX,js,hH,eN);jX=hH;js=eN}js.x=js.y=0;d1=aN==0&&aZ==0||H.SpcC.v?d1:0;
function jo($){return $<0?Math.ceil($):Math.floor($)}var dP=ew.rY(new ce(js.m,0));dP.x=jo(dP.x);dP.y=jo(dP.y);
var jD=ew.rY(new ce(0,js.e));jD.x=jo(jD.x);jD.y=jo(jD.y);var J=P.WJ.T_([jX,js],ew,!1),dG=J.rect,a5=J.buffer,fo=Math.round(dG.x),fj=Math.round(dG.y),kd=Math.max(Q.rect.m,Q.rect.e)/Math.min(js.m*fh*(1+aN),js.e*fh*(1+aZ));
kd=Math.ceil(kd*1.7);O.jZ(Q.buffer,d1);for(var k=-kd;k<kd;k++){for(var $=-kd;$<kd;$++){var e_=($+k*jf)*(1+aN),cS=k*(1+aZ);
dG.x=fo+Math.round(e_*dP.x+cS*jD.x);dG.y=fj+Math.round(e_*dP.y+cS*jD.y);if(dG.QW(Q.rect))O.q.SG("norm",a5,dG,Q.buffer,Q.rect,dG,1)}}}if(w=="Ctoa"){var c=O.M.cH(H.Clr.v),aT=H.Trsp.v.val/100,dc=H.Opct.v.val/100;
aT=dc==0?0:aT/dc;var v=n.rect.m,T=n.rect.e,iJ=~~c.b,ai=~~c.J,hX=~~c.k,cm=n.buffer,hJ=Q.buffer;for(var k=0;
k<T;k++)for(var $=0;$<v;$++){var l=k*v+$,X=l<<2,js=cm[X],iH=cm[X+1],jX=cm[X+2],cK=Math.abs(iJ-js),f4=Math.abs(ai-iH),bQ=Math.abs(hX-jX),gi=Math.max(cK,f4,bQ)*(1/255);
gi=Math.max(0,Math.min(1,gi/dc));var ae=gi==0?0:1/gi,jE=aT==1?1:Math.max(0,Math.min(1,(gi-aT)/(1-aT)));
hJ[X]=Math.max(0,Math.min(255,(js-iJ*(1-gi))*ae));hJ[X+1]=Math.max(0,Math.min(255,(iH-ai*(1-gi))*ae));
hJ[X+2]=Math.max(0,Math.min(255,(jX-hX*(1-gi))*ae));hJ[X+3]=~~(.5+jE*255)}}if(w=="Dthr"){function dK($){return~~(.5+255*O.so($/255))}var eE=H.Plte.v,kv;
if(eE==0)kv=[4278190080,4294967295];else{var hP=[[1,1,1],[2,2,2],[3,3,2]][eE-1],cu=[1<<hP[0],1<<hP[1],1<<hP[2]],ap=[~~(255/(cu[0]-1)),~~(255/(cu[1]-1)),~~(255/(cu[2]-1))];
kv=[];for(var e3=0;e3<cu[0];e3++)for(var b3=0;b3<cu[1];b3++)for(var dY=0;dY<cu[2];dY++)kv.push(255<<24|dK(dY*ap[2])<<16|dK(b3*ap[1])<<8|dK(e3*ap[0]))}var v=n.rect.m,T=n.rect.e,Y=v*T,eX=Y*4,j9=n.buffer.slice(0),fN=Q.buffer;
for(var l=0;l<eX;l++)j9[l]=~~(.5+255*O.so(j9[l]/255));var hI=O.R(v*T);UPNG.encode.dither(j9,v,T,kv,fN,hI,H.Mthd?H.Mthd.v:1);
for(var l=0;l<eX;l++)fN[l]=~~(.5+255*O.nC(fN[l]/255))}if(w=="Part"){var bB=[H.RndS.v,H.Cont.v/100,H.Size.v,H.Dpth.v/100,H.Brgh.v/100,O.M.cH(H.Clr.v),H.Time.v,H.Blnk.v,H.Fall.v,H.Turb.v/100];
O.mN.iT(Q.buffer,n.rect.m,n.rect.e,bB)}if("LqFy,Dspl,Pnch,Sphr,Twrl,Rple,Shr ,Wave,LnCr,ZgZg,Kale".split(",").indexOf(w)!=-1){var cB=q[0],v=n.rect.m,T=n.rect.e,eq,an=0;
if(w=="LqFy")eq=ct.V2(new Uint8Array(H.LqMe.v).buffer);else{var e9=3;eq={pV:Math.floor(v/e9),WZ:Math.floor(T/e9)};
eq.map=new Float32Array(eq.pV*eq.WZ*2);if(w=="LnCr"){var fZ=.5*(eq.pV-1),gX=.5*(eq.WZ-1),he=Math.max(Math.abs(0-fZ),Math.abs(1-fZ)),gm=Math.max(Math.abs(0-gX),Math.abs(1-gX)),aV=Math.sqrt(he*he+gm*gm),go=0,g8=0,dm=-1,aF=2,fh=H.LnSi.v/100,iZ=1/fh,eG=H.LnIa.v/100,iK=eG==0?1e-6:eG*4.6,ez=iZ/aV;
for(var k=0;k<eq.WZ;k++){for(var $=0;$<eq.pV;$++){var C=($-fZ)*ez,D=(k-gX)*ez,e3=Math.sqrt(C*C+D*D)*iK,c$=Math.atan(e3),g1=eG>0?c$/e3:e3/c$,j2=fZ+aV*g1*C,fS=gX+aV*g1*D,l=k*eq.pV+$<<1;
eq.map[l]=j2-$;eq.map[l+1]=fS-k}}}else if(w=="Kale"){var iI=eq.pV,aM=eq.WZ,gG=(iI-1)*.5,i_=(aM-1)*.5,gb=H.MRot.v*Math.PI/180+Math.PI/2+4*Math.PI,k6=H.Mirr.v,eD=Math.PI*2/k6,d$=.5*eD;
for(var k=0;k<aM;k++)for(var $=0;$<iI;$++){var C=$-gG,D=k-i_,hj=Math.sqrt(C*C+D*D),aX=Math.atan2(D,C)+gb;
aX=aX%eD;if(aX>d$)aX=eD-aX;var j2=gG+Math.cos(aX-gb)*hj,fS=i_+Math.sin(aX-gb)*hj,l=(k*iI+$)*2;eq.map[l]=j2-$;
eq.map[l+1]=fS-k}}else if(w=="Dspl"&&cB.length!=0){an=H.UndA.v.UndA=="WrpA"?2:1;var iT=H.DspF.v.pth,er;
for(var l=0;l<cB.length;l++)if(cB[l].h4==iT)er=cB[l];if(er==null)er=cB[0];er.E$();var cK=er.TM[1],ek=O.R(cK.O());
O._i(er.TM[0],ek);var aA=cK.m,gH=cK.e;eq={pV:aA,WZ:gH};eq.map=new Float32Array(eq.pV*eq.WZ*2);var bG=2.54*H.HrzS.v*aA/v,eg=2.54*H.VrtS.v*gH/T;
for(var k=0;k<eq.WZ;k++){for(var $=0;$<eq.pV;$++){var eb=-.5+ek[k*aA+$]*(1/255),l=k*eq.pV+$<<1;eq.map[l]=eb*bG;
eq.map[l+1]=eb*eg}}}else if(w=="Pnch"||w=="Twrl"||w=="Sphr"||w=="ZgZg"){var by=1,au=Math.PI,iV=0,ho=1,h2=0,cI=3,fq=1.53,g1=1;
if(w=="Pnch"||w=="Sphr"||w=="ZgZg")by=H.Amnt.v/100;if(w=="ZgZg"){ho=H.NmbR.v;h2=["ArnC","OtFr","PndR"].indexOf(H.ZZTy.v.ZZTy)}if(w=="Twrl")au=H.Angl.v*Math.PI/180;
if(w=="Sphr")iV=["Nrml","HrzO","VrtO"].indexOf(H.SphM.v.SphM);function jT($){$=Math.pow($,1-$*.3-$*$*($*$)*.5);
return-.225*Math.sin($*Math.PI)}function c_(T,jJ,e3,ao,el,d_,jO,g1){var C=d_-ao,D=jO-el,cQ=ao-T,hZ=el-jJ,kw=C*C+D*D,dY=2*(C*cQ+D*hZ),cI=cQ*cQ+hZ*hZ-e3*e3,dk=Math.sqrt(dY*dY-4*kw*cI),a6=g1/(2*kw),jm=(-dY+dk)*a6,ku=(-dY-dk)*a6;
return g1*Math.min(jm,ku)}var iI=eq.pV,aM=eq.WZ,gG=eq.pV/2,i_=eq.WZ/2,fn=1/gG,e3=Math.sqrt(cI*cI+1)/cI,aH=cI+Math.sqrt(1/(cI*cI));
if(by<0){cI=1.72;e3=1;aH=cI;fq=-1;g1=-1}for(var k=0;k<aM;k++){var D=(k-i_)/i_;for(var $=0;$<iI;$++){var C=($-gG)*fn;
if(iV==1)D=0;else if(iV==2)C=0;var dX=Math.sqrt(C*C+D*D);if(dX<1&&dX!=0){var l=k*eq.pV+$<<1;if(w=="Pnch"){var j0=-by*jT(dX)/dX;
eq.map[l]=C*j0*gG;eq.map[l+1]=D*j0*i_}else if(w=="Sphr"){var iO=c_(0,aH,e3,0,0,dX,cI,g1),c5=fq*by*(iO-1);
eq.map[l]=C*c5*gG;eq.map[l+1]=D*c5*i_}else if(w=="Twrl"){var aX=Math.atan2(D,C)-au*(1-dX)*(1-dX),bv=Math.cos(aX),hS=Math.sin(aX);
eq.map[l]=(dX*bv-C)*gG;eq.map[l+1]=(dX*hS-D)*i_}else if(w=="ZgZg"){var bv=0,hS=0,dI=by*(.5-.5*Math.cos(dX*ho*2*Math.PI))*(1-dX);
if(h2==0){var aX=Math.atan2(D,C)-3.5*dI;bv=dX*Math.cos(aX);hS=dX*Math.sin(aX)}if(h2==1){dI=100/v*dI/dX;
bv=(1-dI)*C;hS=(1-dI)*D}if(h2==2){var _=512/v*dI*Math.PI/4;bv=_+C;hS=_+D}eq.map[l]=(bv-C)*gG;eq.map[l+1]=(hS-D)*i_}}}}}else if(w=="Shr "){var dn=JSON.parse(JSON.stringify(H.ShrP.v));
O.hT.D(dn,new b7(0,255/127,255/127,0,-2,0));var jF=O.hT.ea(dn,eq.WZ,!0);an=H.UndA.v.UndA=="WrpA"?2:1;
for(var k=0;k<eq.WZ;k++){var C=-jF[k]*eq.pV;for(var $=0;$<eq.pV;$++){var l=k*eq.pV+$<<1;eq.map[l]=C}}}else if(w=="Wave"){var gr=H.NmbG.v,jl=H.WLMn.v,iE=H.WLMx.v,hR=H.AmMn.v*(Math.PI/4),fu=H.AmMx.v*(Math.PI/4),du=H.SclH.v/100,bc=H.SclV.v/100,ik=H.Wvtp.v.Wvtp,dI=Math.sin;
if(ik=="WvTr")dI=function($){$*=2/Math.PI;return-.5+Math.abs($%2-1)};if(ik=="WvSq")dI=function($){$*=2/Math.PI;
return 1+2*Math.floor($%2-1)};var bz=[],fH=new O.q.$x(H.RndS.v);for(var l=0;l<gr;l++){bz.push(fH.get()*10);
bz.push(Math.PI*e9/(jl+fH.get()*(iE-jl)));bz.push(du*(hR+fH.get()*(fu-hR))/e9);bz.push(fH.get()*10);
bz.push(Math.PI*e9/(jl+fH.get()*(iE-jl)));bz.push(bc*(hR+fH.get()*(fu-hR))/e9)}var bT=[],kr=[],c6=Math.max(eq.pV,eq.WZ);
for(var l=0;l<c6;l++){var C=0,D=0;for(var kl=0;kl<gr;kl++){var aq=kl*6;C+=bz[aq+2]*dI(bz[aq]+l*bz[aq+1]);
D+=bz[aq+5]*dI(bz[aq+3]+l*bz[aq+4])}bT[l]=D;kr[l]=C}for(var k=0;k<eq.WZ;k++){for(var $=0;$<eq.pV;$++){var l=k*eq.pV+$<<1;
eq.map[l]=kr[k];eq.map[l+1]=bT[$]}}an=H.UndA.v.UndA=="WrpA"?2:1}else if(w=="Rple"){an=1;var by=H.Amnt.v/100,fU=4,gS=[0,-.19,-.29,-.32,.92,.37,.93,.54,-.54,.42,-.29,-.58,-.67,.85,0,.64],e4=1,ix=1,cQ=0,dx=["Sml","Mdm","Lrg"].indexOf(H.RplS.v.RplS);
if(dx==0){e4=1;ix=.2;cQ=3}if(dx==2){e4=1;ix=2;cQ=-1;gS=gS.reverse()}var hs=function($,k){var cI=Math.cos,bx=0;
for(var l=0;l<fU;l++)for(var kl=0;kl<fU;kl++)bx+=gS[l*fU+kl]*cI($*(l+cQ)-k*(kl+cQ));return bx},io=Math.floor(50/e9),f9=new Float32Array(io*io*2),eJ=ix*by*.5/e9;
for(var k=0;k<io;k++)for(var $=0;$<io;$++){var fZ=e4*$*2*Math.PI/io,gX=e4*k*2*Math.PI/io,cV=hs(fZ,gX),C=(hs(fZ+.01,gX)-cV)*100,D=(hs(fZ,gX+.01)-cV)*100,l=(k*io+$)*2;
f9[l]=C*eJ;f9[l+1]=D*eJ}for(var k=0;k<eq.WZ;k++)for(var $=0;$<eq.pV;$++){var hS=k%io,bv=$%io,l=k*eq.pV+$<<1,iz=hS*io+bv<<1;
eq.map[l]=f9[iz];eq.map[l+1]=f9[iz+1]}}}O.Or.d$(n.buffer,Q.buffer,v,T,null,eq.map,eq.pV,eq.WZ,an)}return Q};
var i2={};i2.afm="BrSm BrsL BrDR BrsW BrbW BrSp".split(" ");i2.SW="LDBt LDBL LDLf LDTL LDTp LDTR LDRg LDBR".split(" ");
i2.xq=["ScrC","ScrD","ScrL"];i2.Yk=["SDRD","SDHz","SDLD","SDVt"];i2.hD="TxBl TxCa TxFr TxTL TxBr TxBu TxSt".split(" ");
i2.TA="LPBt LPBL LPLf LPTL LPTp LPTR LPRg LPBR".split(" ");i2.R4="GrnR GrSf GrSr GrnC GrCn GrnE GrSt GrnH GrnV GrSp".split(" ");
i2.T1=[[24,19,0],[24,19,1],[24,4],[24,19,2],[24,14],[12,67]];i2.names={ClrP:[0,[24,20,0]],Ct:[0,[24,20,1]],DryB:[0,[24,20,2]],FlmG:[0,[24,20,3]],Frsc:[0,[24,20,4]],NGlw:[0,[24,20,5]],PntD:[0,[24,20,6]],PltK:[0,[24,20,7]],PlsW:[0,[24,20,8]],PstE:[0,[24,20,9]],RghP:[0,[24,20,10]],SmdS:[0,[24,20,11]],Spng:[0,[24,20,12]],Undr:[0,[24,20,13]],Wtrc:[0,[24,20,14]],AccE:[1,[24,20,15]],AngS:[1,[24,20,16]],Crsh:[1,[24,20,17]],DrkS:[1,[24,20,18]],InkO:[1,[24,20,19]],Spt:[1,[24,20,20]],SprS:[1,[24,20,21]],Smie:[1,[24,20,22]],DfsG:[2,[24,20,23]],Gls:[2,[24,20,24]],OcnR:[2,[24,20,25]],BsRl:[3,[24,20,26]],ChlC:[3,[24,20,27]],Chrc:[3,[24,20,28]],Chrm:[3,[24,20,29]],CntC:[3,[24,20,30]],GraP:[3,[24,20,31]],HlfS:[3,[24,20,32]],NtPr:[3,[24,20,33]],Phtc:[3,[24,20,34]],Plst:[3,[24,20,35]],Rtcl:[3,[24,20,36]],Stmp:[3,[24,20,37]],TrnE:[3,[24,20,38]],WtrP:[3,[24,20,39]],GlwE:[4,[24,20,40]],Crql:[5,[24,20,41]],Grn:[5,[24,20,42]],MscT:[5,[24,20,43]],Ptch:[5,[24,20,44]],StnG:[5,[24,20,45]],Txtz:[5,[24,20,46]]};
i2.B1=function(w){var n;if(w=="ClrP")n={Pncl:{t:"long",v:4},StrP:{t:"long",v:8},PprB:{t:"long",v:25}};
if(w=="Ct")n={NmbL:{t:"long",v:4},EdgS:{t:"long",v:3},EdgF:{t:"long",v:1}};if(w=="DryB")n={BrsS:{t:"long",v:4},BrsD:{t:"long",v:4},Txtr:{t:"long",v:2}};
if(w=="FlmG")n={Grn:{t:"long",v:4},HghA:{t:"long",v:0},Intn:{t:"long",v:10},FlRs:{t:"long",v:23068185}};
if(w=="Frsc")n={BrsS:{t:"long",v:2},BrsD:{t:"long",v:8},Txtr:{t:"long",v:1}};if(w=="NGlw")n={Sz:{t:"long",v:5},Brgh:{t:"long",v:15},Clr:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:0},Grn:{t:"doub",v:0},Bl:{t:"doub",v:255}}}};
if(w=="PntD")n={Sz:{t:"long",v:10},Shrp:{t:"long",v:10},BrsT:{t:"enum",v:{BrsT:"BrSm"}}};if(w=="PltK")n={StrS:{t:"long",v:25},StDt:{t:"long",v:3},Sftn:{t:"long",v:2}};
if(w=="PlsW")n={HghS:{t:"long",v:20},Dtl:{t:"long",v:4},Smth:{t:"long",v:5}};if(w=="PstE")n={EdgT:{t:"long",v:2},EdgI:{t:"long",v:1},Pstr:{t:"long",v:2}};
if(w=="RghP")n={StrL:{t:"long",v:6},StDt:{t:"long",v:4},TxtT:{t:"enum",v:{TxtT:"TxCa"}},Scln:{t:"long",v:100},Rlf:{t:"long",v:20},LghD:{t:"enum",v:{LghD:"LDBt"}},InvT:{t:"bool",v:!1}};
if(w=="SmdS")n={StrL:{t:"long",v:2},HghA:{t:"long",v:0},Intn:{t:"long",v:10},FlRs:{t:"long",v:6399750}};
if(w=="Spng")n={BrsS:{t:"long",v:2},Dfnt:{t:"long",v:12},Smth:{t:"long",v:5},FlRs:{t:"long",v:218877241}};
if(w=="Undr")n={BrsS:{t:"long",v:6},TxtC:{t:"long",v:16},TxtT:{t:"enum",v:{TxtT:"TxCa"}},Scln:{t:"long",v:100},Rlf:{t:"long",v:4},LghD:{t:"enum",v:{LghD:"LDTp"}},InvT:{t:"bool",v:!1}};
if(w=="Wtrc")n={BrsD:{t:"long",v:9},ShdI:{t:"long",v:1},Txtr:{t:"long",v:3}};if(w=="AccE")n={EdgW:{t:"long",v:2},EdgB:{t:"long",v:38},Smth:{t:"long",v:5}};
if(w=="AngS")n={DrcB:{t:"long",v:50},StrL:{t:"long",v:15},Shrp:{t:"long",v:3}};if(w=="Crsh")n={StrL:{t:"long",v:9},Shrp:{t:"long",v:6},Strg:{t:"long",v:1}};
if(w=="DrkS")n={Blnc:{t:"long",v:5},BlcI:{t:"long",v:6},WhtI:{t:"long",v:2}};if(w=="InkO")n={StrL:{t:"long",v:4},DrkI:{t:"long",v:20},LghI:{t:"long",v:10}};
if(w=="Smie")n={StrW:{t:"long",v:10},StrP:{t:"long",v:5},Cntr:{t:"long",v:16}};if(w=="Spt")n={SprR:{t:"long",v:10},Smth:{t:"long",v:5},FlRs:{t:"long",v:10738420}};
if(w=="SprS")n={StrL:{t:"long",v:12},SprR:{t:"long",v:7},SDir:{t:"enum",v:{StrD:"SDRD"}},FlRs:{t:"long",v:893120664}};
if(w=="DfsG")n={Grns:{t:"long",v:6},GlwA:{t:"long",v:10},ClrA:{t:"long",v:15},FlRs:{t:"long",v:325892160}};
if(w=="Gls")n={Dstr:{t:"long",v:3},Smth:{t:"long",v:1},TxtT:{t:"enum",v:{TxtT:"TxTL"}},Scln:{t:"long",v:100},InvT:{t:"bool",v:!1}};
if(w=="OcnR")n={RplS:{t:"long",v:5},RplM:{t:"long",v:15},FlRs:{t:"long",v:64008840}};if(w=="BsRl")n={Dtl:{t:"long",v:11},Smth:{t:"long",v:7},LghD:{t:"enum",v:{LghD:"LDBt"}}};
if(w=="ChlC")n={ChrA:{t:"long",v:6},ChlA:{t:"long",v:6},StrP:{t:"long",v:1},FlRs:{t:"long",v:314004633}};
if(w=="Chrc")n={ChAm:{t:"long",v:1},Dtl:{t:"long",v:5},LgDr:{t:"long",v:50},GELv:{t:"bool",v:!0}};if(w=="Chrm")n={Dtl:{t:"long",v:4},Smth:{t:"long",v:4}};
if(w=="CntC")n={FrgL:{t:"long",v:11},BckL:{t:"long",v:7},TxtT:{t:"enum",v:{TxtT:"TxCa"}},Scln:{t:"long",v:100},Rlf:{t:"long",v:4},LghD:{t:"enum",v:{LghD:"LDTp"}},InvT:{t:"bool",v:!1}};
if(w=="GraP")n={StrL:{t:"long",v:7},LgDr:{t:"long",v:50},SDir:{t:"enum",v:{StrD:"SDRD"}},FlRs:{t:"long",v:55993248}};
if(w=="HlfS")n={HlSz:{t:"long",v:1},Cntr:{t:"long",v:5},ScrT:{t:"enum",v:{ScrT:"ScrD"}}};if(w=="NtPr")n={ImgB:{t:"long",v:25},Grns:{t:"long",v:10},Rlf:{t:"long",v:11},FlRs:{t:"long",v:52642770}};
if(w=="Phtc")n={Dtl:{t:"long",v:10},Drkn:{t:"long",v:4}};if(w=="Plst")n={ImgB:{t:"long",v:20},Smth:{t:"long",v:2},LghP:{t:"enum",v:{LghP:"LPTp"}}};
if(w=="Rtcl")n={Dnst:{t:"long",v:12},BlcL:{t:"long",v:40},WhtL:{t:"long",v:5},FlRs:{t:"long",v:301835400}};
if(w=="Stmp")n={LgDr:{t:"long",v:25},Smth:{t:"long",v:4}};if(w=="TrnE")n={ImgB:{t:"long",v:25},Smth:{t:"long",v:11},Cntr:{t:"long",v:17},FlRs:{t:"long",v:461109340}};
if(w=="WtrP")n={FbrL:{t:"long",v:15},Brgh:{t:"long",v:60},Cntr:{t:"long",v:80},FlRs:{t:"long",v:83852682}};
if(w=="GlwE")n={EdgW:{t:"long",v:1},EdgB:{t:"long",v:10},Smth:{t:"long",v:1}};if(w=="Crql")n={CrcS:{t:"long",v:15},CrcD:{t:"long",v:6},CrcB:{t:"long",v:9},FlRs:{t:"long",v:495615720}};
if(w=="Grn")n={Intn:{t:"long",v:40},Cntr:{t:"long",v:50},Grnt:{t:"enum",v:{Grnt:"GrnR"}},FlRs:{t:"long",v:217582197}};
if(w=="MscT")n={TlSz:{t:"long",v:12},GrtW:{t:"long",v:3},LghG:{t:"long",v:9},FlRs:{t:"long",v:25445584}};
if(w=="Ptch")n={SqrS:{t:"long",v:4},Rlf:{t:"long",v:8},FlRs:{t:"long",v:383529723}};if(w=="StnG")n={ClSz:{t:"long",v:10},BrdT:{t:"long",v:4},LghI:{t:"long",v:0},FlRs:{t:"long",v:319935998}};
if(w=="Txtz")n={TxtT:{t:"enum",v:{TxtT:"TxBr"}},Scln:{t:"long",v:100},Rlf:{t:"long",v:10},LghD:{t:"enum",v:{LghD:"LDBL"}},InvT:{t:"bool",v:!1}};
n.__name="Filter Gallery";n.classID="GEfc";n.GEfk={t:"enum",v:{GEft:w}};n.GELv={t:"bool",v:!0};return n};
i2.Oj=function(w,n){for(var l=0;l<n.length;l++)~~(n[l]=(w[4*l]+w[4*l+1]+w[4*l+2])*(1/3))};i2.abd=function(w,n,H,y){var c=UPNG.quantize(w,n);
c={Tk:c.inds,rm:c.plte};var Q=Math.floor((H+y)*.015);if(Q!=0)O.WS.a70(c.Tk,H,y,Q);return c};i2.kS=function(w,n,H,y,c,Q,q){w=H.GEfk.v.GEft;
var S=n.rect,A=S.m,V=S.e,e=A*V,d=H.FlRs?H.FlRs.v>>>1:0;function N(E){return E.b<<24|E.J<<16|E.k<<8|255}if(w=="ClrP")O._.azM(n.buffer,A,V,Q.buffer,[H.Pncl.v,H.StrP.v,H.PprB.v]);
if(w=="Ct"){var b=H.NmbL.v,z=H.EdgS.v,v=i2.abd(n.buffer.buffer,b*2,A,V);for(var l=0;l<v.Tk.length;l++)v.Tk[l]++;
var T=new Uint8Array((A+2)*(V+2));O.qS(v.Tk,new cr(1,1,A,V),T,new cr(0,0,A+2,V+2));var Y=O.p.lw(T,A+2,V+2,z,!1),g=new b7(1,0,0,1,-1,-1);
for(var l=0;l<Y.length;l++)O.p.D(Y[l].path.w,g,Y[l].path.w);var R=[],h=v.rm;for(var l=0;l<h.length;l++){var E=h[l].est.q;
R.push({b:Math.round(255*E[0]),J:Math.round(255*E[1]),k:Math.round(255*E[2]),iL:Math.round(255*E[3])})}var G=O.Ke(A,V);
for(var l=0;l<Y.length;l++){var k=Y[l],E=R[k.color-1];if(E.iL==0)continue;G.fillStyle="rgba("+E.b+","+E.J+","+E.k+","+E.iL/255+")";
G.beginPath();Typr.U.pathToContext({crds:k.path.w,cmds:k.path.T},G);G.fill()}if(!S._G()){var $=G.getImageData(0,0,A,V);
O.Bq($.data,Q.buffer)}}if(w=="DryB")O._.a8_(n.buffer,A,V,Q.buffer,[H.BrsS.v,H.BrsD.v,H.Txtr.v]);if(w=="FlmG")O._.ap9(n.buffer,A,V,Q.buffer,[H.Grn.v,H.HghA.v,H.Intn.v,d]);
if(w=="Frsc")O._.a5R(n.buffer,A,V,Q.buffer,[H.BrsS.v,H.BrsD.v,H.Txtr.v]);if(w=="NGlw")O._.amy(n.buffer,A,V,Q.buffer,[H.Sz.v,H.Brgh.v,N(O.M.cH(H.Clr.v)),N(y),N(c)]);
if(w=="PltK")O._.ak7(n.buffer,A,V,Q.buffer,[H.StrS.v,H.StDt.v,H.Sftn.v]);if(w=="PstE")O._.a6P(n.buffer,A,V,Q.buffer,[H.EdgT.v,H.EdgI.v,H.Pstr.v]);
if(w=="RghP")O._.a7F(n.buffer,A,V,Q.buffer,[H.StrL.v,H.StDt.v,i2.hD.indexOf(H.TxtT.v.TxtT),H.Scln.v,H.Rlf.v,i2.SW.indexOf(H.LghD.v.LghD),H.InvT.v]);
if(w=="SmdS")O._.ako(n.buffer,A,V,Q.buffer,[H.StrL.v,H.HghA.v,H.Intn.v,H.FlRs.v,d]);if(w=="Spng")O._.a27(n.buffer,A,V,Q.buffer,[H.BrsS.v,H.Dfnt.v,H.Smth.v,H.FlRs.v,d]);
if(w=="Undr")O._.a0H(n.buffer,A,V,Q.buffer,[H.BrsS.v,H.TxtC.v,i2.hD.indexOf(H.TxtT.v.TxtT),H.Scln.v,H.Rlf.v,i2.SW.indexOf(H.LghD.v.LghD),H.InvT.v]);
if(w=="Wtrc")O._.ad9(n.buffer,A,V,Q.buffer,[H.BrsD.v,H.ShdI.v,H.Txtr.v]);if(w=="AccE")O._.agR(n.buffer,A,V,Q.buffer,[H.EdgW.v,H.EdgB.v,H.Smth.v]);
if(w=="AngS")O._.avm(n.buffer,A,V,Q.buffer,[H.DrcB.v,H.StrL.v,H.Shrp.v]);if(w=="Crsh")O._.a09(n.buffer,A,V,Q.buffer,[H.StrL.v,H.Shrp.v,H.Strg.v]);
if(w=="DrkS")O._.ato(n.buffer,A,V,Q.buffer,[H.Blnc.v,H.BlcI.v,H.WhtI.v]);if(w=="InkO")O._.a9c(n.buffer,A,V,Q.buffer,[H.StrL.v,H.DrkI.v,H.LghI.v]);
if(w=="Smie")O._.a05(n.buffer,A,V,Q.buffer,[H.StrW.v,H.StrP.v,H.Cntr.v]);if(w=="DfsG")O._.a0_(n.buffer,A,V,Q.buffer,[H.Grns.v,H.GlwA.v,H.ClrA.v,N(c),d]);
if(w=="CntC")O._.abu(n.buffer,A,V,Q.buffer,[H.FrgL.v,H.BckL.v,i2.hD.indexOf(H.TxtT.v.TxtT),H.Scln.v,H.Rlf.v,i2.SW.indexOf(H.LghD.v.LghD),H.InvT.v,N(c),N(y)]);
if(w=="ChlC")O._.a2t(n.buffer,A,V,Q.buffer,[H.ChrA.v,H.ChlA.v,H.StrP.v,d,N(c),N(y)]);var p=w=="GraP"||w=="Chrc"||w=="Plst"||w=="Rtcl"||w=="Stmp"||w=="TrnE";
if(p){var X=O.R(A*V);if(w=="GraP")O._.alo(n.buffer,A,V,Q.buffer,[H.StrL.v,H.LgDr.v,i2.Yk.indexOf(H.SDir.v.StrD),d]);
if(w=="Chrc")O._.a4f(n.buffer,A,V,Q.buffer,[H.ChAm.v,H.Dtl.v,H.LgDr.v]);if(w=="Plst")O._.aww(n.buffer,A,V,Q.buffer,[H.ImgB.v,i2.TA.indexOf(H.LghP.v.LghP),H.Smth.v]);
if(w=="Rtcl")O._.afF(n.buffer,A,V,Q.buffer,[H.Dnst.v,H.BlcL.v,H.WhtL.v,d]);if(w=="Stmp")O._.a8S(n.buffer,A,V,Q.buffer,[H.LgDr.v,H.Smth.v]);
if(w=="TrnE")O._.a6T(n.buffer,A,V,Q.buffer,[H.ImgB.v,H.Smth.v,H.Cntr.v,d]);O.RR(Q.buffer,X,0);i2.hL(X,Q.buffer,y,c)}if(w=="NtPr")O._.adi(n.buffer,A,V,Q.buffer,[H.ImgB.v,H.Grns.v,H.Rlf.v,N(y),N(c),d]);
if(w=="WtrP")O._.a9j(n.buffer,A,V,Q.buffer,[H.FbrL.v,H.Brgh.v,H.Cntr.v,d>>>1]);if(w=="Crql")O._.aoF(n.buffer,A,V,Q.buffer,[H.CrcS.v,H.CrcD.v,H.CrcB.v,d]);
if(w=="Grn")O._.awV(n.buffer,A,V,Q.buffer,[H.Intn.v,i2.R4.indexOf(H.Grnt.v.Grnt),H.Cntr.v,N(y),N(c),d]);
if(w=="MscT")O._.ag5(n.buffer,A,V,Q.buffer,[H.TlSz.v,H.GrtW.v,H.LghG.v,d]);if(w=="Ptch")O._.aiC(n.buffer,A,V,Q.buffer,[H.SqrS.v,H.Rlf.v,d]);
if(w=="Phtc"){function C(dn,fq,S,aX){O.CU.Kh(dn,fq,S,aX);for(var l=0;l<e;l++)fq[l]=Math.max(0,Math.min(255,128+dn[l]-fq[l]))}var D=H.Dtl.v,o=H.Drkn.v,t=O.R(e);
O._i(n.buffer,t);var u=O.R(e);C(t,u,S,1);if(D==1){D=2;o=Math.round(o/4)}var m=O.R(e);C(t,m,S,D);for(var l=0;
l<e;l++)t[l]=Math.max(0,Math.min(255,255-(u[l]-m[l])*o));i2.hL(t,Q.buffer,y,c)}if(w=="Spt"||w=="SprS"){var U,I=1,x=1;
U={pV:Math.floor(A/x),WZ:Math.floor(V/x)};U.map=new Float32Array(U.pV*U.WZ*2);var J=new O.q.$x(H.FlRs.v),r=new Float32Array(8192),Z=H.SprR.v,f=Z<20?.018*Z:.36+(Z-20)*.128;
if(w=="SprS"){f=.07+[0,.02,.04,.06,.08,.1,.12,.14,.16,.18,.2,.22,.24,.26,.28,.3,.34,.38,.5,.65,.75,.85,1,1.5,2.2,3][Z]}for(var l=0;
l<8192;l++)r[l]=(-1+2*J.get())*f*70;for(var F=0;F<V;F++)for(var _=0;_<A;_++){var K=F*A+_<<1;U.map[K]=r[K%7919];
U.map[K+1]=r[(K+1)%7919]}var B=U.map.slice(0),ij=w=="Spt"?H.Smth.v-1:1;if(w=="Spt"&&ij!=0){i2.a0F(U.map,B,A,V,ij);
i2.al3(B,U.map,A,V,ij)}if(w=="SprS"){var W=H.StrL.v>>>1,L=W==0?2:1;i2.a0F(U.map,B,A,V,L);i2.al3(B,U.map,A,V,L);
if(W!=0){var i=i2.Yk.indexOf(H.SDir.v.StrD),e3=[1,1,1,0][i],eE=[-1,0,1,1][i],ec=2*W+1,gw=1/ec;for(var F=0;
F<V;F++)for(var _=0;_<A;_++){var K=F*A+_<<1,bl=0,cD=0;for(var l=0;l<ec;l++){var a$=Math.max(0,Math.min(A-1,_-(W+l)*e3)),hJ=Math.max(0,Math.min(V-1,F-(W+l)*eE)),ei=hJ*A+a$<<1;
bl+=U.map[ei];cD+=U.map[ei+1]}B[K]=bl*gw;B[K+1]=cD*gw}U.map=B}}O.Or.d$(n.buffer,Q.buffer,A,V,null,U.map,U.pV,U.WZ,I)}if(w=="BsRl"||w=="PlsW"||w=="Chrm"){var df=Date.now(),bM=O.R(e),ib=bM.slice(0);
O._i(n.buffer,bM);var D=H.Dtl.v,fI=H.Smth.v;if(D!=15){O.CU.Tw(bM,ib,S,Math.round((15-D)*.5));O.Bq(ib,bM)}var eU=1.4/A,gK=1.4/V,km=new Float32Array(e),aJ=new Float32Array(e),ip=new Float32Array(Q.buffer.buffer);
for(var F=0;F<V;F++)for(var _=0;_<A;_++){var l=F*A+_,e3=_==A-1?bM[l]-bM[l-1]:bM[l+1]-bM[l],eE=F==V-1?bM[l]-bM[l-A]:bM[l+A]-bM[l],fl=_*eU-.7,b3=F*gK-.7;
km[l]=e3==0?fl:e3*.4;aJ[l]=eE==0?b3:eE*.4}if(w=="BsRl"){var dY=(2+i2.SW.indexOf(H.LghD.v.LghD))*Math.PI*.25,bl=Math.cos(dY);
if(Math.abs(bl)<.1)bl=0;bl=Math.sign(bl);var cD=Math.sin(dY);if(Math.abs(cD)<.1)cD=0;cD=Math.sign(cD);
var k4=1/(bl*bl+cD*cD);for(var F=0;F<V;F++)for(var _=0;_<A;_++){var l=F*A+_,aK=Math.max(-1,Math.min(1,bl*km[l])),jK=Math.max(-1,Math.min(1,cD*aJ[l]));
ib[l]=128+127*(aK+jK)*k4}if(fI!=1){O.CU.Tw(ib,bM,S,Math.round((fI-1)*.5));O.Bq(bM,ib)}i2.hL(ib,Q.buffer,y,c)}else{if(w=="Chrm")fI=5+fI;
if(fI>1)i2.p1(km,aJ,ip,S,fI-1);if(w=="PlsW"){var ay=new Uint8Array(km.buffer);for(var l=0;l<e;l++){var f8=l<<2,e3=km[l],eE=aJ[l],gN=1/(Math.sqrt(1+e3*e3)*Math.sqrt(1+eE*eE)),d4=gN*gN,bK=d4*d4,E=~~(255*(bK*bK*d4));
ay[f8+0]=E;ay[f8+1]=E;ay[f8+2]=E;ay[f8+3]=E}Q.buffer.set(n.buffer);O.q.SG("norm",ay,S,Q.buffer,S,S,H.HghS.v/20)}else if(w=="Chrm"){var hf=Q.buffer,bC=A>>>1,gW=V>>>1;
for(var l=0;l<e;l++){var f8=l<<2,e3=km[l],eE=aJ[l],dn={x:1,y:0,Zn:e3};hO.OR(dn);var fq={x:0,y:1,Zn:eE};
hO.OR(fq);var jN=hO.ai3(dn,fq),cU=1/jN.Zn,jb=~~Math.max(0,Math.min(A-1,bC-jN.x*cU*bC)),ac=~~Math.max(0,Math.min(V-1,gW-jN.y*cU*gW)),E=bM[ac*A+jb];
hf[f8+0]=E;hf[f8+1]=E;hf[f8+2]=E}}}}if(w=="Gls"||w=="OcnR"||w=="Txtz"){var a_=w=="OcnR"?2:i2.hD.indexOf(H.TxtT.v.TxtT),h5=i2.kq(a_),jz=h5[0],bM=h5[1],jj=jz.m,jy=jz.e,ec=24,cd=0,co,c7;
function g0(h_,bE,fc){return~~(bt*(h_+bE)+8192)&127}var km=new Float32Array(e),aJ=new Float32Array(e),ip=new Float32Array(Q.buffer.buffer),bt=w=="OcnR"?1/(1+(H.RplS.v-1)*.1):100/H.Scln.v;
if(a_==3)bt*=32/22.2;var df=Date.now(),kl=bt,eU=1.4/A,gK=1.4/V;if(w=="Txtz"){kl*=1/255;ec=256}for(var F=0;
F<V;F++){var iO=g0(F,S.y,jy),hJ=iO+1&127;for(var _=0;_<A;_++){var l=F*A+_,dN=g0(_,S.x,jj),a$=dN+1&127,aG=0,iA=0,a0=0;
if(w=="Txtz"){aG=O.K.ya(bt*_,bt*F,bM,128,128);iA=O.K.ya(bt*_,bt*F+1,bM,128,128);a0=O.K.ya(bt*_+1,bt*F,bM,128,128)}else{aG=bM[iO*jj+dN];
iA=bM[hJ*jj+dN];a0=bM[iO*jj+a$]}km[l]=Math.max(-ec,Math.min((a0-aG)*kl,ec));aJ[l]=Math.max(-ec,Math.min((iA-aG)*kl,ec))}}if(w=="Txtz")i2.ahI(km,aJ,ip,S,6);
else i2.p1(km,aJ,ip,S,w=="Txtz"?1:w=="OcnR"?3.5/bt:H.Smth.v);if(w=="Txtz")cd=H.InvT.v?-1:1;else if(w=="Gls"){cd=[1,.4,.5,.5][a_]*(Math.exp(H.Dstr.v*.155)-1);
if(H.InvT.v)cd=-cd}else{cd=.5*(Math.exp(H.RplM.v*.155)-1)}var hf=Q.buffer;if(w=="Txtz"){var dY=(2+i2.SW.indexOf(H.LghD.v.LghD))*Math.PI*.25,bl=Math.cos(dY),cD=Math.sin(dY);
co={x:bl,y:cD,Zn:0};hO.OR(co);c7=H.Rlf.v;c7=c7/4+Math.max(0,(c7-35)*2)}function cF(dn,fq,a5){var j9=O.q.overF(fq,dn,1),h_=(1-a5)*dn+a5*(a5*fq+(1-a5)*j9);
return h_*255}for(var F=0;F<V;F++)for(var _=0;_<A;_++){var l=F*A+_,f8=l<<2,e3=km[l],eE=aJ[l],dn={x:1,y:0,Zn:e3};
hO.OR(dn);var fq={x:0,y:1,Zn:eE};hO.OR(fq);var jN=hO.ai3(dn,fq);if(w=="Txtz"){var b1=hO.adv(jN,co)*cd,a5=1,E=1;
if(b1<0){E=0;b1=-b1}a5=Math.min(1,b1*c7);hf[f8+0]=~~cF(n.buffer[f8]*(1/255),E,a5);hf[f8+1]=~~cF(n.buffer[f8+1]*(1/255),E,a5);
hf[f8+2]=~~cF(n.buffer[f8+2]*(1/255),E,a5)}else{var cU=cd/jN.Zn,jb=~~Math.max(0,Math.min(A-1,_-jN.x*cU)),ac=~~Math.max(0,Math.min(V-1,F-jN.y*cU)),iy=ac*A+jb<<2;
hf[f8+0]=n.buffer[iy];hf[f8+1]=n.buffer[iy+1];hf[f8+2]=n.buffer[iy+2]}}}if(w=="PntD"){var ko=H.Shrp.v*.4,gc=H.BrsT.v.BrsT,eR={BrSm:[.75],BrsL:[.85],BrDR:[.68],BrsW:[.75],BrbW:[.78],BrSp:[.62]}[gc],aX=Math.round(H.Sz.v*.5);
O.Hs.eP=eR[0];var ck=O.Hs.jK;O.Hs.ZQ(n.buffer,Q.buffer,A,V,aX,ck,[]);var by=[-.7,-1,-.7,-1,10,-1,-.7,-1,-.7];
by=O.yb.sF(by);var i3=Q.buffer.slice(0);O.yb.NC(i3,Q.buffer,A,V,by,0);for(var l=0;l<n.buffer.length;
l++){var bb=Q.buffer[l]-i3[l];Q.buffer[l]=Math.max(0,Math.min(255,i3[l]+ko*bb))}}if(w=="GlwE"){var il=Q.buffer.slice(0);
O.Hs.eP=.5;var ck=O.Hs.jK;O.Hs.ZQ(n.buffer,il,A,V,H.Smth.v>>>1,ck,[]);O.yb.$N(il,Q.buffer,A,V);O.Bq(Q.buffer,il);
O.G$(il);O.jZ(il,4278190080,16777215);O.Hs.ZQ(il,Q.buffer,A,V,H.EdgW.v>>>1,O.Hs.uG,[]);var eH=H.EdgB.v/10;
for(var l=0;l<il.length;l++){if((l&3)==3)continue;var j9=Q.buffer[l];Q.buffer[l]=Math.max(0,Math.min(255,j9*eH))}}if(w=="StnG"){O.px.age(n.buffer,A,V,Q.buffer,H.ClSz.v,[Math.round(y.b),Math.round(y.J),Math.round(y.k)],H.BrdT.v)}if(w=="HlfS"){var jq=H.HlSz.v,jn=jq*2+1,eQ=H.Cntr.v,ik=i2.xq.indexOf(H.ScrT.v.ScrT),e=A*V,dR=e*4,d0=O.R(e),ii=n.buffer,eB=0,gP=0;
i2.Oj(ii,d0);var fB=d0.slice(0);O.CU.dg(fB,d0,S,jq);var bF=Math.PI/jn,hL=new Float64Array(A),bl=new Float64Array(A),im=new Float64Array(2*A);
for(var _=0;_<A;_++){var dN=(_-(A>>>1))*bF;hL[_]=dN*dN;bl[_]=Math.cos(dN);var e3=_<<1;im[e3]=Math.sin(e3*(1/4.5));
im[e3+1]=Math.sin((e3+1)*(1/4.5))}for(var F=0;F<V;F++){var iO=(F-(V>>>1))*bF,cD=Math.cos(iO),ig=iO*iO;
for(var _=0;_<A;_++){var E=cD;if(ik==0){var ao=.5+Math.sqrt(hL[_]+ig)*4.5;E=im[~~ao]}else if(ik==1){E=bl[_]*cD}var l=F*A+_,el=d0[l]*(.75+.25*E),a5=ii[(l<<2)+3]*(1/255),d_=Math.max(0,Math.min(255,~~el));
eB+=d_*a5,gP+=a5;d0[l]=d_}}eB/=gP;var jO=128+1.26*(eB-128),eH=.08+.25*Math.abs((128-eB)/128),g2=1+eH*eQ;
for(var l=0;l<e;l++){var el=jO+(d0[l]-jO)*g2;d0[l]=Math.max(0,Math.min(255,~~el))}if(eQ>46)O.round(d0);
i2.hL(d0,Q.buffer,y,c)}for(var l=0;l<n.buffer.length;l+=4)Q.buffer[l+3]=n.buffer[l+3]};i2.hL=function(w,n,H,y){var c=w.length,Q=H.b,q=H.J,S=H.k,A=y.b,V=y.J,e=y.k;
for(var l=0;l<c;l++){var d=w[l]*(1/255),N=1-d,b=l<<2;n[b]=~~(Q*N+A*d);n[b+1]=~~(q*N+V*d);n[b+2]=~~(S*N+e*d)}};
i2.kq=function(w){if(w==6)w=2;var n="blocks canvas frosted tinylens brick burlap".split(" ")[w];if(i2.$t==null)i2.$t=[];
if(i2.$t[w]==null){var H,y;if(w==2){y=new cr(0,0,128,128);var c=gT.B1("AdNs");c.Mnch.v=!0;c.Dstr.v.Dstr="Gsn";
c.Nose.v.val=50;var H=O.R(y.O()*4),Q=H.slice(0);new Uint32Array(Q.buffer).fill(4286611584);gT.kS("AdNs",{buffer:Q,rect:y},c,0,0,{buffer:H,rect:y})}else{var q=cb.A8.get("tex/"+n,!0)[0];
y=q.Zg;H=new Uint8Array(q.data)}var S=O.R(y.O());O.RR(H,S,0);i2.$t[w]=[y,S]}return i2.$t[w]};i2.p1=function(w,n,H,y,c){if(c<=1){c=Math.round(c);
i2.ahI(w,n,H,y,[1,16,4][c]);return}var Q=c*.42;if(w){O.CU.q4(w,H,y,Q,3);w.set(H)}if(n){O.CU.q4(n,H,y,Q,3);
n.set(H)}};i2.ahI=function(w,n,H,y,c){var Q=O.yb.sF([1,2,1,2,c,2,1,2,1]);if(w){H.set(w);O.yb.Hh(w,H,y.m,y.e,Q);
w.set(H)}if(n){H.set(n);O.yb.Hh(n,H,y.m,y.e,Q);n.set(H)}};i2.MZ=function(w){if(w==null)return new ce(0,0);
var n=0,H=w.GEfs?w.GEfs.v:[{v:w}];for(var l=0;l<H.length;l++){var y=H[l].v,Q=1e4;if(y.GELv&&!y.GELv.v)continue;
var c=y.GEfk.v.GEft;if(c=="GlwE"||c=="Phtc"||c=="BsRl"||c=="PlsW"||c=="Chrm"||c=="Gls"||c=="OcnR"||c=="InkO")Q=0;
n=Math.max(n,Q)}return new ce(n,n)};i2.atc=function(w){var n=[0,0,0,0,0,0,0,0,0,0,0,0,0],H=[0,.6,.7,.8,1,1.2,1.4,1.6,1.8,2,2.2,2.6,3,4,5][w];
for(var l=0;l<13;l++){var y=l-6;n[l]=1/(H*Math.sqrt(2*Math.PI))*Math.exp(-.5*(y/H)*(y/H))}return n};
i2.a0F=function(w,n,H,y,c){var Q=i2.atc(c),q=6,S=13;for(var A=0;A<y;A++)for(var V=0;V<H;V++){var e=A*H+V<<1,d=0,N=0;
for(var l=0;l<S;l++){var b=V+l-q,z=b<0?0:b>=H?H-1:b,v=(A*H+z)*2,T=Q[l];d+=T*w[v];N+=T*w[v+1]}n[e]=d;
n[e+1]=N}};i2.al3=function(w,n,H,y,c){var Q=i2.atc(c),q=6,S=13;for(var A=0;A<y;A++)for(var V=0;V<H;V++){var e=A*H+V<<1,d=0,N=0;
for(var l=0;l<S;l++){var b=A+l-q,z=b<0?0:b>=y?y-1:b,v=(z*H+V)*2,T=Q[l];d+=T*w[v];N+=T*w[v+1]}n[e]=d;
n[e+1]=N}};function eS(){}eS.dH=[2,5,5,7,4,4];eS.$Q="norm,diss,dark,mul ,idiv,lbrn,dkCl,lite,scrn,div ,lddg,lgCl,over,sLit,hLit,vLit,lLit,pLit,hMix,diff,smud,fsub,fdiv,hue ,sat ,colr,lum ".split(",");
eS.HN="Nrml Dslv Drkn Mltp CBrn linearBurn darkerColor Lghn Scrn CDdg linearDodge lighterColor Ovrl SftL HrdL vividLight linearLight pinLight hardMix Dfrn Xclu blendSubtraction blendDivide H Strt Clr Lmns".split(" ");
eS.SX=[[15,10,0],[15,10,1],[15,10,2],[15,10,3],[15,10,4],[15,10,5],[15,10,6],[15,10,7],[15,10,8],[15,10,9],[15,10,10],[15,10,11],[15,10,12],[15,10,13],[15,10,14],[15,10,15],[15,10,16],[15,10,17],[15,10,18],[15,10,19],[15,10,20],[15,10,21],[15,10,22],[15,10,23],[15,10,24],[15,10,25],[15,10,26]];
eS.op=["normal",null,"darken","multiply","color-burn",null,null,"lighten","screen","color-dodge",null,null,"overlay","soft-light","hard-light",null,null,null,null,"difference","exclusion",null,null,"hue","saturation","color","luminosity"];
eS.Yi=function(w){if(w=="passThrough")return"pass";return eS.$Q[eS.HN.indexOf(w)]};eS.Yf=function(w){if(w=="pass")return"passThrough";
return eS.HN[eS.$Q.indexOf(w)]};eS.getName=function(w){return eS.SX[eS.$Q.indexOf(w)]};function a(){this.rect=null;
this.buffer=null;this.UM="norm";this.opacity=255;this.Ak=!1;this.Vg=0;this.ds=0;this.aD=!0;this.wh=[];
for(var l=0;l<10;l++)this.wh.push(0,0,255,255);this.name=null;this.add={};this.at=null;this.y1=null;
this.z=null;this.lZ=null;this.auL=30;this.KZ=null;this.k7=null;this.Dz=null;this.CZ=null;this.Ks=0;this.gK=!1;
this.cJ=null;this.Sh=new a.sL}a.sL=function(){this.NQ=!0;this.uK=!0;this.wX=O.R(0);this.azz=O.R(0);this.FJ=null;
this.f3={};this.azQ=null;this.TQ=null;this.dY=null;this.nA=null;this.hs=null;this.JZ=null;this.qK=null;
this.cC=null;this.H$=null;this._u=null;this.Za=null;this.Ll=null;this.NM=!1};a.sL.prototype.akV=function(){this.NQ=null;
this.uK=!1;this.FJ=null;this.NM=dy._k};a.sL.prototype.apM=function(){hO.avQ(this.f3);this.wX=O.R(0);
this.azz=O.R(0);if(this.nA)this.nA.delete();if(this.hs)this.hs.delete();this.nA=null;this.hs=null;var w=[this.JZ,this.qK,this.cC,this.H$,this._u,this.Za];
for(var l=0;l<6;l++)if(w[l]!=null&&w[l]instanceof dy.$Z)w[l].delete();this.JZ=null;this.qK=null;this.cC=null;
this.H$=null;this._u=null;this.Za=null};a.prototype.U=function(w){if(w==null)w=this.rect.clone();if(this.Sh.FJ==null)this.Sh.FJ=w;
else this.Sh.FJ=this.Sh.FJ.ld(w)};a.prototype.Ok=function(){return this.add.lsct==c0.q8||this.add.lsct==c0.$g};
a.prototype.hu=function(){var w=this.add;return w.SoCo!=null||w.GdFl!=null||w.PtFl!=null};a.prototype.aq3=function(){var w=this.add.lmfx;
if(w==null)return;var n=["GrFl","patternFill"];for(var l=0;l<n.length;l++){var H=d5.tS[d5.order.indexOf(n[l])],y=w[H].v;
if(y.length==0)continue;for(var c=0;c<y.length;c++){var Q=y[c].v;if(Q.enab.v&&(Q.Algn==null||!Q.Algn.v))this.Sh.uK=!0}}};
a.prototype.ael=function(){var w=this.z,n=this.Sh.NQ;if(this.hu())w=this.LZ();if(!dy._k)return w.ra();
if(this.Sh.hs==null||n||dy._k!=this.Sh.NM){var H=w.fH(),y=this.Sh.hs,c=null;if(n!=!0&&n!=null){c=n.clone();
c.offset(-H.x,-H.y)}if(y==null||y.m!=H.m||y.e!=H.e){y=this.Sh.hs=new dy.Z5(H.m,H.e);c=null}y.set(w.ra(),c)}return this.Sh.hs};
a.prototype.axt=function(w){var n=this.rect,H=this.buffer;if(!dy._k){var y=this._h(w,H,n);if(y){H=y.fF;
n=y.rect}return H}if(this.Sh.FJ!=null||dy._k!=this.Sh.NM){var y=this._h(w,H,n);if(y){H=y.fF;n=y.rect}var c=n;
if(dy._k!=this.Sh.NM||this.Sh.nA==null||this.Sh.nA.m!=c.m||this.Sh.nA.e!=c.e){if(this.Sh.nA)this.Sh.nA.delete();
this.Sh.nA=new dy.$Z(c.m,c.e);this.Sh.nA.set(H)}else{var Q=this.Sh.FJ.clone();Q.offset(-n.x,-n.y);this.Sh.nA.set(H,Q)}}return this.Sh.nA};
a.prototype.Cu=function(){var w=this.z;if(this.hu())w=this.LZ();return w!=null&&w.isEnabled&&(!w.rect._G()||w.cH()!=255)};
a.prototype._h=function(w,n,H){if(this.RL()){var y=this.iS(w);if(y.z&&y.z.isEnabled&&(!y.z.rect._G()||y.z.color==0)){var c=this.add.SoLd.filterFX.v;
y.z.qC=c.filterMaskDensity?c.filterMaskDensity.v:255;y.z.Hk=c.filterMaskFeather?c.filterMaskFeather.v:0;
var Q=y.buffer,q=y.rect;if(q.O()<H.O()){q=H;Q=O.R(q.O()*4);O.j1(y.buffer,y.rect,Q,q)}var S=y.z.iU(H);
O.G$(S);n=n.slice(0);O.q.AF(Q,q,n,H,S,H,0,H,1);return{fF:n,rect:H}}}};a.prototype.a9J=function(){var w={$s:!1,mL:!1,jp:0,Rx:0};
if(this.add.vmsk&&this.add.vmsk.isEnabled)w.mL=!0;if(this.LZ()&&this.LZ().isEnabled)w.$s=!0;if(w.$s&&w.mL){w.jp=this.LZ().rect.x-this.add.vmsk.LZ().rect.x;
w.Rx=this.LZ().rect.y-this.add.vmsk.LZ().rect.y}return w};a.prototype.qL=function(w,n){this.Sh.Ij=null;
if(n&&this.LZ().Hk!=0){n=n.clone();var H=Math.round(this.LZ().Hk*2.4);n.i_(H,H)}var y=!1;if(this.add.lsct==c0.ho)return;
var c=this,Q=this.LZ()!=null&&this.LZ().Yh,q=this.add.vmsk!=null&&this.add.vmsk.Yh,S=this.a9J(),A=JSON.stringify(S)!=this.Sh.azQ||S.$s&&Q||S.mL&&q;
if(A){if(S.mL){var V=this.add.vmsk.LZ();if(S.$s){this.z=this.LZ().dO(V);this.Sh.TQ=new ce(this.z.rect.x-this.LZ().rect.x,this.z.rect.y-this.LZ().rect.y)}else this.z=V}if(this.z)y=!0;
if(this.z)this.Sh.dY=new ce(this.rect.x-this.z.rect.x,this.rect.y-this.z.rect.y);if(S.$s)this.LZ().Yh=!1;
if(S.mL)this.add.vmsk.Yh=!1;this.U(n)}else{if(S.$s&&S.mL){this.z.rect.x=this.LZ().rect.x+this.Sh.TQ.x;
this.z.rect.y=this.LZ().rect.y+this.Sh.TQ.y}}if(c.hu()){this.EA(w)}if(c.QG()){var e;if(this.z)e=new ce(this.rect.x-this.z.rect.x,this.rect.y-this.z.rect.y);
if(this.z&&this.z.isEnabled&&(this.Sh.dY==null||!e.Hw(this.Sh.dY))){this.Sh.dY=e;this.U(n);y=!0}}if(fb.get(c.add)!=null)y=!0;
if(y){var d=this.Sh.NQ;if(n&&d&&d!=!0)d=d.ld(n);else d=n?n:!0;this.Sh.NQ=d}this.Sh.azQ=JSON.stringify(S)};
a.prototype.EA=function(w){var n=this,H=n.add.vstk,y=new cr(0,0,w.m,w.e),c,Q=n.add.vmsk?this.add.vmsk.LZ():null,A=!0,d;
if(Q&&Q.isEnabled&&Q.cH()==0)c=Q.fH().clone();else c=y;var q=n.LZ();if(q&&q.isEnabled&&q.cH()==0)c=c.Fa(n.z.fH());
var S=Q&&H;if(H&&(!H.strokeEnabled.v||H.strokeStyleLineWidth.v.val==0))S=!1;if(H&&!H.fillEnabled.v&&S)A=!1;
var V=O.R(c.O()*4);if(A){if(n.add.SoCo)hO.jx(V,n.add.SoCo.Clr.v);if(n.add.GdFl){var e=Q&&Q.color==0?O.r.dF(n.add.vmsk.i,null,!0):null;
hO.XU(n.add.GdFl,V,c,w,null,e)}if(n.add.PtFl)hO.yr(n.add.PtFl,V,c,w.add.Patt,n.add.fxrp)}if(S)d=d5.Ed.YH.indexOf(H.strokeStyleLineAlignment.v.strokeStyleLineAlignment);
if(Q){var N=Q.qC;if(S)Q.qC=255;var b=O.R(c.O());if(Q.cH()!=0)b.fill(Math.round(Q.cH()));if(Q&&Q.isEnabled){var z=Q.fH(),v=Q.ra();
if(z.Hw(c))O.Bq(v,b);else O.qS(v,z,b,c)}if(S&&d==2){}else{if(n.add.SoCo&&A){O.o2(b,V,3)}else O.lf(b,c,V,c)}if(S)Q.qC=N}n.buffer=V;
n.rect=c;if(S){var T=H.strokeStyleContent.v,Y=d5.Ed.oj.indexOf(T.classID),g=this.add.vmsk.LZ(H);if(d!=0&&!n.rect.Hw(y))n.extend(n.rect.ld(g.fH()));
var N=g.qC;g.qC=255;var R=g.iU(n.rect);g.qC=N;if(g.color==255)O.G$(R);var h=O.R(n.rect.O()*4);if(Y==0)hO.jx(h,T.Clr.v);
if(Y==1)hO.XU(T,h,n.rect,w,null,Q.color==0?Q.rect:null);if(Y==2)hO.yr(T,h,n.rect,w.add.Patt,n.add.fxrp);
var E=H.strokeStyleOpacity.v.val/100;if(E!=1)O.ub(R,E);if(g.color==255)d=2-d;if(d<2){O.q.AF(h,n.rect,n.buffer,n.rect,R,n.rect,255,n.rect,1,!1);
if(d==0)O.CS(b,n.buffer)}if(d==2){O.CS(R,h);O.G$(b);O.q.AF(h,n.rect,n.buffer,n.rect,b,c,255,n.rect,1,!1);
O.G$(b)}if(g.qC!=255){var G=h.slice(0);O.jZ(G,4278190080,16777215);O.q.SG("norm",G,n.rect,n.buffer,n.rect,n.rect,1-g.qC/255)}N=Q.qC;
Q.qC=255;this.azz=Q.iU(n.rect);Q.qC=N}this.U()};a.prototype.W0=function(w,n,H){var y=this,c=y.add.SoLd.Idnt.v,Q=y.add.SoLd,q=O.p.hH(P.WJ.b6(Q.nonAffineTransform)),S=w.Lm(c,Q.Crop?Q.Crop.v:null,[q.m,q.e],Q.Impr.v.classID,H),b=1;
if(S==null)return;var A=S.TM;Q.Sz.v.Wdth.v=A[1].m;Q.Sz.v.Hght.v=A[1].e;var V=S.uP==null?Q.Rslt.v.val:S.uP,e=Q.warp.v,d=P.WJ.b6(Q.nonAffineTransform),N=A[1].clone();
N.m*=b;N.e*=b;N.x=(A[1].m-N.m)/2;N.y=(A[1].e-N.e)/2;var z=O.K.gU(d,N);if(e&&!O.v$.Rd(e)){var q=O.p.hH(O.v$.h_(e)),v=q.x,T=q.y,Y=1/q.m,g=1/q.e;
z=O.K.gU(d);z=O.K.dO(z,[Y,0,-v*Y,0,g,-T*g,0,0])}var R=P.WJ.cd(A,n?0:1,z,e,null,null,null,n);if(R==null){y.buffer=O.R();
y.rect=new cr}else if(y.RL()){var h=y.iS(w);h.buffer=R.buffer;h.rect=R.rect.clone();this.Sm(w,n)}else{y.buffer=R.buffer;
y.rect=R.rect}y.qL(w);y.U();w.U()};a.prototype.Sm=function(w,n){if(n==null)n=!1;var H=this.iS(w),y=this.add.SoLd.filterFX.v,c=gT.adg(y),Q=new cr(0,0,w.m,w.e),q=H.rect.ld(Q),S=H.rect.clone();
S.i_(c.x,c.y);var A={buffer:null,rect:q.Fa(S)};A.buffer=O.R(A.rect.O()*4);O.j1(H.buffer,H.rect,A.buffer,A.rect);
if(y.enab.v&&n==!1){var V=y.filterFXList.v;for(var l=0;l<V.length;l++){var e=V[l].v;if(e.enab.v==!1)continue;
var d=e.blendOptions.v,N=eS.Yi(d.Md.v.BlnM),b=d.Opct.v.val/100,z=O.M.cH(e.FrgC.v),v=O.M.cH(e.BckC.v),T=gT.tu(e),Y={buffer:O.R(A.buffer.length),rect:A.rect.clone()},g=e.Fltr?e.Fltr.v:null;
if(fb.LA[T]!=null){var R=fb.LA[T],h=fb.QT(R,g);if(h)fb.kS(h,A.buffer,Y.buffer,A.rect)}else gT.kS(T,A,g,z,v,Y,[w.add.lnk2?w.add.lnk2:[],this.LZ(),w.d4]);
if(N=="norm"&&b==1)A=Y;else if(N=="norm"){O.q.AF(Y.buffer,Y.rect,A.buffer,A.rect,null,null,null,A.rect,b)}else{O.q.SG(N,Y.buffer,Y.rect,A.buffer,A.rect,A.rect,b)}}}this.rect=A.rect;
this.buffer=A.buffer;this.KU();this.U();w.U()};a.prototype.DI=function(w,n,H){this.cJ=this.ay5(w,n,H)};
a.prototype.Ih=function(w,n){var H=this.ay5(w,n,!0);if(H==null)return null;var y={uk:H.Ks,G_:H.z5,rect:H.nk};
if(y.uk==1||y.uk==3){var c=y.rect,Q=O.R(c.m*c.e*4);O.o2(y.G_,Q,0);O.o2(y.G_,Q,1);O.o2(y.G_,Q,2);O.CI(w.P.channel,w.P.rect,Q,c);
y.G_=Q}return y};a.prototype.ay5=function(w,n,H){var y,c,Q,q,S,A,V;if(this.Ks<=0){var e=O.R(this.rect.O());
O.RR(this.buffer,e,3);y=O.w8.D9(n,{channel:e,rect:this.rect},3);if(y==null)return null;var d=O.zX(y.channel,y.rect);
q=y.rect.clone();S=this.rect.clone();c=O.R(q.O()*4);O.j1(this.buffer,S,c,q);O.o2(y.channel,c,3);Q=this.buffer.slice(0);
if(!H){var N=n.channel.slice(0);O.G$(N);O.lf(N,n.rect,Q,S)}A=this.buffer.slice(0);V=this.rect.clone()}if(this.Ks==1||this.Ks==3){var b=this.Ks==1?this.LZ():this.iS(w).z;
q=n.rect.clone();S=b.rect.clone();c=b.IX(q);var Q=b.channel.slice(0);if(!H)O.q.p8(b.color==255?O.a0(q.O()):O.By(q.O()),q,Q,S,n.channel,q,1);
A=b.channel.slice(0);V=b.rect.clone()}return{Ks:this.Ks,z5:c,nk:q,C5:Q,hK:S,m5:A,gu:V}};a.prototype.r4=function(w,n){var H=this.cJ;
if(H.Ks==0){this.rect=H.gu;this.buffer=H.m5;this.U()}if(H.Ks==1||H.Ks==3){var y=H.Ks==1?this.LZ():this.iS(w).z;
y.channel=H.m5;y.rect=H.gu;if(this.Ks==1){y.Yh=!0;this.qL(w)}if(this.Ks==3)this.U()}this.cJ=n};a.prototype.U_=function(w,n){if(this.Ks<=0&&n.rect.Hw(this.rect)){var H=O.R(this.rect.O());
O.RR(this.buffer,H,3);if(O.Hw(w.P.channel,H)){var y=this.rect,c=this.buffer;this.cJ={Ks:this.Ks,z5:c.slice(0),nk:y.clone(),C5:O.R(0),hK:new cr,m5:O.R(0),gu:new cr};
return!0}}var Q=this.cJ;if(Q==null)return!1;if(Q.Ks!=this.Ks)return!1;if(!n.rect.Hw(Q.nk))return!1;var q=Q.hK.ld(Q.nk);
if(Q.Ks<=0){if(!q.Hw(this.rect))return!1;var S=O.R(Q.z5.length>>2);O.RR(Q.z5,S,3);if(!O.Hw(n.channel,S))return!1;
var A=O.R(q.m*q.e*4);O.j1(Q.C5,Q.hK,A,q);O.q.SG("norm",Q.z5,Q.nk,A,q,q,1);return O.Hw(A,this.buffer)}if(Q.Ks==1||Q.Ks==3){var V=Q.Ks==1?this.LZ():this.iS(w).z;
if(!q.Hw(V.rect))return!1;var e=O.R(q.O());e.fill(V.color);O.qS(Q.C5,Q.hK,e,q);O.q.p8(Q.z5,Q.nk,e,q,n.channel,q,1);
return O.Hw(e,V.channel)}};a.prototype.ll=function(w,n,H,y){var c=this.cJ;c.nk.offset(n,H);var Q=c.hK.ld(c.nk);
if(c.Ks<=0){var q=O.R(Q.O()*4);O.j1(c.C5,c.hK,q,Q);O.q.SG("norm",c.z5,c.nk,q,Q,Q,1);this.buffer=q;this.rect=Q;
this.U()}else{var S=this.Ks==1?this.LZ():this.iS(w).z,A=O.R(Q.O());A.fill(S.color);O.qS(c.C5,c.hK,A,Q);
O.q.p8(c.z5,c.nk,A,Q,y.channel,Q,1);S.channel=A;S.rect=Q.clone();if(this.Ks==1){S.Yh=!0;this.qL(w)}if(this.Ks==3)this.U()}};
a.prototype.aoE=function(){var w=[-1,0,1,2];if(this.z)w.push(-2);if(this.lZ)w.push(-3);return w};a.prototype.getName=function(){return this.add.luni?this.add.luni:this.name};
a.prototype.nY=function(ds){this.add.luni=this.name=ds};a.prototype.Id=function(w){var n=this.add.lnsr,H=this.add.TySh;
if(n=="rend"&&H){var y=j1.md(H.EB);this.nY(y.slice(0,y.length-1).replace(/(?:\r\n|\r|\n)/g," ").slice(0,32))}};
a.prototype.tl=function(){return(this.Vg&1<<1)==0};a.prototype.QG=function(){return(this.Vg&1<<4)==0};
a.prototype.H7=function(){return(this.Vg&1<<5)!=0};a.prototype.abk=function(){var w=this;if(w.add.lnsr!="bgnd"){w.add.lnsr="bgnd";
w.nY("Background");w.add.lspf=1<<2}};a.prototype.aqp=function(){var w=this;if(w.add.lnsr=="bgnd"){delete w.add.lnsr;
w.nY("Layer 0");w.add.lspf=0}};a.prototype.ox=function(w){var n=this.add.lspf;return n==null?!1:(n>>w&1)!=0};
a.prototype.WH=function(w){if(w&&!this.tl())this.Vg-=2;if(!w&&this.tl())this.Vg+=2};a.prototype.iC=function(){var w=this.add.lmfx;
if(w==null)return!1;for(var n in w){if(n=="masterFXSwitch")continue;if(n=="Scl")continue;if(n=="classID")continue;
if(w[n].v.length>0)return!0}return!1};a.prototype.RL=function(){return this.add.SoLd!=null&&this.add.SoLd.filterFX!=null};
a.prototype.QB=function(){var w=this.add.lmfx;if(w==null)return!1;if(!w.masterFXSwitch.v)return!1;for(var n in w){if(n=="masterFXSwitch")continue;
if(n=="Scl")continue;if(n=="classID")continue;var H=w[n].v;for(var l=0;l<H.length;l++)if(H[l].v.enab.v)return!0}return!1};
a.prototype.en=function(w,n,H,y){var c=new cr,Q=this.Wa(w,H,y);if(Q.indexOf(0)!=-1)c=c.ld(this.rect);
if(Q.indexOf(1)!=-1){var q=this.LZ(),S=q.fH();c=H&&q.cH()==0?c._G()?S:c.Fa(S):c.ld(S)}if(Q.indexOf(2)!=-1){var A=this.add.vmsk,V=this.add.vstk,e;
if(n){e=O.r.dF(A.i,A.g.length!=0?A.g:null)}else e=O.r.dF(A.i);if(!y&&V&&V.strokeEnabled.v){var d=V.strokeStyleLineAlignment.v.strokeStyleLineAlignment,N=V.strokeStyleLineJoinType.v.strokeStyleLineJoinType;
if(d!="strokeStyleAlignInside"){var b=V.strokeStyleLineWidth.v.val;if(N=="strokeStyleMiterJoin")e=new cr(0,0,w.m,w.e);
else e.i_(b,b)}}c=c.ld(e)}if(Q.indexOf(3)!=-1)c=c.ld(this.iS(w).z.fH());if(Q.length==0&&this.hu())c=y?new cr(0,0,0,0):new cr(0,0,w.m,w.e);
return c};a.prototype.Wp=function(){var w=this.add.artb,n=w.artboardBackgroundType.v,H=0;if(n==1)H=4294967295;
else if(n==2)H=4278190080;else if(n==3)H=0;else if(n==4){H=w.Clr.v;H=255<<24|H.Bl.v<<16|H.Grn.v<<8|H.Rd.v}else throw n;
return H};a.prototype.oC=function(){var w=this.add.artb.artboardRect.v,n=w.Btom.v,H=w.Left.v,y=w.Rght.v,top=w.Top.v;
return new cr(H,top,y-H,n-top)};a.prototype.ws=function(w){var n=a.hW(w);if(this.add.artb==null)this.add.artb={classID:"artboard",artboardRect:{t:"Objc",v:null},artboardBackgroundType:{t:"long",v:1}};
this.add.artb.artboardRect.v=n};a.hW=function(w){var n={classID:"classFloatRect",Top:{t:"doub",v:0},Left:{t:"doub",v:0},Btom:{t:"doub",v:0},Rght:{t:"doub",v:0}};
n.Btom.v=w.y+w.e;n.Left.v=w.x;n.Rght.v=w.x+w.m;n.Top.v=w.y;return n};a.prototype.Wa=function(w,n,H){var y=[],c=this;
if(!n&&c.gK&&H){y.push(2)}else if(c.Ks<=0||n){if(c.QG())if(!this.rect._G())y.push(0);if(c.LZ()&&!c.LZ().rect._G())if(c.LZ().G9||n)y.push(1);
if(c.add.vmsk)if(c.add.vmsk.G9||n)y.push(2);if(c.RL()&&c.iS(w).z&&!c.iS(w).z.rect._G())y.push(3)}else if(c.Ks==1){y.push(1);
if(c.LZ().G9&&!c.LZ().rect._G()){if(c.QG())if(!this.rect._G())y.push(0);if(c.add.vmsk)if(c.add.vmsk.G9)y.push(2)}}else if(c.Ks==3&&!c.iS(w).z.rect._G())y.push(3);
if(c.add.artb&&y.indexOf(0)==-1)y.push(0);y.sort();return y};a.prototype.LZ=function(){var w=this;return w.lZ?w.lZ:w.add.vmsk&&w.add.vmsk.isEnabled?null:w.z};
a.prototype.iS=function(w){var n=this.add.SoLd.placed.v,H=w.add.FEid;if(H==null)return null;for(var l=0;
l<H.length;l++)if(H[l].id==n)return H[l];return null};a.prototype.extend=function(w){O.ayI(this,w)};
a.prototype.ahD=function(w,n,H){var y=w.clone();if(this.QB()){var c=this.add.lmfx,Q=n.root.wO(n.B.indexOf(this)),q=c.gradientFillMulti.v,S=!1;
for(var l=0;l<q.length;l++)if(q[l].v.enab.v&&q[l].v.Algn.v)S=!0;if(S)y=y.ld(Q.fH(n,!1));var A=hO.abl(this.add.lmfx,n,H);
y.offset(A.x,A.y);y.m+=A.m;y.e+=A.e}return y};a.prototype.KU=function(){if(this.QG())O.Vu(this);var w=this.LZ();
if(w)w.KU()};a.prototype.clone=function(){var w=new a;w.rect=this.rect.clone();w.buffer=this.buffer.slice(0);
w.UM=this.UM;w.opacity=this.opacity;w.Ak=this.Ak;w.Vg=this.Vg;w.name=this.name;w.wh=this.wh.slice(0);
if(this.z)w.z=this.z.clone();if(this.lZ)w.lZ=this.lZ.clone();for(var n in this.add)w.add[n]=aU.clone(n,this.add[n]);
return w};a.prototype.fn=function(w){var n=this;if(n.add.TySh)delete n.add.TySh;if(n.add.SoLd){var H=this._h(w,this.buffer,this.rect);
if(H){this.buffer=H.fF;this.rect=H.rect;this.U()}delete n.add.SoLd}if(n.add.SoCo||n.add.GdFl||n.add.PtFl){if(n.add.vogk)delete n.add.vogk;
if(n.add.SoCo)delete n.add.SoCo;if(n.add.GdFl)delete n.add.GdFl;if(n.add.PtFl)delete n.add.PtFl;if(n.add.vmsk){console.log(n.lZ,n.z);
delete n.add.vmsk;if(n.lZ==null&&n.z)delete n.z;else if(n.lZ!=null&&n.z!=null){n.z=n.lZ;delete n.lZ}}}if(!n.Ok()&&fb.get(n.add)==null&&!this.QG())this.Vg-=16};
a.prototype.rP=function(w){var n=255,H=0;if(w==2){var y=this.add.SoLd.filterFX.v;if(y.filterMaskDensity)n=y.filterMaskDensity.v;
if(y.filterMaskFeather)H=y.filterMaskFeather.v}else{var c=w==0?this.LZ():this.add.vmsk;n=c.qC;H=c.Hk}return{mU:w,g7:n,rF:H}};
a.prototype.ad5=function(w){if(w.mU==2){var n=this.add.SoLd.filterFX.v;if(w.g7==255)delete n.filterMaskDensity;
else n.filterMaskDensity={t:"long",v:w.g7};if(w.rF==0)delete n.filterMaskFeather;else n.filterMaskFeather={t:"doub",v:w.rF};
this.U()}else{var H=w.mU==0?this.LZ():this.add.vmsk;H.qC=w.g7;H.Hk=w.rF;H.Yh=!0}};a.prototype.cv=function(){var w=this,n=w.add.vmsk;
if(n==null)return;w.add.vogk=O.X.akd(n.i)};a.cv=function(w){var n=[],H=O.r.xD(w);for(var y=0;y<H;y++)n.push(O.X.By());
return n};var c0={Ua:0,q8:1,$g:2,ho:3};a.ZV=function(){this.name="Mask";this.SC=!1;this.qA={b:255,J:0,k:0};
this.nn=50;this.Ph=0;this.color=255;this.G9=!0;this.isEnabled=!0;this.b2=!1;this.qC=255;this.Hk=0;this.rect=new cr;
this.channel=O.R(0);this.x9=null;this.aiU=null;this.Yh=!0};a.ZV.prototype.dO=function(w){if(!this.isEnabled)return w;
var n=new a.ZV;n.color=Math.round(this.cH()*w.cH()/255);if(this.cH()==0&&w.cH()==0)n.rect=this.fH().Fa(w.fH());
else if(w.cH()==0)n.rect=w.fH().clone();else if(this.cH()==0)n.rect=this.fH().clone();else n.rect=this.fH().ld(w.fH());
n.channel=this.iU(n.rect);n.qC=255;n.Hk=0;var H=w.iU(n.rect);O.avT(H,n.rect,n.channel,n.rect);return n};
a.ZV.prototype.fH=function(){if(this.Hk==0)return this.rect;var w=Math.ceil(this.Hk*2.2),n=this.rect.clone();
if(n.y==0){if(n.x==0)n.m+=w;else n.i_(w,0);n.e+=w}else n.i_(w,w);return n};a.ZV.prototype.ra=function(){if(this.Hk==0&&this.qC==255)return this.channel;
if(this.Hk==0){var w=this.channel.slice(0);O.G$(w);O.ub(w,this.qC/255);O.G$(w);return w}var n=this.fH(),H=this.IX(n),w=O.R(n.O());
O.CU.Tw(H,w,n,this.Hk);if(this.qC!=255){O.G$(w);O.ub(w,this.qC/255);O.G$(w)}return w};a.ZV.prototype.cH=function(){return Math.round(255-(255-this.color)*(this.qC/255))};
a.ZV.prototype.extend=function(w){O.extend(this,w,this.color)};a.ZV.prototype.KU=function(){if(this.color==255)O.G$(this.channel);
O.KU(this);if(this.color==255)O.G$(this.channel)};a.ZV.prototype.clone=function(){var w=new a.ZV;w.name=this.name;
w.SC=this.SC;w.qA=this.qA;w.nn=this.nn;w.Ph=this.Ph;w.color=this.color;w.G9=this.G9;w.isEnabled=this.isEnabled;
w.b2=this.b2;w.qC=this.qC;w.Hk=this.Hk;w.rect=this.rect.clone();w.channel=this.channel.slice(0);return w};
a.ZV.prototype.IX=function(w,n){if(n==null)n=O.R(w.O());n.fill(this.color);O.qS(this.channel,this.rect,n,w);
return n};a.ZV.prototype.iU=function(w,n){var H=this.fH(),y=this.ra();if(n==null)n=O.R(w.O());n.fill(this.cH());
O.qS(y,H,n,w);return n};a.TB=function(){this.G9=!0;this.isEnabled=!0;this.qC=255;this.Hk=0;this.i=[{type:6},{type:8,all:0}];
this.Ug=[-3,-3];this.XR=!1;this.lZ=null;this.Yh=!0;this.g=[];this.V1=[]};a.TB.prototype.offset=function(w,n){this.lZ=this.LZ();
O.r._R(this.i,new b7(1,0,0,1,w,n));this.lZ.rect.offset(w,n)};a.TB.prototype.LZ=function(w){if(!this.Yh&&this.lZ&&w==null){this.lZ.isEnabled=this.isEnabled;
return this.lZ}var n=O.r.dF(this.i),H="strokeStyleLineAlignment",y="strokeStyleLineJoinType";if(n.O()>2e4*2e4)n=new cr(0,0,100,100);
if(w&&w[H].v[H]!="strokeStyleAlignInside"){var c=1;if(w[y].v[y]=="strokeStyleMiterJoin"){var Q=O.r.asC(this.i),q=Q/2,S=Math.sin(q),A=Math.cos(q);
A/=S;S=1;var c=Math.sqrt(A*A+S*S);if(isNaN(c)||c<1)c=1}c*=w[H].v[H]=="strokeStyleAlignOutside"?1:.5;
var V=Math.ceil(w.strokeStyleLineWidth.v.val*c);V=Math.min(V,600);n.i_(V,V)}n=O.p.sb(n);var e=new a.ZV;
e.color=O.r.e6(this.i)?0:255;e.G9=this.G9;e.isEnabled=this.isEnabled;e.b2=!0;e.rect=n;e.qC=this.qC;e.Hk=this.Hk;
e.channel=O.R(e.rect.O());if(!n._G())O.r.ay$(this.i,e.channel,e.rect,w);if(w==null){this.lZ=e;this.Yh=!1}return e};
a.TB.prototype.clone=function(){var w=new a.TB;w.G9=this.G9;w.isEnabled=this.isEnabled;w.qC=this.qC;
w.Hk=this.Hk;w.i=a.TB.Ce(this.i);w.Ug=this.Ug.slice(0);w.XR=this.XR;w.g=this.g.slice(0);w.V1=this.V1.slice(0);
return w};a.TB.prototype.concat=function(w){var n=w.i.slice(2);if(n.length==0)return;n[0].NB=3;this.i=this.i.concat(n)};
a.TB.Ce=function(w){var n=[];for(var l=0;l<w.length;l++){var H=w[l];if(H.type>5||H.type==0||H.type==3)n.push(JSON.parse(JSON.stringify(H)));
else n.push({type:H.type,P7:H.P7.clone(),H:H.H.clone(),f$:H.f$.clone()})}return n};a.TB.a0w=function(w,n,H){if(w.length!=n.length)return!1;
for(var l=2;l<w.length;l++){var y=w[l],c=n[l];if(y.type!=c.type)return!1;if(y.type==0||y.type==3){if(y.length!=c.length||!H&&y.NB!=c.NB)return!1}else if(!y.P7.Hw(c.P7)||!y.H.Hw(c.H)||!y.f$.Hw(c.f$))return!1}return!0};
a.TB.prototype.agS=function(){var w=this.i;for(var l=3;l<w.length;l++)if(w[l].type==0||w[l].type==3)w[l].NB=-1};
a.zI=function(){this.type=null;this.gt=2;this.h4=null;this.w5="";this.SU="";this.z7="";this.open=0;this.raw=null;
this.TM=null;this.a4g="";this.se=!1};a.zI.prototype.clone=function(){var w=new a.zI;w.type=this.type;
w.gt=this.gt;w.h4=this.h4;w.w5=this.w5;w.SU=this.SU;w.z7=this.z7;w.open=this.open;w.raw=new Uint8Array(this.raw.buffer.slice(0));
return w};a.zI.prototype.E$=function(w,n,H,y,c){if(H==null)H="none";var Q=this,q=cb.mj(Q.raw.buffer),S=q=="svg"||q=="pdf"||q=="ai";
if(Q.TM){var A=n&&S&&Math.max(Q.TM[1].m,Q.TM[1].e)<Math.max(n[0],n[1]);if(!A&&H==this.a4g&&!Q.se)return}this.a4g=H;
if(!S)w=0;if(q==null){alert("Unsupported format: "+j.QN(Q.raw,0,4));return null}var V=cb.Mn(q);if(V.ht){var e=new iC(name+(q=="psd"?"":"-"+q)+".psd"),d;
V._N(Q.raw.buffer,e,n);var N=new cr(0,0,e.m,e.e);if("avrg maxx medn minn rang stdv summ vari".split(" ").indexOf(H)!=-1){var b=[];
for(var l=0;l<e.B.length;l++){var z=e.B[l],v=z.buffer;if(!z.rect.Hw(N)){v=O.R(N.O()*4);O.j1(z.buffer,z.rect,v,N);
console.log("resizing")}b.push(v)}d=O.R(N.O()*4);O.stack.stack(b,d,H)}else{for(var l=0;l<e.B.length;
l++)if(e.B[l].hu())e.B[l].qL(e);if(y&&e.se){var T=kn.q2(e,y,c);Q.se=!T;if(T)kn.aqu(e,y,c)}e.C1();e.U();
e.eU();d=e.E$()}Q.TM=[d,N];Q.uP=e.uP!=null&&e.uP!=0?e.uP:72}else if(V){var Y=V._N(Q.raw.buffer)[0];Q.TM=[new Uint8Array(Y.data),Y.Zg];
Q.uP=Y.uP!=null&&Y.uP!=0?Y.uP:72}if(Q.TM){if(w==1){var v=Q.TM[0],g=Q.TM[1],R=O.R(g.O());O.RR(v,R,3);
var h=O.zX(R,g),E=O.R(h.O()*4);O.j1(v,g,E,h);h.x=h.y=0;Q.TM=[E,h]}O.Qt(Q.TM)}};a.Bc="0";a.oM="2";a.p7="2.5";
a.TZ="2.6";a.Oq="3";a.s8="4";a.pn="4.5";a.aba="4.6";a.ack="5";a.dz="5.5";a.a6H="6";a.YB="7";a.a1Q="8";
a.s$="9";a.ii="9.3";a.a4m="9.5";a.N6="9.6";a.gy="10";a.qz="11";a.jJ="12";a.aU="13";a.Xg="13.1";a.a1S="13.2";
a.tA="13.3";a.ez="13.4";a.s4="14";a.gc="14.1";a.Ng="14.2";a.vw="14.3";a.sz="17";a.Vf="18";a.aoJ="19";
a.M_="19.5";a.cF="19.6";a.oO="19.7";a.Ef="19.8";a.Cx="20";a.eq="21";a.Cz="21.5";a.OY="22";a.gI="22.5";
a.Rw="23";a.alx="24";a.$C="25";a.ayy="26";a.asY="27";a.cQ="28";a.Fh="29";a.J6="30";a.vg="31";a.So="32";
a.vB="33";a.j9="34";a.iJ="35";a.gq="36";a.S7="36.5";a.Tl="37";a.JP="37.5";a.a0R="37.6";a.$w="38";a.lj="38.5";
a.HM="38.6";a.Rq="39";a.LD="40";a.amR="41";a.Rf="42";a.SZ="50";a.va="51";a.yw="52";a.Sw="53";a.$P="54";
a.a8c="54.5";a.a5="54.6";a.axR="54.7";a.cp="54.8";a.pk="55";a.wn="56";a.xC="57";a.lg="58";a.Q$="59";
a.rd="60";function iP(){this.depth=0;this.index=-1;this.j=null;this.a3_=null;this.Jq=-1;this.children=null;
this.parent=null;this.y0=null}iP.prototype.auD=function(w,n){if(this.depth!=0)w.push(this.j.getName());
if(this.children)for(var l=0;l<this.children.length;l++)this.children[l].auD(w,n);if(w.length>n.X5.length)n.X5=w.slice(0);
if(this.depth!=0)w.pop()};iP.prototype.and=function(){var w=0;if(this.j.Ok()){for(var l=0;l<this.children.length;
l++)w+=this.children[l].and()}else if(this.j.buffer)w+=this.j.buffer.length;return w};iP.prototype.wO=function(w){var n=this.y0[w];
return this.y0[w]};iP.prototype.a2F=function(w,n){var H=this.j;if(!H.tl()||H.ox(2)||H.ox(31))return null;
if(H.Cu()){var y=H.z.rect.QW(w);if(!y&&H.z.color==0)return}if(H.Ok()){for(var l=0;l<this.children.length;
l++){var ds=this.children[l];ds.a2F(w,n)}}else if(H.rect.QW(w))n.push(this.index)};iP.prototype.Z3=function(w,n){var H=this.j;
if(!H.tl()||H.ox(2)||H.ox(31))return null;if(H.Cu()){if(H.z.rect.yo(w)){if(!O.Z3(w,H.z.channel,H.z.rect))return null}else if(H.z.color==0)return null}if(H.Ok()){if(H.add.artb&&!H.oC().yo(w))return null;
for(var l=this.children.length-1;l>=0;l--){var ds=this.children[l],y=ds.Z3(w,n);if(y&&n==null)return y}return null}else if(H.add.TySh&&H.rect.yo(w)||O.ast(w,H.buffer,H.rect)){if(n==null)return this;
else n.push(this.index)}return null};iP.prototype.a4W=function(w){var n=this.j;if(!n.tl()||n.ox(2)||n.ox(31))return null;
var H=n.add.vmsk;if(H&&H.isEnabled){var y=O.r.Z3(H.i,w).cm;if(y!=-1)return{awy:this,a0W:y}}if(n.Ok()){if(n.add.artb&&!n.oC().yo(w))return null;
for(var l=this.children.length-1;l>=0;l--){var ds=this.children[l],c=ds.a4W(w);if(c)return c}return null}return null};
iP.prototype.Es=function(w,n){w.push(this.index);if(this.j.Ok()){w.push(this.Jq);if(n)if(this.j.Ks==1&&this.j.LZ().G9==!1)return;
for(var l=0;l<this.children.length;l++)this.children[l].Es(w)}};iP.D8=function(){var w=document.createElement("canvas");
return w.getContext("2d")};iP.agG=function(w,n){var H,y;if(w.m>w.e){H=n;y=Math.floor(n*(w.e/w.m))}else{H=Math.floor(n*(w.m/w.e));
y=n}return new ce(H,y)};iP.Kn=32;iP.Vv=1;iP.prototype.zT=function(w,n,H){var y=iP.Vv,c=this.j;if(c.Ok()&&c.add.artb!=null)n=c.oC();
var Q=y==0?c.rect:n;if(Q._G()||c.add.TySh)Q=n;var q=iP.Kn*P.V(),S=iP.agG(Q,q),A=S.x,V=S.y,e=iP.agG(n,q);
if(c.hu()&&c.add.vmsk==null||c.add.TySh)A=V=Math.max(V,16);else if(c.Ok()){A=V=16}else{A=Math.max(A,6);
V=Math.max(V,6)}if(H&&c.KZ==null){c.KZ=iP.D8();c.k7=iP.D8();c.Dz=iP.D8();c.CZ=iP.D8()}var d=c.hu()&&c.add.vmsk;
if(d){if(H&&c.add.vstk)O.mM.nf(c.KZ,A,V,Q,c.buffer,c.rect,!1,null,!c.add.vstk.fillEnabled.v&&!c.add.vstk.strokeEnabled.v);
if(H)O.mM.atP(c.KZ,A,V)}else if(c.add.TySh){if(H)O.mM.azb(c.KZ,V,V,c.add.TySh)}else if(c.add.SoCo){if(H)O.mM.a3p(c.KZ,V,V,c.add.SoCo)}else if(c.add.GdFl){if(H)O.mM.abt(c.KZ,V,V,c.add.GdFl)}else if(c.add.PtFl){if(H)O.mM.ap2(c.KZ,V,V,c.add.PtFl,w)}else if(fb.get(c.add)!=null){if(H)O.mM.atQ(c.KZ,V,V,c.add)}else if(c.add.SoLd){if(H)O.mM.nf(c.KZ,A,V,Q,c.buffer,c.rect,!1);
if(H)O.mM.auw(c.KZ,A,V,c.add.SoLd)}else if(c.Ok()){}else{if(H){if(c.QG())O.mM.nf(c.KZ,A,V,Q,c.buffer,c.rect,!1);
else{O.mM.amt(c.KZ,V,V)}}}var N=c.LZ();if(H){if(N)O.mM.pq(c.k7,e.x,e.y,n,N);if(c.RL()&&c.iS(w)&&c.iS(w).z){var b=c.iS(w).z;
O.mM.pq(c.CZ,e.x,e.y,n,b)}if(!d&&c.add.vmsk){O.mM.pq(c.Dz,e.x,e.y,n,c.add.vmsk.LZ(),!0)}}if(N||c.add.vmsk)V=Math.max(V,e.y);
c.auL=Math.max(V,16);if(H!=!0&&c.Ok()&&(c.add.lsct==c0.q8||w.B.length<4e3))for(var l=0;l<this.children.length;
l++)this.children[l].zT(w,n)};iP.prototype.a73=function(w,n,H,y){this.depth=H;var c=w[n];if(y==null)y=[];
this.y0=y;if(c.add.lsct==c0.ho){this.a3_=c;this.Jq=n-1;this.children=[];var l=n+1;while(!0){var Q=w[l];
if(Q==null)console.log(l,w.length);if(Q.add.lsct==c0.q8||Q.add.lsct==c0.$g){if(c.add.lyid==Q.add.lyid)c.add.lyid+=16777215;
this.j=Q;this.index=l-1;y[this.index]=this;y[n-1]=this;break}var q=new iP;q.parent=this;l=q.a73(w,l,H+1,y);
this.children.push(q)}return l+1}else{this.j=c;this.index=n-1;y[this.index]=this;return n+1}};iP.prototype.k8=function(w,n,H,y){var c=this.wO(H),Q=w;
while(c.parent!=null){Q=c.j.ahD(Q,n,y);c=c.parent}return Q};iP.prototype.fH=function(w,n){var H=this.j,y=new cr;
if(!H.tl())return y;var c=H.LZ();if(H.Ok())for(var l=0;l<this.children.length;l++){var Q=this.children[l].fH(w,!0);
y=y.ld(Q)}else if(fb.get(H.add)!=null)y=H.Cu()&&H.z.color==0?H.z.fH().clone():new cr(0,0,w.m,w.e);else if(H.hu()&&H.add.vmsk&&H.add.vmsk.isEnabled&&H.add.vstk){y=H.rect.clone()}else if(H.hu()&&c&&c.isEnabled&&c.cH()!=0)y=new cr(0,0,w.m,w.e);
else{y=H.en(w,!1,!0);if(H.add.vmsk)y=O.p.sb(y)}return n?H.ahD(y,w):y};iP.LF={delete:function(w){if(w&&w.m)w.delete()},R:function(w,n){return dy._k?new dy.$Z(w,n):O.R(w*n*4)},gC:function(w,n,H){if(dy._k){if(w==null||w.m!=n||w.e!=H){iP.LF.delete(w);
return new dy.$Z(n,H)}}else{if(w==null||!(w instanceof Uint8Array)||w.length!=n*H*4){iP.LF.delete(w);
return O.R(n*H*4)}}return w},qS:function(w,n,H,y,c){(dy._k?dy.Vi:O.j1)(w,n,H,y,c)},AF:function(w,n,H,y,c,Q,q,S,l,A,V){(dy._k?dy.q.l0:O.q.AF)(w,n,H,y,c,Q,q,S,l,A,V)},anU:function(w,n,H,y,c,Q,q,S){var A=H.clone(),V=c.m,e=c.e,d=A.x,N=A.y,b=A.x+A.m>V?-1:0,z=A.x<0?2:1,v=A.y+A.e>e?-1:0,T=A.y<0?2:1;
for(var Y=v;Y<T;Y++)for(var g=b;g<z;g++){A.x=d+g*V;A.y=N+Y*e;iP.LF.SG(w,n,A,y,c,Q,q,S)}},SG:function(w,n,H,y,c,Q,q,S){if(dy._k)dy.q.JO(w,n,H,y,c,Q,q,S);
else O.q.SG(w,n,H,y,c,Q,q,S)},jZ:function(w,n,H){if(dy._k){dy.O0(w);dy.R6(n,H)}else O.jZ(w,n,H)},asT:function(w,n,H,y,c){if(dy._k){dy.q.l0(null,null,y,c,w,n,H,c,1,!1)}else{if(H==255)O.lf(w,n,y,c);
else{var Q=O.R(n.O());O.zW(y,c,Q,n);O.I_(w,Q);O.jZ(y,0,16777215);O.CI(Q,n,y,c)}}},SJ:function(w,n,H,y){if(dy._k)dy.q.l0(null,null,H,y,w,n,0,y,1,!1);
else O.SJ(w,n,H,y)}};iP.prototype.e5=function(w,n,H,y,c,Q){var q=typeof Q=="number";if(!this.j.Ok()&&(q&&this.index>Q||!q&&Q.indexOf(this.index)==-1)){return}var S=this.j,A=hO.ne(S),V=iP.LF,e=S.hu()?S.LZ():S.z;
if(!S.tl())return;if(S.Cu()&&e.rect._G()&&e.cH()==0){return}if(S.add.vstk==null&&this.fH(y,!1)._G()){return}var d=this.fH(y,!0).Fa(H);
if(!n.Hw(H)&&!H.QW(d))return;if(S.Ok()&&S.add.artb){var N=S.oC();H=H.Fa(N)}var b=iP.abm(S,c,A);if(!b){this.ayc(w,n,H,y,c,Q);
return}S.Sh.JZ=V.gC(S.Sh.JZ,d.m,d.e);V.qS(w,n,S.Sh.JZ,d,H);this.ayc(S.Sh.JZ,d,H,y,c,Q);V.AF(S.Sh.JZ,d,w,n,null,null,0,H,S.opacity/255,S.UM=="diss",A.d8)};
iP.abm=function(w,n,H){if(H.d8[0]*H.d8[1]*H.d8[2]==0)return!0;return w.opacity!=255&&(n.length!=0||w.Ok()||w.QB())};
iP.as_={Sh:{}};iP.prototype.ayc=function(w,n,H,y,c,Q){var q=this.j,S=hO.ne(q),A=fb.get(q.add)!=null,V=iP.LF,e=iP.abm(q,c,S),d=e?1:q.opacity/255,N=q.hu()?q.LZ():q.z,b=q.Ok()&&S.k6==null&&(q.UM=="pass"||q.add.artb)&&!(c.length>0||S.fill!=1||q.QB()),z=!q.Ok()&&!A&&!q.QB()&&c.length==0,v=A&&!q.QB()&&c.length==0,E=null,G=null,k=null,D;
if(b||z||v){var T=w,Y=n;if(q.Cu()){Y=this.fH(y,!1);T=q.Sh.H$=V.gC(q.Sh.H$,Y.m,Y.e);V.qS(w,n,q.Sh.H$,Y)}if(b)this.bG(T,Y,H,y,Q);
if(z)V.SG(q.UM,q.axt(y),q.rect,T,Y,H,d,S);if(v){var g=q.Cu()&&N.cH()==0?N.fH().clone():Y.clone(),R=q.Sh;
if(g.Hw(new cr(0,0,y.m,y.e)))R=iP.as_;R.cC=this.alI(T,Y,R.cC,g,q.add);S.t$=!0;V.SG(q.UM,R.cC,g,T,Y,H,d,S)}if(q.Cu())V.AF(T,Y,w,n,q.ael(),N.fH(),N.cH(),H,1,q.UM=="diss");
q.Sh.akV();return}var h=q.Ok()&&q.UM=="pass"&&(c.length>0||S.fill!=1||q.QB()),g=q.rect;if(q.Ok()){g=this.fH(y,!1);
k=q.Sh.cC=V.gC(q.Sh.cC,g.m,g.e);V.jZ(k,0);this.bG(k,g,g,y,Q);G=V.gC(q.Sh.qK,g.m,g.e);V.qS(k,g,G,g)}else if(A){g=q.Cu()&&N.cH()==0?N.fH().clone():n.clone();
G=V.gC(q.Sh.qK,g.m,g.e);V.jZ(G,4294967295)}else{g=q.rect;E=q.axt(y);G=V.gC(q.Sh.qK,g.m,g.e);V.qS(E,g,G,g)}q.Sh.qK=G;
if(q.Cu())V.asT(q.ael(),N.fH(),N.cH(),G,g);if(q.QB())if(q.Sh.FJ||q.Sh.uK||q.Sh.NM!=dy._k||q.Sh.NQ||q.Ok()){var $=q.add.vmsk,p=O.R(g.O());
if(hO.aku(q.add.lmfx)){if(dy._k){if(!q.Ok()&&q.LZ()==null&&q.rect.Hw(g)&&$==null)O.RR(q.buffer,p,3);
else{var X=O.R(g.O()*4);G.get(X);O.RR(X,p,3)}}else O.RR(G,p,3)}if(q.Sh.uK||q.Sh.NM!=dy._k||!O.Hw(p,q.Sh.wX)){var C=null;
if(q.hu()&&$&&$.isEnabled&&$.LZ().color==0)C=$.LZ().rect;hO.avQ(q.Sh.f3);q.Sh.f3=hO.azq(p,g,q.add.lmfx,q.add.fxrp,y,C);
q.Sh.wX=p;q.Sh.a49=g}}if(q.QB())hO.ad2(q.add.lmfx,q.Sh.f3,g,w,n,H);if(q.Ok()){E=V.gC(q.Sh.H$,g.m,g.e);
V.jZ(E,0);if(q.UM=="pass")V.qS(w,n,E,g);if(h)V.SJ(k,g,E,g);this.bG(E,g,H,y,Q);q.Sh.H$=E}if(A){E=q.Sh.H$=this.alI(w,n,q.Sh.H$,g,q.add)}if(q.Ok()||A)D=E;
else{D=V.gC(q.Sh.H$,g.m,g.e);V.qS(E,g,D,g,H);q.Sh.H$=D}V.jZ(D,4278190080,16777215);for(var l=0;l<c.length;
l++)c[l].e5(D,g,H,y,[],Q);var o=q.Sh._u=V.gC(q.Sh._u,g.m,g.e);V.qS(w,n,o,g,H);if(A)S.t$=!0;V.SG(q.UM=="pass"?"norm":q.UM,D,g,o,g,H,1,S);
if(q.QB()){var t=q.Sh.f3.type.FrFX,u=null;if(t.length!=0){u=t[0];for(var l=0;l<t.length;l++)if(t[l].Xc.m>u.Xc.m)u=t[l];
q.Sh.Za=V.gC(q.Sh.Za,u.Xc.m,u.Xc.e);V.qS(w,n,q.Sh.Za,u.Xc,H);q.Sh.Ll=V.gC(q.Sh.Ll,u.Xc.m,u.Xc.e)}hO.apA(q.add.lmfx,q.Sh.f3,g,w,n,H,o,q.Sh.Za,q.Sh.Ll,u?u.Xc:null)}if(!dy._k){var m=O.R(g.O());
O.RR(G,m,3);G=m}V.AF(o,g,w,n,G,g,0,H,1,q.UM=="diss");q.Sh.akV()};iP.prototype.ak5=function(w,n,H,y){var c=this.j,Q=c.add.lmfx,q=c.add.TySh,S=c.add.SoLd,z=!1,T=null;
if(!c.tl())return;if(!c.rect._G()&&!c.rect.QW(y))return;n.save();if(c.add.artb){var A=c.oC();n.beginPath();
n.rect(A.x,A.y,A.m,A.e);n.clip();y=y.Fa(A);var V=c.Wp();if(V!=0){var A=V>>>16&255,e=V>>>8&255,d=V&255;
n.fillStyle="#"+O.w9(d<<16|e<<8|A);n.fillRect(y.x,y.y,y.m,y.e)}}var N=c.opacity/255*(c.add.iOpa?c.add.iOpa/255:1);
n.globalAlpha*=N;n.globalCompositeOperation=eS.op[eS.$Q.indexOf(c.UM)];var b=[];CSS.a1b(w,Q,b);for(var l=0;
l<b.length;l++){var v=b[l];if(v.startsWith("filter: drop-shadow")){v=v.slice(20,-1).split(" ");n.shadowOffsetX=parseFloat(v[0])*w.u.N;
n.shadowOffsetY=parseFloat(v[1])*w.u.N;n.shadowBlur=parseFloat(v[2])*w.u.N*2.4;n.shadowColor=v[3];z=!0}}var Y=hO.a0v(c,z);
if(Y){T=n;var g=document.createElement("canvas");g.width=n.canvas.width;g.height=n.canvas.height;var R=n.getTransform();
n=g.getContext("2d");n.setTransform(R.a,R.b,R.c,R.d,R.e,R.f)}function h(_,K){var E=_.Sh.Ij;if(E==null)E=_.Sh.Ij=O.p.A2(_.add.vmsk.i,K);
return E}if(c.add.vmsk&&!c.hu()){var E=h(c,!1),G=E.ad;n.beginPath();Typr.U.pathToContext({cmds:G.T,crds:G.w},n);
n.clip()}function k(_,K){return CSS.XQ({b:_[0]*255,J:_[1]*255,k:_[2]*255},K)}function $(u,_,K,B){if(u.Ptrn){var ij=hO.yr(u,null,new cr(0,0,1,1),_,K);
B.save();B.translate(ij[2],ij[3]);B.scale(ij[1],ij[1]);B.rotate(-ij[4]);return ij}var W=e2.CN(u,new b7,c.rect);
if(W.length==3)return[k(W),1];else{var L,i=W.crds,e3=W.grad;if(W.typ=="lin")L=n.createLinearGradient(i[0],i[1],i[2],i[3]);
else L=n.createRadialGradient(i[0],i[1],i[2],i[3],i[4],i[5]);for(var l=0;l<e3.length;l++)L.addColorStop(e3[l][0],k(e3[l][1],e3[l][2]));
return[L,1]}}if(c.Ok()){for(var l=0;l<this.children.length;l++)this.children[l].ak5(w,n,H,y)}else if(q){var p=!0;
if(c.Sh.path==null){p=kn.K4(q,H.KF);if(p)kn.Pu(c,H.KF,!1)}if(p){if(w.u.N<1)iP.a3a(w,c,n,new b7(1,0,0,1,c.rect.x,c.rect.y),c.Sh.TP);
else if(c.Sh.path){n.save();n.translate(c.rect.x-c.Sh.gu.x,c.rect.y-c.Sh.gu.y);kn.afI(c.Sh.path,n);n.restore()}}}else if(c.hu()&&c.add.vmsk){var X=c.add.vmsk,C=c.add.vstk,Q=c.add.lmfx,D=C.fillEnabled.v;
if(!C.strokeEnabled.v)C=hO.nv(Q);var o=C?d5.Ed.YH.indexOf(C.strokeStyleLineAlignment.v.strokeStyleLineAlignment):-1,E=h(c,o!=-1),G=E.ad;
if(X.Hk!=0)n.filter="blur("+X.Hk*w.u.N+"px)";n.beginPath();Typr.U.pathToContext({cmds:G.T,crds:G.w},n);
var t=o==2?[1,0]:[0,1];for(var l=0;l<2;l++){if(t[l]==0&&D){var u=hO.yt(Q,c.add),m=u[0],U=u[1];u=c.add.PtFl;
u=u?u:m?m:U;u=$(u,w.add.Patt,c.add.fxrp,n);n.fillStyle=u[0];n.fill(["nonzero","evenodd"][c.Sh.Ij.nk]);
if(u.length>2)n.restore();if(o==0)n.clip()}if(t[l]==1&&C){var I=$(C.strokeStyleContent.v,w.add.Patt,c.add.fxrp,n);
n.strokeStyle=I[0];O.r.AL(C,n,1/I[1]);n.stroke();if(I.length>2)n.restore()}}}else if(!c.rect._G()){var x=null,J=null;
if(S){var r=S.filterFX;if(r){var u=r.v.filterFXList.v;for(var l=0;l<u.length;l++){var v=u[l].v;if(!v.enab.v)continue;
var Z=gT.tu(v);if(Z=="GsnB"){n.filter="blur("+v.Fltr.v.Rds.v.val*w.u.N+"px)"}}}var f=S.Idnt.v,F=w.Lm(f,S.Crop?S.Crop.v:null);
x=O.K.EH(S);J=F.TM}iP.a3a(w,c,n,x,J)}if(Y){T.save();T.setTransform(1,0,0,1,0,0);T.drawImage(n.canvas,0,0);
T.restore();n=T}n.globalAlpha/=N;n.globalCompositeOperation="source-over";n.restore()};iP.a3a=function(w,n,H,y,c){if(y==null)y=new b7;
var Q=n.buffer,q=n.rect;if(c){var S=y.H5()*w.u.N,A=0;while(1<<A/2<.5/S&&A+2<c.length)A+=2;Q=c[A];q=c[A+1];
q=q.clone();q.x=q.y=0;var S=1<<A/2,V=new b7;V.scale(S,S);V.concat(y);y=V}if(q._G())return;var e=document.createElement("canvas");
e.width=q.m;e.height=q.e;var d=e.getContext("2d");d.putImageData(new ImageData(new Uint8ClampedArray(Q.buffer),q.m,q.e),0,0);
H.transform(y.iL,y.k,y.Mg,y.Du,y.qH,y.fp);H.drawImage(e,q.x,q.y);y.G$();H.transform(y.iL,y.k,y.Mg,y.Du,y.qH,y.fp)};
iP.prototype.alI=function(w,n,H,y,c){var Q=fb.get(c),q;if(Q)q=fb.QT(Q,c[Q]);var S=iP.LF;H=S.gC(H,y.m,y.e);
if(!(dy._k&&n.Hw(y)))S.qS(w,n,H,y);if(q){if(dy._k){var A=y.clone();A.x=A.y=0;if(n.Hw(y)){dy.O0(H,A);
fb.Eo(q,w.iX,A)}else{dy.O0(H,y);H.yp(y);fb.Eo(q,H.Qq,A)}}else fb.kS(q,H,H,y)}return H};iP.prototype.bG=function(w,n,H,y,c){var Q=n,q=Q.m,S=Q.e,A=Q.x,V=Q.y,ds=H,e=ds.x,d=ds.y,N=-1,b=-1,z=2,v=2;
if(!y.VQ){N=b=0;z=v=1}var T=this.children;for(var l=0;l<T.length;l++){var Y=[];for(var g=l+1;g<T.length;
g++)if(T[g].j.Ak)Y.push(T[g]);else break;for(var R=b;R<v;R++)for(var h=N;h<z;h++){Q.x=A+h*q;Q.y=V+R*S;
ds.x=e+h*q;ds.y=d+R*S;T[l].e5(w,Q,ds,y,Y,c)}l+=Y.length}Q.x=A;Q.y=V;ds.x=e;ds.y=d};function iC(w){this.VV="psd";
this.XV=!1;this.name=w;this.XO=-1;this.VQ=!1;this.fB=null;this.WY=null;this.Is=null;this.bD=null;this.m=0;
this.e=0;this.buffer=null;this.B=[];this.xu={};this.add={};this.EL=4;this.zm=null;this.uP=72;this.zN={};
this.g=[];this.V_=[];this.cU=!1;this.B0=[];this.J$=[];this.Wh=[iC.nN("Work Path")];this.SV=[];this.t7=null;
this.PU={classID:"CompList",list:{t:"VlLs",v:[]}};this.Uw=[];this.az=[];this.root=null;this.eC=null;
this.se=!1;this.a9W=!1;this.auy=!1;this.jz=!1;this.Ii=!1;this.Va=!1;this.qF=!1;this.zi=!1;this.QR=!1;
this.nR=!1;this.FJ=null;this.fm=null;this.P=null;this.d4=[];this.np=[];this.I={p4:{},aN:[],tE:[],e7:[],lJ:null,sv:null,lC:null,dm:null,ls:null,El:[],n7:[],us:null};
this.history=[new dq([1,0],null)];this.Cf=0;this.kX=0;this.eB=0;this.u=new id(this);this.zK=null;this.AA=null}iC.q1=function(){var w=8,n=[0,0,0,.145,.051,.051,.263,.071,.067,.416,.051,.055,.573,.102,.11,.71,.122,.141,.851,.122,.149,.929,.122,.141,.075,.149,.078,.153,.153,.078,.275,.153,.055,.424,.157,.071,.569,.153,.114,.706,.165,.141,.855,.161,.153,.933,.196,.141,.118,.282,.133,.18,.29,.129,.286,.29,.122,.427,.294,.114,.573,.298,.129,.71,.294,.149,.855,.298,.153,.941,.306,.133,.035,.431,.224,.157,.427,.212,.294,.431,.204,.427,.435,.18,.569,.431,.165,.71,.435,.161,.851,.431,.153,.953,.435,.133,.012,.576,.278,.145,.569,.271,.29,.576,.259,.427,.576,.239,.569,.576,.212,.706,.573,.184,.855,.576,.157,.969,.569,.118,.114,.698,.294,.165,.702,.29,.29,.714,.286,.424,.714,.271,.573,.718,.243,.71,.714,.204,.855,.714,.153,.988,.714,.078,.314,.722,.282,.329,.722,.278,.392,.737,.275,.478,.757,.259,.584,.788,.239,.714,.827,.2,.859,.859,.125,.996,.855,0,.412,.741,.271,.427,.745,.267,.471,.753,.259,.533,.773,.251,.624,.8,.227,.725,.835,.2,.843,.875,.137,.973,.925,.075,.055,.059,.137,.141,.059,.141,.271,.059,.149,.424,.043,.149,.576,.098,.157,.714,.122,.153,.859,.122,.153,.929,.114,.176,.02,.145,.141,.137,.137,.137,.282,.141,.137,.431,.141,.145,.576,.145,.141,.714,.149,.145,.859,.141,.153,.933,.192,.184,.012,.286,.145,.145,.286,.141,.286,.286,.141,.431,.29,.141,.576,.286,.141,.714,.286,.149,.855,.286,.153,.941,.302,.176,.027,.427,.22,.153,.431,.216,.29,.427,.2,.427,.431,.18,.576,.431,.165,.714,.427,.161,.859,.431,.153,.949,.427,.165,.039,.576,.278,.153,.573,.271,.282,.573,.259,.431,.576,.239,.569,.573,.212,.71,.573,.184,.859,.576,.153,.969,.569,.165,.114,.698,.294,.165,.702,.29,.286,.718,.286,.424,.714,.267,.576,.722,.243,.714,.714,.204,.855,.714,.153,.988,.71,.137,.314,.722,.282,.341,.725,.278,.396,.737,.275,.486,.761,.259,.588,.788,.239,.714,.831,.2,.859,.855,.145,.996,.859,.129,.416,.741,.271,.439,.749,.271,.482,.757,.263,.537,.776,.251,.631,.804,.231,.725,.831,.196,.851,.878,.133,.969,.925,.18,.075,.075,.278,.145,.063,.29,.282,.067,.286,.424,.082,.294,.573,.102,.298,.714,.118,.298,.855,.11,.298,.933,.11,.306,.063,.141,.278,.137,.141,.286,.286,.137,.282,.427,.145,.286,.573,.141,.286,.714,.141,.29,.863,.149,.294,.937,.188,.302,0,.29,.29,.141,.286,.286,.29,.286,.286,.427,.29,.29,.573,.29,.29,.718,.29,.286,.859,.282,.286,.941,.302,.302,0,.427,.286,.145,.431,.29,.286,.427,.29,.424,.427,.286,.573,.427,.29,.718,.427,.286,.859,.427,.282,.953,.431,.302,0,.573,.282,.145,.576,.282,.286,.573,.282,.427,.573,.282,.576,.573,.282,.71,.569,.282,.859,.573,.278,.969,.569,.306,.114,.698,.294,.176,.702,.29,.286,.718,.286,.427,.718,.282,.576,.714,.278,.718,.722,.294,.855,.71,.278,.988,.71,.286,.329,.725,.282,.349,.729,.278,.4,.737,.278,.486,.761,.29,.592,.792,.298,.714,.835,.306,.859,.859,.278,1,.855,.286,.431,.745,.267,.451,.749,.267,.482,.757,.259,.549,.776,.247,.639,.804,.224,.733,.839,.224,.855,.882,.275,.973,.929,.306,.141,.133,.392,.165,.133,.408,.29,.141,.42,.416,.141,.424,.561,.133,.431,.71,.122,.439,.859,.082,.435,.929,.098,.431,.137,.184,.408,.176,.169,.424,.282,.157,.431,.424,.145,.424,.573,.141,.427,.714,.145,.427,.859,.137,.427,.929,.173,.427,0,.286,.427,.141,.29,.431,.29,.29,.431,.427,.29,.427,.576,.286,.427,.718,.29,.431,.859,.286,.427,.941,.298,.431,0,.427,.424,.145,.427,.427,.286,.427,.427,.427,.427,.427,.569,.427,.424,.718,.431,.431,.863,.427,.427,.949,.424,.431,0,.573,.427,.125,.573,.427,.282,.573,.427,.431,.576,.431,.569,.573,.427,.714,.573,.424,.851,.569,.424,.965,.569,.431,.082,.706,.427,.133,.71,.427,.282,.71,.424,.424,.714,.424,.576,.718,.427,.714,.714,.424,.863,.718,.427,.984,.71,.427,.322,.729,.404,.345,.733,.408,.404,.745,.412,.478,.765,.42,.588,.796,.424,.718,.843,.431,.863,.863,.435,1,.863,.435,.439,.749,.341,.455,.753,.341,.494,.765,.345,.557,.784,.349,.643,.812,.373,.733,.843,.388,.851,.89,.424,.976,.941,.451,.169,.184,.51,.176,.176,.522,.298,.176,.537,.416,.169,.541,.553,.153,.557,.698,.118,.553,.847,.094,.557,.929,.133,.565,.161,.212,.529,.18,.184,.541,.294,.184,.553,.427,.173,.561,.565,.153,.561,.718,.157,.565,.851,.157,.565,.933,.196,.565,.075,.29,.561,.141,.286,.573,.286,.29,.576,.424,.286,.573,.576,.29,.576,.718,.29,.576,.859,.286,.573,.933,.298,.569,0,.427,.573,.141,.427,.573,.286,.427,.573,.427,.427,.569,.573,.427,.573,.718,.431,.576,.859,.427,.573,.945,.424,.569,0,.573,.573,.149,.576,.576,.286,.573,.576,.427,.573,.573,.573,.573,.573,.718,.576,.576,.859,.573,.573,.961,.565,.573,0,.714,.573,.133,.714,.573,.278,.71,.573,.427,.714,.576,.573,.718,.573,.718,.714,.573,.859,.714,.576,.98,.71,.576,.325,.741,.537,.345,.745,.537,.404,.757,.545,.482,.78,.553,.588,.808,.565,.718,.851,.573,.859,.859,.569,1,.863,.573,.439,.761,.49,.451,.761,.486,.49,.776,.498,.557,.796,.51,.635,.82,.518,.737,.855,.537,.863,.906,.561,.976,.953,.588,.165,.231,.588,.227,.231,.592,.31,.235,.592,.408,.227,.588,.525,.227,.588,.635,.227,.584,.761,.239,.588,.878,.243,.588,.173,.255,.608,.216,.255,.604,.314,.255,.604,.408,.255,.6,.525,.255,.6,.643,.255,.596,.761,.267,.6,.882,.267,.596,.141,.314,.639,.208,.318,.639,.306,.318,.639,.42,.314,.631,.541,.318,.631,.659,.318,.624,.784,.325,.62,.91,.337,.624,.012,.431,.718,.149,.431,.714,.294,.431,.71,.431,.431,.702,.573,.427,.69,.71,.431,.678,.835,.435,.671,.945,.435,.667,0,.573,.714,.145,.573,.718,.29,.576,.718,.427,.573,.714,.576,.573,.714,.71,.569,.71,.859,.573,.714,.957,.569,.71,0,.71,.71,.129,.714,.714,.278,.714,.71,.427,.714,.714,.576,.718,.718,.714,.714,.714,.859,.718,.714,.973,.706,.714,.322,.753,.667,.337,.757,.667,.4,.769,.671,.482,.792,.686,.588,.824,.698,.714,.867,.718,.859,.863,.714,.996,.855,.714,.435,.773,.62,.459,.78,.627,.49,.788,.631,.557,.808,.643,.647,.835,.659,.749,.875,.675,.867,.918,.702,.988,.969,.725,.212,.29,.624,.243,.29,.62,.318,.29,.62,.396,.286,.62,.486,.286,.616,.58,.282,.608,.686,.282,.608,.788,.29,.608,.216,.306,.631,.251,.306,.631,.314,.306,.627,.392,.306,.627,.49,.302,.624,.58,.302,.62,.686,.302,.616,.796,.314,.616,.224,.345,.655,.255,.345,.659,.318,.345,.651,.396,.345,.651,.494,.345,.643,.592,.345,.639,.702,.353,.635,.816,.373,.643,.212,.424,.71,.247,.424,.706,.318,.424,.702,.412,.42,.694,.525,.431,.694,.635,.447,.698,.749,.459,.69,.859,.467,.69,.133,.569,.816,.2,.565,.812,.31,.569,.808,.443,.569,.792,.576,.569,.78,.694,.569,.765,.812,.58,.761,.914,.584,.753,0,.714,.855,.133,.714,.859,.286,.714,.863,.431,.714,.859,.573,.714,.859,.718,.714,.863,.859,.714,.839,.969,.706,.82,.302,.765,.796,.329,.769,.796,.392,.784,.808,.471,.804,.82,.588,.839,.847,.718,.859,.859,.859,.859,.859,.988,.855,.855,.439,.788,.749,.451,.792,.749,.498,.804,.757,.553,.82,.769,.647,.851,.784,.753,.886,.812,.871,.933,.839,.996,.984,.863,.224,.325,.643,.251,.325,.643,.306,.322,.639,.38,.322,.635,.459,.318,.631,.545,.318,.631,.631,.314,.624,.725,.322,.624,.235,.333,.647,.263,.337,.651,.31,.333,.647,.38,.333,.643,.463,.333,.639,.545,.333,.635,.631,.325,.627,.737,.337,.627,.251,.365,.671,.275,.365,.667,.318,.365,.667,.384,.361,.659,.467,.361,.655,.549,.361,.651,.651,.376,.651,.757,.4,.659,.255,.427,.71,.275,.42,.702,.329,.42,.702,.4,.42,.694,.486,.431,.698,.58,.447,.698,.686,.467,.702,.8,.494,.71,.278,.529,.78,.306,.533,.78,.373,.541,.78,.455,.545,.776,.553,.557,.776,.643,.569,.773,.749,.592,.776,.843,.604,.773,.275,.694,.898,.302,.694,.894,.384,.69,.886,.49,.698,.878,.604,.706,.871,.718,.706,.855,.812,.714,.847,.898,.722,.839,.31,.784,.925,.333,.788,.925,.388,.8,.941,.471,.824,.961,.592,.855,.973,.725,.851,.949,.859,.851,.929,.957,.855,.914,.435,.8,.867,.443,.804,.867,.494,.816,.875,.557,.835,.886,.651,.867,.91,.757,.906,.933,.878,.953,.969,1,1,1];
n=gE.sU(w,n);return[w,n]}();iC.prototype.si=function(w){if(w){if(w.length==30240){this.si(null);return}this.xu.r1039=w;
var n=ICC.R(w.buffer),c=null,Q=17,A,V;if(n==null){this.si(null);return}var H=n.header.spaceIn.toLowerCase(),y=JSON.stringify(n.tags.desc).toLowerCase();
try{c=ICC.U.profileName(n)}catch(hV){}if(H!="rgb "||c==null||y.indexOf("srgb")!=-1){this.si(null);return}console.log("We got an ICC profile!",n,c);
try{var q=ICC.U.sampleLUT(n,Q)}catch(hV){this.si(null);return}var S=q.slice(0),e=O.R(4),d=iC.q1[0],N=iC.q1[1];
for(var l=0;l<q.length;l+=3){e[0]=q[l]*255;e[1]=q[l+1]*255;e[2]=q[l+2]*255;ICC.U.applyLUT(N,d,e,e);S[l]=e[0]/255;
S[l+1]=e[1]/255;S[l+2]=e[2]/255}if(dy._k){A=new dy.$Z(Q,Q*Q);A.set(ICC.U.lutToRGBA8(q,Q));V=new dy.$Z(Q,Q*Q);
V.set(ICC.U.lutToRGBA8(S,Q))}this.zK=[w,n,Q,q,A,S,V]}else{delete this.xu.r1039;this.zK=null}};iC.prototype.lq=function(){return this.zK};
iC.prototype.r0=function(){if(this.zK)return this.zK;if(this.add.fcmy==1){if(this.AA==null){var w=iC.q1[0],n=iC.q1[1],H;
if(dy._k){H=new dy.$Z(w,w*w);H.set(ICC.U.lutToRGBA8(n,w))}this.AA=[null,null,w,null,null,n,H]}return this.AA}};
iC.prototype.a1j=function(){var w=this;if(w.u.vE.join("")!="111"){w.u.vE=[1,1,1];w.Va=!0}for(var l=0;
l<w.B.length;l++){var n=w.B[l],H=n.add.vmsk;if(n.RL()){var y=n.iS(w);if(y&&y.z&&y.z.SC){y.z.SC=!1;w.Va=!0}}var c=n.LZ();
if(c&&c.SC){c.SC=!1;w.Va=!0}if(H){if(H.g.length!=0)H.g=[];if(H.V1.length!=0)H.V1=[]}}};iC.prototype._w=function(){var w=this;
return w.P!=null||w._e()[1].length!=0||w.g.length>1};iC.prototype._P=function(){var w=this.V_,n=[];for(var l=0;
l<w.length;l++)n[l]=-1;var H=this.root.children;for(var l=0;l<H.length;l++){var y=H[l],c=y.j.add.artb;
if(c==null)continue;var Q=c.guideIndeces;Q=Q?Q.v:[];for(var q=0;q<Q.length;q++)n[Q[q].v]=y.index}return[JSON.parse(JSON.stringify(w)),n]};
iC.prototype.da=function(w){this.V_=JSON.parse(JSON.stringify(w[0]));var n=w[1],H=this.root.children;
for(var l=0;l<H.length;l++){var y=H[l],c=y.j.add.artb;if(c==null)continue;c.guideIndeces={t:"VlLs",v:[]}}for(var l=0;
l<n.length;l++)if(n[l]!=-1)this.B[n[l]].add.artb.guideIndeces.v.push({t:"long",v:l})};iC.prototype.awM=function(w){var n=this;
if(w[0])n.add.lnk2=w[0];else delete n.add.lnk2;if(w[1])n.add.FEid=w[1];else delete n.add.FEid;if(w[2])n.add.Patt=w[2];
else delete n.add.Patt};iC.prototype.ami=function(w){var n=this,H=[],y=[],c=[],z=null,v=null,T=null;
for(var l=0;l<w.length;l++){var Q=w[l];if(Q.add.SoLd){H.push(Q.add.SoLd.Idnt.v);y.push(Q.add.SoLd.placed.v)}if(Q.add.PtFl)c.push(Q.add.PtFl.Ptrn.v.Idnt.v);
if(Q.add.lmfx){for(var q=0;q<d5.tS.length;q++){var S=Q.add.lmfx[d5.tS[q]].v;for(var A=0;A<S.length;A++)if(S[A].v.Ptrn){var V=S[A].v;
if(V.classID=="FrFX"&&V.PntT.v.FrFl!="Ptrn")continue;c.push(V.Ptrn.v.Idnt.v)}}}var e=Q.add.vstk;if(e&&e.strokeStyleContent.v.classID=="patternLayer"){c.push(e.strokeStyleContent.v.Ptrn.v.Idnt.v)}}var d=n.add.lnk2,N=n.add.FEid,b=n.add.Patt;
if(d){z=[];for(var l=0;l<d.length;l++)if(H.indexOf(d[l].h4)!=-1)z.push(d[l]);if(z.length==0)z=null}if(N){v=[];
for(var l=0;l<N.length;l++)if(y.indexOf(N[l].id)!=-1)v.push(N[l]);if(v.length==0)v=null}if(b){T=[];for(var l=0;
l<b.length;l++)if(c.indexOf(b[l].id)!=-1)T.push(b[l]);if(T.length==0)T=null}return[z,v,T]};iC.prototype.eV=function(w){var n=this,H=n.root.wO(w==null?n.g[0]:w),y=!1;
while(H.parent!=null){y=y||H.j.ox(31);H=H.parent}return y};iC.prototype.LM=function(){var w=this.d4,n=this.d4.length;
if(n!=0&&w[n-1].name=="Quick Mask")return w[n-1]};iC.prototype.cV=function(){return this.VV==iQ.na("% |/!)")||this.VV==iQ.hj("gP")};
iC.prototype.kA=function(w){var n=this.add.artd;if(w!=0)this.add.artd={classID:"null",Cnt:{t:"long",v:w},autoExpandOffset:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:0}}},origin:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:0}}},autoExpandEnabled:{t:"bool",v:!0},autoNestEnabled:{t:"bool",v:!0},autoPositionEnabled:{t:"bool",v:!0}};
else delete this.add.artd};iC.prototype.rr=function(w){if(this.add.FEid==null)this.add.FEid=[];if(this.add.FEid.indexOf(w)==-1)this.add.FEid.push(w)};
iC.prototype.Bu=function(w){var n=this.add.FEid.indexOf(w);this.add.FEid.splice(n,1);if(this.add.FEid.length==0)delete this.add.FEid};
iC.prototype.U=function(w){if(w==null)w=new cr(0,0,this.m,this.e);if(this.FJ==null)this.FJ=w;else this.FJ=this.FJ.ld(w)};
iC.prototype.ark=function(w){return this.FJ!=null};iC.prototype.q0=function(w){var n=this.B[w],H=this.root.wO(w);
if(H==null)return!1;if(n.Ok()||H.parent.children.indexOf(H)==0)return!1;return!0};iC.avw=function(w){if(w.add.lnk2)for(var l=0;
l<w.add.lnk2.length;l++){var n=w.add.lnk2[l].h4;w.add.lnk2[l].h4=iC.aX()+n.slice(8);for(var H=0;H<w.B.length;
H++){var y=w.B[H].add.SoLd;if(y&&y.Idnt.v==n)y.Idnt.v=w.add.lnk2[l].h4}}};iC.prototype.Kt=function(w,n,H){w.sort(function(d,N){return d-N});
var top=w[w.length-1],y=this.B.slice(0),c=this.g.slice(0),Q=[],q=[];for(var l=0;l<this.B.length;l++){if(w.indexOf(l)!=-1)q.push(this.B[l]);
else Q.push(this.B[l])}this.UF(q);this.g=[];var S=this.root.fH(this,!0);if(n)S=S.Fa(n);if(H)S=S.ld(H);
if(S._G())S=new cr(0,0,100,100);var A=new cr(-S.x,-S.y,this.m,this.e),V=new Uint8Array(cb.Mn("PSD").vd(this,0,0,[!0,!1]));
this.UF(y);this.g=c;var e=new iC(this.B[top].getName());cb.Mn("PSD")._N(V.buffer,e);delete e.add.artd;
e.B0=[];e.UF(e.B);e.da([[],[]]);iC.avw(e);P.RP._6(e,S);e.U();e.eU();e.E$();return[e,S,Q,top]};iC.prototype.aih=function(w,n,H){var y=this.Kt(w),c=y[0],Q=y[1],q=y[2],top=y[3],S;
if(H=="jpg")S=new Uint8Array(cb.Mn("JPG").vd([[c.E$().buffer]],c.m,c.e,[80]));else S=new Uint8Array(cb.Mn("PSD").vd(c,null,null,[!0,!1]));
if(n)q=this.B.slice(0);var A=this.rR(S,c.name,Q.x,Q.y);if(top==this.B.length-1)q.push(A);else q.splice(n?top+1:top-w.length+1,0,A);
this.UF(q);this.g=[q.indexOf(A)]};iC.aX=function(w){if(w==null)w="";var n="";while(n==""||n==w){n="";
for(var l=0;l<8;l++)n+=Math.floor(Math.random()*16).toString(16)}return n};iC.prototype.mv=function(w){if(w==null)return;
if(this.add.Patt==null)this.add.Patt=[];var n=this.add.Patt;for(var l=0;l<n.length;l++)if(n[l].id==w.id)return;
n.push(w)};iC.prototype.rR=function(w,n,H,y,c,Q,q){if(this.add.lnk2==null)this.add.lnk2=[];var S=null,b=!1;
for(var l=0;l<this.add.lnk2.length;l++)if(O.Hw(w,this.add.lnk2[l].raw)){S=this.add.lnk2[l].h4;break}if(S==null){var A=cb.mj(w.buffer);
S=iC.aX()+"-d71c-11e5-b1ae-a548a96e5f9f";var V=new a.zI;V.h4=S;V.z7=A=="psd"?"8BIM":"    ";V.w5=n+"."+A;
V.SU=A=="psd"?"8BPB":"    ";V.open=0;V.raw=w;V.type="liFD";V.gt=2;this.add.lnk2.push(V)}var e=this.Lm(S,null,null,null,Q,q),d=iC.aX()+"-d71c-11e5-b1ae-a548a96e5f9f",N=this.mX();
N.nY(n);if(e!=null){var z=H==null,v=0,T=0;if(H==null)H=y=0;var Y=this.m,g=this.e;if(c){v=c.x;T=c.y;Y=c.m;
g=c.e}var R=N.rect=e.TM[1].clone();R.offset(v+H,T+y);var h=Math.max(R.m/Y,R.e/g),b=c!=null&&h>1.0001;
if(b){R.m=Math.round(R.m/h);R.e=Math.round(R.e/h)}else if(c!=null&&cb.mj(w.buffer)=="pdf"&&this.uP!=144){var h=144/this.uP;
R.m=Math.round(R.m/h);R.e=Math.round(R.e/h);b=!0}if(b||z){R.x=Math.round(v+(Y-R.m)/2);R.y=Math.round(T+(g-R.e)/2)}N.buffer=O.R(R.O()*4);
if(!b)O.Bq(e.TM[0],N.buffer)}N.add.SoLd={classID:"null",Idnt:{t:"TEXT",v:S},Impr:{t:"Objc",v:{__name:"None",classID:"none"}},placed:{t:"TEXT",v:d},PgNm:{t:"long",v:1},totalPages:{t:"long",v:1},frameStep:{t:"Objc",v:{classID:"null",numerator:{t:"long",v:0},denominator:{t:"long",v:600}}},duration:{t:"Objc",v:{classID:"null",numerator:{t:"long",v:0},denominator:{t:"long",v:600}}},frameCount:{t:"long",v:1},Annt:{t:"long",v:16},Type:{t:"long",v:2},Trnf:null,nonAffineTransform:null,warp:{t:"Objc",v:O.v$.R(e?e.TM[1]:N.rect)},Sz:{t:"Objc",v:{classID:"Pnt",Wdth:{t:"doub",v:N.rect.m},Hght:{t:"doub",v:N.rect.e}}},Rslt:{t:"UntF",v:{type:"#Rsl",val:e?e.uP:72}}};
var E=O.p.u3(N.rect).w;N.add.SoLd.Trnf=P.WJ.w2(E);N.add.SoLd.nonAffineTransform=P.WJ.w2(E);if(b)N.W0(this,!1);
return N};iC.prototype.E$=function(w){if(w!=null){this.U();this.eU(w);var n=this.buffer;if(dy._k)this.eC.get(n);
else n=n.slice(0);this.U();this.eU();return n}if(this.FJ){this.eU();this.FJ=null}if(dy._k&&this.fm){this.eC.get(this.buffer);
this.fm=null;this.qF=!0}return this.buffer};iC.prototype.ah7=function(){for(var l=0;l<this.B.length;
l++)this.B[l].aq3();this.U()};iC.prototype.akD=function(){for(var l=0;l<this.B.length;l++)if(this.B[l].add.lmfx)this.B[l].Sh.uK=!0};
iC.prototype.lb=function(){var w=this.xu.r1044;if(w==null){w=this.xu.r1044=new Uint8Array(4);var n=0;
for(var l=0;l<this.B.length;l++)n=Math.max(n,this.B[l].add.lyid);j.AU(w,0,n)}var H=j.s(w,0);j.AU(w,0,H+1);
return H+1};iC.prototype.BG=function(w,n,H){if(w==null)w=!0;var y=this;if(y.np.length!=0)return!0;if(y.g.length!=1){if(w)alert(y.g.length==0?"Select a layer first.":"More than one layer selected.");
return!1}return this.wJ(w,n,H)};iC.prototype.wJ=function(w,n,H){if(w==null)w=!0;if(n==null)n=!1;var y=this;
if(y.np.length!=0)return!0;for(var l=0;l<y.g.length;l++){var c=y.B[y.g[l]],Q=n||c.Ks<=0;if(c.add.lsct!=null&&c.add.lsct!=c0.Ua&&c.Ks!=1){if(w)alert(hV.get([15,7,2]));
return!1}if(Q&&!c.QG()){if(w)alert(hV.get([15,7,2]));return!1}if(Q&&c.add.TySh){return this.adr(w,[15,7,3],H)}if(Q&&c.add.SoLd){return this.adr(w,[15,7,4],H)}if(c.ox(1)||y.eV(y.g[l])){if(w)alert(hV.get([6,57,0]));
return!1}}return!0};iC.prototype.adr=function(w,n,H){if(w&&typeof w=="object"){var y=new aL(M.E.L);y.data={d:M.c.rL,Ln:"confirm"};
y.data.Z=hV.get(n)+". "+hV.get([6,8])+"?";var c=w;y.data.ty=function(){var Q=new aL(M.E.dp,!0);Q.data={fd:"rasterizeLayer",ei:{classID:"rasterizeLayer",null:ih._K("Lyr",!0)}};
c.S(Q)};w.S(y);return!1}if(w)alert(hV.get(n));return!1};iC.prototype.ayj=function(w){var n=this.root.wO(w);
if(n.parent)return n.j.tl()&&this.ayj(n.parent.index);else return n.j.tl()};iC.prototype.Zf=function(w){var n=this;
if(w){var H=0;for(var l=0;l<n.g.length;l++)if(n.B[n.g[l]].add.artb)H++;if(H>1)return-1}if(n.add.artd&&n.g.length!=0){var y=n.root.wO(n.g[0]);
while(y.parent.parent)y=y.parent;if(y.j.add.artb)return y.index}return-1};iC.prototype.ari=function(){var w=this.B[this.g[0]];
if(w.Ks<=0&&!w.rect.QW(this.P.rect)){alert("Selected area is empty.");return!1}if(this.g.length==1&&this.P){var n=O.R(this.P.channel.length);
O.zW(w.buffer,w.rect,n,this.P.rect);O.I_(this.P.channel,n);if(O.lS(n,0)){alert("Selected area is empty.");
return!1}}return!0};iC.prototype.s9=function(){if(this.xu["r"+1037]==null)this.sK(30);return j.sI(this.xu["r"+1037],0)};
iC.prototype.sK=function(w){if(this.xu["r"+1037]==null)this.xu["r"+1037]=new Uint8Array(4);if(j.sI(this.xu["r"+1037],0)==w)return;
j.by(this.xu["r"+1037],0,w);this.akD()};iC.prototype.Sk=function(){if(this.xu["r"+1049]==null)this.QF(30);
return j.sI(this.xu["r"+1049],0)};iC.prototype.QF=function(w){if(this.xu["r"+1049]==null)this.xu["r"+1049]=new Uint8Array(4);
if(j.sI(this.xu["r"+1049],0)==w)return;j.by(this.xu["r"+1049],0,w);this.akD()};iC.prototype._7=function(w){if(this.add.lnk2==null)return null;
for(var l=0;l<this.add.lnk2.length;l++)if(this.add.lnk2[l].h4==w)return this.add.lnk2[l];return null};
iC.prototype.afS=function(w){var n=this._7(w);if(n==null)return!1;var H=cb.mj(n.raw.buffer);if(H==null)return!1;
if(cb.Mn(H)!=null||H=="psd")return!0;return!1};iC.prototype.Lm=function(w,n,H,y,c,Q){var q=this._7(w);
if(q==null)return null;q.E$(n,H,y,c,Q);if(q.TM)return q};iC.prototype.a6A=function(){var w=this.m,n=this.e;
if(dy._k&&this.eC==null)this.eC=new dy.$Z(w,n,!0);if(this.buffer==null||this.buffer.length!=w*n*4||dy._k&&(this.eC.m!=w||this.eC.e!=n)){this.buffer=O.R(w*n*4);
if(this.eC)this.eC.delete();if(dy._k)this.eC=new dy.$Z(w,n,!0)}};iC.prototype.asi=function(){this.a6A();
if(dy._k){this.eC.set(this.buffer)}};iC.prototype.eU=function(w){var n=this.m,H=this.e,y=new cr(0,0,n,H),c=this.VQ?y:y.Fa(this.FJ);
this.a6A();if(c._G())return;if(!c.Hw(y)){if(!dy._k){var Q=O.By(c.O()*4);O.j1(Q,c,this.buffer,y)}if(dy._k){dy.O0(this.eC,c);
dy.R6(0)}}else{if(dy._k){this.eC.set(null)}else{this.buffer.fill(0)}}var q=Date.now(),S=dy._k?this.eC:this.buffer;
if(w==null)w=1e9;var A=this.root.children;for(var l=0;l<A.length;l++){var V=A[l].j;if(V.tl()&&V.add.artb&&this.add.artd){var e=V.oC(),d=c.Fa(e),N=V.Wp();
if(N!=0){if(dy._k){dy.O0(S,d);dy.R6(N);dy.R6(N)}else O.aoV(S,y,d,N)}}}this.root.e5(S,y,c,this,[],w);
this.fm=this.FJ.clone()};iC.prototype.mX=function(w){var n=new a;n.rect=new cr(0,0,0,0);n.buffer=O.R(1);
n.add.luni=new ce(0,0);if(w!=!0)n.add.lyid=this.lb();n.add.lsct=c0.Ua;n.add.lclr=0;n.add.fxrp=new ce(0,0);
return n};iC.prototype.C$=function(w){var n=this.mX(w);n.nY("</Layer group>");n.add.lsct=c0.ho;n.Vg=24;
return n};iC.prototype.QS=function(){return this.Cf!=this.kX};iC.prototype.c0=function(w){while(this.history.length>this.Cf+1)this.history.pop();
if(this.kX>this.Cf)this.kX=-1;if(w.G.id!=P.xt){this.jz=!0;if(this.PU.lastAppliedComp){delete this.PU.lastAppliedComp;
this.qF=!0}}this.history.push(w);this.Cf++;this.qF=!0;var n=g6.qx()?60:30,H=0;for(var l=this.history.length-1;
l>=0;l--){var y=this.history[l];if(y.SY)continue;H++;if(H==n){this.Cf-=l;this.history=this.history.slice(l);
break}}};iC.prototype.H_=function(){if(this.Cf!=this.history.length-1)return null;return this.history[this.history.length-1]};
iC.prototype.Q_=function(w,n,H,y){if(w==null)w=!1;var c=n!=null?[n]:this.g.slice(0);if(y){var Q=[];for(var l=0;
l<c.length;l++){var q=this.B[c[l]],S=q.ds;if(q.aD&&S!=0&&Q.indexOf(S)==-1)Q.push(S)}if(Q.length!=0)for(var l=0;
l<this.B.length;l++){var q=this.B[l],S=q.ds;if(q.aD&&S!=0&&Q.indexOf(S)!=-1&&c.indexOf(l)==-1)c.push(l)}}var A=[];
for(var l=0;l<c.length;l++){var V=this.vK(c[l],w);for(var e=0;e<V.length;e++)if(A.indexOf(V[e])==-1)A.push(V[e]);
if(H){var ds=this.root.wO(c[l]);while(ds.parent!=null&&ds.parent.parent!=null){ds=ds.parent;if(A.indexOf(ds.index)==-1){A.push(ds.index,ds.Jq)}}}}return A};
iC.prototype.e_=function(w,n,H){var y=this,c=y.Q_(!1,w,null,H);c.sort(function(R,h){return R-h});var Q={};
for(var q=0;q<y.B.length;q++){var S=y.B[q].getName();Q[S]=!0}var A=[];for(var l=0;l<c.length;l++){var V=y.B[c[l]].clone(),T,Y;
V.add.lyid=y.lb();V.add.lspf=0;if(V.RL()){var e=V.iS(y),d=iC.a32(e);y.rr(d);V.add.SoLd.placed.v=d.id}else if(V.add.SoLd){var N=V.add.SoLd.placed.v;
V.add.SoLd.placed.v=iC.aX(N.slice(0,8))+N.slice(8)}V.qL(y);var b=V.getName(),z=b.length;while(48<=b.charCodeAt(z-1)&&b.charCodeAt(z-1)<=57)z--;
var v=parseInt(b.slice(z));if(isNaN(v)){if(b.endsWith(" copy")){v=1;T=b.slice(0,b.length-5)}else{v=0;
T=b}}else if(b.slice(0,z).endsWith(" copy ")){v=v;T=b.slice(0,z-6)}else{v=0;T=b}v++;while(!0){Y=T+" copy"+(v==1?"":" "+v);
if(Q[Y]==null)break;v++}var g=c.indexOf(this.root.wO(c[l]).parent.index)!=-1;if(b=="Background"&&y.B.length==1)Y="Layer 1";
if(n!=!0&&!g)V.nY(Y);Q[Y]=!0;A.push(V)}return A};iC.a32=function(w){return{id:iC.aX(w.id.slice(0,8))+w.id.slice(8),buffer:w.buffer.slice(0),rect:w.rect.clone(),z:w.z?w.z.clone():null}};
iC.ai8=function(w){return{id:w,rect:new cr,buffer:O.R(1),z:new a.ZV}};iC.nN=function(w,n){if(n==null)n={vmsk:new a.TB};
if(n.vogk==null){n.vogk=[];var H=O.r.xD(n.vmsk.i);for(var y=0;y<H;y++)n.vogk.push(O.X.By())}return{name:w,cm:0,add:n}};
iC.prototype._e=function(w){var n=[],H=[],y=this,Q=0;for(var l=1;l<y.Wh.length;l++){var c=y.Wh[l];c.cm=-1-l;
n.push(c);if(y.SV.indexOf(l)!=-1)H.push(n.length-1)}if(y.Wh[0].add.vmsk.i.length>2){var c=y.Wh[0];c.cm=-1;
n.push(c);if(y.SV.indexOf(0)!=-1)H.push(n.length-1)}var q=y.t7==null;if(q)y.t7=[];for(var l=y.g.length-1;
l>=0;l--){var S=y.B[y.g[l]],A=S.add.TySh;if(S.add.vmsk!=null&&(S.gK||S.hu())){var c=iC.nN("\""+S.getName()+"\" Shape Path",S.add);
c.cm=y.g[l];n.push(c);if(q)y.t7.push(Q);if(y.t7.indexOf(Q)!=-1)H.push(n.length-1);Q++}if(w!=!0&&A&&A.add&&O.v$.Rd(A.oa)){var c=iC.nN("\""+S.getName().slice(0,10)+"..\" Text Path",A.add);
c.cm=1e6+y.g[l];n.push(c);H.push(n.length-1);Q++}}if(H.length==0&&w){y.Wh[0].cm=-1;y.SV=[0];H.push(n.length);
n.push(y.Wh[0])}return[n,H]};iC.prototype.vK=function(l,w){var n=[],ds=this.root.wO(l);if(ds)ds.Es(n,w);
return n};iC.prototype.gF=function(){this.root.zT(this,new cr(0,0,this.m,this.e))};iC.prototype.UF=function(w){for(var l=0;
l<this.B.length;l++){var n=this.B[l];if(w.indexOf(n)==-1){n.Sh.apM();n.U()}}var H=0;for(var l=0;l<w.length;
l++)if(w[l].add.artb)H++;this.kA(H);this.B=w.slice(0);this.C1()};iC.prototype.C1=function(){var w=this.B,n=w.length;
this.root=new iP;var H=this.mX(!0);H.UM="pass";H.add.lsct=c0.q8;H.nY("");var y=this.C$(!0),c=[y];for(var l=0;
l<n;l++)c.push(w[l]);c.push(H);this.root.a73(c,0,0);if(this.g.length==0)this.g=[n-1]};iC.prototype.gm=function(){if(this.g.length!=1)return;
var w=this.root.wO(this.g[0]);while(w.parent!=null){var n=w.parent.j;n.add.lsct=c0.q8;w=w.parent}this.Va=this.a1M=!0};
iC.prototype.atx=function(){this.C1();var w=[this.root],hi=0;while(w.length!=0){var top=w.pop();hi++;
if(top.j.add.lsct==c0.q8)for(var l=0;l<top.children.length;l++)w.push(top.children[l])}if(hi>1e3){var n=this.root.children;
for(var l=0;l<n.length;l++)if(n[l].j.add.lsct==c0.q8)n[l].j.add.lsct=c0.$g}};iC.nz=function(w,n,H,y,c,Q,q,S){if(S==null)S="sRGB IEC61966-2.1";
var A={__name:"Make",classID:"Mk",Nw:{t:"Objc",v:{classID:"Dcmn",Nm:{t:"TEXT",v:y},artboard:{t:"bool",v:Q},Md:{t:"type",v:{classID:"RGBM"}},Wdth:{t:"UntF",v:{type:"#Rlt",val:w*72/H}},Hght:{t:"UntF",v:{type:"#Rlt",val:n*72/H}},Rslt:{t:"UntF",v:{type:"#Rsl",val:H}},pixelScaleFactor:{t:"doub",v:1},Fl:{t:"enum",v:{Fl:c}},Dpth:{t:"long",v:8},profile:{t:"TEXT",v:S}}}};
if(c=="Clr")A.Nw.v.FlCl={t:"Objc",v:q};return{fd:"make",ei:A}};iC.a33=function(w,n){var H=0,y=0,c=72,Q=n.aqt,q=w.preset&&w.preset.v=="Clipboard";
if(q){H=Q.m;y=Q.e}else{H=w.Wdth.v.val;y=w.Hght.v.val;c=w.Rslt.v.val;H=Math.round(H*c/72);y=Math.round(y*c/72)}var S=new iC((w.Nm?w.Nm.v:hV.get([11,7]))+".psd");
S.m=H;S.e=y;S.uP=c;var A=w.Fl?w.Fl.v.Fl:"Wht";if(w.artboard&&w.artboard.v){var V=S.mX();V.nY(hV.get([1,16,0])+" 1");
V.add.lsct=c0.q8;V.ws(new cr(0,0,H,y));V.add.artb.artboardBackgroundType={t:"long",v:{Wht:1,Blck:2,Trns:3,BckC:1,Clr:4}[A]};
if(A=="Clr")V.add.artb.Clr={t:"Objc",v:O.M.Yw(O.M.cH(w.FlCl.v))};V.UM="pass";V.Vg=24;var e=S.mX();e.nY("Layer 1");
S.UF([S.C$(),e,V]);S.kA(1);S.g=[1]}else{var d=S.mX(),N=0;d.nY("Background");S.UF([d]);d.add.lspf=1<<2;
if(A=="Clr"){N=O.M.cH(w.FlCl.v);N=255<<24|Math.round(N.k)<<16|Math.round(N.J)<<8|Math.round(N.b)}else{var b=n.uu;
b=(b&255)<<16|(b>>>8&255)<<8|b>>>16;N={Trns:0,Wht:4294967295,Blck:4278190080,BckC:255<<24|b}[A]}d.rect=new cr(0,0,H,y);
d.buffer=O.R(H*y*4);O.jZ(d.buffer,N)}S.buffer=O.R(H*y*4);var z=w.profile;if(z){var v={"Adobe RGB (1998)":"icc/adobe","ProPhoto RGB":"icc/prophoto","image P3":"icc/displayp3"}[z.v];
if(v)S.si(cb.A8.get(v))}return S};function id(w){this.z3=w;this.N=0;this.up=1;this.Q=new ce(0,0);this.kk=new ce(0,0);
this.db=0;this.vE=[1,1,1];this.$r=0;this.GN=new cr(0,0,1,1);this.aom=new cr(0,0,w.m,w.e);this.HW=null;
this.YC=null;this.MH=new Uint32Array(0);this.FN=null;this.K2=null;this.HL=O.R(0);this.d9=null;this.Ly=null}id.prototype.ZP=function(w){var n=new b7,H=this.GN,y=this.z3,c=w?this.up:this.N,Q=w?this.kk:this.Q,q=Math.round((H.m-y.m*c)/2+Q.x),S=Math.round((H.e-y.e*c)/2+Q.y);
n.translate(-q,-S);n.scale(1/c,1/c);var A=y.m/2,V=y.e/2;n.translate(-A,-V);n.rotate(this.db);n.translate(A,V);
return n};id.prototype.a4G=function(w){var n=this.GN,H=this.z3,y=Math.atan2(-w.k,w.iL),c=H.m/2,Q=H.e/2;
w.translate(-c,-Q);w.rotate(-y);w.translate(c,Q);var q=1/w.H5();w.scale(q,q);var S=-w.qH,A=-w.fp,V=Math.round(S-(n.m-H.m*q)/2),e=Math.round(A-(n.e-H.e*q)/2);
if(Math.abs(q-Math.round(q))<1e-6)q=Math.round(q);this.db=y;this.N=q;this.Q=new ce(V,e)};id.prototype.Sb=function(w,n){var H=this.ZP();
return H.rY(new ce(w,n))};id.prototype.Cc=function(w,n){var H=this.ZP();H.G$();return H.rY(new ce(w,n))};
function d5(){}d5.order="ebbl FrFX IrSh IrGl ChFX SoFi GrFl patternFill OrGl DrSh".split(" ");d5.tS="ebblMulti frameFXMulti innerShadowMulti IrGlMulti ChFXMulti solidFillMulti gradientFillMulti patternFillMulti OrGlMulti dropShadowMulti".split(" ");
d5.names=[[14,4],[14,9],[14,1],[14,3],[14,8],[14,5],[14,6],[14,7],[14,2],[14,0]];d5.apv=["DrSh","IrSh","SoFi","GrFl","FrFX"];
d5.jG=["Clr"];d5.B6="Grad Rvrs Type Algn Angl Dthr Scl Ofst".split(" ");d5.sY=["Ptrn","Angl","Scl","Algn","phase"];
d5.n0={VC:"{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":0,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}}}",as$:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Grdn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Two Color\"               },\"GrdF\":{\"t\":\"enum\",\"v\":{\"GrdF\":\"CstS\"}},\"Intr\":{\"t\":\"doub\",\"v\":4096},\"Clrs\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"Clrt\",\"Type\":{\"t\":\"enum\",\"v\":{\"Clry\":\"UsrS\"}},\"Lctn\":{\"t\":\"long\",\"v\":0},\"Mdpn\":{\"t\":\"long\",\"v\":50},\"Clr\":{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"t\":\"doub\",\"v\":0},\"Grn\":{\"t\":\"doub\",\"v\":0},\"Bl\":{\"t\":\"doub\",\"v\":0}}}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"Clrt\",\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":255,\"t\":\"doub\"},\"Bl\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"},\"Type\":{\"v\":{\"Clry\":\"UsrS\"},\"t\":\"enum\"},\"Lctn\":{\"v\":4096,\"t\":\"long\"},\"Mdpn\":{\"v\":50,\"t\":\"long\"}},\"t\":\"Objc\"}]},\"Trns\":{\"v\":[{\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Lctn\":{\"v\":0,\"t\":\"long\"},\"Mdpn\":{\"v\":50,\"t\":\"long\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Lctn\":{\"v\":4096,\"t\":\"long\"},\"Mdpn\":{\"v\":50,\"t\":\"long\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}}}",avu:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Grdn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Foreground to Background\"},\"GrdF\":{\"t\":\"enum\",\"v\":{\"GrdF\":\"CstS\"}},\"Intr\":{\"t\":\"doub\",\"v\":4096},\"Clrs\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"Clrt\",\"Type\":{\"t\":\"enum\",\"v\":{\"Clry\":\"FrgC\"}},\"Lctn\":{\"t\":\"long\",\"v\":0},\"Mdpn\":{\"t\":\"long\",\"v\":50}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"Clrt\",\"Type\":{\"t\":\"enum\",\"v\":{\"Clry\":\"BckC\"}},\"Lctn\":{\"t\":\"long\",\"v\":4096},\"Mdpn\":{\"t\":\"long\",\"v\":50}}}]},\"Trns\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"Lctn\":{\"t\":\"long\",\"v\":0},\"Mdpn\":{\"t\":\"long\",\"v\":50}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"Lctn\":{\"t\":\"long\",\"v\":4096},\"Mdpn\":{\"t\":\"long\",\"v\":50}}}]}}}",atZ:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Grdn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Custom\"                  },\"GrdF\":{\"t\":\"enum\",\"v\":{\"GrdF\":\"ClNs\"}},\"ShTr\":{\"t\":\"bool\",\"v\":false},\"VctC\":{\"t\":\"bool\",\"v\":false},\"ClrS\":{\"t\":\"enum\",\"v\":{\"ClrS\":\"RGBC\"}},\"RndS\":{\"t\":\"long\",\"v\":1466092501},\"Smth\":{\"t\":\"long\",\"v\":2048},\"Mnm\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"long\",\"v\":0},{\"t\":\"long\",\"v\":0},{\"t\":\"long\",\"v\":0},{\"t\":\"long\",\"v\":0}]},\"Mxm\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"long\",\"v\":100},{\"t\":\"long\",\"v\":100},{\"t\":\"long\",\"v\":100},{\"t\":\"long\",\"v\":100}]}}}",Fe:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Ptrn\",\"Nm\":{\"v\":\"orangeslices\",\"t\":\"TEXT\"},\"Idnt\":{\"v\":\"c7acb22a-47a6-11de-919a-bf574370eaaf\",\"t\":\"TEXT\"}}}"};
d5.n0.VC="\"Clr\": "+d5.n0.VC;d5.n0.M="\"Grad\":"+d5.n0.as$+",\"Scl\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Algn\":{\"v\":true,\"t\":\"bool\"},\"Angl\":{\"v\":{\"type\":\"#Ang\",\"val\":90},\"t\":\"UntF\"},\"Rvrs\":{\"v\":false,\"t\":\"bool\"},\"Type\":{\"v\":{\"GrdT\":\"Lnr\"},\"t\":\"enum\"},\"Ofst\":{\"v\":{\"classID\":\"Pnt\",\"Hrzn\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"Vrtc\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"}},\"t\":\"Objc\"},\"Dthr\":{\"v\":false,\"t\":\"bool\"}";
d5.n0.Fe="\"Ptrn\":"+d5.n0.Fe+",\"Scl\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Algn\":{\"v\":true,\"t\":\"bool\"},\"Angl\":{\"v\":{\"type\":\"#Ang\",\"val\": 0},\"t\":\"UntF\"},\"phase\":{\"v\":{\"classID\":\"Pnt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"}";
d5.default="{ \"classID\": \"null\", \"Scl\": {\"t\": \"UntF\", \"v\": { \"type\": \"#Prc\",\"val\": 100} }, \"masterFXSwitch\": {\"t\": \"bool\",\"v\": true} }";
d5.FK=["{\"classID\":\"ebbl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"hglM\":{\"t\":\"enum\",\"v\":{\"BlnM\":\"Scrn\"}},\"hglC\":{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"t\":\"doub\",\"v\":255},\"Grn\":{\"t\":\"doub\",\"v\":255},\"Bl\":{\"t\":\"doub\",\"v\":255}}},\"hglO\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":75}},\"sdwM\":{\"t\":\"enum\",\"v\":{\"BlnM\":\"Mltp\"}},\"sdwC\":{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"t\":\"doub\",\"v\":0},\"Grn\":{\"t\":\"doub\",\"v\":0},\"Bl\":{\"t\":\"doub\",\"v\":0}}},\"sdwO\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":75}},\"bvlT\":{\"t\":\"enum\",\"v\":{\"bvlT\":\"SfBL\"}},\"bvlS\":{\"t\":\"enum\",\"v\":{\"BESl\":\"InrB\"}},\"uglg\":{\"t\":\"bool\",\"v\":true},\"lagl\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Ang\",\"val\":120}},\"Lald\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Ang\",\"val\":30}},\"srgR\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"blur\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Pxl\",\"val\":5}},\"bvlD\":{\"t\":\"enum\",\"v\":{\"BESs\":\"In\"}},\"TrnS\":{\"t\":\"Objc\",\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Linear\"},\"Crv\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":0},\"Vrtc\":{\"t\":\"doub\",\"v\":0}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":255},\"Vrtc\":{\"t\":\"doub\",\"v\":255}}}]}}},\"antialiasGloss\":{\"t\":\"bool\",\"v\":false},\"Sftn\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Pxl\",\"val\":0}},\"useShape\":{\"t\":\"bool\",\"v\":false},\"MpgS\":{\"t\":\"Objc\",\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Linear\"},\"Crv\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":0},\"Vrtc\":{\"t\":\"doub\",\"v\":0}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":255},\"Vrtc\":{\"t\":\"doub\",\"v\":255}}}]}}},\"AntA\":{\"t\":\"bool\",\"v\":false},\"Inpr\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":28}},\"useTexture\":{\"t\":\"bool\",\"v\":false},\"InvT\":{\"t\":\"bool\",\"v\":false},\"Algn\":{\"t\":\"bool\",\"v\":true},\"Scl\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"textureDepth\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"Ptrn\":{\"t\":\"Objc\",\"v\":{\"classID\":\"Ptrn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"orangeslices\"},\"Idnt\":{\"t\":\"TEXT\",\"v\":\"c7acb22a-47a6-11de-919a-bf574370eaaf\"}}},\"phase\":{\"t\":\"Objc\",\"v\":{\"classID\":\"Pnt\",\"Hrzn\":{\"t\":\"doub\",\"v\":0},\"Vrtc\":{\"t\":\"doub\",\"v\":0}}}}","{\"classID\":\"FrFX\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Styl\":{\"v\":{\"FStl\":\"OutF\"},\"t\":\"enum\"},\"PntT\":{\"v\":{\"FrFl\":\"SClr\"},\"t\":\"enum\"},\"Sz\":{\"v\":{\"type\":\"#Pxl\",\"val\":3},\"t\":\"UntF\"},"+d5.n0.VC+","+d5.n0.M+","+d5.n0.Fe+"}","{\"classID\":\"IrSh\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Mltp\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 75},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":0,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"uglg\":{\"v\":true,\"t\":\"bool\"},\"lagl\":{\"v\":{\"type\":\"#Ang\",\"val\":120},\"t\":\"UntF\"},\"Dstn\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Linear\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"}}","{\"classID\":\"IrGl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Scrn\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 75},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":255,\"t\":\"doub\"},\"Bl\":{\"v\":189.99710083007812,\"t\":\"doub\"}},\"t\":\"Objc\"},\"GlwT\":{\"v\":{\"BETE\":\"SfBL\"},\"t\":\"enum\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"ShdN\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"glwS\":{\"v\":{\"IGSr\":\"SrcE\"},\"t\":\"enum\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Linear\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"},\"Inpr\":{\"v\":{\"type\":\"#Prc\",\"val\":50},\"t\":\"UntF\"}}","{\"classID\":\"ChFX\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Mltp\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 50},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":0,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"Invr\":{\"v\":true,\"t\":\"bool\"},\"lagl\":{\"v\":{\"type\":\"#Ang\",\"val\":19},\"t\":\"UntF\"},\"Dstn\":{\"v\":{\"type\":\"#Pxl\",\"val\":11},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":14},\"t\":\"UntF\"},\"MpgS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Gaussian\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":32,\"t\":\"doub\"},\"Vrtc\":{\"v\":7,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":64,\"t\":\"doub\"},\"Vrtc\":{\"v\":38,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":96,\"t\":\"doub\"},\"Vrtc\":{\"v\":101,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":128,\"t\":\"doub\"},\"Vrtc\":{\"v\":166,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":159,\"t\":\"doub\"},\"Vrtc\":{\"v\":209,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":191,\"t\":\"doub\"},\"Vrtc\":{\"v\":235,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":223,\"t\":\"doub\"},\"Vrtc\":{\"v\":248,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"}}","{\"classID\":\"SoFi\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},"+d5.n0.VC+"}","{\"classID\":\"GrFl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},"+d5.n0.M+"}","{\"classID\":\"patternFill\",\"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},"+d5.n0.Fe+"}","{\"classID\":\"OrGl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Scrn\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 75},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":255,\"t\":\"doub\"},\"Bl\":{\"v\":189.99710083007812,\"t\":\"doub\"}},\"t\":\"Objc\"},\"GlwT\":{\"v\":{\"BETE\":\"SfBL\"},\"t\":\"enum\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"ShdN\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Linear\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"},\"Inpr\":{\"v\":{\"type\":\"#Prc\",\"val\":50},\"t\":\"UntF\"}}","{\"classID\":\"DrSh\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Mltp\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 57},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":0,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"uglg\":{\"v\":true,\"t\":\"bool\"},\"lagl\":{\"v\":{\"type\":\"#Ang\",\"val\":120},\"t\":\"UntF\"},\"Dstn\":{\"v\":{\"type\":\"#Pxl\",\"val\":27},\"t\":\"UntF\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":13},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Line\xE1rn\xED\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"},\"layerConceals\":{\"v\":true,\"t\":\"bool\"}}"];
d5.M={types:"Lnr Rdl Angl Rflc Dmnd shapeburst".split(" "),names:[[19,0,0],[19,0,1],[19,0,2],[19,0,3],[19,0,4],[19,0,5]]};
d5.stroke={types:["InsF","CtrF","OutF"],names:[[19,5,2],[19,5,1],[19,5,0]],Dq:["SClr","GrFl","Ptrn"],azS:[[13,0],[12,37],[12,62]]};
d5.t8={types:["SfBL","PrBL"],names:[[19,1,0],[19,1,1]],ah4:["SrcC","SrcE"],akt:[[19,5,1],[12,69]]};d5.$y={types:["OtrB","InrB","Embs","PlEb","strokeEmboss"],style:[[19,2,0],[19,2,1],[19,2,2],[19,2,3],[19,2,4]],alJ:["SfBL","PrBL","Slmt"],ayK:[[19,3,0],[19,3,1],[19,3,2]],dir:[[19,4,0],[19,4,1]]};
d5.Ed={pv:["strokeStyleButtCap","strokeStyleRoundCap","strokeStyleSquareCap"],YH:["strokeStyleAlignInside","strokeStyleAlignCenter","strokeStyleAlignOutside"],join:["strokeStyleMiterJoin","strokeStyleRoundJoin","strokeStyleBevelJoin"],oj:["solidColorLayer","gradientLayer","patternLayer"],default:{classID:"strokeStyle",strokeStyleVersion:{t:"long",v:2},strokeEnabled:{t:"bool",v:!1},fillEnabled:{t:"bool",v:!0},strokeStyleLineWidth:{t:"UntF",v:{type:"#Pnt",val:1}},strokeStyleLineDashOffset:{t:"UntF",v:{type:"#Pnt",val:0}},strokeStyleMiterLimit:{t:"doub",v:100},strokeStyleLineCapType:{t:"enum",v:{strokeStyleLineCapType:"strokeStyleButtCap"}},strokeStyleLineJoinType:{t:"enum",v:{strokeStyleLineJoinType:"strokeStyleMiterJoin"}},strokeStyleLineAlignment:{t:"enum",v:{strokeStyleLineAlignment:"strokeStyleAlignCenter"}},strokeStyleScaleLock:{t:"bool",v:!1},strokeStyleStrokeAdjust:{t:"bool",v:!1},strokeStyleLineDashSet:{t:"VlLs",v:[]},strokeStyleBlendMode:{t:"enum",v:{BlnM:"Nrml"}},strokeStyleOpacity:{t:"UntF",v:{type:"#Prc",val:100}},strokeStyleContent:{t:"Objc",v:JSON.parse("{\"classID\":\"solidColorLayer\","+d5.n0.VC+"}")},strokeStyleResolution:{t:"doub",v:72}}};
d5.Um=[{classID:"null",Clr:JSON.parse(d5.FK[5]).Clr},{classID:"null",Grad:JSON.parse(d5.FK[6]).Grad,Dthr:{t:"bool",v:!1},Rvrs:{t:"bool",v:!1},Angl:{t:"UntF",v:{type:"#Ang",val:0}},Type:{t:"enum",v:{GrdT:"Lnr"}},Algn:{t:"bool",v:!0},Scl:{t:"UntF",v:{type:"#Prc",val:100}},Ofst:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Prc",val:0}},Vrtc:{t:"UntF",v:{type:"#Prc",val:0}}}}},{classID:"null",Ptrn:JSON.parse(d5.FK[7]).Ptrn,Algn:{v:!0,t:"bool"},Scl:{v:{type:"#Prc",val:100},t:"UntF"},Angl:{v:{type:"#Ang",val:0},t:"UntF"},phase:{v:{classID:"Pnt",Hrzn:{v:0,t:"doub"},Vrtc:{v:0,t:"doub"}},t:"Objc"}}];
var hO={};hO.yt=function(w,n){function H(w,N){if(w==null||!w.masterFXSwitch.v)return null;var b=w[N].v,z;
if(b.length!=0){z=b[0].v;if(!z.enab.v)z=null}return z}var y=n.SoCo,c=n.GdFl,Q=H(w,"solidFillMulti"),q=H(w,"gradientFillMulti");
if(Q==null&&q==null)return[y,c];var S=hO.adK;if(y&&Q&&q==null){var A=JSON.parse(JSON.stringify(y));A.Clr.v=S(Q.Clr.v,y.Clr.v,Q);
return[A,null]}if(c&&Q&&q==null){var V=JSON.parse(JSON.stringify(c)),e=V.Grad.v.Clrs.v;for(var l=0;l<e.length;
l++){var d=e[l].v.Clr;d.v=S(Q.Clr.v,d.v,Q)}return[null,V]}if(y&&q){var V=JSON.parse(JSON.stringify(q)),e=V.Grad.v.Clrs.v;
for(var l=0;l<e.length;l++){var d=e[l].v.Clr;d.v=S(d.v,y.Clr.v,q)}return[null,V]}return[Q,q]};hO.a0Y={QC:O.R(4),Mu:O.R(4),b:new cr(0,0,1,1)};
hO.adK=function(w,n,H){var y=eS.Yi(H.Md.v.BlnM),c=H.Opct.v.val/100,Q=hO.a0Y;w=O.M.cH(w);n=O.M.cH(n);
Q.QC[0]=w.b;Q.QC[1]=w.J;Q.QC[2]=w.k;Q.QC[3]=255;Q.Mu[0]=n.b;Q.Mu[1]=n.J;Q.Mu[2]=n.k;Q.Mu[3]=255;O.q.SG(y,Q.QC,Q.b,Q.Mu,Q.b,Q.b,c);
return{classID:"RGBC",Rd:{t:"doub",v:Q.Mu[0]},Grn:{t:"doub",v:Q.Mu[1]},Bl:{t:"doub",v:Q.Mu[2]}}};hO.a3Q=function(w,n,H){var y=w;
w=w.slice(0);var c=eS.$Q[eS.HN.indexOf(n.Md.v.BlnM)],Q=O.M.cH(n.Clr.v),q=4278190080|Math.round(Q.k)<<16|Math.round(Q.J)<<8|Math.round(Q.b),S=O.R(H.O()*4);
O.jZ(S,q);O.q.SG(c,S,H,w,H,H,n.Opct.v.val/100);for(var l=0;l<w.length;l+=4)w[l+3]=y[l+3];return w};hO.l$=function(w,n){var H=["Sz","blur","Sftn","Dstn"];
for(var l=0;l<d5.order.length;l++){var y=d5.order[l],c=w[d5.tS[l]].v;for(var Q=0;Q<c.length;Q++){var q=c[Q].v;
for(var S=0;S<H.length;S++){var A=q[H[S]];if(A){var V=A.v.val,e=V;e=Math.max(V==0?0:1,e*n);if(y=="ChFX")e=Math.min(e,250);
if(y=="ebbl"){if(H[S]=="blur")e=Math.min(e,250);if(H[S]=="Sftn")e=Math.min(e,16)}A.v.val=Math.round(e)}}if(y=="ebbl"||y=="patternFill"||y=="FrFX")if(q.Ptrn&&q.Scl)q.Scl.v.val=Math.max(1,Math.min(1e3,q.Scl.v.val*n))}}};
hO.abl=function(w,n,H){var y=new cr(-.5,-.5,1,1);for(var l=0;l<d5.order.length;l++){var c=d5.order[l],Q=w[d5.tS[l]].v;
for(var q=0;q<Q.length;q++){var S=Q[q].v,d;if(!S.enab.v)continue;var A=S.blur?S.blur.v.val+1:0,V=S.Ckmt?S.Ckmt.v.val/100:0,e=Math.round(A*V);
if(c=="DrSh"||c=="IrSh"&&H){d=new cr(-.5,-.5,1,1);d.i_(A,A);hO.Ti(d,S,n,0)}if(c=="OrGl"||c=="IrGl"&&H){d=new cr(-.5,-.5,1,1);
d.i_(A,A)}if(c=="FrFX"){var N=hO.qi(S),b=N[1];if(H)b=Math.max(N[0],b);d=new cr(-.5,-.5,1,1);d.i_(Math.ceil(b),Math.ceil(b))}if(c=="ebbl"){var A=S.blur.v.val,z=S.bvlS.v.BESl;
if(z=="Embs"||z=="PlEb")A/=2;var v=["OtrB","InrB","Embs","PlEb","strokeEmboss"],T=["SfBL","PrBL","Slmt"],Y=["In","Out"],g=S.bvlT.v.bvlT!="SfBL"?A:A*.43,R=Math.round(A);
d=new cr(-R-1,-R-1,2*R+2,2*R+2)}if(H&&c=="ChFX"){d=new cr(-.5,-.5,1,1);d.i_(A,A);var h=d.clone();hO.Ti(d,S,n,0);
hO.Ti(h,S,n,Math.PI);d=d.ld(h)}if(d)y=y.ld(d)}}if(y.x!=Math.ceil(y.x)){y.x=Math.ceil(y.x);y.m-=1}if(y.y!=Math.ceil(y.y)){y.y=Math.ceil(y.y);
y.e-=1}y.m=Math.floor(y.m);y.e=Math.floor(y.e);return y};hO.qi=function(w){var n=0,H=0,y=w.Styl.v.FStl,c=w.Sz.v.val;
if(y=="OutF")H=c;if(y=="InsF")n=c;if(y=="CtrF")n=H=c/2;return[n,H]};hO.a4X=function(w){if(dy._k&&w.Us==null){w.Us=new dy.$Z(w.la.m,w.la.e);
w.Us.set(w.fF);delete w.fF;if(w.Tz){w.cN=new dy.Z5(w.la.m,w.la.e);w.cN.set(w.Tz);delete w.Tz}if(w.K8){w.x4=new dy.Z5(w.la.m,w.la.e);
w.x4.set(w.K8);delete w.K8}}};hO.ak8=function(w){if(w.Us)w.Us.delete();if(w.cN)w.cN.delete();if(w.x4)w.x4.delete()};
hO.avQ=function(w){if(w.all==null)return;for(var l=0;l<w.all.length;l++){hO.ak8(w.all[l])}};hO.azq=function(w,n,H,y,c,Q){var q=hO.io(H,y,w,n,c,Q);
for(var l=0;l<q.all.length;l++)hO.a4X(q.all[l]);return q};hO.aku=function(w){for(var l=0;l<d5.order.length;
l++){var n=d5.order[l],H=d5.tS[l],y=w[H].v;for(var c=0;c<y.length;c++){var Q=y[c].v;if(Q.enab.v&&["patternFill","GrFl","SoFi"].indexOf(n)==-1)return!0}}return!1};
hO.io=function(w,n,H,y,c,Q){if(Q==null)Q=y;var q=0,S=0;for(var l=0;l<d5.order.length;l++){var A=d5.order[l],V=d5.tS[l],e=w[V].v;
for(var d=0;d<e.length;d++){var N=e[d].v;if(A=="DrSh"&&N.enab.v&&N.Ckmt.v.val>0&&N.blur.v.val>0)q=Math.max(q,Math.ceil(N.Ckmt.v.val*N.blur.v.val/100));
if(A=="OrGl"&&N.enab.v&&N.Ckmt.v.val>0&&N.blur.v.val>0&&N.GlwT.v.BETE=="SfBL")q=Math.max(q,Math.ceil(N.Ckmt.v.val*N.blur.v.val/100));
if(A=="OrGl"&&N.enab.v&&N.blur.v.val>0&&N.GlwT.v.BETE=="PrBL")q=Math.max(q,N.blur.v.val);if(A=="FrFX"&&N.enab.v&&N.Sz.v.val>0){if(N.Styl.v.FStl=="OutF")q=Math.max(q,N.Sz.v.val);
if(N.Styl.v.FStl=="CtrF")q=Math.max(q,Math.ceil(N.Sz.v.val/2));S=Math.max(S,hO.qi(N)[1])}}}var b=new hO.B8(H,y,q,hO.aku(w)),z=-y.x,v=-y.y,T={type:{},all:[]};
for(var Y=0;Y<d5.order.length;Y++){var A=d5.order[Y],V=d5.tS[Y];T.type[A]=[];for(var g=w[V].v.length-1;
g>=0;g--){var R=w[V].v[g].v,k;if(!R.enab.v)continue;var h=R.blur?R.blur.v.val:0,E=R.Ckmt?R.Ckmt.v.val/100:0,G=h*E;
if(A=="DrSh"){var $=b.p3(G,h-G,!0),p=$.ux,X=$.U2;X.offset(z,v);hO.TE(p,R,!1);hO.Ti(X,R,c,0);var C=O.R(X.O()*4);
hO.jx(C,R.Clr.v);O.o2(p,C,3);k={fF:C,la:X,alj:R.layerConceals.v}}else if(A=="IrSh"){var $=b.p3(G,h-G,!1);
hO.Ti($.U2,R,c,0);var X=b.rect().clone(),p=O.R(X.O());p.fill(255);O.qS($.ux,$.U2,p,X);hO.TE(p,R,!0,!0);
var C=O.R(X.O()*4);hO.jx(C,R.Clr.v);O.o2(p,C,3);X.offset(z,v);k={fF:C,la:X}}else if(A=="GrFl"){var C=O.R(b.rect().O()*4);
hO.XU(R,C,b.rect(),c,null,Q);var X=b.rect().clone();X.offset(z,v);k={fF:C,la:X}}else if(A=="SoFi"){var C=O.R(b.ux().length*4);
hO.jx(C,R.Clr.v);var X=b.rect().clone();X.offset(z,v);k={fF:C,la:X}}else if(A=="ebbl"){var D=!1;if(D)console.log(R);
var o=Date.now(),t=R.bvlS.v.BESl;if(t=="strokeEmboss"){var u=w.frameFXMulti.v;if(u.length==0)continue;
u=u[0].v;if(!u.enab.v)continue;var m=u.Styl.v.FStl;if(m=="OutF")t="OtrB";if(m=="CtrF")t="Embs";if(m=="InsF")t="InrB"}var h=R.blur.v.val;
if(h==0)h=.7;if(t=="Embs"||t=="PlEb")h/=2;var U=["OtrB","InrB","Embs","PlEb","strokeEmboss"],I=["SfBL","PrBL","Slmt"],x=["In","Out"],J=R.bvlT.v.bvlT!="SfBL"?h:h*.45,r=Math.round(h),Z=b.rect().clone(),f=Z.clone();
f.i_(r,r);var F=f.m,_=f.e,K=F*_,B=O.R(K);O.qS(b.ux(),Z,B,f);var ij=new Float64Array(K),W=new Float64Array(K);
O.style.Od(B,ij,F,_);O.G$(B);O.style.Od(B,W,F,_);if(D)console.log("distTransform computed",Date.now()-o);
for(var l=0;l<K;l++)W[l]=W[l]-ij[l];for(var l=0;l<K;l++){var L=W[l];if(L<-J)W[l]=-J;else if(L>J)W[l]=J}if(D)console.log("summing + cropping",Date.now()-o);
if(R.bvlT.v.bvlT=="SfBL"){var i=Math.pow(h*.21,1.22);if(!0)i=Math.max(i,2);var e3=O.CU.Lb(i,2);O.CU.J_(W,ij,f,e3[0]>>>1);
O.CU.J_(ij,W,f,e3[1]>>>1)}if(D)console.log("blurring",Date.now()-o);var eE=W,ec=eE.slice(0);if(R.useShape.v){var gw=Math.min(100,R.Inpr.v.val+1)/100;
if(t!="OtrB"&&t!="InrB")gw=1;var bl=O.hT.ea(R.MpgS.v.Crv.v,2e3),cD=Math.round(2e3/gw);bl=O.hT.ago(bl,cD,t=="InrB");
var a$=.5/J;for(var l=0;l<K;l++){var hJ=eE[l],ei=.99999*(hJ+J)*a$;eE[l]=-J+2*J*bl[~~(ei*(cD-1))]}if(D)console.log("applying shape",Date.now()-o)}if(R.useTexture.v){var df=O.R(F*_*4);
hO.yr(R,df,f,c.add.Patt,n);var bM=O.R(F*_);O._i(df,bM);var ib=O.R(F*_);O.CU.dg(bM,ib,f,1);bM=ib;var fI=h*R.textureDepth.v.val*(1/100)*(1/255);
if(R.InvT.v)fI=-fI;for(var l=0;l<K;l++)eE[l]+=-fI*bM[l];if(D)console.log("applying texture",Date.now()-o)}var eU=(R.bvlT.v.bvlT=="SfBL"?1:.5)*(R.bvlD.v.BESs=="In"?1:-1)*R.srgR.v.val/100;
for(var l=0;l<K;l++)eE[l]*=eU;if(D)console.log("scaling",Date.now()-o);var gK=R.uglg&&R.uglg.v?c.s9():R.lagl.v.val;
gK=gK*(Math.PI/180);var bs=R.uglg&&R.uglg.v?c.Sk():R.Lald.v.val;bs=bs*(Math.PI/180);var km=Math.cos(gK)*Math.cos(bs),aJ=-Math.sin(gK)*Math.cos(bs),ip=Math.sin(bs),fl=new Float64Array(K),b3=new Float64Array(K),dY=t=="PlEb";
for(var k4=0;k4<_;k4++)for(var aK=0;aK<F;aK++){var l=k4*F+aK,jK=0,ay=0,f8=1;if(k4!=0&&k4!=_-1&&aK!=0&&aK!=F-1){var gN=eE[l-F-1],d4=eE[l-F+1],bK=eE[l+F-1],hf=eE[l+F+1];
jK=-.125*(d4+2*eE[l+1]+hf-(gN+2*eE[l-1]+bK));ay=-.125*(bK+2*eE[l+F]+hf-(gN+2*eE[l-F]+d4))}else{var bC=eE[l];
ay=-(k4==0?eE[l+F]-bC:k4==_-1?bC-eE[l-F]:.5*(eE[l+F]-eE[l-F]));jK=-(aK==0?eE[l+1]-bC:aK==F-1?bC-eE[l-1]:.5*(eE[l+1]-eE[l-1]))}var gW=1/Math.sqrt(jK*jK+ay*ay+1);
jK*=gW;ay*=gW;f8*=gW;var dn=jK*km+ay*aJ+f8*ip,fq=dn;if(dY)fq=-jK*km-ay*aJ+f8*ip;if(dn>0)fl[l]=dn;if(fq>0)b3[l]=fq}if(D)console.log("raycasting",Date.now()-o);
if(R.Sftn.v.val!=0){O.CU.q4(fl,ij,f,R.Sftn.v.val*.43);var jN=ij,ij=fl,fl=jN;if(dY){O.CU.q4(b3,ij,f,R.Sftn.v.val*.43);
var jN=ij,ij=b3,b3=jN}else O.Bq(fl,b3)}if(D)console.log("softening",Date.now()-o);var bl=O.hT.ea(R.TrnS.v.Crv.v,1024);
for(var l=0;l<K;l++){fl[l]=bl[~~(fl[l]*1024)];b3[l]=bl[~~(b3[l]*1024)]}if(D)console.log("contour remap",Date.now()-o);
F=Math.round(F);_=Math.round(_);var cU=O.R(F*_*4);hO.jx(cU,R.hglC.v);var jb=O.R(F*_*4);hO.jx(jb,R.sdwC.v);
var ac=O.R(F*_*4);hO.jx(ac,R.hglC.v);var a_=O.R(F*_*4);hO.jx(a_,R.sdwC.v);var h5=1/ip,jz=1/(1-ip),a$=1/J,jj=new Float64Array(1e3);
for(var l=0;l<1e3;l++)jj[l]=Math.pow(l*.001,.2);for(var k4=0;k4<_;k4++)for(var aK=0;aK<F;aK++){var l=k4*F+aK,jy=4*l+3,g0=0,bt=0;
g0=fl[l];bt=b3[l];var kl=Math.max(0,Math.min(.9999,(ec[l]+J*.993)*a$));kl=jj[Math.floor(kl*1e3)];var iO=kl*(1-Math.min(1,g0*h5)),dN=kl*(1-Math.min(1,(1-g0)*jz)),aG=kl*(1-Math.min(1,bt*h5)),iA=kl*(1-Math.min(1,(1-bt)*jz));
jb[jy]=Math.round(255*iO);cU[jy]=Math.round(255*dN);a_[jy]=Math.round(255*aG);ac[jy]=Math.round(255*iA)}if(D)console.log("baking textures",Date.now()-o);
f=b.rect().clone();f.i_(r,r);f.offset(z,v);k={ahX:R.bvlS.v.BESl=="strokeEmboss"};var a0=eS.Yi(R.hglM.v.BlnM),cd=R.hglO.v.val/100,co=eS.Yi(R.sdwM.v.BlnM),c7=R.sdwO.v.val/100;
if(["InrB","Embs","PlEb"].indexOf(t)!=-1){k.K5={fF:cU,la:f,$X:a0,AX:cd};k.wG={fF:jb,la:f,$X:co,AX:c7}}if(["OtrB","Embs","PlEb"].indexOf(t)!=-1){k.zR={fF:ac,la:f,$X:a0,AX:cd};
k.TL={fF:a_,la:f,$X:co,AX:c7}}if(D)console.log(Date.now()-o)}else if(A=="patternFill"){var cF=b.rect(),C=O.R(cF.O()*4);
hO.yr(R,C,cF,c.add.Patt,n);var X=cF.clone();X.offset(z,v);k={fF:C,la:X}}else if(A=="ChFX"){var C=O.R(b.ux().length*4);
hO.jx(C,R.Clr.v);var h=R.blur.v.val,b1=b.rect().clone();b1.i_(h,h);var a5=O.R(b1.O()),iy=O.R(b1.O());
O.qS(b.ux(),b.rect(),iy,b1);O.CU.Tw(iy,a5,b1,h*.43);var ko=O.hT.b8(R.MpgS.v.Crv.v,256,!0);O.Ku(a5,ko);
var gc=O.R(b.ux().length),eR=O.R(b.ux().length),aX=b.rect().clone();hO.Ti(aX,R,c,0);O.qS(a5,b1,gc,aX);
aX=b.rect().clone();hO.Ti(aX,R,c,Math.PI);O.qS(a5,b1,eR,aX);var ck=gc.length;for(var l=0;l<ck;l++)C[4*l+3]=Math.abs(gc[l]-eR[l]);
if(R.Invr.v)for(var l=0;l<ck;l++)C[4*l+3]=255-C[4*l+3];var X=b.rect().clone();X.offset(z,v);k={fF:C,la:X}}else if(A=="OrGl"){var $;
if(R.GlwT.v.BETE=="SfBL")$=b.p3(G,h-G,!0);else $=b.aqx(h,E,!0);var p=$.ux,X=$.U2,by=p.slice(0);hO.ag_(p,R);
var C=O.R(X.O()*4);if(R.Grad==null){hO.jx(C,R.Clr.v);hO.TE(p,R,!1)}else{hO.TE(p,R,null);var i3={Xp:p,uR:255,u0:0,FU:X};
hO.XU(R,C,X,c,i3);var bb=R.Nose.v.val/100,il=X.m;for(var l=0;l<by.length;l++){var eH=255,j9=by[l];if(j9<32){var jq=(j9+by[l-1]+by[l+1]+by[l-il]+by[l+il])*.2-1;
eH=Math.min(255,Math.round(Math.max(0,jq)*8))}p[l]=eH}hO.ay1(p,R)}O.o2(p,C,3);X.offset(z,v);k={fF:C,la:X}}else if(A=="IrGl"){var $;
if(R.GlwT.v.BETE=="SfBL")$=b.p3(G,h-G,!1);else $=b.aqx(h,E,!1);var p=$.ux,X=$.U2;hO.ag_(p,R);if(R.glwS.v.IGSr=="SrcC")O.G$(p);
var C=O.R(X.O()*4);if(R.Grad==null){hO.jx(C,R.Clr.v);hO.TE(p,R,!0)}else{hO.TE(p,R,null);var i3={Xp:p,uR:255,u0:0,FU:X};
hO.XU(R,C,X,c,i3);p.fill(255);hO.ay1(p,R)}O.o2(p,C,3);X.offset(z,v);k={fF:C,la:X}}else if(A=="FrFX"){var jn=hO.qi(R),eQ=jn[0],ik=jn[1],X=b.rect().clone(),dR=null,d0=null;
X.i_(Math.ceil(S),Math.ceil(S));if(ik>0){var $=b.p3(ik,0,!0);d0=$.ux;if(d0.length<X.O()){d0=O.R(X.O());
O.qS($.ux,$.U2,d0,X)}}if(eQ>0){var $=b.p3(eQ,0,!1);dR=O.R(X.O());dR.fill(255);O.qS($.ux,$.U2,dR,X)}X.offset(z,v);
var C=O.R(X.O()*4),ii=R.PntT.v.FrFl;if(ii=="SClr")hO.jx(C,R.Clr.v);if(ii=="GrFl")hO.XU(R,C,X,c,b.a5P(eQ,ik));
if(ii=="Ptrn")hO.yr(R,C,X,c.add.Patt,n);k={fF:C,la:X,K8:d0,Tz:dR}}T.type[A].push(k);if(A=="ebbl"){if(k.K5)T.all.push(k.K5,k.wG);
if(k.zR)T.all.push(k.zR,k.TL)}else{k.$X=eS.Yi(R.Md.v.BlnM);k.AX=R.Opct.v.val/100,T.all.push(k)}}}return T};
hO.OR=function(w){var n=1/Math.sqrt(w.x*w.x+w.y*w.y+w.Zn*w.Zn);w.x*=n;w.y*=n;w.Zn*=n};hO.ai3=function(w,n){return{x:w.y*n.Zn-w.Zn*n.y,y:w.Zn*n.x-w.x*n.Zn,Zn:w.x*n.y-w.y*n.x}};
hO.adv=function(w,n){return w.x*n.x+w.y*n.y+w.Zn*n.Zn};hO.ay1=function(w,n){var H=n.Nose.v.val/100;if(H>0)for(var l=0;
l<w.length;l++){var y=w[l];y=Math.min(510-(1+H)*O.style.bj(l),y);w[l]=y}};hO.ne=function(w){var n=hO.zF(),H=w.wh,y=!1;
for(var l=0;l<32;l+=8)if(H[l]+H[l+1]+H[l+4]+H[l+5]!=0||H[l+2]+H[l+3]+H[l+6]+H[l+7]!=1020)y=!0;if(y){H=H.slice(0);
for(var l=0;l<40;l+=4){var c=H[l]/255,Q=H[l+1]/255,q=H[l+2]/255,S=H[l+3]/255;H[l]=c-.001;H[l+1]=c==Q?1e6:1/(Q-c);
H[l+2]=q==S?-1e6:1/(q-S);H[l+3]=S+.001}}var A=w.add.iOpa!=null?w.add.iOpa/255:n.fill,V=w.add.vstk;if(V&&!V.fillEnabled.v&&(!V.strokeEnabled.v||V.strokeStyleLineWidth.v.val==0))A=0;
return{fill:A,k6:y?H:null,d8:w.add.brst!=null?w.add.brst:n.d8,an$:w.add.knko!=null?w.add.knko:n.an$,style:!1,t$:!1}};
hO.zF=function(){return{fill:1,k6:null,d8:[1,1,1],an$:0,style:!1,t$:!1}};hO.alg=function(w,n,H,y,c,Q,q,S){if(S==null)S=1;
if(q==null)q=new b7;var A=w.TP[1].m,V=w.TP[1].e,e=new b7,d=c<2;if(d)e.translate(-A/2,-V/2);if(c==0){S*=Math.max(H/A,y/V)}else if(c==1){S*=Math.min(H/A,y/V)}else if(c==2){e.scale(1/A,1/V);
e.concat(q);e.scale(H,y)}else if(c==3){S=S}e.scale(S,S);if(d)e.translate(H/2,y/2);e.concat(Q);n.Ptrn.v.Idnt.v=w.id;
n.Scl.v.val=Math.round(100*e.H5());n.Angl.v.val=Math.round(180*Math.atan2(-e.k,e.iL)/Math.PI);n.Algn.v=!0;
var N=n.phase.v;N.Hrzn.v=Math.round(e.qH);N.Vrtc.v=Math.round(e.fp)};hO.EZ=function(w,n){if(n==null)return null;
var H=w.Idnt.v,y=w.Nm.v;for(var l=0;l<n.length;l++)if(n[l].id==H)return n[l];for(var l=0;l<n.length;
l++)if(n[l].name==y)return n[l];return null};hO.aaU=function(w,n,H){var y=["patternFillMulti","ebblMulti","frameFXMulti"];
for(var l=0;l<y.length;l++){var c=w.v[y[l]].v;for(var Q=0;Q<c.length;Q++)if(c[Q].v.Ptrn)n.mv(hO.EZ(c[Q].v.Ptrn.v,H))}};
hO.aal=function(w,n,H){var y=["patternFillMulti","ebblMulti","frameFXMulti"];for(var l=0;l<y.length;
l++){var c=w.v[y[l]].v;for(var Q=0;Q<c.length;Q++)if(c[Q].v.Ptrn){var q=c[Q].v.Ptrn.v,S=hO.EZ(q,H),A=hO.EZ(q,n.add.Patt);
if(S==null&&A)H.push(A)}}};hO.yr=function(w,n,H,y,c){var Q=hO.EZ(w.Ptrn.v,y);if(Q!=null&&!H._G()){var q=Q.TP,S=q[0],A=q[1],V=0;
O.Qt(q);var e=(w.Scl?w.Scl.v.val:100)/100;while((e<.3||e==.5)&&q[V+2]){e*=A.m/q[V+3].m;V+=2;S=q[V];A=q[V+1]}var d=O.scale.yr(S,A.m,A.e),N=w.phase?w.phase.v:{Hrzn:{v:0},Vrtc:{v:0}},b=w.Angl?w.Angl.v.val:0,z=-H.x+N.Hrzn.v-1,v=-H.y+N.Vrtc.v-1;
if(w.Algn!=null&&!w.Algn.v){}else{z+=c.x;v+=c.y}if(n)O.scale.af5(d,n,H.m,H.e,e,e,z+1,v+1,b*Math.PI/180);
else return[d,e,z+1,v+1,b*Math.PI/180]}};hO.XU=function(w,n,H,y,c,Q){if(Q==null)Q=H;var q=w.Type?w.Type.v.GrdT:"shapeburst",S=w.Algn&&w.Algn.v?Q:new cr(0,0,y.m,y.e),A=w.Angl?O.M.vt(w,S):[new ce(0,0),new ce(100,0)],V=A[0].x,e=A[0].y,d=A[1].x-V,N=A[1].y-e,b=Math.sqrt(d*d+N*N);
b=1/(2*b*b);var z=[d*b,N*b,-N*b,d*b],v=w.Rvrs?w.Rvrs.v:!1,T=w.Dthr?w.Dthr.v:!1;O.M.DN(w.Grad.v,n,H,z,V,e,v,d5.M.types.indexOf(q),0,0,c,T)};
hO.anr=function(w,n,H){for(var l=0;l<w.all.length;l++){var y=w.all[l];y.Xc=y.la.clone();y.Xc.offset(n,H)}};
hO.ad2=function(w,n,H,y,c,Q){var q=dy._k?hO.aia:hO.a9Z;hO.anr(n,H.x,H.y);var S=n.type.DrSh;for(var l=0;
l<S.length;l++)if(!S[l].alj)q(S[l],y,c,Q)};hO.apA=function(w,n,H,y,c,Q,q,S,A,V){var e=H,d=dy._k?hO.aia:hO.a9Z,N=dy._k?dy.q.l0:O.q.AF,b;
b=n.type.DrSh;for(var l=0;l<b.length;l++)if(b[l].alj)d(b[l],y,c,Q);b=n.type.OrGl;for(var l=0;l<b.length;
l++)d(b[l],y,c,Q);var z="patternFill GrFl SoFi ChFX IrGl IrSh".split(" ");for(var v=0;v<z.length;v++){var b=n.type[z[v]];
for(var l=0;l<b.length;l++)d(b[l],q,e,Q)}var T=n.type.ebbl[0],Y=T!=null&&T.ahX;b=n.type.FrFX;for(var l=0;
l<b.length;l++){var g=b[l];iP.LF.qS(S,V,A,V,Q);d(g,A,V,Q);if(Y&&l==b.length-1){if(T.TL)d(T.TL,A,V,Q);
if(T.zR)d(T.zR,A,V,Q);if(T.wG)d(T.wG,A,V,Q);if(T.K5)d(T.K5,A,V,Q)}if(g.Tz||g.cN)N(A,V,q,e,dy._k?g.cN:g.Tz,g.Xc,0,Q,1);
if(g.K8||g.x4)N(A,V,y,c,dy._k?g.x4:g.K8,g.Xc,0,Q,1)}if(!Y&&T!=null){if(T.TL)d(T.TL,y,c,Q);if(T.zR)d(T.zR,y,c,Q);
if(T.wG)d(T.wG,q,e,Q);if(T.K5)d(T.K5,q,e,Q)}};hO.a9Z=function(w,n,H,y){var c=hO.zF();c.fill=w.AX;c.style=!0;
O.q.SG(w.$X,w.fF,w.Xc,n,H,y,1,c)};hO.aia=function(w,n,H,y){var c=hO.zF();c.fill=w.AX;c.style=!0;dy.q.JO(w.$X,w.Us,w.Xc,n,H,y,1,c)};
hO.ag_=function(w,n){var H=1-n.Inpr.v.val/100,y=1+Math.tan(H*(Math.PI/2)),c=w.length;for(var l=0;l<c;
l++)w[l]=Math.min(255,Math.round(w[l]*y))};hO.TE=function(w,n,H,y){var c=n.blur.v.val,Q=Math.round(c*(n.Ckmt.v.val/100));
if(c>Q){var q=O.hT.b8(n.TrnS.v.Crv.v,256,y!=!0);O.Ku(w,q)}if(H!=null&&n.Nose.v.val>0)O.style.Wl(w,n.Nose.v.val/100,H)};
hO.jx=function(w,n,H){if(H==null)H=255;var y=O.M.cH(n),c=H<<24|y.k<<16|y.J<<8|y.b,Q=new Uint32Array(w.buffer);
Q.fill(c)};hO.Ti=function(w,n,H,y){var c=n.uglg&&n.uglg.v?H.s9():n.lagl.v.val;c=c*Math.PI/180+y;var Q=Math.cos(c)*n.Dstn.v.val,q=Math.sin(c)*n.Dstn.v.val;
w.x-=Math.round(Q);w.y+=Math.round(q)};hO.nv=function(w){if(w==null)return null;var n=w.frameFXMulti.v;
if(n.length==0)return null;n=n[0].v;var H=JSON.parse(JSON.stringify(d5.Ed.default));hO.a8A(n,H);return H};
hO.a8A=function(w,n){var H=d5.stroke.Dq.indexOf(w.PntT.v.FrFl),y=[d5.jG,d5.B6,d5.sY][H],c=n.strokeStyleContent.v={classID:d5.Ed.oj[H]};
for(var l=0;l<y.length;l++)c[y[l]]=w[y[l]];n.strokeEnabled=w.enab;n.strokeStyleLineWidth=w.Sz;n.strokeStyleLineAlignment.v.strokeStyleLineAlignment=d5.Ed.YH[d5.stroke.types.indexOf(w.Styl.v.FStl)];
n.strokeStyleOpacity=w.Opct;n.strokeStyleBlendMode=w.Md;n.strokeStyleLineJoinType.v.strokeStyleLineJoinType="strokeStyleRoundJoin"};
hO.f5=function(w,n){var H=[];for(var l=0;l<w.length;l++)H.push({t:"UntF",v:{type:"#Nne",val:Math.round(w[l]*n)}});
return H};hO.a0v=function(w,n){var H=w.opacity/255*(w.add.iOpa?w.add.iOpa/255:1),y=w.add.TySh,c=w.Ok()||w.hu()&&w.add.vmsk&&w.add.vstk.fillEnabled.v&&w.add.vstk.strokeEnabled.v;
if(y){var Q=y.EB.EngineDict.StyleRun.RunArray,q=Q[0].StyleSheet.StyleSheetData,S=0;if(q.FillFlag)S++;
if(q.StrokeFlag)S++;if(q._FillBackgroundFlag)S++;if(S>1)c=!0}return c&&(n||H!=1||w.UM!="pass"&&w.UM!="norm")};
hO.B8=function(w,n,H,y){this.jk=n.clone();this.asp=n.clone();this.asp.i_(H,H);if(y){this.jk.i_(1,1);
this.P2=O.R(this.jk.O());O.qS(w,n,this.P2,this.jk)}else this.P2=w;this.v3=null;this.l9=null;this.Fl=null};
hO.B8.prototype.ux=function(){return this.P2};hO.B8.prototype.rect=function(){return this.jk};hO.B8.prototype.h5=function(){return this.asp};
hO.B8.prototype.lD=function(){if(this.v3)return this.v3;this.v3=this.ux().slice(0);O.G$(this.v3);return this.v3};
hO.B8.prototype.FZ=function(){if(this.l9)return this.l9;this.l9=new Float64Array(this.rect().O());O.style.Od(this.lD(),this.l9,this.rect().m,this.rect().e);
return this.l9};hO.B8.prototype.ek=function(){if(this.Fl)return this.Fl;var w=this.h5(),n=O.R(w.O());
O.qS(this.ux(),this.rect(),n,w);this.Fl=new Float64Array(w.O());O.style.Od(n,this.Fl,w.m,w.e);return this.Fl};
hO.B8.prototype.a5P=function(w,n){var H={uR:-n,u0:w,FU:null,Xp:null};if(n==0){H.FU=this.rect();H.Xp=this.FZ();
return H}var y=this.ek().slice(0),c=this.h5();H.FU=c;H.Xp=y;for(var l=0;l<y.length;l++)y[l]=-y[l];if(w==0)return H;
var Q=this.FZ(),q=this.rect();for(var S=0;S<q.e;S++)for(var A=0;A<q.m;A++){var V=S*q.m+A,e=(S+q.y-c.y)*c.m+A+q.x-c.x;
y[e]+=Q[V]}return H};hO.B8.prototype.p3=function(w,n,H){var y=Math.ceil(w+n),c={U2:this.rect().clone(),ux:null};
c.U2.i_(y,y);c.ux=O.R(c.U2.O());if(w==0&&n==0)O.Bq(H?this.ux():this.lD(),c.ux);else{var Q=O.R(c.U2.O());
O.qS(this.ux(),this.rect(),Q,c.U2);if(!H)O.G$(Q);if(w!=0){if(H)O.style.Hg(Q,c.U2,this.ek(),this.h5(),w);
else O.style.Hg(Q,c.U2,this.FZ(),this.rect(),w)}if(n!=0)O.CU.Tw(Q,c.ux,c.U2,Math.max(1,n*.43));else c.ux=Q}return c};
hO.B8.prototype.aqx=function(w,n,H){var y=w*(n-.5),c={U2:this.rect().clone(),ux:null};if(H)c.U2.i_(w,w);
c.ux=O.R(c.U2.O());var Q=c.U2.m,q=c.U2.e,S=H?this.ek():this.FZ(),A=H?this.h5():this.rect(),V=c.U2,e=V.Fa(A),Q=e.m,q=e.e,d=e.x-V.x,N=e.y-V.y,b=e.x-A.x,z=e.y-A.y,v=1-n*2;
for(var T=0;T<q;T++)for(var Y=0;Y<Q;Y++){var g=S[(T+z)*A.m+Y+b],R=g/w;c.ux[(T+N)*V.m+Y+d]=Math.max(0,Math.min(255,255-255*((R+v)/(1+v))))}return c};
hO.aw9=function(w,n,H,y){var c=w.Lefx,Q=w.blendOptions;if(c){var q=n.add.lmfx;if(H==null)H=q?q.Scl.v.val:100;
n.add.lmfx=JSON.parse(JSON.stringify(c.v));if(n.add.lmfx.Scl==null)n.add.lmfx.Scl={t:"UntF",v:{type:"#Prc",val:100}};
hO.l$(n.add.lmfx,H/n.add.lmfx.Scl.v.val);if(q)n.add.lmfx.Scl.v.val=q.Scl.v.val;var S=c.v.gagl;if(S&&y)y.sK(S.v.val)}else delete n.add.lmfx;
if(Q){Q=Q.v;if(Q.Md)n.UM=eS.Yi(Q.Md.v.BlnM);if(Q.Opct)n.opacity=Math.round(Q.Opct.v.val*255/100);if(Q.fillOpacity)n.add.iOpa=Math.round(Q.fillOpacity.v.val*255/100);
if(Q.Blnd){var A=[];for(var l=0;l<10;l++)A.push(0,0,255,255);var V=Q.Blnd.v,e="SrcB Srcl SrcW Srcm DstB Dstl DstW Dstt".split(" ");
for(var l=0;l<V.length;l++){var d=V[l].v,N=8*["Gry","Rd","Grn","Bl"].indexOf(d.Chnl.v[0].v.enum);for(var b=0;
b<8;b++){A[N+b]=d[e[b]].v}}n.wh=A}}};hO.aqS=function(w){var n="SrcB Srcl SrcW Srcm DstB Dstl DstW Dstt".split(" "),H=[],y=w.wh;
for(var l=0;l<4;l++){var c=l*8;if(y[c]+y[c+1]+y[c+4]+y[c+5]==0&&y[c+2]+y[c+3]+y[c+6]+y[c+7]==4*255)continue;
var Q={t:"Objc",v:{classID:"Blnd",Chnl:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:["Gry","Rd","Grn","Bl"][l]}}]}}};
H.push(Q);for(var q=0;q<8;q++)Q.v[n[q]]={t:"long",v:y[l*8+q]}}var S={classID:"blendOptions"};if(w.UM!="norm")S.Md={t:"enum",v:{BlnM:eS.Yf(w.UM)}};
if(w.opacity!=255)S.Opct={t:"UntF",v:{type:"#Prc",val:Math.round(w.opacity*100/255)}};if(w.add.iOpa!=null)S.fillOpacity={t:"UntF",v:{type:"#Prc",val:Math.round(w.add.iOpa*100/255)}};
if(H.length!=0)S.Blnd={t:"VlLs",v:H};var A={E5:{classID:"null",Idnt:{t:"TEXT",v:iC.aX()+"-bd9f-11d5-b8ba-b73f8571793d"},Nm:{t:"TEXT",v:"Custom Style"}},fw:{classID:"Styl",blendOptions:{t:"Objc",v:S}}},V=w.add.lmfx;
if(V)A.fw.Lefx={t:"Objc",v:V};return A};function iG(){}iG.L0=function(w){return JSON.parse(JSON.stringify(w))};
iG.Pn=function(w){var n=iG.L0(iG.a7b),H=n.Brsh.v;if(w!=null){delete H.Hrdn;H.classID="sampledBrush";
H.Nm={t:"TEXT",v:"layer.png"},H.sampledData={t:"TEXT",v:w}}return n};iG.a7b={classID:"brushPreset",Nm:{t:"TEXT",v:"Custom Brush"},Brsh:{t:"Objc",v:{classID:"computedBrush",Dmtr:{t:"UntF",v:{type:"#Pxl",val:15}},Hrdn:{t:"UntF",v:{type:"#Prc",val:100}},Angl:{t:"UntF",v:{type:"#Ang",val:0}},Rndn:{t:"UntF",v:{type:"#Prc",val:100}},Spcn:{t:"UntF",v:{type:"#Prc",val:25}},Intr:{t:"bool",v:!0},flipX:{t:"bool",v:!1},flipY:{t:"bool",v:!1}}},useTipDynamics:{t:"bool",v:!1},useScatter:{t:"bool",v:!1},dualBrush:{t:"Objc",v:{classID:"dualBrush",useDualBrush:{t:"bool",v:!1}}},brushGroup:{t:"Objc",v:{classID:"brushGroup",useBrushGroup:{t:"bool",v:!1}}},useTexture:{t:"bool",v:!1},usePaintDynamics:{t:"bool",v:!1},useColorDynamics:{t:"bool",v:!1},Wtdg:{t:"bool",v:!1},Nose:{t:"bool",v:!1},Rpt:{t:"bool",v:!1}};
iG.OR={};iG.OR.check=function(w){var n=iG.OR.km;for(var l=0;l<n.length;l++)if(w[n[l]]==null)w[n[l]]=JSON.parse(iG.OR.Ft[n[l]]);
var H=[];for(var l=0;l<n.length;l++)H.push(n[l]);var y=iG.OR.akL;for(var l=0;l<y.length;l++){var c=y[l][0],Q=y[l][1],q=!0;
for(var S=0;S<c.length;S++)q=q&&w[c[S]].v==!0;if(q)for(var S=0;S<Q.length;S++){if(w[Q[S]]==null)console.log("Missing conditional parameter "+Q[S]);
else H.push(Q[S])}}for(var A in w)if(H.indexOf(A)==-1)console.log("Extra parameter "+A);w=w.Brsh.v;n=iG.OR.Aq.km;
for(var l=0;l<n.length;l++)if(w[n[l]]==null)w[n[l]]=JSON.parse(iG.OR.Aq.Ft[n[l]]);H=[];for(var l=0;l<n.length;
l++)if(w[n[l]])H.push(n[l]);else console.log("Missing default parameter "+n[l]);y=iG.OR.Aq.ant[w.classID];
for(var l=0;l<y.length;l++)if(w[y[l]]==null&&y[l]!="dtipsGridSize"&&y[l]!="dtipsErodibleTipHeightMap"&&w.agy!=1)console.log("Missing conditional parameter "+y[l]);
else H.push(y[l]);for(var A in w)if(H.indexOf(A)==-1)console.log("Extra parameter "+A)};iG.OR.ai7=function(w){var n=iG.OR.akL;
for(var l=0;l<n.length;l++){var H=n[l][0],y=n[l][1],c=!0;for(var Q=0;Q<H.length;Q++)c=c&&w[H[Q]]&&w[H[Q]].v==!0;
if(c){for(var Q=0;Q<y.length;Q++)if(w[y[Q]]==null){w[y[Q]]=JSON.parse(iG.OR.Ft[y[Q]])}}else for(var Q=0;
Q<y.length;Q++)if(w[y[Q]]!=null){delete w[y[Q]]}}};iG.OR.Aq={};iG.OR.Aq.km="classID Dmtr Angl Spcn Intr flipX flipY".split(" ");
iG.OR.Aq.Ft={flipX:"{\"t\":\"bool\",\"v\":false}",flipY:"{\"t\":\"bool\",\"v\":false}"};iG.OR.Aq.ant={computedBrush:["Hrdn","Rndn"],sampledBrush:["Nm","Rndn","sampledData"],dBrush:"Shp Dnst Lngt clumping thickness stiffness physics".split(" "),dTips:"dtipsType Shp dtipsLengthRatio dtipsHardness dtipsGridSize dtipsErodibleTipHeightMap physics dtipsAirbrushCutoffAngle dtipsAirbrushGranularity dtipsAirbrushStreakiness dtipsAirbrushSplatSize dtipsAirbrushSplatCount".split(" ")};
iG.OR.akL=[[["useTipDynamics"],"flipX flipY brushProjection minimumDiameter minimumRoundness tiltScale szVr angleDynamics roundnessDynamics".split(" ")],[["usePaintDynamics"],["prVr","opVr","wtVr","mxVr"]],[["useBrushPose"],"overridePoseAngle overridePoseTiltX overridePoseTiltY overridePosePressure brushPosePressure brushPoseTiltX brushPoseTiltY brushPoseAngle".split(" ")],[["useTexture"],"TxtC interpretation textureBlendMode textureDepth minimumDepth textureDepthDynamics Txtr textureScale InvT textureBrightness textureContrast".split(" ")],[["useColorDynamics"],"clVr H Strt Brgh purity colorDynamicsPerTip".split(" ")],[["useScatter"],["Cnt","countDynamics","bothAxes","scatterDynamics"]],[["useScatter","bothAxes"],["Spcn"]]];
iG.OR.km="classID Nm Brsh useTipDynamics usePaintDynamics useColorDynamics useScatter useTexture useBrushSize useBrushPose Wtdg Nose Rpt dualBrush brushGroup".split(" ");
iG.OR.Ft={useBrushSize:"{\"t\":\"bool\",\"v\":false}",useBrushPose:"{\"t\":\"bool\",\"v\":false}",brushGroup:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brushGroup\",\"useBrushGroup\":{\"t\":\"bool\",\"v\":false}}}",flipX:"{\"t\":\"bool\",\"v\":false}",flipY:"{\"t\":\"bool\",\"v\":false}",brushProjection:"{\"t\":\"bool\",\"v\":false}",minimumDiameter:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",minimumRoundness:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":25}}",tiltScale:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":200}}",szVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",angleDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",roundnessDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",prVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",opVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",wtVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",mxVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",overridePoseAngle:"{\"t\":\"bool\",\"v\":false}",overridePoseTiltX:"{\"t\":\"bool\",\"v\":true}",overridePoseTiltY:"{\"t\":\"bool\",\"v\":true}",overridePosePressure:"{\"t\":\"bool\",\"v\":true}",brushPosePressure:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":9}}",brushPoseTiltX:"{\"t\":\"long\",\"v\":0}",brushPoseTiltY:"{\"t\":\"long\",\"v\":0}",brushPoseAngle:"{\"t\":\"long\",\"v\":0}",TxtC:"{\"t\":\"bool\",\"v\":false}",interpretation:"{\"t\":\"bool\",\"v\":true}",textureBlendMode:"{\"t\":\"enum\",\"v\":{\"BlnM\":\"CBrn\"}}",textureDepth:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":37}}",minimumDepth:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":97}}",textureDepthDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",Txtr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Ptrn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"$$$/Presets/Patterns/Patterns_pat/Laidhorizontal=Laid-horizontal\"},\"Idnt\":{\"t\":\"TEXT\",\"v\":\"52a93427-f5d6-1172-a989-8dc82a43aa51\"}}}",textureScale:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":99}}",InvT:"{\"t\":\"bool\",\"v\":false}",textureBrightness:"{\"t\":\"long\",\"v\":14}",textureContrast:"{\"t\":\"long\",\"v\":100}",Cnt:"{\"t\":\"doub\",\"v\":4}",countDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":98}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",bothAxes:"{\"t\":\"bool\",\"v\":false}",scatterDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":56}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",clVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",H:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",Strt:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",Brgh:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":36}}",purity:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",colorDynamicsPerTip:"{\"t\":\"bool\",\"v\":false}"};
function eh(w,n){this.acn=w;this.db=n==null?0:n;this.dir=0}eh.prototype.Tq=function(w,n){var H=this.acn,y=new ce(w.x-H.x,w.y-H.y),c=new b7;
c.rotate(-this.db);y=c.rY(y);if(this.dir==0&&!H.Hw(w))this.dir=Math.abs(y.x)<Math.abs(y.y)?1:2;if(n.l(b8.fx)){if(this.dir==1)y.x=0;
if(this.dir==2)y.y=0}c.G$();y=c.rY(y);var Q=new ce(H.x+y.x,H.y+y.y);return Q};eh.prototype.aze=function(w){if(w.l(b8.fx))return this.dir;
return 0};var ft=function(){function w(){this.alY={}}w.awf=function(n,H){var y=n.clone();y.qH-=Math.floor(y.qH);
y.fp-=Math.floor(y.fp);var c=new ce(H,0),Q=new ce(0,H),q=y.rY(c),S=y.rY(Q),A=new ce(y.qH,y.fp);return[q,S,A]};
w.aoY=function(n,H){var y=ce.Re;return y(n[0],H[0])+y(n[1],H[1])+y(n[2],H[2]);return dsum};w.prototype.au3=function(n){var H=this.alY,y=H[n];
if(y==null)y=H[n]={LN:[],_z:0,O:0,aoM:0,aiy:0};y._z=Date.now();while(Object.keys(H).length>3){var c="",Q=Date.now();
for(var q in H){var S=H[q]._z;if(S<Q){Q=S;c=q}}delete H[c]}return y};w.prototype.adG=function(n,H){var y=n.LN,c,Q=1e6;
for(var l=0;l<y.length;l++){var q=y[l],S=w.aoY(q.Hk,H);if(S<Q){c=q;Q=S}}return c};w.prototype.a6g=function(n,H){var y=n.LN;
y.push(H);n.O+=H.rect.O();if(y.length>1e3||n.O>100*100*1600){console.log("pruning",n.O,y.length);y.sort(function(Q,q){return q._z-Q._z});
while(y.length>500||n.O>100*100*800){var c=y.pop();n.O-=c.rect.O()}}};return w}();function cn(w,n,H,y,c,Q,q,S,A){this.NS=n;
this.c4=H;this.uu=Q;this.Vm=y;this.tF=null;this.Jm=null;this.AS=0;this.agP=0;this.awn=0;this.zf=0;this.tW=0;
this.ww=A==null?Math.floor(Math.random()*16777215):A;this.MX=A==null?Math.floor(Math.random()*16777215):A;
this.Zg=new cr;this.FE=new cr;if(S!=null){this.fF=S}else{var V=cn.auk;if(V.length!=q.O()*4)V=O.R(q.O()*4);
else V.fill(0);this.fF=cn.auk=V}this.rect=q.clone();this.E7=[];this.pg=[];this.dL=null;this.Ni=0;this.k=null;
this.a75="";this.As=null;this.agI(w,c)}cn.auk=O.R(16);cn.prototype.agI=function(w,n){this.Ni=n;this.k=w;
this.a75=JSON.stringify(w)+JSON.stringify(this.Vm.Y9);this.As=cn.adD(this.k,this.NS,this.c4)};cn.prototype.moveTo=function(w,n,H){H=this.arI(H);
this.AS=H;var y=new ce(w,n),c=this.k.Brsh.v.Dmtr.v.val;this.tF=y.clone();this.Jm=y.clone();this.dL=y.clone();
this.E7=[w,n];this.pg=[H];if(this.Vm.vc!=cn.$0){var Q=this.k.angleDynamics,q=Q?Q.v.bVTy.v==6:!1;this.cM(q?new cr:this.atN(y,this.a7k(H),H,new ce(0,0)))}this.zf=y.clone()};
cn.prototype.lineTo=function(w,n,H){H=this.arI(H);var y=this.E7,c=y.length,Q=y[c-2],q=y[c-1];if(w==Q&&n==q)return;
var S=this.k.Brsh.v.Dmtr.v.val,A=Math.ceil(S)+1,V=new cr(Math.round(Q),Math.round(q),0,0);V.i_(A,A);
var e=new cr(Math.round(w),Math.round(n),0,0);e.i_(A,A);this.E7.push(w,n);this.pg.push(H);c+=2;if(c>=6)this.cM(this.ajk(c))};
cn.prototype.arI=function(w){if(w==null)w=1;w=Math.max(.05,Math.min(5,w));if(isNaN(w)){alert("Pressure is not a number");
throw"e"}return w};cn.prototype.cM=function(w){this.Zg=w;this.FE=this.FE.ld(w)};cn.prototype.finish=function(){var w=this.E7,n=w.length,H;
if(n==4)H=this.ab3(w[n-2],w[n-1],this.pg[(n>>1)-1],!0);if(n>4)H=this.ajk(n+2);if(H)this.cM(H)};cn.prototype.fH=function(){return this.rect.clone()};
cn.prototype.fu=function(){return this.Zg.Fa(this.rect)};cn.prototype.xV=function(){return this.FE.Fa(this.rect)};
cn.prototype.L5=function(){return this.fF};cn.prototype.ajk=function(w){var n=this.E7,H=this.pg,y=n[w-6],c=n[w-5],Q=n[w-4],q=n[w-3],S=H[(w>>1)-3],A=H[(w>>1)-2],V=new ce(0,0),e=new ce(0,0);
if(8<=w)V=cn.a0k(n[w-8],n[w-7],y,c,Q,q);if(w<=n.length)e=cn.a0k(n[w-2],n[w-1],Q,q,y,c);var d=y+V.x,N=c+V.y,b=Q+e.x,z=q+e.y,v=new cr,T=this.aah()?1:10;
for(var l=0;l<T;l++){var Y=(l+1)/T,g=1-Y,R=g*g*g*y+3*Y*g*g*d+3*Y*Y*g*b+Y*Y*Y*Q,h=g*g*g*c+3*Y*g*g*N+3*Y*Y*g*z+Y*Y*Y*q,E=this.ab3(R,h,S+Y*(A-S));
v=v.ld(E)}return v};cn.a0k=function(w,n,H,y,c,Q){var q=w-H,S=n-y,A=c-H,V=Q-y,e=Math.sqrt(q*q+S*S),d=Math.sqrt(A*A+V*V),N=Math.acos((q*A+S*V)/(e*d))/Math.PI,b=.35,z=.1;
N=z+N*(b-z);var v=c-w,T=Q-n,Y=Math.sqrt(v*v+T*T),g=N*d/Y;return new ce(v*g,T*g)};cn.prototype.ab3=function(w,n,H,y){var c=new cr,Q=this.Vm.abH;
if(Q==null)Q=0;if(Q==0||y){c=this.apL(w,n,H);return c}var q=this.dL,S=w-q.x,A=n-q.y,V=Math.sqrt(S*S+A*A);
S/=V;A/=V;if(V>Q){var e=q.x+S*(V-Q),d=q.y+A*(V-Q);c=this.apL(e,d,H);this.dL.HV(e,d)}return c};cn.prototype.aah=function(){var w=this.k,n=w.Brsh.v.Dmtr.v.val;
return this.Vm.Y9&&n==1};cn.prototype.apL=function(w,n,H){var y=new cr,c=new ce(w,n),Q=this.Vm.vc,q=c.Hy(this.Jm);
q.normalize(1);var S=ce.Re(this.Jm,c),A=-this.agP,V=this.Jm.clone();if(this.aah()){if(S>.99){var e=this.Jm;
cn.agl(e,c,this.fF,this.rect,this.WG(this.k));y=O.p.w1([e.x,e.y,c.x,c.y]);A=S}else c=this.Jm}else while(!0){var d=this.AS+(H-this.AS)*(Math.max(0,A)/S),N=this.a7k(d),b=this.a3w()*(N+this.awn)/2*this.As.apq;
if(Q==cn.$0)b=1;b=Math.max(b,.5);if(A+b<S){A+=b;this.tW+=b;var z=new ce(this.Jm.x+q.x*A,this.Jm.y+q.y*A),Y=1;
if(Q==cn.$0){var v=V.clone();v.x+=q.x>0?1:-1;var T=V.clone();T.y+=q.y>0?1:-1;if(ce.Re(v,z)<ce.Re(T,z))z=v;
else z=T;A=ce.Re(z,this.Jm)}if(this.k.useScatter.v==!0){Y=this.k.Cnt.v;var g=this.k.countDynamics.v.jitter.v.val/100,R=g*(-1+2*this.hI());
Y+=Math.round(Y*R)}for(var l=0;l<Y;l++){var h=this.atN(z,N,H,q);y=y.ld(h)}V=z}else break}this.agP=S-A;
this.Jm=c;this.AS=H;return y};cn.prototype.a3w=function(){var w=this.k.Brsh.v,n=w.Spcn.v.val,H=Math.max(5,w.Rndn.v.val);
return H/100*(n/100)};cn.prototype.a7k=function(w){var n=this.k,H=n.Brsh.v.Dmtr.v.val;if(n.useTipDynamics.v){var y=H*(n.minimumDiameter.v.val/100);
H=y+(H-y)*(1-this.hI(this.MX)*(n.szVr.v.jitter.v.val/100));H*=cn.yz(n,"szVr",w,this.tW)}return H};cn.yz=function(w,n,H,y){var c=1,Q=w[n].v,q=Q.bVTy.v,S=Q.fStp.v;
if(q==1)c*=Math.max(0,(S-y)/S);if(q==2)c*=H;return c};cn.prototype.atN=function(w,n,H,y){var c=this.Vm.wi,v=0;
c=Math.min(1,c);var Q=this.k,q=this.k.Brsh.v,S=q.Dmtr.v.val,A=this.Vm,V=A.vc,e=A.ahP,d=this.As.TP[1],N=new b7;
N.translate(-d.m/2,-d.e/2);N.scale(1/this.As.asn,1/this.As.asn);N.scale(n/S,n/S);N.scale(1,Math.max(5,q.Rndn.v.val)/100);
if(Q.usePaintDynamics&&Q.usePaintDynamics.v){var b=Q.opVr.v.jitter.v.val/100,z=Q.prVr.v.jitter.v.val/100;
c*=1-this.hI()*b;c*=1-this.hI()*z;c*=cn.yz(Q,"opVr",H,this.tW)*cn.yz(Q,"prVr",H,this.tW)}if(Q.useTipDynamics.v){var T=Q.angleDynamics.v,Y=Q.minimumRoundness.v.val/100;
N.scale(1,Y+(1-Y)*Math.round(100-this.hI()*Q.roundnessDynamics.v.jitter.v.val)/100);v+=(-.5+this.hI())*4*Math.PI*(T.jitter.v.val/100);
v+=cn.yz(Q,"angleDynamics",H,this.tW)*2*Math.PI;if(T.bVTy.v==6)v+=Math.atan2(-y.y,y.x)}v+=q.Angl.v.val*(Math.PI/180);
N.rotate(v);if(Q.useScatter.v){var g=(-1+2*this.hI())*Q.scatterDynamics.v.jitter.v.val/100;N.translate(-g*n*y.y,g*n*y.x)}N.translate(w.x,w.y);
var R=this.aj3(N,w,n),h=R.rect.clone();if(V==null){var E=this.WG(Q);O.jZ(R.Vs,Math.round(E.k*255)<<16|Math.round(E.J*255)<<8|Math.round(E.b*255)<<0,4278190080);
if(this.FE._G()&&this.rect.Hw(R.rect)&&c==1)this.fF=R.Vs.slice(0);else{var G=-1,k=2,$=-1,p=2;if(!A.VQ){G=$=0;
k=p=1}for(var X=$;X<p;X++)for(var C=G;C<k;C++){var D=R.rect.clone();D.x+=C*this.rect.m;D.y+=X*this.rect.e;
if(D.QW(this.rect)){h=h.ld(D);O.q.aeH(R.Vs,D,this.fF,this.rect,D,c)}}}}if(V==cn.$0){var o=new ce(R.rect.x+R.rect.m/2,R.rect.y+R.rect.e/2),t=Math.round(o.x-this.zf.x),u=Math.round(o.y-this.zf.y),m=R.rect.clone();
m.offset(-t,-u);var U=m.Fa(this.rect);U.offset(t,u);O.j1(this.fF,this.rect,R.Vs,m);O.q.f_(R.Vs,R.rect,this.fF,this.rect,R.JS,R.rect,c)}if(V==cn.ly||V==cn._H||V==cn.B_){var I=R.rect.Fa(this.rect),x;
if(I.Hw(R.rect))x=R.JS;else{x=O.R(I.O());O.qS(R.JS,R.rect,x,I)}var J=O.R(I.O()*4);O.j1(this.fF,this.rect,J,I);
if(V==cn._H){var r=J.slice(0),Z=O.yb.sF([-1,-1,-1,-1,25,-1,-1,-1,-1]);O.yb.NC(J,r,I.m,I.e,Z,0);O.Bq(r,J)}else if(V==cn.B_){var f=gT.B1("UnsM");
f.Amnt.v.val=15;f.Thsh.v=0;f.Rds.v.val=5;var r=O.R(J.length);gT.kS("UnsM",{buffer:J,rect:I},f,0,0,{buffer:r,rect:I});
O.Bq(r,J)}else{gT.p1(1,O.CU.Q3,J,I)}O.q.f_(J,I,this.fF,this.rect,x,I,c)}this.awn=n;this.zf=o;this.MX++;
return h};cn.prototype.WG=function(w){var n=cn.ayF(this.Ni);if(w.useColorDynamics&&w.useColorDynamics.v){var H=1-this.hI()*w.clVr.v.jitter.v.val/100,y=cn.ayF(this.uu);
n.b=H*n.b+(1-H)*y.b;n.J=H*n.J+(1-H)*y.J;n.k=H*n.k+(1-H)*y.k;var c=(-.5+this.hI())*w.H.v.val/100,Q=(-1+2*this.hI())*w.Strt.v.val/100,q=(-1+2*this.hI())*w.Brgh.v.val/100,S=O.qR(n.b,n.J,n.k);
S.WZ=(S.WZ+c+1)%1;S.ua=S.ua+Q;if(S.ua<0)S.ua=-S.ua;if(S.ua>1)S.ua=1-(S.ua-1);S.X5=S.X5+q;if(S.X5<0)S.X5=-S.X5;
if(S.X5>1)S.X5=1-(S.X5-1);n=O.AT(S.WZ,S.ua,S.X5)}return n};cn.prototype.OR=function(w){return Math.max(0,Math.min(1,w))};
cn.prototype.hI=function(w){if(w==null){w=this.ww++}return cn.hash(w)};cn.ayF=function(w){return{b:(w>>16&255)/255,J:(w>>8&255)/255,k:(w>>0&255)/255}};
cn.hash=function(w){w=w^61^w>>16;w=w+(w<<3);w=w^w>>4;w=w*668265261;w=w^w>>15;return(w&16777215)/16777215};
cn.aiz=new ft;cn.prototype.aj3=function(w,n,H){var y=Math.sqrt(this.As.TP[1].O()),c=y*w.H5(),Q=c<10?1:c<50?1.5:c<200?3:8;
if(c<30)Q=0;var q=cn.aiz,S=q.au3(this.a75),A=this.Vm.Y9;if(A){w=w.clone();w.qH=Math.floor(w.qH);w.fp=Math.floor(w.fp)}var V=ft.awf(w,y),e=q.adG(S,V);
if(e&&ft.aoY(e.Hk,V)>Q)e=null;if(e){e.rect.x=Math.round(e.akO.x+w.qH);e.rect.y=Math.round(e.akO.y+w.fp);
if(A){e.rect.x=Math.round(n.x-e.rect.m/2);e.rect.y=Math.round(n.y-e.rect.e/2)}e._z=Date.now()}else{var d=Math.round(this.k.Brsh.v.Dmtr.v.val),N;
if(A&&d<=3){N={channel:O.R(d*d),rect:new cr(Math.round(n.x-d/2),Math.round(n.y-d/2),d,d)};N.channel.fill(255)}else if(w.iL==1&&w.k==0&&w.Mg==0&&w.Du==1){N={channel:this.As.TP[0],rect:this.As.TP[1].clone()};
N.rect.x=Math.round(w.qH);N.rect.y=Math.round(w.fp)}else{N=P.WJ.ak_(this.As.TP,w)}if(A){for(var l=0;
l<N.channel.length;l++)N.channel[l]=N.channel[l]>127?255:0}if(N==null)N={channel:O.R(0),rect:new cr};
e={Vs:O.R(N.rect.O()*4),JS:N.channel,rect:N.rect,akO:new ce(N.rect.x-w.qH,N.rect.y-w.fp),Hk:V,_z:Date.now()};
O.o2(e.JS,e.Vs,3);if(S)q.a6g(S,e)}return e};cn.adD=function(w,n,H){var y,c,Q,q=w.Brsh.v.Dmtr.v.val,S=w.Brsh.v.classID;
if(S=="computedBrush"){var A=w.Brsh.v.Hrdn.v.val/100;c=q<100?1.4:1;Q=1;y=O.ac7.a8y(q,A,c)}if(S=="sampledBrush"){var V;
for(var l=0;l<n.length;l++)if(n[l].id==w.Brsh.v.sampledData.v)V=n[l];y=V.TP;var e=y[1];c=Math.max(e.m,e.e)/q;
Q=Math.min(e.m,e.e)/Math.max(e.m,e.e)}return{asn:c,apq:Q,TP:y}};cn.F=null;cn.NK=null;cn.zT=function(w,n,H,y,c,Q){var q=cn.F,S=cn.NK;
if(q==null){cn.F=q=document.createElement("canvas");cn.NK=S=q.getContext("2d")}if(Q==null)Q=y;if(q.width!=Q||q.height!=c){q.width=Q;
q.height=c}else S.clearRect(0,0,Q,c);S.fillStyle="#000000";S.font=Math.floor(10*P.V())+"px sans-serif";
var A=w.Brsh.v.Dmtr.v.val,V=""+A,e=w.useBrushSize;if(e&&e.v)V="---";var d=S.measureText(V);S.fillText(V,(y-d.width)/2,c-2);
var N=y,b=c-10*P.V(),z=Math.min(N,b),v=w.Brsh.v.classID;if(v=="computedBrush"){S.translate(N/2,b/2);
S.rotate(-w.Brsh.v.Angl.v.val*Math.PI/180);S.scale(1,.1+.9*w.Brsh.v.Rndn.v.val/100);var T=Math.min(.95*z/2,A/2)+.5,Y=.9*w.Brsh.v.Hrdn.v.val/100,g=S.createRadialGradient(0,0,0,0,0,T);
g.addColorStop(Y,"rgba(0,0,0,1)");g.addColorStop((.5+Y)/1.5,"rgba(0,0,0,.5)");g.addColorStop(1,"rgba(0,0,0,0)");
S.fillStyle=g;S.fillRect(-T,-T,2*T,2*T);S.setTransform(1,0,0,1,0,0)}else if(v=="sampledBrush"){var h,p=0;
for(var l=0;l<n.length;l++)if(n[l].id==w.Brsh.v.sampledData.v)h=n[l];var E=h.TP;O.BX(E);var G=E[0],k=E[1].m,$=E[1].e;
while((k>N||$>b)&&E[p+2]){p+=2;G=E[p];k=E[p+1].m;$=E[p+1].e}if(k*$!=0){var X=O.R(k*$*4);O.o2(G,X,3);
var C=new ImageData(new Uint8ClampedArray(X.buffer),k,$);S.putImageData(C,Math.round((N-k)/2),Math.round((b-$)/2))}}else{}return q.toDataURL()};
cn.uZ=function(w,n,H,y){if(H==0)H=1;var c=w.Brsh.v,Q=c.Dmtr.v.val,q=c.Dmtr.v.val=Math.min(y!=null?Math.round(y*2.6):3e3,Q*H),S=c.Hrdn?c.Hrdn.v.val/100:1,A=y!=null?y:Math.round(q*(1+.55*(1-S)))+4,d;
A=Math.max(15,Math.min(A,3e3));var V=new cr(0,0,A,A),e=new cn(w,n,null,{wi:1},16711712,0,V);c.Dmtr.v.val=Q;
e.moveTo(V.m/2,V.e/2);var N=e.L5(),b=e.fH();if(V.Hw(b))d=N;else{d=O.R(V.O()*4);O.j1(N,b,d,V)}return[d,V,q]};
cn.a6L=function(w,n,H,y){var c=n.m,Q=c>>>1;for(var l=0;l<4;l++){var q=6-l;w[c*(Q-q)+Q-1]=y;w[c*(Q-q)+Q]=H;
w[c*(Q-q)+Q+1]=y;w[c*(Q+q)+Q-1]=y;w[c*(Q+q)+Q]=H;w[c*(Q+q)+Q+1]=y;w[c*(Q-1)+Q-q]=y;w[c*Q+Q-q]=H;w[c*(Q+1)+Q-q]=y;
w[c*(Q-1)+Q+q]=y;w[c*Q+Q+q]=H;w[c*(Q+1)+Q+q]=y}};cn.ja=function(w,n,H,y){var c=cn.uZ(w,n,H),Q=c[0].slice(0),q=c[1],S=c[2],A=q.O(),V=O.R(A);
O.RR(Q,V,3);var e=O.R(A);O.P.anV(V,e,q,P.V()>1.9);if(S<3||O.lS(e,0)||y&&S>12){cn.a6L(e,q,255,0)}var d=[3,5,3,4,8,4,3,5,3];
d=O.yb.sF(d);O.yb.o0(e,V,q.m,q.e,d);O.jZ(Q,4294967295);O.o2(V,Q,3);for(var l=0;l<A;l++)if(e[l]==255){Q[l<<2]=Q[(l<<2)+1]=Q[(l<<2)+2]=0;
Q[(l<<2)+3]=255}return{c1:Q,U2:q,_O:new ce(q.m/2,q.e/2)}};cn.agl=function(w,n,H,y,c){var Q=4278190080|Math.round(c.k*255)<<16|Math.round(c.J*255)<<8|Math.round(c.b*255)<<0;
H=new Uint32Array(H.buffer);var q=Math.floor(w.x),S=Math.floor(w.y),A=Math.floor(n.x),V=Math.floor(n.y),e=Math.abs(A-q),d=Math.abs(V-S),N=q<A?1:-1,b=S<V?1:-1,z=e-d;
while(!0){H[S*y.m+q]=Q;if(q==A&&S==V)break;var v=2*z;if(v>-d){z-=d;q+=N}if(v<e){z+=e;S+=b}}};cn.$0="0";
cn.ly="1";cn._H="2";cn.B_="3";var kn={};kn.Pu=function(w,n,H){if(H==null)H=!0;var y=w.add.TySh,c=new ir(y.EB,n),Q=kn.vY(c,y);
w.Sh.path=Q.path;w.Sh.TP=[Q.fF,Q.U2];O.Qt(w.Sh.TP);w.Sh.gu=Q.U2.clone();if(H){w.rect=Q.U2;w.buffer=Q.fF;
w.U()}return[c,Q]};kn.vY=function(w,n){var H=w.x$(),q=0,V;if(H.x==Infinity||H._G())return{fF:O.R(0),U2:new cr,oo:new cr};
var y=w.x$(),c=kn.Zt(w,n),Q=O.p.w1(c.w);for(var l=0;l<w.tq.length;l++){var S=w.tq[l].Sx;if(S.StrokeFlag&&S._LineWidth)q=Math.max(q,Math.ceil(n.D.H5()*S._LineWidth/2))}Q.i_(q,q);
if(Q._G())return{fF:O.R(0),U2:new cr,oo:new cr};var A=O.Ke(Q.m,Q.e);A.translate(-Q.x,-Q.y);kn.afI(c,A);
if(w.tq.length!=0){var e=j1.QD(n),d=A.getImageData(0,0,Q.m,Q.e);V=new Uint8Array(d.data.buffer);if(e==0)for(var l=0;
l<V.length;l+=4)V[l+3]=V[l+3]>80?255:0;if(e==3)for(var l=0;l<V.length;l+=4)V[l+3]=Math.min(255,V[l+3]*1.5)}else V=O.R(Q.O()*4);
A.resetTransform();A.beginPath();return{fF:V,U2:Q,oo:y,path:c}};kn.Zt=function(w,n){var H=n.D,y=n.EB;
kn.Bp=H.H5();var c=j1.QD(n),Q=Math.max(H.k*H.k,H.Mg*H.Mg)<1e-9?H:null;if(c==3||c==4)Q=null;var q={T:[],w:[]};
kn.azG(w,q,Q,!0);kn.azG(w,q,Q,!1);q=kn.pC(q,n,w);return q};kn.Bp=1;kn.pC=function(w,n,H){if(w==null)return w;
if(H&&H.t9)O.p.D(w.w,H.t9,w.w);if(H&&!O.v$.Rd(n.oa)){var y=j1.fH(n,H);if(!y._G()){if(w.T){w=O.p.I6(w);
var c=Math.min(y.m,y.e)/8;if(c<1)c=1;w=O.p.sn(w,c)}var Q=O.v$.h_(n.oa,y);O.cR.D(Q,w.w,y)}}var q=n.D;
O.p.D(w.w,q,w.w);return w};kn.afI=function(w,n){n.save();n.miterLimit=2;Typr.U.pathToContext({crds:w.w,cmds:w.T},n);
n.restore()};kn.K4=function(w,n,H){var y=ir.azf(H),c=w.EB,Q=c.ResourceDict.FontSet,q=c.ResourceDict.StyleSheetSet[0].StyleSheetData,S=c.EngineDict.StyleRun.RunLengthArray,A=c.EngineDict.StyleRun.RunArray,V=j1.md(c),e=!0,d={},N=0;
for(var l=0;l<A.length;l++){var b=A[l].StyleSheet.StyleSheetData.Font;if(b==null)b=q.Font;for(var z=0;
z<S[l];z++){var v=V.charCodeAt(N+z),T=b+","+(v>128?v:-1);if(d[T]==null){d[T]=1;if(n.WX(Q[b].Name,v)==null)e=!1}}N+=S[l]}return e&&y};
kn.q2=function(w,n,H){var y=!0;for(var c=0;c<w.B.length;c++){var Q=w.B[c],q=Q.add.TySh;if(q!=null&&!kn.K4(q,n,H))y=!1}return y};
kn.aqu=function(w,n,H){for(var y=0;y<w.B.length;y++){var c=w.B[y],Q=c.add.TySh;if(Q!=null&&kn.K4(Q,n,H)){kn.Pu(c,n);
w.U()}}};kn.azG=function(w,n,H,y){var c=new b7;for(var l=0;l<w.AW.length;l++)kn.aoc(w.tq,w.AW[l],n,c,H,y)};
kn.aoc=function(w,n,H,y,c,Q){y.translate(n.Pi.x,n.Pi.y);for(var l=0;l<n.WQ.length;l++){var q={},S=n.WQ[l];
if(!S.ow)break;var A=y.clone();A.translate(S.Pi.x,S.Pi.y);if(c){var V=c.fp+A.fp*c.Du;A.fp=(Math.round(V)-c.fp)/c.Du}for(var e=S.start;
e<S.end;e++)kn.a86(w,n.D5[e],n,q,H,A,Q)}y.translate(-n.Pi.x,-n.Pi.y)};kn.aiG="()<>[]{}\xAB\xBB\u0F3A\u0F3B\u0F3C\u0F3D\u169B\u169C\u2039\u203A\u2045\u2046\u207D\u207E\u208D\u208E\u2208\u2209\u220A\u220B\u220C\u220D\u2215\u223C\u223D\u2243\u2252\u2253\u2254\u2255\u2264\u2265\u2266\u2267\u2268\u2269\u226A\u226B\u226E\u226F\u2270\u2271\u2272\u2273\u2274\u2275\u2276\u2277\u2278\u2279\u227A\u227B\u227C\u227D\u227E\u227F\u2280\u2281\u2282\u2283\u2284\u2285\u2286\u2287\u2288\u2289\u228A\u228B\u228F\u2290\u2291\u2292\u2298\u22A2\u22A3\u22A6\u22A8\u22A9\u22AB\u22B0\u22B1\u22B2\u22B3\u22B4\u22B5\u22B6\u22B7\u22C9\u22CA\u22CB\u22CC\u22CD\u22D0\u22D1\u22D6\u22D7\u22D8\u22D9\u22DA\u22DB\u22DC\u22DD\u22DE\u22DF\u22E0\u22E1\u22E2\u22E3\u22E4\u22E5\u22E6\u22E7\u22E8\u22E9\u22EA\u22EB\u22EC\u22ED\u22F0\u22F1\u22F2\u22F3\u22F4\u22F6\u22F7\u22FA\u22FB\u22FC\u22FD\u22FE\u2308\u2309\u230A\u230B\u2329\u232A\u2768\u2769\u276A\u276B\u276C\u276D\u276E\u276F\u2770\u2771\u2772\u2773\u2774\u2775\u27C3\u27C4\u27C5\u27C6\u27C8\u27C9\u27CB\u27CD\u27D5\u27D6\u27DD\u27DE\u27E2\u27E3\u27E4\u27E5\u27E6\u27E7\u27E8\u27E9\u27EA\u27EB\u27EC\u27ED\u27EE\u27EF\u2983\u2984\u2985\u2986\u2987\u2988\u2989\u298A\u298B\u298C\u298D\u298E\u298F\u2990\u2991\u2992\u2993\u2994\u2995\u2996\u2997\u2998\u29B8\u29C0\u29C1\u29C4\u29C5\u29CF\u29D0\u29D1\u29D2\u29D4\u29D5\u29D8\u29D9\u29DA\u29DB\u29F5\u29F8\u29F9\u29FC\u29FD\u2A2B\u2A2C\u2A2D\u2A2E\u2A34\u2A35\u2A3C\u2A3D\u2A64\u2A65\u2A79\u2A7A\u2A7D\u2A7E\u2A7F\u2A80\u2A81\u2A82\u2A83\u2A84\u2A8B\u2A8C\u2A91\u2A92\u2A93\u2A94\u2A95\u2A96\u2A97\u2A98\u2A99\u2A9A\u2A9B\u2A9C\u2AA1\u2AA2\u2AA6\u2AA7\u2AA8\u2AA9\u2AAA\u2AAB\u2AAC\u2AAD\u2AAF\u2AB0\u2AB3\u2AB4\u2ABB\u2ABC\u2ABD\u2ABE\u2ABF\u2AC0\u2AC1\u2AC2\u2AC3\u2AC4\u2AC5\u2AC6\u2ACD\u2ACE\u2ACF\u2AD0\u2AD1\u2AD2\u2AD3\u2AD4\u2AD5\u2AD6\u2ADE\u2AE3\u2AE4\u2AE5\u2AEC\u2AED\u2AF7\u2AF8\u2AF9\u2AFA\u2E02\u2E03\u2E04\u2E05\u2E09\u2E0A\u2E0C\u2E0D\u2E1C\u2E1D\u2E20\u2E21\u2E22\u2E23\u2E24\u2E25\u2E26\u2E27\u2E28\u2E29\u3008\u3009\u300A\u300B\u300C\u300D\u300E\u300F\u3010\u3011\u3014\u3015\u3016\u3017\u3018\u3019\u301A\u301B\uFE59\uFE5A\uFE5B\uFE5C\uFE5D\uFE5E\uFE64\uFE65\uFF08\uFF09\uFF1C\uFF1E\uFF3B\uFF3D\uFF5B\uFF5D\uFF5F\uFF60\uFF62\uFF63";
kn.a86=function(w,n,H,y,c,Q,q){Q.translate(n.Pi.x,n.Pi.y);for(var S=n.IC;S<=n.Bi;S++){var A=H.dd[S],V=A.U2.m,e=w[H.a11+A.ce],d=e.Sx._FillBackgroundFlag;
if(e.zE=="\n"||q&&!d)continue;var N=e.Sx.FontSize/e.Tn.head.unitsPerEm,b=Q.clone();b.translate(A.Pi.x+A.jp*N,A.Pi.y-A.Rx*N);
var z=new b7;z.scale(N,-N);if(e.UX==1&&kn.aiG.indexOf(e.zE)!=-1)z.concat(new b7(-1,0,0,1,V,0));if(e.Sx.FauxItalic)z.concat(new b7(1,0,-Math.tan(.18),1,0,0));
z.translate(0,e.jh);z.scale(e.scale.x,e.scale.y);if(e.Sx.BaselineShift!=null)z.translate(0,-e.Sx.BaselineShift);
if(A.db!=0){z.rotate(-A.db)}z.concat(b);var v=(e.Sx._LineWidth?e.Sx._LineWidth:1)*kn.Bp;if(q){c.T.push(kn.WG(e.Sx._FillBackgroundColor));
var T=1.005*A.U2.e/N,Y=new cr(-A.jp,-T*.27,1.03*A.U2.m/(N*e.scale.x),T);if(e.Sx.StrokeFlag)Y.i_(v/N,v/N);
O.p.concat(c,O.p.u3(Y),z);c.T.push("X");continue}if(e.Sx.FillFlag)c.T.push(kn.WG(e.Sx.FillColor));if(e.Sx.StrokeFlag)c.T.push("O-"+kn.WG(e.Sx.StrokeColor)+"-"+v);
if(A.path.T.length!=0&&e.zE!="\t"){if(e.Sx.FauxBold){var g=e.Sx.FontSize/2048*27*e.scale.x;z.qH+=g;O.p.concat(c,A.path,z);
z.qH-=g+g;O.p.concat(c,A.path,z)}else O.p.concat(c,A.path,z)}if(e.zE!="\n"){if(e.Sx.Underline){if(y.a$==null)y.a$=e.Tn.post.underlineThickness;
if(y.apF==null)y.apF=e.Tn.post.underlinePosition;var R=0,h=y.apF-y.a$/2,E=A.JV*1.05,G=-y.a$;O.p.concat(c,{T:["M","L","L","L","Z"],w:[R,h,R+E,h,R+E,h+G,R,h+G]},z)}if(e.Sx.Strikethrough){var k=e.Tn["OS/2"].yStrikeoutSize,$=e.Tn["OS/2"].yStrikeoutPosition,R=0,h=$+k/2,E=A.JV*1.05,G=-k;
O.p.concat(c,{T:["M","L","L","L","Z"],w:[R,h,R+E,h,R+E,h+G,R,h+G]},z)}}if(e.Sx.FillFlag)c.T.push("X");
if(e.Sx.StrokeFlag)c.T.push("OX")}Q.translate(-n.Pi.x,-n.Pi.y)};kn.WG=function(w){var n=j1.cH(w),H=(Math.round(n.b)<<16)+(Math.round(n.J)<<8)+Math.round(n.k);
return"#"+O.w9(H)};function ir(w,n){var H=j1.O_(w),y,c,Q=j1.fL(w),q=w._LineOrientation==2?new b7:null,e,N;
if(w.Curve)c=ir.je(w.Curve);if(H!=0){y=new cr(Q[0],Q[1],Q[2],Q[3]);if(q){var S=y.m;y.m=y.e;y.e=S;q.translate(0,-Q[2])}if(H==2){y.m=c[5]-c[4];
y.e=9999}}this.AW=[];this.tq=[];this.Ph=H;this.t9=q;var A=this.aiI=j1.md(w),V=-1,d=-1;for(var l=0;l<A.length;
l++){var b=e,z=j1.a8X(w,l);if(z!=V){V=z;b=e=j1.ajI(w,z)}var v=N,z=j1.a2Z(w,l);if(z!=d){d=z;v=N=j1.ala(w,z)}var T={zE:A.charAt(l),Sx:b,Tn:null,cT:-1,yl:j1.aph(w,l),jh:0,scale:new ce(0,0),NF:0,lineHeight:0,UX:0},Y=w.ResourceDict.FontSet[b.Font].Name,g=T.Tn=n.WX(Y,A.charCodeAt(l));
T.scale.x=b.HorizontalScale==null?1:b.HorizontalScale;T.scale.y=b.VerticalScale==null?1:b.VerticalScale;
var R=g["OS/2"],h=g.hhea;if(b.FontCaps==1&&T.zE!=T.zE.toUpperCase()){var E=R.sxHeight?R.sxHeight/R.sTypoAscender:.76;
T.scale.x*=E;T.scale.y*=E}var G=1/g.head.unitsPerEm*b.FontSize;if(b.FontBaseline==1){var E=w.ResourceDict.SuperscriptSize;
T.scale.x*=E;T.scale.y*=E;T.jh-=w.ResourceDict.SuperscriptPosition*b.FontSize}if(b.FontBaseline==2){var E=w.ResourceDict.SubscriptSize;
T.scale.x*=E;T.scale.y*=E;T.jh+=w.ResourceDict.SubscriptPosition*b.FontSize}T.NF=ir.NF(g)*b.FontSize;
var k=v.AutoLeading;T.lineHeight=b.FontSize*(k==null?1.2:k);if(b.AutoLeading==!1)T.lineHeight=b.Leading;
if(T.lineHeight==0)T.lineHeight=.01;this.tq.push(T)}var $=this.AW,p=[0];for(var l=0;l<w.EngineDict.ParagraphRun.RunLengthArray.length;
l++){var X=new ir.HS(w,n,this.tq,l,y,p,H==1?c:null);$.push(X)}if(q){if(H==0)q.translate(0,$[0].D5[0].NF/2);
q.rotate(-Math.PI/2)}if(H==2){var C=w.Curve.Points,D=c[0],o=c[1],t=c[2],u=c[3],m=c[4],U=c[5];for(var l=0;
l<$.length;l++)for(var I=0;I<$[l].WQ.length;I++)if(!(l==0&&I==0))$[l].WQ[I].ow=!1;var X=$[0],x=X.WQ[0];
X.Pi.HV(0,0);x.Pi.HV(0,0);for(var I=x.start;I<x.end;I++){var J=X.D5[I],r=J.Pi.x;J.Pi.x=0;for(var Z=J.IC;
Z<=J.Bi;Z++){var f=X.dd[Z],F=f.U2.m/2;f.Pi.x+=r;var _=ir.a9k(D,(m+f.Pi.x+F)%u);f.Pi.x=_[0]-F*_[2];f.Pi.y=_[1]-F*_[3];
f.db=Math.atan2(_[3],_[2])}}}}ir.NF=function(w){var n=w._hh;if(n==null){var H=Typr.U,y=H.codeToGlyph(w,104),c=O.p.hH(Typr.U.glyphToPath(w,y).crds).e;
n=w._hh=c*(1/w.head.unitsPerEm)}return n};ir.prototype.a3N=function(){return!this.a8l(0)};ir.prototype.a6$=function(){return this.a8l(1)};
ir.prototype.a8l=function(w){var n=this.AW,H=!0,y=0;for(var l=0;l<n.length;l++){var c=n[l].WQ,Q=c.length;
y+=Q;for(var q=0;q<Q;q++)H&=c[q].ow}return[H,y][w]};ir.je=function(w,n,H){if(n==null)n=.25;var y=w.Points,c=y.length,Q=c>>>3,q=w.TextOnPathTRange,S=w.Reversed,N=0,b=0;
if(S){var A=y.slice(0);for(var l=0;l<c;l+=2){A[l]=y[c-2-l];A[l+1]=y[c-1-l]}y=A;q=[Q-q[1]%Q,Q-q[0]%Q]}var V=[],e=[0],d=[0];
for(var l=0;l<c;l+=8){var z=y[l+6]-y[l+0],v=y[l+7]-y[l+1],T=Math.round(Math.sqrt(z*z+v*v)/n),Y=H&&l==c-8?T+1:T;
for(var g=0;g<Y;g++){var R=g/T,h=1-R,E=h*h*h*y[l+0]+3*h*h*R*y[l+2]+3*h*R*R*y[l+4]+R*R*R*y[l+6],G=h*h*h*y[l+1]+3*h*h*R*y[l+3]+3*h*R*R*y[l+5]+R*R*R*y[l+7];
V.push(E,G);if(l+g!=0){var z=E-N,v=G-b;d.push(d[d.length-1]+Math.sqrt(z*z+v*v));e.push((l>>>3)+R)}N=E;
b=G}}var n=d.length,k=d[n-1],$=ir.MI(q[0]%Q,e),p=ir.MI(q[1]%Q,e),X=d[$%n],C=d[p%n];if(X>=C)C+=k;return[V,e,d,k,X,C]};
ir.MI=function(w,n){var l=0;while(n[l]<w)l++;return l};ir.a9k=function(w,n){var H=0,l=0,y,c,Q;while(H<n){y=w[l+2]-w[l];
c=w[l+3]-w[l+1];Q=Math.sqrt(y*y+c*c);H+=Q;l+=2}return[w[l],w[l+1],y/Q,c/Q]};ir.prototype.az5=function(w){return this.tq[w]};
ir.prototype.a5z=function(w){for(var n=0;n<this.AW.length;n++){var H=this.AW[n];for(var y=0;y<H.WQ.length;
y++){var c=H.WQ[y],Q=H.D5[c.start].start,q=H.D5[c.end-1].end;if(Q<w&&w<q)return[Q,q-1]}}return[0,1]};
ir.prototype.amu=function(w,n){var H=-1,y=this.AW;if(this.Ph==2){var c=1e9,Q=0,q=y[0],S=q.WQ[0];for(var A=S.start;
A<S.end;A++){var V=q.D5[A];for(var e=V.IC;e<=V.Bi;e++){var d=q.dd[e],N=d.U2.m,b=w.x-d.Pi.x,z=w.y-d.Pi.y,v=b*b+z*z;
if(v<c){c=v;Q=d.ce}}}if(Q!=0&&this.aiI.codePointAt(Q-1)>65535)Q--;return Q}for(var T=0;T<y.length;T++){var q=y[T];
for(var Y=0;Y<q.WQ.length;Y++){H++;var S=q.WQ[Y],g=q.WQ[Y+1];if(g==null&&T<y.length-1)g=y[T+1].WQ[0];
if(n!=null){if(H!=n)continue}else{if(g!=null&&q.Pi.y+S.Pi.y<w.y)continue}for(var A=S.start;A<S.end;A++){var V=q.D5[A];
for(var e=V.IC;e<=V.Bi;e++){var d=q.dd[e],N=d.U2.m,R=q.Pi.x+S.Pi.x+V.Pi.x,h=R+d.Pi.x,E=R+(e<V.Bi?q.dd[e+1].Pi.x:d.Pi.x+N);
if(w.x<=E||A+1==S.end&&e==V.Bi){var G=q.a11+d.ce,k=this.tq[G],$=k.UX&1;if(k.zE!="\n"&&($==0&&w.x>h+N/2||$==1&&w.x<h+N/2))G+=this.aiI.codePointAt(G)>65535?2:1;
return G}}}}}};ir.prototype.aT=function(w){var n={U2:new cr,lF:0},H=0;for(var y=0;y<this.AW.length;y++){var c=this.AW[y];
for(var Q=0;Q<c.WQ.length;Q++){var q=c.WQ[Q];n.lF=H;H++;for(var S=q.start;S<q.end;S++){var A=c.D5[S];
for(var V=A.start;V<A.end;V++){if(V==w){var e=this.tq[V],d=e.cT,N=c.dd[d].ce,b=1;while(c.dd[d]!=null&&c.dd[d].ce==N){var z=c.dd[d],v=c.Pi.x+q.Pi.x+A.Pi.x+z.Pi.x,T=c.Pi.y+q.Pi.y+A.Pi.y+z.Pi.y;
n.U2=n.U2.ld(new cr(v,T-e.lineHeight,z.U2.m,e.lineHeight));n.db=z.db;d+=b}return n}}}}}};ir.prototype.x$=function(){var w=Infinity,n=Infinity,H=-Infinity,y=-Infinity;
for(var l=0;l<this.AW.length;l++){var c=this.AW[l];for(var Q=0;Q<c.WQ.length;Q++){var q=c.WQ[Q];if(!q.ow)break;
for(var S=q.start;S<q.end;S++){var A=c.D5[S];for(var V=A.IC;V<=A.Bi;V++){var e=c.dd[V],d=e.U2,N=c.Pi.x+q.Pi.x+A.Pi.x+e.Pi.x,b=c.Pi.y+q.Pi.y+A.Pi.y+e.Pi.y;
w=Math.min(w,N+d.x);n=Math.min(n,b+d.y);H=Math.max(H,N+d.x+d.m);y=Math.max(y,b+d.y+d.e)}}}}return new cr(w,n,H-w,y-n)};
ir.Nb=function(w){return 19968<=w&&w<=40959||12288<=w&&w<=12543};ir.akQ=function(w,n,H,y,c,Q,q){var S=[Q],A=0;
for(var l=Q;l<q;l++){if(H[l]==null)console.log(l,Q,q,H);var V=H[l].zE,e=V.charCodeAt(0);if(e==32||e==9){S.push(A,l,1,l+1);
A=0}else if(e==3851){S.push(A+1,l+1);A=0}else if(ir.Nb(e)){S.push(A,l);A=1}else if(l!=Q&&H[l].UX!=H[l-1].UX){S.push(A,l);
A=1}else A++}S.push(A);var d=[];for(var l=0;l<S.length;l+=2){var N=S[l],b=S[l+1];if(b==0)continue;d.push(new ir.auq(w,n,H,y,c,N,b))}return d};
ir.agf=function(w,n,H,y,c,Q,q){var S=[0,n?n.m:1e9],A=[];if(y){var V=w[Q].NF,e=c+(c==0?V:w[Q].lineHeight),d=e-V*.9,N=O.p.Mj(y[0],d),b=N.length,z=O.p.Mj(y[0],e),v=z.length;
if(b!=0&&v!=0){var T=0,Y=0,g=[];while(T<b&&Y<v){var R=Math.max(N[T],z[Y]),h=N[T+1],E=z[Y+1],G=Math.min(h,E);
if(R<G)g.push(R,G);if(h<E)T+=2;else Y+=2}if(g.length!=0)S=g}}for(var k=0;k<S.length;k+=2){var $=0,p=Q,X=n?S[k+1]-S[k]-H.StartIndent-H.EndIndent-(Q==0?H.FirstLineIndent:0):Infinity;
while(Q!=w.length){var C=w[Q],D=$==0||(C.$h||C.PD)||$+C.U2.m<X;if(!D)break;$+=C.U2.m;Q++}A.push(Q-p)}q[0]=A;
q[1]=S;q[2]=Q};ir.a7d=function(w,n){var H=w.length,y=new Uint32Array(H),c=new Uint8Array(H),Q=0;for(var l=0;
l<H;l++){c[l]=0;var q=w.charCodeAt(l);y[l]=q;if(q>Q)Q=q}if(Q>1424)c=ir.acy(y,n);return c};ir.an9=function(w){return w=="\xDF"?w:w.toUpperCase()};
ir.HS=function(w,n,H,y,c,Q,q){this.D5=[];this.WQ=[];this.Pi=new ce(0,0);this.dd=null;this.D5=null;this.Sx=j1.ala(w,y);
var S=this.Sx,d=0,z="",R=0,h=1,f=0;if(y!=0){var A=S.SpaceBefore;if(A!=null)Q[0]+=A}var V=w.EngineDict.ParagraphRun.RunLengthArray,e=V[y];
for(var l=0;l<y;l++)d+=V[l];var N=S._Direction?S._Direction:0;this.a11=d;var b=j1.md(w).slice(d,d+e);
for(var v=0;v<b.length;v++){var T=b.charAt(v);z+=H[d+v].Sx.FontCaps==0?T:ir.an9(T)}b=z;var Y=ir.a7d(b,N),g=[],E=Y[l]&1,G=H[d].Tn;
H[d].UX=Y[0];for(var l=1;l<b.length;l++){var T=H[d+l],k=Y[l];T.UX=k;if(k!=E||T.Tn!=G){g.push(R,h);R=l;
h=1;E=k;G=T.Tn}else h++}g.push(R,h);var $=this.dd=[];for(var l=0;l<g.length;l+=2){var p=g[l],X=g[l+1],C=(H[d+p].UX&1)==0,D=b.slice(p,p+X),o=Typr.U.shapeHB(H[d+p].Tn,D,C),t=[],U=0;
for(var v=0;v<o.length;v++){var u=o[v];t.push({J:u.g,ce:u.cl,JV:u.ax,m6:u.ay,jp:u.dx,Rx:u.dy})}o=t;var m=o.slice(0);
if(!C)m.reverse();for(var v=0;v<D.length;v++){while(U+1<m.length&&m[U+1].ce<=v){U++}while(U>0&&m[U-1].ce==v)U--;
H[d+p+v].cT=$.length+(C?U:m.length-U-1)}for(var v=0;v<o.length;v++){$.push(o[v]);o[v].ce+=p;var T=H[d+o[v].ce];
if(T.yl!=-1&&T.yl<T.Tn.maxp.numGlyphs){o[v].J=T.yl;var I=T.Tn.hmtx;if(I){var x=Object.keys(I)[0];o[v].JV=I[x][T.yl]}}if(T.zE=="\n")o[v].JV=0;
if(T.zE=="\t")o[v].JV=T.Tn.head.unitsPerEm*36/T.Sx.FontSize}}var J=j1.lk(S),r=this.D5=ir.akQ(w,n,H,d,$,d,d+e),Z=this.WQ,F=-1,z=[null,null,0];
while(f<r.length){ir.agf(r,c,S,q,Q[0],f,z);F++;var _={start:f,end:0,U2:new cr,Pi:new ce(0,0),ow:!0},df=0,bM=0;
Z.push(_);_.end=z[2];if(_.start==_.end)throw"e";var K=_.end==r.length;function B(m,p,eU){var gK=eU-p>>>1;
for(var l=0;l<gK;l++){var bs=m[p+l];m[p+l]=m[eU-1-l];m[eU-1-l]=bs}}for(var ij=1;ij<5;ij++){var W=-1;
for(var l=_.start;l<_.end;l++){var k=H[r[l].start].UX;if(W==-1&&k>=ij)W=l;else if(W!=-1&&k<ij){B(r,W,l);
W=-1}}var L=_.end;if(N==0&&r[L-1].$h)L--;if(W!=-1)B(r,W,L)}var i=z[0],e3=z[1],W=f,eE=f;for(var ec=0;
ec<e3.length;ec+=2){var gw=c?e3[ec+1]-e3[ec]-S.StartIndent-S.EndIndent-(f==0?S.FirstLineIndent:0):Infinity,bl=0;
W=eE;eE+=i[ec>>>1];var cD=this.a40(W,eE,r,N,c!=null);if(c){if(J==1||K&&J==4)bl=cD[1]+(gw-cD[0]);if(J==2||K&&J==5)bl=cD[1]+(gw-cD[0])/2;
if(eE-W==1&&r[W].U2.m>gw)bl=0;if(F==0)bl+=S.FirstLineIndent;bl+=S.StartIndent}else{if(J==0)bl=S.StartIndent+S.FirstLineIndent;
if(J==1)bl=-cD[0]-S.EndIndent;if(J==2)bl=-cD[0]/2}bl+=e3[ec];if(c&&J>2&&(J==6||!K))this.arw(W,eE,r,gw,N,bl);
else{var a$=bl;for(var l=W;l<eE;l++){var hJ=r[l],ei=hJ.U2.m;hJ.Pi.x=a$;if(hJ.z9=="\t")ei=Math.ceil((a$+4)/36)*36-a$;
a$+=ei}}}f=_.end;for(var l=_.start;l<_.end;l++){var ib=r[l].U2.clone();ib.XX(r[l].Pi);_.U2=_.U2.ld(ib);
df=Math.max(df,r[l].NF);bM=Math.max(bM,r[l].lineHeight)}_.Pi.y=F==0?0:Z[F-1].Pi.y+bM;if(F==0){if(y==0&&c)Q[0]+=df;
if(y!=0)Q[0]+=bM;this.Pi.y=Q[0]}else Q[0]+=bM;if(c)_.ow=this.Pi.y+_.Pi.y<c.y+c.e||y==0&&F==0}var fI=S.SpaceAfter;
if(fI!=null)Q[0]+=fI};ir.HS.prototype.a40=function(w,n,H,y,c){var Q=0,q=0;for(var l=w;l<n;l++)Q+=H[l].U2.m;
if(c){if(y==0)for(var l=n-1;l>=w;l--)if(H[l].$h||H[l].PD)Q-=H[l].U2.m;else break;if(y==1)for(var l=w;
l<n;l++)if(H[l].$h||H[l].PD){var S=H[l].U2.m;Q-=S;q-=S}else break}return[Q,q]};ir.HS.prototype.arw=function(w,n,H,y,c,Q){var q=0,S=0,A=0,V=0;
for(var l=w;l<n;l++)if(H[l].$h)A++;else{q+=H[l].U2.m;S++}if(c==0)for(var l=n-1;l>=w;l--)if(H[l].$h||H[l].PD){if(H[l].$h){A--}}else break;
if(c==1)for(var l=w;l<n;l++)if(H[l].$h||H[l].PD){if(H[l].$h){A--;V++}}else break;if(S<=1||A==0){if(S==1)H[w].Pi.x=Q;
return}var e=(y-q)/A,d=-V*e;for(var l=w;l<n;l++){if(H[l].$h)this.dd[H[l].IC].U2.m=H[l].U2.m=e;H[l].Pi.x=Q+d;
d+=H[l].U2.m}};ir.auq=function(w,n,H,y,c,Q,q){this.z9="";for(var l=0;l<q;l++)this.z9+=H[Q+l].zE;this.$h=q==1&&(H[Q].zE==" "||H[Q].zE=="\t");
this.PD=q==1&&H[Q].zE=="\n";this.start=Q;this.end=Q+q;this.U2=new cr;this.Pi=new ce(0,0);this.NF=0;this.lineHeight=0;
var S=0,A=0;if(q==0){this.lineHeight=H[Q].lineHeight;this.NF=H[Q].NF;this.U2=new cr(0,-H[Q].lineHeight,0,H[Q].lineHeight)}var V=H[Q].cT,e=H[Q+q-1].cT;
if(e<V){var d=V;V=e;e=d}while(e+1<c.length&&c[e].ce==c[e+1].ce){e++}this.IC=V;this.Bi=e;for(var N=V;
N<=e;N++){var b=c[N],z=H[y+b.ce],v=w._LineOrientation==2&&(z.Sx.BaselineDirection!=2||ir.Nb(z.zE.charCodeAt(0))),T=Typr.U.glyphToPath(z.Tn,b.J),E=0;
b.path={T:T.cmds,w:T.crds};var Y=z.Sx.FontSize,g=1/z.Tn.head.unitsPerEm*Y;if(!z.Sx.AutoKerning)S+=z.Sx.Kerning*2*g*z.scale.x;
b.Pi=new ce(S,0);b.db=0;if(v&&b.path.w.length>0){b.db=-Math.PI/2;b.Pi.x+=Y*.83;b.Pi.y=-Y*.3+b.JV*g/2;
b.JV=Y/g}var R=b.JV*g*z.scale.x;b.U2=new cr(0,-z.lineHeight,R,z.lineHeight);var h=b.U2.clone();h.XX(b.Pi);
if(z.Sx.Tracking!=null)E=z.Sx.Tracking*.001*Y;if(z.Sx.FauxBold==!0)E+=.027*Y;S+=R+E;if(q==1&&z.zE==" ")h.m+=2*E;
else if(q==1&&z.zE!=null&&ir.Nb(z.zE.charCodeAt(0)))h.m+=E;this.U2=this.U2.ld(h);this.NF=Math.max(this.NF,z.NF);
this.lineHeight=Math.max(this.lineHeight,z.lineHeight)}};ir.Ms=0;ir.azf=function(w){if(ir.Ms==2)return!0;
if(ir.Ms==1)return!1;ir.Ms=1;function n(){fetch("code/ext/fribidi.wasm").then(function(H){return H.arrayBuffer()}).then(function(H){return WebAssembly.instantiate(H)}).then(function(H){var y=H.instance.exports,c=y.memory,Q=16,q=256,S=1,A=Q|q,V=Q|q|S;
ir.acy=function(d,N){var b=d.length,z=b*4+4+b*4+b*4+b;cb.mG(y,z+b+1e7);var v=new Uint8Array(c.buffer),T=new Uint32Array(c.buffer),Y=y.calloc(z,1),R=Y+b*4,h=R+4,E=h+b*4,G=E+b*4;
T.set(d,Y>>>2);T[R>>>2]=N==0?A:V;y.fribidi_get_bidi_types(Y,b,h);y.fribidi_get_bracket_types(Y,b,h,E);
y.fribidi_get_par_embedding_levels_ex(h,E,b,R,G);var k=v.slice(G,G+b);y.free(Y);return k};ir.Ms=2;var e=new aL(M.E.L,!0);
e.data={d:M.c.Yj,fB:"add",PY:h6.Ax,JT:null};w.S(e)})}Typr.U.initHB("code/ext/hb.wasm",n);return!1};function j1(){}j1.L0=function(w){return JSON.parse(JSON.stringify(w))};
j1.Yb=function(w,n){for(var H in n)w[H]=n[H]};j1.d2=function(w,n,H,y){var c=j1.arb();if(H)j1.Xe(c,0,0,H);
var Q=new b7;if(y!=null)Q.rotate(y);Q.translate(Math.round(w),Math.round(n));var q={D:Q,EB:c};q.BP=j1.ayT();
q.oa=O.v$.R();q.oo=new cr;return q};j1.atW=function(w){var n=["CharacterDirection",0];for(var l=0;l<n.length;
l+=2){if(w[n[l]]!=null&&w[n[l]]!=n[l+1]){throw"e";console.log(n[l],w[n[l]])}}if(w instanceof Array)for(var l=0;
l<w.length;l++)j1.atW(w[l]);else if(w instanceof Object)for(var H in w)j1.atW(w[H])};j1.lk=function(w,n){if(n==null)n=w.Justification;
var H=w._Direction?w._Direction:0;if(H==1){if(n==0||n==3)n++;else if(n==1||n==4)n--}return n};j1.h2=function(w){if(w.add==null)return;
var n=w.EB,H=n.Curve,y=w.add.vmsk,c=y.i,Q=O.p.$n(c,!0).w,q=w.D.clone();q.G$();O.p.D(Q,q,Q);var S=Q.slice(0,8);
for(var A=8;A<Q.length;A+=6)S.push(Q[A-2],Q[A-1],Q[A],Q[A+1],Q[A+2],Q[A+3],Q[A+4],Q[A+5]);H.Points=S;
H.TextOnPathTRange=y.Ug.slice(0);H.Reversed=y.XR;if(j1.O_(n)==1){var H=ir.je(n.Curve),V=O.p.hH(H[0]);
j1.wr(n,[0,0,V.m,V.e].map(Math.round));for(var l=0;l<S.length;l+=2){S[l]-=V.x;S[l+1]-=V.y}var e=new b7(1,0,0,1,V.x,V.y);
e.concat(w.D);w.D=e}};j1.un=function(w){if(w.add==null)return;var n=w.add.vmsk,H=w.EB.Curve,y=H.Points,c={T:["M"],w:[y[0],y[1]]};
for(var l=0;l<y.length;l+=8){c.T.push("C");c.w.push(y[l+2],y[l+3],y[l+4],y[l+5],y[l+6],y[l+7])}O.p.D(c.w,w.D,c.w);
var Q=O.p.KL(c,!0);n.i=Q;n.XR=H.Reversed;n.Ug=H.TextOnPathTRange.slice(0);w.add.vogk=a.cv(Q)};j1.cH=function(w){var n={b:0,J:0,k:0};
if(w){var H=w.Values;if(w.Type==1)n={b:H[1]*255,J:H[2]*255,k:H[3]*255};else if(w.Type==2){var y={classID:"CMYC",Cyn:{t:"doub",v:H[1]*100},Mgnt:{t:"doub",v:H[2]*100},Ylw:{t:"doub",v:H[3]*100},Blck:{t:"doub",v:H[4]*100}};
n=O.M.cH(y)}else console.log("Unknown color type")}return n};j1.aff=function(w){for(var l=0;l<w.length;
l++){var n=w[l].StyleSheet.StyleSheetData,H=n.FillColor;if(H&&H.Type==2){var y=j1.cH(H);H.Type=1;H.Values=[1,y.b/255,y.J/255,y.k/255]}}};
j1.fH=function(w,n){var H;if(j1.O_(w.EB)==1){var y=j1.fL(w.EB);H=new cr(0,0,y[2]-y[0],y[3]-y[1])}else{H=n.x$();
if(n.t9){var c=n.t9.clone(),Q=O.p.u3(H);O.p.D(Q.w,c,Q.w);H=O.p.hH(Q.w)}}return H};j1.dO=function(w){var n=w[0];
for(var l=0;l<w.length;l++)n=j1.ahZ(n,w[l]);return n};j1.ahZ=function(w,n){var H={};for(var y in w)if(JSON.stringify(w[y])==JSON.stringify(n[y]))H[y]=w[y];
return H};j1.Ho=function(w,n){var H=w.II,y=-1;for(var l=0;l<H.length;l++)if(H[l].Name==n)y=l;if(y==-1){y=H.length;
H.push({FontType:1,Name:n,Script:0,Synthetic:0})}w.tq.Font=y};j1.md=function(w){return w.EngineDict.Editor.Text.replace(/\r/g,"\n").replace(/\u0003/g,"\n")};
j1.YI=function(w,n){w.EngineDict.Editor.Text=n.replace(/\n/g,"\r")};j1.O_=function(w){return w.Curve&&w.Curve.TextOnPathTRange[0]>=0?2:w.EngineDict.Rendered.Shapes.Children[0].ShapeType};
j1.mn=function(w,n){var H=w.EngineDict.Rendered.Shapes.Children[0];H.ShapeType=n;var y=H.Cookie.Photoshop;
y.ShapeType=n;y.Base.ShapeType=n;if(n==0){delete y.BoxBounds;y.PointBase=[0,0]}if(n==1){delete y.PointBase;
y.BoxBounds=[0,0,1,1]}};j1.fL=function(w){return w.EngineDict.Rendered.Shapes.Children[0].Cookie.Photoshop.BoxBounds};
j1.wr=function(w,n){w.EngineDict.Rendered.Shapes.Children[0].Cookie.Photoshop.BoxBounds=n};j1.aph=function(w,n){var H=w.EngineDict.AlternateGlyphRun;
if(H==null)return-1;var y=j1.CB(H.RunLengthArray,n).VB;if(H.RunArray[y]==null)return-1;var c=H.RunArray[y].Glyph;
return c==null?-1:c};j1.a3v=function(w,n,H){var y=w.EngineDict.AlternateGlyphRun;if(y==null){y=w.EngineDict.AlternateGlyphRun=j1.aaK();
y.RunArray.push({});y.RunLengthArray.push(j1.md(w).length)}var c=j1.CB(y.RunLengthArray,n),Q=c.VB,q=n-c.V4,S=y.RunArray[Q],A=JSON.stringify(S),V=y.RunLengthArray[Q];
if(q!=0){y.RunArray.splice(Q,0,JSON.parse(A));y.RunLengthArray.splice(Q,0,q);y.RunLengthArray[Q+1]-=q;
Q++;V-=q;q=0}if(V!=1){y.RunArray.splice(Q+1,0,JSON.parse(A));y.RunLengthArray.splice(Q+1,0,V-1);y.RunLengthArray[Q]=1;
V=1}S.Glyph=H};j1.a8X=function(w,n){var H=w.EngineDict.StyleRun.RunLengthArray;return j1.CB(H,n).VB};
j1.ajI=function(w,n){var H=w.ResourceDict.StyleSheetSet[0].StyleSheetData,y={};for(var c in H)y[c]=H[c];
var Q=w.EngineDict.StyleRun.RunArray[n].StyleSheet.StyleSheetData;j1.Yb(y,Q);return y};j1.a2Z=function(w,n){var H=w.EngineDict.ParagraphRun.RunLengthArray;
return j1.CB(H,n).VB};j1.ala=function(w,n){var H=w.ResourceDict.ParagraphSheetSet[0].Properties,y={};
for(var c in H)y[c]=H[c];var Q=w.EngineDict.ParagraphRun.RunArray[n].ParagraphSheet.Properties;j1.Yb(y,Q);
var q=["StartIndent","EndIndent","FirstLineIndent"];for(var l=0;l<3;l++)if(y[q[l]]==null)y[q[l]]=0;return y};
j1.Uq=function(w,n,H){if(H=="")return;var y=j1.md(w);j1.YI(w,y.substring(0,n)+H+y.substring(n,y.length));
var c=w.EngineDict.StyleRun,Q=c.RunLengthArray,q=j1.CB(Q,n-1);Q[q.VB]+=H.length;var S=w.EngineDict.AlternateGlyphRun;
if(S){var Q=S.RunLengthArray,q=j1.CB(Q,n-1);Q[q.VB]+=H.length}var A=w.EngineDict.ParagraphRun,Q=A.RunLengthArray,V=j1.CB(Q,n),e=H.split("\n");
if(e.length==1){Q[V.VB]+=H.length;return}Q.splice(V.VB+1,0,Q[V.VB]-(n-V.V4));A.RunArray.splice(V.VB+1,0,j1.L0(A.RunArray[V.VB]));
Q[V.VB]-=Q[V.VB+1];Q[V.VB]+=e[0].length+1;for(var l=1;l<e.length-1;l++){A.RunArray.splice(V.VB+l,0,j1.L0(A.RunArray[V.VB+l-1]));
A.RunLengthArray.splice(V.VB+l,0,e[l].length+1)}Q[V.VB+e.length-1]+=e[e.length-1].length};j1.J9=function(w,n,H){var y=j1.md(w);
j1.YI(w,y.substring(0,n)+y.substring(H,y.length));j1.g$(w.EngineDict.ParagraphRun,n,H,!0);j1.g$(w.EngineDict.StyleRun,n,H,!1);
var c=w.EngineDict.AlternateGlyphRun;if(c)j1.g$(c,n,H,!1)};j1.g$=function(w,n,H,y){var c=w.RunLengthArray,Q=j1.CB(c,n),q=j1.CB(c,H),S=[];
for(var l=0;l<c.length;l++)for(var A=0;A<c[l];A++)S.push(l);S.splice(n,H-n);var V=[];for(var l=0;l<c.length;
l++)V.push(0);for(var l=0;l<S.length;l++)V[S[l]]++;for(var l=0;l<c.length;l++){if(V[l]==0){V.splice(l,1);
c.splice(l,1);w.RunArray.splice(l,1);l--}else if(V[l]<c[l])c[l]=V[l]}if(y&&Q.VB!=q.VB&&Q.V4!=n){c[Q.VB]+=c[Q.VB+1];
c.splice(Q.VB+1,1);w.RunArray.splice(Q.VB+1,1)}};j1.Xe=function(w,n,H,y){var c=w.EngineDict.Editor.Text.length;
if(H==c-2)H++;if(y.tq.Font!=null)w.ResourceDict.FontSet=y.II.slice(0);if(n<=H)j1.awH(w.EngineDict.StyleRun,y.tq,n,H,!0);
j1.awH(w.EngineDict.ParagraphRun,y.AW,n,H,!1)};j1.ni=function(w,n,H){var y={II:w.ResourceDict.FontSet.slice(0),tq:[],AW:[]},c=w.EngineDict.StyleRun.RunLengthArray,Q=j1.CB(c,n).VB,q=j1.CB(c,H).VB;
for(var l=Q;l<=q;l++){var S=j1.L0(w.ResourceDict.StyleSheetSet[0].StyleSheetData),A=w.EngineDict.StyleRun.RunArray;
if(A.length==0)continue;var V=A[l].StyleSheet.StyleSheetData;j1.Yb(S,V);y.tq.push(S)}var e=w.EngineDict.ParagraphRun.RunLengthArray,d=j1.CB(e,n).VB,N=j1.CB(e,H).VB;
for(var l=d;l<=N;l++){var b=w.EngineDict.ParagraphRun.RunArray;if(b.length==0)continue;y.AW.push(j1.L0(b[l].ParagraphSheet.Properties))}y.tq=y.tq.length==0?{}:j1.dO(y.tq);
y.AW=y.AW.length==0?{}:j1.dO(y.AW);return y};j1.awH=function(w,n,H,y,c){var Q=w.RunLengthArray;if(c){var q=j1.CB(Q,H);
if(q.V4!=H){var S=Q[q.VB];Q.splice(q.VB,0,H-q.V4);Q[q.VB+1]=S-Q[q.VB];w.RunArray.splice(q.VB+1,0,j1.L0(w.RunArray[q.VB]))}var A=j1.CB(Q,y);
if(A.V4+Q[A.VB]-1!=y){var S=Q[A.VB];Q.splice(A.VB,0,y-A.V4+1);Q[A.VB+1]=S-Q[A.VB];w.RunArray.splice(A.VB+1,0,j1.L0(w.RunArray[A.VB]))}}var q=j1.CB(Q,H),A=j1.CB(Q,y);
if(c)for(var l=q.VB;l<=A.VB;l++)j1.Yb(w.RunArray[l].StyleSheet.StyleSheetData,n);else for(var l=q.VB;
l<=A.VB;l++)j1.Yb(w.RunArray[l].ParagraphSheet.Properties,n)};j1.asP=function(w,n,H){var y=w.EngineDict.StyleRun.RunLengthArray,c=[],Q=0;
for(var l=0;l<y.length;l++){var q=y[l];for(var S=0;S<q;S++)if(n<=Q+S&&Q+S<H)c.push(l);Q+=q}var A=c[0],V=[];
for(var l=0;l<c.length;l++){var e=c[l]-A;if(e==V.length)V.push(0);V[e]++}return V};j1.ada=function(w){var n=w.EngineDict.StyleRun,H=n.RunArray,y=n.RunLengthArray;
for(var l=0;l<y.length-1;l++){var c=H[l].StyleSheet.StyleSheetData,Q=H[l+1].StyleSheet.StyleSheetData;
if(JSON.stringify(c)==JSON.stringify(Q)){H.splice(l+1,1);y[l]+=y[l+1];y.splice(l+1,1);l--}}};j1.QD=function(w){var n=w.BP.AntA.v.Annt;
n=["Anno","antiAliasSharp","AnCr","AnSt","AnSm"].indexOf(n);if(n==-1)n=1;return n};j1.ui=function(w,n){w.BP.AntA.v.Annt=["Anno","antiAliasSharp","AnCr","AnSt","AnSm"][n]};
j1.Bn=function(w,n){var H,y;H=["FontSize","Leading","BaselineShift","_LineWidth"];y=w.tq;for(var l=0;
l<H.length;l++)if(y[H[l]]!=null)y[H[l]]*=n;H=["StartIndent","EndIndent","FirstLineIndent","SpaceBefore","SpaceAfter"];
y=w.AW;for(var l=0;l<H.length;l++)if(y[H[l]]!=null)y[H[l]]*=n};j1.a06=function(){return j1.ni(j1.arP,0,0)};
j1.ayT=function(){return{classID:"TxLr",Txt:{t:"TEXT",v:"\0"},textGridding:{t:"enum",v:{textGridding:"None"}},Ornt:{t:"enum",v:{Ornt:"Hrzn"}},AntA:{t:"enum",v:{Annt:"antiAliasSharp"}},TextIndex:{t:"long",v:0}}};
j1.CB=function(w,n){var H=0,l=0;while(H+w[l]<=n){H+=w[l];l++}return{VB:l,V4:H}};j1.arb=function(){var w=j1.L0(this.arP);
return w};j1.a6p=function(w,n){var H=n.AW};j1.a6O=function(w,n){var H=n.tq,y;y=w.Undl;if(y&&y.v.Undl=="underlineOnLeftInVertical")H.Underline=!0;
y=w.syntheticItalic;if(y)H.FauxItalic=y.v};j1.app={Justification:0,FirstLineIndent:0,StartIndent:0,EndIndent:0,SpaceBefore:0,SpaceAfter:0,AutoHyphenate:!1,HyphenatedWordSize:6,PreHyphen:2,PostHyphen:2,ConsecutiveHyphens:8,Zone:36,WordSpacing:[.8,1,1.33],LetterSpacing:[0,0,0],GlyphSpacing:[1,1,1],AutoLeading:1.2,LeadingType:0,Hanging:!1,Burasagari:!1,KinsokuOrder:0,EveryLineComposer:!1,_Direction:0,_ComposerEngine:1};
j1.a5j={Font:0,FontSize:12,FauxBold:!1,FauxItalic:!1,AutoLeading:!0,Leading:0,HorizontalScale:1,VerticalScale:1,Tracking:0,AutoKerning:!0,Kerning:0,BaselineShift:0,FontCaps:0,FontBaseline:0,Underline:!1,Strikethrough:!1,Ligatures:!0,DLigatures:!1,BaselineDirection:2,Tsume:0,StyleRunAlignment:2,Language:0,NoBreak:!1,FillColor:{Type:1,Values:[1,0,0,0]},StrokeColor:{Type:1,Values:[1,0,0,0]},_FillBackgroundColor:{Type:1,Values:[1,0,0,0]},FillFlag:!0,StrokeFlag:!1,_LineWidth:1,_FillBackgroundFlag:!1,FillFirst:!0,YUnderline:1,OutlineWidth:1,CharacterDirection:0,HindiNumbers:!1,Kashida:1,DiacriticPos:2};
j1.aaK=function(){return{RunArray:[],RunLengthArray:[],IsJoinable:2}};j1.arP={EngineDict:{Editor:{Text:"\n"},ParagraphRun:{DefaultRunData:{ParagraphSheet:{DefaultStyleSheet:0,Properties:{}},Adjustments:{Axis:[1,0,1],XY:[0,0]}},RunArray:[{ParagraphSheet:{DefaultStyleSheet:0,Properties:JSON.parse(JSON.stringify(j1.app))},Adjustments:{Axis:[1,0,1],XY:[0,0]}}],RunLengthArray:[1],IsJoinable:1},StyleRun:{DefaultRunData:{StyleSheet:{StyleSheetData:{}}},RunArray:[{StyleSheet:{StyleSheetData:{Font:0,FontSize:24,AutoKerning:!0,Kerning:0}}}],RunLengthArray:[1],IsJoinable:2},GridInfo:{GridIsOn:!1,ShowGrid:!1,GridSize:18,GridLeading:22,GridColor:{Type:1,Values:[0,0,0,1]},GridLeadingFillColor:{Type:1,Values:[0,0,0,1]},AlignLineHeightToGridFlags:!1},AntiAlias:4,UseFractionalGlyphWidths:!0,Rendered:{Version:1,Shapes:{WritingDirection:0,Children:[{ShapeType:0,Procession:0,Lines:{WritingDirection:0,Children:[]},Cookie:{Photoshop:{ShapeType:0,PointBase:[0,0],Base:{ShapeType:0,TransformPoint0:[1,0],TransformPoint1:[0,1],TransformPoint2:[0,0]}}}}]}}},ResourceDict:{KinsokuSet:[{Name:"PhotoshopKinsokuHard",NoStart:"\u3001\u3002\uFF0C\uFF0E\u30FB\uFF1A\uFF1B\uFF1F\uFF01\u30FC\u2015\u2019\u201D\uFF09\u3015\uFF3D\uFF5D\u3009\u300B\u300D\u300F\u3011\u30FD\u30FE\u309D\u309E\u3005\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308E\u30A1\u30A3\u30A5\u30A7\u30A9\u30C3\u30E3\u30E5\u30E7\u30EE\u30F5\u30F6\u309B\u309C?!)]},.:;\u2103\u2109\xA2\uFF05\u2030",NoEnd:"\u2018\u201C\uFF08\u3014\uFF3B\uFF5B\u3008\u300A\u300C\u300E\u3010([{\uFFE5\uFF04\xA3\uFF20\xA7\u3012\uFF03",Keep:"\u2015\u2025",Hanging:"\u3001\u3002.,"},{Name:"PhotoshopKinsokuSoft",NoStart:"\u3001\u3002\uFF0C\uFF0E\u30FB\uFF1A\uFF1B\uFF1F\uFF01\u2019\u201D\uFF09\u3015\uFF3D\uFF5D\u3009\u300B\u300D\u300F\u3011\u30FD\u30FE\u309D\u309E\u3005",NoEnd:"\u2018\u201C\uFF08\u3014\uFF3B\uFF5B\u3008\u300A\u300C\u300E\u3010",Keep:"\u2015\u2025",Hanging:"\u3001\u3002.,"}],MojiKumiSet:[{InternalName:"Photoshop6MojiKumiSet1"},{InternalName:"Photoshop6MojiKumiSet2"},{InternalName:"Photoshop6MojiKumiSet3"},{InternalName:"Photoshop6MojiKumiSet4"}],TheNormalStyleSheet:0,TheNormalParagraphSheet:0,ParagraphSheetSet:[{Name:"Normal RGB",DefaultStyleSheet:0,Properties:JSON.parse(JSON.stringify(j1.app))}],StyleSheetSet:[{Name:"Normal RGB",StyleSheetData:JSON.parse(JSON.stringify(j1.a5j))}],FontSet:[{Name:"DejaVuSans",Script:0,FontType:1,Synthetic:0},{Name:"AdobeInvisFont",Script:0,FontType:0,Synthetic:0},{Name:"MyriadHebrew-Regular",Script:6,FontType:0,Synthetic:0}],SuperscriptSize:.583,SuperscriptPosition:.333,SubscriptSize:.583,SubscriptPosition:.333,SmallCapSize:.7}};
var fe={};fe.ai9=function(w){var n=fe.avl(w._0,w._1);fe.ayJ(n,w._0);return n};fe.a2m=function(w,n,H){var y={};
y._98={_0:"i7"};y._0=fe.agq(w,n,H?H._0:null);y._1=fe.ao_(w,n,y._0,H?H._1:null);return y};fe.agq=function(w,n,H){var y={};
y._1=fe.alR(w,H?H._1:null);y._2={_0:[{_0:{_0:"s"}}],_1:[{_0:"i0"}]};y._3=JSON.parse(JSON.stringify(fe.a7M));
y._4=JSON.parse(JSON.stringify(fe.a21));y._5=fe.a8M(w,y._1._0,H?H._5:null);y._6=fe.auU(w,H?H._6:null);
y._8=fe.awO(w,n,H?H._8:null);y._9=fe.ahC;return y};fe.ayJ=function(w,n){fe.abU(w,n._5,n._1._0)};fe.alR=function(w,n){var H=[],y=[];
for(var l=0;l<w.length;l++){var c=w[l].ResourceDict.FontSet;for(var Q=0;Q<c.length;Q++){var q=c[Q];if(y.indexOf(q.Name)!=-1)continue;
H.push(q);y.push(q.Name)}}var S={_0:[]};for(var l=0;l<H.length;l++){var A=H[l],V={_0:{_99:"/CoolTypeFont",_0:{_0:"s"+A.Name,_1:"i"+A.Script,_2:"i"+A.FontType}}};
if(A.Script==0)delete V._0._0._1;S._0.push(V)}return S};fe.a8M=function(w,n,H){var y={_0:[],_1:[]},c={_0:JSON.parse(JSON.stringify(fe.aw7))};
fe.aop(c._0,w[0].ResourceDict.StyleSheetSet[0],n,w[0].ResourceDict.FontSet);y._0.push(c);y._1.push({_0:"i0"});
y._0.push({_0:{_0:"sNone",_5:"i0",_6:{}}});y._1.push({_0:"i1"});return y};fe.abU=function(w,n,H){var y=n._0[0];
for(var l=0;l<w.length;l++)fe.a0b(y._0,w[l].ResourceDict.StyleSheetSet[0],H,w[l].ResourceDict.FontSet)};
fe.auU=function(w,n){var H={_0:[],_1:[]},y={_0:JSON.parse(JSON.stringify(fe.Hp))};fe.kt(y._0,w[0].ResourceDict.ParagraphSheetSet[0]);
H._0.push(y);H._1.push({_0:"i0"});y={_0:JSON.parse(JSON.stringify(fe.Hp))};fe.kt(y._0,w[0].ResourceDict.ParagraphSheetSet[0]);
y._0._0="sBasic Paragraph";y._0._6="i0";H._0.push(y);H._1.push({_0:"i1"});return H};fe.awO=function(w,n,H){var y={_0:[]};
for(var l=0;l<w.length;l++){var c=w[l].Curve,Q={};y._0.push({_0:Q});var q=j1.O_(w[l]);Q._2={};Q._2._0="i"+q;
if(w[l]._LineOrientation==2)Q._2._1="i2";if(q==0){Q._2._6=["f-1","f-1"];Q._2._11={_4:"i-1",_7:!1}}else if(q==1&&c==null){var S=j1.fL(w[l]),A=S[2],V=S[3];
Q._1={_0:fe.hl("f",[0,0,0,0,A,0,A,0,A,0,A,0,A,V,A,V,A,V,A,V,0,V,0,V,0,V,0,V,0,0,0,0])};Q._2._6=["f-2","f-2"];
Q._2._11={_4:"i-2",_7:!1}}else if(q==1){var S=j1.fL(w[l]),A=S[2],V=S[3];Q._1={_0:fe.hl("f",c.Points)};
Q._2._6=["f-3","f-3"];Q._2._11={_4:"i-3",_7:!1}}else if(q==2){Q._1={_0:fe.hl("f",c.Points)};Q._2._6=fe.hl("f",c.TextOnPathTRange);
Q._2._11={_0:c.Reversed,_3:"i0",_5:"f0",_7:!1}}}return y};fe.ao_=function(w,n,H,y){var c={};c._0=JSON.parse(JSON.stringify(fe.aft));
c._1=fe.avr(w,n,H,y?y._1:null);c._2=JSON.parse(JSON.stringify(fe.aw7._6));c._3=JSON.parse(JSON.stringify(fe.Hp._5));
return c};fe.avl=function(w,n){return fe.acp(w,n._1)};fe.avr=function(w,n,H,y){var c=[],Q=H._1._0;for(var l=0;
l<w.length;l++){var q=w[l],S={_0:{}};c.push(S);S._0._0="s"+q.EngineDict.Editor.Text;S._0._0=S._0._0;
var A=S._0._5={_0:[]},V=q.EngineDict.ParagraphRun;for(var e=0;e<V.RunArray.length;e++){var d={_0:{}};
A._0.push(d);d._0._0={_0:"s",_5:{},_6:"i1"};fe.kt(d._0._0,V.RunArray[e].ParagraphSheet);d._1="i"+V.RunLengthArray[e]}var N=S._0._6={_0:[]};
V=q.EngineDict.StyleRun;for(var e=0;e<V.RunArray.length;e++){var b={_0:{}};N._0.push(b);b._0._0={_0:"s",_5:"i1",_6:{}};
fe.aop(b._0._0,V.RunArray[e].StyleSheet,Q,q.ResourceDict.FontSet);b._1="i"+V.RunLengthArray[e]}V=q.EngineDict.AlternateGlyphRun;
if(V){var z=S._0._9={_0:[]};for(var e=0;e<V.RunArray.length;e++){var v={_0:{}};z._0.push(v);var T=V.RunArray[e];
if(T.Glyph!=null){v._0._0={_0:"i"+T.Glyph,_1:"e"}}v._1="i"+V.RunLengthArray[e]}}S._0._10={_0:"i4",_2:!0};
S._1=fe.view.asA(q,null,l,null)}return c};fe.acp=function(w,n){var H=[],y=w._1._0;for(var l=0;l<n.length;
l++){var c=j1.arb();H.push(c);var Q=n[l];c.EngineDict.Editor.Text=Q._0._0.slice(1);var q=c.EngineDict.ParagraphRun.RunArray[0],S=c.EngineDict.ParagraphRun,A=Q._0._5;
if(A)for(var V=0;V<A._0.length;V++){var e=A._0[V];S.RunLengthArray[V]=parseInt(e._1.slice(1));S.RunArray[V]=JSON.parse(JSON.stringify(q));
fe.aiL(e._0._0,S.RunArray[V].ParagraphSheet)}else{S.RunLengthArray[0]=j1.md(c).length}var d=Q._0._6;
S=c.EngineDict.StyleRun;if(d)for(var V=0;V<d._0.length;V++){var N=d._0[V];S.RunLengthArray[V]=parseInt(N._1.slice(1));
S.RunArray[V]={StyleSheet:{StyleSheetData:{}}};fe.a0b(N._0._0,S.RunArray[V].StyleSheet,y,c.ResourceDict.FontSet)}else{S.RunLengthArray[0]=j1.md(c).length;
S.RunArray[0]={StyleSheet:{StyleSheetData:{}}}}}return H};fe.aop=function(w,n,H,y,c){w._0="s"+(n.Name?n.Name:"");
var Q=w._6,q=c?c._6:null,S=n.StyleSheetData;if(S.Font==null)return;var A=y[S.Font].Name,V=-1;for(var l=0;
l<H.length;l++)if("s"+A==H[l]._0._0._0){V=l;break}Q._0="i"+V;if(S.FontSize!=null)Q._1="f"+S.FontSize;
if(S.FauxBold!=null)Q._2=S.FauxBold;if(S.FauxItalic!=null)Q._3=S.FauxItalic;if(S.AutoLeading!=null)Q._4=S.AutoLeading;
if(S.Leading!=null)Q._5="f"+S.Leading;if(S.HorizontalScale!=null)Q._6="f"+S.HorizontalScale;if(S.VerticalScale!=null)Q._7="f"+S.VerticalScale;
if(S.Tracking!=null)Q._8="i"+S.Tracking;if(S.BaselineShift!=null)Q._9="f"+S.BaselineShift;if(S.AutoKerning!=null)Q._11="i"+(S.AutoKerning?1:0);
if(S.FontCaps!=null)Q._12="i"+S.FontCaps;if(S.FontBaseline!=null)Q._13="i"+S.FontBaseline;if(S.Strikethrough!=null)Q._15="i"+(S.Strikethrough?1:0);
if(S.Underline!=null)Q._16="i"+(S.Underline?2:0);if(S.Ligatures!=null)Q._18=S.Ligatures;if(S.DLigatures!=null)Q._19=S.DLigatures;
if(S.BaselineDirection!=null)Q._35="i"+S.BaselineDirection;if(S.Language!=null)Q._38="i"+S.Language;
if(S.FillColor!=null)Q._53=fe.WG(S.FillColor);if(S.StrokeColor!=null)Q._54=fe.WG(S.StrokeColor);if(S.FillFlag!=null)Q._56=S.FillFlag;
if(S.StrokeFlag!=null)Q._57=S.StrokeFlag;if(S._LineWidth!=null)Q._63="f"+S._LineWidth;if(S._FillBackgroundColor!=null)Q._79=fe.WG(S._FillBackgroundColor);
if(S._FillBackgroundFlag!=null)Q._80=S._FillBackgroundFlag};fe.WG=function(w){return{_99:"/SimplePaint",_0:{_0:"i1",_1:fe.hl("f",w.Values)}}};
fe.a0b=function(w,n,H,y){var c=w._6;if(c==null)return;var Q=n.StyleSheetData;if(c._0){var q=parseInt(c._0.slice(1)),S=H[q]._0._0._0.slice(1);
j1.Ho({tq:Q,II:y},S)}if(c._1!=null)Q.FontSize=parseFloat(c._1.slice(1));if(c._2!=null)Q.FauxBold=c._2;
if(c._3!=null)Q.FauxItalic=c._3;if(c._4!=null)Q.AutoLeading=c._4;if(c._5!=null)Q.Leading=parseFloat(c._5.slice(1));
if(c._6!=null)Q.HorizontalScale=parseFloat(c._6.slice(1));if(c._7!=null)Q.VerticalScale=parseFloat(c._7.slice(1));
if(c._8!=null)Q.Tracking=parseFloat(c._8.slice(1));if(c._9!=null)Q.BaselineShift=parseFloat(c._9.slice(1));
if(c._11!=null)Q.AutoKerning=parseFloat(c._11.slice(1))==1;if(c._12!=null)Q.FontCaps=parseFloat(c._12.slice(1));
if(c._13!=null)Q.FontBaseline=parseFloat(c._13.slice(1));if(c._15!=null)Q.Strikethrough=parseFloat(c._15.slice(1))==1;
if(c._16!=null)Q.Underline=parseFloat(c._16.slice(1))==1;if(c._18!=null)Q.Ligatures=c._18;if(c._19!=null)Q.DLigatures=c._19;
if(c._35!=null)Q.BaselineDirection=parseFloat(c._35.slice(1));if(c._38!=null)Q.Language=parseFloat(c._38.slice(1));
if(c._53!=null)Q.FillColor=fe._M(c._53);if(c._54!=null)Q.StrokeColor=fe._M(c._54);if(c._56!=null)Q.FillFlag=c._56;
if(c._57!=null)Q.StrokeFlag=c._57;if(c._63!=null)Q._LineWidth=parseFloat(c._63.slice(1));if(c._79!=null)Q._FillBackgroundColor=fe._M(c._79);
if(c._80!=null)Q._FillBackgroundFlag=c._80};fe._M=function(w){var n=w._0._0,H=w._0._1,y=[1,0,0,0],c=[];
for(var l=0;l<H.length;l++)c[l]=parseFloat(H[l].slice(1));if(n=="i0")y[1]=y[2]=y[3]=c[1];else if(n=="i1")y=c;
else if(n=="i2")y=[1].concat(UDOC.C.cmykToRgb(c.slice(1)));else console.log("unknown color type",n,c);
return{Type:1,Values:y}};fe.kt=function(w,n){w._0="s"+(n.Name?n.Name:"");var H=w._5,y=n.Properties;if(y.Justification!=null)H._0="i"+y.Justification;
if(y.FirstLineIndent!=null)H._1="f"+y.FirstLineIndent;if(y.StartIndent!=null)H._2="f"+y.StartIndent;
if(y.EndIndent!=null)H._3="f"+y.EndIndent;if(y.SpaceBefore!=null)H._4="f"+y.SpaceBefore;if(y.SpaceAfter!=null)H._5="f"+y.SpaceAfter;
if(y.AutoLeading!=null)H._7="f"+y.AutoLeading;if(y.AutoHyphenate!=null)H._9=y.AutoHyphenate;if(y._Direction!=null)H._33="i"+y._Direction;
if(y._ComposerEngine!=null)H._35="i"+y._ComposerEngine};fe.aiL=function(w,n){var H=w._5;if(H==null)return;
var y=n.Properties;if(H._0)y.Justification=parseInt(H._0.slice(1))};fe.hl=function(w,n){var H=[];for(var l=0;
l<n.length;l++)H.push(w+n[l]);return H};fe.a7M={_0:[{_0:{_0:"sPhotoshop6MojiKumiSet4",_5:{_0:"i0",_3:"i2"}}},{_0:{_0:"sPhotoshop6MojiKumiSet3",_5:{_0:"i0",_3:"i4"}}},{_0:{_0:"sPhotoshop6MojiKumiSet2",_5:{_0:"i0",_3:"i3"}}},{_0:{_0:"sPhotoshop6MojiKumiSet1",_5:{_0:"i0",_3:"i1"}}},{_0:{_0:"sYakumonoHankaku",_5:{_0:"i0",_3:"i1"}}},{_0:{_0:"sGyomatsuYakumonoHankaku",_5:{_0:"i0",_3:"i3"}}},{_0:{_0:"sGyomatsuYakumonoZenkaku",_5:{_0:"i0",_3:"i4"}}},{_0:{_0:"sYakumonoZenkaku",_5:{_0:"i0",_3:"i2"}}}],_1:[{_0:"i0"},{_0:"i1"},{_0:"i2"},{_0:"i3"},{_0:"i4"},{_0:"i5"},{_0:"i6"},{_0:"i7"}]};
fe.a21={_0:[{_0:{_0:"sNone",_5:{_0:"s",_1:"s",_2:"s",_3:"s",_4:"i0"}}},{_0:{_0:"sPhotoshopKinsokuHard",_5:{_0:"s!),.:;?]}\xA2\u2014\u2019\u201D\u2030\u2103\u2109\u3001\u3002\u3005\u3009\u300B\u300A\u300F\u3011\u3015\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308E\u309B\u309C\u309D\u309E\u30A1\u30A3\u30A5\u30A7\u30A9\u30C3\u30E3\u30E5\u30E7\u30EE\u30F5\u30F6\u30FB\u30FC\u30FD\u30FE\uFF01\uFF05\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s([{\xA3\xA7\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3012\u3014\uFF03\uFF04\uFF08\uFF20\uFF3B\uFF5B\uFFE5",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i1"}}},{_0:{_0:"sPhotoshopKinsokuSoft",_5:{_0:"s\u2019\u201D\u3001\u3002\u3005\u3009\u300B\u300A\u300F\u3011\u3015\u309D\u309E\u30FB\u30FD\u30FE\uFF01\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3014\uFF08\uFF3B\uFF5B",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i2"}}},{_0:{_0:"sHard",_5:{_0:"s!),.:;?]}\xA2\u2014\u2019\u201D\u2030\u2103\u2109\u3001\u3002\u3005\u3009\u300B\u300A\u300F\u3011\u3015\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308E\u309B\u309C\u309D\u309E\u30A1\u30A3\u30A5\u30A7\u30A9\u30C3\u30E3\u30E5\u30E7\u30EE\u30F5\u30F6\u30FB\u30FC\u30FD\u30FE\uFF01\uFF05\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s([{\xA3\xA7\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3012\u3014\uFF03\uFF04\uFF08\uFF20\uFF3B\uFF5B\uFFE5",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i1"}}},{_0:{_0:"sSoft",_5:{_0:"s\u2019\u201D\u3001\u3002\u3005\u3009\u300B\u300A\u300F\u3011\u3015\u309D\u309E\u30FB\u30FD\u30FE\uFF01\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3014\uFF08\uFF3B\uFF5B",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i2"}}}],_1:[{_0:"i0"},{_0:"i1"},{_0:"i2"},{_0:"i3"},{_0:"i4"}]};
fe.aw7={_0:"sNormal RGB",_6:{_0:"i0",_1:"f12",_2:!1,_3:!1,_4:!0,_5:"f0",_6:"f1",_7:"f1",_8:"i0",_9:"f0",_10:"f0",_11:"i1",_12:"i0",_13:"i0",_14:"i0",_15:"i0",_16:"i0",_17:"f0",_18:!0,_19:!1,_20:!1,_21:!1,_22:!1,_23:!1,_24:!1,_25:!1,_26:!1,_27:!1,_28:!1,_29:!1,_30:"i0",_31:!1,_32:!1,_33:!1,_34:!1,_35:"i2",_36:"f0",_37:"i2",_38:"i0",_39:"i0",_40:!1,_41:"i2",_42:"i0",_43:{_0:"f.5"},_44:"i2",_45:"i2",_46:"i7",_47:"i0",_48:"i0",_49:"f-1",_50:"f-1",_51:"i0",_52:!1,_53:{_99:"/SimplePaint",_0:{_0:"i1",_1:["f1","f0","f0","f0"]}},_54:{_99:"/SimplePaint",_0:{_0:"i1",_1:["f1","f0","f0","f0"]}},_55:{_99:"/SimpleBlender"},_56:!0,_57:!1,_58:!0,_59:!1,_60:!1,_61:"i0",_62:"i0",_63:"f1",_64:"f4",_65:"f0",_66:[],_67:[],_68:"i0",_69:"i0",_70:"i0",_71:"i4",_72:"f0",_73:"f0",_74:!1,_75:!1,_76:!1,_77:!0,_78:!0,_79:{_99:"/SimplePaint",_0:{_0:"i1",_1:["f1","f1","f1","f0"]}},_80:!1,_81:"i0",_82:"f3",_83:"f3",_84:!1,_85:"i0",_86:{_99:"/SimpleCustomFeature"},_87:"f100",_88:!0}};
fe.Hp={_0:"sNormal RGB",_5:{_0:"i0",_1:"f0",_2:"f0",_3:"f0",_4:"f0",_5:"f0",_6:"i1",_7:"f1.2",_8:"i0",_9:!0,_10:"i6",_11:"i2",_12:"i2",_13:"i0",_14:"f36",_15:!0,_16:"f.5",_17:["f.8","f1","f1.33"],_18:["f0","f0","f0"],_19:["f1","f1","f1"],_20:"i6",_21:!1,_22:"i0",_23:!0,_24:"i0",_25:"i0",_27:"/nil",_26:!1,_28:"/nil",_29:!1,_30:{},_31:"f36",_32:{},_33:"i0",_34:"i7",_35:"i1",_36:"/nil",_37:"i0",_38:!1,_39:"i0",_40:"i2"}};
fe.ahC={_0:[{_0:{_0:"skPredefinedNumericListStyleTag",_6:"i1"}},{_0:{_0:"skPredefinedUppercaseAlphaListStyleTag",_6:"i2"}},{_0:{_0:"skPredefinedLowercaseAlphaListStyleTag",_6:"i3"}},{_0:{_0:"skPredefinedUppercaseRomanNumListStyleTag",_6:"i4"}},{_0:{_0:"skPredefinedLowercaseRomanNumListStyleTag",_6:"i5"}},{_0:{_0:"skPredefinedBulletListStyleTag",_6:"i6"}}],_1:[{_0:"i0"},{_0:"i1"},{_0:"i2"},{_0:"i3"},{_0:"i4"},{_0:"i5"}]};
fe.aft={_0:{_0:"i1",_1:[{_0:"s ",_1:"s1"},{_0:"s\r",_1:"s6"},{_0:"s\t",_1:"s0"},{_0:"s\u2029",_1:"s5"},{_0:"s\x03",_1:"s5"},{_0:"s\u3000",_1:"s1"},{_0:"s\xAD",_1:"s3"}]},_1:"i0",_2:"i0",_3:"f.583",_4:"f.333",_5:"f.583",_6:"f.333",_7:"f.7",_8:!0,_9:[{_0:"i0",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i1",_1:"s\u201D",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i2",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i3",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i4",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i5",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i6",_1:"s\xAB",_2:"s\xBB",_3:"s\u2039",_4:"s\u203A"},{_0:"i7",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i8",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i9",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i10",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i11",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i12",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i13",_1:"s\u201D",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i14",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i15",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i16",_1:"s\u201D",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i17",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i18",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i19",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i20",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i21",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i22",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i23",_1:"s\u201E",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i24",_1:"s\u201E",_2:"s\u201D",_3:"s\u201A",_4:"s\u2019"},{_0:"i25",_1:"s\xAB",_2:"s\xBB",_3:"s\u2039",_4:"s\u203A"},{_0:"i26",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i27",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i28",_1:"s\u201E",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i29",_1:"s\u301D",_2:"s\u301E"},{_0:"i30",_1:"s\u300C",_2:"s\u300D"},{_0:"i31",_1:"s\u201E",_2:"s\u201C",_3:"s\u2018",_4:"s\u2019"},{_0:"i32",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i33",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i34",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i35",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i36",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i37",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i38",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i39",_1:"s\xAB",_2:"s\xBB",_3:"s<",_4:"s>"},{_0:"i40",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i41",_1:"s\xAB",_2:"s\xBB",_3:"s<",_4:"s>"},{_0:"i42",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i43",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i44",_1:"s\xAB",_2:"s\xBB",_3:"s\u2039",_4:"s\u203A"},{_0:"i45",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"}],_15:{_0:"sWinSoft"},_16:!1};
var iL={};iL.aa$=function(w){return iL.t2(w,iL.KT,0)};iL.apD=function(w){return iL.ew(w,iL.KT)};iL.t2=function(w,n,H){var y;
if(typeof w=="string")return w;if(w instanceof Array){y=[];for(var l=0;l<w.length;l++)y[l]=iL.t2(w[l],n,H+1)}else{y={};
var c={};for(var Q in n){var q=n[Q],S="_"+q[0];if(w[S]!=null){y[Q]=q[1]?iL.t2(w[S],q[1],H+1):w[S];c[S]=!0}}for(var Q in w){if(c[Q]==null){if(Q.length>3)continue;
console.log(n,c);console.log(Q,w);throw"e"}}}return y};iL.ew=function(w,n){var H;if(typeof w=="string")return w;
else if(w instanceof Array){H=[];for(var l=0;l<w.length;l++)H[l]=iL.ew(w[l],n)}else{H={};var y={};for(var c in n){var Q=n[c],q="_"+Q[0];
if(w[c]!=null){H[q]=Q[1]?iL.ew(w[c],Q[1]):w[c];y[c]=!0}}for(var c in w){if(y[c]==null){console.log(n,y);
console.log(c,w);throw"e"}}}return H};iL.gJ={_Color:[0,{_Type:[0],_Values:[1]}],_CAIKnownStyleID:[5],_StreamTag:[99]};
iL.HN={_Font:[0],_FontSize:[1],_FauxBold:[2],_FauxItalic:[3],_AutoLeading:[4],_Leading:[5],_HorizontalScale:[6],_VerticalScale:[7],_Tracking:[8],_BaselineShift:[9],_CharacterRotation:[10],_AutoKern:[11],_FontCaps:[12],_FontBaseline:[13],_FontOTPosition:[14],_StrikethroughPosition:[15],_UnderlinePosition:[16],_UnderlineOffset:[17],_Ligatures:[18],_DiscretionaryLigatures:[19],_ContextualLigatures:[20],_AlternateLigatures:[21],_OldStyle:[22],_Fractions:[23],_Ordinals:[24],_Swash:[25],_Titling:[26],_ConnectionForms:[27],_StylisticAlternates:[28],_Ornaments:[29],_FigureStyle:[30],_ProportionalMetrics:[31],_Kana:[32],_Italics:[33],_Ruby:[34],_BaselineDirection:[35],_Tsume:[36],_StyleRunAlignment:[37],_Language:[38],_JapaneseAlternateFeature:[39],_EnableWariChu:[40],_WariChuLineCount:[41],_WariChuLineGap:[42],_WariChuSubLineAmount:[43,{_WariChuSubLineScale:[0]}],_WariChuWidowAmount:[44],_WariChuOrphanAmount:[45],_WariChuJustification:[46],_TCYUpDownAdjustment:[47],_TCYLeftRightAdjustment:[48],_LeftAki:[49],_RightAki:[50],_JiDori:[51],_NoBreak:[52],_FillColor:[53,iL.gJ],_StrokeColor:[54,iL.gJ],_Blend:[55,{_1:[1],_3:[3],_Knockout:[4],_StreamTag:[99]}],_FillFlag:[56],_StrokeFlag:[57],_FillFirst:[58],_FillOverPrint:[59],_StrokeOverPrint:[60],_LineCap:[61],_LineJoin:[62],_LineWidth:[63],_MiterLimit:[64],_LineDashOffset:[65],_LineDashArray:[66],_Type1EncodingNames:[67],_Kashidas:[68],_DirOverride:[69],_DigitSet:[70],_DiacVPos:[71],_DiacXOffset:[72],_DiacYOffset:[73],_OverlapSwash:[74],_JustificationAlternates:[75],_StretchedAlternates:[76],_FillVisibleFlag:[77],_StrokeVisibleFlag:[78],_FillBackgroundColor:[79,iL.gJ],_FillBackgroundFlag:[80],_UnderlineStyle:[81],_DashedUnderlineGapLength:[82],_DashedUnderlineDashLength:[83],_SlashedZero:[84],_StylisticSets:[85],_CustomFeature:[86,{_StreamTag:[99]}],_MarkYDistFromBaseline:[87],_AutoMydfb:[88],_RefFontSize:[89],_FontSizeRefType:[90]};
iL.ahs={_Justification:[0],_FirstLineIndent:[1],_StartIndent:[2],_EndIndent:[3],_SpaceBefore:[4],_SpaceAfter:[5],_DropCaps:[6],_AutoLeading:[7],_LeadingType:[8],_AutoHyphenate:[9],_HyphenatedWordSize:[10],_PreHyphen:[11],_PostHyphen:[12],_ConsecutiveHyphens:[13],_Zone:[14],_HyphenateCapitalized:[15],_HyphenationPreference:[16],_WordSpacing:[17],_LetterSpacing:[18],_GlyphSpacing:[19],_SingleWordJustification:[20],_Hanging:[21],_AutoTCY:[22],_KeepTogether:[23],_BurasagariType:[24],_KinsokuOrder:[25],_Kinsoku:[27],_KurikaeshiMojiShori:[26],_MojiKumiTable:[28],_EveryLineComposer:[29],_TabStops:[30],_DefaultTabWidth:[31],_DefaultStyle:[32,iL.HN],_ParagraphDirection:[33],_JustificationMethod:[34],_ComposerEngine:[35],_ListStyle:[36],_ListTier:[37],_ListSkip:[38],_ListOffset:[39],_KashidaWidth:[40]};
iL.a0q={_Name:[0],_Features:[5,iL.ahs],_Parent:[6],_UUID:[97]};iL.ax4={_Name:[0],_Parent:[5],_Features:[6,iL.HN],_UUID:[97]};
iL.KT={_98:[98,{_0:[0]}],_DocumentResources:[0,{_0:[0],_FontSet:[1,{_Resources:[0,{_Resource:[0,{_StreamTag:[99],_Identifier:[0,{_Name:[0],_ScriptType:[1],_Type:[2],_Synthetic:[3],_4:[4],_MMAxis:[5]}],_UUID:[97]}]}],_DisplayList:[1,{_Resource:[0]}]}],_MojiKumiCodeToClassSet:[2,{_Resources:[0,{_Resource:[0,{_Name:[0],_Members:[5],_UUID:[97]}]}],_DisplayList:[1,{_Resource:[0]}]}],_MojiKumiTableSet:[3,{_Resources:[0,{_Resource:[0,{_Name:[0],_Members:[5,{_CodeToClass:[0],_AutoTsume:[1,{_TsumeMappings:[0,{_Before:[0],_After:[1],_Code:[2]}]}],_Table:[2,{_DataArray:[0,{_SparseArray:[0,{_Index:[0],_Elements:[1,{_P:[0],_Data:[1,{_A:[0,{_R:[0],_P:[1]}],_B:[1,{_R:[0],_P:[1]}]}]}]}]}]}],_PredefinedTag:[3]}],_UUID:[97]}]}],_DisplayList:[1,{_Resource:[0]}]}],_KinsokuSet:[4,{_Resources:[0,{_Resource:[0,{_Name:[0],_Data:[5,{_NoStart:[0],_NoEnd:[1],_Keep:[2],_Hanging:[3],_PredefinedTag:[4]}],_UUID:[97]}]}],_DisplayList:[1,{_Resource:[0]}]}],_StyleSheetSet:[5,{_Resources:[0,{_Resource:[0,iL.ax4]}],_DisplayList:[1,{_Resource:[0]}]}],_ParagraphSheetSet:[6,{_Resources:[0,{_Resource:[0,iL.a0q]}],_DisplayList:[1,{_Resource:[0]}]}],_7:[7,{_Resources:[0,{_Resource:[0,{_0:[0,{_0:[0],_1:[1,{_0:[0]}]}],_1:[1]}]}]}],_TextFrameSet:[8,{_Resources:[0,{_Resource:[0,{_0:[0],_Bezier:[1,{_Points:[0]}],_Data:[2,{_Type:[0],_LineOrientation:[1],_FrameMatrix:[2],_4:[4],_TextOnPathTRange:[6],_RowGutter:[7],_ColumnGutter:[8],_9:[9],_FirstBaselineAlignment:[10,{_Flag:[0],_Min:[1]}],_PathData:[11,{_1:[1],_Reversed:[0],_2:[2],_3:[3],_Spacing:[4],_5:[5],_6:[6],_7:[7],_18:[18]}],_12:[12],_13:[13]}],_3:[3,{_0:[0]}],_UUID:[97]}]}]}],_ListStyleSet:[9,{_Resources:[0,{_Resource:[0,{_Name:[0],_LevelStyle:[5,{_IndentUnits:[0],_TextIndent:[1],_LabelIndent:[2],_LabelAlignment:[3],_SequenceGenerator:[5,{_Prefix:[0],_Postfix:[1],_2:[2],_CaseType:[3],_Bullet:[9],_StreamTag:[99]}],_Font:[6],_7:[7]}],_PredefinedTag:[6],_UUID:[97]}]}],_DisplayList:[1,{_Resource:[0]}]}]}],_DocumentObjects:[1,{_DocumentSettings:[0,{_HiddenGlyphFont:[0,{_AlternateGlyphFont:[0],_WhitespaceCharacterMapping:[1,{_WhitespaceCharacter:[0],_AlternateCharacter:[1]}]}],_NormalStyleSheet:[1],_NormalParagraphSheet:[2],_SuperscriptSize:[3],_SuperscriptPosition:[4],_SubscriptSize:[5],_SubscriptPosition:[6],_SmallCapSize:[7],_UseSmartQuotes:[8],_SmartQuoteSets:[9,{_Language:[0],_OpenDoubleQuote:[1],_CloseDoubleQuote:[2],_OpenSingleQuote:[3],_CloseSingleQuote:[4]}],_10:[10],_11:[11],_LinguisticSettings:[15,{_PreferredProvider:[0],_LinguisticProviderInfo:[1]}],_13:[13],_UseSmartLists:[16],_DefaultStoryDir:[17],_18:[18],_GreekingSize:[20]}],_TextObjects:[1,{_Model:[0,{_Text:[0],_ParagraphRun:[5,{_RunArray:[0,{_RunData:[0,{_ParagraphSheet:[0,iL.a0q]}],_Length:[1]}]}],_StyleRun:[6,{_RunArray:[0,{_RunData:[0,{_StyleSheet:[0,iL.ax4]}],_Length:[1]}]}],_FirstKern:[7],_8:[8],_AlternateGlyphRun:[9,{_RunArray:[0,{_RunData:[0,{_AlternateGlyphSheet:[0,{_Glyph:[0],_Name:[1],_2:[2]}]}],_Length:[1]}]}],_StorySheet:[10,{_AntiAlias:[0],_1:[1],_UseFractionalGlyphWidths:[2],_3:[3],_4:[4]}],_KernRun:[15],_HyperlinkRun:[16]}],_View:[1,{_Frames:[0,{_Resource:[0]}],_RenderedData:[1,{_RunArray:[0,{_RunData:[0,{_0:[0],_LineCount:[1]}],_Length:[1]}]}],_Strikes:[2]}],_OpticalAlignment:[2]}],_OriginalNormalStyleFeatures:[2,iL.HN],_OriginalNormalParagraphFeatures:[3,iL.ahs]}]};
fe.view={};fe.view.asA=function(w,n,H,y){var c={},Q=j1.O_(w);c._0=[{_0:"i"+H}];return c};function CSS(){}CSS.az0=function(w,n){var H=w.add,y=H.vmsk,c=H.vstk,Q=H.lmfx,q=H.TySh,S=[],A=CSS.aro(Q,H);
if(w.hu()&&y){var V=O.r.dF(y.i);if(!V._G()){S.push("width: "+Math.round(V.m)+"px");S.push("height: "+Math.round(V.e)+"px")}var e=O.r.acq(y.i);
if(e>0)S.push("border-radius: "+Math.round(e)+"px")}else if(q){var d=q.EB;if(j1.O_(d)==1){var V=j1.fL(d);
S.push("width: "+Math.round(V[2])+"px");S.push("height: "+Math.round(V[3])+"px")}CSS.axO(S,j1.ni(d,0,0),q.D,!1,!1,A[0])}CSS.a1b(n,Q,S);
if(q==null)CSS.amQ(A,S);if(c==null||!c.strokeEnabled.v)c=hO.nv(Q);if(c&&c.strokeEnabled.v){var N=c.strokeStyleContent.v,b=N.classID,z=d5.Ed.pv.indexOf(c.strokeStyleLineCapType.v.strokeStyleLineCapType),v=d5.Ed.join.indexOf(c.strokeStyleLineJoinType.v.strokeStyleLineJoinType),T=c.strokeStyleOpacity.v.val/100,Y=c.strokeStyleLineWidth.v.val,g="";
if(b=="solidColorLayer")g=CSS.L4(N.Clr.v,T);S.push("border: "+Y+"px solid "+g)}return S};CSS.a1b=function(w,n,H){if(n==null||!n.masterFXSwitch.v)return;
var y=n.dropShadowMulti.v.concat(n.innerShadowMulti.v);for(var l=0;l<y.length;l++){var c=y[l].v;if(c.enab.v){var Q=c.classID=="IrSh",q=c.Dstn.v.val,S=c.lagl.v.val*Math.PI/180;
if(c.uglg&&c.uglg.v)S=w.s9()*Math.PI/180;var A=q*Math.cos(S),V=q*Math.sin(S),e=(A==0?"0 ":CSS.avN(-A)+"px ")+(V==0?"0 ":CSS.avN(V)+"px ")+c.blur.v.val/2+"px "+CSS.L4(c.Clr.v,c.Opct.v.val/100);
if(Q)H.push("box-shadow: inset "+e);else H.push("filter: drop-shadow("+e+")")}}};CSS.aro=function(w,n){var H=hO.yt(w,n),y=H[0],c=H[1],Q,q;
if(y){Q=CSS.L4(y.Clr.v,n.iOpa!=null?n.iOpa/255:1)}else if(c){q=CSS.a3m(c)}return[Q,q]};CSS.amQ=function(w,n){if(w[0])n.push("background-color: "+w[0]);
if(w[1])n.push("background-image: "+w[1])};CSS.$$={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};
CSS.avN=function(ds){return""+parseFloat(ds.toFixed(3))};CSS.gM=function(w){if(w==null)return{b:0,J:0,k:0};
var n=w.indexOf("(");if(n!=-1){var H=w.slice(n+1,w.length-1).split(",");for(var l=0;l<H.length;l++){var y=H[l].trim();
H[l]=parseFloat(y)*(y.endsWith("%")?255/100:1)}return{b:H[0],J:H[1],k:H[2]}}if(w.charAt(0)!="#"){var c=CSS.$$;
if(c[w])w=c[w];else console.log("unknown color "+w)}w=w.slice(1);if(w.length==4)w=w[0]+w[0]+w[1]+w[1]+w[2]+w[2]+w[3]+w[3];
if(w.length==3)w=w[0]+w[0]+w[1]+w[1]+w[2]+w[2];var Q=-1;if(w.length==8){Q=parseInt(w.slice(6),16);w=w.slice(0,6)}w=parseInt(w,16);
var q={b:w>>16&255,J:w>>8&255,k:w&255};if(Q!=-1)q.iL=Q;return q};CSS.L4=function(w,n){return CSS.XQ(O.M.cH(w),n)};
CSS.XQ=function(w,n){if(n==null)n=1;var H=Math.round(w.b),y=Math.round(w.J),c=Math.round(w.k),Q=H<<16|y<<8|c;
return n==1?"#"+O.w9(Q):"rgba("+H+","+y+","+c+","+n+")"};CSS.a3m=function(w){var n=w.Grad.v;if(n.Clrs==null)return"";
var H=n.Clrs.v.slice(0),y=n.Trns.v.slice(0),c=w.Ofst.v,Q=w.Type.v.GrdT=="Rdl"?1:0,q=(Q==1?"radial":"linear")+"-gradient",S=Q==0?Math.round(-w.Angl.v.val+90)+"deg":"circle at center",A=w.Rvrs.v,V=O.M.fi(n,A);
for(var l=0;l<V.length;l++){var e=V[l],d=e[1];S+=", "+CSS.XQ({b:d[0]*255,J:d[1]*255,k:d[2]*255},e[2])+" "+Math.round(e[0]*100)+"%"}return q+"("+S+")"};
CSS.axO=function(w,n,H,y,c,Q){var q=n.tq,S=y?1:H.H5(),A=Math.round(q.FontSize*S);w.push("font-size: "+A+"px");
var V=q.Tracking;if(!y&&V!=null&&V!=0)w.push("letter-spacing: "+Math.round(V*A/1e3)+"px");if(!q.AutoLeading)w.push("line-height: "+Math.round(q.Leading*S)+"px");
if(q.Strikethrough)w.push("text-decoration: line-through");if(q.Underline)w.push("text-decoration: underline");
if(q.FontCaps==2)w.push("text-transform: uppercase");var e=j1.cH(q.FillColor);e=[e.b,e.J,e.k].map(Math.round);
w.push((y?"fill: ":"color: ")+(Q?Q:"#"+O.w9(e[0]<<16|e[1]<<8|e[2])));var d=n.II[q.Font].Name;if(d){var N=da.dU.WX(d),b="",z=null,v=null;
if(N!=null&&d!=da.dR(N))N=null;if(c&&N)b+="\""+d+"\", ";var T=d.toLowerCase();if(N){z=da.D7(N)[0];if(N["OS/2"])v=N["OS/2"].usWeightClass}else{z=CSS.aaw(d);
if(T.indexOf("light")!=-1)v=300;else if(T.indexOf("medium")!=-1)v=500;else if(T.indexOf("black")!=-1||T.indexOf("extrabold")!=-1)v=800;
else if(T.indexOf("bold")!=-1)v="bold"}if(z!=null)b+="\""+z+"\"";if(v!=null)w.push("font-weight: "+v);
if(T.indexOf("italic")!=-1||T.indexOf("oblique")!=-1)w.push("font-style: italic");if(b)w.push("font-family: "+b)}var Y=n.AW.Justification;
if(Y!=null&&Y!=0)if(y){}else w.push("text-align: "+["left","right","center"][Y%3])};CSS.aaw=function(w){w=w.split("-")[0];
while(w.endsWith("MT")||w.endsWith("PS"))w=w.slice(0,w.length-2);var n=!0;for(var l=0;l<w.length;l++){var H=w.charAt(l);
if(!n&&H.toLowerCase()!=H){w=w.slice(0,l)+" "+w.slice(l);l++;n=!0}else n=!1}return w};function fE(){}fE.jB={document:!0,parent:!0,top:!0,eval:!0,postMessage:!0,UTIF:!0,PIMG:!0,LNG:!0,FNTS:!0};
fE.Qy=function(w,n){var H=Date.now(),y=w.split("\n"),c;for(var l=0;l<y.length;l++)if(y[l].trim()[0]=="#"){y[l]=""}w=y.join("\n");
try{c=acorn.parse(w)}catch(hV){console.log(hV);return}var Q=JSON.parse(JSON.stringify(fE.S_.tP));Q.__return=!1;
Q.__continue=!1;Q.__break=!1;Q.__throw=!1;Q.__fs={};Q.__window={};fE.eval(c,n,Q);var q=Q.__fs;if(Object.keys(q).length!=0){var S=UZIP.encode(q);
f1.save(S,"output.zip")}};fE.eval=function(w,n,H){var y=w.type;if(!1){}else if(y=="Program"||y=="BlockStatement"){var c=w.body;
for(var l=0;l<c.length;l++){var Q=c[l].type;if(Q=="FunctionDeclaration")H[c[l].id.name]=c[l]}for(var l=0;
l<c.length;l++){var Q=c[l].type,q=fE.eval(c[l],n,H);if(H.__continue){H.__continue=!1;return q}if(H.__return||H.__break||H.__throw)return q}}else if(y=="ReturnStatement"){H.__return=!0;
return w.argument?fE.uz(w.argument,n,H):null}else if(y=="BreakStatement"){H.__break=!0}else if(y=="ContinueStatement"){H.__continue=!0}else if(y=="VariableDeclaration"){var S=w.declarations;
for(var l=0;l<S.length;l++)fE.eval(S[l],n,H)}else if(y=="VariableDeclarator"){H[w.id.name]=w.init?fE.uz(w.init,n,H):null}else if(y=="FunctionDeclaration"){H[w.id.name]=w}else if(y=="MemberExpression"){var A=fE.uz(w.object,n,H),V=w.computed?fE.uz(w.property,n,H):fE.eval(w.property,n,H),q;
if(A.vE!=null)q=fE.S_.kx(A,V,n,H);else if(A==window&&fE.jB[V]){}else q=A[V];return q}else if(y=="ArrayExpression"){var e=[],d=w.elements;
for(var l=0;l<d.length;l++)e.push(fE.uz(d[l],n,H));return e}else if(y=="ObjectExpression"){var e={},d=w.properties;
for(var l=0;l<d.length;l++){var N=d[l],b=d[l].key.name?d[l].key.name:d[l].key.value;e[b]=fE.uz(d[l].value,n,H)}return e}else if(y=="ExpressionStatement"){return fE.eval(w.expression,n,H)}else if(y=="NewExpression"){var z=w.arguments,v=w.callee,T=v.type,Y=v.name,g=[],e=null;
for(var l=0;l<z.length;l++)g.push(fE.uz(z[l],n,H));if(Y=="Array")e=new window[Y];else if(T=="Identifier")e=fE.S_.a3Z(Y,g,n,H);
else throw"e";if(e==null)throw"new "+Y;return e}else if(y=="CallExpression"){var z=w.arguments,v=w.callee,T=v.type,R={};
for(var h in H)R[h]=H[h];var g=[];for(var l=0;l<z.length;l++)g.push(fE.uz(z[l],n,H));if(T=="Identifier"){var E=v.name,G=H[E];
if(G){if(G.params){var k=G.params;for(var l=0;l<k.length;l++)R[k[l].name]=g[l];return fE.eval(G.body,n,R)}else{return G.apply(null,g)}}else if(fE.S_.aqg.indexOf(E)!=-1)return fE.S_.B7({vE:"Application"},E,g,n,H);
else if(window[E]==null)console.log("Unknown function "+E);else if(fE.jB[E])alert(E+"() not available");
else{var $=window[E].apply(window,g);return $}}else if(T=="MemberExpression"){var A=fE.uz(v.object,n,H),V=v.computed?fE.uz(v.property,n,H):fE.eval(v.property,n,H);
if(A==window&&fE.jB[V])return;if(A.vE!=null)return fE.S_.B7(A,V,g,n,H);else if(V=="sort"&&A[0]&&A[0].vE=="Layer"){return A.sort(function(_,K){return _.Z.getName()>K.Z.getName()?1:-1})}else return A[V].apply(A,g)}else if(T=="FunctionExpression"){return fE.eval(v.body,n,H)}else console.log(w)}else if(y=="AssignmentExpression"){var p=w.operator,X=w.left,C=X.type,D=fE.uz(X,n,H),o=fE.uz(w.right,n,H),q=null;
if(!1){}else if(p=="=")q=o;else if(p=="+=")q=D+o;else if(p=="-=")q=D-o;else if(p=="*=")q=D*o;else if(p=="/=")q=D/o;
else if(p=="%=")q=D%o;else if(p=="&=")q=D&o;else if(p=="|=")q=D|o;else if(p=="&&=")q=D&&o;else if(p=="||=")q=D||o;
else console.log(w);if(C=="Identifier"){var t=X.name;if(H.hasOwnProperty(t))H[t]=q;else H.__window[t]=q}else if(C=="MemberExpression"){var u=fE.eval(X.property,n,H),m=fE.uz(X.object,n,H);
if(m.vE!=null)fE.S_.adx(m,u,q,n,H);else m[u]=q}else console.log(w)}else if(y=="Identifier")return w.name;
else if(y=="Literal")return w.value;else if(y=="UpdateExpression"){var p=w.operator,U=w.argument.name,e=fE.uz(w.argument,n,H),I=H;
if(I[U]==null)I=H.__window;if(!1){}else if(p=="++"){I[U]++;return w.prefix?I[U]:I[U]-1}else if(p=="--"){I[U]--;
return w.prefix?I[U]:I[U]+1}else console.log(w)}else if(y=="UnaryExpression"){var p=w.operator,x=fE.uz(w.argument,n,H);
if(x.vE=="UnitValue"){if(p=="-")return-x.Z;else return fE.awP(x.Z,p)}else return fE.awP(x,p)}else if(y=="BinaryExpression"||y=="LogicalExpression"){var p=w.operator,X=fE.uz(w.left,n,H),x=fE.uz(w.right,n,H);
if(X==null||x==null)return fE.CV(X,x,p);else if(X.vE=="UnitValue"&&x.vE=="UnitValue")return fE.CV(X.Z,x.Z,p);
else if(X.vE=="UnitValue")return fE.CV(X.Z,x,p);else if(x.vE=="UnitValue"){if(p=="-")return-(X-x.Z);
else return fE.CV(X,x.Z,p)}else return fE.CV(X,x,p)}else if(y=="IfStatement"){var J=fE.uz(w.test,n,H);
if(J)return fE.eval(w.consequent,n,H);else if(w.alternate)return fE.eval(w.alternate,n,H)}else if(y=="ConditionalExpression"){var J=fE.uz(w.test,n,H);
if(J)return fE.uz(w.consequent,n,H);else if(w.alternate)return fE.uz(w.alternate,n,H)}else if(y=="ForInStatement"){fE.eval(w.left,n,H);
var r=w.left.declarations[0].id.name,Z=fE.uz(w.right,n,H);for(var h in Z){H[r]=h;var f=fE.eval(w.body,n,H);
if(H.__break)break;if(H.__return)return f}H.__break=!1}else if(y=="ForStatement"){fE.eval(w.init,n,H);
while(fE.eval(w.test,n,H)){var f=fE.eval(w.body,n,H);if(H.__break)break;if(H.__return)return f;fE.eval(w.update,n,H)}H.__break=!1}else if(y=="DoWhileStatement"){do{var f=fE.eval(w.body,n,H);
if(H.__break)break;if(H.__return)return f}while(fE.eval(w.test,n,H));H.__break=!1}else if(y=="TryStatement"){fE.eval(w.block,n,H);
if(H.__throw){var F=w.handler;H[F.param.name]=H.__throw;H.__throw=!1;fE.eval(F.body,n,H);delete H[F.param.name]}}else if(y=="EmptyStatement"){}else console.log(w)};
fE.CV=function(w,n,H){if(H=="+")return w+n;else if(H=="-")return w-n;else if(H=="*")return w*n;else if(H=="/")return w/n;
else if(H=="%")return w%n;else if(H=="^")return w^n;else if(H=="&")return w&n;else if(H=="&&")return w&&n;
else if(H=="|")return w|n;else if(H=="||")return w||n;else if(H=="<")return w<n;else if(H==">")return w>n;
else if(H=="=="){if(w.vE&&n.vE)return w.Z==n.Z;return w==n}else if(H=="===")return w===n;else if(H=="<=")return w<=n;
else if(H==">=")return w>=n;else if(H=="!=")return w!=n;else if(H=="!==")return w!==n;else if(H=="<<")return w<<n;
else if(H==">>")return w>>n;else console.log(H)};fE.awP=function(w,n){if(n=="-")return-w;else if(n=="!")return!w;
else if(n=="~")return~w;else if(n=="+")return w;else if(n=="typeof")return typeof w;else console.log(n,w)};
fE.uz=function(w,n,H){var y=w.type;if(y=="Identifier")return fE.ah9(w.name,n,H);else return fE.eval(w,n,H)};
fE.ah9=function(w,n,H){if(w=="undefined")return undefined;else if(H.hasOwnProperty(w))return H[w];else if(w=="app")return{vE:"Application"};
else if(w=="Folder")return{vE:"Folder"};else if(w=="$")return{vE:"$"};else if(fE.S_.ayz.indexOf(w)!=-1)return fE.S_.kx({vE:"Application"},w,n,H);
else if(H.__window.hasOwnProperty(w))return H.__window[w];else if(window[w]&&!fE.jB[w])return window[w];
else{H[w]=null;return null}};fE.S_={};fE.S_.a3Z=function(w,n,H,y){var c;if(w=="SolidColor")c={vE:w,Z:[1,0,0,0]};
if(w=="RGBColor")c={vE:w,Z:[1,0,0,0]};if(w=="Window")c={vE:w,Z:new eF(n[0],n[1],n[2])};if(w=="ExportOptionsSaveForWeb")c={vE:w,Z:{xU:"png",P4:100}};
if(w=="PhotoshopSaveOptions")c={vE:w,Z:{xU:"psd"}};if(w=="PNGSaveOptions")c={vE:w,Z:{xU:"png",P4:100}};
if(w=="JPEGSaveOptions")c={vE:w,Z:{xU:"jpg",P4:100}};if(w=="PDFSaveOptions")c={vE:w,Z:{xU:"pdf",a1H:""}};
if(w=="File")c={vE:w,Z:n[0]};if(w=="ActionReference")c={vE:w,Z:[]};if(w=="ActionDescriptor")c={vE:w,Z:{}};
if(w=="ActionList")c={vE:w,Z:[]};if(w=="UnitValue")c={vE:w,Z:n.length==0?0:parseFloat(n[0])};return c};
fE.S_.ayz="activeDocument documents fonts preferences displayDialogs foregroundColor backgroundColor version".split(" ");
fE.S_.aqg="charIDToTypeID stringIDToTypeID typeIDToStringID executeAction executeActionGet doAction".split(" ");
fE.S_.kx=function(w,n,H,y){var c=H.bB,Q=H.Xz();if(!1){}else if(n=="typename"){if(w.vE=="Layer")return w.Z.Ok()?"LayerSet":"ArtLayer";
else return w.vE}else if(["Document","Layer"].indexOf(w.vE)!=-1&&["layers","artLayers","layerSets"].indexOf(n)!=-1){var q=Q;
if(w.vE=="Document")q=w.Z;else q=w.XS;var S=q.root,A={vE:"Layers",a7j:n,Z:[],XS:q};if(w.vE=="Layer")S=q.root.wO(q.B.indexOf(w.Z));
if(S.children==null)return null;for(var l=0;l<S.children.length;l++){var V=S.children[l].j,e=V.Ok();
if(e&&n=="artLayers"||!e&&n=="layerSets")continue;A.Z.push({vE:"Layer",Z:V,XS:q})}A.Z.reverse();return A}else if(w.vE=="Documents"||w.vE=="Layers"||w.vE=="HistoryStates"||w.vE=="LayerComps"){if(!1){}else if(n=="length")return w.Z.length;
else if(Number.isInteger(n))return w.Z[n];else console.log(w.vE+": unknown property ",n)}else if(w.vE=="Application"){if(!1){}else if(n=="activeDocument")return{vE:"Document",Z:H.Xz()};
else if(n=="documents"){var A={vE:"Documents",Z:[]};for(var l=0;l<H.oE.length;l++)A.Z.push({vE:"Document",Z:H.oE[l]});
return A}else if(n=="fonts")return{vE:"TextFonts"};else if(n=="preferences")return{vE:"Preferences"};
else if(n=="displayDialogs")return{vE:"DialogModes"};else if(n=="foregroundColor"||n=="backgroundColor"){var d=n[0]=="f"?c.Ni:c.uu;
return{vE:"SolidColor",Z:[1,(d>>>16&255)/255,(d>>>8&255)/255,(d>>>0&255)/255]}}else if(n=="UI")return{vE:"UI"};
else if(n=="version")return 30;else console.log(w,n)}else if(w.vE=="Document"){var Q=w.Z;if(!1){}else if(n=="activeLayer"){var V=Q.B[Q.g[0]];
return{vE:"Layer",Z:V,XS:Q}}else if(n=="resolution")return Q.uP;else if(n=="width")return Q.m;else if(n=="height")return Q.e;
else if(n=="name")return Q.name;else if(n=="saved")return!Q.QS();else if(n=="selection")return{vE:"Selection"};
else if(n=="activeHistoryState")return{vE:"HistoryState",cm:Q.Cf};else if(n=="source")return Q.WY;else if(n=="layerComps"){var N=Q.PU.list.v,b=[];
for(var l=0;l<N.length;l++)b.push({vE:"LayerComp",Z:l});return{vE:"LayerComps",Z:b}}else if(n=="historyStates"){var z=[];
for(var l=0;l<Q.history.length;l++)z.push({vE:"HistoryState",cm:l});return{vE:"HistoryStates",Z:z}}else if(n=="mode")return 7;
else console.log(w,n)}else if(w.vE=="LayerComp"){if(n=="name")return Q.PU.list.v[w.Z].v.Nm.v;else throw n}else if(w.vE=="Layer"){var v={transparentPixelsLocked:0,pixelsLocked:1,positionLocked:2,allLocked:31},V=w.Z;
if(!1){}else if(n=="visible")return V.tl();else if(n=="selected")return Q.g.indexOf(Q.B.indexOf(V))!=-1;
else if(n=="grouped")return V.Ak;else if(v[n]!=null)return V.ox(v[n]);else if(n=="opacity")return V.opacity*100/255;
else if(n=="blendMode")return V.UM;else if(n=="name")return V.getName();else if(n=="textItem")return{vE:"TextItem",Z:V};
else if(n=="bounds"){var T=P.WJ.fH(Q,[Q.B.indexOf(V)]);return fE.S_.azV(T,Q)}else if(n=="parent"){var Y=H.oE,q;
for(var l=0;l<Y.length;l++)if(Y[l].B.indexOf(V)!=-1)q=Y[l];var g=q.root.wO(q.B.indexOf(V)).parent;return g.depth==0?{vE:"Document",Z:q}:{vE:"Layer",Z:g.j,XS:q}}else if(n=="kind"){var R=fE.S_.KO;
for(var l=0;l<R.length;l++)if(V.add[R[l]]!=null)return l;return 0}else if(n=="isBackgroundLayer")return V.add.lnsr="bgnd";
else console.log(w,n)}else if(w.vE=="Selection"){if(!1){}else if(n=="bounds"){if(Q.P==null)y.__throw={message:"no selection"};
else return fE.S_.azV(Q.P.rect,Q)}else console.log(w,n)}else if(w.vE=="TextItem"){var h=w.Z.add.TySh,E=h.EB,G=j1.md(E),k=h.D.H5(),$=j1.ni(E,0,Math.max(0,G.length-2));
if(n=="contents")return G.slice(0,G.length-1).replace(/\n/g,"\r");else if(n=="font")return $.tq.Font!=null?$.II[$.tq.Font].Name:null;
else if(n=="size")return fE.S_.Hl($.tq.FontSize*k,Q);else if(n=="leading")return fE.S_.Hl($.tq.Leading*k,Q);
else if(n=="tracking")return fE.S_.Hl($.tq.Tracking);else if(n=="baselineShift")return fE.S_.Hl($.tq.BaselineShift);
else if(n=="fauxBold")return $.tq.FauxBold;else if(n=="fauxItalic")return $.tq.FauxItalic;else if(n=="kind")return 1-j1.O_(E);
else if(n=="useAutoLeading")return $.AW.AutoLeading;else if(n=="hyphenation")return $.AW.AutoHyphenate;
else if(n=="justification")return fE.S_.Hl($.AW.Justification);else if(n=="color")return{vE:"SolidColor",Z:$.tq.FillColor.Values.slice(0)};
else if(n=="width"||n=="height"){var p=j1.fL(E),X=(p[2]-p[0])*k,C=(p[3]-p[1])*k;return fE.S_.Hl(n=="width"?X:C,Q)}else if(n=="position"){var D=h.D;
return fE.S_.a0G([D.qH,D.fp],Q)}else if(n=="horizontalScale"||n=="verticalScale"){var o=n[0].toUpperCase()+n.slice(1);
return Math.round($.tq[o]*100)}else if(n=="antiAliasMethod")j1.QD(h);else if(n=="totalTextStyle"){var A={};
for(var t=0;t<2;t++){var u=["Style","Paragraph"][t],m=E.EngineDict[u+"Run"].RunLengthArray,U=[],I=0;
for(var l=0;l<m.length;l++){var x=j1.ni(E,I,Math.min(I+m[l],G.length-2));I+=m[l];U.push(t==0?x.tq:x.AW);
A.fontSet=x.II}A[u]={runs:m,styles:U}}return JSON.stringify(A)}else if(n=="transform"){var D=h.D;return JSON.stringify([D.iL,D.k,D.Mg,D.Du,D.qH,D.fp])}else console.log(w,n)}else if(w.vE=="Preferences"){if(n=="rulerUnits")return c.al.GZ;
else console.log(w,n)}else if(w.vE=="SolidColor"){if(n=="rgb")return{vE:"RGBColor",Z:w.Z};else console.log(w,n)}else if(w.vE=="RGBColor"){var T=Math.round(255*w.Z[1]),J=Math.round(255*w.Z[2]),r=Math.round(255*w.Z[3]);
if(!1){}else if(n=="red")return T;else if(n=="green")return J;else if(n=="blue")return r;else if(n=="hexValue")return"#"+O.w9(T<<16|J<<8|r).toUpperCase();
else console.log(w,n)}else if(w.vE=="UnitValue"){if(n=="value")return w.Z;else throw"e"}else if(w.vE=="ExportOptionsSaveForWeb"){if(n=="format")return w.Z.xU;
else if(n=="PNG8"||n=="interlaced")return!1;else if(n=="quality")return w.Z.P4;else if(n=="transparency")return!0;
else throw n}else if(w.vE=="PNGSaveOptions"||w.vE=="JPEGSaveOptions"||w.vE=="PDFSaveOptions"){return 0}else if(w.vE=="$"){if(n=="localize")return!1}else if(w.vE=="ActionList"){if(n=="count")return w.B9.length;
else throw n}else console.log(w,n)};fE.S_.azV=function(w,n){return fE.S_.a0G([w.x,w.y,w.x+w.m,w.y+w.e],n)};
fE.S_.a0G=function(w,n){var H=[];for(var l=0;l<w.length;l++)H.push(fE.S_.Hl(w[l],n));return H};fE.S_.a3f=function(w){var n=[];
for(var l=0;l<w.length;l++)n.push(w[l].vE?w[l].Z:w[l]);return n};fE.S_.Hl=function(w,n){return{vE:"UnitValue",Z:w}};
fE.S_.at6=function(w,n){if(w.vE=="UnitValue")return w.Z;return w};fE.S_.adx=function(w,n,H,y,c){var Q=new aL(M.E.v,!0),q=new aL(M.E.L,!0),S=y.Xz(),A=y.bB;
if(!1){}else if(w.vE=="Application"){if(!1){}else if(n=="activeDocument"){q.data={d:M.c.uJ,z3:H.Z};y.S(q)}else if(n=="displayDialogs"){}else if(n=="foregroundColor"||n=="backgroundColor"){var V=H.Z,e=V[1]*255<<16|V[2]*255<<8|V[3]*255<<0;
q.data={d:M.c.Yj,PY:h6.Fz,cl:n=="foregroundColor"?0:1,Z:e};y.S(q)}else console.log(w,n,H)}else if(w.vE=="Document"){var d=w.Z;
if(!1){}else if(n=="name"){Q.G=P.YV;Q.data={d:a.lj,Z:H,ac5:!0,VE:d};S.qF=!0}else if(n=="source")d.WY=H;
else if(n=="activeLayer"){d.g=[d.B.indexOf(H.Z)]}else if(n=="activeHistoryState"){Q.G=P.O$;Q.data={d:"h_itemchange",index:H.cm}}else console.log(w,n)}else if(w.vE=="Layer"){Q.G=P.YV;
var N={transparentPixelsLocked:0,pixelsLocked:1,positionLocked:2,allLocked:31},b=w.Z,z=S.B.indexOf(b);
if(!1){}else if(n=="visible"){if(b.tl()!=H)Q.data={d:a.Rw,j:z}}else if(n=="opacity"){Q.data={d:a.eq,j:z,z2:Math.round(255*H/100)}}else if(n=="blendMode"){Q.data={d:a.Cx,j:z,z2:eS.$Q.indexOf(H)}}else if(n=="name"){Q.data={d:a.$w,j:z,name:H}}else if(N[n]!=null){Q.data={d:a.Cz,j:z,z2:[[H],[N[n]]]}}else if(n=="kind"){Q.data={d:a.gI,j:z,r3:fE.S_.KO[H]}}else if(n=="grouped"){Q.data={d:a.vg,j:z,z2:H}}else console.log(w,n,H)}else if(w.vE=="TextItem"){Q.G=P.nr;
var b=w.Z,v=b.add.TySh,T=JSON.parse(JSON.stringify(v.EB)),Y=v.D.clone(),R=v.D.H5(),h=j1.md(T),E=j1.ni(T,0,h.length-2),G=!1;
if(!1){}else if(n=="contents"){j1.J9(T,0,h.length-1);j1.Uq(T,0,H.replace(/\r/g,"\n"))}else if(n=="size"){E.tq.FontSize=(H.Z!=null?H.Z:H)/R;
G=!0}else if(n=="leading"){E.tq.Leading=(H.Z!=null?H.Z:H)/R;G=!0}else if(n=="tracking"){E.tq.Tracking=H.Z!=null?H.Z:H;
G=!0}else if(n=="baselineShift"){E.tq.BaselineShift=H.Z!=null?H.Z:H;G=!0}else if(n=="fauxBold"){E.tq.FauxBold=H;
G=!0}else if(n=="fauxItalic"){E.tq.FauxItalic=H;G=!0}else if(n=="kind"){var k=j1.O_(T);if(k==1&&H==1){var $=new ir(T,y.bB.KF).AW[0],p=$.WQ[0].end,X=$.D5[p-1].end;
j1.J9(T,0,h.length-1);j1.Uq(T,0,h.slice(0,X-1))}if(k==H)j1.mn(T,1-H)}else if(n=="useAutoLeading"){E.AW.AutoLeading=H;
G=!0}else if(n=="hyphenation"){E.AW.AutoHyphenate=H;G=!0}else if(n=="justification"){E.AW.Justification=H;
G=!0}else if(n=="font"){j1.Ho(E,H);G=!0}else if(n=="color"){E.tq.FillColor.Values=H.Z.slice(0);G=!0}else if(n=="width"||n=="height"){var C=j1.fL(T).slice(0),D=fE.S_.at6(H);
if(n=="width")C[2]=Math.round(C[0]+D/R);else C[3]=Math.round(C[1]+D/R);j1.wr(T,C)}else if(n=="position"){Y.qH=H[0];
Y.fp=H[1]}else if(n=="horizontalScale"||n=="verticalScale"){var o=n[0].toUpperCase()+n.slice(1);E.tq[o]=H/100;
G=!0}else if(n=="antiAliasMethod")j1.ui(v,H);else console.log(w,n,H);if(G)j1.Xe(T,0,h.length-1,E);Q.data={d:"newED",mx:S.B.indexOf(b),ln:T,D:Y}}else if(w.vE=="Preferences"){if(!1){}else if(n=="rulerUnits"){var t=JSON.parse(JSON.stringify(A.al));
t.GZ=H;q.data={d:M.c.Yj,PY:h6.zz,z2:t};y.S(q)}else console.log(w,n,H)}else if(w.vE=="SolidColor"){if(n=="rgb")w.Z=H.Z;
else throw n}else if(w.vE=="RGBColor"){if(!1){}else if(n=="red")w.Z[1]=H/255;else if(n=="green")w.Z[2]=H/255;
else if(n=="blue")w.Z[3]=H/255;else if(n=="hexValue"){var u=O.eu(H.slice(1));w.Z[1]=(u>>>16&255)/255;
w.Z[2]=(u>>>8&255)/255;w.Z[3]=(u>>>0&255)/255}else console.log(w,n)}else if(w.vE=="ExportOptionsSaveForWeb"){if(n=="format")w.Z.xU=H;
else if(n=="PNG8"||n=="transparency"||n=="interlaced"){}else if(n=="quality")w.Z.P4=H;else throw n}else if(w.vE=="PNGSaveOptions"||w.vE=="JPEGSaveOptions"){if(n=="quality")w.Z.P4=Math.round(100*H/12)}else if(w.vE=="PDFSaveOptions"){if(n=="preset")w.Z.a1H=H}else if(w.vE=="$"){if(n=="localize"){}}else console.log(w,n,H);
if(Q.data!=null)y.S(Q)};fE.S_.B7=function(w,n,H,y,c){var Q=w.vE,q=null,S=new aL(M.E.v,!0),A=new aL(M.E.dp,!0),V=new aL(M.E.L,!0),e=y.Xz(),d=y.oE;
if(!1){}else if(Q=="Application"){if(!1){}else if(n=="charIDToTypeID"){var N=H[0].trim(),b={slct:"select",Dlt:"delete",Mk:"make"};
return b[N]?b[N]:N}else if(n=="stringIDToTypeID"){var z=H[0].trim(),b={red:"Rd",blue:"Bl",color:"Clr",RGBColor:"RGBC",type:"Type",using:"Usng"},v=b[z];
return v==null?z:v}else if(n=="typeIDToStringID"){return H[0].trim()}else if(n=="executeAction"){console.log(H);
var T;if(H[1]){T=H[1].Z;T.classID=H[0]}var Y={setd:"set"},R=Y[H[0]];if(R==null)R=H[0];var h=fb.LA[H[0]];
if(h&&fb.LT[h])R=fb.LT[h];A.data={fd:R,ei:T}}else if(n=="executeActionGet"){return{vE:"ActionDescriptor",Z:{classID:"null",null:{t:"obj ",v:H[0].Z}},B9:e.B[e.g[0]]}}else if(n=="doAction"){V.data={d:M.c.cX,Vm:[H[0],H[1]]}}else if(n=="bringToFront"){}else if(n=="open"){V.data={d:M.c.Jx,PY:{url:H[0]}};
if(H[2]&&d.length!=0)V.data.PY.Ws=d.indexOf(e)}else if(n=="echoToOE"){V.data={d:M.c.$p,PY:H[0]}}else console.log(n)}else if(Q=="LayerComp"){if(n=="apply"){S.G=P.xt;
S.data={d:"setLC",cm:e.PU.list.v[w.Z].v.compID.v}}else throw n}else if(Q=="Document"){var e=w.Z;if(!1){}else if(n=="crop"){A.data=P.RP.aoO(H[0])}else if(n=="trim"){var E=[];
for(var l=0;l<4;l++)E.push(H[l+1]!=null?H[l+1]:!0);A.data=P.RP.oU(H[0]!=null?H[0]:0,E)}else if(n=="suspendHistory"){var G=acorn.parse(H[1]);
fE.eval(G,y,c)}else if(n=="save"){V.data={d:M.c.Da}}else if(n=="saveToOE"){V.data={d:M.c.Da,qJ:H}}else if(n=="rotateCanvas"){A.data=P.WJ.kU(!0,H[0])}else if(n=="resizeImage"||n=="resizeCanvas"){var k=H[0],$=H[1];
if(typeof k!="number"){k=e.m*parseFloat(k.slice(0,k.length-1))/100;$=e.e*parseFloat($.slice(0,$.length-1))/100}if(n=="resizeCanvas")A.data=P.RP.agJ(Math.round(k),Math.round($),H[2]);
else A.data=P.RP.auW(Math.round(k),Math.round($),null,1)}else if(n=="paste"){V.data={d:M.c.Yu,mB:H.length!=0&&H[0],g1:!0}}else if(n=="close"){V.data={d:M.c.fT,jQ:e}}else if(n=="exportDocument"||n=="saveAs"){var p=c.__fs,X=n=="exportDocument"?H[2].Z:H[1].Z,C=H[0].Z.replace(":","").replace("~/","");
if(!C.toLowerCase().endsWith("."+X.xU))C+="."+X.xU;var D=cb._L(e,X.xU,null,null,X.xU=="pdf"?null:[X.P4],y.bB);
p[C]=new Uint8Array(D)}else if(n=="flatten"){A.data={fd:"flattenImage"}}else console.log(w,n,H)}else if(Q=="Layer"){var o=w.Z,t=e.B.indexOf(o);
if(!1){}else if(n=="copy"){fE.S_.RX(e,y,0);V.data={d:M.c.sX,Wi:H[0],qn:t,g1:!0};y.S(V);delete V.data;
fE.S_.RX(e,y,1)}else if(n=="clear"){fE.S_.RX(e,y,0);A.data={fd:"delete"};y.S(A);delete A.data;fE.S_.RX(e,y,1)}else if(n=="duplicate"){if(H.length==0){var u=e.g.slice(0);
S.data={d:a.Bc,j:t};S.G=P.YV;y.S(S);S.data=null;q={vE:"Layer",Z:e.B[e.g[0]],XS:w.XS};e.g=u}else if(H[0].vE=="Document"){S.data={d:a.J6,B:e.e_(t),tD:e,d3:H[0].Z};
S.G=P.YV}}else if(n=="merge"||n=="remove"){S.data={d:n=="merge"?a.s$:a.oM,j:t};S.G=P.YV;if(n!="remove")q={vE:"Layer",Z:e.B[e.g[0]],XS:w.XS}}else if(n=="move"){S.data={d:a.gq,source:t,target:e.B.indexOf(H[0].Z),IG:H[1]!=3?.6:.3};
S.G=P.YV}else if(n=="rasterize"){A.data={fd:"rasterizeLayer",ei:{classID:"rasterizeLayer",null:ih._K("Lyr",!0)}}}else if(n=="rotate"){S.data={d:"rot",hG:[2,5],Z:-H[0]*Math.PI/180,An:H[1],j:t};
S.G=P.xM}else if(n=="resize"){S.data={d:"scl",hG:[2,4],Z:new ce(H[0]/100,H[1]/100),An:H[2],j:t};S.G=P.xM}else if(n=="translate"){var m=fE.S_.a3f(H);
S.data={d:"trsl",j:t,aH:m[0],z$:m[1]};S.G=P.DX}else if(n=="link"){S.data={d:a.p7,asH:[t,e.B.indexOf(H[0].Z)]};
S.G=P.YV}else if(n=="invert"){S.G=P.bf;S.data={d:"start",k0:"nvrt"}}else if(n.startsWith("apply")&&gT.BT[n.slice(5)]||n.startsWith("adjust")&&gT.BT[n.slice(6)]){var U=n.startsWith("apply"),m=fE.S_.a3f(H),I=gT.BT[n.slice(U?5:6)];
A.data={fd:U?gT.LT[I]:fb.LT[I]};var T=gT.B1(I);if(T){e.g=[t];gT.qe["g"+I](T,m);A.data.ei=T}}else console.log(w,n,H)}else if(Q=="Documents"){if(n=="getByName"){for(var l=0;
l<d.length;l++)if(d[l].name==H[0])return{vE:"Document",Z:d[l]};return null}else if(n=="add"){var x=H[5];
if(x==null)x=1;A.data=iC.nz(H[0],H[1],H[2],H[3],["Wht","Trns","BckC"][x],!1)}else throw"e"}else if(Q=="Layers"){if(n=="getByName"){for(var l=0;
l<w.Z.length;l++)if(w.Z[l].Z.getName()==H[0]){q=w.Z[l];break}if(q==null)c.__throw={message:"No layer with a name "+H[0]}}else if(n=="add"){S.data={d:w.a7j=="layerSets"?a.vB:a.So};
S.G=P.YV;y.S(S);S.data=null;q={vE:"Layer",Z:e.B[e.g[0]],XS:w.XS}}else console.log(w,n,H)}else if(w.vE=="Selection"){if(n=="select"){var J=H[0],r=[];
for(var l=0;l<J.length;l++)r.push(J[l][0],J[l][1]);A.data=P.Me.jV(r)}else if(n=="clear"){A.data={fd:"delete"}}else if(n=="selectAll"){A.data=P.Me.pd(!0)}else if(n=="invert"){A.data={fd:"inverse"}}else if(n=="copy"){V.data={d:M.c.sX}}else if(n=="deselect"){A.data=P.Me.pd()}else if(n=="fill"){var Z=H[0].Z;
Z=O.M.Yw({b:Z[1]*255,J:Z[2]*255,k:Z[3]*255});A.data=P.sT.ba("Clr",H[1],H[2]==null?1:H[2]/100,Z)}else if(n=="grow"||n=="similar"){var T={classID:"null",null:{t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]}};
if(H[0]!=null)T.Tlrn={t:"long",v:H[0]};A.data={fd:n,ei:T}}else if(n=="expand"||n=="contract"||n=="feather"){A.data=P.Me.oN(n,H[0],!0)}else if(n=="translate"){var T={classID:"null",null:{t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]},T:{t:"Objc",v:{__name:"Offset",classID:"Ofst",Hrzn:{t:"UntF",v:{type:"#Pxl",val:H[0]}},Vrtc:{t:"UntF",v:{type:"#Pxl",val:H[1]}}}}};
A.data={fd:"move",ei:T}}else if(n=="smooth"){A.data=P.Me.oN("smoothness",H[0],!1)}else console.log(w,n,H)}else if(w.vE=="Window"){if(n=="show"){V.data={d:M.c.rL,Ln:w.Z}}else throw"e"}else if(w.vE=="ActionReference"){if(n=="putProperty"){w.Z.push({t:"prop",v:{classID:H[0],keyID:H[1]}})}else if(n=="putClass"){w.Z.push({t:"Clss",v:{classID:H[0]}})}else if(n=="putEnumerated"){w.Z.push({t:"Enmr",v:{classID:H[0],typeID:H[1],enum:H[2]}})}else if(n=="putName"){w.Z.push({t:"name",v:{classID:H[0],val:H[1]}})}else console.log(n,H)}else if(w.vE=="ActionDescriptor"||w.vE=="ActionList"){if(n=="putReference"){w.Z[H[0]]={t:"obj ",v:H[1].Z}}else if(n=="putDouble"){w.Z[H[0]]={t:"doub",v:H[1]}}else if(n=="putUnitDouble"){w.Z[H[0]]={t:"UntF",v:{type:H[1],val:H[2]}}}else if(n=="putObject"){if(w.vE=="ActionList"){var f=H[1].Z;
f.classID=H[0];w.Z.push({t:"Objc",v:f})}else{var f=H[2].Z;f.classID=H[1];w.Z[H[0]]={t:"Objc",v:f}}}else if(n=="putList"){w.Z[H[0]]={t:"VlLs",v:H[1].Z}}else if(n=="putBoolean"){w.Z[H[0]]={t:"bool",v:H[1]}}else if(n=="putInteger"){w.Z[H[0]]={t:"long",v:H[1]}}else if(n=="putString"){w.Z[H[0]]={t:"TEXT",v:H[1]}}else if(n=="putEnumerated"){var F={};
F[H[1]]=H[2];w.Z[H[0]]={t:"enum",v:F}}else if(n=="hasKey"){var o=e.B[e.g[0]],N=H[0];if(N=="textKey")return o.add.TySh!=null;
var _=w.Z.null.v;for(var l=0;l<_.length;l++){if(_[l].v.keyID==H[0]){if(N=="UsrM"){return o.LZ()!=null}else throw H}}}else if(n=="getEnumerationValue"){if(H[0]=="layerSection")q="layerSectionContent";
else console.log(H)}else if(n=="getBoolean"){if(H[0]=="background")q=!1;else console.log(H)}else if(n=="getString"){if(H[0]=="name")q=w.B9.getName();
else if(H[0]=="textKey")q=j1.md(w.B9.EB);else console.log(w,H)}else if(n=="getObjectValue"){if(H[0]=="textKey"){q={vE:"ActionDescriptor",B9:w.B9.add.TySh}}else if(typeof H[0]=="number")q=w.B9[H[0]];
else throw H[0]}else if(n=="getList"){q={vE:"ActionList"};if(H[0]=="paragraphStyleRange")q.B9=w.B9.EB.EngineDict.ParagraphRun.RunArray;
else if(H[0]=="kerningRange")q.B9=[];else if(H[0]=="textStyleRange")q.B9=w.B9.EB.EngineDict.StyleRun.RunArray;
else throw H}else console.log(n,H)}else if(w.vE=="$"){if(n=="writeln"){console.log(H[0])}else throw n}else if(w.vE=="UI"){if(n=="scroll"||n=="scrollTo"){var K=H[0],B=H[1],ij=e.u.N;
if(n=="scrollTo"){K=(-e.m/2+K)*ij+e.u.Q.x;B=(-e.e/2+B)*ij+e.u.Q.y}S.G=P.em;S.data={d:"scroll",c5:new ce(Math.round(K),Math.round(B))}}else{var W;
if(n=="zoomIn"||n=="zoomOut"){W={d:"zoom",wy:n=="zoomIn"}}else if(n=="fitTheArea"){W={d:"adapt",Z:"fitscr"}}else if(n=="pixelToPixel"){W={d:"adapt",Z:"pixel"}}S.G=P.uD;
S.data=W;if(n=="switchFullscreen"){var L=y.bB.PO,i=document.fullscreenElement!=null==(L==2);V.data={d:M.c.GK,Z:L==0?2:0,Lq:i}}}}else if(w.vE=="Folder"){if(n=="selectDialog")q="img";
else throw n}else console.log(w,n,H);if(S.data)y.S(S);if(A.data)y.S(A);if(V.data)y.S(V);return q};fE.S_.RX=function(w,n,H){var y=new aL(M.E.v,!0);
y.G=P.pj;var c=new aL(M.E.dp,!0);if(H==0){fE.S_.anP=w.P;c.data=P.Me.pd(!0)}else{var Q=fE.S_.anP;if(Q)y.data={d:"setsel",hG:"Restore Selection",P:{rect:Q.rect.clone(),channel:Q.channel.slice(0)}};
else c.data=P.Me.pd()}n.S(y.data?y:c)};fE.S_.anP=null;fE.S_.tP={AnchorPosition:{TOPLEFT:0,TOPCENTER:1,TOPRIGHT:2,MIDDLELEFT:3,MIDDLECENTER:4,MIDDLERIGHT:5,BOTTOMLEFT:6,BOTTOMCENTER:7,BOTTOMRIGHT:8},Units:{PIXELS:0,INCHES:1,CM:2,MM:3,PERCENT:4,PICAS:5,POINTS:6},ElementPlacement:{INSIDE:0,PLACEATBEGINNING:1,PLACEATEND:2,PLACEBEFORE:3,PLACEAFTER:4},LayerKind:{NORMAL:0,SMARTOBJECT:1,TEXT:2,SOLIDFILL:3,GRADIENTFILL:4,PATTERNFILL:5},RippleSize:{SMALL:0,MEDIUM:1,LARGE:2},PolarConversionType:{POLARTORECTANGULAR:1,RECTANGULARTOPOLAR:0},OffsetUndefinedAreas:{REPEATEDGEPIXELS:0,SETTOBACKGROUND:1,WRAPAROUND:2},NoiseDistribution:{GAUSSIAN:0,UNIFORM:1},TextType:{PARAGRAPHTEXT:0,POINTTEXT:1},DialogModes:{ALL:0,ERROR:1,NO:2},SaveOptions:{DONOTSAVECHANGES:0,PROMPTTOSAVECHANGES:1,SAVECHANGES:2},SaveDocumentType:{PNG:"png",JPEG:"jpg",COMPUSERVEGIF:"gif"},ExportType:{SAVEFORWEB:0},MatteType:{BACKGROUND:0,BLACK:1,FOREGROUND:2,NETSCAPE:3,NONE:4,SEMIGRAY:5,WHITE:6},FormatOptions:{OPTIMIZEDBASELINE:0,PROGRESSIVE:1,STANDARDBASELINE:3},DocumentMode:{BITMAP:0,CMYK:1,DUOTONE:2,GRAYSCALE:3,INDEXEDCOLOR:4,LAB:5,MULTICHANNEL:6,RGB:7},NewDocumentMode:{BITMAP:0,CMYK:1,DUOTONE:2,GRAYSCALE:3,INDEXEDCOLOR:4,LAB:5,MULTICHANNEL:6,RGB:7},DocumentFill:{WHITE:0,TRANSPARENT:1,BACKGROUNDCOLOR:2},TrimType:{TOPLEFT:0,BOTTOMRIGHT:1,TRANSPARENT:2},WaveType:{SINE:0,TRIANGULAR:1,SQUARE:2},UndefinedAreas:{WRAPAROUND:0,REPEATEDGEPIXELS:1},BlendMode:{NORMAL:"norm",DISSOLVE:"diss",DARKEN:"dark",MULTIPLY:"mul ",COLORBURN:"idiv",LINEARBURN:"lbrn",DARKERCOLOR:"dkCl",LIGHTEN:"lite",SCREEN:"scrn",COLORDODGE:"div ",LINEARDODGE:"lddg",LIGHTERCOLOR:"lgCl",OVERLAY:"over",SOFTLIGHT:"sLit",HARDLIGHT:"hLit",VIVIDLIGHT:"vLit",LINEARLIGHT:"lLit",PINLIGHT:"pLit",HARDMIX:"hMix",DIFFERENCE:"diff",EXCLUSION:"smud",SUBTRACT:"fsub",DIVIDE:"fdiv",HUE:"hue ",SATURATION:"sat ",COLOR:"colr",LUMINOSITY:"lum "},Justification:{LEFT:0,RIGHT:1,CENTER:2,LEFTJUSTIFIED:3,RIGHTJUSTIFIED:4,CENTERJUSTIFIED:5,FULLYJUSTIFIED:6},AntiAlias:{NONE:0,SHARP:1,CRISP:2,STRONG:3,SMOOTH:4},Extension:{LOWERCASE:0,NONE:1,UPPERCASE:2},RasterizeType:{ENTIRELAYER:0,FILLCONTENT:1,LAYERCLIPPINGPATH:2,LINKEDLAYERS:3,SHAPE:4,TEXTCONTENTS:5}};
fE.S_.tP.ColorBlendMode=fE.S_.tP.BlendMode;fE.S_.KO="---- SoLd TySh SoCo GdFl PtFl".split(" ");function ka(){}ka.U7={"dc:Title":["",null,"dc:title"],"tiff:Artist":["",315,"dc:creator"],"tiff:ImageDescription":["",270,"dc:description"],"dc:Keywords":["",null,"dc:subject"],"tiff:Copyright":["",33432],"tiff:Make":["",271],"tiff:Model":["",272],"exif:ExposureTime":[[1,200],33434],"exif:FNumber":[[16,1],33437],"exif:ExposureProgram":[1,34850],"exif:ISOSpeedRatings":[200,34855],"exif:DateTimeOriginal":["",36867],"exif:ShutterSpeedValue":[[1,1],37377],"exif:ApertureValue":[[8,1],37378],"exif:ExposureBiasValue":[[1,1],37380],"exif:MaxApertureValue":[[1,1],37381],"exif:MeteringMode":[5,37383],"exif:LightSource":[0,37384],"exif:Flash":[0,37385],"exif:FocalLength":[[60,1],37386],"exif:PixelXDimension":[1,40962],"exif:PixelYDimension":[1,40963],"exif:FocalPlaneXResolution":[[1,1],41486],"exif:FocalPlaneYResolution":[[1,1],41487],"exif:FocalPlaneResolutionUnit":[2,41488],"exif:DigitalZoomRatio":[[100,100],41988],"exif:FocalLengthIn35mmFilm":[1,41989],"exif:SceneCaptureType":[0,41990],"exif:LensInfo":["",42034],"exif:Lens":["",42036],"exif:LensSerialNumber":["",42037],"exif:SensitivityType":[2,34864],"exif:RecommendedExposureIndex":[100,34866],"exif:GPSVersionID":["2.3.0.0",0],"exif:GPSLatitude":["48,35,57.646N",2],"exif:GPSLongitude":["22,56,42.238E",4],"exif:GPSAltitudeRef":[0,5],"exif:GPSAltitude":[[1,1],6],"exif:GPSStatus":["A",9],"exif:GPSMapDatum":["",18],"Iptc4xmpCore:IntellectualGenre":[""],"Iptc4xmpCore:Location":[""],"Iptc4xmpCore:CountryCode":[""],"photoshop:Instructions":[""],"photoshop:AuthorsPosition":[""],"photoshop:City":[""],"photoshop:State":[""],"photoshop:Country":[""],"photoshop:TransmissionReference":[""],"photoshop:Headline":[""],"photoshop:Credit":[""],"photoshop:Source":[""],"dc:rights":[""],"photoshop:CaptionWriter":[""]};
ka.HG={"4":"Iptc4xmpCore:IntellectualGenre","5":"dc:Title","40":"photoshop:Instructions","80":"tiff:Artist","85":"photoshop:AuthorsPosition","90":"photoshop:City","92":"Iptc4xmpCore:Location","95":"photoshop:State","100":"Iptc4xmpCore:CountryCode","101":"photoshop:Country","103":"photoshop:TransmissionReference","105":"photoshop:Headline","110":"photoshop:Credit","115":"photoshop:Source","116":"dc:rights","120":"tiff:ImageDescription","122":"photoshop:CaptionWriter"};
ka.arp=function(w,n){if(n==null)n={};var H=ka.HG,y=[],c=[],Q="";for(var l=0;l<w.length;l++){var q=w[l],S=H[q[0]+""];
if(S&&n[S]==null)n[S]=q[1];else if(q[0]==12)c.push(q[1]);else if(q[0]==25)y.push(q[1]);else if(q[0]==55)Q=q[1];
else if(q[0]==60)Q+=";"+q[1]}if(Q!=""&&n["exif:DateTimeOriginal"]==null)n["exif:DateTimeOriginal"]=Q;
if(c.length!=0&&n["Iptc4xmpCore:SubjectCode"]==null)n["Iptc4xmpCore:SubjectCode"]=c.join(";");if(y.length!=0&&n["dc:Keywords"]==null)n["dc:Keywords"]=y.join(";");
return n};ka.aor=function(w){var n=ka.HG,H=[];for(var y in n)if(w[n[y]])H.push([parseInt(y),w[n[y]]]);
if(w["Iptc4xmpCore:SubjectCode"]){var c=w["Iptc4xmpCore:SubjectCode"].split(";");for(var l=0;l<c.length;
l++)H.push([12,c[l].trim()])}if(w["dc:Keywords"]){var c=w["dc:Keywords"].split(";");for(var l=0;l<c.length;
l++)H.push([25,c[l].trim()])}H.sort(function(Q,q){return Q[0]-q[0]});return H};ka.ae8=function(w,n){if(n==null)n={};
var H=new DOMParser,y=H.parseFromString(w,"image/svg+xml"),c=y.getElementsByTagName("rdf:Description")[0];
if(c==null)return n;var Q=ka.U7;for(var q in Q){var S=Q[q][2];if(S==null)continue;var A=c.getElementsByTagName(S)[0];
if(A==null)continue;var V=A.getElementsByTagName("rdf:li"),e=[];for(var l=0;l<V.length;l++)e.push(V[l].textContent);
n[q]=e.join("; ")}return n};ka.apB=function(w){var n=["<?xpacket begin=\"\uFEFF\" id=\"W5M0MpCehiHzreSzNTczkc9d\"?>","<x:xmpmeta xmlns:x=\"adobe:ns:meta/\" x:xmptk=\"Adobe XMP Core 5.6-c145 79.163499, 2018/08/13-16:40:22\">","<rdf:RDF xmlns:rdf=\"http://www.w3.org/1999/02/22-rdf-syntax-ns#\">","<rdf:Description rdf:about=\"\" xmlns:xmp=\"http://ns.adobe.com/xap/1.0/\" xmlns:dc=\"http://purl.org/dc/elements/1.1/\" xmlns:xmpMM=\"http://ns.adobe.com/xap/1.0/mm/\" xmlns:stEvt=\"http://ns.adobe.com/xap/1.0/sType/ResourceEvent#\" xmlns:stRef=\"http://ns.adobe.com/xap/1.0/sType/ResourceRef#\">"],H=ka.U7;
for(var y in H){var c=w[y],Q=H[y][2],q="Seq",S="";if(c==null||Q==null)continue;if(Q=="dc:title"||Q=="dc:description"){q="Alt";
S=" xml:lang=\"x-default\""}if(Q=="dc:subject")q="Bag";n.push("\t<"+Q+"><rdf:"+q+">");var A=Q=="dc:subject"?c.split(";").join(",").split(","):[c];
for(var l=0;l<A.length;l++)n.push("\t\t<rdf:li"+S+">"+A[l].trim()+"</rdf:li>");n.push("\t</rdf:"+q+"></"+Q+">")}n.push("</rdf:Description>","</rdf:RDF>","</x:xmpmeta>","<?xpacket end=\"w\"?>");
return n.join("\n")};ka.a0C=function(w){var n=[];for(var l=0;l<w.length;l++)n[l]=w[l][1]==0?0:w[l][0]/w[l][1];
return n};ka.anM=function(w){var n=[];for(var l=0;l<w.length;l++){var H=w[l],y=1;if(H!=Math.round(H)){y=1e3;
H=Math.round(H*y)}n[l]=[H,y]}return n};ka.XA=function(w,n){var H=ka.U7;if(n==null)n={};for(var y in H){var c=H[y][1],Q="t"+c;
if(c!=null&&w[Q]!=null){var q=w[Q];if(c==0)q=q.join(".");else if(c==2||c==4){var S=w["t"+(c-1)];if(S==null)S=[c==2?"N":"E"];
q=ka.a0C(q).join(",")+S[0]}else if(c==42034)q=ka.a0C(q).join(" ");else if(c==270||c==315){var A=q[0],V=new Uint8Array(A.length);
j.lY(V,0,A);q=j.NR(V)}else q=q[0];n[y]=q}}if(w.exifIFD)ka.XA(w.exifIFD,n);if(w.gpsiIFD)ka.XA(w.gpsiIFD,n);
return n};ka.Po=function(w,n,H){var y=ka.U7,Q=0,S=0;if(n==null)n={};var c={},q={};for(var A in y){if(w[A]==null||y[A][1]==null)continue;
var V=y[A][1],e="t"+V,d=n;if(A.startsWith("exif:")){d=c;Q++;if(A.startsWith("exif:GPS")){d=q;S++}}var N=w[A];
if(V==0)N=new Uint8Array(N.split(".").map(parseFloat));else if(V==2||V==4){var b=N.length;d["t"+(V-1)]=[N.slice(N.length-1)];
N=ka.anM(N.split(",").map(parseFloat))}else if(V==42034)N=ka.anM(N.split(" ").map(parseFloat));else if(V==270||V==315){var z=j.bv(N);
N=[j.QN(z,0,z.length)]}else N=[N];d[e]=N}if(Q!=0){n.exifIFD=c;n.t34665=[0]}if(S!=0){n.gpsiIFD=q;n.t34853=[0]}var v=new Date,T=[v.getFullYear(),v.getMonth()+1,v.getDate(),v.getHours(),v.getMinutes(),v.getSeconds()];
for(var l=0;l<6;l++)T[l]=(T[l]+"").padStart(2,"0");n.t305=["Photopea Editor (www.photopea.com)"];if(H!=!0)n.t306=[T[0]+":"+T[1]+":"+T[2]+" "+T[3]+":"+T[4]+":"+T[5]];
return n};function eC(){}eC.V2=function(w){var n={a9x:",",WI:"\r\n",JG:"\""},H=[[""]],y,c,Q,q,S;for(y=c=Q=q=0;
Q<w.length;Q++){switch(S=w.charAt(Q)){case n.JG:if(q&&w.charAt(Q+1)==n.JG){H[y][c]+=n.JG;++Q}else{q^=1}break;
case n.a9x:if(!q){H[y][++c]=""}else{H[y][c]+=S}break;case n.WI.charAt(0):if(!q&&(!n.WI.charAt(1)||n.WI.charAt(1)&&n.WI.charAt(1)==w.charAt(Q+1))){H[++y]=[""];
H[y][c=0]="";if(n.WI.charAt(1)){++Q}}else{H[y][c]+=S}break;default:H[y][c]+=S}}if(H[H.length-1].length<H[0].length)H.pop();
return H};var s={};s.arn=0;s.tu=function(){s.arn++;return s.arn};s.a80="uint8";s.tf=function(w){w.n.style.transition="opacity 0.1s ease-out, transform 0.1s ease-out";
w.n.style.opacity="1";w.n.style.transform="scale(1)"};s.ul=function(w,n){w.n.style.opacity="0";w.n.style.transform="scale(0.95)";
if(n)setTimeout(function(){n.removeChild(w.n)},100)};s.avB=function(){var w=s.axd();if(w=="")return 0;
if(w!=s.hj("_TXZRPB;d7@;")){var n=s.L2[iQ.sS][iQ.J3],H=n.indexOf(String.fromCharCode(35)),y;if(H==-1)return 0;
try{y=JSON.parse(s.L2[iQ.akb](n.slice(H+1)))}catch(hV){return 0}var c=y[s.hj("bQ[ODL<E<M")];if(c==null||c.length<<2!=64)return 0;
var Q=iQ._z(),q=parseInt(c.slice(3*4).split("").reverse().join(""),16)<<16;if(q<Q||c!=iQ.a1v(q,w))return 0;
return 2}return 1};s.axd=function(){var w=s.L2[s.na("}$z{2*35")][s.hj("W[\\ZQAJ?")],n=String.fromCharCode(46),H=w.split(n);
if(H.length<2)return"";var y=H.pop();y=H.pop()+n+y;return y};s.a0I=function(){if(s.L2[iQ.ah1][iQ.a2C]){var w=new s.L2[iQ.Ls];
w[iQ.le](iQ.avo,s.hj("W`]VVykhNKH[;046.,}v@r{v5samc&YgSY\\rRGLw=oaR3+`%|")+s.axd());w[iQ.Og]()}};s.tr=function(){if(window.top!=window.self)return!1;
var w=navigator.userAgent.toLowerCase();if(w.indexOf("android")!=-1)return!1;if(w.indexOf("safari")!=-1&&w.indexOf("chrome")==-1)return!1;
return window.ClipboardItem!=null};s.vL=function(w){this.gp=w;this.aq2=s.t("img");this.Ot=s.t("canvas");
this.o3=null;this.OC="";this.q6=null;this.JA=new ce(0,0);this.CG=!0;s.I7(this.gp,this.X1.bind(this))};
s.vL.prototype.nQ=function(w,n){this.o3=w;if(n)this.OC=n;this.X1()};s.vL.prototype.rD=function(w){this.CG=w;
this.X1()};s.vL.prototype.X1=function(w){if(w)this.JA=s.E4(w,this.gp);var n=this.CG?this.o3:"auto",H=typeof n=="string";
if(!H){var y=s.V(),c=this.JA,Q=n.U2.m,q=n.U2.e,S=typeof n.c1=="string",A=S?this.aq2:this.Ot;if(S)A.setAttribute("src",n.c1);
else{A.width=Q;A.height=q;var V=A.getContext("2d"),e=new ImageData(new Uint8ClampedArray(n.c1.buffer),Q,q);
V.putImageData(e,0,0)}A.setAttribute("style"," position:absolute; pointer-events:none;user-select:none;"+"top:"+(c.y-n._O.y/y)+"px; left:"+(c.x-n._O.x/y)+"px; width:"+Q/y+"px; height:"+q/y+"px");
var d=this.q6;if(d==null||d!=A){if(d)this.gp.removeChild(d);this.gp.appendChild(A);this.q6=A}}else if(this.q6){this.gp.removeChild(this.q6);
this.q6=null}this.gp.setAttribute("style","cursor:"+(H?n:"none")+"; "+this.OC)};s.WN=function(w){return w.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#039;")};
s.KY=function(w,n){w.TO(hV.get([12,41]).charAt(0)+":");n.TO(hV.get([12,42]).charAt(0)+":")};s.t=function(w,n){var H=document.createElement(w);
if(n!=null)H.className=n;return H};s.Of=function(w){while(w.firstChild)w.removeChild(w.firstChild)};
s.li=function(w,n){var H=w.className;H=H.split(" ");if(H.indexOf(n)==-1)H.push(n);w.className=H.join(" ")};
s.n_=function(w,n){var H=w.className;if(H=="")return;H=H.split(" ");if(H.indexOf(n)!=-1)H.splice(H.indexOf(n),1);
w.className=H.join(" ")};s._Q=function(w){while(!0){if(w==document)return!0;if(w==null)return!1;w=w.parentNode}};
s.yD=function(w){w.appendChild(s.t("br"))};s.SR=function(w){w.appendChild(s.t("hr"))};s.gi=function(w,n,H){var y=new eO([1,12,1],H==null?!0:H,null,!0);
if(w)y.h("click",w.eL,w);if(n)n.appendChild(y.n);return y};s.L2=document;s.jg=function(w){var n=0;for(var l=0;
l<w;l++)n+=Math.random();return n/w<Math.PI/4};s.hj=function(w){var n="";if(!s.jg(28))w+="-3";for(var l=0;
l<w.length;l++){var H=w.charCodeAt(l);if(H<32||126<H)throw"e";n+=String.fromCharCode(32+(H-32+17+3*l)%95)}return n};
s.na=function(w){var n="";if(!s.jg(28))w+="-1";for(var l=0;l<w.length;l++){var H=w.charCodeAt(l);H-=32;
H+=95e4;H-=17+3*l;H=H%95;n+=String.fromCharCode(32+H)}return n};s.nT=function(w){var n=Math.random();
s.a80="uint"+(3+n);return new w};(function(){var w=window.PointerEvent,n=w?"pointer":"mouse",H=n+"down",y=n+"move",c=n+"up",Q=!1;
s.am=function(q,S){q.addEventListener(H,S,Q);if(!w)q.addEventListener("touchstart",S,Q)};s.I7=function(q,S){q.addEventListener(y,S,Q);
if(!w)q.addEventListener("touchmove",S,Q)};s.vM=function(q,S){q.addEventListener(c,S,Q);if(!w)q.addEventListener("touchend",S,Q)};
s.a2j=function(q,S){q.removeEventListener(H,S,Q);if(!w)q.removeEventListener("touchstart",S,Q)};s.kg=function(q,S){q.removeEventListener(y,S,Q);
if(!w)q.removeEventListener("touchmove",S,Q)};s.v8=function(q,S){q.removeEventListener(c,S,Q);if(!w)q.removeEventListener("touchend",S,Q)}}());
s.g0=function(w){w.addEventListener("touchstart",s.BA,!1);w.addEventListener("touchmove",s.BA,!1);w.addEventListener("touchend",s.BA,!1);
w.addEventListener("gesturestart",s.BA,!1);w.addEventListener("gesturechange",s.BA,!1);w.addEventListener("gestureend",s.BA,!1)};
s.ae$=function(w){var n=w.sourceCapabilities;if(n)return n.firesTouchEvents;return!1};s.pD=function(w,n,H,y){var c=s.V();
w.width=Math.floor(n*c);w.height=Math.floor(H*c);if(y)y.scale(c,c);s.cY(w)};s.cY=function(w){var n=s.V();
w.style.width=w.width/n+"px";w.style.height=w.height/n+"px"};s.cD=function(w,n,H){w.setAttribute("style","width:"+n/s.V()+"px; height:"+H/s.V()+"px")};
s.E4=function(w,n){if(n==null)n=w.currentTarget;var H=n.getBoundingClientRect();if(w.touches)w=w.touches.item(0);
return{x:w.clientX-H.left,y:w.clientY-H.top}};s.V=function(){return window.devicePixelRatio||1};s.iV=function(w){w.addEventListener("keydown",s.a7A,!1)};
s.a7A=function(w){w.stopPropagation()};s.BA=function(w){w.preventDefault()};s.yZ=function(w){w.stopPropagation();
w.preventDefault()};s.OE=function(w,n,H){H=H?H:"";if(PIMG["__"+w]==null)H+=" gsicon";return"<img src=\""+PIMG[w]+"\" alt=\""+(n?n:"")+"\" class=\""+H+"\" />"};
s.Su=function(w,n,H,y){var c=w.dataTransfer.getData("text/uri-list");if(c!=null&&c.startsWith("http")){var Q=new aL(M.E.L,!0);
Q.data={d:M.c.Jx,PY:{url:c,oD:!0,Ws:H,wq:y}};n.S(Q)}if(w.dataTransfer.files.length==0)return;if(window.showOpenFilePicker){var q=[],S=w.dataTransfer.items.length,A=w.dataTransfer.files;
for(var V of w.dataTransfer.items)V.getAsFileSystemHandle().then(function(e){q.push(e);if(q.length==S){var Q=new aL(M.E.L,!0);
Q.data={d:M.c.nh,data:A,Ws:H,wq:y,a20:q};n.S(Q)}})}else{var Q=new aL(M.E.L,!0);Q.data={d:M.c.nh,data:w.dataTransfer.files,Ws:H,wq:y};
n.S(Q)}};if(s.jg(27))s.L2=window;else s.L2=s.a0t;s.L2._cwY=s.L2[s.na("t$&!'31")];var gd={};gd.a6Q=function(l){var w=gd.Fg[l],n=document.documentElement.style,y=1;
n.setProperty("--base","#"+O.w9(w["--base"]));n.setProperty("--bg-panel","#"+O.w9(w["--bg-panel"]));
n.setProperty("--bg-canvas","#"+O.w9(w["--bg-canvas"]));n.setProperty("--bg-input","#"+O.w9(w["--bg-input"]));
n.setProperty("--bg-bbtn","#"+O.w9(w["--bg-bbtn"]));n.setProperty("--bg-bbtnOver","#"+O.w9(w["--bg-bbtnOver"]));
n.setProperty("--brdr","#"+O.w9(w["--brdr"]));n.setProperty("--text-color","#"+O.w9(w["--text-color"]));
n.setProperty("--brdrLgt","rgba(255,255,255,"+w["--brdrLgt"]+")");n.setProperty("--brdrDrk","rgba(  0,  0,  0,"+w["--brdrDrk"]+")");
n.setProperty("--alphaDark",""+w["--alphaDark"]);n.setProperty("--gs-invert",""+w["--gs-invert"]);n.setProperty("--accent","#"+O.w9(w["--accent"]));
var H=w["--sh-clr"];n.setProperty("--sh-clr","rgba("+(H>>16)+","+(H>>8&255)+","+(H&255)+", 0.45)");n.setProperty("--sh-dy",""+w["--sh-dy"]+"px");
if(1<s.V()&&s.V()<1.5)y=1/s.V();n.setProperty("--img20",20*y+"px");n.setProperty("--img18",18*y+"px");
n.setProperty("--img15",15*y+"px");if(PIMG!=null){var c="lrs/eye lrs/square lrs/arrow_down lrs/arrow_right lrs/chain lrs/link lrs/linkX lrs/clipping lrs/lock lrs/fx lrs/folder cross tools/cshape checkmark".split(" ");
for(var l=0;l<c.length;l++){var Q=c[l],q=Q.split("/").pop(),S=PIMG["__"+Q]==null?w["--gs-invert"]:"0";
n.setProperty("--icon_"+q,"url("+PIMG[Q]+")");n.setProperty("--icon_"+q+"_invrt",S)}}var A=document.querySelector("meta[name=theme-color]");
if(A)A.setAttribute("content","#"+O.w9(w["--base"]))};(function(){var w=3441398,n=3441398;gd.Fg=[{name:"Light Grey","--base":14737632,"--bg-panel":11579568,"--bg-canvas":11579568,"--bg-input":16777215,"--bg-bbtn":15921906,"--bg-bbtnOver":16777215,"--brdrLgt":.5,"--brdrDrk":.4,"--alphaDark":.12,"--text-color":3749943,"--gs-invert":.22,"--brdr":11579568,"--sh-clr":16777215,"--sh-dy":1,"--accent":n},{name:"Dark Grey","--base":4671303,"--bg-panel":2434341,"--bg-canvas":2434341,"--bg-input":2434341,"--bg-bbtn":6118749,"--bg-bbtnOver":6974058,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":14013909,"--gs-invert":.78,"--brdr":2434341,"--sh-clr":0,"--sh-dy":-1,"--accent":w},{name:"Blue","--base":4212048,"--bg-panel":2435637,"--bg-canvas":2434341,"--bg-input":2435637,"--bg-bbtn":6316138,"--bg-bbtnOver":6974074,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":15790330,"--gs-invert":.88,"--brdr":2435637,"--sh-clr":0,"--sh-dy":-1,"--accent":w},{name:"Dark Blue","--base":2237745,"--bg-panel":1513761,"--bg-canvas":1513761,"--bg-input":1513761,"--bg-bbtn":3554128,"--bg-bbtnOver":3158085,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":12303291,"--gs-invert":.8,"--brdr":1513761,"--sh-clr":0,"--sh-dy":-1,"--accent":w},{name:"Purple","--base":4931153,"--bg-panel":3287605,"--bg-canvas":2434341,"--bg-input":3287605,"--bg-bbtn":6840430,"--bg-bbtnOver":7694970,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":15790330,"--gs-invert":.88,"--brdr":3287605,"--sh-clr":0,"--sh-dy":-1,"--accent":w},{name:"Black","--base":3487029,"--bg-panel":1710618,"--bg-canvas":1710618,"--bg-input":1710618,"--bg-bbtn":5263440,"--bg-bbtnOver":5921370,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":13421772,"--gs-invert":.7,"--brdr":1710618,"--sh-clr":0,"--sh-dy":-1,"--accent":w},{name:"White","--base":16250871,"--bg-panel":14737632,"--bg-canvas":14737632,"--bg-input":16777215,"--bg-bbtn":14737632,"--bg-bbtnOver":14079702,"--brdrLgt":.2,"--brdrDrk":.2,"--alphaDark":.065,"--text-color":3355443,"--gs-invert":.18,"--brdr":14737632,"--sh-clr":16777215,"--sh-dy":1,"--accent":n}]}());
function c8(){this.Lc={};this.ib={}}c8.prototype.auK=function(w){var n=this.Lc[w];if(n==null)return!1;
return n.length>0};c8.prototype.addEventListener=function(w,n){this.h(w,n,null)};c8.prototype.h=function(w,n,H){if(this.Lc[w]==null){this.Lc[w]=[];
this.ib[w]=[]}this.Lc[w].push(n);this.ib[w].push(H)};c8.prototype.removeEventListener=function(w,n){var H=this.Lc[w];
if(H==null)return;var y=H.indexOf(n);if(y<0)return;var c=this.ib[w];H.splice(y,1);c.splice(y,1)};c8.prototype.S=function(w){w.currentTarget=this;
if(w.target==null)w.target=this;var n=this.Lc[w.type];if(n==null)return;var H=this.ib[w.type];for(var l=0;
l<n.length;l++){if(H[l]==null)n[l](w);else n[l].call(H[l],w)}};var aL=function(w,n){if(!n)n=!1;this.type=w;
this.target=null;this.currentTarget=null;this.bubbles=n;this.G=null;this.Pg=!1},M={E:{v:"0",L:"1",dp:"1.5",A:"2",n8:"3",a8j:"4"},c:{bc:"10",hf:"11",SP:"12",my:"13",N4:"14",a5w:"14.1",Jx:"15",hN:"16",Ul:"17",QO:"18",Da:"19",aeu:"19.5",a6q:"20",a9F:"20.1",aj1:"20.5",a18:"20.6",VN:"21",sX:"22",Yu:"23",Fp:"24",rL:"25",fI:"26",uJ:"27",Tr:"28",aea:"28.5",a7K:"29",nh:"30",DY:"31",po:"32",ns:"33",Hi:"34",Yj:"35",a2e:"35.5",ee:"37",a3l:"38",el:"39",yW:"40",_t:"41",$p:"41.5",a00:"42",iI:"43",afG:"43.5",fT:"44",agn:"45",r9:"46",ka:"47",i9:"48",cX:"49",a4h:"50",GK:"51"}};
function bU(){c8.call(this);this.parent=null;this.n=null;this.pV=0;this.WZ=0;this.a50=!1}bU.prototype=new c8;
bU.prototype.aqj=function(w){var ds=this;while(ds!=null){if(ds==w)return!0;ds=ds.parent}return!1};bU.prototype.YG=function(){var w=this.n;
return w.offsetWidth+w.clientLeft};bU.prototype.aqT=function(){var w=this.n;return w.offsetHeight+w.clientTop};
bU.prototype.update=function(w){};bU.prototype.S=function(w){c8.prototype.S.call(this,w);if(w.bubbles&&this.parent!=null)this.parent.S(w)};
bU.prototype.f=function(){};bU.prototype.kc=function(w,n){};bU.prototype.j7=function(w){s.li(this.n,"disabled")};
bU.prototype.ZF=function(w){s.n_(this.n,"disabled")};bU.prototype.rD=function(w){if(w)this.ZF();else this.j7()};
bU.prototype.eW=function(){this.a50=!0};bU.prototype.Gb=function(){var w=this.Ty,n=this.a50,H=this.pr;
if(w){w=hV.get(this.Ty);if(!n)w+=":";H.textContent=w;if(n){H.style.display="block";H.style.lineHeight="1.6em";
H.style.marginLeft="3px";s.n_(H,"flabel")}}if(n){this.ey.style.fontSize="1.15em"}};function jg(w){bU.call(this);
this.I4=[];this.hC=!1;this.a07=0;this.Zr={x:0,y:0,iO:!1};this.sD=w;this.avk=this.A9.bind(this);this.lo=this.jf.bind(this);
this.ahR=this.Cw.bind(this);s.am(w,this.avk);s.I7(w,this.lo);w.addEventListener("wheel",this.nV.bind(this),!1);
w.addEventListener("contextmenu",this.aqY.bind(this),!1);var n=this.awa.bind(this);w.addEventListener("gesturestart",n,!1);
w.addEventListener("gesturechange",n,!1);w.addEventListener("gestureend",n,!1);s.g0(w)}jg.prototype=new bU;
jg.prototype.awa=function(w){if(w.type=="gesturestart")this.Bp=w.scale;if(w.type=="gesturechange"){var n=new aL("mouse",!0);
n.action="scroll";n.Aa=!0;this.TR(w,n);var H=(this.Bp-w.scale)/this.Bp;n.c5=new ce(0,100*H);this.Bp=w.scale;
this.S(n)}};jg.prototype.jO=function(w){var n=-1,H=this.I4;for(var l=0;l<H.length;l++)if(H[l].pointerId==w.pointerId)n=l;
return n};jg.oX=function(w){var n=w.pointerType,H=window.__kb;return n=="touch"&&H.l(b8.aeL)};jg.prototype.A9=function(w){if(jg.oX(w))return;
var n=this.jO(w);if(n!=-1)this.I4[n]=w;else this.I4.push(w);if(this.I4.length==1){this.a07=Date.now();
var H=w.button!=null&&w.button!=0?w.which==2?"idown":"rdown":"down",y=new aL("mouse",!0);y.action=H;
this.TR(w,y);this.S(y);s.kg(this.sD,this.lo);s.I7(window,this.lo);s.vM(window,this.ahR)}if(this.I4.length==2){if(Date.now()-this.a07<100){var y=new aL("mouse",!0);
y.action="cancellast";this.TR(w,y);this.S(y)}this.hC=!0}if(this.I4.length==2)this.a7P("multidown")};
jg.prototype.jf=function(w){if(jg.oX(w))return;var n=this.jO(w);if(n!=-1)this.I4[n]=w;if(this.I4.length>1){this.a7P("multimove")}if(this.hC)return;
if(this.I4.length==1&&n==-1)return;var H=new aL("mouse",!0);H.action="move";this.TR(w,H);this.S(H)};
jg.prototype.Cw=function(w){if(jg.oX(w))return;var n=this.I4;n=this.I4=[];if(n.length==0){var H=w.button!=null&&w.button>0?w.which==2?"iup":"rup":"up",y=new aL("mouse",!0);
y.action=H;this.TR(w,y);this.S(y);s.kg(window,this.lo);s.v8(window,this.ahR);s.I7(this.sD,this.lo);this.hC=!1}};
jg.prototype.nV=function(w){w.preventDefault();if(w.deltaX==0&&w.deltaY==0)return;var n=new aL("mouse",!0);
n.action="scroll";n.Aa=w.ctrlKey;this.TR(w,n);this.S(n)};jg.prototype.aqY=function(w){s.yZ(w);if(s.ae$(w)){var n=new aL("mouse",!0);
this.TR(w,n);n.action="rdown";this.S(n);n.action="rup";this.S(n)}};jg.prototype.a7P=function(w){var n=this.I4,H=s.V(),y=[];
for(var l=0;l<n.length;l++){var c=y[l]=s.E4(n[l],this.sD);c.x*=H;c.y*=H}var Q=new aL("mouse",!0);Q.action=w;
Q.pf=y;if(n.length==2)this.S(Q)};jg.prototype.TR=function(w,n,H){var y=this.I4.length!=0;if(n.action!="up"){var c=s.V();
if(H==null)H=s.E4(w,this.sD);this.Zr=n.nj={x:c*H.x,y:c*H.y,iO:y};var Q=s.E4(w,document.body);n.nj.JV=Q.x;
n.nj.m6=Q.y}else this.Zr=n.nj={x:this.Zr.x,y:this.Zr.y,iO:y};n.nj.TJ=.5;if(w.pressure!=null&&w.pressure!=0)n.nj.TJ=w.pressure;
if(w.pointerType=="mouse")n.nj.TJ*=2;n.nj.ac2=w.pointerType;if(w.deltaX!=null){var q=w.deltaMode==0?1:40;
n.c5=new ce(w.deltaX*q,w.deltaY*q)}};function az(w,n,H){bU.call(this);this.Se=null;this.ayW=this.Cw.bind(this);
this.a3O=this.X6.bind(this);this.a9e=this.adI.bind(this);this.amW=this.ayX.bind(this);this.dm=[];this.gd=[];
this.Fr=[];this.ar9=[];this.n=s.t("div","contextpanel "+(H?"cp_dark":"cp_light"));this.n.addEventListener("contextmenu",s.BA,!1);
this._8=null;this.WK=0;this.IN=w;this.Iz=n;this.gD=[];for(var l=0;l<w.length;l++){var y=s.t("div","enab");
this.gd.push(y);this.n.appendChild(y);var c=w[l].mM;if(c){if(c.startsWith("#")){var Q=s.t("span");Q.setAttribute("style","display:inline-block; width:16px; height:16px; vertical-align:middle; margin:0 5px 0 -3px; border-radius:4px; background-color:"+c);
y.appendChild(Q)}else y.innerHTML=s.OE(w[l].mM,null,"thumb")}else{var q=s.t("span","check");this.ar9.push(q);
y.appendChild(q)}var S=s.t("span","label");S.textContent=hV.get(w[l].name);y.appendChild(S);this.Fr.push(S);
if(w[l].Pp)this.n.appendChild(s.t("hr"));if(w[l].Jg||w[l].sub){var A=y.Ss=s.t("span","right");y.appendChild(A);
if(w[l].Jg)A.textContent=b8.nS(w[l].Jg);else if(w[l].sub)A.textContent="\u25B6"}y.addEventListener("click",this.ayW,!1);
y.addEventListener("mouseover",this.a3O,!0);y.addEventListener("mouseout",this.a9e,!0);if(w[l].sub){var V=new az(w[l].sub,n?n[l].sub:null);
V.parent=this;this.gD.push(V);V.h("select",this.atF,this)}else this.gD.push(null)}}az.prototype=new bU;
az.prototype.awm=function(w){s.Of(this.n);for(var l=0;l<w.length;l++)if(w[l]!=0&&w[l]!=null){this.n.appendChild(this.gd[l]);
if(w[l]!=1&&this.gD[l])this.gD[l].awm(w[l])}};az.prototype.f=function(){var w=this.IN;for(var l=0;l<w.length;
l++){if(w[l].title)this.gd[l].title=hV.get(w[l].title);this.Fr[l].textContent=hV.get(w[l].name)+(w[l].JY?"...":"")}for(var l=0;
l<this.gD.length;l++)if(this.gD[l])this.gD[l].f()};az.prototype.update=function(w,n){var H=this.IN,y=window.innerWidth<450?"none":"inline";
for(var l=0;l<H.length;l++){var c=this.gd[l];if(c.Ss&&!this.gD[l])c.Ss.style.display=y;if(H[l].C){var Q=H[l].C(w,n,l);
if(Q.C!=null)this.gd[l].className=Q.C?"enab":"disab";if(Q.dc!=null)this.Fr[l].textContent=Q.dc;if(Q.NW!=null)this.ar9[l].textContent=Q.NW?"\u2713":"";
if(Q.W!=null)this.Iz[l]=Q.W}}for(var l=0;l<this.gD.length;l++)if(this.gD[l])this.gD[l].update(w,n)};
az.prototype.uf=function(){return this.dm};az.prototype.Cw=function(w){if(w.button!=0)return;var l=this.gd.indexOf(w.currentTarget);
if(this.gD[l]){this.WK=l;this.ayX()}else{if(this.Iz){var n=this.Iz[l],H=new aL(n.Y,!0);H.G=n.G;H.data=n.W;
this.S(H)}this.Se=null;this.dm=[l];this.S(new aL("select",!1));var H=new aL(M.E.L,!0);H.data={d:M.c.my};
this.S(H)}};az.prototype.X6=function(w){var l=this.gd.indexOf(w.currentTarget);this.kV();this.WK=l;this._8=setTimeout(this.amW,300)};
az.prototype.adI=function(w){this.kV()};az.prototype.kV=function(){if(this._8){clearTimeout(this._8);
this._8=null}};az.prototype.ayX=function(){this.kV();var l=this.WK;if(this.Se)this.Se.a7$();if(this.gD[l]==null)return;
this.Se=this.gD[l];var w=this.gd[l].getBoundingClientRect(),n=new aL(M.E.L,!0);n.data={d:M.c.hf,_0:this.gD[l],x:w.left+w.width+2,y:w.top};
this.S(n)};az.prototype.a7$=function(){for(var l=0;l<this.gD.length;l++)if(this.gD[l])this.gD[l].a7$();
var w=new aL(M.E.L,!0);w.data={d:M.c.SP,_0:this};this.S(w)};az.prototype.atF=function(w){var l=this.gD.indexOf(w.target);
this.dm=[l].concat(w.target.uf());this.S(new aL("select",!1))};function jH(w,n,H){bU.call(this);this.n=s.t("span","fitem cbox");
if(n==null)n=!0;if(H==null)H="flabel";var y="cb"+s.tu();this.ey=s.t("input","");this.ey.setAttribute("type","checkbox");
this.ey.setAttribute("id",y);this.n.appendChild(this.ey);this.Ty=w;this.Oz=s.t("label",H);if(n)this.Oz.setAttribute("for",y);
this.n.appendChild(this.Oz);this.f();this.ey.addEventListener("change",this.cI.bind(this),!1)}jH.prototype=new bU;
jH.prototype.a5p=function(){return this.Ty};jH.prototype.TO=function(w){this.Oz.textContent=w};jH.prototype.f=function(){var w=this.Ty;
if(typeof w=="string"&&w.startsWith("<"))this.Oz.innerHTML=w;else this.Oz.textContent=hV.get(w)};jH.prototype.QM=function(){this.ey.checked=!0};
jH.prototype.k3=function(){this.ey.checked=!1};jH.prototype.zr=function(){return this.ey.checked};jH.prototype.$=function(w){this.ey.checked=w};
jH.prototype.o=jH.prototype.zr;jH.prototype.cI=function(w){this.S(new aL(M.E.A,!1))};function iD(w,n){bU.call(this);
this.Ty=w;this.n=s.t("span","labelitem fitem"+(n?" spread":""));this.f()}iD.prototype=new bU;iD.prototype.$=function(w){this.n.textContent=w};
iD.prototype.o=function(){return this.n.textContent};iD.prototype.ZF=function(){this.n.removeAttribute("disabled")};
iD.prototype.j7=function(){this.n.setAttribute("disabled","")};iD.prototype.TO=function(w){this.n.textContent=w};
iD.prototype.f=function(){this.n.textContent=hV.get(this.Ty)};iD.prototype.a5p=function(){return this.Ty};
function eO(w,n,H,y,c){bU.call(this);this.aa=!1;this.n=s.t("button","fitem"+(n?" spread":"")+(y?" bbtn":""));
this.Ty=w;this.BQ=H;this.f();var Q=c&&window.PointerEvent?"pointerup":"click";this.n.addEventListener(Q,this.f6.bind(this),!1)}eO.prototype=new bU;
eO.prototype.f=function(){var w=this.n,n=this.Ty,H=this.BQ;if(typeof n=="string"&&(n.startsWith("<img")||n.startsWith("<svg")||n.startsWith("<span"))){if(!this.aa){w.innerHTML=n;
w.setAttribute("style","padding:2px");this.aa=!0}}else w.textContent=hV.get(n);if(H){w.setAttribute("title",hV.get(H))}};
eO.prototype.alL=function(w){this.n.setAttribute("title",w)};eO.prototype.f6=function(w){this.S(new aL("click",!1))};
eO.prototype.QM=function(){s.li(this.n,"bactive")};eO.prototype.k3=function(){s.n_(this.n,"bactive")};
eO.prototype.TO=function(w,n){if(w&&w!=this.Ty){this.Ty=w;this.aa=!1}if(n)this.BQ=n;this.f()};eO.prototype.$=function(w){if(w)this.QM();
else this.k3()};eO.prototype.zr=function(){return this.n.getAttribute("class").indexOf("bactive")!=-1};
eO.prototype.o=function(){return this.zr()};function f0(w,n,H,y,c){bU.call(this);var Q=s.tu();this.n=s.t("span","fitem tinput");
if(w){this.Ty=w;this.pr=s.t("label","flabel");this.n.appendChild(this.pr);this.pr.setAttribute("for",Q);
this.f()}if(c){this.ey=s.t("span")}else if(y==null){this.ey=s.t("input");this.ey.setAttribute("type","text")}else this.ey=s.t("textarea","scrollable");
this.ey.setAttribute("id",Q);if(H)this.ey.setAttribute("style","width:"+H+"em;"+(c?" display:inline-block; margin-left:6px;":""));
if(y)this.ey.setAttribute("rows",y);this.n.appendChild(this.ey);if(n){this.LK=s.t("span");this.LK.textContent=n;
this.LK.style.marginLeft="2px";this.n.appendChild(this.LK)}s.iV(this.ey);this.ey.addEventListener("change",this.cI.bind(this),!1);
this.ey.addEventListener("input",this.a4i.bind(this),!1);if(y==null)this.ey.addEventListener("keyup",this.ZH.bind(this),!1)}f0.prototype=new bU;
f0.prototype.f=function(){this.Gb()};f0.prototype.ZH=function(w){var n=b8.dy(w.code,b8.RN),H=b8.dy(w.code,b8.IO);
if(H||n)this.ey.blur()};f0.prototype.TO=function(w){this.pr.textContent=w};f0.prototype.$=function(w){var n=this.ey,H=w==null?"":w,y=n.tagName=="SPAN";
if(y){n.textContent=" "+H;if(this.LK)n.appendChild(this.LK)}else n.value=H};f0.prototype.aeW=function(w){this.LK.textContent=w};
f0.prototype.o=function(){return this.ey.value};f0.prototype.P5=function(){this.ey.select();this.ey.focus()};
f0.prototype.cI=function(w){this.S(new aL(M.E.A,!1))};f0.prototype.a4i=function(w){this.S(new aL("input",!1))};
function j8(w,n,H,y,c,Q,q,S,A){bU.call(this);if(c==null)c=0;this.n=s.t("span","fitem");var V=s.tu();
this.Ty=w;this.BQ=S;this.o3=0;this.lH=A;this.uR=n;this.u0=H;this.Ep=null;if(y instanceof Array){this.Ep=y;
y=y[0]}this.dh=y;this.zp=c;this.aus=Q;this.WF=q;this.vo=0;this.pr=s.t("label","flabel");this.pr.setAttribute("style","cursor:col-resize;");
this.UK=s.t("input");this.UK.setAttribute("type","range");if(q){this.UK.min=0;this.UK.max=400}else{this.UK.min=n;
this.UK.max=H;if(c!=0)this.UK.step=(H-n)/200}this.ey=s.t("input");this.ey.setAttribute("type","text");
this.ey.setAttribute("id",V);this.LK=s.t("span");this.LK.textContent=y;s.iV(this.ey);this.ey.addEventListener("change",this.cI.bind(this),!1);
this.ey.addEventListener("keydown",this.v6.bind(this),!1);this.ey.addEventListener("keyup",this.ZH.bind(this),!1);
this.ey.addEventListener("wheel",this.nV.bind(this),!1);this.UK.addEventListener("input",this.cI.bind(this),!1);
if(A)this.UK.addEventListener("change",this.cI.bind(this),!1);this.UK.addEventListener("click",this.ajf.bind(this),!1);
this.a7U=this.abQ.bind(this);this.a2W=this.a5W.bind(this);this.au0=this.apo.bind(this);this.Ob=0;this.jY=0;
this.XP=!1;s.am(this.pr,this.a7U);s.g0(this.pr)}j8.prototype=new bU;j8.prototype.lm=function(w){this.zp=w};
j8.prototype.TO=function(w){this.pr.style.display=w?"inherit":"none";if(w)this.pr.textContent=hV.get(w)};
j8.prototype.f=function(){var ds=this.Ty,w=this.BQ;if(ds){if(typeof ds=="string"&&ds.startsWith("<"))this.pr.innerHTML=ds;
else this.Gb()}if(w){w=hV.get(w);if(ds)this.pr.setAttribute("title",w);this.ey.setAttribute("title",w)}};
j8.prototype.$=function(w,n){var H=this.uR==this.u0,c;if(!H&&this.uR>=0)w=Math.max(this.uR,w);if(this.zp==0)w=Math.round(w);
var y=this.dh;this.o3=w;this.ey.value=(this.zp!=0?w.toFixed(this.zp):w)+(this.aus&&y?(y.toLowerCase()==y.toUpperCase()?"":" ")+y:"");
if(-this.uR==this.u0)c=200+Math.sign(w)*200*Math.pow(Math.abs(w)/this.u0,1/2.7);else c=400*Math.pow((w-this.uR)/(this.u0-this.uR),1/2.7);
this.UK.value=this.WF?c:w;if(n)this.x1()};j8.prototype.o=function(){var w=this.o3;if(isNaN(w))w=0;return w};
j8.prototype.T6=function(){return this.dh};j8.prototype.cI=function(w){var n=0;if(w.currentTarget==this.ey){var H=w.target.value,y=0;
n=H==""?0:this.dh?parseFloat(H):eval(H);if(isNaN(n))n=0;while(y<H.length&&(H.charAt(y)=="."||48<=H.charCodeAt(y)&&H.charCodeAt(y)<=57))y++;
var c=H.slice(y).trim();if(this.Ep&&this.Ep.indexOf(c)!=-1)this.dh=c}else{if(Date.now()-this.vo<10)return;
n=parseFloat(w.target.value);if(this.WF){if(-this.uR==this.u0)n=Math.sign(n-200)*Math.pow(Math.abs(n-200)/200,2.7)*this.u0;
else n=this.uR+Math.pow(n/400,2.7)*(this.u0-this.uR);n=this.abi(n)}}this.$(n);if(w.type=="input"&&this.lH)return;
this.x1()};j8.prototype.x1=function(){this.S(new aL(M.E.A))};j8.prototype.abi=function(w){if(this.u0-this.uR>50&&w>10)w=Math.round(w);
return w};j8.prototype.v6=function(w){var n=0;if(b8.dy(w.code,b8.sm))n=1;if(b8.dy(w.code,b8.JL))n=-1;
if(n!=0)this.acG(n,w.shiftKey)};j8.prototype.ZH=function(w){var n=b8.dy(w.code,b8.RN),H=b8.dy(w.code,b8.IO);
if(n)this.$(this.o());if(H||n)this.ey.blur()};j8.prototype.nV=function(w){this.acG(w.deltaY>0?-1:1,w.shiftKey)};
j8.prototype.acG=function(w,n){var H=this.o(),y=this.zp,c=w*(y==null||y==0||H>5?1:.1);if(n)c*=10;var Q=H+c;
if(!this.WF&&this.u0!=this.uR)Q=Math.min(this.u0,Q);this.$(Q);this.x1()};j8.prototype.ajf=function(w){var n=Date.now()-this.vo;
this.vo=Date.now();if(n>200)return;var H=this.uR,y=this.u0,c=(H+y)/2;if(H<1&&y>1&&y<10)c=1;else if(H<90&&y>110)c=100;
else if(H<0&&y>0)c=0;this.$(c);this.x1()};j8.prototype.abQ=function(w){s.I7(document,this.a2W);s.vM(document,this.au0);
this.Ob=s.E4(w,document.body).x;this.jY=this.o()};j8.prototype.a5W=function(w){s.yZ(w);var n=this.uR==this.u0,H=s.E4(w,document.body).x,y=(H-this.Ob)*(n?1:1/120*(this.u0-this.uR)),c=this.jY+y;
if(n)c=Math.round(c);if(!n){if(!0){c=Math.max(this.uR,c);if(c==this.uR){this.Ob=H;this.jY=this.uR}}if(!this.WF){c=Math.min(this.u0,c);
if(c==this.u0){this.Ob=H;this.jY=this.u0}}c=this.abi(c)}this.XP=!0;this.$(c);if(!this.lH)this.x1()};
j8.prototype.apo=function(w){if(!this.XP)this.ey.focus();this.XP=!1;if(this.lH)this.x1();s.kg(document,this.a2W);
s.v8(document,this.au0)};j8.prototype.P5=function(){this.ey.select();this.ey.focus()};function kc(w,n,H,y,c,Q,q,S,A,V){j8.call(this,w,n,H,y,c,!0,Q,A,V);
s.li(this.n,"rangedropinput");this.n.appendChild(this.pr);this.ey.setAttribute("style","width:"+(S?S:3.3)+"em");
this.n.appendChild(this.ey);this.a4r=s.t("span","rangecontFloat");this.a4r.appendChild(this.UK);this.bP=s.t("button");
this.bP.textContent="\u25BC";s.am(this.bP,this.al5.bind(this));if(q!=!0)this.n.appendChild(this.bP);
this.Gs=new bU;this.Gs.n=this.a4r}kc.prototype=new j8;kc.prototype.al5=function(w){if(s._Q(this.Gs.n))return;
w.stopPropagation();var n=this.n.getBoundingClientRect();this.UK.setAttribute("style","width:"+n.width+"px;");
var H=new aL(M.E.L,!0);H.data={d:M.c.hf,_0:this.Gs,x:n.left-10,y:n.top+n.height};this.S(H)};function jc(w,n,H,y,c,Q){j8.call(this,w,n,H,y,c,!1,Q);
this.n.appendChild(this.pr);var q=s.t("span");this.n.appendChild(q);q.appendChild(this.UK);this.n.appendChild(this.ey);
this.ey.setAttribute("style","width:3.3em");if(this.dh)this.n.appendChild(this.LK)}jc.prototype=new j8;
function b9(w,n,H,y,c,Q,q,S){j8.call(this,w,n,H,y,c,!0,Q,null,q);s.li(this.n,"trangeinput");this.n.appendChild(this.pr);
this.n.appendChild(this.ey);var A=s.t("span");if(S!=!0)this.n.appendChild(A);A.appendChild(this.UK)}b9.prototype=new j8;
function dw(w,n,H){bU.call(this);if(!n)return;this.uq=0;this.Ty=w;this.HG=null;this.alu=H;this.Wd=[];
var y="dd"+s.tu();this.n=s.t("span","fitem ddmenu");if(w){this.pr=s.t("label","flabel");this.n.appendChild(this.pr);
this.pr.setAttribute("for",y)}this.ey=s.t("select");this.ey.setAttribute("id",y);this.n.appendChild(this.ey);
this.ey.addEventListener("change",this.cI.bind(this),!1);function c(Q){var q=0;if(b8.dy(Q.code,b8.sm))q=1;
if(b8.dy(Q.code,b8.JL))q=-1;if(q!=0)Q.stopPropagation()}this.ey.addEventListener("keydown",c,!1);this.ey.addEventListener("keyup",c,!1);
this.Jk=[];this.Ey=null;this.pe(n,H);this.f()}dw.prototype=new bU;dw.prototype.TO=function(w){this.Ty=w;
this.f()};dw.prototype.f=function(){this.Gb();if(this.Ey)this.pe(this.Ey,this.alu);this.$(this.uq)};
dw.prototype.o=function(){return this.uq};dw.prototype.pe=function(w,n){s.Of(this.ey);var H=[],y=0;if(n){H.push(n[0]);
for(var l=1;l<n.length;l++)H.push(H[l-1]+n[l])}this.Ey=w;this.HG=[];this.alu=n;for(var l=0;l<w.length;
l++){var c=s.t("option");if(this.Wd.indexOf(l)!=-1)c.setAttribute("disabled","");c.textContent=hV.get(w[l]);
c.setAttribute("value",l);this.ey.appendChild(c);this.Jk.push(c);this.HG.push(l+y);if(H.indexOf(l+1)!=-1&&l!=w.length-1){var Q=s.t("option");
Q.setAttribute("disabled","");Q.textContent="";this.ey.appendChild(Q);y++}}};dw.prototype.anh=function(l){var w=this.Wd,n=w.indexOf(l);
if(n==-1)w.push(l);this.f()};dw.prototype.anB=function(l){var w=this.Wd,n=w.indexOf(l);if(n!=-1)w.splice(n,1);
this.f()};dw.prototype.$=function(w){this.uq=w;this.ey.selectedIndex=this.HG[w]};dw.prototype.cI=function(w){this.uq=this.HG.indexOf(this.ey.selectedIndex);
this.S(new aL(M.E.A,!1))};dw.prototype.P5=function(){this.ey.focus()};function iY(w,n,H,y){bU.call(this);
if(!n)return;this.uq=0;this.azW=y;this.n=s.t("span","fitem bbmenu");this.Oz=s.t("label","flabel");if(w){this.Ty=w;
this.Oz.textContent=w+":";this.n.appendChild(this.Oz)}this.Jk=[];this.rn=s.t("span");this.n.appendChild(this.rn);
this.Ey=null;this.pe(n,H);this.$(0)}iY.prototype=new bU;iY.prototype.TO=function(w){this.Ty=w;this.f()};
iY.prototype.f=function(){var w=this.Oz.parentNode!=null,n=this.n;if(this.Ty!=null){if(!w){n.appendChild(this.Oz);
n.appendChild(this.rn)}this.Oz.textContent=hV.get(this.Ty)+": "}else if(w)n.removeChild(this.Oz);for(var l=0;
l<this.Jk.length;l++)this.Jk[l].f()};iY.prototype.o=function(){return this.uq};iY.prototype.pe=function(w,n){s.Of(this.rn);
this.Jk=[];this.Ey=w;for(var l=0;l<w.length;l++){var H=new eO(w[l],!1,n?n[l]:null,this.azW);H.h("click",this.cI,this);
this.rn.appendChild(H.n);this.Jk.push(H)}this.f()};iY.prototype.$=function(w){this.uq=w;for(var l=0;
l<this.Jk.length;l++)this.Jk[l].k3();this.Jk[w].QM()};iY.prototype.cI=function(w){var l=this.Jk.indexOf(w.target);
this.$(l);this.S(new aL(M.E.A,!1))};iY.gZ=function(w,n,H){if(n==null)n=16;var y=iY.Ot,c=y.getContext("2d"),Q=n>>>1;
y.width=y.height=n;var q=[];for(var l=0;l<w.length;l++){if(w[l][0]=="-")q.push(w[l].slice(1));else if(w[l]=="checker"||w[l].startsWith("#")){if(w[l]=="checker"){c.fillStyle="white";
c.fillRect(0,0,n,n);c.fillStyle="#bbbbbb";c.fillRect(Q,0,Q,Q);c.fillRect(0,Q,Q,Q)}else if(w[l].startsWith("#")){c.fillStyle=w[l];
c.fillRect(0,0,n,n)}q.push("<img src=\""+y.toDataURL()+"\" />")}else q.push(s.OE(w[l],null,H?H:"autoscale"))}return q};
iY.Ot=s.t("canvas");function iS(w,n,H,y,c,Q){bU.call(this);this.n=s.t("span","fitem mbox");this.ajq=H;
this.a6F=c;if(w){this.Ty=w;this.Oz=s.t("label","flabel");this.n.appendChild(this.Oz)}this.zo=n;this.U3=[];
for(var l=0;l<n.length;l++){var q=H?new eO(n[l],!1,y?y[l]:null,!1,Q):new jH(n[l],!0,"");q.h(H?"click":M.E.A,this.cI,this);
this.U3.push(q);this.n.appendChild(q.n)}this.f()}iS.prototype=new bU;iS.prototype.$=function(w){for(var n=0;
n<this.zo.length;n++)this.U3[n].$(w[n])};iS.prototype.o=function(){var w=[];for(var n=0;n<this.zo.length;
n++)w[n]=this.U3[n].o();return w};iS.prototype.f=function(){if(this.Ty)this.Oz.innerHTML=hV.get(this.Ty)+": ";
var w=this.U3;for(var n=0;n<w.length;n++){w[n].f();if(n==w.length-1)w[n].n.style.marginRight="0px"}};
iS.prototype.cI=function(w){var l=this.U3.indexOf(w.currentTarget),n=this.U3[l];if(this.ajq)n.$(!n.o());
if(this.a6F){var H=n.o();for(var l=0;l<this.U3.length;l++)this.U3[l].$(!1);n.$(H)}this.S(new aL(M.E.A,!1))};
function hD(w,n){bU.call(this);this.VP=[];this.g=[];this.amr=w;this.I2=n;this.pQ=0;this.Zy=null;this.JA=new ce(0,0);
if(n!=null){this.eM=new az([{name:[6,37]},{name:[5,4]}]);this.eM.parent=this;this.eM.h("select",this.HH,this)}this.n=s.t("div","imageset scrollable");
this.n.addEventListener("contextmenu",s.BA,!1)}hD.prototype=new bU;hD.prototype.f=function(){if(this.eM)this.eM.f()};
hD.prototype.HH=function(w){var l=this.eM.uf()[0],n=new aL(M.E.L,!0),H={d:M.c.Yj,PY:this.I2,Tk:this.g.slice(0)};
if(l==0){var y=this.Zy[1][this.g[0]];H.fB="rnm";n.data={d:M.c.rL,Ln:"namewindow",EV:y,yk:{Y:M.E.L,W:H}}}else{n.data=H;
H.fB="del"}this.S(n)};hD.prototype.aac=function(){return this.pQ};hD.prototype.Bw=function(w){this.pQ=w;
if(this.Zy)this.k9()};hD.prototype.bu=function(w,n,H,y){this.Zy=[w,n,H,y];this.k9()};hD.prototype.k9=function(){var w=this.Zy,n=w[0],H=w[1],y=w[2],c=w[3];
this.VP=[];this.n.innerHTML="";var Q=this.f6.bind(this),q=this.pQ;if(q==0)s.li(this.n,"imageset");else s.n_(this.n,"imageset");
for(var l=0;l<n.length;l++){var S=n[l],A=null;if(S==null){this.VP.push(null);continue}if(typeof S=="string"){A=s.t("img","image");
A.setAttribute("src",S)}else A=S;if(y)s.cD(A,y,c);if(this.amr)s.li(A,"gsicon");if(q==0){}else{var V=s.t("div","listitem");
V.appendChild(A);var e=s.t("span");e.textContent=H?H[l]:"Item "+(l+1);e.setAttribute("style","margin-left:4px;");
V.appendChild(e);A=V}if(H)A.setAttribute("title",H[l]);A.addEventListener("mousedown",Q,!1);this.VP.push(A);
this.n.appendChild(A)}};hD.prototype.f6=function(w){if(this.I2==null)w.preventDefault();var n=this.VP.indexOf(w.currentTarget),H=window.__kb,y=this.g,c=y.length;
if(H.l(b8.fx)){var Q=Math.min(y[0],y[y.length-1],n),q=Math.max(y[0],y[y.length-1],n);y=[];for(var l=Q;
l<=q;l++)y.push(l)}else if(H.l(b8.NX)){var S=y.indexOf(n);if(S==-1)y.push(n);else y.splice(S,1)}else y=[n];
y.sort(function(d,N){return d-N});if(w.button==0||c==1)this.$(y);this.JA=s.E4(w,w.currentTarget);if(w.button==0)this.S(new aL(M.E.A));
if(w.button==2&&this.eM){var A=this.eM;A.update(null);var V=s.E4(w,document.body),e=new aL(M.E.L,!0);
e.data={d:M.c.hf,_0:A,x:V.x,y:V.y+2};this.S(e)}};hD.prototype.o=function(){return this.g.slice(0)};hD.prototype.ajO=function(){var w=this.JA;
return new ce(w.x,w.y)};hD.prototype.$=function(w){this.g=w.slice(0);for(var l=0;l<this.VP.length;l++){var n=this.VP[l];
if(n==null)continue;if(w.indexOf(l)!=-1)s.li(n,"selected");else s.n_(n,"selected")}};function cE(w,n,H,y,c,Q,q){bU.call(this);
this.n=s.t("span","fitem "+H);this.dP=new bU;this.dP.n=s.t("div","floatcont");this.dP.n.setAttribute("style","width: "+(y+1.5)+"em;");
this.dP.parent=this;this.a8Y=s.t("div");this.dP.n.appendChild(this.a8Y);this.zB=s.t("div");this.dP.n.appendChild(this.zB);
if(w){this.Ty=w;this.Oz=s.t("label","flabel");this.n.appendChild(this.Oz)}this.d=s.t("button",q?"nopadding":"");
this.d.setAttribute("style","position:relative;");var S=this.Ay.bind(this),A=this.vJ.bind(this);s.am(this.d,n?A:S);
this.n.appendChild(this.d);this.Iv=s.t("img",q?"gsicon":"");this.d.appendChild(this.Iv);if(n){var V=s.t("button");
V.textContent="\u25BC";s.am(V,S);this.n.appendChild(V)}else{var e=s.t("span");e.textContent="\u25BC";
e.setAttribute("style","position:absolute;  bottom:2px;  right:4px;");this.d.appendChild(e)}var d=s.t("span");
this.zB.appendChild(d);d.setAttribute("style","display:inline-block;  vertical-align:top; width:"+y+"em;");
this.PZ=new hD(q,Q);d.appendChild(this.PZ.n);this.PZ.parent=this.dP;this.PZ.h(M.E.A,this.aO,this);this.PZ.n.style.height=c+"em";
this.zC=s.t("button");this.zC.textContent="\u25BC";this.zC.setAttribute("style","padding:3px");s.am(this.zC,this.Rp.bind(this));
this.zB.appendChild(this.zC);var N=this.Kc(),b=this.a9u=Q!=h6.cb&&Q!=h6.vG?Q:null,z=this.ayO=Q==null?!1:h6.EP[Q][4]!=0,v=Q==null?"":h6.EP[Q][0].toUpperCase(),T=[];
if(b)T.push({name:[12,87]});T.push({name:["VAR0 / VAR1",[25,3,0],[25,3,1]],Pp:!0});T.push({name:[[23,6],"."+(v=="ICC"?"icc .cube .look .3dl":v)]},{name:["VAR0 ."+v,[1,8]]},{name:[6,37]},{name:[5,4],Pp:N.length!=0});
for(var l=0;l<N.length;l++)T.push({name:N[l].split("/").pop()});this.aau=T;this.I2=Q;this.Wq=null;this.vU=!0;
this.oi=null}cE.prototype=new bU;cE.prototype.Kc=function(){return[]};cE.prototype.vJ=function(){};cE.prototype.f=function(){this.PZ.f();
var w=this.Ty;if(w)this.Oz.textContent=hV.get(w)+":"};cE.prototype.TO=function(w){this.Oz.textContent=w};
cE.prototype.iq=function(w){var n=this.I2,H=0;if(n==h6.vR){H=this.Wq?this.Wq.length:0;w=w.slice(0)}this.Wq=w;
this.vU=!0;if(s._Q(this.PZ.n)||n==h6.Ie)this.yx();if(n==h6.vR&&w.length-H==1&&s._Q(this.n)){this.$(w[H]);
this.vU=!0;this.yx();this.PZ.$([H]);this.S(new aL(M.E.A))}};cE.prototype.HH=function(w){var n=w.target.uf()[0];
if(this.a9u==null)n++;var H=new aL(M.E.L,!0);if(n==0){var y=this.BL();if(this.I2==h6.vR&&y[0].profile==null)return;
H.data={d:M.c.Yj,fB:"add",PY:this.a9u,JT:y}}else if(n==1)this.PZ.Bw(1-this.PZ.aac());else if(n<=5)this.dZ(n-2);
else{var c=this.Kc();H.data={d:M.c.Jx,PY:{url:"rsrc/"+c[n-6]}}}if(H.data)this.S(H)};cE.prototype.dZ=function(w){var n=new aL(M.E.L,!0),H=this.PZ.o(),y={d:M.c.Yj,PY:this.I2,Tk:H};
if(w>1&&H.length==0){alert("No items selected");return}if(w==0)n.data={d:M.c.hN};else if(w==1)n.data={d:M.c.r9,a1l:this.I2,Tk:H.length==0?null:H};
else if(w==2){var c=this.PZ.Zy[1][H[0]];y.fB="rnm";n.data={d:M.c.rL,Ln:"namewindow",EV:c,yk:{Y:M.E.L,W:y}}}else if(w==3){n.data=y;
y.fB="del"}this.S(n)};cE.prototype.BL=function(){return[this.o()]};cE.prototype.Rp=function(w){if(this.eM==null){this.eM=new az(this.aau);
this.eM.parent=this.dP;this.eM.h("select",this.HH,this)}if(s._Q(this.eM.n))return;w.stopPropagation();
var n=this.eM;n.f();n.update(null);var H=w.currentTarget.getBoundingClientRect(),y=new aL(M.E.L,!0);
y.data={d:M.c.hf,_0:n,x:H.left,y:H.top+H.height};this.S(y)};cE.prototype.Ay=function(w,n,H){if(s._Q(this.dP.n))return;
if(w)w.stopPropagation();this.yx();if(n==null){var y=this.d.getBoundingClientRect(),n=y.left,H=y.top+y.height}var c=new aL(M.E.L,!0);
c.data={d:M.c.hf,_0:this.dP,x:n,y:H,i2:!0};this.S(c)};cE.prototype.atI=function(w,n){this.Ay(null,w,n)};
function bI(){bU.call(this);this.n=s.t("div");this.o3=!1;this.bt=[new dw([12,19,1],[[13,1,7]].concat(fb.LQ)),new iq([17,1]),new iq([12,46])];
for(var l=0;l<3;l++){var w=this.bt[l];this.n.appendChild(w.n);w.h(M.E.A,this.tw,this)}this.f()}bI.prototype=new bU;
bI.prototype.f=function(){for(var l=0;l<3;l++)this.bt[l].f()};bI.prototype.o=function(){return this.o3.slice(0)};
bI.prototype.$=function(w){this.o3=w.slice(0);var n=this.bt,H=n[0].o();n[1].$(w.slice(H*8,H*8+4),H);
n[2].$(w.slice(H*8+4,H*8+8),H)};bI.prototype.tw=function(w){var n=this.bt,H=n.indexOf(w.currentTarget);
if(H==0)this.$(this.o3);else{var y=n[0].o()*8+(H==1?0:4),c=n[H].o();for(var l=0;l<4;l++)this.o3[y+l]=c[l];
this.S(new aL(M.E.A,!1))}};function iq(w){bU.call(this);this.n=s.t("div");this.F=s.t("canvas");this.LU=w;
this.o3=[0,20,200,255];this.v7=0;this._o=-1;this.afY=[];for(var l=0;l<5;l++){var n=s.t("span");n.setAttribute("style","display:inline-block;width:"+(l==0?8:l==2?7:2)+"em");
this.afY.push(n);this.n.appendChild(n)}this.dK=this.A9.bind(this);this.jb=this.jf.bind(this);this.eE=this.Cw.bind(this);
s.g0(this.F);s.am(this.F,this.dK);this.n.appendChild(this.F);this.k9()}iq.prototype=new bU;iq.prototype.f=function(){this.k9()};
iq.prototype.$=function(w,n){this.o3=w;this.v7=n;this.k9()};iq.prototype.o=function(){return this.o3.slice(0)};
iq.prototype.A9=function(w){var n=this.o3,H=s.E4(w,this.F),y=H.x-8,c=-1,Q=1e9;for(var l=0;l<4;l++){var q=y-n[l],S=Math.abs(q);
if(S<8&&S<Q&&((l&1)==0&&q<0||(l&1)==1&&q>0)){Q=q;c=l}}if(c==-1)return;this._o=c;this.UA=window.__kb.l(b8.FO)||n[(c>>>1)*2]!=n[(c>>>1)*2+1];
s.I7(window,this.jb);s.vM(window,this.eE)};iq.prototype.jf=function(w){var n=this.o3,H=this._o,y=(H>>>1)*2,c=y+1,Q=s.E4(w,this.F),q=Math.round(Math.max(0,Math.min(255,Q.x-8)));
n[H]=q;if(this.UA&&n[y]>=n[c])this.UA=!1;if(!this.UA)n[y]=n[c]=q;this.k9();this.S(new aL(M.E.A,!1))};
iq.prototype.Cw=function(w){s.kg(window,this.jb);s.v8(window,this.eE)};iq.prototype.k9=function(){var w=this.F;
s.pD(w,255+16,16);var n=w.getContext("2d"),H=w.width,y=w.height,c=Math.round(255*s.V()),Q=Math.round(8*s.V());
n.translate(Q,0);var q=n.createLinearGradient(0,0,c,0);q.addColorStop(0,"black");q.addColorStop(1,"#"+["ffffff","ff0000","00ff00","0000ff"][this.v7]);
n.fillStyle=q;n.fillRect(0,0,c,Q);var S=this.afY,A=hV.get(this.LU)+":";S[0].textContent=A;for(var l=0;
l<4;l++){var V=this.o3[l];S[1+l].textContent=V;var e=Math.round(V*s.V());n.beginPath();n.moveTo(e,Q);
n.lineTo(e,Q+Q);n.lineTo(e+((l&1)==0?-1:1)*Q,Q+Q);n.closePath();n.fillStyle=l<2?"#666666":"#cccccc";
n.fill();n.strokeStyle="black";n.stroke()}};function gl(w,n,H){bU.call(this);if(H==null)H=!1;this.Z=[0,0,1];
this.a5Y=n;this.aeb=H;this.akN=0;var y="ai"+s.tu();this.n=s.t("span","fitem angleinput");if(w){this.Oz=s.t("label","flabel");
this.Ty=w;this.n.appendChild(this.Oz);this.Oz.setAttribute("for",y)}this.Ha=H?44:20;this.F=s.t("canvas","gsicon");
this.NK=this.F.getContext("2d");s.g0(this.F);s.pD(this.F,this.Ha*2+1,this.Ha*2+1);this.NK.scale(s.V(),s.V());
this.n.appendChild(this.F);s.am(this.F,this.IR.bind(this));this.Jn=this.Zz.bind(this);this.B$=this.SH.bind(this);
var c=this.cI.bind(this),Q=s.t("div");Q.setAttribute("style","display:inline-block;  vertical-align:middle;");
if(!H)this.n.appendChild(Q);this.P1=[];for(var l=0;l<2;l++){var q=s.t("input");this.P1.push(q);q.setAttribute("type","text");
s.iV(q);if(l==0)q.setAttribute("id",y);q.addEventListener("change",c,!1);var S=s.t("span");S.textContent="\xB0";
if(l==0||n){Q.appendChild(q);Q.appendChild(S);s.yD(Q)}}this.$(this.Z)}gl.prototype=new bU;gl.prototype.f=function(){if(this.Ty)this.Oz.textContent=hV.get(this.Ty)+":"};
gl.prototype.TO=function(w){this.Oz.textContent=w};gl.prototype.o=function(){return this.Z.slice(0)};
gl.prototype.$=function(w,n){var H=this.Z;w=w.slice(0);if(w[0]==null)w[0]=H[0];if(w[1]==null)w[1]=H[1];
if(w[2]==null)w[2]=H[2];this.Z=w;var y=w[0],c=w[1],Q=w[2],q=this.a5Y,S=this.aeb,A=this.Ha*.85;if(!q)c=0;
this.P1[0].value=y;this.P1[1].value=c;var V=this.NK;V.clearRect(0,0,100,100);y=Math.PI*y/180;c=A*(90-c)/90;
var e=this.Ha+.5;V.save();V.translate(e,e);V.rotate(-y);V.strokeStyle="rgba(0,0,0,0.5)";V.beginPath();
V.ellipse(0,0,A,A*Q,0,0,2*Math.PI);if(S){V.moveTo(0,-A*Q);V.lineTo(0,A*Q);V.moveTo(-c,0)}else V.moveTo(0,0);
V.lineTo(c,0);V.stroke();var d=this.Ha*.15;V.fillStyle="black";V.beginPath();if(S){V.arc(0,-A*Q,d*.66,0,2*Math.PI);
V.arc(0,A*Q,d*.66,0,2*Math.PI)}if(q){V.arc(c,0,d*.4,0,2*Math.PI)}else{V.moveTo(e-d,-d*.66);V.lineTo(e,0);
V.lineTo(e-d,d*.66)}V.fill();V.restore();if(n)this.cI()};gl.prototype.cI=function(w){var n=parseInt(this.P1[0].value);
if(isNaN(n))n=0;var H=parseInt(this.P1[1].value);if(isNaN(H))H=0;n=n%360;H=H%360;this.$([n,H]);this.S(new aL(M.E.A,!1))};
gl.prototype.IR=function(w){s.I7(window,this.Jn);s.vM(window,this.B$);var n=s.E4(w,this.F),e=0,d=1e9;
n.x-=this.Ha;n.y-=this.Ha;var H=this.Z,y=H[0]*Math.PI/180,c=(90-H[1])/90,Q=H[2],q=this.Ha*.85,S=Math.sin(-y),A=Math.cos(-y),V=[new ce(A*q,S*q)];
if(this.aeb)V.push(new ce(-S*q*Q,A*q*Q),new ce(S*q*Q,-A*q*Q));for(var l=0;l<V.length;l++){var N=ce.Re(n,V[l]);
if(N<d){d=N;e=l}}this.akN=e;if(e==0)this.Zz(w)};gl.prototype.Zz=function(w){var n=s.E4(w,this.F),H=this.akN,y=[],c=n.x-this.Ha,Q=n.y-this.Ha,q=this.Ha*.85;
if(H==0){var S=180*Math.atan2(-Q,c)/Math.PI,A=90-90*Math.min(1,Math.sqrt(c*c+Q*Q)/q);if(w.shiftKey)S=Math.round(S/15)*15;
y=[Math.round(S),Math.round(A)]}else y=[null,null,Math.max(.01,Math.min(1,Math.sqrt(c*c+Q*Q)/q))];this.$(y);
this.S(new aL(M.E.A,!1))};gl.prototype.SH=function(w){this.S(new aL(M.E.A,!1));s.kg(window,this.Jn);
s.v8(window,this.B$)};function b5(w,n){bU.call(this);this.o3=0;this.MG=n;this.n=s.t("span","fitem angleinput");
if(w){this.Oz=s.t("label","flabel");this.Ty=w;this.n.appendChild(this.Oz)}this.F=s.t("canvas","gsicon");
this.NK=this.F.getContext("2d");s.pD(this.F,n,n);this.n.appendChild(this.F);s.g0(this.F);s.am(this.F,this.IR.bind(this));
this.Jn=this.Zz.bind(this);this.B$=this.SH.bind(this);this.$(0)}b5.prototype=new bU;b5.prototype.f=function(){if(this.Ty)this.Oz.textContent=hV.get(this.Ty)+":"};
b5.prototype.TO=function(w){this.Oz.textContent=w};b5.prototype.o=function(){return this.o3};b5.prototype.asK=function(w){var n=this.o3,H=Math.floor(n/3),y=n-H*3;
y=Math.max(0,Math.min(2,y+w.x));H=Math.max(0,Math.min(2,H+w.y));this.$(H*3+y)};b5.prototype.$=function(w){this.o3=w;
var n=this.F.width,H=Math.floor(w/3),y=w-3*H,c=(y+.5)*n/3,Q=(H+.5)*n/3,q=this.NK,S=[.5,Math.round(n/3)+.5,Math.round(2*n/3)+.5,n-.5];
q.clearRect(0,0,n,n);var A=this.MG<30;q.setLineDash([]);q.strokeStyle=A?"rgba(0,0,0,0.5)":"#000000";
q.beginPath();for(var l=0;l<4;l++){var V=S[l];q.moveTo(V,0);q.lineTo(V,n);q.moveTo(0,V);q.lineTo(n,V)}q.stroke();
if(w==9)return;if(!A){q.setLineDash([1,2]);var e=n*.53,d=Math.max(0,Math.min(n-e,c-e/2)),N=Math.max(0,Math.min(n-e,Q-e/2));
q.strokeRect(Math.round(d)+.5,Math.round(N)+.5,Math.round(e),Math.round(e))}q.fillStyle="#000000";q.beginPath();
q.arc(c,Q,n/8,0,Math.PI*2);q.fill()};b5.prototype.IR=function(w){s.I7(document.body,this.Jn);s.vM(document.body,this.B$);
this.Zz(w)};b5.prototype.Zz=function(w){var n=s.E4(w,this.F),H=Math.max(0,Math.min(2,Math.floor(n.x/(this.MG/3)))),y=Math.max(0,Math.min(2,Math.floor(n.y/(this.MG/3))));
this.$(y*3+H)};b5.prototype.SH=function(w){this.S(new aL(M.E.A,!1));s.kg(document.body,this.Jn);s.v8(document.body,this.B$)};
function fg(ds){bU.call(this);this.n=s.t("span","fitem cswatch");this.aaN=0;this.Xa=[];this.Zp=[];var w=this.awY.bind(this);
for(var l=0;l<ds;l++){this.Xa.push(0);var n=s.t("span","colorsample");n.addEventListener("click",w,!1);
this.Zp.push(n);this.n.appendChild(n)}var H=[16711680,65280,255,65535,16711935,16776960,0,8421504,16777215],y=Math.min(ds,H.length);
for(var l=0;l<y;l++)this.Xa[l]=H[l];this.Zw()}fg.prototype=new bU;fg.prototype.awY=function(w){this.aaN=this.Zp.indexOf(w.currentTarget);
this.S(new aL(M.E.A))};fg.prototype.o=function(){return this.Xa[this.aaN]};fg.prototype.$=function(w){var n=this.Xa,H=n.indexOf(w);
if(H!=-1)n.splice(H,1);else n.pop();n.unshift(w);this.Zw()};fg.prototype.Zw=function(){for(var l=0;l<this.Xa.length;
l++){this.Zp[l].setAttribute("style","background-color:#"+O.w9(this.Xa[l]))}};function hF(w){bU.call(this);
this.gJ={b:0,J:0,k:0};this.es=w;this.n=s.t("span","fitem colorsample");this.n.addEventListener("click",this.wc.bind(this),!1)}hF.prototype=new bU;
hF.prototype.f=function(){};hF.prototype.wc=function(w){var n=this.gJ;this.S(new aL("click"));var H=new aL(M.E.L,!0);
H.data={d:M.c.rL,Ln:"colorpicker",qA:n.b<<16|n.J<<8|n.k,Ro:this.pz.bind(this),ZL:this.es};this.S(H)};
hF.prototype.pz=function(w){this._U(w);this.S(new aL(M.E.A))};hF.prototype.Hz=function(){this.wc(null)};
hF.prototype.ahq=function(){var w=this.gJ;return w.b<<16|w.J<<8|w.k};hF.prototype.o=function(){return O.M.Yw(this.gJ)};
hF.prototype._U=function(w){this.gJ={b:w>>16&255,J:w>>8&255,k:w&255};this.abw()};hF.prototype.$=function(w){this.gJ=O.M.cH(w);
this.abw()};hF.prototype.abw=function(){var w=this.gJ,n=w.b,H=w.J,y=w.k,c=n<<16|H<<8|y;this.n.setAttribute("style","background-color:#"+O.w9(c))};
function kg(){bU.call(this);this.t0=!1;this.tG=20;this.ahB=10;this.S$=0;this.t0=!1;this.Zi={b:255,J:0,k:0};
this.Oy={b:0,J:0,k:0};this.n=s.t("canvas");this.k9();s.g0(this.n);s.am(this.n,this.dK.bind(this))}kg.prototype=new bU;
kg.prototype.atE=function(w){if(this.t0==w)return;this.t0=w;this.k9()};kg.prototype.f=function(){};kg.prototype.aiS=function(w,n){function H(y){return{b:y>>16&255,J:y>>8&255,k:y&255}}if(w!=null)this.Zi=H(w);
if(n!=null)this.Oy=H(n);this.k9()};kg.prototype.dK=function(w){var n=s.E4(w,this.n),H=n.x*s.V(),y=n.y*s.V(),c=this.tG,Q=this.ahB,q=0;
if(H<Q&&y<Q){q=0}else if(H>c-Q&&y>c-Q){q=1}else if(H<Q){q=2}else{q=3}this.Hz(q)};kg.prototype.Hz=function(w){var n=new aL(M.E.L,!0);
if(w>1)n.data={d:M.c.Yj,PY:h6.Fz,cl:w};else{this.S$=w;var H=w==0?this.Zi:this.Oy;n.data={d:M.c.rL,Ln:"colorpicker",qA:H.b<<16|H.J<<8|H.k,Ro:this.pz.bind(this)}}this.S(n)};
kg.prototype.pz=function(w){var n=new aL(M.E.L,!0);n.data={d:M.c.Yj,PY:h6.Fz,cl:this.S$,Z:w};this.S(n)};
kg.prototype.k9=function(){var w=this.n,n=w.getContext("2d"),H=s.V(),c="#aaaaaa",Q=.62;s.pD(w,34,34);
w.setAttribute("style",w.getAttribute("style")+";cursor:pointer");var y=this.tG=w.width,q=this.ahB=Math.round(y*Q);
function S(z,v){var T=z.b,Y=z.J,g=z.k;if(v)T=Y=g=Math.round(O.LC(T,Y,g));var R=T<<16|Y<<8|g;return"#"+O.w9(R)}function A(n,z,v,T,Y,g){n.beginPath();
if(T>=g*2&&Y>=g*2){n.moveTo(z+g,v);n.lineTo(z+T-g,v);n.quadraticCurveTo(z+T,v,z+T,v+g);n.lineTo(z+T,v+Y-g);
n.quadraticCurveTo(z+T,v+Y,z+T-g,v+Y);n.lineTo(z+g,v+Y);n.quadraticCurveTo(z,v+Y,z,v+Y-g);n.lineTo(z,v+g);
n.quadraticCurveTo(z,v,z+g,v)}n.closePath()}function V(z,v,q,T,Y){n.strokeStyle=Y?Y:"black";n.fillStyle=T;
A(n,z+.5,v+.5,q-1,q-1,q*.2);n.fill();n.stroke()}V(y-q,y-q,q,S(this.Oy,this.t0));V(0,0,q,S(this.Zi,this.t0));
var e=y-q,d=Math.round(e*Q);V(y-d,e-d,d,"white",c);V(y-e,0,d,"black",c);n.save();n.fillStyle=c;n.translate(0,y);
n.rotate(-Math.PI/2);e=y-q;var N=Math.round(e*.28),b=Math.round(e*.25);for(var l=0;l<2;l++){n.fillRect(N,N,e-N,1);
n.beginPath();n.moveTo(e-b,N+.5-b);n.lineTo(e,N+.5);n.lineTo(e-b,N+.5+b);n.closePath();n.fill();n.transform(0,1,1,0,0,0)}n.restore()};
function cT(w){cE.call(this,w,!1,"brushbutton nopadding",19,10,h6.p6,!0);var n=this.a8Y;s.li(n,"flexrow");
var H=s.t("div");n.appendChild(H);var y=s.t("div");n.appendChild(y);y.setAttribute("style","margin-left:8px");
this.Nj=new gl(null,null,!0);this.Nj.h(M.E.A,this.Ik,this);H.appendChild(this.Nj.n);this.js=new b9([12,14,0],1,1e3," px",0,!0);
this.js.h(M.E.A,this.Ik,this);y.appendChild(this.js.n);this.HU=new b9([12,17],0,100,"%");this.HU.h(M.E.A,this.Ik,this);
y.appendChild(this.HU.n);this.iZ=new iS(null,["<img src=\""+PIMG.prsO+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.prsS+"\" class=\"autoscale gsicon\" />"],!0,[[15,9,0],[15,9,1]]);
this.iZ.h(M.E.A,this.Ik,this);y.appendChild(this.iZ.n)}cT.prototype=new cE;cT.prototype.Kc=function(){var w=["pencil","trees"];
for(var l=0;l<w.length;l++)w[l]="brushes/"+w[l]+".abr";return w};cT.prototype.$=function(w,n,H){this.oi=JSON.parse(JSON.stringify(w));
var y=Math.floor(20*s.V()),c=Math.floor(36*s.V()),Q=Math.floor(24*s.V()),q=cn.zT(w,n,H,y,Q,c);this.Iv.setAttribute("src",q);
s.cD(this.Iv,c,Q);var S=w.Brsh.v;this.js.$(S.Dmtr.v.val);if(S.Hrdn!=null){this.HU.ZF();this.HU.$(S.Hrdn.v.val)}else this.HU.j7();
if(S.Angl!=null)this.Nj.$([S.Angl.v.val]);if(S.Rndn!=null)this.Nj.$([null,null,S.Rndn.v.val/100]);var A=[!1,!1];
if(w.opVr)A[0]=w.opVr.v.bVTy.v==2;if(w.szVr)A[1]=w.szVr.v.bVTy.v==2;this.iZ.$(A)};cT.prototype.BL=function(){return{list:[{t:"Objc",v:this.o()}],NS:[],c4:[]}};
cT.prototype.o=function(){return this.oi};cT.prototype.yx=function(){if(!this.vU)return;var w=[],n=[],H=this.Wq,y=Math.floor(33*s.V()),c=Math.floor(40*s.V());
for(var l=0;l<H.list.length;l++){var Q=H.list[l].v,q=cn.zT(Q,H.NS,H.c4,y,c);w.push(q);n.push(Q.Nm.v.split("=").pop())}this.PZ.bu(w,n,y,c);
this.vU=!1};cT.prototype.aO=function(w){var n=this.Wq;this.$(n.list[this.PZ.o()[0]].v,n.NS,n.c4);this.S(new aL(M.E.A))};
cT.prototype.f=function(){cE.prototype.f.call(this);this.Nj.f();this.js.f();this.HU.f()};cT.prototype.Ik=function(w){var n=this.Wq,H=this.oi,y=H.Brsh.v;
y.Dmtr.v.val=this.js.o();if(y.Hrdn!=null)y.Hrdn.v.val=this.HU.o();if(y.Angl!=null)y.Angl.v.val=this.Nj.o()[0];
if(y.Rndn!=null)y.Rndn.v.val=Math.round(this.Nj.o()[2]*100);if(w.target==this.iZ){var c=this.iZ.o(),Q=["opVr","szVr"],q=["usePaintDynamics","useTipDynamics"];
for(var l=0;l<2;l++){var S=Q[l];if(H[S]==null)H[S]=JSON.parse(iG.OR.Ft[S]);H[S].v.bVTy.v=c[l]?2:0;if(c[l])H[q[l]].v=!0}iG.OR.ai7(H)}this.$(H,n.NS,n.c4);
this.S(new aL(M.E.A))};function gv(w){cE.call(this,w,!0,"contourbutton",17,10.5,h6.K7)}gv.prototype=new cE;
gv.prototype.aO=function(w){this.$(this.Wq[w.target.o()]);this.S(new aL(M.E.A))};gv.prototype.vJ=function(w){var n=new aL(M.E.L,!0);
n.data={d:M.c.rL,Ln:"contoureditor",GN:this.oi,response:this.af6.bind(this)};this.S(n)};gv.prototype.af6=function(w){this.$(w);
this.S(new aL(M.E.A))};gv.prototype.yx=function(){if(!this.vU)return;var w=Math.floor(38*s.V()),n=Math.floor(38*s.V()),H=[],y=[],c=this.Wq;
for(var l=0;l<c.length;l++){y.push(c[l].Nm?c[l].Nm.v:"");H.push(O.hT.zT(c[l].Crv.v,w,n))}this.PZ.bu(H,y,w,n);
this.vU=!1};gv.prototype.$=function(w){this.oi=JSON.parse(JSON.stringify(w));var n=this.oi.Crv.v;for(var l=0;
l<n.length;l++)if(n[l].v.Cnty==null)n[l].v.Cnty={t:"bool",v:!0};this.H0()};gv.prototype.H0=function(){var w=Math.floor(30*s.V()),n=Math.floor(30*s.V()),H=O.hT.zT(this.oi.Crv.v,w,n);
this.Iv.setAttribute("src",H);s.cD(this.Iv,w,n)};gv.prototype.o=function(){return JSON.parse(JSON.stringify(this.oi))};
function bN(w){bU.call(this);this.xK=null;this.Uz=null;this.hv=null;this.qM=null;this.a3U=[];this.agE=[];
this.n=s.t("span","fitem fillbutton");this.dP=new bU;this.dP.n=s.t("div","floatcont form");this.dP.n.setAttribute("style","width: 21em;");
this.dP.parent=this;this.aB=w;this.Oz=this.Oz=s.t("label","flabel");this.n.appendChild(this.Oz);this.F=s.t("canvas");
this.NK=this.F.getContext("2d");this.a9i=null;this.n.appendChild(this.F);s.am(this.F,this.Ay.bind(this));
this.tt=new iY([12,66],["","Color","Grad","Patt"]);this.dP.n.appendChild(this.tt.n);this.tt.h(M.E.A,this.tw,this);
this.dP.n.appendChild(s.t("hr"));this.a8J=s.t("span");this.kn=new hF(!1);this.kn.parent=this.dP;this.kn.h(M.E.A,this.tw,this);
this.cy=new fg(10);this.cy.h(M.E.A,this.tw,this);this.x0=s.t("div","marged hiline");this.x0.appendChild(this.kn.n);
s.yD(this.x0);this.x0.appendChild(this.cy.n);this.lV=new d3("GrFl",!0);this.lV.parent=this.dP;this.lV.h(M.E.A,this.tw,this);
this.mp=s.t("div","marged hiline");var n="Grad Type Algn Angl Rvrs Scl Ofst".split(" ");for(var l=0;
l<n.length;l++){var H=this.lV.CM[n[l]].n;this.mp.appendChild(H)}this.Uf=new d3("patternFill",!0);this.Uf.parent=this.dP;
this.Uf.h(M.E.A,this.tw,this);this.jr=s.t("div","marged hiline");var n=["Ptrn","Angl","Scl","Algn","phase"];
for(var l=0;l<n.length;l++){var H=this.Uf.CM[n[l]].n;this.jr.appendChild(H)}}bN.prototype=new bU;bN.prototype.AB=function(w,n){var H=db.mr(w,n);
if(H!=null)this.cy.$(H);if(n==h6.wK){this.a3U=[];this.agE=[];if(this.xK)this.$(this.hv,this.o(),this.xK)}this.Uz=w;
this.lV.AB(w,n);this.Uf.AB(w,n)};bN.prototype.f=function(){this.Oz.textContent=hV.get(this.aB)+": ";
this.tt.f();this.kn.f();this.lV.f();this.Uf.f()};bN.prototype.tw=function(w){var n=w.currentTarget;if(n==this.tt){var H=this.tt.o(),y={SU:H,WL:this.xK[H]};
if(H>0&&y.WL==null)y.WL=JSON.parse(JSON.stringify(d5.Um[H-1]));if(this.xK)this.$(this.hv,y,this.xK)}if(n==this.cy)this.kn._U(n.o());
this.S(new aL(M.E.A,!1))};bN.prototype.Ay=function(w){if(s._Q(this.dP.n))return;w.stopPropagation();
var n=this.F.getBoundingClientRect(),H=new aL(M.E.L,!0);H.data={d:M.c.hf,_0:this.dP,x:n.left,y:n.top+n.height+4};
this.S(H)};bN.prototype.$=function(w,n,H){this.xK=H;this.hv=w;var y=[[13,1,0],[13,0],[12,37],[12,62]],c=this.a3U,Q=this.agE,q=!1,e;
for(var l=0;l<4;l++){var S={SU:l,WL:H[l]},A=bN.anE(S);if(Q[l]==A)continue;q=!0;var V=bN.acj(null,S,this.Uz,this.hv,22,22,!1);
c[l]="<img width=\"22\" height=\"22\" src=\""+V+"\" />";Q[l]=A}if(q)this.tt.pe(c,y);this.tt.$(n.SU);
var A=bN.anE(n);if(A!=this.a9i)bN.acj(this.NK,n,this.Uz,this.hv,30,23,!0);this.a9i=A;var d=n.SU;if(d==0){e=this.a8J}if(d==1){this.kn.$(n.WL.Clr.v);
e=this.x0}if(d==2){this.lV.update(w,n.WL);e=this.mp}if(d==3){this.Uf.update(w,n.WL);e=this.jr}if(e!=this.qM){if(this.qM!=null){this.dP.n.removeChild(this.qM)}this.dP.n.appendChild(e);
this.qM=e}};bN.prototype.o=function(){var w={SU:this.tt.o()};if(w.SU==1){w.WL=JSON.parse(JSON.stringify(d5.Um[0]));
w.WL.Clr.v=this.kn.o()}if(w.SU==2){w.WL=this.lV.o()}if(w.SU==3){w.WL=this.Uf.o()}return w};bN.anE=function(w){var n=w.SU,H=w.WL,y="empty";
if(n==1){y=O.M.cH(H.Clr.v);y=y.b+","+y.J+","+y.k}if(n==2)y=JSON.stringify(H.Grad.v);if(n==3)y=H.Ptrn.v.Idnt.v;
return y};bN.acj=function(w,n,H,y,c,Q,q){if(w==null)w=bN.NK;var S=Math.floor(c*s.V()),A=Math.floor(Q*s.V()),V=w.canvas,e;
V.width=S;V.height=A;s.cD(V,S,A);var d=n.SU;if(d==0){w.fillStyle="#ffffff";w.fillRect(0,0,S,A);w.strokeStyle="#ff0000";
w.lineWidth=2;w.moveTo(0,0);w.lineTo(S,A);w.moveTo(0,A);w.lineTo(S,0);w.stroke()}if(d==1){var N=n.WL.Clr.v;
N=O.M.cH(N);w.fillStyle="#"+O.w9(N.b<<16|N.J<<8|N.k);w.fillRect(0,0,S,A)}if(d==2){P.H2.zT(n.WL.Grad.v,S,A,0,H.Ni,H.uu,w)}if(d==3){var b=n.WL.Ptrn.v,z;
if(y!=null)z=hO.EZ(b,y.add.Patt);if(z==null)z=hO.EZ(b,H.XG);e8.zT(z,S,A,V)}if(q){w.beginPath();w.strokeStyle="#000000";
w.fillStyle="#ffffff";w.lineWidth=2;var v=S*.7,T=Math.floor(A*.7),Y=7*s.V();w.moveTo(v,T);w.lineTo(v+Y,T);
w.lineTo(v+Y/2,T+Y/2);w.closePath();w.stroke();w.fill()}if(w==bN.NK)return V.toDataURL()};bN.NK=s.t("canvas").getContext("2d");
function e8(w){cE.call(this,w,!1,"patternbutton",18,10,h6.wK);this.nM=null}e8.prototype=new cE;e8.prototype.aO=function(w){var n=this.Wq[this.PZ.o()];
this.oi={classID:"Ptrn",Nm:{t:"TEXT",v:n.name},Idnt:{t:"TEXT",v:n.id}};this.S(new aL(M.E.A));this.H0()};
e8.prototype.yx=function(){if(!this.vU)return;var w=this.Wq,n=Math.floor(34*s.V()),H=Math.floor(34*s.V()),y=[],c=[];
for(var l=0;l<w.length;l++){y.push(e8.zT(w[l],n,H));c.push(w[l].name)}this.PZ.bu(y,c,n,H);this.vU=!1};
e8.prototype.$=function(w,n){if(this.oi&&w.Idnt.v==this.oi.Idnt.v)return;this.oi=JSON.parse(JSON.stringify(w));
this.H0(n)};e8.prototype.o=function(){return JSON.parse(JSON.stringify(this.oi))};e8.prototype.BL=function(){return this.nM?[this.nM]:[]};
e8.prototype.H0=function(w){var n=Math.floor(50*s.V()),H=Math.floor(50*s.V()),y;if(w!=null)y=hO.EZ(this.oi,w.add.Patt);
if(y==null)y=hO.EZ(this.oi,this.Wq);this.nM=y;var c=e8.zT(y,n,H);this.Iv.setAttribute("src",c);s.cD(this.Iv,n,H)};
e8.F=s.t("canvas","");e8.zT=function(w,n,H,y){if(y==null)y=e8.F;var c=y.getContext("2d");y.width=n;y.height=H;
if(w){var Q=w.TP[1],q=Q.m,S=Q.e,A=w.TP[0],V=Math.min(n/q,H/S),e=V;if(e*q<2)e=2/q;var d=V;if(d*S<2)d=2/S;
var N=P.WJ.T_([A,Q],new b7(e,0,0,d,0,0),e>2),b=N.rect.m,z=N.rect.e,v=c.createImageData(b,z);O.Bq(N.buffer,v.data);
c.putImageData(v,Math.floor((n-b)/2),Math.floor((H-z)/2))}return y.toDataURL()};function j5(w,n,H){if(n==null)n=24.2;
if(H==null)H=17;cE.call(this,w,!1,"patternbutton",n,H,h6.cb);this.JF=""}j5.prototype=new cE;j5.prototype.aO=function(w){this.oi=JSON.parse(JSON.stringify(this.Wq[0][this.PZ.o()[0]]));
this.S(new aL(M.E.A))};j5.prototype.yx=function(){var w=this.Wq;if(w==null||!this.vU)return;var n=Math.floor(50*s.V()),H=Math.floor(50*s.V()),y=[],c=[];
for(var l=0;l<w[0].length;l++){y.push(j5.zT(this.Wq[0][l].fw,n,H,this.Wq[1]));c.push(w[0][l].E5.Nm.v.split("=").pop())}this.PZ.bu(y,c,n,H);
this.vU=!1};j5.prototype.$=function(w,n,H,y){var c=JSON.stringify(w.fw)+","+H+","+y;if(this.JF!=c){this.JF=c;
this.oi=JSON.parse(JSON.stringify(w));this.H0(n,H,y)}};j5.prototype.o=function(){return JSON.parse(JSON.stringify(this.oi))};
j5.prototype.H0=function(w,n,H){var y=Math.floor(68*s.V()),c=Math.floor(68*s.V()),Q=j5.zT(this.oi.fw,y,c,w?w:this.Wq[1],n,H);
this.Iv.setAttribute("src",Q);s.cD(this.Iv,y,c)};j5.zT=function(w,n,H,y,c,Q){var q=new iC;q.m=n;q.e=H;
q.buffer=O.R(n*H*4);q.add.Patt=y;q.sK(c==null?90:c);q.QF(Q==null?30:Q);var S=new cr(0,0,Math.round(n*.5),Math.round(H*.5));
S.x=Math.round((n-S.m)/2);S.y=Math.round((H-S.e)/2);var A=q.mX();A.rect=S;A.buffer=O.R(S.O()*4);O.jZ(A.buffer,4284045657);
hO.aw9(w,A,.5*100);q.B.push(A);q.C1();q.U();var V=dy._k;dy._k=!1;q.eU();var e=q.E$();dy._k=V;var d=cb.m8(e.buffer,q.m,q.e);
return d};function gY(w){cE.call(this,null,!1,"tpresetbutton",18,24,h6.Xs,!0);s.n_(this.n,"fitem");this.PZ.Bw(1);
this.id=w;this.H0();this.d.style.overflow="hidden";this.KP=new jH([15,7,9]);this.KP.$(!0);this.KP.h(M.E.A,this.ac9,this);
this.zB.appendChild(this.KP.n)}gY.prototype=new cE;gY.prototype.axg=function(w){if(this.id==w)return;
this.id=w;this.iq(this.Wq)};gY.prototype.aO=function(w){var n=this.Wq[this.PZ.o()],H=new aL(M.E.L,!0);
H.data={d:M.c.Yj,fB:"set",PY:h6.Xs,JT:n};this.S(H)};gY.prototype.f=function(){cE.prototype.f.call(this);
this.KP.f()};gY.prototype.ac9=function(){this.vU=!0;this.yx()};gY.prototype.yx=function(){if(!this.vU)return;
var w=Math.floor(16*s.V()),n=Math.floor(16*s.V()),H=[],y=[],c=this.Wq,Q=this.KP.o();for(var l=0;l<c.length;
l++){var q=P.a7z(c[l]);if(!Q||q==this.id){y.push(c[l][0]?c[l][0].split("=").pop():"");H.push(q==-1?"":PIMG[P._g[q][0]])}else{H.push(null);
y.push(null)}}this.PZ.bu(H,y,w,n);this.vU=!1};gY.prototype.H0=function(){var w=this.Iv;w.setAttribute("src",PIMG[P._g[this.id][0]]);
s.li(w,"toolicon")};gY.prototype.BL=function(){return null};gY.KT={};gY.zT=function(w,n,H){var y=gY.NK,c=gY.KT,Q=O.w9(w.b<<16|w.J<<8|w.k);
if(c[Q])return c[Q];if(y==null){var q=s.t("canvas");y=gY.NK=q.getContext("2d")}var q=y.canvas;q.width=n;
q.height=H;y.fillStyle="#"+Q;y.fillRect(0,0,n,H);var S=c[Q]=q.toDataURL();return S};function f7(w,n,H){bU.call(this);
this.n=s.t("span","fitem curveeditor");this.$W=null;this.ab0=0;this.v7="";this.mode=0;this.iz=w;this.a1h=n;
this.a4I=H;this.o7=null;this.A7=null;this.ac0=0;this.ar7=0;this.Jm=new ce;this.XL=this.Zz.bind(this);
this.p$=this.SH.bind(this);this.MG=256;this.F=s.t("canvas");this.NK=this.F.getContext("2d");s.g0(this.F);
this.n.appendChild(this.F);this.kc(256,256);s.am(this.F,this.IR.bind(this));this.coords=s.t("div");this.coords.setAttribute("style","width:250px");
this.n.appendChild(this.coords);var y=this.u0=H?100:255,c=null;this.Xq=new kc("X (in)",0,y,c,0,!1,!0);
this.pt=new kc("Y (out)",0,y,c,0,!1,!0);this.ZC=new jH([19,3,0]);this.Xq.h(M.E.A,this.MD,this);this.pt.h(M.E.A,this.MD,this);
this.ZC.h(M.E.A,this.MD,this);this.coords.appendChild(this.Xq.n);if(H)this.coords.appendChild(this.ZC.n);
this.coords.appendChild(this.pt.n)}f7.prototype=new bU;f7.prototype.f=function(){this.ZC.f();this.Xq.f();
this.pt.f()};f7.prototype.kc=function(w,n){this.MG=Math.round(w);this.NK.resetTransform();s.pD(this.F,this.MG,this.MG,this.NK);
this.NK.scale(this.MG/256,this.MG/256);if(this.o7)this.kZ()};f7.prototype.MD=function(w){var l=this.aqi(),n=this.o7[l],H=255/this.u0;
n.v.Hrzn.v=this.Xq.o()*H;n.v.Vrtc.v=this.pt.o()*H;if(this.a4I)n.v.Cnty.v=this.ZC.o();this.o7.sort(function(y,c){return y.v.Hrzn.v-c.v.Hrzn.v});
this.kZ();this.S(new aL(M.E.A))};f7.prototype.$=function(w,l){var n=JSON.stringify(w);if(n==JSON.stringify(this.o7))return;
this.mode=w.length==256?1:0;this.o7=JSON.parse(n);if(l!=null)this.A7=this.o7[l];this.kZ()};f7.prototype.cZ=function(w,n,H){this.$W=w;
this.ab0=n;this.v7=H;this.kZ()};f7.prototype.o=function(){return JSON.parse(JSON.stringify(this.o7))};
f7.prototype.aqi=function(){return this.o7.indexOf(this.A7)};f7.prototype.IR=function(w){var n=256/this.MG,H=s.E4(w,this.F);
H.x*=n;H.y*=n;var y=H.x,c=256-H.y;if(this.iz){var Q=y;y=256-c;c=Q}this.Jm.HV(y,c);if(this.mode==0){var q=0,S=1e9,N;
for(var l=0;l<this.o7.length;l++){var A=this.o7[l].v,V=A.Hrzn.v-y,e=A.Vrtc.v-c,d=Math.sqrt(V*V+e*e);
if(d<S){S=d;q=l}}if(S<15)N=this.o7[q];else{N=O.hT.UH(y,c,!0);this.o7.push(N);this.o7.sort(function(b,z){return b.v.Hrzn.v-z.v.Hrzn.v})}this.A7=N;
this.ar7=this.o7.slice(0)}s.I7(document.body,this.XL);s.vM(document.body,this.p$);this.Zz(w)};f7.prototype.Zz=function(w){var n=256/this.MG,H=s.E4(w,this.F);
H.x*=n;H.y*=n;var y=H.x,c=256-H.y;if(this.iz){var Q=y;y=256-c;c=Q}if(this.mode==0){var q=this.o7,S=this.A7,A=this.ar7,V=A.indexOf(S),e=q.indexOf(S)!=-1,d=A.length-1,N=y;
if(V==0){N=Math.max(0,Math.min(A[1].v.Hrzn.v-1,y))}else if(V==d){N=Math.min(255,Math.max(A[d-1].v.Hrzn.v+1,y))}else{var b=y<0||y>255||c<0||c>255;
if(y<=A[V-1].v.Hrzn.v||y>=A[V+1].v.Hrzn.v)b=!0;if(!b&&!e)q.splice(V,0,S);if(b&&e)q.splice(V,1)}if(this.a1h&&(V==0||V==A.length-1)){}else S.v.Hrzn.v=Math.round(N);
S.v.Vrtc.v=Math.max(0,Math.min(255,Math.round(c)))}else{y=Math.round(y);c=Math.round(c);y=Math.max(0,Math.min(255,y));
c=Math.max(0,Math.min(255,c));var z=this.Jm.x,v=y,T=this.Jm.y,Y=c;if(y<this.Jm.x){v=z;z=y;Y=T;T=c}this.o7[y]=c;
if(z!=v)for(var g=z;g<=v;g++)this.o7[g]=Math.round(T+(g-z)*(Y-T)/(v-z))}this.Jm.HV(y,c);this.kZ();this.S(new aL(M.E.A))};
f7.prototype.SH=function(w){s.kg(document.body,this.XL);s.v8(document.body,this.p$);this.S(new aL(M.E.A))};
f7.prototype.kZ=function(){var w=this.NK,n=this.F;w.fillStyle="#ffffff";w.fillRect(0,0,256,256);var H=256/n.width;
if(this.$W){w.save();w.translate(0,256);w.scale(1,-1);fk.arK(w,this.$W,5700/this.ab0,this.v7);w.restore()}w.strokeStyle="#aaaaaa";
w.lineWidth=1*H;w.beginPath();for(var l=1;l<4;l++){var y=(Math.floor(64*l/H)+.5)*H;w.moveTo(0,y);w.lineTo(255,y);
w.moveTo(y,0);w.lineTo(y,255)}w.stroke();if(this.iz){w.save();w.transform(0,1,-1,0,256,0)}if(this.mode==0){var c=this.o7,Q=O.hT.b8(c,256);
w.strokeStyle="#000000";w.beginPath();w.moveTo(0,255.5-Q[0]);for(var l=0;l<256;l++)w.lineTo(l,255.5-Q[l]);
w.stroke();w.lineWidth=2*H;for(var l=0;l<c.length;l++){var q=c[l].v;w.fillStyle=this.A7==c[l]?"#333":"#fff";
w.beginPath();w.moveTo(q.Hrzn.v,255.5-q.Vrtc.v);w.arc(q.Hrzn.v,255.5-q.Vrtc.v,5*H,0,2*Math.PI);w.stroke();
w.fill()}}else{var Q=this.o7;w.strokeStyle="#000000";w.beginPath();w.moveTo(0,255.5-Q[0]);for(var l=0;
l<256;l++)w.lineTo(l,255.5-Q[l]);w.stroke()}if(this.iz)w.restore();var l=this.aqi();this.coords.className=l==-1?"disabled":"";
if(l==-1)return;var q=this.o7[l].v,S=255/this.u0;this.Xq.$(Math.round(q.Hrzn.v/S));this.pt.$(Math.round(q.Vrtc.v/S));
if(q.Cnty)this.ZC.$(q.Cnty.v)};function fk(w,n){bU.call(this);this.n=s.t("span","");this.IW=new dw([12,4],["RGB",[13,1,1],[13,1,4],[13,1,5],[12,82]]);
this.IW.h(M.E.A,this.k9,this);this.n.appendChild(this.IW.n);s.yD(this.n);var H=s.t("div");this.n.appendChild(H);
H.setAttribute("style","background-color: var(--bg-canvas); margin:6px 0;");this.F=s.t("canvas");var y=this.F;
H.appendChild(y);y.width=Math.round(w*s.V());y.height=Math.round(100*s.V());s.cD(y,y.width,y.height);
y.style.display="block";this.NK=y.getContext("2d");this.$W=null;this.hR=0;this.abE=null;this.a9Y=[];
this.OV=[];var c=["Mean:","Pixels:"],Q=this.n;if(n)for(var l=0;l<c.length;l++){var q=new iD(c[l]);this.a9Y.push(q);
Q.appendChild(q.n);var S=new iD("hi");this.OV.push(S);Q.appendChild(S.n);s.yD(Q)}}fk.prototype=new bU;
fk.prototype.f=function(){this.IW.f()};fk.prototype.Bw=function(w){this.IW.$(w);this.k9()};fk.prototype.$=function(w,n){this.$W=w;
this.abE=n;this.k9()};fk.prototype._U=function(w){if(w==this.hR)return;this.hR=w;this.k9()};fk.prototype.k9=function(){if(this.$W==null)return;
var w=this.F,n=this.NK,H=this.$W,y=this.abE,c=this.IW.o(),Q=6e3/H[4],q="#"+O.w9(this.hR),S=fk.arK;w.width=w.width;
n.setTransform(w.width/256,0,0,-w.height/100,0,w.height);n.globalCompositeOperation="lighter";if(c==0)S(n,H[0],Q/3,q);
else if(c<4)S(n,H[c],Q,q);else{S(n,H[1],Q,"#ff0000");S(n,H[2],Q,"#00ff00");S(n,H[3],Q,"#0000ff")}n.setTransform(1,0,0,1,0,0);
if(y!=null){if(c==4)c=0;var A=0;for(var l=0;l<256;l++)A+=l*H[c][l];if(c==0)A/=3;this.OV[0].$((A/y).toFixed(1)+"");
this.OV[1].$(y+"")}};fk.arK=function(w,n,H,y){w.beginPath();w.moveTo(0,0);for(var c=0;c<256;c++)w.lineTo(c,n[c]*H);
w.lineTo(256,0);w.closePath();w.fillStyle=y;w.fill()};function cc(w,n){bU.call(this);this.i4={b:0,J:0,k:0};
if(Math.abs(w-256/s.V())<10)w=256/s.V();var H=this.n=s.t("div","flexrow");H.style.position="relative";
var y=this.a6r=s.t("div");H.appendChild(y);this.ru=new ce;this.Sg=new ce;this.Jn=this.a8G.bind(this);
this.B$=this.abO.bind(this);this.F=s.t("canvas","");this.NK=this.F.getContext("2d");this.F.width=this.F.height=256;
this.avx=this.NK.getImageData(0,0,256,256);this.azd=-1;this.ay7="";s.g0(this.F);s.am(this.F,this.al6.bind(this));
y.appendChild(this.F);this.asq=this.am0.bind(this);this.awr=this.auu.bind(this);this.AM=s.t("canvas","");
this.b3=this.AM.getContext("2d");this.AM.width=20;this.AM.height=256;this.aq_=this.b3.getImageData(0,0,20,256);
cc.ags(this.aq_.data,20,256);s.g0(this.AM);s.am(this.AM,this.asI.bind(this));H.appendChild(this.AM);
this.F.setAttribute("style","width:"+w+"px; height:"+w+"px");this.AM.setAttribute("style","width:16px; height:"+w+"px");
this.hF=new jH("Web Colors\u2001");this.hF.h(M.E.A,this.update,this);this.Hf=new jH("CMYK gamut");this.Hf.h(M.E.A,this.update,this);
if(n){s.yD(y);y.appendChild(this.hF.n);y.appendChild(this.Hf.n)}var c=this.$O=document.createElementNS("http://www.w3.org/2000/svg","svg");
H.appendChild(c)}cc.prototype=new bU;cc.prototype.kc=function(w,n){this.F.style.width=this.a6r.style.width=w-16+"px"};
cc.prototype.$=function(w){if(this.hF.o()){var n=JSON.parse(JSON.stringify(w));cc.GW(n);var H=this.o();
if(n.b==H.b&&n.J==H.J&&n.k==H.k)w=this.i4}this.i4=w;this.update()};cc.prototype.o=function(){var w=JSON.parse(JSON.stringify(this.i4));
if(this.hF.o())cc.GW(w);return w};cc.prototype.update=function(){var w=this.i4,n=O.qR(w.b,w.J,w.k),S=18;
if(n.X5==0)n.ua=this.ru.x/255;if(n.ua==0||n.X5==0)n.WZ=(255-this.OR(this.Sg.y))/255;if(n.X5!=0)this.ru.x=n.ua*255;
this.ru.y=(1-n.X5)*255;this.Sg.y=(1-n.WZ)*255;var H=this.avx,y=this.hF.o(),c=this.Hf.o(),Q=y+","+c;if(Math.abs(n.WZ-this.azd)>.002||this.ay7!=Q){this.aeF(H.data,256,256,n.WZ,y,c);
this.azd=n.WZ;this.ay7=Q}var q=this.NK;q.putImageData(H,0,0);H=this.aq_;q=this.b3;q.putImageData(H,0,0);
q.strokeStyle="#ffffff";q.beginPath();q.moveTo(0,this.Sg.y);q.lineTo(20,this.Sg.y);q.lineWidth=2;q.stroke();
var A=this.ru.y/255,V=parseFloat(this.F.style.width),e=parseFloat(this.F.style.height),d=this.$O;d.setAttribute("width",S);
d.setAttribute("height",S);var N=Math.round(w.b*255)<<16|Math.round(w.J*255)<<8|Math.round(w.k*255),b="<circle cx=\""+S/2+"\" cy=\""+S/2+"\" r=\""+S/2+"\" fill=\"#"+O.w9(N)+"\"></circle>";
b+="<circle cx=\""+S/2+"\" cy=\""+S/2+"\" r=\""+(-.5+S/2)+"\" fill=\"none\" stroke=\"rgba(255,255,255,"+(.5-.2*A)+")\" stroke-width=\"1\"></circle>";
b+="<circle cx=\""+S/2+"\" cy=\""+S/2+"\" r=\""+(-1.2+S/2)+"\" fill=\"none\" stroke=\"rgba(0,0,0,0.07)\" stroke-width=\"0.4\"></circle>";
d.innerHTML=b;d.style.pointerEvents="none";d.style.filter="drop-shadow(0px 3px 2px rgba(0,0,0,0.4)";
d.style.position="absolute";d.style.left=V*(this.ru.x/255)-S/2+"px";d.style.top=e*(this.ru.y/255)-S/2+"px"};
cc.GW=function(w){w.b=~~(.5+w.b*5)*.2;w.J=~~(.5+w.J*5)*.2;w.k=~~(.5+w.k*5)*.2};cc.prototype.aeF=function(w,n,H,y,c,Q){var q=1/n,S=1/H;
for(var A=0;A<H;A++)for(var V=0;V<n;V++){var e=O.AT(y,V*q,(H-A-1)*S);if(c)cc.GW(e);var l=A*n+V<<2;w[l+0]=~~(e.b*255);
w[l+1]=~~(e.J*255);w[l+2]=~~(e.k*255);w[l+3]=255}if(Q){var d=w.slice(0),N=iC.q1[0],b=iC.q1[1];ICC.U.applyLUT(b,N,d,d);
for(var l=0;l<w.length;l+=4){var z=w[l]-d[l],v=w[l+1]-d[l+1],T=w[l+2]-d[l+2],Y=z*z+v*v+T*T;if(Y>300)w[l]=w[l+1]=w[l+2]=200}}};
cc.ags=function(w,n,H,y,c){if(y==null)y=1;if(c==null)c=0;var Q=new Uint32Array(w.buffer);for(var q=0;
q<H;q++){var S=O.AT((1+y*(1-q/H)+c)%1,1,1),A=255<<24|S.k*255<<16|S.J*255<<8|S.b*255;for(var V=0;V<n;
V++)Q[q*n+V]=A}};cc.prototype.al6=function(w){s.I7(window,this.Jn);s.vM(window,this.B$);this.a8G(w);
this.$O.style.transition="transform 150ms cubic-bezier(.4,2.2,.6,.5)";this.$O.style.transform="scale(2.4)"};
cc.prototype.abO=function(w){s.kg(window,this.Jn);s.v8(window,this.B$);this.$O.style.transition="transform 200ms cubic-bezier(.4,2.2,.6,.5)";
this.$O.style.transform="scale(1)"};cc.prototype.a8G=function(w){var n=s.E4(w,this.F);n.x=n.x*(256/parseFloat(this.F.style.width));
n.y=n.y*(256/parseFloat(this.F.style.height));this.ru.HV(this.OR(n.x),this.OR(n.y));this.x1()};cc.prototype.x1=function(){this.i4=this.ayU();
this.S(new aL(M.E.A))};cc.prototype.ayU=function(){var w=O.AT((255-this.OR(this.Sg.y))/255,this.wj(this.ru.x/255),this.wj(1-this.ru.y/255));
return{b:w.b,J:w.J,k:w.k}};cc.prototype.asI=function(w){s.I7(window,this.asq);s.vM(window,this.awr);
this.am0(w)};cc.prototype.auu=function(w){s.kg(window,this.asq);s.v8(window,this.awr)};cc.prototype.am0=function(w){var n=s.E4(w,this.AM);
n.y=n.y*(256/parseFloat(this.AM.style.height));this.Sg.HV(this.OR(n.x),this.OR(n.y));this.x1()};cc.prototype.OR=function(w){return Math.max(0,Math.min(255,w))};
cc.prototype.wj=function(w){return Math.max(0,Math.min(1,w))};function gs(w,n,H,y){var c=iY.gZ(n,y);
iY.call(this,w,c,H)}gs.prototype=new iY;function gR(){bU.call(this);this.KM=null;this.HF=new ej;this.HF.h(M.E.A,this.auX,this);
this.HF.parent=this;this.rl=new kc([12,14,0],1,150,"px",0,!0);this.rl.h(M.E.A,this.wA,this);this.rl.parent=this;
this.qv=new kc([16,0],.01,100,"px",2,!0,null,5);this.qv.h(M.E.A,this.wA,this);this.qv.parent=this;this.nl=new jH("Auto");
this.nl.h(M.E.A,this.wA,this);this.ML=new kc([16,1],-500,5e3,"%",0,!0);this.ML.h(M.E.A,this.wA,this);
this.ML.parent=this;this.bR=new kc("\u2B0D",1,300,"%",null,null,null,null,[[2,7],[22,4,3]]);this.bR.h(M.E.A,this.wA,this);
this.bR.parent=this;this.UR=new kc("\u2B0C",1,300,"%",null,null,null,null,[[2,7],[22,4,2]]);this.UR.h(M.E.A,this.wA,this);
this.UR.parent=this;this.LH=new kc([16,2],-10,10,"px");this.LH.h(M.E.A,this.wA,this);this.LH.parent=this;
this.ct=new hF(!0);this.ct.h(M.E.A,this.te,this);this.ct.parent=this;this.qk=new hF(!0);this.qk.h(M.E.A,this.te,this);
this.qk.parent=this;this.Lz=new hF(!0);this.Lz.h(M.E.A,this.te,this);this.Lz.parent=this;this.B5=new hF(!0);
this.B5.h(M.E.A,this.te,this);this.B5.parent=this;this.b7=new jH([2,3]);this.b7.h(M.E.A,this.wA,this);
this.NY=new jH([14,9]);this.NY.h(M.E.A,this.wA,this);this.i8=new jH([12,46]);this.i8.h(M.E.A,this.wA,this);
this.CJ=new eO("...",null,null,!0);this.CJ.n.style.marginLeft="-8px";s.am(this.CJ.n,this.a5F.bind(this));
this.dP=new bU;var w=this.dP.n=s.t("div","floatcont form"),c=100;this.dP.parent=this;this.pu=new kc([12,41],1,20,"px",0,!0,!0);
this.pu.n.style.marginLeft="16px";this.pu.h(M.E.A,this.wA,this);this.pu.parent=this.dP;w.appendChild(this.qk.n);
w.appendChild(this.b7.n);s.yD(this.dP.n);w.appendChild(this.Lz.n);w.appendChild(this.NY.n);w.appendChild(this.pu.n);
s.yD(this.dP.n);w.appendChild(this.B5.n);w.appendChild(this.i8.n);this.$d=new eO("<img src=\""+PIMG["type/bold"]+"\" class=\"autoscale gsicon\" />");
this.dI=new eO("<img src=\""+PIMG["type/italic"]+"\" class=\"autoscale gsicon\" />");this.GC=new eO("<img src=\""+PIMG["type/caps"]+"\" class=\"autoscale gsicon\" />");
this.z0=new eO("<img src=\""+PIMG["type/scaps"]+"\" class=\"autoscale gsicon\" />");this.e3=new eO("<img src=\""+PIMG["type/sub"]+"\" class=\"autoscale gsicon\" />");
this.iQ=new eO("<img src=\""+PIMG["type/sup"]+"\" class=\"autoscale gsicon\" />");this.KE=new eO("<img src=\""+PIMG["type/under"]+"\" class=\"autoscale gsicon\" />");
this.GA=new eO("<img src=\""+PIMG["type/strike"]+"\" class=\"autoscale gsicon\" />");var n=[this.$d,this.dI,this.GC,this.z0,this.e3,this.iQ,this.KE,this.GA];
for(var l=0;l<n.length;l++)n[l].h("click",this.aeC,this);this.hZ=new eO("<img src=\""+PIMG["par/left"]+"\" class=\"autoscale gsicon\" />");
this.PK=new eO("<img src=\""+PIMG["par/right"]+"\" class=\"autoscale gsicon\" />");this.IT=new eO("<img src=\""+PIMG["par/center"]+"\" class=\"autoscale gsicon\" />");
this.az8=new eO("<img src=\""+PIMG["par/jleft"]+"\" class=\"autoscale gsicon\" />");this.ao7=new eO("<img src=\""+PIMG["par/jright"]+"\" class=\"autoscale gsicon\" />");
this.axs=new eO("<img src=\""+PIMG["par/jcenter"]+"\" class=\"autoscale gsicon\" />");this.am5=new eO("<img src=\""+PIMG["par/jall"]+"\" class=\"autoscale gsicon\" />");
this.ai=[this.hZ,this.PK,this.IT,this.az8,this.ao7,this.axs,this.am5];for(var l=0;l<this.ai.length;l++)this.ai[l].h("click",this.wA,this);
var H=["lind","rind","flind","bind","aind"],y=[];for(var l=0;l<5;l++)y.push("<img src=\""+PIMG["par/"+H[l]]+"\" class=\"autoscale gsicon\" /> ");
this.zl=new kc(y[0],-c,c,"px");this.yv=new kc(y[1],-c,c,"px");this.Fc=new kc(y[2],-c,c,"px");this.ih=new kc(y[3],-c,c,"px");
this.ZN=new kc(y[4],-c,c,"px");this.FX=new iY([12,33],["Abc ...","... \u0623\u064A \u0628\u064A"]);this.hB=new kc(["Auto VAR0",[16,0]],0,500,"%");
this.lT=[this.zl,this.yv,this.Fc,this.ih,this.ZN,this.FX,this.hB];for(var l=0;l<this.lT.length;l++){var Q=this.lT[l];
Q.h(M.E.A,this.wA,this);Q.parent=this}}gR.prototype=new bU;gR.prototype.a5F=function(w){if(s._Q(this.dP.n))return;
w.stopPropagation();var n=this.CJ.n.getBoundingClientRect(),H=new aL(M.E.L,!0);H.data={d:M.c.hf,_0:this.dP,x:n.left,y:n.top+n.height+4};
this.S(H)};gR.prototype.f=function(){this.HF.f();this.rl.f();this.qv.f();this.ML.f();this.LH.f();this.bR.f();
this.UR.f();this.b7.f();this.NY.f();this.i8.f();this.pu.f();for(var l=0;l<this.lT.length;l++)this.lT[l].f()};
gR.prototype.$=function(w,n,H){this.Qx=JSON.parse(JSON.stringify(w));var y=this.Qx,c=y.tq,Q=y.AW;this.$d.$(c.FauxBold!=null?c.FauxBold:!1);
this.dI.$(c.FauxItalic!=null?c.FauxItalic:!1);this.GC.$(c.FontCaps==2);this.z0.$(c.FontCaps==1);this.iQ.$(c.FontBaseline==1);
this.e3.$(c.FontBaseline==2);this.KE.$(c.Underline);this.GA.$(c.Strikethrough);this.HF.$(c.Font==null?null:y.II[c.Font].Name,n,H);
var q=c.FontSize==null?20:c.FontSize;this.rl.$(q);var S=c.Tracking;this.ML.$(S==null?0:S);this.pu.$(c._LineWidth!=null?c._LineWidth:1);
this.qv.$(c.Leading!=null&&c.Leading!=0?c.Leading:q);this.nl.$(c.AutoLeading);this.bR.$((c.VerticalScale!=null?c.VerticalScale:0)*100);
this.UR.$((c.HorizontalScale!=null?c.HorizontalScale:0)*100);this.LH.$(c.BaselineShift!=null?c.BaselineShift:0);
this.b7.$(c.FillFlag!=null?c.FillFlag:!1);this.NY.$(c.StrokeFlag!=null?c.StrokeFlag:!1);this.i8.$(c._FillBackgroundFlag!=null?c._FillBackgroundFlag:!1);
this.hm(c.FillColor,this.ct);this.hm(c.FillColor,this.qk);this.hm(c.StrokeColor,this.Lz);this.hm(c._FillBackgroundColor,this.B5);
var A=Q._Direction!=null?Q._Direction:0,V=j1.lk(Q);for(var l=0;l<this.ai.length;l++)this.ai[l].$(V==l);
this.FX.$(A);this.hB.$((Q.AutoLeading!=null?Q.AutoLeading:1.2)*100);this.zl.$(Q.StartIndent!=null?Q.StartIndent:0);
this.yv.$(Q.EndIndent!=null?Q.EndIndent:0);this.Fc.$(Q.FirstLineIndent!=null?Q.FirstLineIndent:0);this.ih.$(Q.SpaceBefore!=null?Q.SpaceBefore:0);
this.ZN.$(Q.SpaceAfter!=null?Q.SpaceAfter:0)};gR.prototype.hm=function(w,n){if(w){var H=j1.cH(w);n._U(Math.round(H.b)<<16|Math.round(H.J)<<8|Math.round(H.k))}else n._U(0)};
gR.prototype.La=function(){var w=new aL(M.E.L,!0);w.data={d:M.c.Yj,PY:h6.A_,Qx:this.Qx};this.S(w);var w=new aL(M.E.v,!0);
w.G=P.nr;w.data={d:"updateStyles"};this.S(w)};gR.prototype.aeC=function(w){var n=this.Qx.tq,H=w.target,y=!H.zr();
if(H==this.$d)n.FauxBold=y;if(H==this.dI)n.FauxItalic=y;if(H==this.GC)n.FontCaps=y?2:0;if(H==this.z0)n.FontCaps=y?1:0;
if(H==this.iQ)n.FontBaseline=y?1:0;if(H==this.e3)n.FontBaseline=y?2:0;if(H==this.KE)n.Underline=y;if(H==this.GA)n.Strikethrough=y;
this.La()};gR.prototype.wA=function(w){var n=this.Qx.tq,H=this.Qx.AW,y=w.target;if(y==this.ML){var c=this.ML.o();
n.Tracking=c}if(y==this.qv){n.AutoLeading=!1;n.Leading=this.qv.o()}if(y==this.nl){n.AutoLeading=this.nl.o()}if(y==this.pu)n._LineWidth=y.o();
if(y==this.rl)n.FontSize=y.o();if(y==this.bR)n.VerticalScale=y.o()/100;if(y==this.UR)n.HorizontalScale=y.o()/100;
if(y==this.LH)n.BaselineShift=y.o();if(y==this.b7)n.FillFlag=y.o();if(y==this.NY)n.StrokeFlag=y.o();
if(y==this.i8)n._FillBackgroundFlag=y.o();if(this.ai.indexOf(y)!=-1){H.Justification=j1.lk(H,this.ai.indexOf(y))}if(y==this.zl)H.StartIndent=y.o();
if(y==this.yv)H.EndIndent=y.o();if(y==this.Fc)H.FirstLineIndent=y.o();if(y==this.ih)H.SpaceBefore=y.o();
if(y==this.ZN)H.SpaceAfter=y.o();if(y==this.FX)H._Direction=y.o();if(y==this.hB)H.AutoLeading=y.o()/100;
this.La()};gR.prototype.auX=function(w){var n=this.Qx,H=this.HF.o(),y=-1;for(var l=0;l<n.II.length;l++)if(n.II[l].Name==H)y=l;
if(y==-1){y=n.II.length;var c=JSON.parse(JSON.stringify(n.II[0]));c.Name=H;n.II.splice(y,0,c)}n.tq.Font=y;
this.La()};gR.prototype.te=function(w){var n=w.target,H=n.ahq(),y={Type:1,Values:[1,(H>>16&255)/255,(H>>8&255)/255,(H>>0&255)/255]};
for(var l=0;l<4;l++)y.Values[l]=Math.round(y.Values[l]*1e3)/1e3;var c=n==this.ct||n==this.qk?0:n==this.Lz?1:2;
this.Qx.tq[["FillColor","StrokeColor","_FillBackgroundColor"][c]]=y;this.La()};function ej(){bU.call(this);
this.n=s.t("span","fontinput");this.Z4=null;this.jF=null;this.Qs=null;this.gN="";this.VP={};this.i3=[];
this.xZ={};this.ajz={};this.Yn=[];this.vr=!1;this.fX=s.t("button","fitem");this.fX.setAttribute("style","width:9em;");
this.fX.textContent="Family Name \u25BC";this.n.appendChild(this.fX);s.am(this.fX,this.awv.bind(this));
this.P9=new bU;this.P9.parent=this;var w=this.P9.n=s.t("div","floatcont");w.style.padding="7px 7px 3px 7px";
var n=new iD("Recent");w.appendChild(n.n);var H=this.a5M=new eO([[23,6],[22,6,0]],!1,"Load OTF / TTF file from your computer",!0);
H.h("click",this.an5,this);H.n.style.float="right";w.appendChild(H.n);s.yD(w);this.Zd=s.t("span","fitem imageset scrollable");
this.Zd.style.maxHeight="8em";w.appendChild(this.Zd);var y=s.t("div","form");this.P9.n.appendChild(y);
this.Em=new eO(s.OE("tools/cshape",null,"autoscale"),!1,"Show Favorites Only");this.Em.h("click",this.avL,this);
y.appendChild(this.Em.n);this.bd=new f0([12,86],null,7.5);this.bd.h("input",this.OU,this);y.appendChild(this.bd.n);
this.Ql=new bD(6.8,"\u2630");y.appendChild(this.Ql.n);this.Ql.parent=this.P9;this.Ql.h(M.E.A,this.S4,this);
this.Ql.n.style.float="right";this.Ql.n.style.marginRight="0";this.D4=s.t("span","fitem imageset scrollable");
this.D4.style.height="30em";this.P9.n.appendChild(this.D4);this.D4.addEventListener("scroll",this.aw$.bind(this),!1);
this.qY=s.t("button","fitem");this.qY.setAttribute("style","width:7em;");this.qY.textContent="SubFamily Name \u25BC";
this.n.appendChild(this.qY);s.am(this.qY,this.awv.bind(this));this.wb=new bU;this.wb.parent=this;this.wb.n=s.t("div","floatcont");
this.Ld=s.t("span","fitem imageset scrollable");this.wb.n.appendChild(this.Ld);this.a8f=this.anF.bind(this);
this.an0=this.aut.bind(this)}ej.prototype=new bU;ej.prototype.aw$=function(w){var n=this.D4.scrollTop,H=this.i3,y=Math.floor(n/27),c=Math.min(y+20,H.length);
for(var l=y;l<c;l++)this.abn(H[l])};ej.prototype.an5=function(){var w=new aL(M.E.L,!0);w.data={d:M.c.hN,ail:".otf,.ttf,.ttc"};
this.S(w)};ej.prototype.f=function(){this.Ql.f();this.a5M.f();this.Em.TO(s.OE("tools/cshape",null,"autoscale"))};
ej.prototype.avL=function(w){this.Em.$(!this.Em.zr());this.S4()};ej.prototype.OU=function(w){this.gN=this.bd.o().toLowerCase();
this.S4()};ej.prototype.awv=function(w){s.yZ(w);var n=w.currentTarget,H=n.getBoundingClientRect(),y=n==this.fX,c=y?this.P9:this.wb;
if(s._Q(c.n)){this.ai2(c);return}if(!y&&this.Z4.Uc()[this.Qs]==null)return;var Q=new aL(M.E.L,!0);Q.data={d:M.c.hf,_0:c,x:H.left,y:H.top+H.height};
this.S(Q);if(y){this.S4(null,!0)}};ej.prototype.anF=function(w){var n=w.currentTarget.firstChild.nextSibling.textContent;
if(w.target.tagName.toLowerCase()=="button"){var H=this.jF.slice(0),y=H.indexOf(n);if(y==-1){H=H.slice(Math.max(0,H.length-29));
H.push(n)}else H.splice(y,1);var c=new aL(M.E.L,!0);c.data={d:M.c.Yj,PY:h6.W3,z2:H};this.S(c);this.vr=!0;
this.S4()}else{this.a8F(n,null)}};ej.prototype.aut=function(w){this.a8F(null,w.currentTarget.firstChild.textContent)};
ej.prototype.a8F=function(w,n){var H=w==null?this.wb:this.P9,y=this.Z4;if(w==null)w=y.Uc()[this.Qs][0];
else{var c=y.wp(w),Q=y.Uc()[this.Qs];n=da.MF(c,Q?Q[1]:"regular")}var q=y.kJ(w,n)[2];this.$(q,y);this.S(new aL(M.E.A,!1));
this.ai2(H);this.S4()};ej.prototype.ai2=function(w){var n=new aL(M.E.L,!0);n.data={d:M.c.SP,_0:w};this.S(n)};
ej.prototype.o=function(){return this.Qs};ej.prototype.$=function(w,n,H){var y=this.Z4;if(w!=null)this.Qs=w;
else w=this.Qs;this.Z4=n;this.jF=H;if(w!=null){var c=n.Uc()[w],Q,q;if(c==null){Q="- "+w;q="-------"}else{Q=c[0];
q=c[1];var S=this.Yn;for(var l=0;l<S.length;l++)if(S[l][0][0]==Q)S.splice(l,1);S.push([c,Date.now()]);
S.sort(function(d,N){return N[1]-d[1]});S=S.slice(0,10);s.Of(this.Zd);for(var l=1;l<S.length;l++){var A=S[l][0],V=this.Rn(A,!0);
this.tb(V,A,!0);this.Zd.appendChild(V)}var e=n.wp(Q);e.sort(da.ald);this.Ld.textContent="";for(var l=0;
l<e.length;l++){var c=n.kJ(Q,e[l]);if(!this.Ql.rb(c))continue;var V=this.Rn(c,!1);this.Ld.appendChild(V)}}this.fX.textContent=Q.substring(0,15)+" \u25BC";
this.fX.setAttribute("title",Q+", \""+w+"\"");this.qY.textContent=q.substring(0,10)+" \u25BC";this.qY.setAttribute("title",q)}};
ej.prototype.S4=function(w,n){var H=this.Z4.Uc()[this.Qs],y=this.jF,c=this.Z4.nW();this.i3=[];for(var Q in c){var q=y.indexOf(Q)!=-1,S=this.Z4.wp(Q),A=!1;
for(var l=0;l<S.length;l++){var V=this.Z4.kJ(Q,S[l]),e=!0;if(this.gN.length>0&&V[0].toLowerCase().indexOf(this.gN)==-1)e=!1;
else if(!this.Ql.rb(V))e=!1;else if(this.Em.zr()&&!q)e=!1;if(e)A=!0}var d=this.VP[Q];if(d==null){var N=da.MF(c[Q],"regular"),b=this.Z4.kJ(Q,N),d=this.Rn(b,!0);
this.VP[Q]=d;this.D4.appendChild(d);this.xZ[Q]="[true,false,false]"}if(A)this.i3.push(Q);var z=H!=null&&H[0]==Q;
this.ajz[Q]="["+A+","+z+","+q+"]";if(!n)this.abn(Q)}if(H&&!this.vr){var v=this.VP[H[0]];this.D4.scrollTop=v.offsetTop-210}this.aw$();
this.vr=!1};ej.prototype.abn=function(w){var n=this.VP[w];if(n.firstChild==null){var H=this.Z4.nW(),y=da.MF(H[w],"regular"),c=this.Z4.kJ(w,y);
this.tb(n,c,!0)}var Q=this.xZ[w],q=this.ajz[w];if(Q==q)return;var S=JSON.parse(Q),A=JSON.parse(q);if(S[0]!=A[0]||S[1]!=A[1]){var V=A[0]?"":"display:none; ";
if(A[1])V+="background-color:rgba(0,0,0,0.13);";n.setAttribute("style",V)}if(S[2]!=A[2])n.firstChild.setAttribute("style","opacity: "+(A[2]?"1":"0.2"));
this.xZ[w]=q};ej.prototype.Rn=function(w,n){var H=s.t("div","fontitem");if(!n)this.tb(H,w,n);return H};
ej.prototype.tb=function(w,n,H){var y=n[H?0:1],c=H?this.a8f:this.an0,A="";w.addEventListener("click",c,!1);
if(H)w.appendChild(s.t("button","star"));var Q=s.t("span","label");Q.setAttribute("title",y);Q.textContent=y;
w.appendChild(Q);var q=s.V(),S=1/q,V=da.ut*S,e=da.Wb*S;if(1<q&&q<1.5)A="width:"+V+"px; height:"+e+"px;";
var d=s.t("span","thumb gsicon");if(n.apC){A+="background: url("+n.apC+");";if(1<q&&q<1.5)A+="background-size: "+V+"px "+e+"px;"}else{var N=Math.ceil(FNTS.list.length/da.cols),b=Math.floor(n.cm/N),z=n.cm%N,v=b*da.ut,T=z*da.Wb;
if(1<q&&q<1.5){A+="background-size: "+da.cols*V+"px "+N*e+"px;";v*=S;T*=S}A+="background-position:-"+v+"px -"+T+"px;"}d.setAttribute("style",A);
w.appendChild(d)};function bD(w,n){bU.call(this);this.n=s.t("button","fitem bbtn");this.n.addEventListener("click",this.apj.bind(this),!1);
this.dP=new bU;this.dP.n=s.t("div","floatcont");this.dP.parent=this;this.SL=s.t("div","flexrow");this.dP.n.appendChild(this.SL);
this.LU=n;this.Ip=[];this.pL=[];var H=this.SL,y=s.t("div",""),c=s.t("div","");H.appendChild(y);H.appendChild(c);
this.T1=[];for(var l=0;l<FNTS.cats.length;l++)this.T1.push({name:FNTS.cats[l],index:l,lO:0});this.ER=new jH([7,0]);
this.ER.$(!0);this.ER.h(M.E.A,this.a2I,this);y.appendChild(this.ER.n);this.u5=s.t("div","vlist marged scrollable");
this.u5.setAttribute("style","width:10.3em; height:"+w+"em; ");y.appendChild(this.u5);this.N0=[];for(var l=0;
l<this.T1.length;l++){var Q=this.T1[l],q=new jH(Q.name);this.N0.push(q);q.h(M.E.A,this.aaZ,this);q.$(!0);
this.u5.appendChild(q.n);this.Ip.push(1)}this.ak9=new jH([7,0]);this.ak9.h(M.E.A,this.a47,this);this.xv=s.t("div","vlist marged scrollable");
this.xv.setAttribute("style","width:8.6em; height:"+(w+1.5)+"em; ");c.appendChild(this.xv);this.py=[];
for(var l=0;l<FNTS.subsetNames.length;l++){var q=new jH(FNTS.subsetNames[l]);this.py.push(q);q.h(M.E.A,this.akR,this);
q.$(!1);this.xv.appendChild(q.n);this.pL.push(q.o()?1:0)}}bD.prototype=new bU;bD.prototype.a2u=function(w){var n=this.py;
for(var l=0;l<n.length;l++){var H=(w>>>l&1)==1;this.pL[l]=H;n[l].$(H)}};bD.prototype.a5n=function(){return this.SL};
bD.prototype.f=function(){this.n.textContent=this.LU?this.LU:hV.get([25,1,0])+" \u25BC";this.ER.f();
this.ak9.f()};bD.prototype.apj=function(w){var n=this.n.getBoundingClientRect(),H=new aL(M.E.L,!0);H.data={d:M.c.hf,_0:this.dP,x:n.left,y:n.top+n.height,i2:!1};
this.S(H)};bD.prototype.rb=function(w){if(this.Ip[w[4]]==0)return!1;else for(var n=0;n<this.pL.length;
n++)if(this.pL[n]==1&&(w[3]>>>n&1)==0)return!1;return!0};bD.prototype.a2I=function(w){var n=w.target.o(),H=this.N0,y=this.Ip;
for(var l=0;l<H.length;l++){H[l].$(n);y[l]=n?1:0}this.S(new aL(M.E.A,!1))};bD.prototype.a47=function(w){var n=w.target.o(),H=this.py,y=this.pL;
for(var l=0;l<H.length;l++){H[l].$(n);y[l]=n?1:0}this.S(new aL(M.E.A,!1))};bD.prototype.aaZ=function(w){var l=this.N0.indexOf(w.target),n=this.T1[l].index;
this.Ip[n]=1-this.Ip[n];this.S(new aL(M.E.A,!1));this.a0M(this.N0,this.ER)};bD.prototype.akR=function(w){var l=this.py.indexOf(w.target);
this.pL[l]=1-this.pL[l];this.S(new aL(M.E.A,!1))};bD.prototype.a0M=function(w,n){var H=!0;for(var l=0;
l<w.length;l++)H=H&&w[l].o();n.$(H)};function eK(w,n,H){cE.call(this,n,!0,"gradientbutton",18,10,h6.Wk);
this.Ni=-1;this.uu=-1;this.a9y=null;this.aw8=w;this.es=H}eK.prototype=new cE;eK.prototype.aO=function(w){var n=this.Wq;
this.$(n[this.PZ.o()]);this.S(new aL(M.E.A))};eK.prototype.vJ=function(w){var n=new aL(M.E.L,!0);n.data={d:M.c.rL,Ln:"gradienteditor",M:this.oi,Ro:this.ayv.bind(this),ZL:this.es};
this.S(n)};eK.prototype.ayv=function(w){this.$(w);this.S(new aL(M.E.A))};eK.prototype.yx=function(){if(!this.vU)return;
var w=Math.floor(36*s.V()),n=Math.floor(36*s.V()),H=[],y=[],c=this.Wq,Q=Date.now();for(var l=0;l<c.length;
l++){var q=c[l];y.push(q.Nm?q.Nm.v.split("=").pop():"");var S=P.H2.zT(q,w,n,Math.PI/4,this.Ni,this.uu);
H.push(S)}this.PZ.bu(H,y,w,n);this.vU=!1};eK.prototype.Tv=function(w,n){this.akP(this.oi,w,n)};eK.prototype.$=function(w){this.akP(w,this.Ni,this.uu)};
eK.prototype.akP=function(w,n,H){this.Ni=n;this.uu=H;if(w==null)return;var y=JSON.stringify(w),c=y+n+","+H;
if(c==this.a9y)return;this.a9y=c;this.oi=JSON.parse(y);var Q=Math.floor(80*s.V()),q=Math.floor(16*s.V()),S=P.H2.zT(this.oi,Q,q,0,this.Ni,this.uu);
this.Iv.setAttribute("src",S);s.cD(this.Iv,Q,q)};eK.prototype.o=function(){var w;if(this.aw8)w=P.H2.adT(this.oi,this.Ni,this.uu);
else w=JSON.parse(JSON.stringify(this.oi));return w};function dU(w){cE.call(this,w,!1,"swatchbutton",16,8.75,h6.Ie)}dU.prototype=new cE;
dU.prototype.aO=function(w){this.$(this.Wq[w.target.o()]);this.S(new aL(M.E.A))};dU.prototype.yx=function(){if(!this.vU)return;
var w=Date.now(),n=Math.floor(10*s.V()),H=Math.floor(10*s.V()),y=[],c=[],Q=this.Wq;for(var l=0;l<Q.length;
l++){c.push(Q[l].Hq?Q[l].Hq.split("=").pop():"");y.push(dU.zT(Q[l],n,H))}this.PZ.bu(y,c,n,H);this.vU=!1};
dU.prototype.$=function(w){this.oi=JSON.parse(JSON.stringify(w));this.H0()};dU.prototype.H0=function(){var w=Math.floor(24*s.V()),n=Math.floor(20*s.V()),H=dU.zT(this.oi,w,n);
this.Iv.setAttribute("src",H);s.cD(this.Iv,w,n)};dU.prototype.o=function(){return JSON.parse(JSON.stringify(this.oi))};
dU.KT={};dU.zT=function(w,n,H){var y=dU.NK,c=dU.KT,Q=O.w9(w.b<<16|w.J<<8|w.k);if(c[Q])return c[Q];if(y==null){var q=s.t("canvas");
y=dU.NK=q.getContext("2d")}var q=y.canvas;q.width=n;q.height=H;y.fillStyle="#"+Q;y.fillRect(0,0,n,H);
var S=c[Q]=q.toDataURL();return S};function hd(w,n,H){bU.call(this);this.n=s.t(H?"div":"span");var y=this.bN=s.t("input");
this.bN.setAttribute("type","file");if(n)y.setAttribute("multiple","");this.bN.addEventListener("change",this.a0j.bind(this),!1);
this.asZ=this.ab2.bind(this);this.nq={};this.mS=0;this.pr=w;var c=this.a0$=new eO(hV.get(w)+" (0)",null,null,!0);
this.n.appendChild(c.n);c.addEventListener("click",function(Q){y.click()});if(H){this.jd=s.t("div","scrollable");
this.jd.setAttribute("style","height:120px; width:100%; line-height:1.5em;");this.n.appendChild(this.jd);
this.k9()}}hd.prototype=new bU;hd.prototype.$=function(w){};hd.prototype.o=function(w){return this.nq};
hd.prototype.a0j=function(w){var n=w.target.files;this.mS=n.length;this.nq={};for(var l=0;l<n.length;
l++){var H=n[l],y=new FileReader;y.onload=this.asZ;y.Ty=H.name;y.readAsArrayBuffer(H)}this.a0$.TO(hV.get(this.pr)+" ("+n.length+")")};
hd.prototype.ab2=function(w){var n=this.nq[w.target.Ty]=new Uint8Array(w.target.result);this.mS--;if(this.mS==0){if(this.jd)this.k9();
this.S(new aL(M.E.A));this.bN.value=null}};hd.prototype.k9=function(){var w=this.jd;s.Of(w);for(var n in this.nq){var H=s.t("div");
H.textContent=n;w.appendChild(H)}};function eT(w,n,H,y,c){if(w==null)w=!1;if(n==null)n=!1;if(H==null)H=!1;
bU.call(this);this._E=new ce;this.xa=new ce;this.BN=72;this.pw=72;this.mt=!0;this.xN=!1;this.n=s.t("span");
this.$L=new kc([12,41],0,0,null,0,!1,!0,4);this.n.appendChild(this.$L.n);this.$L.h(M.E.A,this.tw,this);
var Q=["px","%"];if(w)Q=Q.concat(["mm","in"]);if(c){Q=[[12,76,2],[12,76,6]];if(w)Q=Q.concat([[12,76,5],[12,76,3]])}this.zq=new dw(null,Q);
this.n.appendChild(this.zq.n);s.yD(this.n);this.zq.h(M.E.A,this.tw,this);this.zj=new kc([12,42],0,0,null,0,!1,!0,4);
this.n.appendChild(this.zj.n);this.zj.h(M.E.A,this.tw,this);var q=new eO("\u21F5",!1,null,!0);q.h("click",this.avn,this);
this.X_=new eO("<img src=\""+PIMG["lrs/chain"]+"\" class=\"autoscale gsicon\" />",!1,[12,51]);this.X_.h("click",this.tw,this);
this.ca=new iD("");this.ca.n.style.margin="0";this.ca.n.style.padding="0";if(n){this.n.appendChild(this.X_.n);
this.n.appendChild(this.ca.n);this.X_.QM()}else this.n.appendChild(q.n);this.ov=new kc("DPI",0,0,null,3,!1,!0,4);
this.AK=new dw(null,[["VAR0 / Inch",[12,76,2]],["VAR0 / Cm",[12,76,2]]]);if(w&&y==null){s.yD(this.n);
this.n.appendChild(this.ov.n);this.n.appendChild(this.AK.n)}this.AK.h(M.E.A,this.tw,this);this.ov.h(M.E.A,this.tw,this);
this.tC=new jH([12,23,1]);this.tC.h(M.E.A,this.tw,this);if(H){s.yD(this.n);this.n.appendChild(this.tC.n)}s.yD(this.n)}eT.prototype=new bU;
eT.prototype.kc=function(w,n){this.$L.ey.style.width=this.zj.ey.style.width=(w-74-this.X_.YG())/2+"px"};
eT.prototype.eW=function(){this.$L.eW();this.zj.eW();this.zq.eW();var w=this.n;s.Of(w);this.zq.n.style.marginRight="0";
w.appendChild(this.$L.n);w.appendChild(this.X_.n);w.appendChild(this.zj.n);w.appendChild(this.zq.n)};
eT.prototype.P5=function(){this.$L.P5()};eT.prototype.arj=function(w,n){this.mt=w;if(n!=null)this.xN=n;
if(!this.mt&&!this.xN&&this.zq.o()==0){this.zq.$(3);this.CR()}};eT.prototype.a3Y=function(w){this.X_.$(w)};
eT.prototype.f=function(){this.$L.f();this.zj.f();this.ov.f();this.AK.f();this.X_.f();this.tC.f();this.zq.f()};
eT.prototype.avn=function(w){var n=this.xa.x;this.xa.x=this.xa.y;this.xa.y=n;this.CR();this.S(new aL(M.E.A,!1))};
eT.prototype.tw=function(w){if(w.target==this.zq&&!this.mt&&!this.xN&&this.zq.o()==0)this.zq.$(3);if(w.target==this.zq||w.target==this.tC){this.CR();
return}if(w.target==this.X_)w.target.$(!w.target.o());var n=this._E,H=parseFloat(this.$L.o());if(isNaN(H))H=1;
var y=parseFloat(this.zj.o());if(isNaN(y))y=1;var c=this.ov.o()*[1,2.54][this.AK.o()],Q=this.zq.o();
if(this.mt){var q=this.pw;if(Q==1){H=this._E.x*(H/100);y=this._E.y*(y/100)}var S=[1,1,25.4/q,1/q][Q];
H/=S;y/=S;if(this.tC.o()){H+=this._E.x;y+=this._E.y}if(w.target==this.ov){var A=c;if(!this.xN){var V=A/q;
H*=V;y*=V}q=A}if(this.X_.o()){if(w.target==this.$L)y=H*(n.y/n.x);else H=y*(n.x/n.y)}H=Math.max(Math.abs(H),1);
y=Math.max(Math.abs(y),1)}else{var q=this.BN;if(w.target==this.ov)q=c;else{if(this.X_.o()){if(w.target==this.$L)y=H*(n.y/n.x);
else H=y*(n.x/n.y)}var S=[1,1,25.4/q,1/q][Q],e=H/(Q==1?100:n.x*S);q=q/e}H=n.x;y=n.y}this.xa=new ce(Math.round(H),Math.round(y));
this.pw=q;this.CR();this.S(new aL(M.E.A,!1))};eT.prototype.al8=function(l){this.zq.$(l);this.CR()};eT.prototype.$=function(w,n,H){if(H!=!0)this._E=w.clone();
this.xa=w.clone();if(n!=null){this.BN=n;this.pw=n}this.CR()};eT.prototype.CR=function(){var w=this.xa.x,n=this.xa.y,H=this.pw,y=(w/n).toFixed(3);
while(y.charAt(y.length-1)=="0")y=y.substring(0,y.length-1);if(y.charAt(y.length-1)==".")y=y.substring(0,y.length-1);
var c="  "+y+" : 1",Q=function(e,d){while(d!=0){var N=d;d=e%d;e=N}return e},q=Q(w,n);if(Math.min(w,n)/q<10)c="  "+Math.round(w/q)+" : "+Math.round(n/q);
this.ca.$(c);if(this.tC.o()){w-=this._E.x;n-=this._E.y}var S=this.zq.o();if(S==1){if(this.mt){w=100*w/this._E.x;
n=100*n/this._E.y}else{w=n=100*this.BN/this.pw}}else{w=Math.round(w);n=Math.round(n)}var A=[1,1,25.4/H,1/H][S];
w*=A;n*=A;var V=S==1||S==3?2:0;this.$L.lm(V);this.zj.lm(V);this.$L.$(w);this.zj.$(n);this.ov.$(H*[1,1/2.54][this.AK.o()])};
eT.prototype.o=function(){return this.xa.clone()};eT.prototype.ed=function(){return this.pw};function g5(w,n,H){bU.call(this);
var y=w==0?["W","X","H","Y"]:["\u250F","\u2513","\u2517","\u251B"];this.Dh=w;this.a2i=n;this.a4=1;this.oV=[1,1,0];
var c=this.n=s.t("div","numlist"),Q=this.cP=[];for(var l=0;l<4;l++){var q=new kc(y[l],0,0,null,2,!1,!0,4,null,H&&(l==0||l==2));
q.h(M.E.A,this.tw,this);c.appendChild(q.n);Q[l]=q;if(l==1||l==3)s.yD(c)}Q[4]=new jH(w==0?[12,51]:[12,91,2]);
Q[4].$(!0);c.appendChild(Q[4].n)}g5.prototype=new bU;g5.prototype.f=function(){var w=this.cP;for(var l=0;
l<5;l++)w[l].f();if(this.Dh==0)s.KY(w[0],w[2])};g5.prototype.$=function(w,n,H){if(n)this.oV=n;n=this.oV;
var y=H?w:this.Dh==0?[w[2],w[0],w[3],w[1]]:[w[0],w[1],w[3],w[2]];this.a4=y[0]/y[2];for(var l=0;l<4;l++){var c=this.cP[l];
c.lm(n[2]==0&&this.a2i?0:2);c.$(O.xr.a8R(y[l],n[0],n[1],n[2]))}};g5.prototype.o=function(w){var n=[],H=this.oV;
for(var l=0;l<4;l++){var y=O.xr._Z(this.cP[l].o(),H[0],H[1],H[2]);n[l]=this.a2i?Math.round(y):y}return w?n:this.Dh==0?[n[1],n[3],n[0],n[2]]:[n[0],n[1],n[3],n[2]]};
g5.prototype.tw=function(w){var n=this.Dh,H=this.cP.indexOf(w.currentTarget),y=this.o(!0),c=this.cP[4].o();
if(n==0){y[0]=Math.max(1,y[0]);y[2]=Math.max(1,y[2]);if(c&&H==0)y[2]=y[0]/this.a4;if(c&&H==2)y[0]=y[2]*this.a4}if(n==1){y[H]=Math.max(0,y[H]);
if(c)for(var l=0;l<4;l++)y[l]=y[H]}this.$(y,null,!0);this.S(new aL(M.E.A,!1))};function jL(){bU.call(this);
this.bx=0;this.OV=[0,0,1,1,100,100];this.n=s.t("span","fitem");this.fV=new dw(null,[[12,89,0],[12,89,1],[12,89,2]]);
this.n.appendChild(this.fV.n);this.fV.h(M.E.A,this.tw,this);this.$L=new kc("W",0,0,null,0,!1,!0);this.n.appendChild(this.$L.n);
this.$L.h(M.E.A,this.tw,this);this.zj=new kc("H",0,0,null,0,!1,!0);this.n.appendChild(this.zj.n);this.zj.h(M.E.A,this.tw,this);
this.$({lG:0,x:0,y:0})}jL.prototype=new bU;jL.prototype.f=function(){s.KY(this.$L,this.zj);this.fV.f()};
jL.prototype.tw=function(w){if(w.target==this.fV){var n=this.o(),H=this.OV;H[this.bx*2]=n.x;H[this.bx*2+1]=n.y;
this.bx=n.lG;this.$({lG:n.lG,x:H[n.lG*2],y:H[n.lG*2+1]})}if(this.$L.o()<1)this.$L.$(1);if(this.zj.o()<1)this.zj.$(1);
this.S(new aL(M.E.A,!1))};jL.prototype.$=function(w){this.fV.$(w.lG);this.$L.$(w.x);this.zj.$(w.y);if(w.lG==0){this.$L.j7();
this.zj.j7()}else{this.$L.ZF();this.zj.ZF()}};jL.prototype.o=function(){return{lG:this.fV.o(),x:this.$L.o(),y:this.zj.o()}};
function i5(w){bU.call(this);this.n=s.t("span","");this.a60=w;this.kK=new jc("Off X",-100,100,w?"%":"px",0,!1);
this.IY=new jc("Off Y",-100,100,w?"%":"px",0,!1);this.kK.h(M.E.A,this.tw,this);this.IY.h(M.E.A,this.tw,this);
this.n.appendChild(this.kK.n);this.n.appendChild(this.IY.n)}i5.prototype=new bU;i5.prototype.f=function(){this.kK.f();
this.IY.f()};i5.prototype.tw=function(w){this.S(new aL(M.E.A,!1))};i5.prototype.ay0=function(w){this.kK.$(w.x);
this.IY.$(w.y)};i5.prototype.azn=function(){return new ce(this.kK.o(),this.IY.o())};i5.prototype.$=function(w,n){var H=w.Hrzn.v,y=w.Vrtc.v;
if(this.a60){H=H.val;y=y.val}this.kK.$(H);this.IY.$(y);if(n==!0)this.tw()};i5.prototype.o=function(){var w=this.kK.o(),n=this.IY.o();
if(this.a60)return{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Prc",val:w}},Vrtc:{t:"UntF",v:{type:"#Prc",val:n}}};
else return{classID:"Pnt",Hrzn:{v:w,t:"doub"},Vrtc:{v:n,t:"doub"}}};function cY(){bU.call(this);this.n=s.t("span","fitem strokebutton");
this.Cg=[[null,null,null,50,""],[null,0,null,50,"4 2"],[1,1,null,50,"0 2"]];this.D2=JSON.parse(JSON.stringify(d5.Ed.default));
this.y_=s.t("button");this.n.appendChild(this.y_);s.am(this.n,this.Ay.bind(this));var w=s.t("canvas","gsicon");
this.NK=w.getContext("2d");this.y_.appendChild(w);var n=s.t("span");n.textContent=" \u25BC";this.y_.appendChild(n);
this.dP=new bU;this.dP.parent=this;this.dP.n=s.t("div","floatcont form");var H=this.dP.n;H.setAttribute("style","width: 16.7em;");
this.VP=[new dw([12,40],[[19,5,2],[19,5,1],[19,5,0]]),new iY([19,9,0],["<img src=\""+PIMG["caps/butt"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["caps/round"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["caps/square"]+"\" class=\"autoscale gsicon\" />"]),new iY([19,9,1],["<img src=\""+PIMG["joins/miter"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["joins/round"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["joins/bevel"]+"\" class=\"autoscale gsicon\" />"]),new kc("Limit",0,50,null,null,null,!0,2.5),new f0([19,9,2])];
for(var l=0;l<this.VP.length;l++){var y=this.VP[l];H.appendChild(y.n);y.h(M.E.A,this.tw,this)}s.yD(H);
this.Zp=[];var c=this.O5.bind(this);this.D2.strokeStyleLineWidth.v.val=3;for(var l=0;l<this.Cg.length;
l++){var Q=s.t("button","fitem");this.Zp.push(Q);H.appendChild(Q);Q.addEventListener("click",c,!1);var w=s.t("canvas","gsicon"),q=w.getContext("2d");
Q.appendChild(w);this.aiT(q,40,20,this.Cg[l])}this.D2.strokeStyleLineWidth.v.val=1}cY.prototype=new bU;
cY.prototype.Ay=function(w){if(s._Q(this.dP.n))return;w.stopPropagation();var n=this.y_.getBoundingClientRect(),H=new aL(M.E.L,!0);
H.data={d:M.c.hf,_0:this.dP,x:n.left,y:n.top+n.height+4};this.S(H)};cY.prototype.tw=function(w){var n=this.VP,H=[];
for(var l=0;l<5;l++)H.push(n[l].o());this.D2=this.akS(H);this.S(new aL(M.E.A,!1))};cY.prototype.O5=function(w){var n=this.Zp.indexOf(w.currentTarget);
this.$(this.akS(this.Cg[n]));this.S(new aL(M.E.A,!1))};cY.prototype.akS=function(w){var n=JSON.parse(JSON.stringify(this.D2)),H=w[0],y=w[1],c=w[2],Q=w[3],q=w[4];
if(H!=null)n.strokeStyleLineAlignment.v.strokeStyleLineAlignment=d5.Ed.YH[H];if(y!=null)n.strokeStyleLineCapType.v.strokeStyleLineCapType=d5.Ed.pv[y];
if(c!=null)n.strokeStyleLineJoinType.v.strokeStyleLineJoinType=d5.Ed.join[c];n.strokeStyleMiterLimit.v=Q;
var S=n.strokeStyleLineDashSet.v=[];q=q.split(" ");while((q.length&1)!=0)q.pop();for(var l=0;l<q.length;
l++)S.push({t:"UntF",v:{type:"#Nne",val:parseInt(q[l])}});return n};cY.prototype.f=function(){for(var l=0;
l<this.VP.length;l++)this.VP[l].f()};cY.prototype.$=function(w){this.D2=JSON.parse(JSON.stringify(w));
var n=d5.Ed.YH.indexOf(w.strokeStyleLineAlignment.v.strokeStyleLineAlignment),H=d5.Ed.pv.indexOf(w.strokeStyleLineCapType.v.strokeStyleLineCapType),y=d5.Ed.join.indexOf(w.strokeStyleLineJoinType.v.strokeStyleLineJoinType),c=w.strokeStyleMiterLimit.v,Q=[],q=w.strokeStyleLineDashSet.v;
for(var S=0;S<q.length;S++)Q.push(q[S].v.val);var A=this.VP;A[0].$(n);A[1].$(H);A[2].$(y);A[3].$(c);
A[3].rD(y==0);A[4].$(Q.join(" "));var V=[];for(var l=0;l<5;l++)V.push(A[l].o());this.aiT(this.NK,40,16,V)};
cY.prototype.o=function(){return JSON.parse(JSON.stringify(this.D2))};cY.prototype.aiT=function(w,n,H,y){var c=y[0],Q=y[1],q=y[2],S=y[3],A=y[4].split(" ").map(parseFloat);
s.pD(w.canvas,n,H);var V=Math.min(5,this.D2.strokeStyleLineWidth.v.val);for(var l=0;l<A.length;l++)A[l]*=V;
w.clearRect(0,0,n,H);w.setLineDash(A);w.lineCap=["butt","round","square"][Q];w.lineJoin=["miter","round","bevel"][q];
w.lineWidth=V;w.beginPath();w.moveTo(0,H/2);w.lineTo(n*2,H/2);w.stroke()};function gB(w){cE.call(this,w,!1,"contourbutton",34,16,h6.vG,!0);
this.bd=new f0([12,86],null,16);this.bd.h("input",this.OU,this);this.dP.n.appendChild(this.bd.n);this.nU=null;
this.gN="";this.BR=null;this.$(ca.B1())}gB.prototype=new cE;gB.prototype.f=function(){cE.prototype.f.call(this);
this.bd.f()};gB.prototype.aO=function(w){this.$(this.nU[w.target.o()[0]]);this.S(new aL(M.E.A))};gB.prototype.OU=function(w){this.gN=this.bd.o().toLowerCase();
this.a4Y()};gB.adb=!1;gB.prototype.yx=function(){if(!this.vU)return;var w=this.Wq;if(w==null||!gB.adb){var n=new aL(M.E.L,!0);
n.data={d:M.c.Jx,PY:{url:"rsrc/basic/fa_basic.csh"}};this.S(n);gB.adb=!0}else{var H=Math.floor(38*s.V()),y=Math.floor(38*s.V());
this.BR=[];for(var l=0;l<w.length;l++)this.BR.push(gB.a0T(w[l],H,y));this.a4Y();this.vU=!1}};gB.prototype.a4Y=function(){var w=Math.floor(38*s.V()),n=Math.floor(38*s.V());
this.nU=[];var H=[],y=[],c=this.Wq;for(var l=0;l<c.length;l++){if(c[l].S6.toLowerCase().indexOf(this.gN)==-1)continue;
this.nU.push(c[l]);H.push(this.BR[l]);y.push(c[l].S6)}this.PZ.bu(H,y,w,n)};gB.prototype.$=function(w){this.oi=gB.clone(w);
this.H0()};gB.prototype.H0=function(){var w=Math.floor(23*s.V()),n=Math.floor(23*s.V()),H=gB.a0T(this.oi,w,n);
this.Iv.setAttribute("src",H);s.cD(this.Iv,w,n)};gB.prototype.o=function(){return gB.clone(this.oi)};
gB.clone=function(w){return{S6:w.S6,E5:w.E5,i:a.TB.Ce(w.i),C5:w.C5.clone()}};gB.F=null;gB.M0=null;gB.a0T=function(w,n,H){var y=a.TB.Ce(w.i),c=w.C5,Q=Math.min(n/c.m,H/c.e)*.9,q=new b7;
q.translate(-.5,-.5);q.scale(.95,.95);q.translate(.5,.5);q.scale(Q*c.m,Q*c.e);O.r._R(y,q);var S=new a.TB;
S.i=y;var A=S.LZ();A.rect.x=Math.floor((n-A.rect.m)/2);A.rect.y=Math.floor((H-A.rect.e)/2);var V=O.R(A.rect.O()*4);
O.o2(A.channel,V,3);var e=gB;if(e.F==null)e.F=s.t("canvas");var d=e.F,N=d.getContext("2d");if(d.width!=n||d.height!=H||e.M0==null){d.width=n;
d.height=H;e.M0=N.createImageData(n,H)}var b=e.M0;b.data.fill(0);O.j1(V,A.rect,b.data,new cr(0,0,n,H));
N.putImageData(b,0,0);return d.toDataURL()};function ep(w){cE.call(this,w,!1,"ICCButton",16,12,h6.vR,!0);
this.PZ.Bw(1)}ep.prototype=new cE;ep.prototype.Kc=function(){var w="Arabica 12,Ava 614,Azrael 93,Bourbon 64,Byers 11,Clayton 33,Clouseau 54,Cobi 3,Contrail 35,Cubicle 99,Django 25,Domingo 145,Faded 47,Folger 50,Fusion 88,Hyla 68,Chemical 168,Korben 214,Lenox 340,Lucky 64,McKinnon 75,Milo 5,Neon 770,Paladin 1875,Pasadena 21,Pitaya 15,Reeve 38,Remy 24,Sprocket 231,Teigen 28,Trent 18,Tweed 71,Vireo 37,Zed 32,Zeke 39".split(",");
for(var l=0;l<w.length;l++)w[l]="luts/"+w[l]+".CUBE";return w};ep.prototype.aO=function(w){this.$(this.Wq[w.target.o()]);
this.S(new aL(M.E.A))};ep.prototype.yx=function(){if(!this.vU)return;var w=Math.floor(1*s.V()),n=Math.floor(1*s.V()),H=[],y=[],c=this.Wq;
for(var l=0;l<c.length;l++){var Q=c[l].Nm.v.split("\\").pop().split("/").pop();y.push(Q);H.push(ep.zT(c[l],w,n))}this.PZ.bu(H,y,w,n);
this.vU=!1};ep.prototype.$=function(w){this.oi=JSON.parse(JSON.stringify(w));this.H0()};ep.zT=function(w,n,H){var y=s.t("canvas"),q="ICC / 3DL / look / cube";
y.width=n;y.height=H;var c=y.getContext("2d"),Q=Math.floor(14*s.V());c.font=Q+"px sans-serif";if(w.Nm)q=w.Nm.v.split("\\").pop().split("/").pop();
c.fillText(q,10,Q);return y.toDataURL()};ep.prototype.H0=function(){var w=Math.floor(120*s.V()),n=Math.floor(20*s.V());
this.Iv.setAttribute("src",ep.zT(this.oi,w,n));s.cD(this.Iv,w,n)};ep.prototype.o=function(){return JSON.parse(JSON.stringify(this.oi))};
function aI(){bU.call(this);this.i4=null;this.n=s.t("span","fitem");this.FC=new bN([14,9]);this.At=new kc(null,0,150,"px",1,!0,null,null,[19,2,5]);
this.L3=new cY;this.d_=[this.FC,this.At,this.L3];for(var l=0;l<this.d_.length;l++){var w=this.d_[l];
this.n.appendChild(w.n);w.parent=this;w.h(M.E.A,this.tw,this)}}aI.prototype=new bU;aI.prototype.f=function(){for(var l=0;
l<this.d_.length;l++)this.d_[l].f()};aI.prototype.AB=function(w,n){this.FC.AB(w,n)};aI.prototype.tw=function(w){var n=this.i4,H=this.FC.o(),y=H.SU;
n.strokeEnabled.v=y!=0;if(y!=0){n.strokeStyleContent.v=H.WL;H.WL.classID=d5.Ed.oj[y-1]}n.strokeStyleLineWidth.v.val=this.At.o();
if(w.target==this.L3)n=this.L3.o();this.i4=n;this.S(new aL(M.E.A,!1))};aI.prototype.$=function(w,n,H){this.i4=JSON.parse(JSON.stringify(n));
var y=n.strokeEnabled.v,c=n.strokeStyleContent.v,Q=y?{SU:1+d5.Ed.oj.indexOf(c.classID),WL:c}:{SU:0};
this.FC.$(w,Q,H);this.At.$(n.strokeStyleLineWidth.v.val);this.L3.$(n)};aI.prototype.o=function(){return JSON.parse(JSON.stringify(this.i4))};
function e7(w){var n=[[18,0],[18,1],[18,2],[18,3]],H=iY.gZ(["set/front","set/union","set/difference","set/intersection"]);
iY.call(this,w?[12,36]:null,H,n)}e7.prototype=new iY;function j7(){bU.call(this);this.n=s.t("button","fitem bbtn");
s.am(this.n,this.Ay.bind(this));this.dP=new bU;this.dP.n=s.t("div","floatcont form");this.dP.n.setAttribute("style","max-width: 200px;");
this.dP.parent=this;var w=b9;this.ZA=[new jH("Start"),new jH("End"),new w([12,41],0,100,"px",null,!0,null,!0),new w([12,80,0],0,100,"px",null,!0,null,!0),new w("Concavity",-50,50,"%",null,null,null,!0)];
for(var l=0;l<this.ZA.length;l++){var n=this.ZA[l];n.parent=this;n.h(M.E.A,this.x1,this);this.dP.n.appendChild(n.n)}this.alA=s.t("div");
this.dP.n.appendChild(this.alA)}j7.prototype=new bU;j7.prototype.$=function(w){for(var l=0;l<5;l++)this.ZA[l].$(w[l]);
this.k9()};j7.prototype.o=function(w){var n=[];for(var l=0;l<5;l++)n[l]=this.ZA[l].o();return n};j7.prototype.f=function(){this.n.textContent=hV.get([12,93,4]);
for(var l=0;l<this.ZA.length;l++)this.ZA[l].f()};j7.prototype.x1=function(w){this.S(new aL(M.E.A,!1));
this.k9()};j7.prototype.k9=function(w){var n=this.o(),H=200,y=60;n[2]/=s.V();n[3]/=s.V();var c=O.r.yj.Ra(0,y/2,H,y/2,5,n),Q=O.r.OW(c);
this.alA.innerHTML="<svg width=\""+H+"\" height=\""+y+"\" class=\"gsicon\">\t\t\t<path d=\""+Q.ad+"\" />\t\t\t</svg>"};
j7.prototype.Ay=function(w){if(s._Q(this.dP.n))return;w.stopPropagation();var n=this.n.getBoundingClientRect(),H=new aL(M.E.L,!0);
H.data={d:M.c.hf,_0:this.dP,x:n.left,y:n.top+n.height,i2:!0};this.S(H)};function bJ(){bU.call(this);
this.n=s.t("div");this.cP=[];this.a6N=[];var w=this.dU=s.t("div"),n=s.t("h2");n.textContent="Create Teams";
w.appendChild(n);n.style.margin="26px 0 16px 0";var H=new eO("More about Teams",!1,null,!0);n.appendChild(H.n);
H.n.style.float="right";H.h("click",this.a5I,this);this.I$=s.t("div");w.appendChild(this.I$);this.aem=new f0("Team Name",null,10);
w.appendChild(this.aem.n);var y=this.a8T=new eO("Create Team",null,null,!0);w.appendChild(y.n);y.h("click",this.ai0,this);
var n=s.t("h2");n.textContent="Join Teams";w.appendChild(n);n.style.margin="26px 0 16px 0";this.Uj=s.t("div");
w.appendChild(this.Uj);this.aeY=new f0("Team ID",null,10);w.appendChild(this.aeY.n);var y=new eO("Join Team",null,null,!0);
w.appendChild(y.n);y.h("click",this.ai0,this);this.abb;this.adP=this.nQ.bind(this);this.aqV=this.asf.bind(this);
this.sB=!1;this.J1();this.sd=null;this.aeh=""}bJ.prototype=new bU;bJ.prototype.a5I=function(w){var n=new aL(M.E.L,!0);
n.data={d:M.c.ee,link:"https://www.photopea.com/api/accounts#teams"};this.S(n)};bJ.prototype.J1=function(){clearTimeout(this.abG);
this.abG=setTimeout(this.aqV,this.sd?10:3e3)};bJ.prototype.asf=function(){var w=g6.gA();if(document.hidden||!s._Q(this.n)||w==null){this.J1();
return}var n=g6.vC();if(this.sd==null&&n==null)return;g6.Af(this.sd?this.sd:n,this.adP);this.sB=!0;this.sd=null};
bJ.prototype.aaM=function(w){w.acc.update=!0;this.n.style.pointerEvents="none";this.n.style.opacity="0.5";
if(this.sB)this.sd=w;else{clearTimeout(this.abG);g6.Af(w,this.adP)}};bJ.prototype.vH=function(w){var n=typeof w=="string"?this.abb:this.cP.indexOf(w.target),H=this.a6N[n],y=H[0],c=g6.vC();
if(c==null)c={};var q=c.acc,S=q.tjoin,A=q.tstart;if(y=="leave"){S.splice(S.indexOf(H[1]),1)}if(y=="add"||y=="remove"||y=="delTeam"||y=="showRename"||y=="rename"){var V=-1,e=0;
for(var l=0;l<A.length;l++){e+=A[l][1].length;if(A[l][2]==H[1])V=l}var d=A[V];if(y=="add"){var N=g6.qx();
if(N&&N[0]==0&&N[1][2]<=e){alert("You can have at most "+N[1][2]+" members in your Premium.");return}d[1].push(H[2])}if(y=="remove")d[1].splice(d[1].indexOf(H[2]),1);
if(y=="delTeam"){if(d[1].length!=0){alert("Remove members first.");return}A.splice(V,1)}if(y=="showRename"){var b=new aL(M.E.L,!0);
b.data={d:M.c.rL,Ln:"namewindow",EV:d[0],ty:this.vH.bind(this)};this.S(b);this.abb=n;H[0]="rename";return}if(y=="rename")d[0]=w}this.aaM(c)};
bJ.prototype.ai0=function(w){var n=this.a8T==w.target,H=(n?this.aem:this.aeY).o().trim();if(H==""){alert("The Team "+(n?"Name":"ID")+" is empty.");
return}if(!n){H=parseInt(H);if(isNaN(H)){alert("The ID must be a number");return}}var y=g6.vC();if(y==null)y={};
var c=y.acc;if(c==null)c=y.acc={};var Q=c.tstart,q=c.tjoin;if(n){if(Q==null)Q=c.tstart=[];if(Q.length>5){alert("You can have at most 5 teams");
return}Q.push([H,[]])}else{if(Q)for(var l=0;l<Q.length;l++)if(Q[l][2]==H){alert("You are the owner of this team");
return}if(q==null)q=c.tjoin=[];if(q.indexOf(H)!=-1){alert("You already asked to join this team.");return}c.tjoin.push(H)}c.update=!0;
this.aaM(y)};bJ.prototype.nQ=function(){this.sB=!1;var w=g6.gA(),n=w!=null,H=this.dU.parentNode!=null;
if(n!=H){s.Of(this.n);if(n)this.n.appendChild(this.dU);else this.n.textContent="Log In to access Team Settings."}if(!n)return;
var y=g6.vC();if(y==null)y={};var c=y.acc;if(c==null)c={};var Q=JSON.stringify(c)+"===="+JSON.stringify(w);
if(Q!=this.aeh){this.aeh=Q;var q=this.I$,S=this.Uj;s.Of(q);s.Of(S);var A=this.cP=[],V=this.a6N=[],e=this.vH.bind(this);
function d(t,u){t.addEventListener("click",e);A.push(t);V.push(u)}function N(h,t){var k=s.t("div"),u="rgba(255,255,255,0.15)";
k.appendChild(z("ID: "+h[2],44,u));k.appendChild(z(h[0],160,null,!0));if(t){k.appendChild(z(h[1].length+" members",80,null,!0))}else{k.appendChild(z(h[1]==-1?"... not accepted yet":"Accepted",160));
if(Date.now()<h[1]*1e3)k.appendChild(z("Premium",80,"rgba(0,140,0,1)"))}var m=z("",120);k.appendChild(m);
m.setAttribute("style","float:right;text-align:right");if(t){var U=new eO("Rename",null,null,!0);d(U,["showRename",h[2]]);
m.appendChild(U.n)}var U=new eO(t?"Delete":"Leave",null,null,!0);d(U,[t?"delTeam":"leave",h[2]]);m.appendChild(U.n);
return k}function b(t,u,o){var k=s.t("div");k.style.paddingLeft="36px";k.appendChild(z(u?"\u2713":"...",8,u?"#229922":"#aa7700"));
k.appendChild(z(t[1],200));k.appendChild(z(t[2],240));var m=z("",120);k.appendChild(m);m.setAttribute("style","float:right;text-align:right");
var U=new eO(u?"Remove":"Add",null,null,!0);d(U,[u?"remove":"add",o,t[0]]);m.appendChild(U.n);return k}function z(t,u,m,U){var I=s.t("span");
I.textContent=t;I.setAttribute("style","display:inline-block;  padding:0 10px;  border-radius:4px;  overflow:hidden;  width:"+u+"px;  "+(m!=null?"background-color:"+m+";":"")+(U?"font-weight:bold;":""));
return I}var v=c.tstart,T=c.tjoin,Y=w.wantToJoin,g=w.inTeams;if(v)for(var R=0;R<v.length;R++){var h=v[R],E=Y["t"+h[2]];
if(E==null)E=[];var G={};for(var l=0;l<E.length;l++)G["u"+E[l][0]]=E[l];var k=N(h,!0);q.appendChild(k);
k.style.marginTop="10px";for(var l=0;l<h[1].length;l++){var $=h[1][l],p=G["u"+$];if(p==null)p=[$,"========","... user has left your team"];
delete G["u"+$];var X=b(p,!0,h[2]);q.appendChild(X)}for(var C in G){var p=G[C],X=b(p,!1,h[2]);q.appendChild(X)}}if(T){var D={};
for(var l=0;l<g.length;l++)D["t"+g[l][2]]=g[l];for(var R=0;R<T.length;R++){var o=T[R],h=D["t"+o],k=N(h?h:["==========",-1,o],!1);
S.appendChild(k)}}this.S(new aL(M.E.A))}if(this.sd==null){this.n.style.pointerEvents="auto";this.n.style.opacity="1"}this.J1()};
function bZ(){bU.call(this);this.Zy=[16,!0,!0];this.n=s.t("span","");this.bt=[new kc([12,24],0,255),new jH([12,25,1]),new jH([12,25,0])];
for(var l=0;l<3;l++){var w=this.bt[l];w.parent=this;w.$(this.Zy[l]);this.n.appendChild(w.n);w.h(M.E.A,this.tw,this)}}bZ.prototype=new bU;
bZ.prototype.tw=function(){for(var l=0;l<3;l++)this.Zy[l]=this.bt[l].o();this.S(new aL(M.E.A,!1))};bZ.prototype.$=function(w){this.Zy=w.slice(0);
for(var l=0;l<3;l++)this.bt[l].$(w[l])};bZ.prototype.o=function(){return this.Zy.slice(0)};bZ.prototype.f=function(){for(var l=0;
l<3;l++)this.bt[l].f()};function hk(w,n){bU.call(this);if(n==null)n=!1;this.BR=[];this.xi=Math.floor(120*s.V());
this.a9S=Math.floor(23*s.V());this.SD=0;this.o6=[];this.SX=[];for(var H in O.v$.type){if(H=="warpCustom"&&!n)continue;
this.o6.push(H);this.SX.push(O.v$.type[H])}this.n=s.t("span","fitem warpbutton");this.dP=new bU;this.dP.n=s.t("div","floatcont");
if(w){this.pr=w;this.Oz=s.t("label","flabel");this.n.appendChild(this.Oz)}this.d=s.t("button");this.n.appendChild(this.d);
s.am(this.d,this.Ay.bind(this));this.xH=new hD(!0);this.dP.n.appendChild(this.xH.n);this.xH.h(M.E.A,this.aaJ,this);
this.dP.n.setAttribute("style","width:"+Math.floor(8+this.xi/s.V())+"px;");this.f()}hk.prototype=new bU;
hk.prototype.TO=function(w){this.Oz.textContent=w};hk.prototype.f=function(){if(this.pr)this.Oz.innerHTML=hV.get(this.pr)+":";
this.H0()};hk.a3E={};hk.ayf=function(w,n,H){var y=hV.get(O.v$.type[w]),c=y+"-"+w+"-"+n+"-"+H,Q=hk.a3E[c];
if(Q)return Q;var q=hk.NK;if(S==null){var S=s.t("canvas");q=hk.NK=S.getContext("2d")}var S=q.canvas;
if(S.width!=n||S.height!=H){S.width=n;S.height=H}q.font=Math.floor(13*s.V())+"px sans-serif";q.lineWidth=1;
q.strokeStyle="#000000";var A=Math.floor(16*s.V()),V=new cr(0,0,A,A);q.clearRect(0,0,S.width,S.height);
var e=O.v$.v$(V,w,!0,.3,0,0),d=O.p.u3(V);d.T.push("M","L","M","L");d.w.push(0,A/2,A,A/2);d.w.push(A/2,0,A/2,A);
d=O.p.I6(d);d=O.p.sn(d,A/5);O.cR.D(e,d.w,V);O.p.D(d.w,new b7(1,0,0,1,Math.floor(8*s.V())+.5,Math.floor(3*s.V())+.5),d.w);
q.beginPath();Typr.U.pathToContext({cmds:d.T,crds:d.w},q);q.stroke();q.fillText(y,Math.floor(40*s.V()),Math.floor(16*s.V()));
Q=hk.a3E[c]=S.toDataURL();return Q};hk.prototype.Ay=function(w){if(s._Q(this.dP.n))return;w.stopPropagation();
var n=this.xi,H=this.a9S;for(var l=0;l<this.o6.length;l++)this.BR[l]=hk.ayf(this.o6[l],n,H);this.xH.bu(this.BR,null,n,H);
var y=this.d.getBoundingClientRect(),c=new aL(M.E.L,!0);c.data={d:M.c.hf,_0:this.dP,x:y.left,y:y.top+y.height+4};
this.S(c)};hk.prototype.aaJ=function(w){var n=new aL(M.E.L,!0);n.data={d:M.c.SP,_0:this.dP};this.S(n);
this.SD=w.target.o()[0];this.H0();this.S(new aL(M.E.A))};hk.prototype.H0=function(){var w=this.xi,n=this.a9S;
this.xH.$([this.SD]);this.d.innerHTML="<img src=\""+hk.ayf(this.o6[this.SD],w,n)+"\" class=\"gsicon\" />";
s.cD(this.d.firstChild,w,n)};hk.prototype.o=function(){return this.o6[this.SD]};hk.prototype.$=function(w){this.SD=this.o6.indexOf(w);
this.H0()};function bS(w,n,H){bU.call(this);if(w==null)w=!1;if(n==null)n=!1;if(H==null)H=!1;this.a4k=n;
this.v$=null;this.Pm=new hk([12,22],H);this.Pm.parent=this;this.Pm.h(M.E.A,this.La,this);this.P$=new dw([22,0],[[22,4,0],[22,4,1]]);
this.P$.h(M.E.A,this.La,this);var y=w?kc:b9;this.NA=new y([22,1],-100,100,"%");this.mF=new y("Horizontal Distortion:",-100,100,"%");
this.wz=new y("Vertical Distortion:",-100,100,"%");this.NA.parent=this.mF.parent=this.wz.parent=this;
this.NA.h(M.E.A,this.La,this);this.mF.h(M.E.A,this.La,this);this.wz.h(M.E.A,this.La,this)}bS.prototype=new bU;
bS.prototype.f=function(){this.Pm.f();this.P$.f();this.NA.f();var w=this.a4k?1:100;this.mF.TO(hV.get([22,2]).substring(0,w)+":");
this.wz.TO(hV.get([22,3]).substring(0,w)+":")};bS.prototype.La=function(){var w=this.v$,n=this.Pm.o(),H=w.warpStyle.v.warpStyle;
if(n=="warpCustom")O.v$.WU(O.v$.h_(w),w);else delete w.customEnvelopeWarp;w.warpStyle.v.warpStyle=this.Pm.o();
w.warpRotate.v.Ornt=["Hrzn","Vrtc"][this.P$.o()];w.warpValue.v=this.NA.o();w.warpPerspective.v=this.mF.o();
w.warpPerspectiveOther.v=this.wz.o();if(n=="warpNone"||n=="warpCustom"){w.warpValue.v=0;w.warpPerspective.v=0;
w.warpPerspectiveOther.v=0}else if(H=="warpNone"||H=="warpCustom")w.warpValue.v=50;this.S(new aL(M.E.A,!1));
this.$(w)};bS.prototype.o=function(w){return JSON.parse(JSON.stringify(this.v$))};bS.prototype.$=function(w){this.v$=JSON.parse(JSON.stringify(w));
this.Pm.$(w.warpStyle.v.warpStyle);this.P$.$(w.warpRotate.v.Ornt=="Hrzn"?0:1);this.NA.$(w.warpValue.v);
this.mF.$(w.warpPerspective.v);this.wz.$(w.warpPerspectiveOther.v);var n=w.warpStyle.v.warpStyle,H=n=="warpNone"||n=="warpCustom",y=[this.P$,this.NA,this.mF,this.wz];
for(var l=0;l<y.length;l++)if(H)y[l].j7();else y[l].ZF()};function dQ(w){bU.call(this);this.azP={};this.n=s.t("div");
this.i6=w;this.jI=null;this.JA=new ce(0,0);this.OC="position:relative;overflow:hidden;background-color:var(--bg-canvas);";
this.fQ=null;this.dV=new s.vL(this.n);this.ic("grab");this.F=s.t("canvas","canv");this.n.appendChild(this.F);
this.NK=this.F.getContext("2d");this.amk=null;this.Xv=null;this.UU=null;this.fb=0;this.xw=0;this.rZ=0;
this.ad4=this.a77.bind(this);this.a7o=null;this.u=new id({m:1,e:1});this.uT=null;this.ET=null;this.I4=[];
this.akM=0;this.jn=0;this.a8E=this.A9.bind(this);this.af$=this.jf.bind(this);this.a8k=this.Cw.bind(this);
this.adm=this.nV.bind(this);this.a5D=0;this.m7=null;this.ahu(this.F);this.Uy(this)}dQ.prototype=new bU;
dQ.prototype.av5=function(w){this.azP=w;this.kZ()};dQ.agV=function(w){var n=new b8(!0);if(w>=0)n.hJ("Space");
if(w>=1){n.hJ("ControlLeft");if(w==2)n.hJ("AltLeft")}return n};dQ.prototype.QI=function(w){var n=this.fQ,H=null;
if(w.l(b8.QQ)){H="grab";if(w.l(b8.NX)){H="zoom-in";if(w.l(b8.FO))H="zoom-out"}}this.jI=H;if(H)n=H;this.dV.nQ(n,this.OC);
if(w.l(b8.NX)){var y=0;if(w.l(b8.iA))y=1;if(w.l(b8.u_))y=-1;if(y!=0){this.JH(new ce(this.F.width/2,this.F.height/2),y==1)}}};
dQ.prototype.ic=function(w){this.fQ=w;if(this.jI)return;this.dV.nQ(w,this.OC)};dQ.prototype.ahu=function(w){s.am(w,this.a8E);
s.g0(w);w.addEventListener("wheel",this.adm,!1)};dQ.prototype.Uy=function(w){w.h("viewchange",this.a0a,this)};
dQ.prototype.a0a=function(w){var n=this.u.N,H=w.currentTarget.$a();this.u.N=H.N;this.u.Q=H.Q.clone();
if(n!=H.N)this._s();this.kZ()};dQ.prototype.$a=function(){return{N:this.u.N,Q:this.u.Q}};dQ.prototype.$=function(w,n){var H=w[0].Zg;
if(this.Xv!=null&&this.Xv[0].Zg.Hw(H)){}else{this.u.z3={m:H.m,e:H.e};this.u.Q=new ce(0,0);this.u.N=1}this.Xv=w;
this._s();this.Yg();this.fb=0;this.xw=0;this.rZ=n==null?0:n;this.a77()};dQ.prototype.nV=function(w){w.preventDefault();
if(w.deltaY==0||Date.now()-this.a5D<100)return;var n=s.E4(w);n.x=s.V()*n.x;n.y=s.V()*n.y;this.a5D=Date.now();
this.JH(n,w.deltaY<0)};dQ.prototype.JH=function(w,n){P.kL.fS(this.u,w,n);this.aiw()};dQ.prototype.j$=function(){var w=this.u,n=w.z3;
this.u.N=P.kL.amX(n.m,n.e,w.GN.m,w.GN.e);this.aiw()};dQ.prototype.aiw=function(){this._s();this.S(new aL("viewchange"));
this.S(new aL("zoom"))};dQ.prototype._s=function(){this.UU=[];var w=this.u.N;if(this.Xv==null)return;
for(var l=0;l<this.Xv.length;l++){var n=this.Xv[l],H=new Uint8Array(n.data),y;if(w>=1)y={fF:H,rect:n.Zg};
else y=O.aqd(H,n.Zg,w);this.UU.push(y)}};dQ.prototype.Yg=function(){clearTimeout(this.a7o)};dQ.prototype.kZ=function(){if(this.Xv==null||!s._Q(this.F))return;
var w=this.amk,n=this.F.width,H=this.F.height,z,v;if(w==null||w.width!=n||w.height!=H){w=this.amk=this.NK.createImageData(n,H);
console.log("creating image data")}var y=this.Xv[this.fb],c=this.UU[this.fb],Q=this.u,q=Q.z3,S=Q.GN,A=S.m,V=S.e,e=q.m*Q.N,d=q.e*Q.N,N=Math.round((A-e)/2+Q.Q.x),b=Math.round((V-d)/2+Q.Q.y);
if(Q.N<=1){v=c.rect.clone();v.x=N;v.y=b;e=v.m;d=v.e;z=c.fF}else{var T=1/Q.N,Y=new cr(Math.floor((S.x-N)*T),Math.floor((S.y-b)*T),Math.ceil(S.m*T)+1,Math.ceil(S.e*T)+1),g=new cr(0,0,Y.m*Q.N,Y.e*Q.N);
g.x=Y.x*Q.N+N;g.y=Y.y*Q.N+b;if(Q.MH==null||Q.MH.length!=Y.O()*4){Q.MH=O.R(Y.O()*4)}if(Q.YC==null||Q.YC.length!=g.O()*4){Q.YC=O.R(g.O()*4)}O.jZ(Q.MH,0);
O.j1(c.fF,c.rect,Q.MH,Y);O.scale.ou(Q.MH,Y.m,Y.e,Q.YC,g.m,g.e,Q.N);z=Q.YC;v=g}var R=new Uint8Array(w.data.buffer);
O.DE(R,A,V,8,-N,-b);O.q.SG("norm",z,v,R,S,S,1);var h=this.NK;h.setTransform(1,0,0,1,0,0);h.putImageData(w,0,0);
h.clearRect(N-1e3,b,1e3,d);h.clearRect(N+e,b,1e3,d);h.clearRect(N-1e3,b-1e3,e+2e3,1e3);h.clearRect(N-1e3,b+d,e+2e3,1e3);
var E=dQ.aqM(Q.N,"#ffffff");h.putImageData(E,0,Q.GN.e-E.height);var G=this.azP,Q=this.u;if(G){var k=dd.Qn([.1,.5,1,1]),$=dd.Qn([1,0,0,1]),p=Q.ZP(!1);
p.G$();h.save();h.setTransform(p.iL,p.k,p.Mg,p.Du,p.qH,p.fp);h.strokeStyle=$;if(G.alw){dd.H1(G.alw,null,h);
h.lineWidth=1/Q.N;h.stroke()}h.strokeStyle=k;h.fillStyle=dd.Qn([1,1,1,1]);if(G.lJ){dd.H1(G.lJ,null,h);
h.lineWidth=1/Q.N;h.stroke()}if(G.aN){dd.a7s(G.aN,h,Q,.5);h.lineWidth=2/Q.N;h.stroke();h.fill()}h.restore()}h.getImageData(0,0,1,1)};
dQ.are="";dQ.avA=null;dQ.aqM=function(w,n,H,y){if(H==null){H=0;y=0}var c=H+" \xD7 "+y,Q="z"+w+","+n+","+H+","+y;
if(Q==dQ.are)return dQ.avA;var q=Math.round(50*s.V()),S=Math.round(18*s.V()),A=H==0?0:Math.round((c.length+2)*S*.35),V=s.t("canvas"),e=V.getContext("2d");
V.width=q+A;V.height=S;e.fillStyle="rgba(1,1,1,1)";e.fillRect(0,0,q,S);if(H!=0)e.fillRect(q+2,0,A,S);
e.font=Math.round(11*s.V())+"px monospace";e.fillStyle=n;var d=w*100;if(d<100)d=d.toFixed(2);else d=Math.round(d);
d=d+"%";var N=e.measureText(d).width;e.fillText(d,(q-N)/2,Math.round(S*.7));if(H!=0){var b=e.measureText(c).width;
e.fillText(c,q+(A-b)/2+1,Math.round(S*.7))}var z=e.getImageData(0,0,q+A,S);dQ.are=Q;dQ.avA=z;return z};
dQ.prototype.a77=function(){var w=this.Xv,n=w.length,H=this.fb,y=this.Xv[H],c=(H+1)%n;this.kZ();if(n!=1&&w[c].Zg.Hw(y.Zg)){var Q=y.$E?parseInt(y.$E.split(",").pop()):30;
if(Q==0)Q=16;if(c==0)this.xw++;if(this.rZ==0||this.xw<this.rZ)this.a7o=setTimeout(this.ad4,Q)}this.fb=c};
dQ.prototype.kc=function(w,n){if(w<=0||n<=0)return;var H=Math.floor(w*s.V()),y=Math.floor(n*s.V());this.u.GN=new cr(0,0,H,y);
this.F.width=H;this.F.height=y;this.F.setAttribute("style","width:"+H/s.V()+"px; height:"+y/s.V()+"px; display:block;");
this.kZ()};dQ.prototype.jO=function(w){var n=-1,H=this.I4;for(var l=0;l<H.length;l++)if(H[l].pointerId==w.pointerId)n=l;
return n};dQ.prototype.A9=function(w){var n=this.jO(w),H=this.I4;if(n!=-1)H[n]=w;else H.push(w);if(H.length==1){this.m7=w.target;
s.I7(window,this.af$);s.vM(window,this.a8k);this.uT=s.E4(w,this.F);this.uT.x*=s.V();this.uT.y*=s.V();
this.JA=this.uT;this.ET=this.u.Q.clone();if(this.i6&&this.m7==this.F&&!this.jI)this.S(new aL("mousedown"))}else this.akM=this.jn=ce.Re(s.E4(H[0],this.F),s.E4(H[1],this.F))};
dQ.prototype.jf=function(w){var n=this.jO(w),H=this.I4;if(n!=-1)H[n]=w;var y=this.u,c=this.jI,q=this.Xv[this.fb].Zg.clone();
q.m*=y.N;q.e*=y.N;var S=s.E4(w,this.F);S.x*=s.V();S.y*=s.V();this.JA=S;if(this.i6&&this.m7==this.F&&!c)this.S(new aL("mousemove"));
else if(c=="grab"||c==null){if(H.length>1){var A=s.E4(H[0],this.F),V=s.E4(H[1],this.F),e=new ce(s.V()*(A.x+V.x)/2,s.V()*(A.y+V.y)/2),d=ce.Re(A,V),N=null;
if(d>this.jn+50){this.jn+=50;N=!0}if(d<this.jn-50){this.jn-=50;N=!1}if(N!=null)this.JH(e,N);return}else{var b=S.x-this.uT.x,z=S.y-this.uT.y;
y.Q.x=this.ET.x+Math.round(b);y.Q.y=this.ET.y+Math.round(z)}this.S(new aL("viewchange"))}};dQ.prototype.Cw=function(w){var n=this.jO(w),H=this.I4;
H.splice(n,1);if(H.length==0){s.kg(window,this.af$);s.v8(window,this.a8k);var y=this.jI;if(w.detail>1){this.u.N=1;
this.u.Q.HV(0,0);this.kZ()}if(this.i6&&this.m7==this.F&&!this.jI)this.S(new aL("mouseup"));else{if(y=="zoom-in"||y=="zoom-out")this.JH(this.JA,y=="zoom-in")}}else{var c=this.uT=s.E4(H[0],this.F);
c.x*=s.V();c.y*=s.V()}};dQ.prototype.ZG=function(w){var n=this.JA;if(w){n=s.E4(w,this.F);n.x*=s.V();
n.y*=s.V()}return this.u.Sb(n.x,n.y)};function j_(){bU.call(this);this.hk=null;this.tG=null;this.EU=null;
this.Rg=null;this.apz="";this.jl=[];this.Qk=0;this.yq=[];this.eF=0;this.Uz=null;var w=this.n=s.t("div",""),n=this.a4T=s.t("div","form");
n.setAttribute("style","line-height:0; margin-bottom:0.5em;");w.appendChild(n);var H=this.pr=s.t("span");
n.appendChild(H);H.setAttribute("style","font-size:1.2em; font-weight:bold; margin-right:3em;");var y=this.aoI=new jH([25,2,0]);
y.$(!0);n.appendChild(y.n);y.h(M.E.A,this.Zw,this);var c=this._n=new jH([25,2,1]);c.$(!0);n.appendChild(c.n);
c.h(M.E.A,this.Zw,this);var Q=new iD(" ");n.appendChild(Q.n);var q=this.BE=new f0([25,1,1]);n.appendChild(q.n);
q.h(M.E.A,this.Zw,this);this.Ql=new bD(14);this.Ql.a2u(3);n.appendChild(this.Ql.n);this.Ql.parent=this;
this.Ql.h(M.E.A,this.agQ,this);var S=this.azo=new eO([25,1,2],null,null,!0);n.appendChild(S.n);S.h("click",this.c_,this);
var A=new eO("?",null,null,!0);n.appendChild(A.n);A.addEventListener("click",function(){alert("All our images come from Pixabay.com and are free to use for commercial purposes.")});
this.agv=this.aai.bind(this);this.hX=s.t("div","svggallery scrollable");w.appendChild(this.hX);this.hX.addEventListener("scroll",this.afx.bind(this))}j_.prototype=new bU;
j_.prototype.AB=function(w){this.agA=w};j_.prototype.f=function(){this.pr.textContent=hV.get([25,0]);
this.Ql.f();this.aoI.f();this._n.f();this.BE.f();this.azo.f()};j_.prototype.kc=function(w,n){this.hk=new ce(w,n);
this.a4T.setAttribute("style","width:"+w+"px");var H=this.a4T.getBoundingClientRect();n-=H.height;this.hX.setAttribute("style","width:"+w+"px; height:"+n+"px");
if(s._Q(this.n))this.Zw()};j_.prototype.$=function(w){this.tG=w;this.Zw()};j_.prototype.afx=function(w){var n=this.hX;
if(n.scrollTop+n.clientHeight+10>=n.scrollHeight){this.Zw(!0)}};j_.prototype.agQ=function(w){this.EU=null;
this.Zw()};j_.prototype.aai=function(w){if(Date.now()-this.eF<2e3)return;this.eF=Date.now();this.Qk=this.yq.indexOf(w.currentTarget);
var n=this.Ao(this.tG.x,this.tG.y);if(n[1]){var H=n[1].largeImageURL,y=new XMLHttpRequest;y.responseType="arraybuffer";
y.open("GET",H,!0);y.onload=this.acO.bind(this);y.send();return}this.a55(n)};j_.prototype.acO=function(w){var n=w.target.response,H=cb.mj(n),y=cb.Mn(H),c=y._N(n),Q=this.Ao(this.tG.x,this.tG.y,[n,c[0].Zg.m,c[0].Zg.e]);
this.a55(Q)};j_.prototype.a55=function(w){var n=w[0],H=cb.mj(n),y=cb.Mn(H),c=new iC("template.psd");
y._N(n,c);var Q=new aL("tempready",!0);Q.data={z3:c};this.S(Q)};j_.prototype.c_=function(w){var n=w.target;
this.jl=[];this.EU=null;this.Zw()};j_.prototype.aov=function(w){var n=JSON.parse(w.target.response),H=this.Rg=n.hits;
for(var l=0;l<H.length;l++)if(H[l].user_id==6314823)H.splice(l,1);this.Zw()};j_.prototype.Zw=function(w){if(this.tG==null||this.hk==null||this.agA==null)return;
if(this.hk.x<=0)return;var n=this.tG.x,H=this.tG.y;if(Math.min(n,H)<50)return;if(w!=!0){this.yq=[];s.Of(this.hX);
this.hX.scrollTop=0}if(this.yq.length>300)return;var y=Math.min(1,300/Math.max(n,H)),c=this.hk.clone();
c.x-=20;var Q=Math.max(1,Math.floor(c.x/(n*y))),q=Math.max(1,Math.ceil(c.y/(H*y)));y=c.x/Q/n;var S=Q*q;
if(this.EU==null){var A=this.agA.KF.Uc(),V=[];for(var e in A){var d=A[e],N=d[3];if(!this.Ql.rb(d))continue;
if(d[5]==null||d[5].slice(0,2)=="gf")continue;V.push(d)}if(V.length==0)V.push(A.DejaVuSans);var b=V.length;
for(var l=0;l<b*10;l++){var z=Math.floor(Math.random()*b),v=Math.floor(Math.random()*b),T=V[z];V[z]=V[v];
V[v]=T}V=V.slice(0,10);this.EU=V}var Y=this._n.o(),g=this.BE.o().trim();this.BE.rD(Y);if(Y&&(this.Rg==null||g!=this.apz)){var R=new XMLHttpRequest,h="https://pixabay.com/api/?image_type=photo"+(g==""?"":"&q="+encodeURIComponent(g))+"&per_page=200&page=1&key=10554583-a5eacb61c2e61105fdfb6eb88&safesearch=true";
if(g=="")h="plugins/gallery.json";R.open("GET",h,!0);R.onload=this.aov.bind(this);R.onerror=function(X){console.log(X.target.response)};
R.send();this.apz=g;return}y*=(n*y-5)/(n*y);var E=this.yq.length;for(var l=0;l<S;l++){var G=this.Qk=E+l;
if(this.jl[G]==null)this.jl[G]=Math.floor(Math.random()*4294967295);var k=this.Ao(Math.round(n*y),Math.round(H*y)),$=k[0];
$=j.NR(new Uint8Array($));var p=s.t("span");p.innerHTML=$;this.yq.push(p);this.hX.appendChild(p);p.addEventListener("click",this.agv,!1)}};
j_.prototype.Ao=function(w,n,H){var y=this._n.o(),c=this.aoI.o(),Q=y&&this.Rg.length!=0?this.Rg:null;
if(c&&!y)Q=null;if(c&&y&&(this.Qk&1)==0)Q=null;return hW.yj(w,n,this.jl[this.Qk],this.EU,H?H:Q)};function fX(){bU.call(this);
this.n=s.t("div");this.dU=null;this.alq=null;this.sG=-1;this.Iu={JPG:[{YK:new b9([12,52,0],0,100,"%",null,null,!0),fY:70},{YK:new jH("attach metadata"),fY:!1}],TIFF:[{YK:new jH("attach metadata"),fY:!1}],WEBP:[{YK:new b9([12,52,0],0,100,"%",null,null,!0),fY:70}],GIF:[{YK:new b9([12,52,0],0,100,"%",null,null,!0),fY:100},{YK:new jH([12,23,3]),fY:!1}],PNG:[{YK:new b9([12,52,0],0,100,"%",null,null,!0),fY:100},{YK:new jH("don't use palettes"),fY:!1}],PDF:[{YK:new f0([12,52,1]),fY:""},{YK:new b9([12,52,0],0,100,"%",null,null,!0),fY:100},{YK:new jH("reverse pages"),fY:!1},{YK:new jH("rasterize all"),fY:!1},{YK:new jH("vectorize text"),fY:!1},{YK:new b9("Add Margin",0,5,"in",2),fY:0}],EMF:[{YK:new f0([12,52,1]),fY:""},{YK:new b9([12,52,0],0,100,"%",null,null,!0),fY:100},{YK:new jH("reverse pages"),fY:!1},{YK:new jH("rasterize all"),fY:!1},{YK:new jH("vectorize text"),fY:!1},{YK:new b9("Add Margin",0,5,"in",2),fY:0}],SVG:[{YK:new jH("add raster graphics"),fY:!0},{YK:new jH("add hidden layers"),fY:!1},{YK:new jH("vectorize text"),fY:!1},{YK:new jH("rasterize text"),fY:!1},{YK:new jH("minify"),fY:!1}],RAW:[{YK:new iY([12,72],["1","3","4"]),fY:2},{YK:new iY([12,34],["8 Bits","16 Bits"]),fY:0},{YK:new iY("Byte Order",["12-34","34-12"]),fY:0}],DDS:[{YK:new dw("Compression",["8x | BC1","4x | BC3","4x | BC7","None"]),fY:0},{YK:new jH("Add Mipmaps"),fY:!0}],anim:[{YK:new b9("Speed",10,800,"%",null,!0,!0),fY:100},{YK:new kc("Repeat (0 = Forever)",0,10," \xD7",0,!1,!0),fY:0},{YK:new jH("reverse frames"),fY:!1},{YK:new jH("boomerang"),fY:!1}],slcs:[{YK:new jH([8,11,0]),fY:!0}],artb:[{YK:new jH([1,16,1]),fY:!0}],hicc:[{YK:new jH("convert to sRGB"),fY:!0}]};
for(var w in this.Iu){var n=this.Iu[w];for(var l=0;l<n.length;l++){n[l].YK.$(n[l].fY);n[l].YK.h(M.E.A,this.xg,this)}}}fX.prototype=new bU;
fX.prototype.apS=function(){this.sG=-1};fX.prototype.f=function(){for(var w in this.Iu)for(var l=0;l<this.Iu[w].length;
l++)this.Iu[w][l].YK.f()};fX.prototype.xg=function(){this.Zw();this.S(new aL(M.E.A,!1))};fX.prototype.Zw=function(){var w=this.dU,n=w[0],H=w[1],y=w[2],c=w[3],Q=w[4],q=this.Iu[n];
if(q==null)q=[];else q=q.slice(0);if(H)q=q.concat(this.Iu.anim);if(["GIF","PNG","JPG"].indexOf(n)!=-1&&y)q=q.concat(this.Iu.slcs);
else if(["GIF","PNG","JPG"].indexOf(n)!=-1&&c)q=q.concat(this.Iu.artb);if(Q)q=q.concat(this.Iu.hicc);
var S=w.join(",");if(S!=this.sG){this.sG=S;s.Of(this.n);for(var l=0;l<q.length;l++){if(n=="PDF"&&!c&&(l==0||l==2))continue;
this.n.appendChild(q[l].YK.n);s.yD(this.n)}}var A=this.alq=[];for(var l=0;l<q.length;l++)A.push(q[l].YK.o())};
fX.prototype.$f=function(w,n,H,y,c){this.dU=[w,n,H,y,c];this.Zw()};fX.prototype.o=function(){return this.alq.slice(0)};
fX.prototype.$=function(w,n){var H=this.dU,y=H[0],c=this.Iu[y],Q=Math.min(c.length,w.length);for(var l=0;
l<Q;l++)c[l].YK.$(w[l]);this.Zw();if(n!=!0)this.xg()};function bp(){bU.call(this);this.n=s.t("span","fitem");
this.o3=!1;this.aC=new eO("No",!1,"Cancel");this.JB=new eO("Yes",!1,"Confirm");this.n.appendChild(this.aC.n);
this.n.appendChild(this.JB.n);this.aC.h("click",this.sk,this);this.JB.h("click",this.sk,this);this.f()}bp.prototype=new bU;
bp.prototype.f=function(){this.aC.TO(s.OE("cross",null,"autoscale"));this.JB.TO(s.OE("checkmark",null,"autoscale"))};
bp.prototype.sk=function(w){this.o3=w.target==this.JB;this.S(new UIEvent("click"))};bp.prototype.o=function(){return this.o3};
function fC(w){bU.call(this);this.n=s.t("span","fitem");this.Et=new eO("\u25BC",null,"Auto Options",!0);
s.am(this.Et.n,this.abq.bind(this));this.n.appendChild(this.Et.n);this.It=new eO("Auto",null,null,!0);
this.It.h("click",this.x1,this);this.n.appendChild(this.It.n);this.r7=new iS("Algorithms",["Enhance Monochromatic Contrast","Enhance Per Channel Contrast","Find Dark & Light Colors","Enhance Brightness And Contrast"],null,null,!0);
this.r7.h(M.E.A,this.x1,this);this.r7.$([!1,!1,!1,!0]);this.dP=new bU;var n=this.dP.n=s.t("div","floatcont form");
n.setAttribute("style","width: 250px;");this.dP.parent=this;n.appendChild(this.r7.n);this.wa=[];for(var l=0;
l<2;l++){var H=new kc((l==0?"Shadows":"Highlights")+" Clip",0,9.99,"%",2,!1,!0);H.$(.1);H.h(M.E.A,this.x1,this);
this.wa.push(H);n.appendChild(H.n)}}fC.prototype=new bU;fC.prototype.x1=function(w){this.S(new aL(M.E.A,!1))};
fC.prototype.f=function(){};fC.prototype.o=function(){return[this.r7.o().indexOf(!0),this.wa[0].o(),this.wa[1].o()]};
fC.prototype.abq=function(w){if(s._Q(this.dP.n))return;w.stopPropagation();var n=this.Et.n.getBoundingClientRect(),H=new aL(M.E.L,!0);
H.data={d:M.c.hf,_0:this.dP,x:n.left,y:n.top+n.height+4};this.S(H)};function k9(){bU.call(this);var w=this.n=s.t("div","fitem");
this.V0=new dw([12,46],[[13,1,8],[13,1,10],[13,1,9],[12,47]]);this.V0.h(M.E.A,this.tw,this);w.appendChild(this.V0.n);
this.L9=new hF(!1);this.L9.parent=this;this.L9._U(16777215);this.L9.h(M.E.A,this.tw,this);w.appendChild(this.L9.n)}k9.prototype=new bU;
k9.prototype.f=function(){this.V0.f();this.L9.f()};k9.prototype.aio=function(w){var n=[w.artboardBackgroundType.v-1];
if(w.Clr)n.push(w.Clr.v);this.$(n)};k9.prototype.a9m=function(){var w=this.o();return{classID:"artboard",Clr:{t:"Objc",v:w[1]},artboardBackgroundType:{t:"long",v:w[0]+1}}};
k9.prototype.$=function(w){this.V0.$(w[0]);if(w[1])this.L9.$(w[1])};k9.prototype.o=function(){return[this.V0.o(),this.L9.o()]};
k9.prototype.tw=function(w){if(w.target==this.L9)this.V0.$(3);this.S(new aL(M.E.A,!1))};function jV(w){bU.call(this);
this.FV=w;this.QK=0;this.ajc=!1;this.q3=w?new jV.zL:null;this.n=s.t("div","flexrow storageset");this.n.style.background="var(--bg-panel)";
this.xn=s.t("div");this.n.appendChild(this.xn);this.Ss=s.t("div");this.n.appendChild(this.Ss);this.Zp=[];
var n=Storage.list.length;if(w)n++;var H=this.Mo.bind(this);for(var l=0;l<n;l++){var y=s.t("div");this.Zp.push(y);
this.xn.appendChild(y);y.addEventListener("click",H,!1)}this.Mo(null,0)}jV.prototype=new bU;jV.jd=[];
jV.Ky=function(w){jV.jd.push(w);w.k9()};jV.K$=function(){var w=jV.jd;w.pop();w[w.length-1].k9()};jV.prototype.k9=function(){console.log(this.QK);
this.Mo(null,this.QK)};jV.prototype.AB=function(w,n){if(!w.C0&&!this.ajc){var H=this.FV?2:1;for(var l=H;
l<this.Zp.length;l++)this.xn.removeChild(this.Zp[l]);this.ajc=!0;if(this.FV)this.q3.AB(w,n)}};jV.prototype.f=function(){if(this.FV)this.q3.f();
if(this.yS)this.yS.f()};jV.prototype.Mo=function(w,n){var H=this.Zp,y;if(n==null)n=H.indexOf(w.currentTarget);
this.QK=n;for(var l=0;l<H.length;l++)s.n_(H[l],"active");s.li(H[n],"active");if(this.FV)n--;s.Of(this.Ss);
if(n==-1)y=this.q3;else y=Storage.a8W(n);this.yS=y;y.parent=this;this.Ss.appendChild(y.n);this.kc(this.pV,this.WZ);
this.f()};jV.prototype.kc=function(w,n){this.pV=w;this.WZ=n;var H=w<850,y=H?50:200,c=Storage.list;if(this.FV)c=[["Home",null,"strg/home"]].concat(c);
for(var l=0;l<c.length;l++){var Q=this.Zp[l],q="padding: 8px "+(H?13:36)+"px; cursor:pointer;";Q.setAttribute("style",q);
Q.innerHTML="<img style=\"margin:0 10px -6px 0; width:22px;\" class=\"gsicon\" src=\""+PIMG[c[l][2]]+"\" /> "+(H?"":c[l][0])}this.n.style.width=w+"px";
this.n.style.height=n+"px";this.xn.style.width=y+"px";this.xn.style.paddingTop="32px";if(this.yS)this.yS.kc(w-y,n)};
jV.zL=function(){var w=this.n=s.t("div");w.style.background="var(--bg-canvas)";var n=this.Y_=s.t("div");
w.appendChild(n);var H=s.t("style");w.appendChild(H);H.textContent=" .bhover       { transition: background 0.2s ease-in-out;  background:rgba(255,255,255,0   );} "+" .bhover:hover { transition: background 0.2s ease-in-out;  background:rgba(255,255,255,0.05);}";
for(var l=0;l<2;l++){var y=s.t("div"),H="filter: drop-shadow(4px 6px 4px rgba(0,0,0,0.25)); ";n.appendChild(y);
if(l==0)H+="padding: 12px 0px";if(l==1)H+="position:absolute;  bottom:0;";y.setAttribute("style",H);
var c=s.t("img");y.appendChild(c);c.setAttribute("src",PIMG[l==0?"l"+"o"+"g"+"o":"b"+"o"+"t"+"t"+"o"+"m"]);
if(l==0)this.oJ=c;else this.ahe=c;if(l==0)this.aw2=y;else this.ad7=y}this.Zp=[];H="display:inline-block;  font-size:1.25em; border:1px solid #aaa;  border-radius:6px;  margin:20px 0 0 20px;";
var Q=this.PX.bind(this);for(var l=0;l<3;l++){var q=s.t("span","bhover");this.Zp.push(q);q.setAttribute("style",H+"cursor:pointer; padding:12px;");
q.addEventListener("click",Q,!1);n.appendChild(q)}s.yD(n);s.yD(n);var q=s.t("div");q.setAttribute("style",H+"width:min(80%,556px);  padding:60px 0;  text-align:center; opacity:0.3;");
q.textContent="Drop any files here";n.appendChild(q);this.F=s.t("canvas");this.F.setAttribute("style","position:absolute;top:0;pointer-events:none; mix-blend-mode: screen;");
this.NK=this.F.getContext("2d");this.an3=O.R(4);w.appendChild(this.F);var S=new Date().getDate(),A=new Date().getMonth();
if(A==11&&S>20||A==0&&S<10){var V=Math.random()<.5,e={b:255,J:255,k:255};if(!V){e=O.AT(Math.random(),Math.random()*.7,1);
e.b*=255;e.J*=255;e.k*=255}this.iR=[Math.round(1048575*Math.random()),V?.05:.02,Math.round(4+Math.random()*8),1,V?3:15,e,0,!0,V,V?1:.2,3];
this.aiY=V?.1:.2;this.JU=this.oh.bind(this);window.requestAnimationFrame(this.JU)}};jV.zL.prototype=new bU;
jV.zL.prototype.oh=function(){window.requestAnimationFrame(this.JU);if(!s._Q(this.n))return;var w=this.an3,n=this.F,H=this.NK,y=n.width,c=n.height;
this.iR[6]=Date.now()*.001*this.aiY;O.mN.iT(w,y,c,this.iR,!0);H.putImageData(new ImageData(new Uint8ClampedArray(w.buffer),y,c),0,0)};
jV.zL.prototype.PX=function(w){var l=this.Zp.indexOf(w.currentTarget),n=new aL(M.E.L,!0);if(l==0)n.data={d:M.c.rL,Ln:"newproject"};
if(l==1)n.data={d:M.c.hN};if(l==2)n.data={d:M.c.rL,Ln:"res0"};this.S(n)};jV.zL.prototype.f=function(){var w=this.Zp,n=[[11,7],[1,6],["PSD VAR0",[25,0]]],H=["\u2605","\uD83E\uDC7F","\u25A3"];
for(var l=0;l<w.length;l++)w[l].textContent=H[l]+"\u2000"+hV.get(n[l]);var y="l"+"o"+"g"+"o",c=new Date;
if(c.getMonth()==3&&c.getDate()==1)y="lo"+"go_cuc"+"umber";this.oJ.setAttribute("src",PIMG[y]);this.ahe.setAttribute("src",PIMG["b"+"o"+"t"+"t"+"o"+"m"])};
jV.zL.prototype.kc=function(w,n){var H=Math.min(n*1.5,Math.min(w,600));s.pD(this.F,w,H*.26);var y=this.F.width,c=this.F.height;
this.an3=O.R(y*c*4);this.n.style.width=w+"px";this.n.style.height=n+"px";this.ad7.style.width=w+"px";
this.Y_.style.marginLeft=Math.max(0,Math.round((w+200-600)/2)-200)+"px";this.oJ.style.width=H+"px";this.ahe.style.width=H+"px"};
jV.zL.prototype.AB=function(w,n){if(!w.C0)this.Y_.removeChild(this.Zp[2])};function Storage(w){bU.call(this);
var n=this.n=s.t("div","storage");s.iV(n);var H=this.ah8=s.t("style");n.appendChild(H);n.setAttribute("tabindex","0");
n.style.outline="none";n.addEventListener("keydown",this.ads.bind(this),!1);this.gs=this.afX.bind(this);
var y=s.t("div");n.appendChild(y);var c=this.ahH.bind(this);this.ON=s.t("div","bar");y.appendChild(this.ON);
this.CY=s.t("div","fls scrollable");y.appendChild(this.CY);this.uc=s.t("div");y.appendChild(this.uc);
this.uc.setAttribute("style","position:absolute; bottom:0;  background-color:white; padding: 2px 8px 0px 8px;");
this.lc=s.t("div","bar");this.lc.textContent="Name: ";var Q=this.mR=s.t("input");Q.setAttribute("type","text");
this.lc.appendChild(Q);var q=this.$z=s.t("div","btn");q.textContent="Save";this.lc.appendChild(q);s.vM(q,c);
s.am(this.CY,this.gs);this.tK=0;this.iE=w;this.ZM=s.t("div","btn");s.vM(this.ZM,this.akq.bind(this));
this.wY=new az([{name:[6,20]}]);this.wY.parent=this;this.wY.h("select",this.ax7,this);this.CY.addEventListener("contextmenu",this.gs);
this.aqO=s.t("span");this.UY=s.t("span");this.UY.setAttribute("style","position:absolute; right:0; top:5px;");
this.bm=[];this.VH=[];for(var l=0;l<3;l++){var S=s.t("div","btn");this.bm.push(S);this.aqO.appendChild(S);
s.vM(S,c);S.textContent=["\u2B9C","\u2B9E","\uD83E\uDC09"][l]}for(var l=0;l<4;l++){var S=s.t("div","btn");
this.VH.push(S);this.UY.appendChild(S);s.vM(S,c)}window.addEventListener("message",this.ax9.bind(this),!1);
this.asd=!1;setInterval(this.ajD.bind(this),300);this.aa()}Storage.prototype=new bU;Storage.b0=!1;Storage.prototype.ajD=function(){var w=s._Q(this.n),n=this.asd;
if(w&&!n){history.pushState(null,null,location.href);window.onpopstate=function(){history.go(1)}}if(!w&&n){window.onpopstate=function(){};
history.go(-1)}this.asd=w};Storage.prototype.aa=function(){if(this.mV)document.body.removeChild(this.mV);
this.Je=[[]];this.oA=0;this.anv={"/":[]};this.il="";this.Ae=null;this.bt=[];this.V5=[];var w="code/storages/"+Storage.list[this.iE][1],n=this.mV=s.t("iframe");
n.setAttribute("src",w);n.setAttribute("style","display:none");document.body.appendChild(n)};Storage.prototype.Sa=function(){return this.anv[this.Ym()]};
Storage.prototype.Q9=function(w){this.anv[this.Ym()]=w};Storage.a8W=function(l){var w=Storage.JI[l];
if(w==null)w=Storage.JI[l]=new Storage(l);return w};Storage.JI=[];Storage.Dh=0;Storage.akE="";Storage.Bw=function(w,n){Storage.Dh=w;
Storage.akE=n;var H=Storage.JI;for(var l=0;l<H.length;l++)if(H[l])H[l].k9()};Storage.w_=0;Storage.VK=2;
Storage.Td=0;Storage.list=[["This Device","deviceStorage.html","strg/tdevice"],["Google Drive","googledriveStorage.html?mode=0","strg/gdrive"],["Shared Drives","googledriveStorage.html?mode=1","strg/gdrive"],["Private Folder","googledriveStorage.html?mode=3","strg/gdrive"],["OneDrive","onedriveStorage.html","strg/onedrive"],["Dropbox","dropboxStorage.html","strg/dropbox"],["Beta","peadriveStorage.html","strg/dropbox",!0]];
Storage.au1=function(w){for(var l=0;l<Storage.JI.length;l++){if(Storage.JI[l]&&Storage.JI[l].mV.contentWindow==w)return!0}return!1};
Storage.prototype.ads=function(w){if(w.target.tagName=="INPUT")return;var n=b8;if(n.dy(w.code,n.DB)&&this.Ym().length!=0)this.aql();
else if(w.ctrlKey){if(n.dy(w.code,n.c)){var H=[];this.Q9(H);for(var l=0;l<this.Ae.length;l++)H.push(l);
this.cz()}if(n.dy(w.code,n.sO)){}if(n.dy(w.code,n.wQ)){}}else if(n.dy(w.code,n.IO)){var y=this.Sa();
if(y.length!=0)this.ama(y[0])}else if(n.dy(w.code,n.uU)){this.oA=Math.max(this.oA-1,0);this.qd()}else{var c=0;
for(var l=65;l<=90;l++)if(w.code=="Key"+String.fromCharCode(l))c=l;if(c!=0){var Q=String.fromCharCode(c).toLowerCase(),q=[],S=this.Ae,A;
for(var l=0;l<S.length;l++)if(S[l][0][0].toLowerCase()==Q)q.push(l);if(q.length==0)return;var y=this.Sa();
if(y.length==0)A=q[0];else{var V=q.indexOf(y[0]);if(V==-1){A=q[0];for(var l=0;l<q.length;l++)if(q[l]>y[0]){A=q[l];
break}}else A=q[(V+1)%q.length]}this.Q9([A]);this.cz(!0)}}};Storage.prototype.kc=function(w,n){this.pV=w;
this.WZ=n;this.n.style.width=w+"px";this.n.style.height=n+"px";var H=w-30,y=Math.floor(H/230),H=Math.floor(H/y)-70;
this.ah8.textContent=".storage .tile .name {  width:"+H+"px;  }";this.mR.style.width=w-140+"px";this.CY.style.width=this.ON.style.width=w-20+"px";
this.CY.style.height=n-70-(Storage.Dh==0?0:45)+"px"};Storage.prototype.akq=function(){this.qd()};Storage.prototype.qd=function(){this.Og("show",this.Ym())};
Storage.prototype.Ym=function(w){var n=this.Je[this.oA],H="/"+n.join("/");if(w&&n.length!=0)H+="/";return H};
Storage.prototype.ahH=function(w){var n=w.currentTarget,H=this.oA,y=this.bm.indexOf(n),c=this.VH.indexOf(n);
if(y>=0&&!this.aeG(y))return;if(y==0){this.oA=Math.max(H-1,0);this.qd()}if(y==1){this.oA=Math.min(H+1,this.Je.length-1);
this.qd()}if(y==2){var Q=this.Je[H+1]=this.Je[H].slice(0);Q.pop();this.oA++;this.Je=this.Je.slice(0,this.oA+1);
this.qd()}if(c==0){Storage.w_=(Storage.w_+1)%2;this.k9()}if(c==1){Storage.VK=(Storage.VK+1)%3;this.k9()}if(c==2){Storage.Td=(Storage.Td+1)%3;
this.k9()}if(c==3){this.Og("forget","")}if(n==this.$z){var q=this.mR.value.trim(),S=this.Ae,A=-1;if(!q.toLowerCase().endsWith("psd")){alert("File Name has to end with \".psd\".");
return}for(var l=0;l<S.length;l++)if(S[l][0]==q)A=l;if(A!=-1){this.avZ("Do you really want to replace \""+q+"\"?",this.ayl.bind(this))}else this.ayl()}};
Storage.prototype.ayl=function(){var w=this.mR.value.trim(),n=[this.iE,this.Ym(!0)+w];this.lX({d:M.c.a18,SI:n});
this.S(new aL("canclose",!0))};Storage.prototype.ax7=function(w){var n=w.target.uf();if(w.target==this.wY){var H=[hV.get([6,20]),-1,0];
this.Ae.push(H);this.k9();var l=this.Ae.indexOf(H),y=this.bt[l].querySelector(".name");console.log(y);
var c=new eV.wF(y,function(N){this.lX({d:M.c.el,D0:hV.get([1,2])+" ..."});var b=this.Ym(!0)+N+"/";console.log(b);
this.Og("save",b)}.bind(this),!0)}else{if(n[0]==0)this.aql();else if(n[0]==1){var l=this.Sa()[0],Q=this.Ae[l],y=this.bt[l].querySelector(".name");
console.log(y);y.innerHTML=Q[0];var c=new eV.wF(y,function(N){N=N.trim();var b=this.Ae;for(var l=0;l<b.length;
l++)if(b[l][0]==N){alert("Item with such name already exists.");this.k9();return}var z=this.Ym(!0)+Q[0]+":"+N;
console.log(z);this.Og("rename",z)}.bind(this))}else{var q=g6.vC(),S=q.acc.tstart,A=this.Ae[this.Sa()[0]],V=S[n[1]],e=V[2],d=this.nZ().pop()[1];
if(A[4]&&A[4].indexOf(e)!=-1){this.Og("share",d+":"+e+":-1");alert("Unshare!")}else{this.Og("share",d+":"+e+":0");
alert("Sharing!")}}}};Storage.prototype.aql=function(){var w=this.Sa();this.avZ("Do you really want to delete "+(w.length==1?"\""+this.Ae[w[0]][0]+"\"":"these files")+"?",this.DP.bind(this))};
Storage.prototype.avZ=function(w,n){var H={d:M.c.rL,Ln:"confirm",Z:w,ty:n};this.lX(H)};Storage.prototype.DP=function(){this.lX({d:M.c.el,D0:hV.get([5,4])+" ..."});
this.V5=this.nZ();this.ay3()};Storage.prototype.ay3=function(){if(this.V5.length==0){this.lX({d:M.c.yW,D0:hV.get([5,4])+" ..."});
this.Q9([]);this.qd()}else this.Og("delete",this.V5.pop()[1])};Storage.prototype.nZ=function(){var w=[],n=this.Ym(!0),H=this.Sa();
for(var l=0;l<H.length;l++){var y=this.Ae[H[l]];w.push([this.iE,n+y[0]])}return w};Storage.prototype.Og=function(w,n){this.il=w;
if(Storage.b0)console.log(Math.floor(Date.now()/1e3),"{\"code\": \""+w+"\", \"prm\": "+JSON.stringify(n)+"  }");
this.mV.contentWindow.postMessage("{\"code\": \""+w+"\", \"prm\": "+JSON.stringify(n)+"  }","*")};Storage.a8q=[10*(1<<20),10*(1<<20)];
Storage.prototype.ax9=function(w){if(w.source!=this.mV.contentWindow)return;if(typeof w.data=="string"){if(Storage.b0)console.log("==",Math.floor(Date.now()/1e3),w.data);
var n=JSON.parse(w.data),H=n.code,y=n.prm;if(H=="ready"){var c=Storage.list[this.iE][3];if(c&&!y){var Q=g6.gA(),q=g6.vC(),S=q.acc;
if(Q==null||Q.id!=1&&Q.id!=815535){alert("work in progress ...");return}if(Q==null){alert("Log in to use this storage (press Account at the top).");
return}var A=[],V=Q.wantToJoin;for(var e in V)A.push(parseInt(e.slice(1)));var d={uid:Q.id,limit:Storage.a8q[g6.qx()?1:0],inTeams:Q.inTeams,myTeams:A};
d.secret=S&&S.pds?S.pds:"";this.Og("login",d);return}if(c&&n.secret){var q=g6.vC(),S=q.acc;if(S==null)S=q.acc={};
S.pds=n.secret;g6.Af(q)}if(y)this.qd();else{s.Of(this.ON);s.Of(this.CY);this.ON.appendChild(this.ZM)}}else if(H!="0"){if(this.il=="save"&&y.indexOf("limit"!=-1)){this.lX({d:M.c.yW,D0:hV.get([1,2])+" ..."});
this.qd();alert("Storage limit ("+hn.x2(Storage.a8q[g6.qx()?1:0])+") exceeded. Get a Premium account to increase the limit.",3e3)}else{alert(y);
this.k9()}}else if(this.il=="show"){this.Ae=y;this.k9()}else if(this.il=="save"){this.lX({d:M.c.yW,D0:hV.get([1,2])+" ..."});
this.qd()}else if(this.il=="delete"){this.ay3()}else if(this.il=="forget"){this.aa()}else if(this.il=="rename"||this.il=="share"){this.qd()}else throw H}else{if(Storage.b0)console.log(Math.floor(Date.now()/1e3,"==","ArrayBuffer[]"));
this.lX({d:M.c.aj1,SI:this.nZ()[0],G_:w.data});this.lX({d:M.c.yW,D0:"Opening ..."})}};Storage.prototype.aeG=function(l){if(l==0)return this.oA>0;
if(l==1)return this.oA<this.Je.length-1;if(l==2)return this.Ym()!="/"};Storage.prototype.k9=function(){var w=this.Ae,n=Storage.VK,H=Storage.w_,y=Storage.Td;
if(w==null)return;w.sort(function($,p){var X=$[1]==-1?1:5,C=p[1]==-1?1:5,D=0;if(Math.min(X,C)==1&&X!=C)return X-C;
else if(X==1||n==0)D=$[0].toLowerCase()<p[0].toLowerCase()?-1:1;else if(n==1)D=$[1]-p[1];else if(n==2)D=$[2]-p[2];
if(H==1)D=-D;return D});var c=this.CY,Q=this.ON,q=this.Je[this.oA];s.Of(c);s.Of(Q);this.bt=[];for(var l=0;
l<3;l++)if(this.aeG(l))s.n_(this.bm[l],"disabled");else s.li(this.bm[l],"disabled");Q.appendChild(this.aqO);
Q.appendChild(this.UY);var S=s.t("span");S.textContent="/";Q.appendChild(S);for(var l=0;l<q.length;l++){var S=s.t("span");
S.textContent=q[l];Q.appendChild(S);var S=s.t("span");S.textContent="/";Q.appendChild(S)}var A=["tile","icon","litm"][y];
for(var l=0;l<w.length;l++){var V=w[l],e=V[1]==-1,d=e?"":hn.x2(V[1]),N=s.t("div","cont "+A);c.appendChild(N);
this.bt.push(N);N.setAttribute("title",V[0]+(e?"":"\nSize: "+d+"\nDate Modified: "+new Date(V[2]*1e3).toLocaleString().replaceAll(". ",".")));
var b=s.t("img");b.setAttribute("src",e?Storage.awz:V[3]?V[3]:Storage.Gm);if(!e&&V[3])b.setAttribute("style","box-shadow: 1px 1px 2.5px rgba(0,0,0, .4);");
var z=s.t("span","name"),v=V[0];if(A=="icon"&&v.length>30)v=v.slice(0,24)+".."+v.slice(v.length-5);z.textContent=v;
N.appendChild(b);N.appendChild(z);if(A!="icon"&&!e){if(A=="tile")s.yD(z);var T=s.t("span");T.textContent=d;
T.style.opacity="0.8";(A=="tile"?z:N).appendChild(T)}var Y=V[0].split("."),g=(Y.length==1?"":Y.pop()).toUpperCase();
if(A!="litm"&&!e&&V[3]==null){var R=s.t("span","ext");R.textContent=g;var h=Storage.$$[g];R.style.backgroundColor=h?h:Storage.apa(g);
N.appendChild(R)}s.am(N,this.gs);N.addEventListener("contextmenu",this.gs)}this.cz();var E=this.lc.parentNode!=null,G=Storage.Dh,k=this.n;
if(E&&G==0)k.removeChild(this.lc);if(!E&&G==1)k.appendChild(this.lc);this.kc(this.pV,this.WZ);this.f()};
Storage.prototype.cz=function(w){var n=this.bt,H=this.Ae,y=this.Sa(),c=!1,Q=0;for(var l=0;l<n.length;
l++){var q=H[l],S=q[1]==-1,A=n[l];if(Storage.Dh==1&&!S&&!q[0].toLowerCase().endsWith(".psd"))A.style.display="none";
else A.style.display="auto";if(y.indexOf(l)==-1)s.n_(A,"active");else{if(S)c=!0;else Q+=q[1];s.li(A,"active");
if(w)A.scrollIntoView({block:"center",behavior:"smooth"})}}var V=c?"":hn.x2(Q);this.uc.textContent=y.length==0?"":y.length+" item"+(y.length==1?"":"s")+" selected\u2001"+V;
this.mR.value=y.length==1&&!c?H[y[0]][0]:Storage.akE};Storage.prototype.ama=function(l){var w=this.Ae[l];
if(w[1]==-1){var n=this.Je[this.oA].slice(0);n.push(w[0]);this.oA++;this.Je[this.oA]=n;this.Je=this.Je.slice(0,this.oA+1);
this.Q9([]);this.qd()}else if(Storage.Dh==0){this.lX({d:M.c.el,D0:"Opening ..."});this.S(new aL("canclose",!0));
var H=this.Ym(!0)+w[0];this.Og("load",H)}};Storage.prototype.f=function(){var w=Storage.VK,n=Storage.w_,H=Storage.Td;
this.VH[0].textContent=["\uD83E\uDC0B","\uD83E\uDC09"][n];this.VH[1].textContent=hV.get([[12,48],[12,14,0],"Date"][w]);
this.VH[2].textContent=hV.get(["Tiles","Icons",[25,3,1]][H]);this.VH[3].textContent="\u2716";this.ZM.textContent=hV.get([[23,6],Storage.list[this.iE][0]])};
Storage.prototype.afX=function(w){this.lX({d:M.c.my});if(w.button==3||w.button==4){if(Date.now()-this.arE>50){var n=this.oA;
if(w.button==3)this.oA=Math.max(n-1,0);else this.oA=Math.min(n+1,this.Je.length-1);this.qd()}this.arE=Date.now();
return}w.stopPropagation();var l=this.bt.indexOf(w.currentTarget);if(w.type=="contextmenu"){if(this.Ae==null)return;
w.preventDefault();var H=this.wY;if(l!=-1){var y=[{name:[5,4]},{name:[6,37]}];if(Storage.list[this.iE][3]){var c=g6.vC(),Q=c.acc.tstart;
if(Q){var q=this.Ae[l];console.log(q);var S=[];for(var A=0;A<Q.length;A++){var V=Q[A],e=q[4]&&q[4].indexOf(V[2])!=-1;
S.push({name:V[0],C:function(){return{NW:e}}})}y.push({name:"Share With",sub:S})}}H=new az(y);H.parent=this;
H.h("select",this.ax7,this)}H.parent=this;H.f();H.update();this.lX({d:M.c.hf,_0:H,x:w.clientX+4,y:w.clientY});
return}var d=this.Sa(),N=d.indexOf(l);if(w.button!=0&&N!=-1)return;if(w.target==this.CY)this.Q9([]);
else{if(w.ctrlKey){if(N==-1)d.push(l);else d.splice(N,1)}else if(w.shiftKey&&d.length!=0){var A=d[0];
if(A<l){var b=l;l=A;A=b}d=[];this.Q9(d);for(var z=l;z<=A;z++)d.push(z)}else{this.Q9([l]);if(Date.now()-this.tK<300&&d.length!=0&&d[0]==l){this.ama(l);
this.tK=0}}}this.tK=Date.now();this.cz()};Storage.prototype.lX=function(w){var n=new aL(M.E.L,!0);n.data=w;
this.S(n)};Storage.prototype.a3K=function(w,n){this.lX({d:M.c.el,D0:hV.get([1,2])+" ..."});this.Og("save",w);
if(Storage.b0)console.log(Math.floor(Date.now()/1e3),"ArrayBuffer[]");this.mV.contentWindow.postMessage(n,"*")};
Storage.$$={PDF:"#ff2222",PSD:"#005599",PSB:"#005599"};Storage.apa=function(w){w=w.toLowerCase();var n=0;
for(var l=0;l<w.length;l++)n+=w.charCodeAt(l)*613<<8*l;return"#"+O.w9(n&16777215)};Storage.awz="data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjIiIGJhc2VQcm9maWxlPSJ0aW55LXBzIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0ODggNDEwIiB3aWR0aD0iNDg4IiBoZWlnaHQ9IjQxMCI+PHRpdGxlPmZvbGRlci1zdmc8L3RpdGxlPjxzdHlsZT50c3BhbiB7IHdoaXRlLXNwYWNlOnByZSB9LnNocDAgeyBmaWxsOiAjZGJiMDY1IH0gLnNocDEgeyBmaWxsOiAjOTY3YTQ0IH0gLnNocDIgeyBmaWxsOiAjZjVjZTg1IH0gPC9zdHlsZT48cGF0aCBjbGFzcz0ic2hwMCIgZD0iTTcuMiA0MDMuNEw3LjIgNi42TDEzOC45NSA2LjZMMTc3LjM1IDQ1TDQ4MC44IDQ1TDQ4MC44IDQwMy40TDcuMiA0MDMuNFoiIC8+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGFzcz0ic2hwMSIgZD0iTTE0MS42IDAuMkwxODAgMzguNkw0ODcuMiAzOC42TDQ4Ny4yIDQwOS44TDAuOCA0MDkuOEwwLjggMC4yTDE0MS42IDAuMlpNMTMuNiAxM0wxMy42IDM5N0w0NzQuNCAzOTdMNDc0LjQgNTEuNEwxNzQuNyA1MS40TDEzNi4zIDEzTDEzLjYgMTNaIiAvPjxnID48cGF0aCBjbGFzcz0ic2hwMiIgZD0iTTcuMiA0MDMuNEw3LjIgNzAuNkwxNDMuNTMgNzAuNkwxODEuOTMgNDVMNDgwLjggNDVMNDgwLjggNDAzLjRMNy4yIDQwMy40WiIgLz48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsYXNzPSJzaHAxIiBkPSJNNDg3LjIgMzguNkw0ODcuMiA0MDkuOEwwLjggNDA5LjhMMC44IDY0LjJMMTQxLjYgNjQuMkwxODAgMzguNkw0ODcuMiAzOC42Wk0xODMuODggNTEuNEwxNDUuNDggNzdMMTMuNiA3N0wxMy42IDM5N0w0NzQuNCAzOTdMNDc0LjQgNTEuNEwxODMuODggNTEuNFoiIC8+PC9nPjwvc3ZnPg==";
Storage.Gm="data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjIiIGJhc2VQcm9maWxlPSJ0aW55LXBzIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzNDggNDI0IiB3aWR0aD0iMzQ4IiBoZWlnaHQ9IjQyNCI+PHRpdGxlPmZpbGUtc3ZnPC90aXRsZT48c3R5bGU+dHNwYW4geyB3aGl0ZS1zcGFjZTpwcmUgfS5zaHAwIHsgZmlsbDogI2ZmZmZmZiB9IC5zaHAxIHsgZmlsbDogI2M3ZDdlMiB9IC5zaHAyIHsgZmlsbDogIzQ1NGI1NCB9IDwvc3R5bGU+PHBhdGggY2xhc3M9InNocDAiIGQ9Ik0yOTYgNDEyTDUyIDQxMkMzMCA0MTIgMTIgMzk0IDEyIDM3MkwxMiA1MkMxMiAzMCAzMCAxMiA1MiAxMkwyOTYgMTJDMzE4IDEyIDMzNiAzMCAzMzYgNTJMMzM2IDM3MkMzMzYgMzk0IDMxOCA0MTIgMjk2IDQxMloiIC8+PHBhdGggY2xhc3M9InNocDEiIGQ9Ik01MiA1MkwyOTYgNTJMMjk2IDExMkw1MiAxMTJMNTIgNTJaTTI3MiAxOTJMNjggMTkyQzYxLjIgMTkyIDU2IDE4Ni44IDU2IDE4MEM1NiAxNzMuMiA2MS4yIDE2OCA2OCAxNjhMMjcyIDE2OEMyNzguOCAxNjggMjg0IDE3My4yIDI4NCAxODBDMjg0IDE4Ni44IDI3OC44IDE5MiAyNzIgMTkyWk0yNzIgMjUyTDY4IDI1MkM2MS4yIDI1MiA1NiAyNDYuOCA1NiAyNDBDNTYgMjMzLjIgNjEuMiAyMjggNjggMjI4TDI3MiAyMjhDMjc4LjggMjI4IDI4NCAyMzMuMiAyODQgMjQwQzI4NCAyNDYuOCAyNzguOCAyNTIgMjcyIDI1MlpNMTc0IDMxMkw2OCAzMTJDNjEuMiAzMTIgNTYgMzA2LjggNTYgMzAwQzU2IDI5My4yIDYxLjIgMjg4IDY4IDI4OEwxNzQgMjg4QzE4MC44IDI4OCAxODYgMjkzLjIgMTg2IDMwMEMxODYgMzA2LjggMTgwLjggMzEyIDE3NCAzMTJaIiAvPjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xhc3M9InNocDIiIGQ9Ik0yOTYgNDI0TDUyIDQyNEMyMy4yIDQyNCAwIDQwMC44IDAgMzcyTDAgNTJDMCAyMy4yIDIzLjIgMCA1MiAwTDI5NiAwQzMyNC44IDAgMzQ4IDIzLjIgMzQ4IDUyTDM0OCAzNzJDMzQ4IDQwMC44IDMyNC44IDQyNCAyOTYgNDI0Wk01MiAyNEMzNi40IDI0IDI0IDM2LjQgMjQgNTJMMjQgMzcyQzI0IDM4Ny42IDM2LjQgNDAwIDUyIDQwMEwyOTYgNDAwQzMxMS42IDQwMCAzMjQgMzg3LjYgMzI0IDM3MkwzMjQgNTJDMzI0IDM2LjQgMzExLjYgMjQgMjk2IDI0TDUyIDI0WiIgLz48L3N2Zz4=";
function i4(w){bU.call(this);var n=this.n=s.t("div","form scrollable padded label12");this.zU=w;this.xa=null;
var H=[],y=i4.T1[w];this.hO=[];for(var c in y){var Q=parseInt(c.slice(1)),q=Q%10==0?"":"\u2800\u2800- ";
H.push(q+y[c]);this.hO.push(Q)}this.Jo=[new f0("Name",null,30),new f0("Description",null,30,4),w==0?new f0("File"," www.Photopea.com#i...",17):new hd("File",!1,!1),new f0("Thumbnail URL","* Use Imgur.com etc.",17),new dw("Category",H),new jH("Make Public"),new eO("<< Back",null,null,!0),new eO("Save",null,null,!0)];
if(w==0)this.Jo.push(new iD("Publish your PSD: File - Publish Online - PSD. Use that URL as \"File\"."),new iD("Get a Thumbnail URL: File - Publish Online - JPG. At Imgur.com, right-click your image and choose \"Copy Image Address\"."));
if(w==1)this.Jo.push(new iD("\"File\" - select a .JSON file of a plugin from your computer. The content must be: {\"name\": ..., \"url\":..., \"icon\":... }"));
if(w!=0)this.Jo.push(new iD("Do not load any file to preserve the old version."));for(var l=0;l<this.Jo.length;
l++){var S=this.Jo[l];n.appendChild(S.n);S.parent=this;if(l!=4&&l!=6)s.yD(n);if(S instanceof eO)S.h("click",this.afl,this)}}i4.prototype=new bU;
i4.prototype.afl=function(w){if(w.target==this.Jo[6]){this.S(new aL("back"));return}var n=this.Jo[3].o().trim(),H=n.startsWith("http")&&(n.endsWith(".jpeg")||n.endsWith(".jpg")||n.endsWith(".png")||n.endsWith(".gif"));
if(!H){alert("Thumbnail URL is incorrect.");return}var y=new XMLHttpRequest,c="mirror.php?url="+encodeURIComponent(n);
y.open("GET",c);y.responseType="arraybuffer";y.onload=this.afj.bind(this);y.send()};i4.prototype.afj=function(w){var n=w.target.response,H=n.byteLength;
if(H>2e5&&cb.mj(n)!="gif"){alert("Thumbnail is too large ("+hn.x2(H)+"). Make it under 200 kB.");return}var y=this.Jo[2].o(),c=Object.keys(y);
if(this.zU!=0&&c.length!=0){console.log(y);f1.dU.a3g(y[c[0]].buffer,c[0],this.a9X.bind(this),"pp-resources");
return}this.a9X()};i4.prototype.a9X=function(w){var n=this.zU,H="name desc file thmb catg publ".split(" "),y=this.xa;
for(var l=0;l<6;l++){if(n!=0&&l==2)continue;var c=this.Jo[l].o();if(l<=3){c=c.trim();if(c.length==0){alert("One of values is empty.");
return}}if(l==2){var Q=c.split("#i");if(Q.length!=2||Q[1].length!=8){alert("File ID is incorrect.");
return}c=Q.pop()}if(l==4)c=this.hO[c];y[H[l]]=c}if(n!=0){if(w)y.file=w;else if(y.file==null){alert("Select a file from your computer.");
return}}if(y.utme.length==0)y.utme=""+Math.round(Date.now()/1e3);y.type=n;this.S(new aL("save"))};i4.prototype.f=function(){};
i4.prototype.$=function(w){var n=this.xa=JSON.parse(JSON.stringify(w)),H="name desc file thmb catg publ".split(" ");
for(var l=0;l<6;l++){var y=n[H[l]];if(y!=""&&l==2)y="https://photopea.com#i"+y;if(l==4)y=this.hO.indexOf(y);
if(l==5&&y==null)y=!0;this.Jo[l].$(y)}};i4.prototype.o=function(){return JSON.parse(JSON.stringify(this.xa))};
i4.T1=[{c0:"Mockups",c1:"Mobile & Web",c2:"Prints",c3:"Product",c10:"Social Media",c11:"Youtube",c12:"Instagram",c13:"Facebook",c14:"Memes",c15:"Signs",c16:"Animations",c20:"Print",c21:"Cards",c22:"Invitations",c23:"Brochures",c24:"Resumes",c25:"Diploma / Certificate",c30:"Mobile",c40:"Websites",c50:"Presentations",c60:"Other"},{c0:"Resources",c1:"Image Elements",c2:"Fonts",c10:"Effects",c11:"Filters",c12:"Combine Elements",c13:"Text Effects",c20:"Generate Content",c30:"Other Plugins"},{c0:"Default"},{c0:"Default"},{c0:"Default"},{c0:"Default"},{c0:"Default"},{c0:"Default"},{c0:"Default"}];
function kj(w){bU.call(this);this.mH=w;this.n=s.t("div","");this.N3=[];this.qB=null;this.a4M=[]}kj.prototype=new bU;
kj.prototype.Z6=function(w){};kj.prototype.uB=function(){return!1};kj.prototype.kc=function(w,n){};kj.prototype.AB=function(w,n){};
kj.prototype.cZ=function(w){};kj.prototype.$=function(w,n,H,y,c,Q){var q=[],S=this.N3,A=0,V=gT.qe["s"+this.mH];
V?V(w,q,Q):this.SK(w,q,Q);for(var l=0;l<S.length;l++)if(!(S[l]instanceof iD))S[l].$(q[A++]);if(w.RndS)this.qB=w.RndS.v};
kj.prototype.o=function(){var w=gT.B1(this.mH),n=[],H=this.N3,y=0;for(var l=0;l<H.length;l++)if(!(H[l]instanceof iD))n[y++]=H[l].o();
var c=gT.qe["g"+this.mH];c?c(w,n):this.vu(w,n);if(w.RndS)w.RndS.v=this.qB;return w};kj.prototype.QI=function(w){};
kj.prototype.La=function(w){if(w&&w.target instanceof eO){this.qB=Math.floor(Math.random()*4294967295)}var n=this.a4M;
for(var l=0;l<n.length;l+=2){var H=this.N3[n[l]],y=this.N3[n[l+1]],c=H.o(),Q=y.o();if(w.target==H)y.$(Math.max(c,Q));
else H.$(Math.min(c,Q))}this.S(new aL(M.E.A))};kj.prototype.f=function(){for(var l=0;l<this.N3.length;
l++)this.N3[l].f();var w=this.aaq;if(w)w.f()};kj.prototype.Dg=function(w){s.li(this.n,"form");var n=this.N3;
for(var l=0;l<n.length;l++){var H=n[l];H.parent=this;H.h(M.E.A,this.La,this);this.n.appendChild(H.n);
if(H instanceof jH&&n[l+1]instanceof hF)continue;if(w&&w.indexOf(l)!=-1)s.SR(this.n);else s.yD(this.n)}var y=gT.B1(this.mH);
if(y.RndS){var c=this.aaq=new eO([25,1,2],null,null,!0);this.n.appendChild(c.n);c.h("click",this.La,this)}};
kj.prototype.PG=function(){return!1};kj.prototype.mO=function(w,n,H,y,c){};kj.prototype.C9=function(w,n,H,y,c){};
kj.prototype.sh=function(w,n,H,y,c){};kj.prototype.vu=function(w,n){};kj.prototype.SK=function(w,n){};
kj.prototype.dG=function(w){var n=w.target.o().indexOf(!0)!=-1,H=new aL(M.E.L,!0);H.Pg=!0;H.data={d:n?M.c.DY:M.c.po,G:P.yL};
this.S(H);H=new aL(M.E.v,!0);H.G=P.yL;H.Pg=!0;H.data={d:"supertool",G:n?this:null};this.S(H)};kj.aaz=function(w){w.PG=function(){return!0};
w.mO=function(n,H,y,c,Q){this.Lf=!0;this.agg(n,Q)};w.C9=function(n,H,y,c,Q){if(!this.Lf)return;this.agg(n,Q)};
w.sh=function(n,H,y,c,Q){this.Lf=!1};w.agg=function(n,H){var y=new cr(0,0,n.m,n.e);if(n.P)y=n.P.rect;
var c=n.u.Sb(H.x,H.y);c.x-=y.x;c.y-=y.y;function Q(q,S){return Math.round(Math.max(0,Math.min(100,100*q/S)))}this.N3[2].$(Q(c.x,y.m));
this.N3[3].$(Q(c.y,y.e));this.La()}};kj.Bokh=function(){kj.call(this,"Bokh");this.N3=[new dw("Depth Map",["A","b"]),new b9("Focal Distance",0,255),new jH([4,11]),new dw([12,76,1],["Triangle (3)",["VAR0 (4)",[12,93,3]],"Pentagon (5)","Hexagon (6)","Heptagon (7)","Octagon (8)"]),new b9([12,56],0,100),new b9([12,15],0,360),new b9([12,2],0,100),new b9([4,13],0,255),new b9([24,6],0,100),new iY([12,58],[[12,59,0],[12,59,1]]),new jH([12,60])];
this.Dg([5,7])};kj.Bokh.prototype=new kj;kj.Bokh.prototype.SK=function(w,n,H){var y=[[22,5,0],[6,5,3],[6,2]],c=w.BkDi.v.BtDi,Q=w.BkDc,q=0;
if(c=="BeIn")q=0;else if(c=="BeIt"&&Q.v.BtDc=="BeCt")q=1;else if(c=="BeIt"&&Q.v.BtDc=="BeCm")q=2;else q=3+Q.v;
for(var l=0;l<H[1].length;l++)y.push(H[1][l].name);this.N3[0].pe(y,[3]);n[0]=q;n[1]=w.BkDp.v;n[2]=w.BkDs.v;
n[3]=parseInt(w.BkIs.v.BtIs.slice(3))-3;n[4]=w.BkIb.v;n[5]=w.BkIr.v;n[6]=w.BkSb.v;n[7]=w.BkSt.v;n[8]=w.BkNa.v;
n[9]=w.BkNt.v.BtNt=="BeNu"?0:1;n[10]=w.BkNm.v};kj.Bokh.prototype.vu=function(w,n){var H;if(n[0]==0){H="BeIn";
delete w.BkDc}else if(n[0]<3){H="BeIt";w.BkDc={t:"enum",v:{BtDc:["BeCt","BeCm"][n[0]-1]}}}else{H="BeIa";
w.BkDc={t:"long",v:n[0]-3}}w.BkDi.v.BtDi=H;w.BkDp.v=n[1];w.BkDs.v=n[2];w.BkIs.v.BtIs="BeS"+(3+n[3]);
w.BkIb.v=n[4];w.BkIr.v=n[5];w.BkSb.v=n[6];w.BkSt.v=n[7];w.BkNa.v=n[8];w.BkNt.v.BtNt=["BeNu","BeNg"][n[9]];
w.BkNm.v=n[10]};kj.oilPaint=function(){kj.call(this,"oilPaint");this.N3=[new b9([12,56],.1,10,"px",!0),new b9("Cleanliness",0,10,"px",!0),new b9([12,38],.1,10,null,!0),new b9("Bristle Detail",0,10,null,!0),new jH("Lighting"),new b9("Shine",0,10,null,!0),new gl([12,15])];
this.Dg()};kj.oilPaint.prototype=new kj;kj.oilPaint.prototype.SK=function(w,n){var H="stylization cleanliness brushScale microBrush lightingOn specularity".split(" ");
for(var l=0;l<H.length;l++)n[l]=w[H[l]].v;n[6]=[w.LghD.v]};kj.oilPaint.prototype.vu=function(w,n){var H="stylization cleanliness brushScale microBrush lightingOn specularity".split(" ");
for(var l=0;l<H.length;l++)w[H[l]].v=n[l];w.LghD.v=n[6][0]};kj.TrcC=function(){kj.call(this,"TrcC");
this.N3=[new b9("Level",0,255),new iY([12,69],[[19,4,1],[19,4,0]])];this.Dg()};kj.TrcC.prototype=new kj;
kj.TrcC.prototype.SK=function(w,n){n[0]=w.Lvl.v;n[1]=["Lwr","Upr"].indexOf(w.Edg.v.CntE)};kj.TrcC.prototype.vu=function(w,n){w.Lvl.v=n[0];
w.Edg.v.CntE=["Lwr","Upr"][n[1]]};kj["Dfs "]=function(){kj.call(this,"Dfs ");this.N3=[new iY([12,36],[[15,10,0],[15,10,6],[15,10,11],"Anisotropic"])];
this.Dg()};kj["Dfs "].prototype=new kj;kj["Dfs "].prototype.SK=function(w,n){n[0]=["Nrml","DrkO","LghO","anisotropic"].indexOf(w.Md.v.DfsM)};
kj["Dfs "].prototype.vu=function(w,n){w.Md.v.DfsM=["Nrml","DrkO","LghO","anisotropic"][n[0]]};kj.Embs=function(){kj.call(this,"Embs");
this.N3=[new gl([12,15]),new b9([12,42],1,100,"px"),new b9([12,57],1,500,"%")];this.Dg()};kj.Embs.prototype=new kj;
kj.Embs.prototype.SK=function(w,n){n[0]=[w.Angl.v];n[1]=w.Hght.v;n[2]=w.Amnt.v};kj.Embs.prototype.vu=function(w,n){w.Angl.v=n[0][0];
w.Hght.v=n[1];w.Amnt.v=n[2]};kj["Wnd "]=function(){kj.call(this,"Wnd ");this.N3=[new iY([12,32],["Wind","Blast","Stagger"]),new iY([12,33],["From the Right","From the Left"])];
this.Dg()};kj["Wnd "].prototype=new kj;kj["Wnd "].prototype.SK=function(w,n){n[0]=["Wnd","Blst","Stgr"].indexOf(w.WndM.v.WndM);
n[1]=["Left","Rght"].indexOf(w.Drct.v.Drct)};kj["Wnd "].prototype.vu=function(w,n){w.WndM.v.WndM=["Wnd","Blst","Stgr"][n[0]];
w.Drct.v.Drct=["Left","Rght"][n[1]]};kj.denoise=function(){kj.call(this,"denoise");this.N3=[new b9([12,64],0,10),new b9([12,65],0,100,"%")];
this.Dg()};kj.denoise.prototype=new kj;kj.denoise.prototype.SK=function(w,n){var H=w.channelDenoise.v[0].v;
n[0]=H.Amnt.v;n[1]=H.EdgF.v};kj.denoise.prototype.vu=function(w,n){var H=w.channelDenoise.v[0].v;H.Amnt.v=n[0];
H.EdgF.v=n[1]};kj.lightFilterGradient=function(){kj.call(this,"lightFilterGradient");this.N3=[new b9([24,3,1],0,100,"px",1,!0),new b9([12,38],0,200,"%"),new jH([4,11]),new b9("High",0,100,"%"),new b9("Medium",0,100,"%"),new b9("Low",0,100,"%")];
this.Dg()};kj.lightFilterGradient.prototype=new kj;kj.lightFilterGradient.prototype.SK=function(w,n){n[0]=w.blur.v;
n[1]=w.textureScale.v*100;n[2]=w.Scl.v==-1;var H=w.Dtl.v;n[3]=H[0].v*100;n[4]=H[1].v*100;n[5]=H[2].v*100};
kj.lightFilterGradient.prototype.vu=function(w,n){w.blur.v=n[0];w.textureScale.v=n[1]/100;w.Scl.v=n[2]?-1:1;
var H=w.Dtl.v;H[0].v=n[3]/100;H[1].v=n[4]/100;H[2].v=n[5]/100};kj.Fbrs=function(){kj.call(this,"Fbrs");
this.N3=[new b9("Variance",1,64),new b9([12,64],1,64)];this.Dg()};kj.Fbrs.prototype=new kj;kj.Fbrs.prototype.SK=function(w,n){n[0]=w.Vrnc.v;
n[1]=w.Strg.v};kj.Fbrs.prototype.vu=function(w,n){w.Vrnc.v=n[0];w.Strg.v=n[1]};kj.LnsF=function(){kj.call(this,"LnsF");
this.N3=[new b9([12,2],10,300,"%"),new iY([12,44],["Lens 1","Lens 2","Lens 3","Lens 4"]),new b9("Position X",0,100,"%"),new b9("Position Y",0,100,"%")];
this.Dg()};kj.LnsF.prototype=new kj;kj.LnsF.prototype.SK=function(w,n){n[0]=w.Brgh.v;n[1]=["Zm","Nkn","Nkn1","PnVs"].indexOf(w.Lns.v.Lns);
var H=w.FlrC.v;n[2]=Math.round(H.Hrzn.v*100);n[3]=Math.round(H.Vrtc.v*100)};kj.LnsF.prototype.vu=function(w,n){w.Brgh.v=n[0];
w.Lns.v.Lns=["Zm","Nkn","Nkn1","PnVs"][n[1]];var H=w.FlrC.v;H.Hrzn.v=n[2]/100;H.Vrtc.v=n[3]/100};kj.aaz(kj.LnsF.prototype);
kj.blendOptions=function(){kj.call(this,"blendOptions");this.N3.push(new dw([12,19,0],eS.SX,eS.dH));
this.N3.push(new b9([12,0],0,100,"%"));this.Dg()};kj.blendOptions.prototype=new kj;kj.blendOptions.prototype.SK=function(w,n){n[0]=eS.HN.indexOf(w.Md.v.BlnM);
n[1]=w.Opct.v.val};kj.blendOptions.prototype.vu=function(w,n){w.Md.v.BlnM=eS.HN[n[0]];w.Opct.v.val=n[1]};
kj.LnCr=function(){kj.call(this,"LnCr");this.N3=[new b9([12,57],-100,100),new b9([12,38],10,150,"%")];
this.Dg()};kj.LnCr.prototype=new kj;kj.LnCr.prototype.SK=function(w,n){n[0]=w.LnIa.v;n[1]=w.LnSi.v};
kj.LnCr.prototype.vu=function(w,n){w.LnIa.v=n[0];w.LnSi.v=n[1]};kj.adaptCorrect=function(){kj.call(this,"adaptCorrect");
var w=jc;this.N3=[new iD([19,6,0]),new w([12,57],0,100,"%"),new w("Tone",0,100,"%"),new w([12,56],0,200,"px"),new iD([19,6,2]),new w([12,57],0,100,"%"),new w("Tone",0,100,"%"),new w([12,56],0,200,"px"),new iD([3]),new w([13,0],-100,100)];
this.Dg([3,7])};kj.adaptCorrect.prototype=new kj;kj.adaptCorrect.prototype.SK=function(w,n){var H=w.sdwM.v;
n[0]=H.Amnt.v.val;n[1]=H.Wdth.v.val;n[2]=H.Rds.v;var H=w.hglM.v;n[3]=H.Amnt.v.val;n[4]=H.Wdth.v.val;
n[5]=H.Rds.v;n[6]=w.ClrC.v};kj.adaptCorrect.prototype.vu=function(w,n){var H=w.sdwM.v;H.Amnt.v.val=n[0];
H.Wdth.v.val=n[1];H.Rds.v=n[2];var H=w.hglM.v;H.Amnt.v.val=n[3];H.Wdth.v.val=n[4];H.Rds.v=n[5];w.ClrC.v=n[6]};
kj.Flam=function(){kj.call(this,"Flam");var w=this.N3=[new dw([12,44],"One Flame Along Path,Multiple Flames Along Path,Multiple Flames One Direction,Multiple Flames Path Directed,Multiple Flames Various Angle,Candle Light".split(",")),new b9([12,80,0],20,1e3,"px"),new jH("Randomize Length"),new b9([12,41],5,600,"px"),new b9([12,15],0,360,"\xB0"),new b9("Interval",10,200,"px"),new jH("Adapt Interval for Loops"),new hF(!1),new dw([12,52,0],["1: Draft","2: Low","3: Medium","4: High","5: Fine"]),new b9("Turbulent",0,100),new b9("Jag",0,100),new b9([12,0],0,100),new b9("Lines",2,30),new b9("Bottom",0,100),new dw([12,22],["Normal","Violent","Flat"]),new dw([12,76,1],["Parallel","To the center","Spread","Oval","Pointing"]),new jH("Randomize Shape"),new b9("Random Seed",0,100)];
this.Dg();var n=this.n;s.Of(n);var H=new iY(null,["Basic","Advanced"]);H.h(M.E.A,this.ao8,this);n.appendChild(H.n);
s.SR(n);var y=s.t("div"),c=s.t("div");this.awG=[y,c];n.appendChild(y);for(var l=0;l<w.length;l++){(l<9?y:c).appendChild(w[l].n);
if(l==6)s.yD(y)}w[0].h(M.E.A,this.ap5,this);this.ap5()};kj.Flam.prototype=new kj;kj.Flam.prototype.ap5=function(w){var n=this.N3,l=n[0].o();
n[1].rD(l!=0&&l!=5);n[2].rD(l!=0&&l!=5);n[4].rD(l!=0&&l!=5&&l!=1);n[5].rD(l!=0&&l!=5);n[6].rD(l!=0&&l!=5)};
kj.Flam.prototype.ao8=function(w){var l=w.target.o(),n=this.awG,H=this.n;H.removeChild(n[1-l]);H.appendChild(n[l])};
kj.boxblur=function(){kj.call(this,"boxblur");this.N3=[new b9([12,56],1,200," px")];this.Dg()};kj.boxblur.prototype=new kj;
kj.boxblur.prototype.SK=function(w,n){n[0]=w.Rds.v.val};kj.boxblur.prototype.vu=function(w,n){w.Rds.v.val=n[0]};
kj.GsnB=function(){kj.call(this,"GsnB");this.N3=[new b9([12,56],.1,400,"px",1,!0)];this.Dg()};kj.GsnB.prototype=new kj;
kj.Dila=function(){kj.call(this,"Dila");this.N3=[new b9([11,12,1],0,20,"px",0),new b9([12,56],0,400,"px",0,!0)];
this.Dg()};kj.Dila.prototype=new kj;kj.MtnB=function(){kj.call(this,"MtnB");this.N3=[new gl([12,15]),new b9([12,28],1,100," px")];
this.Dg()};kj.MtnB.prototype=new kj;kj.RdlB=function(){kj.call(this,"RdlB");this.N3=[new b9([12,57],1,100),new iY([12,36],["Spin","Zoom"]),new b9("Position X",0,100,"%"),new b9("Position Y",0,100,"%")];
this.Dg()};kj.RdlB.prototype=new kj;kj.RdlB.prototype.SK=function(w,n){n[0]=w.Amnt.v;n[1]=["Spn","Zm"].indexOf(w.BlrM.v.BlrM);
n[2]=w.Cntr.v.Hrzn.v*100;n[3]=w.Cntr.v.Vrtc.v*100};kj.RdlB.prototype.vu=function(w,n){w.Amnt.v=n[0];
w.BlrM.v.BlrM=["Spn","Zm"][n[1]];w.Cntr.v.Hrzn.v=n[2]/100;w.Cntr.v.Vrtc.v=n[3]/100};kj.aaz(kj.RdlB.prototype);
kj.Dspl=function(){kj.call(this,"Dspl");this.N3=[new dw([6,36,3],["a","b"]),new b9([22,4,0],-100,100,"px"),new b9([22,4,1],-100,100,"px"),new dw([24,18,0],[[24,18,3],[24,18,2]])];
this.Dg()};kj.Dspl.prototype=new kj;kj.Dspl.prototype.SK=function(w,n,H){this.a3$=[];this.OK=[];var y=-1,c=H?H[0]:null;
if(c==null)c=this.aby;else this.aby=c;if(c)for(var l=0;l<c.length;l++){var Q=c[l];this.a3$.push(Q.w5.trim());
this.OK.push(Q.h4);if(Q.h4==w.DspF.v.pth)y=l}this.N3[0].pe(this.a3$);n[0]=y==-1?0:y;n[1]=w.HrzS.v;n[2]=w.VrtS.v;
n[3]=["WrpA","RptE"].indexOf(w.UndA.v.UndA)};kj.Dspl.prototype.vu=function(w,n){if(this.OK.length==0)return;
w.DspF.v.pth=this.OK[n[0]];w.HrzS.v=n[1];w.VrtS.v=n[2];w.UndA.v.UndA=["WrpA","RptE"][n[3]]};kj.Pnch=function(){kj.call(this,"Pnch");
this.N3=[new b9([12,57],-100,100,"%")];this.Dg()};kj.Pnch.prototype=new kj;kj["Plr "]=function(){kj.call(this,"Plr ");
this.N3=[new iY(null,["Rect to Polar","Polar to Rect"])];this.Dg()};kj["Plr "].prototype=new kj;kj.Rple=function(){kj.call(this,"Rple");
this.N3=[new b9([12,57],-999,999),new dw([12,14,0],[[19,8,0],[19,8,1],[19,8,2]])];this.Dg()};kj.Rple.prototype=new kj;
kj["Shr "]=function(){kj.call(this,"Shr ");this.N3=[new f7(!0,!0),new dw([24,18,0],[[24,18,3],[24,18,2]])];
this.Dg()};kj["Shr "].prototype=new kj;kj["Shr "].prototype.SK=function(w,n){var H=new b7(0,255/127,255/127,0,-2,128),y=JSON.parse(JSON.stringify(w.ShrP.v));
O.hT.D(y,H);n[0]=y;n[1]=["WrpA","RptE"].indexOf(w.UndA.v.UndA)};kj["Shr "].prototype.vu=function(w,n){var H=new b7(0,255/127,255/127,0,-2,128);
H.G$();O.hT.D(n[0],H);w.ShrP.v=n[0];w.ShrE.v=n[0].length-1;w.UndA.v.UndA=["WrpA","RptE"][n[1]]};kj.Sphr=function(){kj.call(this,"Sphr");
this.N3=[new b9([12,57],-100,100),new dw([12,36],[[15,10,0],[22,4,0],[22,4,1]])];this.Dg()};kj.Sphr.prototype=new kj;
kj.Sphr.prototype.SK=function(w,n){n[0]=w.Amnt.v;n[1]=["Nrml","HrzO","VrtO"].indexOf(w.SphM.v.SphM)};
kj.Sphr.prototype.vu=function(w,n){w.Amnt.v=n[0];w.SphM.v.SphM=["Nrml","HrzO","VrtO"][n[1]]};kj.Dthr=function(){kj.call(this,"Dthr");
this.N3=[new dw("Palette",[[4,7],"RGB 2x2x2","RGB 4x4x4","RGB 8x8x4"]),new iY("Method",["None","Floyd-Steinberg","Bayer 4x4"])];
this.Dg()};kj.Dthr.prototype=new kj;kj.Dthr.prototype.SK=function(w,n){n[0]=w.Plte.v;n[1]=w.Mthd?w.Mthd.v:1};
kj.Dthr.prototype.vu=function(w,n){w.Plte.v=n[0];w.Mthd.v=n[1]};kj.Part=function(){kj.call(this,"Part");
this.N3=[new b9([15,5,1],0,100,"%"),new b9([12,14,0],1,50,"px"),new b9([12,34],0,100,"%"),new b9([12,2],10,1e3,"%"),new hF(!0),new b9("Time",0,1,null,3),new b9("Turbulence",0,100,"%"),new jH("Blink"),new jH("Fall")];
this.Dg([4])};kj.Part.prototype=new kj;kj.Part.prototype.SK=function(w,n){n[0]=w.Cont.v;n[1]=w.Size.v;
n[2]=w.Dpth.v;n[3]=w.Brgh.v;n[4]=w.Clr.v;n[5]=w.Time.v;n[6]=w.Turb.v;n[7]=w.Blnk.v;n[8]=w.Fall.v};kj.Part.prototype.vu=function(w,n){w.Cont.v=n[0];
w.Size.v=n[1];w.Dpth.v=n[2];w.Brgh.v=n[3];w.Clr.v=n[4];w.Time.v=n[5];w.Turb.v=n[6];w.Blnk.v=n[7];w.Fall.v=n[8]};
kj.Twrl=function(){kj.call(this,"Twrl");this.N3=[new b9([12,15],-999,999)];this.Dg()};kj.Twrl.prototype=new kj;
kj.Wave=function(){kj.call(this,"Wave");this.a4M=[1,2,3,4];this.N3=[new b9("Number of Generators",1,100),new jc("Min Length",1,999),new jc("Max Length",1,999),new jc("Min Ampl.",1,999),new jc("Max Ampl.",1,999),new jc("Scale X",1,100,"%"),new jc("Scale Y",1,100,"%"),new iY([12,44],["Sine","Triangle",[12,93,3]]),new dw([24,18,0],[[24,18,3],[24,18,2]])];
this.Dg()};kj.Wave.prototype=new kj;kj.ZgZg=function(){kj.call(this,"ZgZg");this.N3=[new b9([12,57],-100,100),new b9("Ridges",0,20),new dw([12,22],["Around Center","Out From Center","Pond Ripples"])];
this.Dg()};kj.ZgZg.prototype=new kj;kj.surfaceBlur=function(){kj.call(this,"surfaceBlur");this.N3=[new b9([12,56],1,200," px"),new b9([4,13],1,255," px")];
this.Dg()};kj.surfaceBlur.prototype=new kj;kj.surfaceBlur.prototype.SK=function(w,n){n[0]=w.Rds.v.val;
n[1]=w.Thsh.v};kj.surfaceBlur.prototype.vu=function(w,n){w.Rds.v.val=n[0];w.Thsh.v=n[1]};kj.AdNs=function(){kj.call(this,"AdNs");
this.N3=[new b9([12,57],0,200," %"),new dw([12,58],[[12,59,1],[12,59,0]]),new jH([12,60])];this.Dg()};
kj.AdNs.prototype=new kj;kj.DstS=function(){kj.call(this,"DstS");this.N3=[new b9([12,56],1,200," px"),new b9([4,13],1,255," px")];
this.Dg()};kj.DstS.prototype=new kj;kj["Mdn "]=function(){kj.call(this,"Mdn ");this.N3=[new b9([12,56],1,200," px")];
this.Dg()};kj["Mdn "].prototype=new kj;kj["Mdn "].prototype.SK=function(w,n){n[0]=w.Rds.v.val};kj["Mdn "].prototype.vu=function(w,n){w.Rds.v.val=n[0]};
kj.ClrH=function(){kj.call(this,"ClrH");this.N3=[new b9([12,56],4,100," px")];for(var l=1;l<4;l++)this.N3.push(new b9("Angle "+l,0,90," \xB0"));
this.Dg()};kj.ClrH.prototype=new kj;kj.ClrH.prototype.SK=function(w,n){n[0]=w.Rds.v;for(var l=1;l<4;
l++)n[l]=w["Ang"+l].v};kj.ClrH.prototype.vu=function(w,n){w.Rds.v=n[0];for(var l=1;l<4;l++)w["Ang"+l].v=n[l]};
kj.ClrH.prototype.f=function(){var w=this.N3;w[0].f();for(var l=1;l<4;l++)w[l].TO(hV.get([12,15])+" "+l)};
kj.Crst=function(){kj.call(this,"Crst");this.N3=[new b9([12,61],3,100," px")];this.Dg()};kj.Crst.prototype=new kj;
kj.Crst.prototype.SK=function(w,n){n[0]=w.ClSz.v};kj.Crst.prototype.vu=function(w,n){w.ClSz.v=n[0]};
kj.Mztn=function(){kj.call(this,"Mztn");this.N3.push(new dw([12,44],"Fine Dots,Medium Dots,Grainy Dots,Coarse Dots,Short Lines,Medium Lines,Long Lines,Short Strokes,Medium Strokes,Long Strokes".split(","),[4,3,3]));
this.OK="FnDt MdmD GrnD CrsD ShrL MdmL LngL ShSt MdmS LngS".split(" ");this.Dg()};kj.Mztn.prototype=new kj;
kj.Mztn.prototype.SK=function(w,n){n[0]=this.OK.indexOf(w.MztT.v.MztT)};kj.Mztn.prototype.vu=function(w,n){w.MztT.v.MztT=this.OK[n[0]]};
kj["Msc "]=function(){kj.call(this,"Msc ");this.N3=[new b9([12,61],2,200," px")];this.Dg()};kj["Msc "].prototype=new kj;
kj["Msc "].prototype.SK=function(w,n){n[0]=w.ClSz.v.val};kj["Msc "].prototype.vu=function(w,n){w.ClSz.v.val=n[0]};
kj.Pntl=function(){kj.call(this,"Pntl");this.N3=[new b9([12,61],3,100," px")];this.Dg()};kj.Pntl.prototype=new kj;
kj.Pntl.prototype.SK=function(w,n){n[0]=w.ClSz.v};kj.Pntl.prototype.vu=function(w,n){w.ClSz.v=n[0]};
kj.smartSharpen=function(){kj.call(this,"smartSharpen");this.N3=[new b9([12,57],1,200,"%"),new b9([12,56],0,200,"px",1,!0)];
this.Dg()};kj.smartSharpen.prototype=new kj;kj.smartSharpen.prototype.SK=function(w,n){n[0]=w.Amnt?w.Amnt.v.val:200;
n[1]=w.Rds?w.Rds.v.val:1};kj.smartSharpen.prototype.vu=function(w,n){w.Amnt.v.val=n[0];w.Rds.v.val=n[1]};
kj.UnsM=function(){kj.call(this,"UnsM");this.N3=[new b9([12,57],1,200," %"),new b9([12,56],.1,400,"px",1,!0),new b9([4,13],0,255," ")];
this.Dg()};kj.UnsM.prototype=new kj;kj.HghP=function(){kj.call(this,"HghP");this.N3=[new b9([12,56],.1,400,"px",1,!0)];
this.Dg()};kj.HghP.prototype=new kj;kj.HsbP=function(){kj.call(this,"HsbP");this.N3=[new iY("Input",["RGB","HSB","HSL"]),new iY("Output",["RGB","HSB","HSL"])];
this.Dg()};kj.HsbP.prototype=new kj;kj["Mxm "]=function(){kj.call(this,"Mxm ");this.N3=[new b9([12,56],.1,200," px",1,!0),new dw([12,76,1],[[12,93,3],"Circle"])];
this.Dg()};kj["Mxm "].prototype=new kj;kj["Mnm "]=function(){kj.call(this,"Mnm ");this.N3=[new b9([12,56],.1,200," px",1,!0),new dw([12,76,1],[[12,93,3],"Circle"])];
this.Dg()};kj["Mnm "].prototype=new kj;kj.Ofst=function(){kj.call(this,"Ofst");this.N3=[new b9([22,4,0],-1024,1024," px"),new b9([22,4,1],-1024,1024," px"),new dw([24,18,0],[[24,18,2],[24,18,1],[24,18,3]])];
this.Dg()};kj.Ofst.prototype=new kj;kj.Kale=function(){kj.call(this,"Kale");this.N3=[new jc("Mirrors",2,20),new jc([12,15],0,360,"\xB0")];
this.Dg()};kj.Kale.prototype=new kj;kj.Kale.prototype.SK=function(w,n){n[0]=w.Mirr.v;n[1]=w.MRot.v};
kj.Kale.prototype.vu=function(w,n){w.Mirr.v=n[0];w.MRot.v=n[1]};kj.Rept=function(){kj.call(this,"Rept");
this.N3=[new jc([12,38],1,300," %"),new jc("Row Shift",-50,50," %"),new jc("Space X",-99,200," %"),new jc("Space Y",-99,200," %"),new jH([4,16,2]),new gl([12,15])];
this.Dg()};kj.Rept.prototype=new kj;kj.Rept.prototype.SK=function(w,n){n[0]=w.Scl.v.val;n[1]=w.Rsft.v.val;
n[2]=w.SpcX.v.val;n[3]=w.SpcY.v.val;n[4]=w.SpcC.v;n[5]=[w.Angl.v]};kj.Rept.prototype.vu=function(w,n){w.Scl.v.val=n[0];
w.Rsft.v.val=n[1];w.SpcX.v.val=n[2];w.SpcY.v.val=n[3];w.SpcC.v=n[4];w.Angl.v=n[5][0];return w};kj.Ctoa=function(){kj.call(this,"Ctoa");
this.N3=[new iD([13,0]),new hF(!0),new b9(["VAR0 VAR1","Transparency",[4,13]],0,100," %"),new b9(["VAR0 VAR1",[12,0],[4,13]],0,100," %")];
this.Dg()};kj.Ctoa.prototype=new kj;kj.Ctoa.prototype.SK=function(w,n){n[0]=w.Clr.v;n[1]=w.Trsp.v.val;
n[2]=w.Opct.v.val};kj.Ctoa.prototype.vu=function(w,n){w.Clr.v=n[0];w.Trsp.v.val=n[1];w.Opct.v.val=n[2]};
kj.LqFy=function(){kj.call(this,"LqFy");this.Ht=!1;this.OM=!1;this.Zr=null;this.a62=null;this.G=0;this.sA=-1;
this.a={VA:[[{G:{id:0,name:[24,1,0,1,0],Ux:"liq/smudge"}}],[{G:{id:1,name:[24,1,0,1,1],Ux:"liq/reconstruct"}}],[{G:{id:2,name:[24,1,0,1,2],Ux:"liq/smooth"}}],[{G:{id:3,name:[24,1,0,1,3],Ux:"liq/twirl"}}],[{G:{id:4,name:[24,1,0,1,4],Ux:"liq/shrink"}}],[{G:{id:5,name:[24,1,0,1,5],Ux:"liq/blow"}}],[{G:{id:6,name:[24,1,0,1,6],Ux:"liq/pleft"}}],[{G:{id:7,name:"Hand",Ux:"tools/hand"}}],[{G:{id:8,name:"Zoom In",Ux:"zoomIn"}}],[{G:{id:9,name:"Zoom Out",Ux:"zoomOut"}}]],keys:[]};
this.xS=new aE(this.a,!1);this.xS.xO(0);this.xS.h(M.E.L,this.aml,this);this.fo=iG.Pn();this.KT=null;
this.jv=[];this.ym=-1;this.FU=null;this.av0=null;this.UO=null;this.Z$=null;this.pK=null;var w=s.t("div","flexrow");
this.gp=w;this.n.appendChild(w);w.appendChild(this.xS.n);this.view=new dQ(!0);this.view.kc(100,100);
this.view.h("mousedown",this.A9,this);this.view.h("mousemove",this.jf,this);this.view.h("mouseup",this.Cw,this);
this.view.h("zoom",this.ZY,this);w.appendChild(this.view.n);var n=s.t("div","form");w.appendChild(n);
this.$M=n;n.style.width="230px";this.U3=[new b9([12,14,0],0,1e3,null,!1,!0),new b9([12,74],0,100,null,!1,!1),new b9([12,84],0,100,null,!1,!1),new jH([12,46]),new b9([12,0],0,100,null,!1,!1),new jH([24,18,5])];
var H=this.fo.Brsh.v;H.Dmtr.v.val=100;var y=[100,50,100,!1,100,!0];for(var l=0;l<this.U3.length;l++){var c=this.U3[l];
c.$(y[l]);if(l==4)c.j7();c.h(M.E.A,this.a84,this);n.appendChild(c.n)}var Q=this.azc=new eO([1,12,2],!0,null,!0);
Q.h("click",this.c_,this);n.appendChild(Q.n);this.a3o=this.wu.bind(this);this.ts=new bU;this.ts.n=s.t("div","floatcont");
this.TD=new eO("Menu",!1,null,!0);var q=this.TD.n;q.setAttribute("style","position:absolute; right:13px; top:47px");
s.am(q,this.a1X.bind(this))};kj.LqFy.prototype=new kj;kj.LqFy.prototype.uB=function(){return!0};kj.LqFy.prototype.Z6=function(w){this.$M.appendChild(w)};
kj.LqFy.prototype.a1X=function(w){if(s._Q(this.ts.n))return;w.stopPropagation();var n=this.TD.n.getBoundingClientRect();
this.ts.n.appendChild(this.$M);var H=new aL(M.E.L,!0);H.data={d:M.c.hf,_0:this.ts,x:n.right+n.width-290,y:n.top+n.height};
this.S(H)};kj.LqFy.prototype.QI=function(w){this.Ht=w.l(b8.FO);var n=P.sT.Zc(this.fo,w);if(n!=null){this.fo=n;
this.ZY();this.U3[0].$(n.Brsh.v.Dmtr.v.val)}else if(w.l(b8.NX)&&w.l(b8.gH)){var H=this.jv;if(w.l(b8.fx)){if(this.ym+1<H.length)this.ym++}else if(this.ym>0)this.ym--;
this.KT.map=H[this.ym].slice(0);this.k9(null)}else if(this.G<=6)this.view.QI(w);var y=this.G,c=-1,Q=w.l(b8.FO);
if(Q&&this.sA==-1){if(y==0)c=1;if(y==4)c=5;if(y==5)c=4;if(c!=-1)this.sA=y}if(!Q&&this.sA!=-1){c=this.sA;
this.sA=-1}if(c!=-1){this.G=c;this.xS.xO(this.G)}};kj.LqFy.prototype.aml=function(w){if(w.data.d==M.c.DY){var n=this.G=w.data.G;
this.xS.xO(this.G);this.view.QI(n>6?dQ.agV(n-7):new b8)}};kj.LqFy.prototype.a84=function(w){var n=w.currentTarget,l=this.U3.indexOf(n),H=this.fo.Brsh.v;
if(l==0){H.Dmtr.v.val=n.o();this.ZY()}this.U3[4].rD(this.U3[3].o());if(l>2)this.k9(null)};kj.LqFy.prototype.HE=function(){var w=this.jv;
this.ym++;w[this.ym]=this.KT.map.slice(0);while(w.length>this.ym+1)w.pop();while(w.length>50){w=w.slice(1);
this.ym--}};kj.LqFy.prototype.A9=function(w){this.Zr=this.view.ZG();this.a62=new ce(0,0);this.OM=!0;
window.requestAnimationFrame(this.a3o)};kj.LqFy.prototype.jf=function(w){var n=this.view.ZG(),H=new ce(n.x-this.Zr.x,n.y-this.Zr.y);
if(this.G==0||this.G==6)this.apT(H);this.Zr=n};kj.LqFy.prototype.Cw=function(w){this.HE();this.OM=!1};
kj.LqFy.prototype.wu=function(w){if(this.G!=0&&this.G!=6)this.apT(new ce(0,0));if(this.OM)window.requestAnimationFrame(this.a3o)};
kj.LqFy.prototype.apT=function(w){var n=this.KT,H=n.pV/this.FU.m,y=this.Zr,c=this.fo.Brsh.v,Q=c.Dmtr.v.val,q=Date.now(),S=n.pV,A=n.WZ,V=Math.sqrt(w.x*w.x+w.y*w.y),e=Math.max(1,Math.ceil(V/2)),d=w.x/e,N=w.y/e,b=y.clone(),z=this.G,v=this.U3[1].o()/100,T=this.U3[2].o()/100,Y=[.005,.015,0,0,.2,.2,.01,.01,.05,.35,.1,.1,.005,.015],g=Y[z*2],R=Y[z*2+1],h=(1-v)*g+v*R,E=Q*H/2;
for(var l=0;l<e;l++){var G=[];b.x+=d;b.y+=N;O.Or.ahJ(n.map,S,A,z,b.x*H,b.y*H,E,v,T,d*H,N*H,G,this.Ht);
O.Or.azZ(S,A,n.map,G,2*h*T)}var k=new cr(0,0,S,A),$=new cr(y.x*H,y.y*H,0,0);$.i_(Q*H*.5,Q*H*.5);var p=$.clone();
p.offset(w.x*H,w.y*H);$=$.ld(p);var X=new cr($.x/H,$.y/H,$.m/H,$.e/H);X=O.p.sb(X).Fa(this.FU);this.U3[5].$(!0);
this.k9(X)};kj.LqFy.prototype.ZY=function(){var w=cn.ja(this.fo,null,this.view.$a().N);this.view.ic(w)};
kj.LqFy.prototype.$=function(w,n,H,y,c){H=H.clone();if(n==null)return;if(!y.Hw(H)){var Q=H.ld(y),q=O.R(Q.O()*4);
O.j1(n,H,q,Q);n=q;H=Q;var S=O.R(Q.O()*4);O.j1(c,y,S,Q);c=S}H.x=H.y=0;this.UO=n;this.av0=c;this.pK=n.slice(0);
this.Z$=n.slice(0);this.FU=H;this.KT=ct.V2(new Uint8Array(w.LqMe.v).buffer);var A=H.m,V=H.e;if(this.KT.pV/A<.22){this.KT={pV:Math.floor(A/4),WZ:Math.floor(V/4)};
this.KT.map=new Float32Array(this.KT.pV*this.KT.WZ*2)}this.jv=[];this.ym=-1;this.HE();this.k9(null);
this.view.j$();this.ZY()};kj.LqFy.prototype.o=function(){var w=gT.B1("LqFy"),n=new Uint8Array(ct.hc(this.KT)),H=[];
for(var l=0;l<n.length;l++)H.push(n[l]);w.LqMe.v=H;return w};kj.LqFy.prototype.kc=function(w,n){this.xS.kc(w,n);
var H=this.TD.n,y=this.$M;this.gp.appendChild(y);this.gp.appendChild(H);if(w>450&&w-n>200){y.style.marginLeft="1em";
this.gp.removeChild(H);this.view.kc(w-238-45,n)}else{y.style.marginLeft="";this.gp.removeChild(y);this.view.kc(w-40,n)}};
kj.LqFy.prototype.f=function(){this.xS.f();this.azc.f();for(var l=0;l<this.U3.length;l++)this.U3[l].f()};
kj.LqFy.prototype.c_=function(){this.KT.map.fill(0);this.HE();this.k9(null)};kj.LqFy.prototype.k9=function(w){var n=this.FU,H=this.UO,y=this.pK,c=this.KT;
if(this.U3[5].o())O.Or.d$(H,this.Z$,n.m,n.e,w,c.map,c.pV,c.WZ,0);else this.Z$.set(H);if(this.U3[3].zr()){O.j1(this.av0,n,y,n,w?w:n);
O.q.SG("norm",this.Z$,n,y,n,w?w:n,this.U3[4].o()/100)}else O.Bq(this.Z$,y);this.view.$([{Zg:n,data:y.buffer}])};
kj.GEfc=function(){kj.call(this,"GEfc");this.ff=0;this.ia=0;this.UO=null;this.pK=null;this.FU=null;this.Uz=null;
this.xa=null;this.Pr=0;var w=s.t("div","flexrow");this.gp=w;this.n.appendChild(w);this.view=new dQ(null);
this.view.kc(100,100);w.appendChild(this.view.n);this.BY="";this.Cv=270;var n=this.Am=s.t("div","form scrollable");
w.appendChild(n);n.setAttribute("style","width:"+this.Cv+"px;");var H=this.UY=s.t("div","form");w.appendChild(H);
H.setAttribute("style","width:230px;  margin:0 10px");this.VY={};for(var y in i2.names){var c=new kj.GEfc.Mk(y);
c.parent=this;this.VY[y]=c;c.h(M.E.A,this.afW,this)}this.uY=!0;this.TD=new eO("Menu",null,null,!0);this.TD.h("click",this.ajM,this);
w.appendChild(this.TD.n);this._T=new eO(">>",null,null,!0);this._T.h("click",this.a5u,this);H.appendChild(this._T.n);
this.Cn=s.t("div");this.Cn.setAttribute("style","margin-bottom:1.5em;  display:inline-block;  width:calc(100% - 40px);");
H.appendChild(this.Cn);this.yn=s.t("div");this.yn.style.minHeight="14em";this.yn.style.marginBottom="1em";
H.appendChild(this.yn);this.DD=s.t("div","lpbody scrollable");this.Wz=s.t("div","lpfoot");H.appendChild(this.DD);
H.appendChild(this.Wz);this.h("click",this.adS,this);this.vS=[];fF.Kd([[5,3],[5,4]],this.vS,this.Wz,this.qq.bind(this))};
kj.GEfc.prototype=new kj;kj.GEfc.prototype.uB=function(){return!0};kj.GEfc.prototype.Z6=function(w){this.Cn.appendChild(w)};
kj.GEfc.prototype.AB=function(w,n){this.Uz=w};kj.GEfc.prototype.a5u=function(w){var n=this.Am.style.display!="none";
this.Am.style.display=n?"none":"";this._T.TO(n?"<<":">>");this.kc()};kj.GEfc.prototype.ajM=function(w){this.uY=!this.uY;
this.kc()};kj.GEfc.prototype.kc=function(w,n){var H=this.Am.style.display!="none";if(w!=null){this.ff=w;
this.ia=n;if(w<1e3&&H||w>=1e3&&!H){this.a5u();H=!H}this.uY=w>600}else{w=this.ff;n=this.ia}var y=this.uY?240+(H?this.Cv+10:0):0;
if(s._Q(this.UY)&&!this.uY){this.gp.removeChild(this.Am);this.gp.removeChild(this.UY)}if(!s._Q(this.UY)&&this.uY){this.gp.appendChild(this.Am);
this.gp.appendChild(this.UY)}this.Am.style.height=n+"px";this.view.kc(w-y,n);this.DD.style.height=n-Math.max(this.yn.getBoundingClientRect().height,186)-96+"px";
this.TD.n.setAttribute("style","position:absolute; top:46px;  right:"+(y+16)+"px")};kj.GEfc.prototype.aqJ=function(){var w=cb.A8.get("img/beach",!0)[0],n=w.Zg,H=this.Am,y=Math.floor(s.V()*(this.Cv-40)/3),c=~~(y*.7),Q=new cr(0,0,y,c),q=O.R(y*c*4),S=q.slice(0),A=Math.round(10*s.V()),V=new ImageData(new Uint8ClampedArray(S.buffer),y,c);
O.j1(new Uint8Array(w.data),n,q,new cr(Math.round((n.m-y)/2),Math.round((n.e-c)/2),y,c));var e=s.t("canvas"),d=e.getContext("2d");
e.width=y;e.height=c+Math.round(A*1.5);d.font=A+"px sans-serif";this.aF={};var N=this.axX.bind(this);
for(var l=0;l<i2.T1.length;l++){var b=i2.T1[l],z=s.t("div");H.appendChild(z);z.setAttribute("style","background-color:rgba(0,0,0,0.2); padding:0px 8px; margin-bottom:8px");
z.textContent=hV.get(b);for(var v in i2.names){var T=i2.names[v];if(T[0]!=l)continue;i2.kS(v,{rect:Q,buffer:q},i2.B1(v),{b:0,J:0,k:0},{b:255,J:255,k:255},{rect:Q,buffer:S},{});
d.fillStyle="black";d.fillRect(0,0,500,500);d.putImageData(V,0,0);var Y=hV.get(T[1]);d.fillStyle="white";
d.fillText(Y,(y-d.measureText(Y).width)/2,c+Math.round(A*1.1));var g=s.t("div");H.appendChild(g);g.setAttribute("style","display:inline-block; cursor:pointer; padding: 5px 5px 0 5px; margin-bottom:5px");
g.addEventListener("click",N,!1);var z=s.t("img");g.appendChild(z);z.setAttribute("src",e.toDataURL());
z.setAttribute("style","width:"+y/s.V()+"px; margin-bottom:0px;");this.aF[v]=g}}};kj.GEfc.prototype.axX=function(w){var n;
for(var H in this.aF)if(this.aF[H]==w.currentTarget)this.BY=H;this.afW()};kj.GEfc.prototype.qq=function(w){var n=fF.Gx(this.vS,w),H=this.xa.GEfs.v,y=H[this.Pr].v;
if(n==0){H.push(JSON.parse(JSON.stringify(H[this.Pr])));this.Pr=H.length-1}else if(H.length>1){H.splice(this.Pr,1);
if(this.Pr==H.length)this.Pr--}this.wk();this.k9()};kj.GEfc.prototype.afW=function(w){var n=this.BY,H;
if(w==null)H=i2.B1(n);else H=this.VY[n].o();this.xa.GEfs.v[this.Pr].v=H;this.wk();this.k9()};kj.GEfc.prototype.$=function(w,n,H,y,c){if(this.aF==null)this.aqJ();
w=this.xa=JSON.parse(JSON.stringify(w));if(w.GEfs==null)w=this.xa={__name:"Filter Gallery",classID:"GEfc",GEfs:{t:"VlLs",v:[{t:"Objc",v:w}]}};
var Q=w.GEfs.v;for(var l=0;l<Q.length;l++)if(Q[l].v.GELv==null)Q[l].v.GELv={t:"bool",v:!0};this.Pr=Q.length-1;
this.wk();H=H.clone();if(n==null)return;if(!y.Hw(H)&&i2.MZ(w).x!=0){var q=H.ld(y),S=O.R(q.O()*4);O.j1(n,H,S,q);
n=S;H=q}H.x=H.y=0;this.UO=n;this.pK=n.slice(0);this.FU=H;this.k9();this.view.j$()};kj.GEfc.prototype.adS=function(w){var n=w.data,l=n.cm,H=this.xa.GEfs.v;
if(n.ES){H[l].v.GELv.v=!H[l].v.GELv.v;this.k9()}else this.Pr=l;this.wk()};kj.GEfc.prototype.wk=function(){var w=this.xa.GEfs.v,n=w[this.Pr].v,H=n.GEfk.v.GEft,y=this.yn;
if(i2.names[H]==null){alert("Unsupported gallery filter");s.Of(y)}else{this.BY=H;for(var c in this.aF)s.n_(this.aF[c],"selected");
s.li(this.aF[H],"selected");var Q=this.VY[H];Q.$(n);if(y.firstChild!=Q.n){s.Of(y);y.appendChild(Q.n)}}var q=[];
for(var l=0;l<w.length;l++){var S=w[l].v,A=i2.names[S.GEfk.v.GEft],V=new a7(l,!0,!0,null,A?A[1]:"Filter",l==this.Pr,S.GELv.v);
V.parent=this;q.push(V.n)}s.Of(this.DD);q.reverse();for(var l=0;l<q.length;l++)this.DD.appendChild(q[l]);
this.kc()};kj.GEfc.prototype.o=function(){return JSON.parse(JSON.stringify(this.xa))};kj.GEfc.prototype.k9=function(w){var n=this.FU,H=this.UO,y=this.pK,c=this.BY,Q=this.xa,q=this.Uz;
function S(A){return{b:A>>>16,J:A>>>8&255,k:A&255}}gT.kS("GEfc",{rect:this.FU,buffer:this.UO},Q,S(q.Ni),S(q.uu),{rect:this.FU,buffer:this.pK},null);
this.view.$([{Zg:n,data:y.buffer}])};kj.GEfc.prototype.f=function(){for(var w in this.VY)this.VY[w].f();
fF.IE(this.vS,["lrs/newlayer","lrs/bin"])};kj.GEfc.Mk=function(w){bU.call(this);this.oj=w;this.n=s.t("div");
this.fW={};var n=i2.B1(w);for(var H in n){var y=null;if(H=="__name"||H=="classID"||H=="GEfk"||H=="GELv"||["FlRs"].indexOf(H)!=-1)continue;
else if(H=="EdgW")y=new b9("Edge Width",1,14);else if(H=="EdgB")y=new b9("Edge Brightness",0,w=="AccE"?50:20);
else if(H=="Smth")y=new b9([19,3,3],1,w=="Stmp"?50:15);else if(H=="ClSz")y=new b9([12,61],3,100);else if(H=="BrdT")y=new b9([7,9],1,20);
else if(H=="HghS")y=new b9([12,64],0,20);else if(H=="HlSz")y=new b9([12,14,0],1,15);else if(H=="Cntr")y=new b9([12,3,0],0,w=="WtrP"?100:50);
else if(H=="Shrp")y=new b9("Sharpness",0,40);else if(H=="SprR")y=new b9("Spray Radius",0,25);else if(H=="LgDr")y=new b9("Light/Dark Balance",0,w=="Stmp"?50:100);
else if(H=="Drkn")y=new b9("Darkness",1,50);else if(H=="Dstr")y=new b9("Distortion",0,20);else if(H=="Scln")y=new b9([12,38],50,200);
else if(H=="Rlf")y=new b9("Relief",0,w=="Ptch"||w=="NtPr"?25:50);else if(H=="ChAm")y=new b9("Thickness",1,7);
else if(H=="Pncl")y=new b9([19,2,5],1,30);else if(H=="StrP")y=new b9("Stroke Pressure",0,15);else if(H=="PprB")y=new b9("Paper Brightness",0,50);
else if(H=="BrsS")y=new b9("Brush Size",0,10);else if(H=="BrsD")y=new b9("Brush Detail",0,10);else if(H=="Txtr")y=new b9([12,67],1,3);
else if(H=="Grn")y=new b9("Grain",0,20);else if(H=="HghA")y=new b9("Highlight Area",0,20);else if(H=="Intn")y=new b9("Intensity",0,10);
else if(H=="Brgh")y=new b9("Glow Brightness",0,w=="WtrP"?100:50);else if(H=="StrS")y=new b9("Stroke Size",1,50);
else if(H=="StDt")y=new b9("Stroke Detail",1,3);else if(H=="Sftn")y=new b9("Softness",0,10);else if(H=="EdgT")y=new b9("Edge Thickness",0,10);
else if(H=="EdgI")y=new b9("Edge Intensity",0,10);else if(H=="Pstr")y=new b9("Posterization",0,6);else if(H=="Dfnt")y=new b9("Definition",0,25);
else if(H=="TxtC")y=new b9("Texture Coverage",0,50);else if(H=="ShdI")y=new b9("Shadow Intensity",0,10);
else if(H=="DrcB")y=new b9("Direction Balance",0,100);else if(H=="Strg")y=new b9([12,64],1,3);else if(H=="Blnc")y=new b9("Balance",0,10);
else if(H=="BlcI")y=new b9("Black Intensity",0,10);else if(H=="WhtI")y=new b9("White Intensity",0,10);
else if(H=="DrkI")y=new b9("Dark Intensity",0,50);else if(H=="LghI")y=new b9("Light Intensity",0,50);
else if(H=="StrW")y=new b9("Stroke Width",3,15);else if(H=="Grns")y=new b9("Graininess",0,w=="NtPr"?20:10);
else if(H=="GlwA")y=new b9("Glow Amount",0,20);else if(H=="ClrA")y=new b9("Clear Amount",0,20);else if(H=="ChrA")y=new b9("Charcoal Area",0,20);
else if(H=="ChlA")y=new b9("Chalk Area",0,20);else if(H=="FrgL")y=new b9("Foreground Level",1,15);else if(H=="BckL")y=new b9("Background Level",1,15);
else if(H=="WhtL")y=new b9("Background Level",0,50);else if(H=="BlcL")y=new b9("Foreground Level",0,50);
else if(H=="ImgB")y=new b9("Image Balance",0,50);else if(H=="Dnst")y=new b9([12,74],0,50);else if(H=="FbrL")y=new b9("Fiber Length",3,50);
else if(H=="CrcS")y=new b9("Crack Sapcing",2,100);else if(H=="CrcD")y=new b9("Crack Depth",0,10);else if(H=="CrcB")y=new b9("Crack Brightness",0,10);
else if(H=="TlSz")y=new b9("Tile Size",2,100);else if(H=="GrtW")y=new b9("Grout Width",1,15);else if(H=="LghG")y=new b9("Lighten Grout",0,10);
else if(H=="SqrS")y=new b9("Square Size",0,10);else if(H=="RplS")y=new b9("Ripple Size",1,15);else if(H=="RplM")y=new b9("Ripple Magnitude",0,20);
else if(H=="NmbL")y=new b9("Number of Levels",2,8);else if(H=="EdgS")y=new b9("Edge Simplicity",0,10);
else if(H=="EdgF")y=new b9("Edge Fidelity",1,3);else if(H=="Sz")y=w=="NGlw"?new b9("Glow Size",-24,24):new b9("Brush Size",1,50);
else if(H=="Dtl")y=w=="Chrc"?new b9("Detail",0,5):new b9("Detail",1,15);else if(H=="StrL")y=w=="InkO"?new b9("Stroke Length",1,50):new b9("Stroke Length",0,20);
else if(H=="TxtT")y=new dw([12,67],"Blocks,Canvas,Frosted,Tiny Lens,Bricks,Burlap,Sandstone".split(","));
else if(H=="BrsT")y=new dw("Brush Type","Simple,Light Rough,Dark Rough,Wide Sharp,Wide Blurry,Sparkle".split(","));
else if(H=="Grnt")y=new dw("Grain Type","Regular Soft Sprinkles Clumped Contrasty Enlarged Stippled Horizontal Vertical Speckle".split(" "));
else if(H=="SDir")y=new dw([12,33],["Right Diagonal","Horizontal","Left Diagonal","Vertical"]);else if(H=="ScrT")y=new dw([12,62],["Circle","Dot",[10,35]]);
else if(H=="LghD"||H=="LghP")y=new dw("Light","Bottom,Bottom Left,Left,Top Left,Top,Top Right,Right,Bottom Right".split(","));
else if(H=="Clr")y=new hF("Glow Color");else if(H=="InvT")y=new jH([4,11]);else console.log(H);y.h(M.E.A,this.x1,this);
y.parent=this;this.fW[H]=y;this.n.appendChild(y.n)}};kj.GEfc.Mk.prototype=new bU;kj.GEfc.Mk.prototype.x1=function(w){this.S(new aL(M.E.A,!1))};
kj.GEfc.alz="Sz Dtl Shrp EdgW EdgB Smth ClSz BrdT HghS HlSz Cntr SprR StrL LgDr Drkn Dstr Scln Rlf ChAm InvT RplS RplM Pncl StrP PprB BrsS BrsD Txtr Grn HghA Intn Brgh Clr StrS StDt Sftn EdgT EdgI Pstr Dfnt TxtC ShdI DrcB Strg Blnc BlcI WhtI DrkI LghI StrW Grns GlwA ClrA ChrA ChlA FrgL BckL WhtL BlcL ImgB Dnst FbrL CrcS CrcD CrcB TlSz GrtW LghG SqrS NmbL EdgS EdgF".split(" ");
kj.GEfc.Mk.prototype.$=function(w){for(var n in this.fW){var H;if(kj.GEfc.alz.indexOf(n)!=-1)H=w[n].v;
else if(n=="TxtT")H=i2.hD.indexOf(w[n].v[n]);else if(n=="BrsT")H=i2.afm.indexOf(w[n].v[n]);else if(n=="LghD")H=i2.SW.indexOf(w[n].v[n]);
else if(n=="LghP")H=i2.TA.indexOf(w[n].v[n]);else if(n=="Grnt")H=i2.R4.indexOf(w[n].v[n]);else if(n=="ScrT")H=i2.xq.indexOf(w[n].v[n]);
else if(n=="SDir")H=i2.Yk.indexOf(w[n].v.StrD);this.fW[n].$(H)}};kj.GEfc.Mk.prototype.o=function(){var w=i2.B1(this.oj);
for(var n in this.fW){var H=this.fW[n].o();if(kj.GEfc.alz.indexOf(n)!=-1)w[n].v=H;else if(n=="TxtT")w[n].v[n]=i2.hD[H];
else if(n=="BrsT")w[n].v[n]=i2.afm[H];else if(n=="LghD")w[n].v[n]=i2.SW[H];else if(n=="LghP")w[n].v[n]=i2.TA[H];
else if(n=="Grnt")w[n].v[n]=i2.R4[H];else if(n=="ScrT")w[n].v[n]=i2.xq[H];else if(n=="SDir")w[n].v.StrD=i2.Yk[H]}return w};
kj.GEfc.Mk.prototype.f=function(){for(var w in this.fW)this.fW[w].f()};kj["Adobe Camera Raw Filter"]=function(w){kj.call(this,"Adobe Camera Raw Filter");
var n=this.n;this.a35=w;this.sE=null;this.Ya=null;this.oJ=null;s.li(n,"flexrow");var H=s.t("div"),y=s.t("div","padded");
n.appendChild(H);n.appendChild(y);this.IM=new dQ;H.appendChild(this.IM.n);this.$W=new fk(225);this.$W.Bw(4);
y.appendChild(this.$W.n);this.NZ=s.t("div");this.NZ.setAttribute("style","width:18em;");y.appendChild(this.NZ);
this.als=new iD("Hi",!0);this.NZ.appendChild(this.als.n);this.xB=s.t("div","scrollable");this.NZ.appendChild(this.xB);
this.fW=[new b9("Temperature",-100,100),new b9("Tint",-100,100),new b9([4,3],-4,4,null,!0),new b9([12,3,0],-100,100),new b9([4,4],-100,100),new b9([12,9],-100,100)];
this.HG="Temp Tint Ex12 Cr12 Vibr Strt".split(" ");for(var l=0;l<this.fW.length;l++){var c=this.fW[l];
c.$(0);c.h(M.E.A,this.k9,this);this.xB.appendChild(c.n);if(l==1||l==3)this.xB.appendChild(s.t("hr"))}};
kj["Adobe Camera Raw Filter"].prototype=new kj;kj["Adobe Camera Raw Filter"].prototype.uB=function(){return!0};
kj["Adobe Camera Raw Filter"].prototype.Z6=function(w){this.NZ.appendChild(w)};kj["Adobe Camera Raw Filter"].prototype.AB=function(w,n){this.$W._U(gd.Fg[w.Eu]["--text-color"])};
kj["Adobe Camera Raw Filter"].prototype.$=function(w,n,H,y,c){this.xa=w;var Q=H.m,q=H.e,S=Q*q;this.als.$(Q+" x "+q+", "+(Q*q/1e6).toFixed(1)+" MPx");
this.FU=H;this.Ya=new Float32Array(Q*q*3);this.oJ=new Uint8Array(Q*q*4);this.oJ.fill(255);if(n instanceof Float32Array)this.sE=n;
else{var A=this.sE=new Float32Array(Q*q*3);for(var l=0;l<S;l++){var V=l*3,e=l*4;A[V+0]=n[e+0]*(1/255);
A[V+1]=n[e+1]*(1/255);A[V+2]=n[e+2]*(1/255)}}var d=this.HG;for(var l=0;l<d.length;l++){var N=d[l];this.fW[l].$(w[N]?w[N].v:0)}this.k9(null,!0)};
kj["Adobe Camera Raw Filter"].prototype.o=function(w){if(w)return this.oJ;return JSON.parse(JSON.stringify(this.xa))};
kj["Adobe Camera Raw Filter"].prototype.apf=function(){this.sE=null;this.Ya=null;this.oJ=null};kj["Adobe Camera Raw Filter"].prototype.k9=function(w,n){var H=this.HG;
for(var l=0;l<H.length;l++){var y=H[l];this.xa[y]={t:y=="Ex12"?"doub":"long",v:this.fW[l].o()}}var c=this.FU,Q=c.O();
iN(this.sE,c.m,c.e,this.Ya,this.xa,this.a35);var q=Date.now(),S=this.Ya,A=this.oJ;for(var l=0;l<Q;l++){var V=l*3,e=l*4;
A[e+0]=~~(.5+S[V+0]*255);A[e+1]=~~(.5+S[V+1]*255);A[e+2]=~~(.5+S[V+2]*255)}console.log(Date.now()-q,"integer conversion");
q=Date.now();var d=O.ao(A,Math.max(1,Math.floor(Q/2e5)));this.$W.$(d);console.log(Date.now()-q,"histogram done");
q=Date.now();this.IM.$([{Zg:c,data:A.buffer}]);if(n)this.IM.j$()};kj["Adobe Camera Raw Filter"].prototype.kc=function(w,n){this.a2U=w-248;
this.aoU=n;this.IM.kc(this.a2U,this.aoU);this.xB.style.height=n-236+"px"};kj["Adobe Camera Raw Filter"].prototype.f=function(){for(var l=0;
l<this.fW.length;l++)this.fW[l].f()};kj.blnc=function(){kj.call(this);var w=this.n;this.o3=null;this.$I=new dw([12,12],[[19,6,0],[19,6,1],[19,6,2]]);
this.$I.h(M.E.A,this.k9,this);w.appendChild(this.$I.n);this.dl=[];for(var l=0;l<3;l++){var n=new b9(["VAR0 - VAR1",fb.aiV[l],fb.LQ[l]],-100,100);
n.h(M.E.A,this.La,this);this.dl.push(n);w.appendChild(n.n)}this.kC=new jH([13,4]);this.kC.h(M.E.A,this.La,this);
w.appendChild(this.kC.n)};kj.blnc.prototype=new kj;kj.blnc.prototype.f=function(){this.$I.f();for(var l=0;
l<3;l++)this.dl[l].f();this.kC.f()};kj.blnc.prototype.$=function(w){this.o3=JSON.parse(JSON.stringify(w));
this.k9()};kj.blnc.prototype.o=function(w){var n=["ShdL","MdtL","HghL"],H=this.o3[n[this.$I.o()]].v;
for(var l=0;l<3;l++)H[l].v=this.dl[l].o();this.o3.PrsL.v=this.kC.o();return JSON.parse(JSON.stringify(this.o3))};
kj.blnc.prototype.k9=function(w){var n=["ShdL","MdtL","HghL"],H=this.o3[n[this.$I.o()]].v;for(var l=0;
l<3;l++)this.dl[l].$(H[l].v);this.kC.$(this.o3.PrsL.v)};kj.brit=function(){kj.call(this,"brit");this.N3.push(new b9([12,2],-150,150,""));
this.N3.push(new b9([12,3,0],-100,100,""));this.N3.push(new jH([12,3,1]));this.Dg()};kj.brit.prototype=new kj;
kj.curv=function(){kj.call(this);this.value=null;this.LN=null;this.Uz=null;var w=this.n;this.rB=new dw("Preset",["basic","advanced"]);
this.rB.h(M.E.A,this.awh,this);w.appendChild(this.rB.n);s.yD(w);this.Cm=new dw([12,4],["RGB",[13,1,1],[13,1,4],[13,1,5]]);
this.Cm.h(M.E.A,this.kZ,this);w.appendChild(this.Cm.n);this.fV=new dw(null,["Spline","Sketch"]);this.fV.h(M.E.A,this.awh,this);
w.appendChild(this.fV.n);this.It=new fC;this.It.parent=this;this.It.h(M.E.A,this.R0,this);w.appendChild(this.It.n);
s.yD(w);this._j=new f7;this._j.h(M.E.A,this.KB,this);w.appendChild(this._j.n);this.Jv=null;this.aqa=0;
this.a8=0;s.yD(w);this.ha=new iS("Sample from image",iY.gZ(["-\u2195","#000000","#888888","#ffffff"]),!0,null,!0);
this.ha.h(M.E.A,this.dG,this);this.ha.n.style.marginRight="0";w.appendChild(this.ha.n)};kj.curv.prototype=new kj;
kj.curv.prototype.AB=function(w,n){if(n==h6.z8||n==h6.FG){var H=w.Aj,y=["Default"];for(var l=0;l<H.length;
l++)y.push(H[l].presetFileName.v);y.push("Custom");this.rB.pe(y,[1,H.length,1]);this.Uz=w}};kj.curv.prototype.kc=function(w,n){this._j.kc(w,n)};
kj.curv.prototype.f=function(){this.Cm.f();this._j.f()};kj.curv.prototype.FW=function(){this.rB.$(this.Uz.Aj.length+1)};
kj.curv.prototype.awh=function(w){if(w.target==this.rB){var n=this.rB.o(),H=this.Uz.Aj,y;if(n==0)y=gT.B1("curv");
else if(n-1<H.length)y=JSON.parse(JSON.stringify(H[n-1]));else return;this.$(y);this.La();return}this.FW();
var c=aC.$k(this.value,0),Q=c.length==256?1:0,q=this.fV.o();if(Q==q)return;var y=gT.B1("curv");if(q==1){var S=[];
for(var l=0;l<256;l++)S.push(l);aC.UN(y,0,S)}this.$(y);this.La()};kj.curv.prototype.KB=function(){this.FW();
aC.UN(this.value,this.Cm.o(),this._j.o());this.La()};kj.curv.prototype.kZ=function(){var w=this.Cm.o(),n=aC.$k(this.value,w),H=n.length==256?1:0;
this.fV.$(H);if(this.LN)this._j.cZ(this.LN[w],this.LN[4]*[1,.33,.33,.33][w],["#ccc","#fcc","#cfc","#ccf"][w]);
this._j.$(n)};kj.curv.prototype.PG=function(){return!0};kj.curv.prototype.mO=function(w,n,H,y,c){var Q=this.value;
this.value=gT.B1("curv");this.La();var q=P.Xd.SS(w,c,1),S=this.Jv=[q>>>16&255,q>>>8&255,q&255];this.aqa=c.y;
var A=this.ha.o().indexOf(!0);if(A==0){var V=(S[0]+S[1]+S[2])/3,e=this.Cm.o(),d=aC.$k(Q,e),N=e==0?V:S[e-1],b=-1;
for(var l=0;l<d.length;l++)if(d[l].v.Hrzn.v==N)b=l;if(b==-1){var z=JSON.parse(JSON.stringify(d[0]));
z.v.Hrzn.v=N;z.v.Vrtc.v=N;d.push(z);d.sort(function(v,T){return v.v.Hrzn.v-T.v.Hrzn.v});aC.UN(Q,e,d);
this.a8=d.indexOf(z)}else this.a8=b}this.$(Q);this.La()};kj.curv.prototype.C9=function(w,n,H,y,c){if(this.Jv==null)return;
if(this.ha.o().indexOf(!0)==0){var Q=this.value,q=this.Cm.o(),S=aC.$k(Q,q),A=S[this.a8];A.v.Vrtc.v=Math.max(0,Math.min(255,Math.round(A.v.Hrzn.v+(this.aqa-c.y))));
aC.UN(Q,q,S);this.$(Q);this.La()}};kj.curv.prototype.sh=function(w,n,H,y,c){var Q=this.value,q=this.Jv,S=(q[0]+q[1]+q[2])/3,A=this.ha.o().indexOf(!0)-1;
if(A<=-1){}else for(var l=0;l<3;l++){var V=aC.$k(Q,1+l);if(A==0)V[0].v.Hrzn.v=q[l];if(A==1){var e=Math.log(q[l]/255)/Math.log(S/255),d=Math.min(999,Math.max(10,Math.round(100*e)));
if(V.length==2)V.splice(1,0,JSON.parse(JSON.stringify(V[0])));V[1].v.Hrzn.v=127-Math.log(d/100)*127;
V[1].v.Vrtc.v=127}if(A==2)V[V.length-1].v.Hrzn.v=q[l];aC.UN(Q,1+l,V)}this.$(Q);this.La();this.FW();this.Jv=null};
kj.curv.prototype.$=function(w){this.value=w;this.kZ()};kj.curv.prototype.cZ=function(w){this.LN=w;this.kZ()};
kj.curv.prototype.o=function(w){return JSON.parse(JSON.stringify(this.value))};kj.curv.prototype.R0=function(){var w=this.It.o(),n=this.LN,H=this.value,y=O.oL(w,n);
for(var l=0;l<4;l++){var c=y[l][0],Q=y[l][1],q=y[l][2],S=[O.hT.UH(c,0,!0),O.hT.UH(Q,255,!0)];if(q!=null)S.splice(1,0,O.hT.UH(128,q,!0));
aC.UN(H,l,S)}this.kZ();this.La()};kj.expA=function(){kj.call(this,"expA");this.N3.push(new b9([12,5],-20,20,null,2,!0));
this.N3.push(new b9([12,6],-.5,.5,null,2));this.N3.push(new b9([12,7],.01,9.99,null,2,!0));this.Dg()};
kj.expA.prototype=new kj;kj.expA.prototype.SK=function(w,n){n[0]=w.Exps.v;n[1]=w.Ofst?w.Ofst.v:0;n[2]=w.gammaCorrection?w.gammaCorrection.v:1};
kj.expA.prototype.vu=function(w,n){w.Exps={t:"doub",v:n[0]};w.Ofst={t:"doub",v:n[1]};w.gammaCorrection={t:"doub",v:n[2]}};
kj.grdm=function(){kj.call(this,"grdm");this.N3.push(new eK(!0,null,!0));this.N3.push(new jH([12,23,0]));
this.Dg()};kj.grdm.prototype=new kj;kj.grdm.prototype.SK=function(w,n){n[0]=w.Grad.v;n[1]=w.Rvrs?w.Rvrs.v:!1};
kj.grdm.prototype.vu=function(w,n){w.Grad.v=n[0];w.Rvrs={t:"bool",v:n[1]}};kj.grdm.prototype.AB=function(w,n){this.N3[0].Tv(w.Ni,w.uu);
if(n==h6.z8||n==h6.Fz||n==h6.Wk)this.N3[0].iq(w.Wr)};kj.selc=function(){kj.call(this);var w=this.n;this.ue=[];
this.pR=null;this.$I=new dw([12,82],fb.mw.concat([[13,1,8],[13,1,13],[13,1,10]]));this.$I.h(M.E.A,this.x1,this);
w.appendChild(this.$I.n);s.yD(w);for(var l=0;l<4;l++){var n=new b9(fb.aiV[l],-100,100,"%");n.h(M.E.A,this.x1,this);
this.ue.push(n);w.appendChild(n.n)}this.RJ=new jH([13,3]);w.appendChild(this.RJ.n);this.RJ.h(M.E.A,this.x1,this)};
kj.selc.prototype=new kj;kj.selc.prototype.f=function(){this.$I.f();this.RJ.f();for(var l=0;l<4;l++)this.ue[l].f()};
kj.selc.prototype.$=function(w){this.pR=JSON.parse(JSON.stringify(w));this.k9()};kj.selc.prototype.o=function(w){return JSON.parse(JSON.stringify(this.pR))};
kj.selc.prototype.x1=function(w){if(w.target!=this.$I){var n=this.pR,H=[];for(var l=0;l<4;l++)H[l]=this.ue[l].o();
hu.UN(n,this.$I.o(),H);n.Mthd={t:"enum",v:{CrcM:this.RJ.o()?"Absl":"Rltv"}}}this.k9();this.La()};kj.selc.prototype.k9=function(){var w=this.pR,n=hu.$k(w,this.$I.o());
for(var l=0;l<4;l++)this.ue[l].$(n[l]);this.RJ.$(w.Mthd?w.Mthd.v.CrcM=="Absl":!1)};kj.blwh=function(){kj.call(this,"blwh");
this.N3.push(new jH([12,11]));this.N3.push(new hF(!0));for(var l=0;l<6;l++)this.N3.push(new b9(fb.mw[l],-200,300));
this.Dg()};kj.blwh.prototype=new kj;kj.blwh.prototype.SK=function(w,n){n[0]=w.useTint.v;n[1]=w.tintColor.v;
var H="Rd Yllw Grn Cyn Bl Mgnt".split(" ");for(var l=0;l<6;l++)n[2+l]=w[H[l]].v};kj.blwh.prototype.vu=function(w,n){w.useTint.v=n[0];
w.tintColor.v=n[1];var H="Rd Yllw Grn Cyn Bl Mgnt".split(" ");for(var l=0;l<6;l++)w[H[l]].v=n[2+l]};
kj.hue2=function(){kj.call(this);this.value=null;this.kK=null;this.a1p=null;this.CP=[[0,0,0],[0,50,0]];
var w=this.n;this.ha=new iS(null,["\u2194"],!0,["Click and drag in image to change saturation"],!0);
this.ha.h(M.E.A,this.auv,this);this.ha.h(M.E.A,this.dG,this);w.appendChild(this.ha.n);var n=this.N3=[new dw([12,12],["Master"].concat(fb.mw)),new b9([12,8],-180,180),new b9([12,9],-100,100),new b9([12,10],-100,100),new jH([12,11])];
for(var l=0;l<n.length;l++){var H=n[l];H.h(M.E.A,l==0?this.kZ:this.aky,this);w.appendChild(H.n)}this.$I=n[0];
this.nK=n[1];this.lu=n[2];this.iD=n[3];this.iN=n[4];this.qX=new iS("Sample Hue",["<img src=\""+PIMG["tools/eyedropper"]+"\" class=\"autoscale gsicon\" />","+","-"],!0,null,!0);
this.qX.h(M.E.A,this.auv,this);this.qX.h(M.E.A,this.dG,this);this.qX.n.style.marginLeft="20px";w.appendChild(this.qX.n);
this.g4=s.t("div");w.appendChild(this.g4);this.XL=this.Zz.bind(this);this.p$=this.SH.bind(this);this.F=s.t("canvas");
this.NK=this.F.getContext("2d");this._o=null;s.g0(this.F);s.pD(this.F,282,18);w.appendChild(this.F);
s.am(this.F,this.IR.bind(this))};kj.hue2.prototype=new kj;kj.hue2.prototype.kc=function(w,n){s.pD(this.F,Math.round(w),18);
if(this.value)this.kZ()};kj.hue2.prototype.auv=function(w){var n=w.target.o().indexOf(!0);if(n==-1)return;
if(w.target==this.ha)this.qX.$([!1,!1,!1]);else this.ha.$([!1,!1,!1])};kj.hue2.prototype.IR=function(w){if(this.$I.o()==0||this.iN.o())return;
var n=s.E4(w,this.F).x/(this.F.width/s.V()),Q=1e6;function H(d,N,b){return d<N&&N<b||b<d&&(d<N||N<b)}var y=this.mK(),c=-1;
for(var l=0;l<4;l++){var q=Math.abs(n-(y[l]+l*1e-5));if(q<Q){Q=q;c=l}}if(Q>.025){c=-1;var S=y[0],A=y[1],V=y[2],e=y[3];
if(H(S,n,A))c=4;if(H(A,n,V))c=5;if(H(V,n,e))c=6}if(c==-1)return;this._o=c;s.I7(document.body,this.XL);
s.vM(document.body,this.p$)};kj.hue2.prototype.Zz=function(w){var n=s.E4(w,this.F).x/(this.F.width/s.V()),H=this.mK(),y=this._o;
for(var l=1;l<4;l++)if(H[l]<H[l-1]){H[l]+=1}if(y<4){var c=1e6,Q=0;for(var l=-20;l<20;l++){var q=Math.abs(H[y]-(n+l));
if(q<c){c=q;Q=l}}n+=Q;H[y]=n;for(var l=y+1;l<4;l++)if(H[l]<H[l-1]){H[l]=H[l-1]}for(var l=y-1;l>=0;l--)if(H[l]>H[l+1]){H[l]=H[l+1]}}else{var S=n-(H[y-4]+H[y-3])/2;
if(S<-.5)S+=1;if(y==4){H[0]+=S;H[1]+=S;H[2]=Math.max(H[1],H[2]);H[3]=Math.max(H[1],H[3])}if(y==5)for(var l=0;
l<4;l++)H[l]+=S;if(y==6){H[2]+=S;H[3]+=S;H[0]=Math.min(H[0],H[2]);H[1]=Math.min(H[1],H[2])}}for(var l=1;
l<4;l++)if(H[l]<H[l-1])throw"e";this.a29(H);this.kZ();this.La()};kj.hue2.prototype.SH=function(w){s.kg(document.body,this.XL);
s.v8(document.body,this.p$)};kj.hue2.prototype.f=function(){for(var l=0;l<this.N3.length;l++)this.N3[l].f()};
kj.hue2.prototype.aky=function(w){var n=this.value.Clrz.v=this.iN.o();if(n)this.$I.$(0);if(w&&w.target==this.iN){var H=n?1:0;
this.CP[1-H]=fm.$k(this.value,0);var y=this.CP[H];fm.UN(this.value,0,y);if(this.$I.o()==0){this.nK.$(y[0]);
this.lu.$(y[1]);this.iD.$(y[2])}}var c=this.$I.o(),Q=fm.$k(this.value,c),y=c==0?Q:Q.dl;y[0]=this.nK.o();
var q=this.lu.o();y[1]=n?Math.max(0,q):q;y[2]=this.iD.o();fm.UN(this.value,c,Q);this.kZ();this.La()};
kj.hue2.prototype.kZ=function(){var w=this.$I.o(),n=this.value.Clrz?this.value.Clrz.v:!1;this.iN.$(n);
this.$I.rD(!n);this.qX.rD(!n&&w!=0);var H=fm.$k(this.value,w),y=w==0?H:H.dl;this.nK.$(y[0]);this.lu.$(y[1]);
this.iD.$(y[2]);var c=this.F.width,Q=this.F.height,q=this.NK;q.clearRect(0,0,c,Q);if(n||w==0){this.g4.innerHTML="";
return}var S=H.cf;this.g4.innerHTML=S[0]+"\xB0 / "+S[1]+"\xB0<span style=\"float:right\">"+S[2]+"\xB0 \\ "+S[3]+"\xB0</span>";
var A=O.R(c*4);cc.ags(A,1,c,-1,.5);var V=new ImageData(new Uint8ClampedArray(A.buffer),c,1),e=Math.round(Q/4);
for(var l=0;l<e;l++)q.putImageData(V,0,l);function d(Y,g,R){q.fillStyle=R;var h=e*2;if(Y<=g)q.fillRect(Y*c,h,(g-Y)*c,e);
else{q.fillRect(0,h,g*c,e);q.fillRect(Y*c,h,(1-Y)*c,e)}}var N=this.mK();d(N[0],N[1],"#888888");d(N[1],N[2],"#cccccc");
d(N[2],N[3],"#888888");q.fillStyle="#ffffff";q.lineWidth=1;q.beginPath();var b=e+.5,z=4*e+.5;for(var l=0;
l<4;l++){var v=Math.floor(c*N[l])+.5,T=(l<2?-1:1)*e*(l==1||l==2?1:2);q.moveTo(v,b);q.lineTo(v,z);q.lineTo(v+T,z);
q.lineTo(v+T,e+e+.5);q.closePath()}q.fill();q.stroke()};kj.hue2.prototype.mK=function(){var w=this.$I.o(),n=fm.$k(this.value,w).cf;
for(var l=0;l<4;l++)n[l]=(1000.5+n[l]/360)%1;return n};kj.hue2.prototype.a29=function(w){var n=this.$I.o(),H=fm.$k(this.value,n);
for(var l=0;l<4;l++)H.cf[l]=Math.round(36e3+(w[l]-.5)*360)%360;fm.UN(this.value,n,H)};kj.hue2.prototype.PG=function(){return!0};
kj.hue2.prototype.afs=function(){var w=this.ha.o().indexOf(!0),n=this.qX.o().indexOf(!0);return w!=-1?w:n!=-1?n+1:-1};
kj.hue2.prototype.mO=function(w,n,H,y,c){var Q=this.afs();if(Q==-1)return;var q=this.value;this.value=gT.B1("hue2");
this.La();var S=P.Xd.SS(w,c,1);this.$(q);var A=[S>>>16&255,S>>>8&255,S&255],V=O.qR(A[0]/255,A[1]/255,A[2]/255);
if(Q==0){this.$I.$(1+Math.round(V.WZ*6)%6)}else{var e=this.mK(),d=.5+V.WZ,N=1/12,b=e[1],z=e[2];if(z<b){z++;
if(d<b&&d+1-z<b-d)d++}var v=b<=d&&d<=z;if(Q==1){b=d-N/2;z=d+N/2}else if(Q==2&&!v){b=Math.min(d,b);z=Math.max(d,z)}else if(Q==3&&v){if(d-b<z-d)b=d;
else z=d}e=[b-N,b,z,z+N];this.a29(e)}this.La();this.kK=c.x;this.a1p=this.lu.o()};kj.hue2.prototype.C9=function(w,n,H,y,c){var Q=this.afs();
if(Q==-1)return;if(Q==0){if(this.kK!=null){var q=c.x-this.kK;q=Math.max(-100,Math.min(100,this.a1p+.5*q));
this.lu.$(q);this.aky()}}};kj.hue2.prototype.sh=function(w,n,H,y,c){this.kK=null};kj.hue2.prototype.$=function(w){this.value=JSON.parse(JSON.stringify(w));
var n=this.value.Clrz?this.value.Clrz.v:!1;this.CP[n?1:0]=fm.$k(this.value,0);this.kZ()};kj.hue2.prototype.o=function(w){return JSON.parse(JSON.stringify(this.value))};
kj.levl=function(){function w(){kj.call(this);this.value=null;this.LN=null;this.q$=[new ce(0,0),new ce(0,0),new ce(0,0),new ce(0,0),new ce(0,0)];
this.ks=-1;this.XL=this.Zz.bind(this);this.p$=this.SH.bind(this);var n=this.n;this.Cm=new dw([12,4],["RGB",[13,1,1],[13,1,4],[13,1,5]]);
this.Cm.h(M.E.A,this.kZ,this);n.appendChild(this.Cm.n);this.It=new fC;this.It.parent=this;this.It.h(M.E.A,this.R0,this);
n.appendChild(this.It.n);var H=s.t("div","");n.appendChild(H);var y=s.t("div","");n.appendChild(y);this.F=s.t("canvas");
H.appendChild(this.F);this.NK=this.F.getContext("2d");this.tZ=new ce(256,120);this.F.setAttribute("style","display:block");
s.g0(this.F);s.am(this.F,this.IR.bind(this));this.AM=s.t("canvas","");y.appendChild(this.AM);this.b3=this.AM.getContext("2d");
this.au=new ce(this.tZ.x,40);this.AM.setAttribute("style","display:block");s.g0(this.AM);s.am(this.AM,this.atl.bind(this));
var c=this.XM=[];for(var l=0;l<5;l++){var Q=new f0(null,null,3);c.push(Q);Q.h(M.E.A,this.aaj,this);(l<2||l==4?H:y).appendChild(Q.n)}H.appendChild(c[1].n);
this.ha=new iS("Sample from image",iY.gZ(["#000000","#888888","#ffffff"]),!0,null,!0);this.ha.h(M.E.A,this.dG,this);
n.appendChild(this.ha.n);this.kc(250,100)}w.prototype=new kj;w.prototype.R0=function(){var n=this.It.o(),H=this.LN,y=this.value,c=O.oL(n,H);
for(var l=0;l<4;l++){var Q=c[l][0],q=c[l][1],S=c[l][2],A=[O.hT.UH(Q,0,!0),O.hT.UH(q,255,!0)];if(S!=null)A.splice(1,0,O.hT.UH(128,S,!0));
var V=[~~Q,~~q,0,255,S==null?100:~~(100+.75*100*(S-128)/128)];i7.UN(y,l,V)}this.kZ();this.La()};w.prototype.kc=function(n,H){n+=6;
this.tZ.x=this.au.x=n;s.pD(this.F,n,this.tZ.y,this.NK);s.pD(this.AM,n,this.au.y,this.b3);var y=this.XM;
y[3].n.setAttribute("style","margin-left: "+(n-104)+"px");y[4].n.setAttribute("style","margin: 0 "+(n/2-74)+"px");
if(this.value)this.kZ()};w.prototype.f=function(){this.Cm.f()};w.prototype.aaj=function(n){var H=[];
for(var l=0;l<5;l++){var y=255,c=1;if(l==4){y=999;c=100}var Q=parseFloat(this.XM[l].o());H[l]=Math.max(0,Math.min(y,Q*c))}i7.UN(this.value,this.Cm.o(),H);
this.kZ();this.La()};w.prototype.kZ=function(n){var H=this.tZ.x,y=this.tZ.y,c=this.Cm.o(),Q=this.NK;
Q.clearRect(0,0,H,y);Q.fillStyle="#cccccc";Q.fillRect(8,8,H-16,y-16-8);if(this.LN){var q=this.LN[0].slice(0),z=0;
if(c==0){q.fill(0);var S=JSON.parse(JSON.stringify(this.value));i7.UN(S,0,[0,255,0,255,100]);var A=fb.QT("levl",S),V=[A.t9,A.K0,A.$X];
for(var e=0;e<3;e++){var d=this.LN[1+e],N=V[e];for(var l=0;l<256;l++)q[N[l]]+=d[l]}}var b=c==0?q:this.LN[c];
for(var l=0;l<b.length;l++)z+=b[l];Q.fillStyle="#333333";Q.beginPath();Q.moveTo(8,y-16);for(var l=0;
l<256;l++){var v=55*b[l]/z;Q.lineTo(8+l/256*(H-16),Math.max(8,y-16-y*v))}Q.lineTo(H-8,y-16);Q.closePath();
Q.fill()}var T=i7.$k(this.value,c);for(var l=0;l<5;l++)this.XM[l].$(T[l]/(l==4?100:1));this.q$[0].HV(8+T[0]/255*(H-16),y-14);
this.q$[1].HV(8+T[1]/255*(H-16),y-14);var Y=Math.log(T[4]/100)/Math.log(9.99);Y=.5-Y/2;this.q$[4].HV(this.q$[0].x+Y*(this.q$[1].x-this.q$[0].x),y-14);
this.sJ(Q,this.q$[0],"#000000");this.sJ(Q,this.q$[1],"#ffffff");this.sJ(Q,this.q$[4],"#777777");var H=this.au.x,y=this.au.y;
Q=this.b3;Q.clearRect(0,0,H,y);var g=Q.createLinearGradient(0,0,H-16,0);g.addColorStop(0,"black");g.addColorStop(1,"white");
Q.fillStyle=g;Q.fillRect(8,8,H-16,16);this.q$[2].HV(8+T[2]/255*(H-16),y-14);this.q$[3].HV(8+T[3]/255*(H-16),y-14);
this.sJ(Q,this.q$[2],"#000000");this.sJ(Q,this.q$[3],"#ffffff")};w.prototype.sJ=function(n,H,y){n.fillStyle=y;
n.fillRect(H.x-5,H.y,10,10)};w.prototype.IR=function(n){var H=s.E4(n,this.F),y=this.a3e([0,1,4],H);if(y!=-1)this.ks=y;
this.a7t()};w.prototype.atl=function(n){var H=s.E4(n,this.AM),y=this.a3e([2,3],H);if(y!=-1)this.ks=y;
this.a7t()};w.prototype.a3e=function(n,H){var y=-1,c=1e9;for(var l=0;l<n.length;l++){var Q=Math.abs(this.q$[n[l]].x-H.x);
if(Q<c){c=Q;y=n[l]}}return c<16?y:-1};w.prototype.a7t=function(n){if(this.ks==-1)return;s.I7(document.body,this.XL);
s.vM(document.body,this.p$)};w.prototype.Zz=function(n){var H=i7.$k(this.value,this.Cm.o()),y=s.E4(n,this.ks==2&&this.ks==3?this.AM:this.F),c=255*(y.x-8)/(this.tZ.x-16);
c=Math.max(0,Math.min(255,c));if(this.ks==0)c=Math.min(c,H[1]-2);if(this.ks==1)c=Math.max(c,H[0]+2);
if(this.ks!=4)H[this.ks]=Math.round(c);else{var Q=(c-H[0])/(H[1]-H[0]);Q=1-2*Q;Q=Math.pow(9.99,Q);H[4]=Math.min(999,Math.max(10,Math.round(Q*100)))}i7.UN(this.value,this.Cm.o(),H);
this.kZ();this.La()};w.prototype.SH=function(n){s.kg(document.body,this.XL);s.v8(document.body,this.p$);
this.ks=-1};w.prototype.PG=function(){return!0};w.prototype.sh=function(n,H,y,c,Q){var q=this.value,S=this.ha.o().indexOf(!0);
if(S==-1)return;this.value=gT.B1("levl");this.La();var A=P.Xd.SS(n,Q,1),V=[A>>>16&255,A>>>8&255,A&255];
for(var l=0;l<3;l++){var e=i7.$k(q,1+l);if(S==0)e[0]=V[l];if(S==1){var d=Math.log(V[l]/255)/Math.log((V[0]+V[1]+V[2])*.333/255);
e[4]=Math.min(999,Math.max(10,Math.round(100*d)))}if(S==2)e[1]=V[l];i7.UN(q,1+l,e)}this.$(q);this.La()};
w.prototype.$=function(n){this.value=n;this.kZ()};w.prototype.cZ=function(n){this.LN=n;this.kZ()};w.prototype.o=function(n){return JSON.parse(JSON.stringify(this.value))};
return w}();kj.phfl=function(){kj.call(this,"phfl");this.N3.push(new hF);this.N3.push(new b9([12,74],0,100,"%"));
this.N3.push(new jH([13,4]));this.Dg()};kj.phfl.prototype=new kj;kj.phfl.prototype.SK=function(w,n){n[0]=w.Clr.v;
n[1]=w.Dnst.v;n[2]=w.PrsL.v};kj.phfl.prototype.vu=function(w,n){var H=O.M.cH(n[0]),y=w.Clr.v,c=O.eT(H.b,H.J,H.k);
y.Lmnc.v=c.qm;y.A.v=c.iL;y.B.v=c.k;w.Dnst.v=n[1];w.PrsL.v=n[2]};kj.vibA=function(){kj.call(this,"vibA");
this.N3.push(new b9([12,13],-100,100,null));this.N3.push(new b9([12,9],-100,100,null));this.Dg()};kj.vibA.prototype=new kj;
kj.vibA.prototype.SK=function(w,n){n[0]=w.vibrance?w.vibrance.v:0;n[1]=w.Strt?w.Strt.v:0};kj.vibA.prototype.vu=function(w,n){w.vibrance.v=n[0];
w.Strt.v=n[1]};kj.thrs=function(){kj.call(this,"thrs");this.N3.push(new b9([4,13],1,255,null));this.Dg()};
kj.thrs.prototype=new kj;kj.thrs.prototype.SK=function(w,n){n[0]=w.Lvl.v};kj.thrs.prototype.vu=function(w,n){w.Lvl.v=n[0]};
kj.mixr=function(){kj.call(this);var w=this.n;this.ue=[];this.pR=null;this.$I=new dw([12,4],[[13,1,1],[13,1,4],[13,1,5]]);
this.aqh=!1;this.$I.h(M.E.A,this.x1,this);w.appendChild(this.$I.n);s.yD(w);this.qj=new jH([12,60]);w.appendChild(this.qj.n);
this.qj.h(M.E.A,this.x1,this);for(var l=0;l<4;l++){var n=new b9([[13,1,1],[13,1,4],[13,1,5],[13,2]][l],-200,200,"%");
n.h(M.E.A,this.x1,this);this.ue.push(n);w.appendChild(n.n)}};kj.mixr.prototype=new kj;kj.mixr.prototype.f=function(){this.$I.f();
this.qj.f();for(var l=0;l<4;l++)this.ue[l].f()};kj.mixr.prototype.$=function(w){this.pR=JSON.parse(JSON.stringify(w));
this.k9()};kj.mixr.prototype.o=function(w){return JSON.parse(JSON.stringify(this.pR))};kj.mixr.prototype.x1=function(w){if(w.target!=this.$I){var n=fb.Xk(this.pR);
if(w.target==this.qj){n.qj=this.qj.o();if(n.qj)n.Z=[40,40,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];else n.Z=[100,0,0,0,0,0,100,0,0,0,0,0,100,0,0,0,0,0,0,0]}else{var H=(n.qj?0:this.$I.o())*5,l=this.ue.indexOf(w.target);
n.Z[H+(l<3?l:4)]=w.target.o()}this.pR=fb.ajE(n)}this.k9();this.La()};kj.mixr.prototype.k9=function(){var w=fb.Xk(this.pR);
if(w.qj!=this.aqh)this.$I.pe(w.qj?[[13,1,7]]:fb.LQ);this.aqh=w.qj;this.qj.$(w.qj);var n=(w.qj?0:this.$I.o())*5;
for(var l=0;l<4;l++)this.ue[l].$(w.Z[n+(l<3?l:4)])};kj.post=function(){kj.call(this,"post");this.N3.push(new b9([4,1],2,255,null));
this.Dg()};kj.post.prototype=new kj;kj.post.prototype.SK=function(w,n){n[0]=w.Lvls.v};kj.post.prototype.vu=function(w,n){w.Lvls.v=n[0]};
kj.clrL=function(){kj.call(this,"clrL");this.N3.push(new ep("LUTs"));this.Dg()};kj.clrL.prototype=new kj;
kj.clrL.prototype.SK=function(w,n){n[0]=w};kj.clrL.prototype.vu=function(w,n){var H=n[0];for(var y in H)w[y]=H[y]};
kj.clrL.prototype.AB=function(w,n){if(n==h6.z8||n==h6.vR)this.N3[0].iq(w.acH)};kj.rplc=function(){kj.call(this,"rplc");
this.N3.push(new b9([12,92],0,200));this.N3.push(new hF);this.N3.push(new b9([12,8],-180,180));this.N3.push(new b9([12,9],-100,100));
this.N3.push(new b9([12,10],-100,100));this.Dg()};kj.rplc.prototype=new kj;kj.rplc.prototype.SK=function(w,n){n[0]=w.Fzns.v;
n[1]=w.Mxm.v;n[2]=w.H.v;n[3]=w.Strt.v;n[4]=w.Lght.v};kj.rplc.prototype.vu=function(w,n){function H(c,Q){Q.Lmnc.v=c.qm;
Q.A.v=c.iL;Q.B.v=c.k}w.Fzns.v=n[0];w.H.v=n[2];w.Strt.v=n[3];w.Lght.v=n[4];var y=O.M.cH(n[1]),c=O.eT(y.b,y.J,y.k);
H(c,w.Mnm.v);H(c,w.Mxm.v)};kj.fade=function(){kj.call(this,"fade");this.N3.push(new b9([12,0],0,100,"%"));
this.N3.push(new dw([12,19,0],eS.SX,eS.dH));this.Dg()};kj.fade.prototype=new kj;kj.fade.prototype.SK=function(w,n){n[0]=w.Opct.v.val;
n[1]=eS.HN.indexOf(w.Md.v.BlnM)};kj.fade.prototype.vu=function(w,n){w.Opct.v.val=n[0];w.Md.v.BlnM=eS.HN[n[1]]};
kj.aply=function(){var w=eS.HN.concat(["Add","Sbtr"]);w.splice(21,1);var n=eS.SX.concat([[15,10,28],[15,10,21]]);
n.splice(21,1);var H=eS.dH.slice(0);H[4]--;function y(){kj.call(this,"aply");this.N3.push(new dw([0,3],[]));
this.N3.push(new dw([12,4],["RGB"].concat(fb.LQ).concat(["Transparency"])));this.N3.push(new jH([4,11]));
this.N3.push(new dw([12,19,0],n,H));this.N3.push(new b9([12,0],0,100,"%"));this.N3.push(new kc([12,38],1,2,null,2));
this.N3.push(new kc([12,6],-255,255));this.N3.push(new jH([13,5]));this.Dg([2]);this.o_=null}y.prototype=new kj;
y.prototype.SK=function(c,Q,q){if(q){var S=q[2].B,A=this.o_=[];for(var l=0;l<S.length;l++){var V=S[l].getName();
A.push(V.length<30?V:V.slice(0,27)+"...")}A.reverse();this.N3[0].pe([[5,7]].concat(A),[1,A.length])}else var A=this.o_;
c=c.With.v;var e=c.T.v;Q[0]=e[1].t=="name"?1+A.indexOf(e[1].v.val):0;Q[1]=["RGB","Rd","Grn","Bl","Trsp"].indexOf(e[0].v.enum);
Q[2]=c.Invr.v;var d=c.Clcl.v.Clcn;Q[3]=w.indexOf(d);Q[4]=c.Opct.v.val;Q[5]=c.Scl.v;Q[6]=c.Ofst.v;Q[7]=c.PrsT.v};
y.prototype.vu=function(c,Q){c=c.With.v;var q=c.T.v;if(Q[0]==0)q[1]={t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Mrgd"}};
else q[1]={t:"name",v:{classID:"Lyr",val:this.o_[Q[0]-1]}};q[0].v.enum=["RGB","Rd","Grn","Bl","Trsp"][Q[1]];
c.Invr.v=Q[2];var S=c.Clcl.v.Clcn=w[Q[3]];c.Opct.v.val=Q[4];c.Scl.v=Q[5];c.Ofst.v=Q[6];c.PrsT.v=Q[7];
var A=S=="Add"||S=="Sbtr";this.N3[5].rD(A);this.N3[6].rD(A)};return y}();kj.matc=function(){var w,n,H=0;
function y(){kj.call(this,"matc");this.N3.push(new b9("Luminance",1,200));this.N3.push(new b9("Color Intensity",1,200));
this.N3.push(new b9([2,11],0,100,"%"));this.N3.push(new jH("Neutralize"));this.N3.push(new dw([12,70],[]));
this.N3.push(new dw([0,3],[]));this.Dg([2])}function c(Q,q){Q.N3[5].pe([[5,7]].concat(q),[1,q.length])}y.prototype=new kj;
y.prototype.SK=function(Q,q,S){H=0;q[0]=Q.Lght.v;q[1]=Q.ClrR.v;q[2]=Q.Fade.v;q[3]=Q.neutralizeColor?Q.neutralizeColor.v:!1;
q[4]=q[5]=0;var A=Q.Srce;if(A)A=A.v;if(S){w=[];n=[];var V=S[2],e=S[3];for(var l=0;l<e.length;l++){var d=e[l];
w.push(d.name);var N=d.B,b=[];n.push(b);for(var z=0;z<N.length;z++)b.push(N[z].getName());b.reverse()}this.N3[4].pe([[13,1,0]].concat(w),[1,w.length]);
var v=e.indexOf(V);if(A)v=w.indexOf(A[1].v.val);c(this,n[v])}if(A){var T=w.indexOf(A[1].v.val);q[3]=H=1+T;
if(A[0].t=="name")q[4]=1+n[T].indexOf(A[0].v.val)}};y.prototype.vu=function(Q,q){Q.Lght.v=q[0];Q.ClrR.v=q[1];
Q.Fade.v=q[2];Q.neutralizeColor.v=q[3];if(q[4]==0){Q.noReference={t:"bool",v:!0};delete Q.Srce}else{if(q[4]!=H){H=q[4];
c(this,n[q[4]-1])}delete Q.noReference;var S={t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Mrgd"}},A=n[q[4]-1];
if(q[5]!=0)S={t:"name",v:{classID:"Lyr",val:A[q[5]-1]}};Q.Srce={t:"obj ",v:[S,{t:"name",v:{classID:"Dcmn",val:w[q[4]-1]}}]}}};
return y}();function dj(w,n){bU.call(this);if(w==null)return;this.id=n;this.n9=w;this.Jh=null;this.n=s.t("div","window "+n);
this.a76=null;this.sM=s.t("div","whead");this.agK=s.t("span","wname");this.sM.appendChild(this.agK);
this.ae7=!1;this.n.appendChild(this.sM);this.dK=this.a8L.bind(this);this.jb=this.adJ.bind(this);this.eE=this.aoW.bind(this);
s.g0(this.sM);s.am(this.sM,this.dK);this.a6X=s.t("span","cross gsicon");this.sM.appendChild(this.a6X);
dj.prototype.f.call(this);s.vM(this.a6X,this.a5E.bind(this));this.body=s.t("div","body");this.n.appendChild(this.body)}dj.prototype=new bU;
dj.prototype.i7=function(){return!1};dj.prototype.PG=function(){return!1};dj.prototype.f=function(){if(this.n9==null)return;
this.agK.textContent=hV.get(this.n9)};dj.prototype.mO=function(w,n,H,y,c){};dj.prototype.QP=function(w,n,H,y,c){};
dj.prototype.C9=function(w,n,H,y,c){};dj.prototype.sh=function(w,n,H,y,c){};dj.prototype.Qz=function(w,n,H,y,c){};
dj.prototype.QI=function(w,n,H,y){if(y.l(b8.IO)&&this.eL)this.eL();if(y.l(b8.NX)){var c=new aL(M.E.v);
c.Pg=!0;P.kL.aho(y,c);if(c.data)n.S(c)}};dj.prototype.XT=function(w){return!1};dj.prototype.qg=function(w,n){return!0};
dj.prototype.nQ=function(w,n,H,y){};dj.prototype.AB=function(w,n){};dj.prototype.oG=function(w,n){return null};
dj.prototype.ayY=function(w){return this.a76};dj.prototype.kc=function(){};dj.prototype.close=function(){this.S(new aL(M.E.n8))};
dj.prototype.a8L=function(w){this.Jh=s.E4(w,this.n);s.I7(window,this.jb);s.vM(window,this.eE)};dj.prototype.adJ=function(w){var n=this.n.parentNode,H=s.E4(w,n),y=Math.round(H.x-this.Jh.x),c=n.offsetTop+Math.max(0,Math.min(window.innerHeight-36,Math.round(H.y-this.Jh.y)));
this.a76=new ce(y,c);this.n.style.left=y+"px";this.n.style.top=c+"px"};dj.prototype.aoW=function(w){s.kg(window,this.jb);
s.v8(window,this.eE)};dj.prototype.a5E=function(w){if(this.ae7){this.eL();return}this.S(new aL("closebtn"));
this.close()};function h$(){dj.call(this,"About Photopea","aboutpp");var w=s.t("div","flexrow");this.body.appendChild(w);
var n=this.azC=s.t("img");w.appendChild(n);this.body.setAttribute("style","margin:0; padding:0");var H=this.a4R=s.t("div");
H.innerHTML=h$.Y_;w.appendChild(H);var y=this.LU=s.t("span");y.innerHTML="<big style=\"text-shadow: 2px 2px 3px #000000;\">Ivan holding Photopea in Prague</big>";
this.body.appendChild(y)}h$.prototype=new dj;h$.prototype.oG=function(w,n){return new ce(0,0)};h$.prototype.kc=function(w,n){var H=this.azC,y=this.a4R,c=this.LU,Q=(w+n-42-42)/110;
Q=Math.sqrt((w-42)*(n-42))/50;H.setAttribute("style","width:"+w/2+"px; height:"+n+"px; display:block; object-fit:cover;");
y.setAttribute("style","width:"+(w/2-42)+"px; height:"+(n-42)+"px; padding:20px; font-size:"+Q+"px;");
c.setAttribute("style","position:absolute;  bottom:10px; right:"+(w/2+10)+"px")};h$.prototype.f=function(){};
h$.prototype.nQ=function(w,n,H,y){this.azC.setAttribute("src","promo/ivan_pp.webp")};h$.Y_="\t<h1>Hi There!</h1>\t<p>My name is <b>Ivan Kutskir</b> and I'm the creator of Photopea.</p>\t<p>I'm a 30-year-old computer programmer. I was born in Ukraine, but I live in the Czech Republic most of my life (in <b>Prague</b> since 2009).</p>\t<p>I started developing Photopea back in 2012. I intended to call it <b>Photo Hammer</b>, \tbut I didn't register the .com domain right away, and when I tried to do so six months later, it was already taken.</p>\t\t<p>My friends and my family did not know about Photopea during the first four years of development.\tI was spending a lot of time building it, without making any money or learning new skills. So nothing to be proud of, \tbut the project was fun and I enjoyed working on it.\t</p>\t<p>\tNow, it's heartwarming to know that millions around the world use Photopea as their creative medium. \tTo this day I work on Photopea, driven by the positive impact of my creation.\t</p>\t\t<!--<p>You can not be completely sure if something is a good or a bad idea, until you actually try to do it.</p>-->\t\t<p style=\"text-align:right;\"><i><big>Ivan Kutskir</big><br/>support@photopea.com</i></p>\t";
function hh(){dj.call(this,[0,13,0],"account");this.NZ=s.t("div","form scrollable");this.body.appendChild(this.NZ);
this.body.style.padding="0";this.ay=[new hh.gl,new hh.Aw("::privacy.html"),new hh.Aw(hh.aqs)];for(var l=0;
l<this.ay.length;l++)this.ay[l].parent=this;this.h("showpage",this.afM,this)}hh.prototype=new dj;hh.prototype.qg=function(w,n){var H=navigator.onLine;
if(!H)alert("Go online first");return H};hh.prototype.kc=function(w,n){this.NZ.setAttribute("style","width:"+Math.min(w-40,740)+"px;  height:"+(n-38)+"px;  padding:1.5em;");
this.ay[0].kc(w,n)};hh.prototype.oG=function(w,n){return new ce(Math.max(0,Math.min(150,(w-740)/2)),Math.max(0,Math.min(100,(n-500)/2)))};
hh.prototype.afM=function(w){s.Of(this.NZ);this.NZ.scrollTop=0;this.NZ.appendChild(this.ay[w.data.cm].n)};
hh.prototype.f=function(){dj.prototype.f.call(this);for(var l=0;l<this.ay.length;l++)this.ay[l].f()};
hh.prototype.nQ=function(w,n,H){if(!navigator.onLine)return;s.Of(this.NZ);var y=this.ay[0];this.NZ.appendChild(y.n);
y.nQ();this.f()};hh.prototype.AB=function(w,n){this.nQ(null,null,null)};hh.gl=function(){bU.call(this);
this.n=s.t("div");var w=this.n,S,A,e="font-size:1.25em;",d="text-align:center;",b="style=\"list-style-type: none; padding:0;  margin:0; font-size:1.15em;\"",z="style=\"font-weight:bold; color:#00aa00; padding-right:4px;\"",v="style=\"width:50%; vertical-align:top; padding:10px 20px;\"",Y=12;
this.fl=s.t("div");w.appendChild(this.fl);this.bz=new eO([0,11],!1,null,!0);this.bz.n.setAttribute("style","background-color: rgba(200,0,0,1); color:#ffffff; margin:4px 6px 4px 0;");
this.bz.h("click",this.N2,this);w.appendChild(this.bz.n);this.vk=new eO([0,13,1],!1,null,!0);this.vk.h("click",this.a01,this);
w.appendChild(this.vk.n);this.zS=new eO("Business Terms",!1,null,!0);this.zS.h("click",this.avV,this);
w.appendChild(this.zS.n);var n=s.t("div");n.style.margin="20px 0";w.appendChild(n);var H=["Account Types","Go Premium","Team Settings","Distributors"],y=this.gd=[],c=this.a5Z=[],Q=this.GN=s.t("div");
w.appendChild(Q);for(var l=0;l<H.length;l++){var q=s.t("span");q.textContent=H[l];n.appendChild(q);y.push(q);
q.setAttribute("style","font-weight:bold; display:inline-block;  margin-right:2em; font-size:1.1em; cursor:pointer;");
q.addEventListener("click",this.Qc.bind(this));c.push(s.t("div"))}this.Qc(0);var V=this.adU="background-color: #00aa00;  text-shadow:none; padding:3px 7px; font-size:1.2em; color:#ffffff; cursor:pointer; margin:4px 0; width:100%;";
w=c[0];var A=s.t("table"),N="style=\" "+d+e+" padding-bottom:20px;\"";A.innerHTML="\t\t\t<tr>\t\t\t\t<th>FREE</th><th>PREMIUM</th>\t\t\t</tr>\t\t\t<tr>\t\t\t\t<td "+v+">\t\t\t\t\t<div "+N+">\t\t\t\t\t\t<sup>$</sup><big><big><b>0</b></big></big>/mo\t\t\t\t\t</div>\t\t\t\t\t<div>\t\t\t\t\t\t<ul>\t\t\t\t\t\t\t<li><span "+z+">\u2713</span> All Features</li>\t\t\t\t\t\t</ul>\t\t\t\t\t</div>\t\t\t\t</td>\t\t\t\t<td "+v+">\t\t\t\t\t<div "+N+">\t\t\t\t\t\tFrom <sup>$</sup><big><big><b>3.33</b></big></big>/mo\t\t\t\t\t</div>\t\t\t\t\t<div>\t\t\t\t\t\t<ul>\t\t\t\t\t\t\t<li><span "+z+">\u2713</span> All Features</li>\t\t\t\t\t\t\t<li><span "+z+">\u2713</span> No Ads <a href=\"//www.photopea.com/promo/no_ads.png\" target=\"_blank\">\uD83D\uDC41</a></li>\t\t\t\t\t\t\t<li><span "+z+">\u2713</span> 2\xD7 more steps in history</li> \t\t\t\t\t\t\t<li><span "+z+">\u2713</span> quick <a href=\"mailto:support@photopea.com\">email support</a></li> \t\t\t\t\t\t</ul>\t\t\t\t\t\t<span style=\"margin:10px 0 12px 0; font-size:0.75em;\">* No subscription, just one-time payments</span> \t\t\t\t\t\t\t\t\t\t\t</div>\t\t\t\t</td>\t\t\t</tr>\t\t";
w.appendChild(A);var q=new eO("Go Premium");q.n.setAttribute("style",V+"padding:10px 0;");q.h("click",function(h){this.Qc(1)},this);
A.children[0].children[1].children[1].appendChild(q.n);this.cn=s.t("div");w.appendChild(this.cn);w=c[1];
var T=this.azx=[[9,30,1],[10,90,1],[40,365,1],[15,30,5],[30,90,5],[120,365,5],[50,30,20],[100,90,20],[400,365,20],[100,30,50],[200,90,50],[800,365,50],[40,30,1e3],[80,90,1e3],[300,365,1e3],[100,30,5e3],[200,90,5e3],[700,365,5e3],[200,30,2e4],[400,90,2e4],[1400,365,2e4]];
this.vP=[];for(var l=0;l<T.length;l++)this.vP.push(new eO("Buy: $"+T[l][0],!1,null,!0));for(var l=0;
l<this.vP.length;l++){this.vP[l].h("click",this.a5r,this)}this.Yt=new eO("...",!0);this.Yt.n.setAttribute("style",V);
w.appendChild(this.Yt.n);A=this.as6(4,["Single user",this.vP[0],this.vP[1],this.vP[2],"Team of 5",this.vP[3],this.vP[4],this.vP[5],"Team of 20",this.vP[6],this.vP[7],this.vP[8],"Team of 50",this.vP[9],this.vP[10],this.vP[11]]);
w.appendChild(A);this.agt=new jH("I accept",!0,"");w.appendChild(this.agt.n);this.kr=new eO([0,13,1],!1,null,!0);
this.kr.h("click",this.a01,this);w.appendChild(this.kr.n);this.Vk=new eO("I have a key",!1,null,!0);
this.Vk.n.setAttribute("style",V+" float:right; width:inherit;");this.Vk.h("click",this.a5r,this);w.appendChild(this.Vk.n);
w=c[2];this.s2=new bJ;this.s2.parent=this;this.s2.h(M.E.A,this.MP,this);w.appendChild(this.s2.n);w=c[3];
this.l1=new eO("...",!0);this.l1.n.setAttribute("style",V);w.appendChild(this.l1.n);A=this.as6(3,["1000 views/mo",this.vP[Y++],this.vP[Y++],this.vP[Y++],"5000 views/mo",this.vP[Y++],this.vP[Y++],this.vP[Y++],"20000 views/mo",this.vP[Y++],this.vP[Y++],this.vP[Y++]]);
w.appendChild(A);var g=s.t("p");g.innerHTML="Insert Photopea into your webpage, with no ads, under your own brand \t\t... <a href=\"https://www.photopea.com/api/accounts#distributors\" target=\"_blank\" style=\"color:inherit;\">More</a>";
w.appendChild(g);this.vb=new f0("Domain name (e.g. domain.com)",null,14);w.appendChild(this.vb.n);var R=new eO("Save Domain Settings",!1,null,!0);
R.QM();w.appendChild(R.n);R.h("click",this.afy,this)};hh.gl.prototype=new bU;hh.gl.prototype.Qc=function(w){var n=typeof w=="number"?w:this.gd.indexOf(w.target);
for(var l=0;l<4;l++)this.gd[l].style.opacity=.6;this.gd[n].style.opacity=1;s.Of(this.GN);this.GN.appendChild(this.a5Z[n])};
hh.gl.prototype.kc=function(w,n){var H=w<600?"d":" days",y=["30 days","90 days","365 days"];if(w<600)y=["30d","90d","365d"];
var c=this.azx;for(var l=0;l<c.length;l++){this.vP[l].TO("<span>"+y[l%3]+": <sup>$</sup><big><b>"+c[l][0]+"</b></big>"+"</span>");
this.vP[l].n.setAttribute("style",this.adU)}};hh.gl.prototype.a01=function(w){var n=new aL("showpage",!0);
n.data={cm:1};this.S(n)};hh.gl.prototype.avV=function(w){var n=new aL("showpage",!0);n.data={cm:2};this.S(n)};
hh.gl.prototype.f=function(){this.bz.TO(g6.EK()?hV.get([0,11]):hV.get([0,10]));this.kr.f();this.vk.f();
this.zS.f()};hh.gl.prototype.a5I=function(w){var n=new aL(M.E.L,!0);n.data={d:M.c.ee,link:"https://www.photopea.com/api/accounts#"+(w.target==this.a1R?"teams":"distributors")};
this.S(n)};hh.gl.prototype.as5=function(w){var n=w.currentTarget==this.aqF;this.aqF.$(n);this.anj.$(!n)};
hh.gl.prototype.aes=function(w){var n=this.aqF.o(),H=this.a6B.o().trim().toLowerCase(),y=this.anC.value.trim().toLowerCase();
if(H.length>60){alert("Too long email address");return}if(y.length>600){alert("Too many team members");
return}y=y.split(",").join(" ").trim();y=y.replace(/\s+/g," ");if(y=="")y=[];else y=y.split(" ");var c=g6.vC();
if(c==null)c={};if(c.acc==null)c.acc={};c.acc.team={jin:n,ldr:H,mmb:y};g6.Af(c,this.MP.bind(this));alert("Saved!");
this.nQ()};hh.gl.prototype.afy=function(w){var n=this.vb.o().trim();if(!g6.EK()){alert("You have to log in first.");
return}if(g6.P_()==0){alert("Order a distributor account first.");return}var H=g6.vC();if(H==null)H={};
if(H.acc==null)H.acc={};if(n=="")delete H.acc.dname;else H.acc.dname=n;g6.Af(H,this.MP.bind(this));alert("Saved!");
this.nQ()};hh.gl.prototype.af7=function(w){var n=g6.gA(),l=this.Ws,H=g6.vC();if(H==null)H={};if(H.acc==null)H.acc={};
H.acc.bto=w;g6.Af(H,function(){});var y=hh.a57(w.split("\n"),n.pmnts[l]);f1.save(y,"photopea_invoice.pdf")};
hh.gl.prototype.au7=function(w){var n=g6.gA(),H=g6.vC(),y=H.acc?H.acc.bto:null;if(y==null)y=n.name+"\n"+n.email;
var l=-1,c=w.target.n.parentNode;while((c=c.previousSibling)!=null)l++;this.Ws=l;var Q=new aL(M.E.L,!0);
Q.data={d:M.c.rL,Ln:"billto",EV:y,ty:this.af7.bind(this)};this.S(Q)};hh.gl.prototype.nQ=function(){this.fl.innerHTML="";
s.Of(this.cn);if(g6.EK()){var w=g6.gA(),n=w.pmnts;if(w==null)return;this.fl.innerHTML="<span style=\"font-size:1.5em; margin-right:0.7em;\">"+w.name+"</span> "+w.email+" <br/>";
if(n){var H="<h2>Payments</h2>";for(var l=0;l<n.length;l++){var y=n[l],c=new Date(y[0]*1e3);H+="<div style=\"font-size:1.2em\">"+c.getDate()+". "+(c.getMonth()+1)+". "+c.getFullYear()+" - "+hh.aox(y)+"</div>"}this.cn.innerHTML=H;
for(var l=0;l<n.length;l++){var Q=new eO("Get Invoice",!1,null,!0);Q.n.setAttribute("style","float:right");
Q.h("click",this.au7,this);this.cn.children[l+1].appendChild(Q.n)}}}else{}var q=g6.EK()&&g6.qx();this.Yt.n.style.display=q?"block":"none";
if(q){var S,A,V=q;if(V[0]==0){S=g6.f9(V[1])-Date.now()*(1/1e3);A=V[1][2]==1?"Single User":"Team Of "+V[1][2]}else{S=V[1][1]-Date.now()*(1/1e3);
A="Member of \""+V[1][0]+"\""}this.Yt.TO("Premium active for "+Math.round(S/(60*60*24))+" more days! ("+A+")")}var e=g6.EK()&&g6.P_()*1e3>Date.now();
this.l1.n.style.display=e?"block":"none";if(e){var S=g6.P_()-Date.now()/1e3;this.l1.TO("Distributor active for "+Math.round(S/(60*60*24))+" more days!")}var d=g6.vC();
this.s2.nQ();if(d&&d.acc&&d.acc.dname)this.vb.$(d.acc.dname);else this.vb.$("")};hh.gl.prototype.as6=function(w,n){var H=s.t("table");
if(!0){var y="<table><tr>";for(var l=0;l<w;l++)y+="<th>"+n[l*4]+"</th>";y+="</tr></table>";H.innerHTML=y;
for(var l=0;l<3;l++){var c=s.t("tr"),Q;H.appendChild(c);for(var q=0;q<w;q++){Q=s.t("td");Q.style.width=Math.round(100/w)+"%";
c.appendChild(Q);Q.appendChild(n[q*4+1+l].n)}}}return H};hh.gl.prototype.a5r=function(w){var n=this.vP.indexOf(w.currentTarget),y=30,c=1;
if(!g6.EK()){this.N2();return}if(this.agt.o()==!1&&n<12){alert("You must accept Terms of Service");return}var H=g6.EK()&&g6.qx();
if(n!=-1){var Q=this.azx[n];y=Q[1];c=Q[2]}if(H&&c<1e3){alert("You already have premium.");return}console.log(Q,y,c);
if(n==-1){var q=prompt("Please enter your key");if(q!=null){g6.aig(q,this.MP.bind(this));this.p5()}return}if(y==30&&c==1){var S=confirm("You can have a 90 days version for $10. Do you still want a 30 days version for $9?");
if(!S)return}g6.order(y,c,this.MP.bind(this));this.p5()};hh.gl.prototype.MP=function(w){this.nQ();this.p5()};
hh.gl.prototype.N2=function(w){if(g6.EK()){g6.asQ();this.p5();this.nQ(null,null,null)}else g6.N2(this.afg.bind(this))};
hh.gl.prototype.afg=function(){var w=new aL(M.E.L,!0);w.data={d:M.c.al1};this.S(w)};hh.gl.prototype.p5=function(){var w=new aL(M.E.L,!0);
w.data={d:M.c.a3l};this.S(w)};hh.Aw=function(w){bU.call(this);this.n=s.t("div");var n=this.n,H=this.ay9=new eO([0,13,2],!1,null,!0),y;
H.h("click",this.a66,this);n.appendChild(H.n);if(w.startsWith("::")){y=s.t("iframe");y.setAttribute("style","width:100%;height:1700px; background-color:white;");
y.setAttribute("src",w.slice(2))}else{y=s.t("div");y.innerHTML=w}n.appendChild(y)};hh.Aw.prototype=new bU;
hh.Aw.prototype.a66=function(w){var n=new aL("showpage",!0);n.data={cm:0};this.S(n)};hh.Aw.prototype.f=function(){this.ay9.f()};
hh.aqs="\t\t<h1>Contact</h1>\t\t<p>Photopea.com is operated by Ivan Kuckir (I\u010C 04498411, Tax ID CZ9011014309).</p>\t\t<ul>\t\t\t<li><b>Address</b>: H\xE1lkova 483, 517 41 Kostelec nad Orlic\xED, Czech Republic</li>\t\t\t<li><b>E-mail</b>: support@photopea.com, <b>Phone number</b>: +420 604 592 737</li>\t\t</ul>\t\t<h1>Refund Policy</h1>\t\t<p>You can ask for a refund by writing us an email to support@photopea.com and. \t\tWe offer only one kind of service, and if you have been refunded in the past, you can not get another refund.\t\t</p>\t\t<h1>Terms of Delivery</h1>\t\t<p>You can pay with a debit or a credit card. Payments are processed instantly, your Premium account will be activated instantly.</p>\t\t<h1>Payment Provider</h1>\t\t<p>Payments are provided by <a style=\"color:white\" href=\"https://www.comgate.cz/cz/platebni-brana\">ComGate pamyments, a.s</a>.</p>\t\t<ul>\t\t\t<li>ComGate Payments, a.s.</li>\t\t\t<li>Go\u010D\xE1rova t\u0159\xEDda 1754 / 48b, Hradec Kr\xE1lov\xE9</li>\t\t\t<li>E-mail: platby-podpora@comgate.cz, Tel:  +420 228 224 267</li>\t\t</ul>\t\t<img src=\"https://www.comgate.cz/files/platebni-brana-comgate-paticka-e-shopu.png\" />\t";
hh.aox=function(w){return"Photopea "+(w[1]<1e3?"Premium":"Distributor")+" ("+w[1]+" days, "+w[2]+" user"+(w[2]==1?"":"s")+")"};
hh.a57=function(w,n){w=["Bill To:"].concat(w);var H=new ToPDF,y=595,c=842,Q=40,q=18,S=12,A=500,V=100,e=400,v=0;
function d(X,C,D,o,t){b.font.Tf=t?"Helvetica-Bold":"Helvetica";b.ctm=[1,0,0,1,C,D];b.font.Tfs=o?o:S;
H.PutText(b,X,0)}function N(X,C,D,o){for(var l=0;l<X.length;l++){d(X[l],C,D-l*o,null,l==0)}}var b=UDOC.getState();
H.StartPage(0,0,y,c);d("INVOICE",y-Q-140,c-Q-30,30,!0);N(["Bill From:","Ivan Kuckir","H\xE1lkova 483, 517 41 Kostelec nad Orlic\xED","Tax ID: CZ9011014309"],Q,c-Q-40,q);
var z=new Date(n[0]*1e3);N(["Date: "+z.getDate()+". "+(z.getMonth()+1)+". "+z.getFullYear(),"Transaction ID: "+n[4]],y-Q-140,c-Q-40-q*2,q);
var T=w.join("");for(var l=0;l<T.length;l++)v=Math.max(v,T.charCodeAt(l));if(v>256){var Y=4,g=s.t("canvas"),R=g.getContext("2d"),h=0;
R.font=S*Y+"px sans-serif";for(var l=0;l<w.length;l++)h=Math.max(h,R.measureText(w[l]).width);var E=Math.round(h)+20,G=w.length*Y*q+20;
g.width=E;g.height=G;R.font=S*Y+"px sans-serif";for(var l=0;l<w.length;l++){R.font=(l==0?"bold ":"")+S*Y+"px sans-serif";
R.fillText(w[l],10,(l+1)*Y*q)}document.body.appendChild(g);var k=new Uint8Array(R.getImageData(0,0,E,G).data.buffer);
b.ctm=[E/Y,0,0,G/Y,Q-10/Y,c-Q-40-100-G/Y];H.PutImage(b,k,E,G);b.ctm=[1,0,0,1,0,0]}else N(w,Q,c-Q-40-100,q);
b.colr=[.8,.8,.8];b.pth={cmds:["M","L","L","L","Z"],crds:[Q,A,y-Q,A,y-Q,A-q,Q,A-q]};H.Fill(b);b.colr=[0,0,0];
var $=[Q,A,y-Q,A,Q,A-q,y-Q,A-q,Q,A-V,y-Q,A-V,Q,A,Q,A-V,y-Q,A,y-Q,A-V,e,A,e,A-V],p=[];for(var l=0;l<$.length;
l+=4)p.push("M","L");b.pth={cmds:p,crds:$};H.Stroke(b);d("Order details",Q+4,A-14);d(hh.aox(n),Q+4,A-q-14);
d("TOTAL:",Q+4,A-V-14,null,!0);d("Price",y-Q-50,A-14);d(n[3]+" USD",y-Q-60,A-q-14);d(n[3]+" USD",y-Q-60,A-V-14,null,!0);
d("www.Photopea.com",Q,Q);d("support@photopea.com",y-Q-130,Q);H.ShowPage();H.Done();return H.buffer};
function c2(){dj.call(this,[11,14],"addguides");this.mT;this.Uz={al:{GZ:0}};this._q=null;var w=s.t("div","form");
this.body.appendChild(w);this.Jp=[];this.YZ=new iY(null,["Hi"]);w.appendChild(this.YZ.n);s.yD(w);this.YZ.h(M.E.A,this.Zw,this);
this.zj=new f0([22,4,0],null,16);this.zj.h(M.E.A,this.oe,this);this.Xl=new f0([22,4,1],null,16);this.Xl.h(M.E.A,this.oe,this);
this.qD=new dw(null,O.xr.RH);this.qD.h(M.E.A,this.oe,this);w.appendChild(this.zj.n);w.appendChild(this.qD.n);
s.yD(w);w.appendChild(this.Xl.n);this.JB=s.gi(this,w);this.h("closebtn",this.oK,this)}c2.prototype=new dj;
c2.prototype.qg=function(w,n){return w!=null};c2.prototype.i7=function(){return!0};c2.prototype.f=function(){dj.prototype.f.call(this);
this.zj.f();this.Xl.f();this.qD.f();this.JB.f()};c2.prototype.AB=function(w,n){var H=w.al.GZ;this.Uz.al.GZ=H;
this.qD.$(H)};c2.prototype.nQ=function(w,n){this.mT=w;this._q=JSON.stringify(w._P());this.Jp=[-1];var H=["Global"],y=w.root.children,c=w.Zf();
for(var l=0;l<y.length;l++){var Q=y[l].j;if(Q.add.artb){H.push(Q.getName());this.Jp.push(y[l].index)}}this.YZ.pe(H);
this.YZ.$(this.Jp.indexOf(c));this.Zw()};c2.prototype.Zw=function(){var w=this.mT,n=w._P(),H=this.Jp[this.YZ.o()],y=[0,0];
if(H!=-1){var c=w.B[H].oC();y=[c.x,c.y]}var Q=function(q,S,w,A,V){var e=q[0],d=[];for(var l=0;l<e.length;
l++)if(q[1][l]==H&&e[l][0]==S)d.push(O.xr.To(e[l][1]-y[S],w.uP,A,V));d.sort(function(N,b){return N-b});
return d.join(", ")};this.zj.$(Q(n,0,w,this.Uz,w.m));this.Xl.$(Q(n,1,w,this.Uz,w.e))};c2.prototype.oe=function(w){if(w&&w.currentTarget==this.qD)this.Uz.al.GZ=this.qD.o();
else{var n=this.akH(),H=this.mT;H.da(n);H.Va=!0}this.Zw()};c2.prototype.akH=function(){var w=this.mT,n=w._P(),H=this.Jp[this.YZ.o()],y=[0,0];
if(H!=-1){var c=w.B[H].oC();y=[c.x,c.y]}var Q=[];for(var q=0;q<2;q++){var S=q==0?this.zj:this.Xl,A=q==0?this.mT.m:this.mT.e,V=S.o().replace(/,/g," ").replace(/  +/g," ").trim(),e=V==""?[]:V.split(" ");
for(var l=0;l<e.length;l++)Q.push([q,O.xr.amw(e[l],this.mT.uP,this.Uz,A)+y[q]])}for(var l=0;l<n[0].length;
l++)if(n[1][l]==H){n[0].splice(l,1);n[1].splice(l,1);l--}for(var l=0;l<Q.length;l++){n[0].push(Q[l]);
n[1].push(H)}return n};c2.prototype.oK=function(w){var n=this.mT;n.da(JSON.parse(this._q));n.Va=!0;this.mT=null};
c2.prototype.eL=function(w){this.oe(w);var n=new aL(M.E.v,!0);n.G=P.DX;n.data={d:"gids",FD:JSON.parse(this._q),wC:this.mT._P()};
this.mT=null;this.close();this.S(n)};function aS(w){dj.call(this,{pdfpres:"PDF Presentation",cformat:"Convert Formats"}[w],w);
var n=s.t("div","form");this.body.appendChild(n);n.setAttribute("style","width:300px");this.bN=new hd("Source Images",!0,!0);
n.appendChild(this.bN.n);this.XF=new dw([12,14,0],["A4 Portrait","A4 Lanscape",[12,93,3],"Adapt to images"]);
this.r5=new jH("Order images by name");this.r5.$(!0);var H=this.apV=cb.Y8();for(var l=0;l<H.length;l++)if(cb.Mn(H[l]).ht){H.splice(l,1);
l--}this.uw=new dw([12,50],H);this.Ck=new fX;this.uw.h(M.E.A,this.n2,this);if(w=="pdfpres"){n.appendChild(this.XF.n);
n.appendChild(this.r5.n)}else{n.appendChild(this.uw.n);n.appendChild(this.Ck.n)}var y=["VAR0 PDF",[1,8]];
if(w=="cformat")y="Convert Images";var c=new eO(y,!0,null,!0);c.h("click",this.DU,this);n.appendChild(c.n);
this.n2()}aS.prototype=new dj;aS.prototype.n2=function(w){var n=this.apV[this.uw.o()];this.Ck.$f(n)};
aS.prototype.DU=function(w){var n=this.bN.o(),H=[],Q=595,q=842,S=40;for(var y in n)H.push(y);if(H.length==0){alert("No images selected");
return}if(this.r5.o())H.sort();var c=this.XF.o(),A=new ToPDF,V=UDOC.getState(),e=this.apV[this.uw.o()],d=cb.Mn(e),N=this.Ck.o(),b={};
for(var l=0;l<H.length;l++){var y=H[l],z=n[y],v=z[0]==255,T=cb.mj(z.buffer),Y=cb.Mn(T),g;if(T=="psd")g=hb.a6y(z.buffer)[0];
else if(Y.ht){alert(T.toUpperCase()+" can not be used.");continue}else g=Y._N(z.buffer)[0];var R=g.Zg,h=new Uint8Array(g.data),E=R.m,G=R.e;
if(this.id=="pdfpres"){var k=[[595,842],[842,595],[595,595],[595,0]][c];if(c==3)k[1]=Math.round(k[0]*G/E);
var Q=k[0],q=k[1],$=Math.min(Q/E,q/G);A.StartPage(0,0,Q,q);V.ctm=[E*$,0,0,G*$,(Q-E*$)/2,(q-G*$)/2];A.PutImage(V,v?z:h,E,G);
A.ShowPage()}else{var p=y.split(".");p.pop();p.push(e.toLowerCase());b[p.join(".")]=new Uint8Array(d.vd([[g.data]],E,G,N))}}if(this.id=="pdfpres"){A.Done();
f1.save(A.buffer,"file.pdf")}else{f1.save(UZIP.encode(b),"images.zip")}};aS.prototype.f=function(){dj.prototype.f.call(this);
this.bN.f();this.XF.f();this.r5.f()};function ex(w){var n=gT.names[w];if(n==null)n=fb.names[w];if(w=="aply")n=[2,12];
if(w=="fade")n=[2,11];if(w=="matc")n=[4,18];if(w=="blendOptions")n=[14,10];dj.call(this,n,"afw_"+w);
this.e8=w;this.sH=null;this.kR=null;this._j=new kj[w];this._j.h(M.E.A,this.La,this);this._j.parent=this;
this.body.appendChild(this._j.n);this.Oo=new jH([24,18,5]);this.Oo.$(!0);this.Oo.h(M.E.A,this.La,this);
this.zG=new eO([1,12,2],!0,null,!0);this.zG.h("click",this.c_,this);this.JB=s.gi(this);if(this.u9())this._j.Z6(this.JB.n);
else{s.li(this._j.n,"form");s.li(this.body,"flexrow");this._j.n.setAttribute("style","width:312px");
var H=s.t("div");this.body.appendChild(H);H.setAttribute("style","width:8em; margin-left:1em; line-height:2.3em");
H.appendChild(this.JB.n);H.appendChild(this.zG.n);H.appendChild(this.Oo.n)}this.h("closebtn",this.kV,this)}ex.prototype=new dj;
ex.prototype.i7=function(){return!0};ex.prototype.u9=function(){return this._j!=null&&this._j.uB()};
ex.prototype.oG=function(){return this.u9()?new ce(0,0):dj.prototype.oG()};ex.prototype.PG=function(){return this._j.PG()};
ex.prototype.mO=function(w,n,H,y,c){this._j.mO(w,n,H,y,c)};ex.prototype.C9=function(w,n,H,y,c){this._j.C9(w,n,H,y,c)};
ex.prototype.sh=function(w,n,H,y,c){this._j.sh(w,n,H,y,c)};ex.prototype.qg=function(w,n){if(this.e8=="fade")return ex.axJ(w);
return!0};ex.prototype.c_=function(w){this._j.$(gT.B1(this.e8));this.La()};ex.prototype.La=function(w){this.Bt({d:"edit",X5:this._j.o(),Gf:!this.Oo.o()})};
ex.prototype.kV=function(w){this.Bt({d:"cancel"})};ex.prototype.eL=function(w){if(!this.Oo.o()){this.Oo.$(!0);
this.La()}this.kR=this._j.o();if(this.u9())this.La();this.Bt({d:"confirm"});this.close()};ex.prototype.f=function(){dj.prototype.f.call(this);
this.Oo.f();if(this._j)this._j.f();this.JB.f()};ex.prototype.AB=function(w,n){if(this._j)this._j.AB(w,n)};
ex.prototype.QI=function(w,n,H,y){if(this.u9())this._j.QI(y);else dj.prototype.QI.call(this,w,n,H,y)};
ex.prototype.nQ=function(w,n,H,y){this.sH=n.sH;var c=w.add.lnk2?w.add.lnk2:[],Q,q,S=new cr(0,0,w.m,w.e),A=w.B[w.g[0]],V=null;
Q=A.buffer;q=A.rect;if(this.u9())V=w.E$(w.g[0]-1);var e=gT.B1(this.e8),d=[c,w.d4,w,H];if(n.sH==null){this._j.$(e,Q,q,S,V,d);
if(fb.names[this.e8]){if(y.l(b8.FO)&&this.kR)this._j.$(this.kR);var N=P.D1.getData(w),b=O.ao(N[0].G_);
this._j.cZ(b)}}else{var z=!1,A=w.B[this.sH.j];if(A.RL()){var v=A.iS(w);Q=v.buffer;q=v.rect;var T=A.add.SoLd.filterFX.v.filterFXList.v;
if(T[this.sH.index]){var Y=T[this.sH.index].v;this._j.$(this.e8=="blendOptions"?Y.blendOptions.v:Y.Fltr.v,Q,q,S,V,d);
this._j.cZ(O.ao(Q));z=!0}}if(!z){this._j.$(e,Q,q,S,V,d);this._j.cZ(O.ao(Q))}}if(!this.u9()){this.La();
var g=this._j;if(g&&g.N3&&g.N3[0]&&g.N3[0].P5)g.N3[0].P5()}};ex.prototype.Bt=function(w){var n=new aL(M.E.v,!0);
w.e8=this.e8;w.sH=this.sH;n.data=w;n.G=gT.names[this.e8]||this.sH?P.NJ:P.bf;n.Pg=!0;this.S(n)};ex.prototype.kc=function(w,n){if(!this._j.uB()){}else{this.body.style.padding="0";
this._j.kc(w,n)}};ex.axJ=function(w){if(w==null)return!1;var n=w.H_();if(n==null||!(n.data instanceof Array)||n.data.length!=w.g.length)return!1;
for(var l=0;l<n.data.length;l++){var H=n.data[l];if(H.j<0&&w.d4[-1-H.j])return!0;if(H.j==null||w.B[H.j]==null||w.B[H.j].Ks!=H.vm)return!1;
if(w.g.indexOf(H.j)==-1)return!1}return!0};function cM(){dj.call(this,[11,0],"camera");this.data=null;
this.Ur=new ce(1,1);this.a8e=[];var w=s.t("div","form hbar");this.body.appendChild(w);this.a4S=new dw(null,[]);
this.Xb=new dw([21,0],[[21,2],[21,1]]);w.appendChild(this.Xb.n);this.Jl=new dw(null,[]);this.Jl.h(M.E.A,this.ace,this);
w.appendChild(this.Jl.n);this.w4=new eO([11,0],!1,null,!0);this.w4.h("click",this.at9,this);w.appendChild(this.w4.n);
this.V8=new iD("");w.appendChild(this.V8.n);this.stream=null;this.m$=s.t("video","");this.m$.setAttribute("autoplay","true");
this.body.appendChild(this.m$);this.ayw=this.aua.bind(this);this.arW=this.avv.bind(this);this.aoB=this.abx.bind(this);
this.h("closebtn",this.avi,this)}cM.prototype=new dj;cM.prototype.f=function(){dj.prototype.f.call(this);
this.Xb.f();this.w4.f();this.kc(this.pV,this.WZ)};cM.prototype.E$=function(){var w=this.m$.videoWidth,n=this.m$.videoHeight,H=s.t("canvas","");
H.width=w;H.height=n;var y=H.getContext("2d");y.drawImage(this.m$,0,0,w,n);var c=y.getImageData(0,0,w,n);
return{Zg:new cr(0,0,w,n),data:c.data.buffer}};cM.prototype.at9=function(w){if(this.Xb.o()==0)this.ayV();
else this.aiP()};cM.prototype.aiP=function(){var w=this.E$(),n={buffer:new Uint8Array(w.data),rect:w.Zg},H=new aL(M.E.v,!0);
H.Pg=!0;H.G=P.YV;H.data={d:a.iJ,jR:n};this.S(H);alert(hV.get([21,4]))};cM.prototype.ayV=function(){var w=this.E$(),n=cb.xx("camera",[w]),H=new aL(M.E.L,!0);
H.data={d:M.c.uJ,z3:n};this.S(H);alert(hV.get([21,5]))};cM.prototype.nQ=function(w,n,H){navigator.mediaDevices.enumerateDevices().then(this.ajm.bind(this))};
cM.prototype.ajm=function(w){var n=this.a8e=[],H=[];for(var l=0;l<w.length;l++)if(w[l].kind=="videoinput"){n.push(w[l]);
H.push("Camera "+n.length)}this.Jl.pe(H);this.Jl.$(0);this.ace()};cM.prototype.ace=function(w){this.avi();
var n={video:{deviceId:this.a8e[this.Jl.o()].deviceId,width:{ideal:8e3},height:{ideal:8e3}}};if(navigator.mediaDevices.getUserMedia)navigator.mediaDevices.getUserMedia(n).then(this.ayw).catch(this.arW);
else navigator.webkitGetUserMedia(n,this.ayw,this.arW)};cM.prototype.aua=function(w){this.stream=w;this.m$.srcObject=w;
this.m$.addEventListener("loadedmetadata",this.aoB,!1)};cM.prototype.abx=function(w){this.m$.play();
this.kc(this.pV,this.WZ)};cM.prototype.oG=function(w,n){return new ce(0,0)};cM.prototype.kc=function(w,n){var H=this.m$.videoWidth,y=this.m$.videoHeight;
this.V8.$(H+" x "+y+" px");this.V8.n.setAttribute("style","position:absolute;  left:14px; bottom:10px; z-index:1;");
this.Ur.HV(H,y);this.pV=w;this.WZ=n;var c=w-28,Q=n-28-30,q=this.Ur.x/this.Ur.y;if(c/Q>q)c=Q*q;else Q=c/q;
this.m$.setAttribute("style","display: block; width: "+Math.round(c)+"px; height:"+Math.round(Q)+"px;")};
cM.prototype.avv=function(w){console.log("error",w);alert(hV.get([21,6]));this.close()};cM.prototype.avi=function(w){if(this.stream!=null){var n=this.stream.getTracks();
for(var l=0;l<n.length;l++)n[l].stop();this.stream=null}};function jI(){dj.call(this,[7,8],"crange");
this.mT=null;this.rt={qm:73,iL:4.45,k:4};this.cr={qm:73,iL:4.45,k:4};this.body.style.width="20em";this.Dh=new dw([0,5],["Sampled Colors",[19,6,0],[19,6,1],[19,6,2]]);
this.Dh.h(M.E.A,this.ahd,this);this.body.appendChild(this.Dh.n);this.Y_=s.t("div","form");this.body.appendChild(this.Y_);
var w=this.afT=2,n=this.bt=[new b9([12,92],0,200),new iY([12,36],[[18,0],"\uFF0B","-"]),new b9([12,92],0,100,"%"),new kc("Min",0,255),new kc("Max",0,255)];
n[0].$(40);n[w].$(40);for(var l=0;l<n.length;l++){n[l].h(M.E.A,this.k9,this);n[l].parent=this}this.F=s.t("canvas");
this.body.appendChild(this.F);this.JB=s.gi(this,this.body)}jI.prototype=new dj;jI.prototype.qg=function(w,n){return w!=null};
jI.prototype.PG=function(){return!0};jI.prototype.i7=function(){return!0};jI.prototype.ahd=function(w){var n=this.Dh.o(),H=this.bt,y=this.Y_,c=0,Q=H.length,q=this.afT;
if(n==0)Q=q;else{c=q;H[c+1].$([0,100,190][n-1]);H[c+1].rD(n!=1);H[c+2].$([60,150,255][n-1]);H[c+2].rD(n!=3)}s.Of(y);
for(var l=c;l<Q;l++){y.appendChild(H[l].n)}this.k9()};jI.prototype.f=function(){dj.prototype.f.call(this);
this.JB.f();this.Dh.f();for(var l=0;l<this.bt.length;l++)this.bt[l].f()};jI.prototype.mO=function(w,n,H,y,c){var Q=w.u.Sb(c.x,c.y);
this.auj(Q.x,Q.y)};jI.prototype.auj=function(w,n){var H=Math.min,y=Math.max,c=this.mT,Q=y(0,H(c.m-1,Math.floor(w))),q=y(0,H(c.e-1,Math.floor(n))),S=c.E$(),A=(q*c.m+Q)*4,V=S[A],e=S[A+1],d=S[A+2],N=O.eT(V,e,d),b=this.bt[1].o(),z=this.rt,v=this.cr;
if(b==0){this.rt=JSON.parse(JSON.stringify(N));this.cr=N}else if(b==1){z.qm=H(z.qm,N.qm);z.iL=H(z.iL,N.iL);
z.k=H(z.k,N.k);v.qm=y(v.qm,N.qm);v.iL=y(v.iL,N.iL);v.k=y(v.k,N.k)}else if(b==2){var T=(z.qm+v.qm)/2,Y=(z.iL+v.iL)/2,g=(z.k+v.k)/2;
if(N.qm<T)z.qm=y(z.qm,N.qm+10);else v.qm=H(v.qm,N.qm-10);if(N.iL<Y)z.iL=y(z.iL,N.iL+1);else v.iL=H(v.iL,N.iL-1);
if(N.k<g)z.k=y(z.k,N.k+1);else v.k=H(v.k,N.k-1)}this.k9()};jI.prototype.eL=function(w){var n=this.Dh.o(),H=this.bt,y={__name:"Color Range",classID:"ClrR",colorModel:{t:"long",v:0}};
if(n==0){var c=this.rt,Q=this.cr;y.Mnm={t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:c.qm},A:{t:"doub",v:c.iL},B:{t:"doub",v:c.k}}};
y.Mxm={t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:Q.qm},A:{t:"doub",v:Q.iL},B:{t:"doub",v:Q.k}}};y.Fzns={t:"long",v:H[0].o()}}else{n--;
var q=["shadows","midtones","highlights"][n];y.Clrs={t:"enum",v:{Clrs:["Shdw","Mdtn","Hghl"][n]}};if(0<n)y[q+"LowerLimit"]={t:"long",v:H[3].o()};
if(n<2)y[q+"UpperLimit"]={t:"long",v:H[4].o()};y[q+"Fuzziness"]={t:"long",v:H[2].o()}}this.close();var S=new aL(M.E.dp,!0);
S.data={fd:"colorRange",ei:y};this.S(S)};jI.prototype.nQ=function(w,n){this.mT=w;this.auj(0,0);this.ahd()};
jI.prototype.k9=function(){var w=this.mT,n=this.Dh.o(),H=this.rt,y=this.cr,c=this.bt,Q=c[0].o()/200,q=!1;
if(n>0){H=c[3].o();y=c[4].o();if(H>=y)H=y-1;q=!0;Q=c[2].o()/100}var S=P.Me.x8(w,H,y,Q,q),A=S.rect,V=S.channel,e=this.F,d=e.getContext("2d"),N=Math.floor(230*s.V()),b=Math.floor(N*(A.e/A.m));
e.width=N;e.height=b;s.cD(e,N,b);var z=O.R(V.length*4);O.jZ(z,4294967295);for(var l=0;l<3;l++)O.o2(V,z,l);
var v=P.WJ.T_([z,A],new b7(N/A.m,0,0,b/A.e,0,0)),T=v.rect,Y=new ImageData(new Uint8ClampedArray(v.buffer.buffer),T.m,T.e);
d.putImageData(Y,0,0)};function eu(){dj.call(this,[12,76,1],"createshape");this.Zy=null;var w=s.t("div","form");
w.setAttribute("style","width:20em");this.body.appendChild(w);this.$L=new kc([12,41],0,0,null,0,!1,!0);
w.appendChild(this.$L.n);s.yD(w);this.zj=new kc([12,42],0,0,null,0,!1,!0);w.appendChild(this.zj.n);s.yD(w);
this.A1=new jH([19,5,3]);w.appendChild(this.A1.n);this.$L.$(100);this.zj.$(100);this.JB=s.gi(this,w)}eu.prototype=new dj;
eu.prototype.eL=function(w){this.Zy.amF(this.Zy.azr,this.$L.o(),this.zj.o(),this.A1.o());this.close()};
eu.prototype.f=function(){if(this.Zy)this.n9=hV.get([5,3])+": "+hV.get(this.Zy.abX);dj.prototype.f.call(this);
this.JB.f();this.$L.f();this.zj.f();this.A1.f()};eu.prototype.nQ=function(w,n){this.Zy=n;this.f();this.$L.P5()};
function jQ(){dj.call(this,[11,1],"colorpicker");this.X7=null;this.i4=null;this.Dr=null;this.CA=!1;this.es=!1;
this.axE=[.9642,1,.8249];var w=s.t("div","flexrow"),q,S;this.body.appendChild(w);this.KG=new cc(256,!0);
this.KG.h(M.E.A,this._A,this);w.appendChild(this.KG.n);var n=s.t("div","form");n.setAttribute("style","width:14.5em; margin-left:1em;");
w.appendChild(n);var H=s.t("div","flexrow");n.appendChild(H);var y=s.t("div");H.appendChild(y);y.style="width:95px; margin-right:14px";
this.ath=s.t("div","full");y.appendChild(this.ath);this.a5f=s.t("div","full");y.appendChild(this.a5f);
var y=s.t("col");H.appendChild(y);y.style.width="80px";this.JB=s.gi(this,y);var H=s.t("div","flexrow");
n.appendChild(H);var c=s.t("div"),Q=s.t("div");H.appendChild(c);H.appendChild(Q);c.style=Q.style="margin-left:14px; max-width:80px;";
q=["H","S","B"];S=c;this.De=[];for(var l=0;l<3;l++){var A=0,V=360,e="\xB0";if(l!=0){V=100;e="%"}var d=new kc(q[l],A,V,e,0,!1,!0);
this.De.push(d);d.h(M.E.A,this.apJ,this);S.appendChild(d.n);if(l==2)d.n.style.marginBottom="8px"}q=["R","G","B"];
S=c;this.Qu=[];for(var l=0;l<3;l++){var d=new kc(q[l],0,255,null,0,!1,!0);this.Qu.push(d);d.h(M.E.A,this.apt,this);
S.appendChild(d.n)}q=["L","a","b"];S=Q;this.KX=[];for(var l=0;l<3;l++){var A=[0,-128,-128][l],V=[100,127,127][l],d=new kc(q[l],A,V,null,0,!1,!0);
d.$(0);this.KX.push(d);d.h(M.E.A,this.auZ,this)}q=["C","M","Y","K"];S=Q;this.ip=[];for(var l=0;l<4;l++){var d=new kc(q[l],0,100,"%",0,!1,!0);
d.$(0);this.ip.push(d);d.h(M.E.A,this.ajW,this);S.appendChild(d.n);if(l==3)d.n.style.marginBottom="8px"}this.zj=new f0("#",null,4.5);
this.zj.h(M.E.A,this.b$,this);Q.appendChild(this.zj.n);this.zj.n.style.marginRight="0";this.DW=s.t("input","fitem");
this.DW.setAttribute("type","color");this.DW.setAttribute("style","width:59px;  margin-left:19px;");
this.DW.addEventListener("change",this.b$.bind(this),!1);Q.appendChild(this.DW);this.tJ=new fg(9);this.tJ.h(M.E.A,this.b$,this);
n.appendChild(this.tJ.n);this.h("closebtn",this.kV,this);this.ta=!1}jQ.prototype=new dj;jQ.prototype.PG=function(){return!0};
jQ.prototype.oG=function(w,n){return new ce(Math.max(0,Math.min(150,(w-484)/2)),Math.max(0,Math.min(150,(n-316)/2)))};
jQ.prototype.kc=function(w,n){this.KG.kc(Math.min(256,w-226),n)};jQ.prototype.f=function(w,n){dj.prototype.f.call(this);
for(var l=0;l<3;l++){this.Qu[l].f();this.De[l].f();this.KX[l].f()}for(var l=0;l<4;l++)this.ip[l].f();
this.JB.f()};jQ.prototype._A=function(w){this.i4=this.KG.o();this.update()};jQ.prototype.mO=function(w,n,H,y,c){this.ta=!0;
this.ay_(w,c)};jQ.prototype.C9=function(w,n,H,y,c){if(!this.ta)return;this.ay_(w,c)};jQ.prototype.sh=function(w,n,H,y,c){this.ta=!1};
jQ.prototype.ay_=function(w,n){var H=P.Xd.SS(w,n,1),y=H&255,c=H>>8&255,Q=H>>16&255;this.i4={b:Q/255,J:c/255,k:y/255};
this.update()};jQ.prototype.apt=function(w){var n=this.Qu,H=this.OR(parseInt(n[0].o())),y=this.OR(parseInt(n[1].o())),c=this.OR(parseInt(n[2].o()));
this.i4={b:H/255,J:y/255,k:c/255};this.update()};jQ.prototype.apJ=function(w){var n=this.De,H=this.wj(parseInt(n[0].o())/360),y=this.wj(parseInt(n[1].o())/100),c=this.wj(parseInt(n[2].o())/100);
this.i4=O.AT(H,y,c);this.update()};jQ.prototype.ajW=function(w){var n=this.ip,H=[];for(var l=0;l<4;l++){var y=this.as1(parseInt(n[l].o()));
n[l].$(y);H.push(y/100)}var c=O.df(H);this.i4={b:c[0],J:c[1],k:c[2]};this.update(!0)};jQ.prototype.auZ=function(w){var n=this.KX,H=parseInt(n[0].o()),y=parseInt(n[1].o()),c=parseInt(n[2].o()),Q=O.l_(H,y,c);
this.i4={b:Q.b/255,J:Q.J/255,k:Q.k/255};this.update()};jQ.prototype.b$=function(w){var n;if(w.currentTarget==this.tJ)n=this.tJ.o();
else{n=w.currentTarget==this.zj?this.zj.o():this.DW.value;if(n.charAt(0)=="#")n=n.slice(1);if(n.length==3)n=n[0]+n[0]+n[1]+n[1]+n[2]+n[2];
n=O.eu(n)}this.i4={b:(n>>16&255)/255,J:(n>>8&255)/255,k:(n&255)/255};this.update()};jQ.prototype.eN=function(w){var n=w.b,H=w.J,y=w.k;
return Math.round(n*255)<<16|Math.round(H*255)<<8|Math.round(y*255)};jQ.prototype.eL=function(w){this.akc();
var n=this.eN(this.i4);this.Dr(n);this.close();this.es=!1;this.i4=null};jQ.prototype.kV=function(w){this.akc();
if(this.CA)this.Dr(this.eN(this.X7));this.es=!1;this.i4=null};jQ.prototype.akc=function(w){var n=new aL(M.E.L,!0);
n.data={d:M.c.a5w};this.S(n)};jQ.prototype.AB=function(w,n){var H=db.mr(w,n);if(H!=null)this.tJ.$(H);
if(n!=h6.Fz)return;if(this.i4!=null){this.i4={b:(H>>16&255)/255,J:(H>>8&255)/255,k:(H>>0&255)/255};this.update()}};
jQ.prototype.nQ=function(w,n){var H=n.qA,y={b:(H>>16&255)/255,J:(H>>8&255)/255,k:(H>>0&255)/255};if(this.i4==null){var c=new aL(M.E.L,!0);
c.data={d:M.c.N4,Xn:"crosshair",push:!0};this.S(c);this.ta=!1;this.Dr=n.Ro;this.CA=!1;this.es=n.ZL;this.X7=JSON.parse(JSON.stringify(y));
this.a5f.setAttribute("style","height:2.3em;background-color:#"+O.w9(H)+";")}this.i4=y;this.update()};
jQ.prototype.update=function(w){var n=this.i4,H=this.eN(n);this.zj.$(O.w9(H));this.DW.value="#"+O.w9(H);
this.ath.setAttribute("style","height:2.3em;background-color:#"+O.w9(H)+";");var y=this.Qu;y[0].$(Math.round(n.b*255));
y[1].$(Math.round(n.J*255));y[2].$(Math.round(n.k*255));var c=O.qR(n.b,n.J,n.k);y=this.De;y[0].$(Math.round(c.WZ*360));
y[1].$(Math.round(c.ua*100));y[2].$(Math.round(c.X5*100));var Q=O.eT(n.b*255,n.J*255,n.k*255,this.axE);
y=this.KX;y[0].$(Math.round(Q.qm));y[1].$(Math.round(Q.iL));y[2].$(Math.round(Q.k));if(w==null){var q=O.ayp([n.b,n.J,n.k]);
y=this.ip;y[0].$(Math.round(q[0]*100));y[1].$(Math.round(q[1]*100));y[2].$(Math.round(q[2]*100));y[3].$(Math.round(q[3]*100))}this.KG.$(n);
if(this.es){this.Dr(this.eN(this.i4));this.CA=!0}};jQ.prototype.as1=function(w){return Math.max(0,Math.min(100,w))};
jQ.prototype.OR=function(w){return Math.max(0,Math.min(255,w))};jQ.prototype.wj=function(w){return Math.max(0,Math.min(1,w))};
function jS(){dj.call(this,[11,2],"contoureditor");this.a3X=null;this.wN=null;this.response=null;this.FT=s.t("div","cell");
this.body.appendChild(this.FT);this.ky=s.t("div","cell padded");this.body.appendChild(this.ky);var w=s.t("div","bordered padded vmargin");
this.FT.appendChild(w);this._j=new f7(null,null,!0);this._j.h(M.E.A,this.KB,this);w.appendChild(this._j.n);
this.JB=s.gi(this,this.ky);this.h("closebtn",this.yZ,this)}jS.prototype=new dj;jS.prototype.eL=function(){this.close()};
jS.prototype.f=function(){dj.prototype.f.call(this);this.JB.f();this._j.f()};jS.prototype.KB=function(w){this.wN.Crv.v=this._j.o();
this.response(this.wN)};jS.prototype.yZ=function(w){this.response(this.a3X)};jS.prototype.nQ=function(w,n){this.a3X=JSON.parse(JSON.stringify(n.GN));
this.wN=n.GN;this.response=n.response;this._j.$(this.wN.Crv.v)};function bh(){dj.call(this,[11,3],"csize");
this.rA=0;this.NZ=s.t("div","form");this.NZ.setAttribute("style","width:22em; margin-bottom:1em;");this.body.appendChild(this.NZ);
this.x7=new eT(!0,!0,!0,!0,!0);this.x7.a3Y(!1);this.NZ.appendChild(this.x7.n);this.Ew=new iY("Align with",[[8,7,0],[12,6]]);
this.Ew.h(M.E.A,this.ajT,this);this.zb=new b5([12,23,2],41);this.NZ.appendChild(this.zb.n);this.zb.$(4);
this.Fm=new i5(!1);this.Fm.ay0(new ce(0,0));this.JB=s.gi(this,this.body)}bh.prototype=new dj;bh.prototype.qg=function(w,n){return w!=null};
bh.prototype.i7=function(){return!0};bh.prototype.XT=function(w){return[b8.dw,b8.sw,b8.sm,b8.JL].indexOf(w)!=-1};
bh.prototype.QI=function(w,n,H,y){if(y.l(b8.IO))this.eL();this.zb.asK(y.oY())};bh.prototype.ajT=function(){var w=[this.zb.n,this.Fm.n];
this.NZ.removeChild(w[this.rA]);this.rA=this.Ew.o();this.NZ.appendChild(w[this.rA])};bh.prototype.f=function(){dj.prototype.f.call(this);
this.x7.f();this.Ew.f();this.zb.f();this.Fm.f();this.JB.f()};bh.prototype.eL=function(w){var n=this.x7.o(),H=n.x,y=n.y,c=new aL(M.E.dp,!0);
c.data=P.RP.agJ(H,y,this.zb.o());this.close();this.S(c)};bh.prototype.nQ=function(w,n){this.x7.$(new ce(w.m,w.e),w.uP);
this.x7.P5()};function cl(){dj.call(this,[11,4],"duplinto");this.jQ=null;this.Lh=null;this.Ds=null;var w=s.t("div","form");
w.setAttribute("style","max-width:26em");this.body.appendChild(w);this.rC=new dw([12,43],["abc","def"]);
this.rC.h(M.E.A,this.x1,this);w.appendChild(this.rC.n);s.yD(w);this.Eh=new dw([1,16,0],["abc","def"]);
this.Eh.h(M.E.A,this.x1,this);w.appendChild(this.Eh.n);s.yD(w);this.hY=new f0([12,48],null,14);w.appendChild(this.hY.n);
this.JB=s.gi(this,w)}cl.prototype=new dj;cl.prototype.i7=function(){return!0};cl.prototype.f=function(){dj.prototype.f.call(this);
this.JB.f();this.rC.f();this.hY.f()};cl.prototype.x1=function(w){if(w&&w.target==this.Eh)return;var n=this.rC.o(),H=this.Lh[n],y=this.jQ,c=H!=null&&H.add.artd!=null;
for(var l=0;l<y.g.length;l++)if(y.B[y.g[l]].add.artb)c=!1;this.hY.rD(n==this.Lh.length);this.Eh.rD(c);
if(c){var Q=H.root.children,q=[],S=this.Ds=[];for(var l=0;l<Q.length;l++){var A=Q[l].j;if(A.add.artb)q.push(A.getName());
S.push(Q[l].index)}this.Eh.pe(q);this.Eh.$(0)}else this.Ds=null};cl.prototype.nQ=function(w,n,H){this.jQ=w;
this.Lh=H;this.hY.$(w.g.length==0?"Layer":w.B[w.g[0]].getName());var y=[];for(var l=0;l<H.length;l++){var c=H[l].name;
y.push(c.length<30?c:c.slice(0,27)+"...")}y.push([11,7]);this.rC.pe(y);this.rC.$(H.indexOf(w));this.x1(null)};
cl.prototype.eL=function(w){var n=this.rC.o();if(n==this.Lh.length){var H=new iC(this.hY.o()+".psd"),y=this.jQ.m,c=this.jQ.e,Q=this.jQ.Zf();
if(Q!=-1){var q=this.jQ.B[Q].oC();y=q.m;c=q.e}H.m=y;H.e=c;H.buffer=O.R(H.m*H.e*4);var S=H.mX();S.nY("Background");
H.UF([S]);var A=new aL(M.E.L,!0);A.Pg=!0;A.data={d:M.c.uJ,z3:H};this.S(A)}var V=this.jQ.e_(null,this.jQ!=this.Lh[n]),A=new aL(M.E.v,!0);
A.data={d:a.J6,B:V,tD:this.jQ,d3:this.Lh[n]};if(this.Ds)A.data.qf=this.Ds[this.Eh.o()];A.G=P.YV;A.Pg=!0;
this.S(A);this.close()};function dh(){dj.call(this,[1,9],"eassets");this.Uz=null;this.mC=null;var w=this.body;
s.li(w,"form");w.style.width="32em";this.Dh=new iY(null,["Layers","Combinations"]);this.Dh.h(M.E.A,this.Zw,this);
w.appendChild(this.Dh.n);s.SR(w);this.D0=s.t("span");w.appendChild(this.D0);this.gz=s.t("div");w.appendChild(this.gz);
var n=s.t("div"),H=s.t("div","flexrow");this.akW=[n,H];this.fN=[new jH("Only layers / folders, whose name starts with \"-e-\""),new jH("Remove parts outside the canvas"),new jH("Trim transparent parts")];
for(var l=0;l<3;l++){var y=this.fN[l];y.$(!0);y.h(M.E.A,this.Zw,this);n.appendChild(y.n);s.yD(n)}this.Qh=new iS([12,14,0],["1x","2x","3x","4x"]);
this.Qh.$([!0,!1,!1,!1]);n.appendChild(this.Qh.n);var c=s.t("div");H.appendChild(c);var Q=s.t("img");
Q.setAttribute("src","img/nft.png");Q.style.width="150px";H.appendChild(Q);var q=s.t("span");q.textContent="File Names:";
c.appendChild(q);this.Ty=new iS(null,["1-0-1.XYZ","head1-eyes0-mouth1.XYZ","red-green-brown.XYZ"],!1,null,!0);
c.appendChild(this.Ty.n);this.Ty.$([!0,!1,!1]);s.SR(w);this.we=["PNG","JPG","SVG","TIFF","TGA"];this.Ze=new dw([12,50],this.we);
this.Ze.h(M.E.A,this.n2,this);w.appendChild(this.Ze.n);this.Ck=new fX;w.appendChild(this.Ck.n);this.JB=new eO([1,9],!0,null,!0);
this.JB.h("click",this.eL,this);w.appendChild(this.JB.n);this.h("closebtn",this.oH,this)}dh.prototype=new dj;
dh.prototype.n2=function(w){this.Ck.$f(this.we[this.Ze.o()],!1,!1,!1,this.mC.lq()!=null)};dh.prototype.oH=function(w){this.mC=null};
dh.prototype.f=function(){dj.prototype.f.call(this);this.Ze.f();this.Qh.f();this.JB.f();this.Ck.f()};
dh.prototype.nQ=function(w,n,H){this.mC=w;this.Zw()};dh.prototype.Zw=function(w){var n=this.Dh.o(),H;
s.Of(this.gz);this.gz.appendChild(this.akW[n]);if(n==0){var y=this.a8U();H=y.length+" exportable layers"}else{var y=this.a7C();
H=y[1]+" combinations ("+y[0].join(" \xD7 ")+")"}this.D0.textContent="- - - "+H;this.n2(null)};dh.prototype.a8U=function(){var w=this.fN[0].o(),n=[],H=this.mC;
for(var l=0;l<H.B.length;l++){var y=H.B[l],c=y.getName();if(!w&&!y.Ok()&&!y.rect._G()||c.startsWith("-e"))n.push(l)}return n};
dh.prototype.a7C=function(){var w=this.mC,n=w.root.children,H=[],y=1,c=[];for(var l=0;l<n.length;l++){var Q=n[l],q=Q.j;
if(q.Ok()){var S=Q.children.length;H.push(S);y*=S;c.push(Q.index)}q}return[H,y,c]};dh.prototype.AB=function(w,n){this.Uz=w};
dh.prototype.eL=function(w){var n=this.mC,H=this.Dh.o(),y=[this.we[this.Ze.o()]],c=[this.Ck.o()],Q={};
if(H==0){var q=this.Qh.o(),S={},A=this.a8U();if(A.length==0){alert("No layers to export.");return}var V=[this.fN[1].o(),this.fN[2].o()];
for(var l=0;l<A.length;l++){var e=A[l],d=n.B[e],b=d.getName();if(S[b]!=null){S[b]++;b+=" "+S[b]}else S[b]=1;
var z=d.tl();d.WH(!0);for(var v=0;v<q.length;v++){if(!q[v])continue;var T=v+1,Y=P.xz.a1n(n,y,T,this.Uz,e,c,V);
for(var g=0;g<y.length;g++){var R=y[g],h=b.slice(b.startsWith("-e-")?3:0)+(T==1?"":"@"+T+"x")+"."+R.toLowerCase();
if(Y[g])Q[h]=new Uint8Array(Y[g])}}d.WH(z)}}else{var z=[];for(var l=0;l<n.B.length;l++)z.push(n.B[l].tl());
var E=this.a7C(),G=E[0],A=E[2],k=[];function $(I,e,x,J){if(e==I.length){J.push(x.slice(0));return}var r=I[e];
for(var l=0;l<r;l++){x.push(l);$(I,e+1,x,J);x.pop(l)}}$(G,0,[],k);var p=this.Ty.o().indexOf(!0);for(var X=0;
X<k.length;X++){var C=k[X],D=[];for(var l=0;l<C.length;l++){var o=n.root.wO(A[l]);for(var v=0;v<o.children.length;
v++)o.children[v].j.WH(!1);var t=o.children[C[l]].j;D.push(p==2?t.getName():o.j.getName()+C[l]);t.WH(!0)}n.U();
n.eU();var u=(p==0?C:D).join("-")+"."+y[0].toLowerCase();Q[u]=new Uint8Array(cb._L(n,y[0],n.m,n.e,c[0],this.Uz))}for(var l=0;
l<n.B.length;l++)n.B[l].WH(z[l]);n.U()}var m=UZIP.encode(Q),U=new aL(M.E.L,!0);U.data={d:M.c.fI,data:m,name:"assets.zip"};
this.S(U)};function cx(){dj.call(this,"Export Color Lookup Tables","exlut");this.Uz=null;this.mC=null;
var w=s.t("div","form");w.setAttribute("style","width:20em");this.body.appendChild(w);this.fN=[new kc("Grid Points",1,256),new iY([12,50],[".CUBE"])];
var n=[16,0];for(var l=0;l<this.fN.length;l++){var H=this.fN[l];H.$(n[l]);H.parent=this;H.h(M.E.A,this.Zw,this);
w.appendChild(H.n);s.yD(w)}this.JB=s.gi(this,w);this.h("closebtn",this.oH,this)}cx.prototype=new dj;
cx.prototype.qg=function(w,n){if(Math.min(w.m,w.e)<16){alert("The document must be at least 16 x 16 pixels.",3200);
return!1}if(w.B.length<2){alert("There must be a background layer and some adjustment layers.",3200);
return!1}return!0};cx.prototype.oH=function(w){this.mC=null};cx.prototype.AB=function(w,n){this.Uz=w};
cx.prototype.nQ=function(w,n,H){this.mC=w};cx.prototype.eL=function(){var w=this.mC,n=this.fN[0].o(),H=[],y=new cr(0,0,w.m,w.e),c=O.R(n*n*4),Q=c.slice(0),q=new cr(w.m-n>>>1,w.e-n>>>1,n,n),S=w.B[0],A=S.buffer,V=S.rect;
S.rect=q;S.buffer=c;for(var e=0;e<n;e++){this.a8u(n,e,c);S.U(q);w.U(q);var d=w.E$();O.j1(d,y,Q,q);for(var N=0;
N<n;N++)for(var b=0;b<n;b++){var z=N*n+b<<2;H.push(Q[z]/255,Q[z+1]/255,Q[z+2]/255)}}var v=gE.a03(H,n,w.name);
f1.save(v,w.name.split(".")[0]+".CUBE");S.buffer=A;S.rect=V;S.U();w.U()};cx.prototype.a8u=function(w,n,H){var y=255/(w-1),c=Math.round(n*y);
for(var Q=0;Q<w;Q++)for(var q=0;q<w;q++){var S=Q*w+q<<2;H[S]=Math.round(q*y);H[S+1]=Math.round(Q*y);
H[S+2]=c;H[S+3]=255}};cx.prototype.f=function(){dj.prototype.f.call(this);for(var l=0;l<this.fN.length;
l++)this.fN[l].f();this.JB.f()};function bw(){dj.call(this,[1,14],"finfo");this.st=null;this.KT=null;
this.xm=null;this.NZ=s.t("div","form scrollable label12");this.NZ.setAttribute("style","width:35em;  height:38em;  margin-bottom:8px");
this.body.appendChild(this.NZ);var w=s.t("div","form");this.body.appendChild(w);this.ND=new dw(null,["Hello"]);
w.appendChild(this.ND.n);this.aym=new eO("Add Parameter",!1,null,!0);w.appendChild(this.aym.n);this.aym.h("click",this.V0,this);
this.$z=new eO("=== S A V E ===",!1,null,!0);w.appendChild(this.$z.n);this.$z.h("click",this.aA,this);
this.aj2=""}bw.prototype=new dj;bw.prototype.oG=function(w,n){return w<450||n<450?new ce(0,0):new ce(150,100)};
bw.prototype.V0=function(w){if(this.xm.length==0)return;var n=this.xm[this.ND.o()],H=this.ve();H[n]=ka.U7[n][0];
this.N7(H);this.KT[n].n.scrollIntoView();this.KT[n].P5()};bw.prototype.M5=function(w){var n=this.ve();
delete n[w.currentTarget.a0A];this.N7(n)};bw.prototype.aA=function(w){var n=this.ve(),H=this.st,y=!0;
for(var c in H)if(JSON.stringify(H[c])!=JSON.stringify(n[c]))y=!1;for(var c in n)if(JSON.stringify(H[c])!=JSON.stringify(n[c]))y=!1;
if(y)return;var Q=new aL(M.E.v,!0);Q.G=P.YV;Q.data={d:a.HM,OG:n};this.S(Q);this.st=n;this.N7(n)};bw.aoz=function(w){function n(c){var Q=c.toLowerCase();
return c==Q}var H=w.split(":").pop();for(var y=1;y<H.length-1;y++){if(H[y]==H[y].toUpperCase()&&(n(H[y+1])||n(H[y-1]))){H=H.slice(0,y)+" "+H.slice(y);
y++}}return H};bw.prototype.nQ=function(w,n){this.st=w.zN;this.N7(w.zN)};bw.prototype.N7=function(w){var n=this.NZ,c=0;
s.Of(n);var H=this.KT={},y=["tiff","exif","exif:GPS"],Q=this.xm=[],q=[];for(var S in ka.U7){var A=bw.aoz(S),V=0,e=15,d=null;
if(w[S]==null){if(ka.U7[S].length!=1||S=="photoshop:Credit"||S=="photoshop:Source"){Q.push(S);q.push(A)}continue}for(var l=0;
l<y.length;l++)if(S.startsWith(y[l]))V=l;if(V!=c){s.SR(n);c=V}if(S=="tiff:ImageDescription"||S=="dc:Keywords"){e=18.5;
d=3}var N=new f0(A,null,e,d);H[S]=N;var b=w[S];if(b instanceof Array)b=b[1]==0?"---":b[0]+"/"+b[1];var z=new eO("\u2716",null,hV.get([5,4]));
n.appendChild(z.n);z.h("click",this.M5,this);z.a0A=S;N.$(b);n.appendChild(N.n);s.yD(n);if(S=="exif:GPSLongitude"&&w["exif:GPSLatitude"]){this.aj2=bw.al4(w["exif:GPSLatitude"])+","+bw.al4(w["exif:GPSLongitude"]);
var v=new eO("Show on map",!1,null,!0);n.appendChild(v.n);s.yD(n);v.h("click",this.apE,this)}}this.ND.pe(q);
this.ND.$(0)};bw.prototype.ve=function(){var w=this.KT,n=ka.U7,H={};for(var y in n){var c=n[y][0],Q=typeof c;
if(c==null||w[y]==null)continue;var q=w[y].o(),S="The value of \""+bw.aoz(y)+"\" must ";if(Q=="number"){q=parseFloat(q);
if(isNaN(q)){alert(S+"be a number.");q=c}}else if(c instanceof Array&&c.length==2){if(q.indexOf("/")==-1){alert(S+"be a fraction.");
q=c.slice(0)}else{q=q.split("/").map(parseFloat);if(isNaN(q[0])||isNaN(q[1])){q=c.slice(0)}}}H[y]=q}return H};
bw.al4=function(w){var n=w.length,H=w.slice(0,n-1).split(",").map(parseFloat),y=w.slice(n-1),c=H[0]+H[1]/60+H[2]/3600;
if(y!="N"&&y!="E")c=-c;return c};bw.prototype.apE=function(w){window.open("https://maps.google.com?q="+this.aj2,"Map")};
function hw(){dj.call(this,[11,5],"gradienteditor");this.X7=null;this.i4=null;this.BF=null;this.Dr=null;
this.CA=!1;this.es=!1;this.UJ=null;this.Lj=null;this.hb=-1;this.Wv=-1;this.vo=0;this.XL=this.Zz.bind(this);
this.p$=this.SH.bind(this);this.F=s.t("canvas");this.NK=this.F.getContext("2d");this.F.setAttribute("style","display:block");
this.Sj=null;s.g0(this.F);s.am(this.F,this.IR.bind(this));this.tR=s.t("div","form");this.I$=s.t("div");
this.eH=s.t("div","form");this.Uj=s.t("div");this.zU=new dw([12,44],[[15,10,0],[24,6]]);this.zU.h(M.E.A,this.Yz,this);
this.body.appendChild(this.zU.n);s.SR(this.body);var w=this.tR;this.C7=new kc([19,3,3],0,100,"%");this.C7.h(M.E.A,this.Yz,this);
this.C7.parent=this;w.appendChild(this.C7.n);s.yD(w);this.Z1=new iD([12,0]);w.appendChild(this.Z1.n);
this.Q4=s.t("div","bordered padded noalign");w.appendChild(this.Q4);this.wi=new kc([12,0],0,100,"%");
this.wi.parent=this;this.wi.h(M.E.A,this.Yz,this);this.Q4.appendChild(this.wi.n);this.ZI=new kc([12,40],0,100,"%");
this.ZI.parent=this;this.ZI.h(M.E.A,this.Yz,this);this.Q4.appendChild(this.ZI.n);this.ng=new eO([5,4],!1,null,!0);
this.ng.h("click",this.acV,this);this.Q4.appendChild(this.ng.n);w.appendChild(this.I$);this.amp=new iD([13,0]);
w.appendChild(this.amp.n);this.yh=s.t("div","bordered padded noalign");w.appendChild(this.yh);this.k$=new dw([12,44],[[12,45],[12,46],[12,47]]);
this.k$.h(M.E.A,this.Yz,this);this.yh.appendChild(this.k$.n);this.oI=new hF(!0);this.oI.parent=this;
this.oI.h(M.E.A,this.Yz,this);this.yh.appendChild(this.oI.n);this.m4=new kc([12,40],0,100,"%");this.m4.parent=this;
this.m4.h(M.E.A,this.Yz,this);this.yh.appendChild(this.m4.n);this.GP=new eO([5,4],!1,null,!0);this.GP.h("click",this.a7r,this);
this.yh.appendChild(this.GP.n);var w=this.eH;this.fP=new kc("Roughness",0,100,"%");this.fP.h(M.E.A,this.Yz,this);
this.fP.parent=this;w.appendChild(this.fP.n);w.appendChild(this.Uj);this.hI=new eO([25,1,2],!1,null,!0);
this.hI.h("click",this.Yz,this);w.appendChild(this.hI.n);this.JB=s.gi(this);this.h("closebtn",this.kV,this)}hw.prototype=new dj;
hw.prototype.kV=function(w){if(this.CA)this.Dr(this.X7)};hw.prototype.f=function(){dj.prototype.f.call(this);
this.JB.f();this.C7.f();this.Z1.f();this.amp.f();this.ng.f();this.GP.f();this.wi.f();this.ZI.f();this.k$.f();
this.m4.f();this.hI.f()};hw.prototype.AB=function(w,n){this.BF=w};hw.prototype.nQ=function(w,n){this.i4=JSON.parse(JSON.stringify(n.M));
this.X7=JSON.parse(JSON.stringify(n.M));this.UJ=this.Lj=null;this.Dr=n.Ro;this.CA=!1;this.es=n.ZL;this.kZ();
this.mZ()};hw.prototype.eL=function(w){var n=this.i4;this.Dr(n);this.close()};hw.prototype.XT=function(w){return w==b8.DB||w==b8.uU};
hw.prototype.QI=function(w,n,H,y){if(y.l(b8.DB)||y.l(b8.uU)){if(this.Lj)this.acV();if(this.UJ)this.a7r()}};
hw.prototype.acV=function(w){var n=this.i4.Trns.v;if(this.Lj==null||n.length==1)return;n.splice(n.indexOf(this.Lj),1);
this.Lj=null;this.kZ();this.mZ()};hw.prototype.a7r=function(w){var n=this.i4.Clrs.v;if(this.UJ==null||n.length==1)return;
n.splice(n.indexOf(this.UJ),1);this.UJ=null;this.kZ();this.mZ()};hw.prototype.kZ=function(){var w=this.F,n=this.NK,H=s.V();
w.width=Math.floor(410*H);w.height=Math.floor(70*H);s.cD(w,w.width,w.height);w.style.marginTop="8px";
this.Sj=new cr(0,0,Math.floor(380*H),Math.floor(32*H));this.Sj.x=Math.floor((w.width-this.Sj.m)/2);this.Sj.y=Math.floor((w.height-this.Sj.e)/2);
var y=this.Sj,c=y.m,Q=y.e,q=y.x,S=y.y,A=new cr(0,0,c,Q),V=n.getImageData(0,0,c,Q),e=new Uint8Array(V.data.buffer);
O.DE(e,c,Q,8);var d=O.R(c*Q*4);O.M.DN(this.i4,d,A,[1/c,0,0,1/Q],c/2,Q/2,!1,0,this.BF.Ni,this.BF.uu);
O.q.SG("norm",d,y,e,y,y,1);n.clearRect(0,0,w.width,w.height);n.putImageData(V,q,S);var N=this.i4;if(N.Clrs){var b=N.Trns.v,z=N.Clrs.v,v=O.M.hr(N,this.BF.Ni,this.BF.uu),T=Math.round(6*s.V()),Y=Math.round(14*s.V()),g=this.Lj?this.Lj.v:null,R=this.UJ?this.UJ.v:null;
for(var l=0;l<b.length;l++){var h=b[l].v,E=Math.round(255-255*h.Opct.v.val/100);if((h==g||b[l-1]&&b[l-1].v==g||l==this.Wv)&&l!=0){n.fillStyle="#000000";
n.fillRect(q-3+c*(b[l-1].v.Lctn.v+(h.Lctn.v-b[l-1].v.Lctn.v)*h.Mdpn.v/100)/4096,S-6-2,6,6)}if(h==g){n.fillStyle="#ffffff";
n.fillRect(q-T+c*(h.Lctn.v/4096)-2,S-2-Y-2,2*T+4,Y+4)}n.fillStyle="rgb("+E+","+E+","+E+")";n.fillRect(q-T+c*(h.Lctn.v/4096),S-2-Y,2*T,Y)}for(var l=0;
l<z.length;l++){var G=z[l].v,k=v[0][l][0];if((G==R||z[l-1]&&z[l-1].v==R||l==this.hb)&&l!=0){n.fillStyle="#000000";
n.fillRect(q-3+c*(z[l-1].v.Lctn.v+(G.Lctn.v-z[l-1].v.Lctn.v)*G.Mdpn.v/100)/4096,S+Q+2,6,6)}if(G==R){n.fillStyle="#ffffff";
n.fillRect(q-T+c*(G.Lctn.v/4096)-2,S+Q+2-2,2*T+4,Y+4)}n.fillStyle="rgb("+Math.round(k.b)+", "+Math.round(k.J)+","+Math.round(k.k)+")";
n.fillRect(q-T+c*(G.Lctn.v/4096),S+Q+2,2*T,Y)}}if(this.es){this.Dr(this.i4);this.CA=!0}};hw.prototype.mZ=function(){var w=this.i4,n=w.Clrs?0:1;
this.zU.$(n);if(s._Q(this.tR))this.body.removeChild(this.tR);if(s._Q(this.eH))this.body.removeChild(this.eH);
(n==0?this.I$:this.Uj).appendChild(this.F);if(n==0){this.body.appendChild(this.tR);this.C7.$(Math.round(100*w.Intr.v/4096));
var H=w.Trns.v,y=w.Clrs.v,c=this.Lj!=null,Q=this.Wv!=-1;this.wi.rD(c);this.ZI.rD(c||Q);this.ng.rD(c);
if(c){this.Q4.setAttribute("style","");var q=this.Lj.v;this.ZI.$(Math.round(100*q.Lctn.v/4096));this.wi.$(q.Opct.v.val)}if(Q)this.ZI.$(H[this.Wv].v.Mdpn.v);
var c=this.UJ!=null,Q=this.hb!=-1;this.k$.rD(c);this.oI.rD(c);this.m4.rD(c||Q);this.GP.rD(c);if(c){this.yh.setAttribute("style","");
var S=this.UJ.v;this.m4.$(Math.round(100*S.Lctn.v/4096));var A=S.Type.v.Clry;this.k$.$(["FrgC","BckC","UsrS"].indexOf(A));
if(A=="FrgC")this.oI._U(this.BF.Ni);if(A=="BckC")this.oI._U(this.BF.uu);if(A=="UsrS")this.oI.$(S.Clr.v)}if(Q)this.m4.$(y[this.hb].v.Mdpn.v)}else{this.body.appendChild(this.eH);
this.fP.$(Math.round(100*w.Smth.v/4096))}this.body.appendChild(this.JB.n)};hw.prototype.Yz=function(w){var n=this.i4,H=n.Clrs?0:1;
if(w.target==this.zU){var y=H==0?JSON.parse(d5.n0.atZ).v:gT.B1("grdm").Grad.v;this.i4=y;this.mZ();this.kZ();
return}if(H==0){n.Intr.v=Math.round(4096*this.C7.o()/100);var c=n.Trns.v,Q=n.Clrs.v;if(this.Lj!=null){var q=this.Lj.v;
q.Lctn.v=Math.round(4096*(this.ZI.o()/100));q.Opct.v.val=this.wi.o()}if(this.UJ!=null){var S=this.UJ.v;
S.Lctn.v=Math.round(4096*(this.m4.o()/100));if(w.target==this.oI)this.k$.$(2);var A=this.k$.o();S.Type.v.Clry=["FrgC","BckC","UsrS"][A];
if(A==2)S.Clr={t:"Objc",v:this.oI.o()};else if(S.Clr)delete S.Clr}if(this.Wv!=-1)c[this.Wv].v.Mdpn.v=this.ZI.o();
if(this.hb!=-1)Q[this.hb].v.Mdpn.v=this.m4.o()}else{n.Smth.v=Math.round(4096*this.fP.o()/100);if(w.target==this.hI)n.RndS.v=Math.floor(Math.random()*4294967295)}this.kZ()};
hw.prototype.IR=function(w){var n=s.E4(w,this.F),H=this.Sj,y=(n.x*s.V()-H.x)/H.m,c=(n.y*s.V()-H.y)/H.e,Q=this.i4.Trns.v,q=this.i4.Clrs.v,S=null,A=null,V=-1,e=-1;
if(c<1)for(var l=0;l<Q.length;l++){var d=Q[l].v;if(Math.abs(d.Lctn.v/4096-y)<.02)S=Q[l];if(l>0)if(Math.abs((Q[l-1].v.Lctn.v+(d.Lctn.v-Q[l-1].v.Lctn.v)*d.Mdpn.v/100)/4096-y)<.01)V=l}if(c>0)for(var l=0;
l<q.length;l++){var N=q[l].v;if(Math.abs(N.Lctn.v/4096-y)<.02)A=q[l];if(l>0)if(Math.abs((q[l-1].v.Lctn.v+(N.Lctn.v-q[l-1].v.Lctn.v)*N.Mdpn.v/100)/4096-y)<.01)e=l}if(A==null&&S==null&&V==-1&&e==-1){if(c<0){var d={t:"Objc",v:{classID:"TrnS",Opct:{t:"UntF",v:{type:"#Prc",val:100}},Lctn:{t:"long",v:0},Mdpn:{t:"long",v:50}}};
d.v.Lctn.v=Math.round(y*4096);Q.push(d);Q.sort(this.Xr);S=d}if(c>1){var q=this.i4.Clrs.v,b=O.M.hr(this.i4,this.BF.Ni,this.BF.uu),z=O.M.uz(this.i4,b,y),N={t:"Objc",v:{classID:"Clrt",Clr:{t:"Objc",v:O.M.Yw({b:z&255,J:z>>8&255,k:z>>16&255})},Type:{t:"enum",v:{Clry:"UsrS"}},Lctn:{t:"long",v:0},Mdpn:{t:"long",v:50}}};
N.v.Lctn.v=Math.round(y*4096);q.push(N);q.sort(this.Xr);A=N}}if(A!=null)e=-1;if(S!=null)V=-1;if(A!=null||S!=null||V>-1||e>-1){this.Lj=S;
this.UJ=A;this.Wv=V;this.hb=e;this.mZ();this.kZ();s.I7(window,this.XL);s.vM(window,this.p$)}};hw.prototype.Zz=function(w){var n=s.E4(w,this.F),H=this.Sj,y=(n.x*s.V()-H.x)/H.m,c=(n.y*s.V()-H.y)/H.e;
y=Math.max(0,Math.min(1,y));var Q=this.i4.Trns.v,q=this.i4.Clrs.v;if(this.Lj!=null){var S=this.Lj.v;
S.Lctn.v=Math.round(4096*y);var A=Q.indexOf(this.Lj);if(A!=-1&&c<-1&&Q.length>1)Q.splice(A,1);if(A==-1&&c>-1)Q.push(this.Lj);
Q.sort(this.Xr)}if(this.UJ!=null){var V=this.UJ.v;V.Lctn.v=Math.round(4096*y);var e=q.indexOf(this.UJ);
if(e!=-1&&c>2&&q.length>1)q.splice(e,1);if(e==-1&&c<2)q.push(this.UJ);q.sort(this.Xr)}if(this.Wv>-1){var S=Q[this.Wv].v;
S.Mdpn.v=Math.max(5,Math.min(95,Math.round(100*(y*4096-Q[this.Wv-1].v.Lctn.v)/(S.Lctn.v-Q[this.Wv-1].v.Lctn.v))))}if(this.hb>-1){var V=q[this.hb].v;
V.Mdpn.v=Math.max(5,Math.min(95,Math.round(100*(y*4096-q[this.hb-1].v.Lctn.v)/(V.Lctn.v-q[this.hb-1].v.Lctn.v))))}if(this.Lj!=null||this.UJ!=null||this.Wv>-1||this.hb>-1){this.mZ();
this.kZ()}};hw.prototype.SH=function(w){s.kg(window,this.XL);s.v8(window,this.p$);if(Date.now()-this.vo<300){if(this.hb!=-1||this.Wv!=-1){var n=(this.hb!=-1?this.i4.Clrs.v[this.hb]:this.i4.Trns.v[this.Wv]).v;
n.Mdpn.v=50;this.mZ();this.kZ()}else if(this.UJ!=null)this.oI.Hz()}this.vo=Date.now()};hw.prototype.Xr=function(w,n){return w.v.Lctn.v-n.v.Lctn.v};
function b2(){dj.call(this,[11,10],"isize");this.NZ=s.t("div","form");this.NZ.setAttribute("style","width:20em");
this.body.appendChild(this.NZ);this.x7=new eT(!0,!0,null,null,!0);this.NZ.appendChild(this.x7.n);this.Vy=new jH([12,25,3]);
this.Vy.$(!0);this.NZ.appendChild(this.Vy.n);this.Vy.h(M.E.A,this.az7,this);this.fV=new dw([12,14,1],[[12,14,2],[12,14,3],[12,14,4]]);
this.fV.$(1);this.NZ.appendChild(this.fV.n);this.JB=s.gi(this,this.body)}b2.prototype=new dj;b2.prototype.qg=function(w,n){return w!=null};
b2.prototype.i7=function(){return!0};b2.prototype.az7=function(w){var n=this.Vy.o(),H=this.x7,y=this.fV;
if(n)y.ZF();else y.j7();H.arj(n)};b2.prototype.f=function(){dj.prototype.f.call(this);this.Vy.f();this.JB.f();
this.fV.f();this.x7.f()};b2.prototype.eL=function(w){this.close();var n=this.x7.o(),H=n.x,y=n.y,c=this.fV.o();
if(!this.Vy.o())c=null;var Q=new aL(M.E.dp,!0);Q.data=P.RP.auW(H,y,this.x7.ed(),c);this.S(Q)};b2.prototype.nQ=function(w,n){this.x7.$(new ce(w.m,w.e),w.uP);
this.x7.P5()};function f5(){dj.call(this,"Import RAW","importraw");var w=s.t("div","flexrow"),n=s.t("div");
n.setAttribute("style","margin-bottom: 1em");this.body.appendChild(w);this.body.appendChild(n);var H=s.t("div","form");
H.setAttribute("style","width:18em");w.appendChild(H);var y=s.t("div","form");y.setAttribute("style","width:15em");
w.appendChild(y);this.Zy=null;this.mR=null;this.Iv=null;this.UD=null;this.ayi=[];var c=[];for(var l=0;
l<f5.FA.length;l++)c.push(f5.FA[l]+" Bits");var Q=this.ZA=[new eT(!0,null,null,!0),new kc([12,72],1,8),new jH("Last one is Transparency"),new iY([12,34],c),new iY("Byte Order",["12-34","34-12"]),new dw("Guesses",[])];
for(var l=0;l<Q.length;l++){var q=Q[l];q.parent=this;q.h(M.E.A,l==5?this.asx:this.x1,this);var S=l==0?H:l==5?n:y;
S.appendChild(q.n)}this.F=s.t("canvas");this.NK=this.F.getContext("2d");this.body.appendChild(this.F);
this.JB=s.gi(this,this.body)}f5.prototype=new dj;f5.prototype.f=function(){dj.prototype.f.call(this);
var w=this.ZA;this.JB.f();for(var l=0;l<w.length;l++)w[l].f()};f5.prototype.eL=function(w){this.close();
var n=this.ZA[0].o(),H=cb.xx(this.mR,[{data:this.Iv,Zg:new cr(0,0,n.x,n.y)}]);if(this.UD)H.d4=this.UD;
var y=new aL(M.E.L,!0);y.data={d:!0?M.c.uJ:M.c.Tr,z3:H};this.S(y)};f5.FA=[8,16];f5.prototype.nQ=function(w,n){this.Zy=new Uint8Array(n.rj);
this.mR=n.w5;var H=this.Zy.length,y=[1,3,4],c=0,Q=0,q=1,S=1,A=this.ayi=[],V=Math.round(Math.sqrt(H)*2);
V=Math.max(V,4e3);for(var e=0;e<3;e++){for(var d=0;d<2;d++){var N=f5.FA[d],b=y[e],z=b*N,v=Math.round(H*8/z);
if(v!=H*8/z)continue;for(var T=0;T<=V;T++)for(var Y=0;Y<=V;Y++)if(T*Y==v){var g=0;if(T==Y)g+=64;if(Math.round(T/100)==T/100&&Math.round(Y/100)==Y/100)g+=32;
if(Math.round(T/10)==T/10&&Math.round(Y/10)==Y/10)g+=16;if(Math.round(T/2)==T/2&&Math.round(Y/2)==Y/2)g+=8;
A.push([T,Y,b,N,g])}}}var R=function(k,$){if($[4]!=k[4])return $[4]-k[4];var p=Math.max(k[0],k[1])/Math.min(k[0],k[1]),X=Math.max($[0],$[1])/Math.min($[0],$[1]);
if(p!=X)return p-X;return $[0]-k[0]};A.sort(R);var h=this.ZA,E=[];for(var l=0;l<A.length;l++){var G=A[l];
E.push(G[0]+" x "+G[1]+", "+G[2]+"ch, "+G[3]+"-bit")}h[5].pe(E);h[5].$(0);this.asx(null)};f5.prototype.asx=function(w){var n=this.ZA,H=this.ayi[this.ZA[5].o()];
n[0].$(new ce(H[0],H[1]),72);n[1].$(H[2]);n[3].$(f5.FA.indexOf(H[3]));this.x1()};f5.prototype.x1=function(w){var n=this.ZA,H=n[0].o(),y=H.x,c=H.y,Q=f5.FA[n[3].o()],q=this.Zy;
if(Q==16&&n[4].o()==1){q=q.slice(0);for(var l=0;l<q.length;l+=2){var S=q[l];q[l]=q[l+1];q[l+1]=S}}var A=this.Iv=this._N(q,y,c,n[1].o(),Q,n[2].o()),V=this.F,e=this.NK,d=[A,new cr(0,0,y,c)];
O.Qt(d);for(var l=0;l<d.length;l+=2)if(d[l+1].e<300){A=d[l];y=d[l+1].m;c=d[l+1].e;break}V.width=y;V.height=c;
s.cD(V,y,c);var N=new ImageData(new Uint8ClampedArray(A.buffer),y,c);e.putImageData(N,0,0)};f5.prototype._N=function(w,n,H,y,c,Q){this.UD=null;
var q=[],S=n*H;for(var A=0;A<y;A++){var V=O.R(S);q.push(V);if(c==8)for(var l=0;l<S;l++)V[l]=w[l*y+A];
else if(c==16)for(var l=0;l<S;l++)V[l]=Math.round((w[(l*y+A)*2]<<8|w[(l*y+A)*2+1])*(255/65535))}var e=O.R(S*4);
new Uint32Array(e.buffer).fill(4278190080);if(Q){O.o2(q.pop(),e,3);y--}if(y==0){}else if(y==1)O.Bk(q[0],e);
else{O.o2(q[0],e,0);O.o2(q[1],e,1);if(y>2){O.o2(q[2],e,2);if(y>3){this.UD=[];for(var l=3;l<y;l++){var d=new a.ZV;
d.name="Alpha "+(l-2);d.rect=new cr(0,0,n,H);d.channel=q[l];this.UD.push(d)}}}}return e};function d3(w,n,H){bU.call(this);
this.n=s.t("div","");this.HN=w;this.CM=null;this.Pe=n==null?!1:n;this.hS=null;this.eK=H;this._l=[];this.GD=[];
this.$u=[];this.VP=[];this.w3=0;this.CM=this.abB(d3.VP[w]);this.Dg();this.CF=null;this.auT;this.a16}d3.prototype=new bU;
d3.prototype.mO=function(w,n,H,y,c){this.CF=c;this.auT=JSON.parse(JSON.stringify(this.hS));if(this.CM.lagl)this.a16=this.CM.lagl.o()[0]};
d3.prototype.C9=function(w,n,H,y,c){var Q=this.CF,q=this.HN,S=this.auT;if(Q==null)return;var A=(c.x-Q.x)/w.u.N,V=(c.y-Q.y)/w.u.N;
if(q=="GrFl"){var e=JSON.parse(JSON.stringify(S.Ofst.v));e.Hrzn.v.val+=A*.5;e.Vrtc.v.val+=V*.5;this.CM.Ofst.$(e,!0)}if(q=="patternFill"){var e=JSON.parse(JSON.stringify(S.phase.v));
e.Hrzn.v+=A;e.Vrtc.v+=V;this.CM.phase.$(e,!0)}if(q=="DrSh"||q=="IrSh"||q=="ChFX"){var d=S.Dstn.v.val,N=this.a16*Math.PI/180,b=-Math.cos(N)*d+A,z=Math.sin(N)*d+V;
this.CM.Dstn.$(Math.sqrt(b*b+z*z),!0);this.CM.lagl.$([Math.atan2(z,-b)*180/Math.PI],!0)}};d3.prototype.sh=function(w,n,H,y,c){this.CF=null};
d3.prototype.amM=function(){for(var l=0;l<this.VP.length;l++){s.n_(this.VP[l],"selected");if(this.$u[l]instanceof jH)this.$u[l].$(!1)}};
d3.prototype.ak$=function(w){var n=this.a6h.bind(this);for(var l=0;l<this.$u.length;l++){var H=s.t("div","listitem");
this.VP.push(H);if(l>0)H.textContent="\u2003";H.appendChild(this.$u[l].n);if(d5.apv.indexOf(this.HN)!=-1){var y=new eO("+");
y.QM();y.n.style.float="right";H.appendChild(y.n);var c=new eO("\u2B0D");c.QM();c.n.style.float="right";
c.n.style["margin-right"]="2px";H.appendChild(c.n)}H.addEventListener("click",n,!1);w.appendChild(H)}};
d3.G3=function(w,n){var H=n.getBoundingClientRect();return(w.clientY-H.top)/H.height};d3.prototype.a6h=function(w){var n=w.target.tagName.toLowerCase();
if(n=="input"){return}if(n=="button"){var H=new aL(M.E.v,!0),y=w.target.textContent=="+",c=y?0:d3.G3(w,w.target)<.5?-1:1;
if(y)H.data={d:"st_dupsingle",j:this.parent.data.j,GJ:this.eK};else H.data={d:"st_movsingle",j:this.parent.data.j,GJ:this.eK,ax6:c};
H.G=P.C8;H.Pg=!0;this.S(H);H=new aL("redrawall",!0);H.data={ax6:c};this.S(H);return}s.yZ(w);this.cO();
this.w3=this.VP.indexOf(w.currentTarget);this.S(new aL("showme"))};d3.prototype.cO=function(){if(this.CM.enab&&this.CM.enab.o()==!1)this.Bt({kx:"enab",Z:!0})};
d3.prototype.aaW=function(){var w=this.VP[this.w3];if(w)s.li(w,"selected");return this.GD[this.w3]};
d3.prototype.abB=function(w){var n={};for(var l=0;l<w.length;l++){var H=w[l],y=null;if(H=="----")y={n:s.t("hr")};
if(H=="\n")y={n:s.t("br")};if(H=="blOptions")y=new iD([14,10]);if(H=="brst")y=new iS([12,72],["R","G","B"]);
if(H=="knko")y=new dw("Knockout",[[13,1,0],"Shallow","Deep"]);if(H=="enab")y=new jH(d5.names[d5.order.indexOf(this.HN)]);
if(H=="lrMd"||H=="Md")y=new dw([12,19,0],eS.SX,eS.dH);if(H=="Opct")y=new jc([12,0],0,100,"%");if(H=="iOpa")y=new jc([12,26],0,100,"%");
if(H=="blIf")y=new bI;if(H=="ShdN")y=new jc([12,68],0,100,"%");if(H=="lagl"||H=="Angl")y=new gl([12,15],this.HN=="ebbl");
if(H=="uglg")y=new jH([12,27]);if(H=="Dstn")y=new jc([12,28],0,200,"px");if(H=="Ckmt")y=new jc([12,29],0,100,"%");
if(H=="blur")y=new jc([12,14,0],0,200,"px");if(H=="TrnS"||H=="MpgS")y=new gv([12,21]);if(H=="Nose")y=new jc([12,30],0,100,"%");
if(H=="layerConceals")y=new jH([12,31]);if(H=="AntA"||H=="antialiasGloss")y=new jH([12,25,1]);if(H=="GlwT")y=new dw([12,32],d5.t8.names);
if(H=="glwS")y=new dw([12,70],d5.t8.akt);if(H=="Inpr")y=new jc([12,12],1,100,"%");if(H=="bvlS")y=new dw([12,22],d5.$y.style);
if(H=="bvlT")y=new dw([12,32],d5.$y.ayK);if(H=="bvlD")y=new dw(null,d5.$y.dir);if(H=="srgR")y=new jc([12,34],0,1e3,"%");
if(H=="Sftn")y=new jc([12,35],0,20,"px");if(H=="Lald")y=n.lagl;if(H=="hglM"||H=="sdwM")y=new dw([12,36],eS.SX,eS.dH);
if(H=="hglC"||H=="sdwC")y=new hF;if(H=="hglO"||H=="sdwO")y=new jc([12,0],0,100,"%");if(H=="Invr"||H=="InvT")y=new jH([4,11]);
if(H=="Sz")y=new jc([12,14,0],1,200,"px");if(H=="Styl")y=new dw([12,40],d5.stroke.names);if(H=="PntT")y=new dw([12,66],d5.stroke.azS);
if(H=="Clr")y=new hF(!0);if(H=="Grad"){y=new eK(!0,[12,37],!0);y.$(JSON.parse(d5.n0.as$).v)}if(H=="Rvrs")y=new jH([12,23,0]);
if(H=="Dthr")y=new jH([12,23,3]);if(H=="Type")y=new dw([12,22],d5.M.names.slice(0,this.HN=="FrFX"?6:5));
if(H=="Ptrn")y=new e8([12,62]);if(H=="Scl")y=new jc([12,38],5,500,"%",0,!0);if(H=="Algn")y=new jH([12,39]);
if(H=="Ofst")y=new i5(!0);if(H=="phase")y=new i5(!1);if(H=="useShape")y=new jH([12,21]);if(H=="useTexture")y=new jH([12,67]);
if(H=="textureDepth")y=new jc([12,34],-300,300,"%");var c=H=="----"||H=="\n"?H+l:H;if(y!=null)n[c]=y}return n};
d3.prototype.aiA=function(w){var n=this.GD[this.w3];for(var l=0;l<w.length;l++){var H=this.CM[w[l]];
if(H&&n.contains(H.n))n.removeChild(H.n)}};d3.prototype.adp=function(w){var n=this.GD[this.w3];for(var l=0;
l<w.length;l++){var H=this.CM[w[l]];if(H&&!n.contains(H.n))n.appendChild(H.n)}};d3.prototype.AB=function(w,n){if(this.CM==null)return;
var H=n==h6.z8;if(this.CM.Grad){this.CM.Grad.Tv(w.Ni,w.uu);if(H||n==h6.Fz||n==h6.Wk)this.CM.Grad.iq(w.Wr)}if(this.CM.Ptrn){if(H||n==h6.wK)this.CM.Ptrn.iq(w.XG)}if(this.CM.TrnS){if(H||n==h6.K7)this.CM.TrnS.iq(w.KH)}if(this.CM.MpgS){if(H||n==h6.K7)this.CM.MpgS.iq(w.KH)}};
d3.prototype.f=function(){for(var l=0;l<this._l.length;l++)this._l[l].f();for(var w in this.CM)if(this.CM[w]instanceof bU)this.CM[w].f()};
d3.prototype.Dg=function(){for(var w in this.CM){var n=this.CM[w];n.parent=this;if(n instanceof bU)n.h(M.E.A,this.ay4,this);
if(this.GD.length==0||w=="useShape"||w=="useTexture"){var H=new iD(n.a5p()),y=s.t("div","bordered padded");
if(this.Pe==!1){y.appendChild(H.n);y.appendChild(s.t("hr",""))}this._l.push(H);this.GD.push(y);this.$u.push(n)}else this.GD[this.GD.length-1].appendChild(n.n)}};
d3.prototype.update=function(w,n){if(this.CM==null)return;this.hS=JSON.parse(JSON.stringify(n));for(var H in n){if("Opct iOpa hglO sdwO Dstn Ckmt blur Nose Scl Sz Inpr srgR Sftn textureDepth ShdN".split(" ").indexOf(H)!=-1)this.CM[H].$(n[H].v.val);
if("enab brst knko Clr hglC sdwC uglg Grad TrnS MpgS Rvrs Dthr Algn Invr InvT Ptrn layerConceals useShape useTexture Ofst phase blIf".split(" ").indexOf(H)!=-1){this.CM[H].$(n[H].v,w)}if(["Md","hglM","sdwM"].indexOf(H)!=-1)this.CM[H].$(eS.HN.indexOf(n[H].v.BlnM));
if(H=="lrMd"){var y=(n.Ok?[[15,10,27]]:[]).concat(eS.SX),c=(n.Ok?[1]:[]).concat(eS.dH);this.CM[H].pe(y,c);
this.CM[H].$(n[H].v)}if(H=="Angl")this.CM[H].$([n[H].v.val]);if(H=="lagl"){var Q=n.uglg&&n.uglg.v?w.s9():n.lagl.v.val;
this.CM[H].$([Q])}if(H=="Lald"){var Q=n.uglg&&n.uglg.v?w.Sk():n.Lald.v.val;this.CM[H].$([null,Q])}if(H=="Type")this.CM[H].$(d5.M.types.indexOf(n.Type.v.GrdT));
if(H=="Styl")this.CM[H].$(d5.stroke.types.indexOf(n.Styl.v.FStl));if(H=="PntT"){var q=d5.stroke.Dq.indexOf(n.PntT.v.FrFl);
this.CM[H].$(q);if(!this.Pe){this.aiA(d5.jG.concat(d5.B6.concat(d5.sY)));this.adp([d5.jG,d5.B6,d5.sY][q])}}if(H=="GlwT")this.CM[H].$(d5.t8.types.indexOf(n.GlwT.v.BETE));
if(H=="glwS")this.CM[H].$(d5.t8.ah4.indexOf(n.glwS.v.IGSr));if(H=="bvlS")this.CM[H].$(d5.$y.types.indexOf(n.bvlS.v.BESl));
if(H=="bvlT")this.CM[H].$(d5.$y.alJ.indexOf(n.bvlT.v.bvlT));if(H=="bvlD")this.CM[H].$(["In","Out"].indexOf(n.bvlD.v.BESs))}};
d3.prototype.ay4=function(w){for(var n in this.CM){if(this.CM[n]!=w.target)continue;var H=null,y=!1;
if("Opct iOpa hglO Nose Scl sdwO Inpr srgR textureDepth ShdN".split(" ").indexOf(n)!=-1)H={type:"#Prc",val:w.target.o()};
if(["Dstn","Ckmt","blur","Sz","Sftn"].indexOf(n)!=-1)H={type:"#Pxl",val:w.target.o()};if(["Angl","lagl"].indexOf(n)!=-1)H={type:"#Ang",val:w.target.o()[0]};
if("enab brst knko Clr hglC sdwC Grad TrnS MpgS Rvrs Dthr Algn Invr InvT Ptrn layerConceals lrMd useShape useTexture AntA antialiasGloss Ofst phase blIf".split(" ").indexOf(n)!=-1)H=w.target.o();
if(["Md","hglM","sdwM"].indexOf(n)!=-1)H={BlnM:eS.HN[w.target.o()]};if(n=="uglg"){H=w.target.o();y=!0}if(n=="PntT"){H={FrFl:d5.stroke.Dq[w.target.o()]};
y=!0}if(n=="Lald")H={type:"#Ang",val:w.target.o()[1]};if(n=="Type")H={GrdT:d5.M.types[w.target.o()]};
if(n=="Styl")H={FStl:d5.stroke.types[w.target.o()]};if(n=="GlwT")H={BETE:d5.t8.types[w.target.o()]};
if(n=="glwS")H={IGSr:d5.t8.ah4[w.target.o()]};if(n=="bvlS")H={BESl:d5.$y.types[w.target.o()]};if(n=="bvlT")H={bvlT:d5.$y.alJ[w.target.o()]};
if(n=="bvlD")H={BESs:["In","Out"][w.target.o()]};this.Bt({kx:n,Z:H});if(y){if(this.Pe)this.update(null,this.hS);
else{var c=this.parent,Q=c.z3,q=this.eK,S=Q.B[c.data.j].add.lmfx[d5.tS[q[0]]].v[q[1]].v;this.update(Q,S)}}}};
d3.prototype.Bt=function(w){if(this.hS&&this.hS[w.kx])this.hS[w.kx].v=w.Z;if(this.Pe){this.S(new aL(M.E.A))}else{w.d="changeprop";
w.j=this.parent.data.j;w.cm=this.eK;var n=new aL(M.E.v,!0);n.data=w;n.G=P.C8;n.Pg=!0;this.S(n);this.S(new aL("afterchange",!0))}};
d3.prototype.o=function(){return JSON.parse(JSON.stringify(this.hS))};d3.VP={bops:"blOptions lrMd Opct ---- iOpa brst ---- blIf".split(" "),DrSh:"enab Md Clr Opct lagl uglg Dstn Ckmt blur TrnS Nose layerConceals".split(" "),IrSh:"enab Md Clr Opct lagl uglg Dstn Ckmt blur TrnS Nose".split(" "),OrGl:["enab","Md","Opct","Nose","\n","Clr","Grad","----","GlwT","Ckmt","blur","TrnS","Inpr","ShdN"],IrGl:["enab","Md","Opct","Nose","\n","Clr","Grad","----","GlwT","glwS","Ckmt","blur","TrnS","Inpr","ShdN"],ebbl:["enab","bvlS","bvlT","bvlD","srgR","blur","Sftn","----","lagl","Lald","uglg","TrnS","\n","hglM","hglC","hglO","sdwM","sdwC","sdwO","useShape","MpgS","Inpr","useTexture","Ptrn","Scl","textureDepth","InvT","Algn","phase"],SoFi:["enab","Md","Opct"].concat(d5.jG),GrFl:["enab","Md","Opct"].concat(d5.B6),patternFill:["enab","Md","Opct"].concat(d5.sY),ChFX:"enab Md Clr Opct lagl Dstn blur MpgS Invr".split(" "),FrFX:["enab","Sz","Styl","\n","Md","Opct","PntT","\n"].concat(d5.jG.concat(d5.B6.concat(d5.sY)))};
function dJ(){dj.call(this,[11,6],"layerstyle");this.a5s=-1;this.data={};this.z3=null;this.Uz=null;this.p_=[];
this.aM=[];s.li(this.body,"flexrow");this.FT=s.t("div","bordered");this.FT.setAttribute("style","min-width:13em;");
this.body.appendChild(this.FT);this.iu=s.t("div","");this.iu.setAttribute("style","width:25em; padding-left: 1em;");
this.body.appendChild(this.iu);this.ky=s.t("div","form");this.ky.setAttribute("style","padding-left: 1em; width:7em;");
this.body.appendChild(this.ky);this.JB=s.gi(this,this.ky);this.Bg=new eO([12,87],!0,null,!0);this.Bg.h("click",this.a9K,this);
this.ky.appendChild(this.Bg.n);this.IV=new j5;this.IV.parent=this;this.IV.h(M.E.A,this.a2B,this);this.ky.appendChild(this.IV.n);
this.h("closebtn",this.kV,this);this.h("redrawall",this.auf,this)}dJ.prototype=new dj;dJ.prototype.i7=function(){return!0};
dJ.prototype.PG=function(){return!0};dJ.prototype.mO=function(w,n,H,y,c){var Q=this.eQ();if(Q)Q.mO(w,n,H,y,c)};
dJ.prototype.C9=function(w,n,H,y,c){var Q=this.eQ();if(Q)Q.C9(w,n,H,y,c)};dJ.prototype.sh=function(w,n,H,y,c){var Q=this.eQ();
if(Q)Q.sh(w,n,H,y,c)};dJ.prototype.eQ=function(w){if(w==null)w=this.data.index;return w==null?null:w==0?this.p_[0]:this.aM[w[0]][w[1]]};
dJ.prototype.a2B=function(w){var n=this.IV.o();this.Bt({d:"setstl",Z:n.fw});this.auf(null)};dJ.prototype.a9K=function(w){var n=this.z3,H=this.data.j;
if(H==null)H=n.g[0];var y=this.z3.B[H],c=hO.aqS(y),Q=new aL(M.E.L,!0);Q.data={d:M.c.Yj,fB:"add",PY:h6.cb,JT:[JSON.parse(JSON.stringify(c))]};
this.S(Q)};dJ.prototype.a7T=function(w){this.data.index=w.currentTarget.eK;this.sR(w.currentTarget.eK)};
dJ.prototype.auf=function(w){this.nQ(this.z3,this.data)};dJ.prototype.sR=function(w,n){s.Of(this.iu);
for(var l=0;l<this.p_.length;l++)this.p_[l].amM();var H=this.eQ(w);this.iu.appendChild(H.aaW());if(n)H.cO();
var y=this.z3;if(y){var c=y.B[this.data.j];this.p_[0].update(y,P.e1.ne(y,c));var Q=c.add.lmfx;if(Q==null)return;
for(var l=0;l<d5.order.length;l++){var q=Q[d5.tS[l]].v;for(var S=0;S<q.length;S++)this.aM[l][S].update(y,q[S].v)}}if(n)H.cO()};
dJ.prototype.f=function(){dj.prototype.f.call(this);this.Bg.f();this.IV.f();this.JB.f();for(var l=0;
l<this.p_.length;l++)this.p_[l].f()};dJ.prototype.nQ=function(w,n){var H=n.j==null;this.data.j=n.j;this.data.index=n.index;
n=this.data;this.z3=w;if(H)n.j=w.g.length==0?w.B.length-1:w.g[0];s.Of(this.FT);var y=w.B[n.j].add.lmfx;
this.vx();this.p_=[new d3("bops",!1,0)];this.aM=[];for(var l=0;l<d5.order.length;l++){this.aM.push([]);
var c=y==null?[]:y[d5.tS[l]].v;for(var Q=0;Q<c.length;Q++){var q=new d3(d5.order[l],!1,[l,Q]);this.p_.push(q);
this.aM[l].push(q)}if(c.length==0){var q=new d3(d5.order[l],!1,[l,0]);this.p_.push(q);this.aM[l].push(q)}}this.f();
this.a81(this.Uz,h6.z8);for(var l=0;l<this.p_.length;l++){this.p_[l].parent=this;this.p_[l].ak$(this.FT);
this.p_[l].h("showme",this.a7T,this)}if(n.index==null||n.index==0||!H&&y[d5.tS[n.index[0]]].v.length==0){this.sR(0)}else this.sR(n.index,H);
this.h("afterchange",this.vx,this)};dJ.prototype.vx=function(w){var n=this.z3,H=this.data.j;if(H==null)H=n.g[0];
var y=this.z3.B[H],c=hO.aqS(y);this.IV.$(c,n.add.Patt?n.add.Patt:[],n.s9(),n.Sk())};dJ.prototype.AB=function(w,n){this.Uz=w;
this.a81(w,n);if(n==h6.cb||n==h6.z8){this.IV.iq([w.f3,w.XG])}if(n==h6.vG){}};dJ.prototype.a81=function(w,n){for(var l=0;
l<this.p_.length;l++)this.p_[l].AB(w,n)};dJ.prototype.kV=function(w){this.Bt({d:"cancel"})};dJ.prototype.eL=function(w){this.Bt({d:"confirm"});
this.close()};dJ.prototype.Bt=function(w){w.j=this.data.j;var n=new aL(M.E.v,!0);n.data=w;n.G=P.C8;n.Pg=!0;
this.S(n);this.vx()};dJ.a9R=function(){var w=function(n){if(n==null||n.g.length==0)return{C:!1};var H=n.B[n.g[0]];
return{C:H.add.lmfx!=null}};return{name:[11,6],Pp:!0,sub:[{name:[5,1],C:w},{name:[5,2]},{name:[2,2],C:w}]}};
dJ.agc=function(){return{sub:[{Y:M.E.v,G:P.C8,W:{d:"st_copy"}},{Y:M.E.v,G:P.C8,W:{d:"st_paste"}},{Y:M.E.v,G:P.C8,W:{d:"st_clear"}}]}};
dJ.SF=function(w){var n=[{name:[14,10],Pp:!0}];for(var l=0;l<d5.names.length;l++)n.push({name:d5.names[l]});
if(w){n[n.length-1].Pp=!0;n.push(dJ.a9R());n.push({name:[6,30,1],C:function(H){return{C:H!=null&&H.g.length!=0&&H.B[H.g[0]].iC()}}});
n.push({name:["VAR0 VAR1",[12,49],[9,1]],C:function(H){return{C:H!=null&&H.g.length!=0&&H.B[H.g[0]].add.lmfx!=null}}})}return n};
dJ.$c=function(w){var n=[{Y:M.E.L,W:{d:M.c.rL,Ln:"layerstyle"}}];for(var l=0;l<d5.names.length;l++)n.push({Y:M.E.L,W:{d:M.c.rL,Ln:"layerstyle",index:[l,0]}});
if(w){n.push(dJ.agc());n.push({Y:M.E.L,W:{d:M.c.rL,Ln:"scaleeffects",EV:100,yk:{Y:M.E.v,G:P.C8,W:{d:"scaleeffects"}}}});
var H={classID:"Mk",null:ih._K("Lyr"),Usng:{t:"obj ",v:[{t:"prop",v:{classID:"Prpr",keyID:"Lefx"}},{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Trgt"}}]}};
n.push({Y:M.E.dp,W:{fd:"make",ei:H}})}return n};dJ.asM=function(w){var n=[];if(w)n.push({name:[6,48,0,0],JY:!0},{name:[6,48,0,1],JY:!0},{name:[6,48,0,2],JY:!0,Pp:!0});
for(var H in fb.names)n.push({name:fb.names[H],Pp:fb.ap_.indexOf(H)!=-1,JY:kj[H]!=null});return n};dJ.Ag=function(w){var n=[];
if(w){n.push({Y:M.E.v,G:P.S0,W:{d:"newfill",Ph:0}});for(var l=1;l<3;l++)n.push({Y:M.E.dp,W:P.FQ.ba(l)})}for(var H in fb.names){var y=gT.B1(H);
if(y==null)y={};for(var c in fb.e2)if(fb.e2[c]==H)y.classID=c;var Q={fd:"make",ei:{classID:"Mk",null:ih._K("AdjL"),Usng:{t:"Objc",v:{classID:"AdjL",Type:{t:"Objc",v:y}}}}};
n.push({Y:M.E.dp,W:Q})}return n};function ci(){dj.call(this,"Merge Channels","mergechannels");this.WA=null;
var w=s.t("div","form");this.body.appendChild(w);this.ZA=[];for(var l=0;l<3;l++){var n=new dw(fb.LQ[l],[]);
this.ZA.push(n);w.appendChild(n.n);s.yD(w)}this.JB=s.gi(this,w)}ci.prototype=new dj;ci.prototype.f=function(){dj.prototype.f.call(this);
this.JB.f();for(var l=0;l<3;l++)this.ZA[l].f()};ci.prototype.nQ=function(w,n,H,y){this.WA=H;var c=[];
for(var l=0;l<H.length;l++)c.push(H[l].name);for(var l=0;l<3;l++){var Q=this.ZA[l];Q.pe(c);Q.$(Math.min(l,H.length-1))}};
ci.prototype.eL=function(w){var n=this.WA,H=n[0],y=new aL(M.E.dp,!0);y.data=iC.nz(H.m,H.e,H.uP,"Merged Document","Wht",!1);
this.S(y);var c=[];for(var l=0;l<3;l++)c.push(n[this.ZA[l].o()].E$());var H=n[n.length-1],Q=H.B[0],q=Q.buffer;
for(var l=0;l<q.length;l+=4){q[l]=c[0][l];q[l+1]=c[1][l];q[l+2]=c[2][l]}Q.U();H.U();this.close()};function cC(){dj.call(this,[1,10],"script");
var w=s.t("div","form");w.setAttribute("style","width:44em");this.body.appendChild(w);this.Uz=null;this.Zp=[];
this.vF=[];this.aui;var n=this.$z=new eO([1,2],!1,null,!0);n.h("click",this.aA,this);w.appendChild(n.n);
var H=new eO("JS Reference",!1,null,!0);H.h("click",this.asF,this);w.appendChild(H.n);w.appendChild(new iD("Demos:").n);
this.aht=[];var y=cC.Z9;for(var l=0;l<y.length;l++){var c=new eO(y[l].DF,!1,null,!0);this.aht.push(c);
w.appendChild(c.n);c.h("click",this.ac3,this)}this.Bd=s.t("textarea");s.iV(this.Bd);this.Bd.setAttribute("rows",16);
this.Bd.setAttribute("style","display:block;tab-size:4; font-family:monospace;width:100%;");w.appendChild(this.Bd);
var Q=new eO("Run",!0,null,!0);Q.h("click",this.eL,this);w.appendChild(Q.n);this.tp=s.t("div");w.appendChild(this.tp)}cC.prototype=new dj;
cC.prototype.f=function(){this.$z.f()};cC.prototype.aA=function(){var w=this.aui;if(w==null)w="script.jsx";
var n=new aL(M.E.L,!0);n.data={d:M.c.rL,Ln:"namewindow",EV:w.slice(0,w.length-4),ty:this.apw.bind(this)};
this.S(n)};cC.prototype.apw=function(w){var n=this.Bd.value,H=j.bv(n),y=new aL(M.E.L,!0);y.data={d:M.c.ka,rj:H.buffer,os:w+".jsx",afd:!0};
this.S(y)};cC.prototype.adE=function(w){var l=this.Zp.indexOf(w.target),n=this.aui=this.vF[l],H=this.Uz.sP.DA[n],y=new Uint8Array(H),c=j.NR(y,0,y.length);
this.Bd.value=c};cC.prototype.nQ=function(w,n,H){this.Bd.value=cC.Z9[0].vl;this.amx()};cC.prototype.amx=function(){var w=this.Uz.sP,n=this.tp;
s.Of(n);this.Zp=[];this.vF=[];n.textContent="Saved scripts: ";for(var H in w.DA){if(H.endsWith(".jsx")){var y=new eO(H,!1,null,!0);
this.Zp.push(y);this.vF.push(H);y.h("click",this.adE,this);n.appendChild(y.n)}}};cC.prototype.AB=function(w,n){this.Uz=w;
if(n==h6.rO)this.amx()};cC.prototype.asF=function(w){var n=new aL(M.E.L,!0);n.data={d:M.c.ee,link:"https://github.com/Adobe-CEP/CEP-Resources/blob/master/Documentation/Product%20specific%20Documentation/Photoshop%20Scripting/photoshop-javascript-ref-2020.pdf"};
this.S(n)};cC.prototype.eL=function(w){var n=new aL(M.E.L,!0);n.data={d:M.c._t,kB:this.Bd.value};this.S(n)};
cC.prototype.ac3=function(w){var n=this.aht.indexOf(w.currentTarget);this.Bd.value=cC.Z9[n].vl};cC.Z9=[{DF:"Hello",vl:"\nalert(\"Hello Photopea!\");\n"},{DF:"Process Layers",vl:"\nvar lays = app.activeDocument.layers;\n\nfor(var i=0; i<lays.length; i++)\n{\n"+"\t//lays[i].visible = false;\n"+"\t//lays[i].opacity = 50;\n"+"\tlays[i].name = \"My Layer \"+i;\n}"},{DF:"Clone Layers",vl:"\nvar orig = app.activeDocument.activeLayer;\n"+"var cnt = 12;\n"+"var angle = Math.floor(360 / cnt);\n"+"\n"+"for(var i=1; i<cnt; i++)\n"+"{\n"+"\tvar nlay = orig.duplicate();\n"+"\t//nlay.translate(30*i, 20*i);\n"+"\tnlay.rotate(angle * i, AnchorPosition.BOTTOMCENTER);\n"+"}"}];
function bo(){dj.call(this,[11,7],"newproject");this.data=null;this.WA=null;this.vO=0;var w=s.t("div","flexrow");
this.Y_=w;this.body.appendChild(w);var n=s.t("div","form");this.NZ=n;w.appendChild(n);this.hY=new f0([12,48],null,10);
n.appendChild(this.hY.n);s.yD(n);this.x7=new eT(!0,null,null,null,!0);this.x7.$(new ce(1280,720),72);
this.x7.arj(!0,!0);this.x7.h(M.E.A,this.Xh,this);n.appendChild(this.x7.n);this.ik=new k9;this.ik.parent=this;
n.appendChild(this.ik.n);this.MO=new eO("\u02C5",null,[0,14],!0);this.MO.h("click",this.Rp,this);n.appendChild(this.MO.n);
var H=this.abV=s.t("span");n.appendChild(H);H.style.display="none";this.a7X=new dw([13,6],["sRGB","Adobe RGB","ProPhoto RGB","Display P3"]);
H.appendChild(this.a7X.n);this.Bx=new jH([1,16,1]);H.appendChild(this.Bx.n);this.JB=new eO([12,49],!0,null,!0);
this.JB.h("click",this.eL,this);n.appendChild(this.JB.n);var y=bo.Zy,c=[];for(var l=0;l<y.length;l++)c.push(y[l].name);
this.Tt=new iY(null,c);this.Tt.h(M.E.A,this.aa4,this);n.appendChild(this.Tt.n);this.Tt.n.style["margin-top"]="1em";
this.RC=new hD(!0);this.RC.h(M.E.A,this.a3s,this);n.appendChild(this.RC.n);this.aa4();this.Xw=new j_;
this.Xw.parent=this;this.Xw.n.setAttribute("style","margin-left:1em");this.Xw.h("tempready",this.aab,this)}bo.prototype=new dj;
bo.prototype.Rp=function(w){var n=this.abV,H=n.style.display!="none";n.style.display=H?"none":"";this.MO.TO(H?"\u02C5":"\u02C4");
this.kc(this.pV,this.WZ)};bo.prototype.AB=function(w,n){this.Xw.AB(w)};bo.prototype.oG=function(w,n){return new ce(Math.max(0,Math.min(70,(w-690)/2)),w>n?Math.max(0,Math.min(50,(n-400)/2)):0)};
bo.prototype.kc=function(w,n){this.pV=w;this.WZ=n;this.NZ.setAttribute("style","width:"+Math.min(w-24,338)+"px");
this.RC.n.style.height=n-248-(this.abV.style.display=="none"?0:28)+"px";var H=this.Xw.n,y=H.parentNode;
if(w<500){if(y!=null)this.Y_.removeChild(H)}else{if(y==null)this.Y_.appendChild(H);this.Xw.kc(w-378,n-28)}};
bo.prototype.Xh=function(){this.Xw.$(this.x7.o())};bo.prototype.a3s=function(w){var n=this.RC.o()[0],H=bo.Zy[this.Tt.o()].dl[n],y=H[4];
if(y==0)y=72;var c=H[1],Q=H[2],q=["px","%","mm","in"].indexOf(H[3]),S=[1,1,25.4/y,1/y][q];c/=S;Q/=S;
this.x7.$(new ce(Math.round(c),Math.round(Q)),y);this.x7.al8(q);this.Xh();if(Date.now()-this.vO<300)this.eL();
this.vO=Date.now()};bo.prototype.aa4=function(w){var n=bo.Zy[this.Tt.o()].dl,H=[],y=[],c=Math.round(106*s.V()),Q=Math.round(106*s.V()),q=0;
for(var l=0;l<n.length;l++)q=Math.max(q,n[l][1],n[l][2]);for(var l=0;l<n.length;l++){var S=n[l],A=S[1]+" x "+S[2]+" "+S[3];
if(S[3]=="in")A=(S[1]*25.4).toFixed(0)+" x "+(S[2]*25.4).toFixed(0)+" mm";if(S[3]=="mm")A=(S[1]/25.4).toFixed(1)+" x "+(S[2]/25.4).toFixed(1)+" in";
if(S[4])A=A+" @ "+S[4]+" ppi";y.push(A);H.push(bo.zT(S,c,Q,q))}this.RC.bu(H,y,c,Q)};bo.zT=function(w,n,H,y){var c=s.t("canvas",""),Q=c.getContext("2d");
c.width=n;c.height=H;var q=Math.round(n/8),S=Math.floor(11*s.V()),A=w[1],V=w[2];Q.fillStyle="#000000";
Q.font=Math.round(S*.9)+"px \"Open Sans\", Sans-Serif";var e=A+" x "+V+" "+w[3],d=Q.measureText(e);Q.fillText(e,Math.round((n-d.width)/2),H-Math.round(q/2));
if(w[0]!=null){Q.font="bold "+S+"px \"Open Sans\", Sans-Serif";var e=w[0],d=Q.measureText(e);Q.fillText(e,Math.round((n-d.width)/2),H-Math.round(q/2)-Math.round(S*1.3))}H-=Math.round(2.5*S);
var N=Math.min((n-q)/A,(H-q)/V);N*=.5+.5*(Math.max(A,V)/y);var b=(n-A*N)/2,z=(H-V*N)/2;Q.strokeRect(Math.round(b)+.5,Math.round(z)+.5,Math.round(A*N),Math.round(V*N));
return c.toDataURL()};bo.prototype.f=function(){dj.prototype.f.call(this);this.x7.f();this.hY.f();this.ik.f();
this.JB.f();this.hY.$(hV.get([11,7]));this.Tt.f();this.Bx.f();this.MO.f();this.Xw.f()};bo.prototype.eL=function(w){var n=this.x7.o(),H=n.x,y=n.y;
this.close();var c=this.ik.o(),Q=["sRGB IEC61966-2.1","Adobe RGB (1998)","ProPhoto RGB","image P3"][this.a7X.o()],q=new aL(M.E.dp,!0);
q.data=iC.nz(H,y,this.x7.ed(),this.hY.o(),["Wht","Blck","Trns","Clr"][c[0]],this.Bx.o(),c[1],Q);this.S(q);
this.axk()};bo.prototype.aab=function(w){var n=w.data.z3;n.uP=this.x7.ed();var H=new aL(M.E.L,!0);H.data={d:M.c.uJ,z3:n};
this.S(H);this.close();this.axk()};bo.prototype.axk=function(){var w=this.WA[this.WA.length-1],n=this.data.a6o;
if(n)a2.mb(function(){var H=new XMLHttpRequest,y="https://www.googleapis.com/drive/v3/files?"+a2.xd();
H.open("POST",y,!0);H.setRequestHeader("Content-Type","application/json");H.addEventListener("load",function(c){var Q=JSON.parse(c.target.response);
w.bD={file:Q,Ec:"psd"};alert(w.name+" created in Google Drive")});H.send(JSON.stringify({name:w.name,avy:[n]}))})};
bo.prototype.nQ=function(w,n,H,y){this.WA=H;if(w!=null&&w.P!=null){var c=new cr(0,0,w.m,w.e).Fa(w.P.rect);
this.x7.$(new ce(c.m,c.e))}this.data=n;this.Xh();if(s.tr())f1.at0(this.aoo.bind(this))};bo.prototype.aoo=function(w){if(w=="granted")f1.mJ(this,this.alh.bind(this))};
bo.prototype.alh=function(w,n){this.x7.$(new ce(n.m,n.e))};bo.Zy=[{name:"Social",dl:[["FB Page Cover",1640,664,"px",0],["FB Shared Image",1200,630,"px",0],["FB Event Image",1920,1080,"px",0],["FB Group Header",1640,856,"px",0],["Instagram",1080,1080,"px",0],["Insta Story",1080,1920,"px",0],["Youtube Profile",800,800,"px",0],["Youtube Cover",2560,1440,"px",0],["Twitter Profile",400,400,"px",0],["Twitter Header",1500,500,"px",0]]},{name:[12,88,4],dl:[["A3",297,420,"mm",300],["A4",210,297,"mm",300],["A5",148,210,"mm",300],["B3",353,500,"mm",300],["B4",250,353,"mm",300],["B5",176,250,"mm",300],["Letter",8.5,11,"in",300],["Ledger",11,17,"in",300],["Business Card",3.5,2,"in",300]]},{name:[12,88,0],dl:[["Wallet",2,3,"in",300],["Enprint",3.5,5,"in",300],[null,5,7,"in",300],[null,8,12,"in",300],[null,12,18,"in",300],[null,16,24,"in",300],[null,20,30,"in",300],[null,24,36,"in",300]]},{name:[12,88,1],dl:[["VGA",640,480,"px",0],["XGA",1024,768,"px",0],["HD",1280,720,"px",0],[null,1366,768,"px",0],[null,1600,900,"px",0],["Full HD",1920,1080,"px",0],["2K",2048,1080,"px",0],["UHD",3840,2160,"px",0],["4K",4096,2160,"px",0]]},{name:[12,88,2],dl:[["iPhone 4",640,900,"px",326],["iPhone 5",640,1136,"px",326],["iPhone 6 7 8",750,1334,"px",326],["iPhone 6+ 7+ 8+",1080,1920,"px",401],["iPhone X",1125,2436,"px",458],["Samsung A5",720,1280,"px",0],["Samsung S5",1080,1920,"px",0],["Samsung S6",1440,2560,"px",0],["Samsung S8+",1440,2560,"px",0],["Google Pixel",1080,1920,"px",0],["iPad Mini 4",1536,2048,"px",0],["iPad Air 2",1536,2048,"px",0],["iPad Pro 9.7\"",1536,2048,"px",0],["iPad Pro 10.5\"",1668,2224,"px",0],["iPad Pro 12.9\"",2048,2732,"px",0]]},{name:[12,88,3],dl:[["Small Square",200,200,"px",0],["Square",250,250,"px",0],["Medium Rect",300,250,"px",0],["Large Rect",336,280,"px",0],["Mobile Leaderboard",320,50,"px",0],["Large Mobile",320,100,"px",0],["Banner",468,60,"px",0],["Leaderboard",728,90,"px",0],["Large Leaderboard",970,90,"px",0],["Billboard",970,250,"px",0],["Vertical Rect",240,400,"px",0],["Skyscraper",120,600,"px",0],["Wide Skyscraper",160,600,"px",0],["Half Page",300,600,"px",0],["Portrait",300,1050,"px",0]]},{name:"2\u1D3A",dl:[[null,16,16,"px",0],[null,32,32,"px",0],[null,64,64,"px",0],[null,128,128,"px",0],[null,256,256,"px",0],[null,512,512,"px",0],[null,1024,1024,"px",0],[null,2048,2048,"px",0],[null,4096,4096,"px",0]]}];
function aQ(w,n,H){dj.call(this,n,"sel_"+w);this.d=w;var y=s.t("div","form");this.body.appendChild(y);
this.hY=new kc(n,0,255,null,0,!1,!0);y.appendChild(this.hY.n);this.hY.$(1);var c=s.t("span");c.textContent=H;
y.appendChild(c);s.yD(y);this.a08=new jH("Apply at canvas bounds");if(w!="border")y.appendChild(this.a08.n);
this.JB=s.gi(this,y)}aQ.prototype=new dj;aQ.prototype.qg=function(w,n){if(w==null)return;if(w.P==null)alert("No selection!");
return w.P!=null};aQ.prototype.eL=function(w){var n=new aL(M.E.dp,!0);n.data=P.Me.oN(this.d,this.hY.o(),this.a08.o());
n.Pg=!0;this.S(n);this.close()};aQ.prototype.f=function(){dj.prototype.f.call(this);this.JB.f();if(this.hY)this.hY.f()};
aQ.prototype.nQ=function(w,n){};function gM(w,n,H,y,c,Q){dj.call(this,H,n);this.au5=Q;this.es=c;this.Zy=null;
this.NZ=s.t("div","form");this.body.appendChild(this.NZ);this.aqU=s.t("div");this.NZ.appendChild(this.aqU);
this.hY=w==0?new f0(H,null,10):w==1?new jc(H,0,500,y,1):new f0(H,null,24,5);this.hY.h(M.E.A,this.xg,this);
this.NZ.appendChild(this.hY.n);this.JB=s.gi(this,this.NZ);this.h("closebtn",this.kV,this)}gM.prototype=new dj;
gM.prototype.oG=function(w,n){return new ce(Math.max(0,Math.min(150,(w-250)/2)),Math.max(0,Math.min(150,(n-120)/2)))};
gM.prototype.i7=function(){return this.au5};gM.prototype.xg=function(w){var n=this.hY.o();if(this.es)this.aY(n)};
gM.prototype.kV=function(w){if(this.es)this.aY("cancel")};gM.prototype.eL=function(w){if(this.es)this.aY("confirm");
else this.aY(this.hY.o());this.close()};gM.prototype.aY=function(w){if(this.Zy.ty)this.Zy.ty(w);else if(this.Zy.yk){var n=this.Zy.yk,H=new aL(n.Y,!0);
H.G=n.G;H.data=n.W;H.data.Z=w;H.Pg=!0;this.S(H)}};gM.prototype.f=function(){dj.prototype.f.call(this);
this.JB.f();if(this.hY)this.hY.f()};gM.prototype.nQ=function(w,n){this.Zy=n;this.hY.$(n.EV);this.hY.P5();
this.aqU.innerHTML=n.aoA?n.aoA:"";this.xg(null)};function d6(){dj.call(this,[1,5],"open_from_url");this.Ws=null;
var w=s.t("div","form");this.body.appendChild(w);this.Vo=new f0("URL",null,22);w.appendChild(this.Vo.n);
s.yD(w);this.$D=new iY([21,0],[[21,2],[21,1]]);w.appendChild(this.$D.n);this.JB=s.gi(this,w)}d6.prototype=new dj;
d6.prototype.f=function(){dj.prototype.f.call(this);this.JB.f();this.$D.f()};d6.prototype.nQ=function(w,n,H){this.Vo.P5();
this.Ws=null;if(w&&H.indexOf(w)!=-1)this.Ws=H.indexOf(w)};d6.prototype.eL=function(w){var n=new aL(M.E.L,!0),H=this.Vo.o();
n.data={d:M.c.Jx,PY:{url:H,oD:!0,Ws:this.$D.o()==1?this.Ws:null}};this.S(n);this.close()};function gk(){dj.call(this,[12,79],"preferences");
this.Uz=null;var w=s.t("div","form");this.body.appendChild(w);this.VP=[new jH([8,2]),new jH([8,4]),new dw([12,80,3],[[12,93,3],[12,80,4]]),new jc([12,80,5],.02,100,null,2),new dw(null,O.xr.RH),new dw([12,80,6],O.xr.RH),new jH("Remind me to save")];
for(var l=0;l<this.VP.length;l++){var n=this.VP[l];w.appendChild(n.n);if(l!=3)s.yD(w);n.h(M.E.A,this.oe,this)}}gk.prototype=new dj;
gk.prototype.f=function(){dj.prototype.f.call(this);for(var l=0;l<this.VP.length;l++)this.VP[l].f()};
gk.prototype.nQ=function(w,n,H){};gk.prototype.AB=function(w,n){this.Uz=w;var H=w.al;this.VP[0].$(H.V_);
this.VP[1].$(H.LR);this.VP[2].$(H.ZW);this.VP[3].$(H.Rv);this.VP[4].$(H.c$);this.VP[5].$(H.GZ);this.VP[6].$(w.yT==1)};
gk.prototype.oe=function(w){var n=this.VP;if(w.target==n[6])this.Uz.yT=1-this.Uz.yT;var H=JSON.parse(JSON.stringify(this.Uz.al));
H.V_=n[0].o();H.LR=n[1].o();H.ZW=n[2].o();H.Rv=n[3].o();H.c$=n[4].o();H.GZ=n[5].o();var y=new aL(M.E.L,!0);
y.data={d:M.c.Yj,PY:h6.zz,z2:H};this.S(y)};function hn(){dj.call(this,[11,8],"saveforweb");this.abZ="";
this.h("closebtn",function(){this.EW.Yg()},this);this.z3=null;this.ry=null;this.avp=null;this.Uz=null;
s.li(this.body,"flexrow");this.body.style.padding="0";var w=s.t("div");w.setAttribute("style","position:relative;");
var n=s.t("div");this.body.appendChild(w);this.body.appendChild(n);this.yh=s.t("div","imgcont");w.appendChild(this.yh);
this.EW=new dQ;this.EW.kc(512,512);this.uS=s.t("div");this.uS.setAttribute("style","position:absolute;  right:0px; bottom:0px; padding: 3px 6px;  background-color:black;");
w.appendChild(this.uS);var H=this.NZ=s.t("div","form cell");H.setAttribute("style","width:195px; padding:9px 13px;");
n.appendChild(H);this.Ty=new f0([12,48],null,7.6);this.Ty.eW();H.appendChild(this.Ty.n);var y=cb.Y8();
y[y.indexOf("WEBP")]="webP";this.CO=new dw([12,50],y);this.CO.n.style.marginRight="0";this.CO.eW();H.appendChild(this.CO.n);
this.CO.h(M.E.A,this.Zw,this);s.yD(H);this.x7=new eT(!0,!0,!1,!0);this.x7.eW();this.x7.h(M.E.A,this.Zw,this);
this.x7.$L.n.style.paddingBottom="8px";H.appendChild(this.x7.n);this.Ck=new fX;this.Ck.h(M.E.A,this.Zw,this);
H.appendChild(this.Ck.n);this.Bj=new eO([1,2],!0,null,!0);this.Bj.h("click",this.eL,this);H.appendChild(this.Bj.n)}hn.prototype=new dj;
hn.prototype.qg=function(w,n){return w!=null};hn.prototype.f=function(){dj.prototype.f.call(this);this.x7.f();
this.Ty.f();this.CO.f();this.Ck.f();this.Bj.f()};hn.prototype.eL=function(w){var n=this.Ty.o().trim(),H=cb.Y8()[this.CO.o()],y=H=="JPG"||H=="PNG"||H=="GIF",c=cb.Mn(H),Q="."+H.toLowerCase(),q=this.ry,S=n+Q,A=this.z3,V=A.B0,e=this.Ck.o();
if(A.lq())e.pop();if(V.length!=0&&y&&e.pop()){var d="<!DOCTYPE html>\n<html>\n<style>div {position:absolute;}</style>\n<head></head>\n<body>\n",N=[],b={},z=new cr(0,0,A.m,A.e),v=A.E$();
for(var l=0;l<V.length;l++)N.push(P.pI.WT(V,l));N.reverse();var T=O.rect.BM([0,0,A.m,A.e],N);for(var l=0;
l<T.length;l++){var Y=T[l],g=new cr(Y[0],Y[1],Y[2]-Y[0],Y[3]-Y[1]),R=Y.length==5?V[Y[4]].v:null,h=O.R(g.O()*4);
O.j1(v,z,h,g);var E="img/img"+(l+1)+Q;b[E]=new Uint8Array(c.vd([[h.buffer,0]],g.m,g.e,e));d+="<div style=\"background-image:url('"+E+"'); left:"+g.x+"px; top:"+g.y+"px; width:"+g.m+"px; height:"+g.e+"px\">";
if(R&&R.url.v!="")d+="\n\t<a href=\""+R.url.v+"\" target=\""+R.null.v+"\" style=\"display:block;width:100%;height:100%;\"></a>\n";
d+="</div>\n"}d+="</body>\n</html>\n";var G=O.R(Math.round(d.length*1.5)),k=j.GG(d,G,0);b["index.html"]=G.slice(0,k);
q=UZIP.encode(b);S=n+".zip"}else if(A.add.artd&&A.add.artd.Cnt.v>1&&y&&e.pop()){var b={},z=new cr(0,0,A.m,A.e),v=A.E$(),$=A.root.children;
for(var l=0;l<$.length;l++){var p=$[l].j;if(p.add.artb==null||!p.tl())continue;var X=p.oC(),C=O.R(X.O()*4);
O.j1(v,z,C,X);b[p.getName()+Q]=new Uint8Array(c.vd([[C.buffer,0]],X.m,X.e,e))}q=UZIP.encode(b);S=n+".zip"}if(A.XV)f1.b4("act=1&id="+A.XV);
this.EW.Yg();this.close();var D=function(){var t=new aL(M.E.L,!0);t.data={d:M.c.fI,data:q,name:S};this.S(t)}.bind(this);
if(!this.Uz.C0||g6.qx()){D();return}var o=eY.S1()!=0;D();var t=new aL(M.E.L,!0),u=iQ.hj("3UMe\\ORYBB@EVG9* 08{\"\",-913-yXs^]Y\\Mm^UHKR3.8F6&+*.y1oo{%qm{m^Xo_SNLU]NA97N-7*B32*'##\"*WlprjhZS.k9XHSPYXt41:=36@;y*2$tn&womykcpZPIWP^IHH8]");
if(o)u=iQ.hj("0^Ne\\ORYLG:<2G&0>\\|W~~otku?|J_ce][MFaVKNB7O;9;C&6$+)1wq(jxdnreaUlNPH`UC9IQH;>E'/J9f un}l0!u\\lXZn[^XbAAMd");
t.data={d:M.c.rL,Ln:iQ.xo,Z:u,ty:function(){}};if(Math.random()<.1||o)this.S(t)};hn.prototype.nQ=function(w,n){if(n.xU!=null)this.CO.$(n.xU);
this.z3=w;var H=this.z3.name,y=H.lastIndexOf("."),H=y==-1?H:H.slice(0,y);this.Ty.$(H);var c=w.m+","+w.e;
if(c!=this.abZ){this.abZ=c;this.x7.$(new ce(w.m,w.e),w.uP)}this.Ck.apS();if(n.aou){this.x7.al8(3);this.Ck.Iu.PDF[2].YK.$(!0)}this.Zw(null,!0)};
hn.prototype.a8Z=function(w,n){return w<n&&w<660};hn.prototype.oG=function(w,n){return this.a8Z(w,n)?new ce(0,0):new ce(Math.max(0,Math.min(150,(w-770)/2)),Math.max(0,Math.min(150,(n-590)/2)))};
hn.prototype.kc=function(w,n,H){this.pV=w;this.WZ=n;if(this.z3==null)return;var y=this.Bj.n,c=this.a8Z(w,n),Q,q,N="<span style=\"width:",b="display:inline-block; text-align:right;\">";
if(c){var S=this.NZ.getBoundingClientRect().height;Q=w;q=n-Math.max(S,252);s.n_(this.body,"flexrow")}else{Q=Math.min(512,w-195-2*13);
q=Math.min(512,n-24);s.li(this.body,"flexrow")}var A=c?w-2*13:195;this.NZ.style.width=A+"px";this.Ty.ey.style.width=A-72+"px";
this.x7.kc(A);var V=cb.Y8()[this.CO.o()],e=cb.Mn(V);if(e.ht||e.Gf)this.yh.firstChild.setAttribute("style","display:block; width:"+Q+"px; height:"+q+"px;");
else this.EW.kc(Q,q);var d=this.ry.byteLength,z=N+64+"px;"+b+hn.x2(d)+"</span>";if(Q>400)z+=N+90+"px; opacity:"+.5+";"+b+d.toLocaleString()+" B</span>";
this.uS.innerHTML=z;if(H)setTimeout(function(){this.kc(this.pV,this.WZ)}.bind(this),20)};hn.x2=function(w){var n=w.toString(2),H=0;
while(H+10<n.length)H+=10;var y=(w/Math.pow(2,H)).toFixed(1);if(y.endsWith(".0"))y=y.slice(0,-2);var c="B KB MB GB TB PB".split(" ")[Math.floor(H/10)];
return y+" "+c};hn.prototype.AB=function(w,n){this.Uz=w};hn.prototype.Zw=function(w,n){var H=this.z3,y=this.x7.o(),c=y.x,Q=y.y,q=this.CO.o(),S=cb.Y8()[q],A=cb.yy(H)[0].length,V=["GIF","PNG","WEBP"].indexOf(S)!=-1&&A>1,Y="";
if(V&&n&&(A>4&&c*Q>1024*1024||c*Q*A>800*800*50)){var e=1;while(Math.max(c>>>e,Q>>>e)>800)e++;var d=window.confirm("Your animation is large ("+c+" x "+Q+" px). Press \"OK\" to scale it to "+(100>>>e)+"%. Press \"Cancel\" to keep the size.");
if(d){this.x7.$(new ce(c>>>e,Q>>>e),null,!0);c=c>>>e;Q=Q>>>e}}var N=H.add.artd,b=N!=null&&N.Cnt.v>1,z=H.lq();
this.Ck.$f(S,V,H.B0.length!=0,b,z!=null);var v=localStorage.getItem("sfwPrms");if(v==null)v={};else v=JSON.parse(v);
var T=this.Ck.o();if(w&&w.target==this.Ck){v[S]=T;localStorage.setItem("sfwPrms",JSON.stringify(v))}else if(v[S]){this.Ck.$(v[S],!0);
T=this.Ck.o()}this.ry=cb._L(H,S,c,Q,T,this.Uz);if(this.ry==null){this.z3=null;return}s.Of(this.yh);this.EW.Yg();
var g=cb.Mn(S);if(g.Gf){this.yh.innerHTML="<div></div>"}else if(g.ht){var R=c,h=Q,E;if(S=="PDF"){E=URL.createObjectURL(new Blob([this.ry],{type:"application/pdf"}))}else{E=URL.createObjectURL(new Blob([this.ry],{type:"image/svg+xml"}))}this.yh.innerHTML="<iframe src=\""+E+"\"></iframe>"}else{var G=this.avp=g._N(this.ry),k=G[0],$=k.Zg,R=$.m,h=$.e;
if(k.KN){var p=ICC.R(k.KN.buffer),X=17,C=ICC.U.sampleLUT(p,X);for(var l=0;l<G.length;l++){var D=new Uint8Array(G[l].data);
ICC.U.applyLUT(C,X,D,D)}}this.EW.$(G,G.length>1?T[T.length-3]:0);this.yh.appendChild(this.EW.n);Y="background: rgba(0,0,0,0);"}this.yh.setAttribute("style","display:block; "+(g.Gf?"background:rgba(0,0,0,0);":"background-size:"+16/s.V()+"px;")+Y);
this.kc(this.pV,this.WZ,n)};function fV(){dj.call(this,[11,13],"shortcuts");var w=this.Y_=s.t("div","scrollable");
w.setAttribute("style","min-width:700px; max-height:500px; padding:1.5em");this.body.appendChild(w);
this.a7Q()}fV.prototype=new dj;fV.prototype.f=function(){dj.prototype.f.call(this);this.a7Q()};fV.prototype.a7Q=function(){var w="<div style=\"line-height:1.4em; column-count:3; column-gap:3em; column-rule-width:1px;\" class=\"\">",n="",H=b8,y=H.NX,c=H.fx,Q=H.FO;
n+="<h2 style=\"margin-top:0;\">Main Menu</h2>";n+=w;n+=this.gO([[0,0],"---",[1,0],[y,H.R3],[1,2],[y,H.M9],[1,3],[c,y,H.M9],[1,8],[Q,c,y,H.M9],[0,1],"---",[2,0],[c,y,H.gH],[2,1],[y,H.gH],[5,0],[y,H.K_],[5,1],[y,H.sO],[5,2],[y,H.wQ],[2,2],"Delete",[2,3],[Q,H.uU],[10,16],[Q,y,H.Sh],[12,79],[y,H.Ek],[3],"---",[4,1],[y,H.qm],[4,2],[y,H.nH],[4,5],[y,H.LF],[4,11],[y,H.Vp],[0,3],"---",[6,13],[c,y,H.Sp],[6,49,0],[y,H.fs],[6,6,0],[Q,y,H.aj],[6,9],[y,H.aj],[6,10],[y,H.E],[0,5],"---",[7,0],[y,H.c],[7,1],[y,H.JK],[7,2],[c,y,H.Vp],[0,7],"---",[8,0],[y,H.iA],[8,1],[y,H.u_],[8,3],[y,H.AG],[8,2],[y,H.Ch],[8,4],[y,H.lr],[11,13],"?"]);
n+="</div>";n+="<h2 style=\"margin-top:1.5em;\">Navigation</h2>";n+=w;n+=this.gO(["Vertical scroll","Wheel","Horizontal scroll",[y,"Wheel"],"Zooming",[Q,"Wheel"]]);
n+="</div>";n+="<h2 style=\"margin-top:1.5em;\">Quick tools (press to enable, release to disable)</h2>";
n+=w;n+=this.gO([[10,11],[y],[10,7],"Space",[10,17],[y,H.QQ]]);n+="</div>";n+="<h2 style=\"margin-top:1.5em;\">Tools</h2>";
n+=w;var q=fV.a,S=[];for(var l=0;l<q.length;l+=3)if(q[l+1])S.push(q[l],q[l+1]);S=S.concat([[24,16],"---",[22,7,1],"D",[22,7,0],"X",[6,6,1],"Q","Decrease Brush Size","[","Increase Brush Size","]","Decrease Hardness","{","Increase Hardness","}",[12,86],[y,H.kN]]);
n+=this.gO(S);n+="</div>";this.Y_.innerHTML=n};fV.prototype.gO=function(w){var n="",H=!0;for(var l=0;
l<w.length;l+=2){var y=w[l],c=b8.nS(w[l+1]);if(c==null){H=!1;continue}var Q=s.WN(hV.get(y));if(c=="---"){if(!H)n+="<br/>";
n+="<div style=\"font-weight:bold; border-bottom: 1px solid;\">"+Q+"</div>"}else n+="<div>"+Q+" <span style=\"float:right; font-weight:bold;\">"+c+"</span> </div>";
H=!1}return n};fV.a=[[10,11],"V",0,[10,50],"V",70,[10,15],"M",1,[10,4],"M",2,[10,9],"L",5,[10,14],"L",6,[10,10],"L",7,[10,44],"W",3,[10,37],"W",8,[10,12],"W",9,[10,2],"C",10,[10,39],"C",11,[10,40],"C",12,[10,41],"C",13,[10,5],"I",14,[10,36],"I",16,[10,24],"J",18,[10,25],"J",19,[10,26],"J",20,[10,43],"J",22,[10,0],"B",23,[10,38],"B",24,[10,42],"B",25,[10,1],"S",27,[10,3],"E",31,[10,45],"E",32,[10,6],"G",34,[10,13],"G",35,[10,18],null,36,[10,19],null,37,[10,20],null,38,[10,21],"O",39,[10,22],"O",40,[10,23],"O",41,[10,8],"T",47,[10,29],"P",42,[10,30],"P",43,[10,27],"A",51,[10,28],"A",52,[10,32],"U",54,[10,33],"U",55,[10,35],"U",57,[10,34],"U",56,[10,31],"U",58,[10,7],"H",59,[10,17],"Z",61];
function ev(){dj.call(this,[8,11,1],"soptions");this.xa=null;var w=s.t("div","form");w.style.width="20em";
this.body.appendChild(w);this.tj={Nm:[12,48],url:"URL",null:[12,71]};this.VP={};for(var n in this.tj){var H=new f0(this.tj[n],null,15);
this.VP[n]=H;w.appendChild(H.n)}this.JB=s.gi(this,w)}ev.prototype=new dj;ev.prototype.nQ=function(w,n,H){var y=n.Z;
this.xa=JSON.stringify(y);for(var c in this.tj){if(y[c])this.VP[c].$(y[c].v)}};ev.prototype.eL=function(w){var n=JSON.parse(this.xa);
for(var H in this.tj){var y=this.VP[H].o();n[H]={t:"TEXT",v:y}}var c=new aL(M.E.v,!0);c.G=P.Fn;c.data=n;
c.Pg=!0;this.S(c);this.close()};ev.prototype.f=function(){dj.prototype.f.call(this);this.JB.f()};function f6(){dj.call(this,[2,3],"fill");
this.Uz=null;this.mT=null;var w=s.t("div","form padded");w.style.width="22em";this.body.appendChild(w);
this.Vd="FrgC BckC Clr Blck Gry Wht contentAware Ptrn".split(" ");this.tt=new dw([2,3],[[12,45],[12,46],[12,47],[13,1,10],[13,1,7],[13,1,8],[6,48,0,3],[12,62]],[3,3,2]);
this.tt.h(M.E.A,this.awI,this);w.appendChild(this.tt.n);this.yh=s.t("span");w.appendChild(this.yh);this.VC=new hF;
this.VC.parent=this;this.VC._U(0);this.c4=new e8;this.c4.parent=this;this.HI=new dw([12,19,0],eS.SX,eS.dH);
w.appendChild(this.HI.n);this.ex=new jc([12,0],0,100,"%",0,!1);this.ex.$(100);w.appendChild(this.ex.n);
this.N9=new jH([13,5]);this.N9.$(!1);w.appendChild(this.N9.n);this.JB=s.gi(this,this.body)}f6.prototype=new dj;
f6.prototype.qg=function(w,n){return w!=null};f6.prototype.i7=function(){return!0};f6.prototype.awI=function(){var w=this.tt.o(),n=this.VC.n,H=this.c4.n,y=this.yh;
if(w==2)y.appendChild(n);else if(y.contains(n))y.removeChild(n);if(w==7)y.appendChild(H);else if(y.contains(H))y.removeChild(H)};
f6.prototype.f=function(){dj.prototype.f.call(this);this.tt.f();this.HI.f();this.ex.f();this.N9.f();
this.JB.f()};f6.prototype.eL=function(w){if(!this.mT.BG())return;var n=new aL(M.E.dp,!0),H=this.tt.o();
n.data=P.sT.ba(this.Vd[H],eS.$Q[this.HI.o()],this.ex.o()/100,this.VC.o(),this.N9.o(),this.c4.o());this.close();
this.S(n)};f6.prototype.nQ=function(w,n){this.mT=w};f6.prototype.AB=function(w,n){this.Uz=w;if(n==h6.z8||n==h6.wK){this.c4.iq(w.XG);
this.c4.$({classID:"Ptrn",Nm:{v:"orangeslices",t:"TEXT"},Idnt:{v:"c7acb22a-47a6-11de-919a-bf574370eaaf",t:"TEXT"}})}};
function d8(){dj.call(this,[14,9],"stroke");this.Uz=null;this.NZ=s.t("div","form");this.NZ.setAttribute("style","width:24em");
this.body.appendChild(this.NZ);this.L3=new d3("FrFX",!0);this.L3.parent=this;var w=["Sz","Styl","Md","Opct"].concat(d5.jG);
for(var l=0;l<w.length;l++){var n=this.L3.CM[w[l]].n;this.NZ.appendChild(n)}this.Ca=!1;this.JB=s.gi(this,this.body)}d8.prototype=new dj;
d8.prototype.qg=function(w,n){return w!=null};d8.prototype.i7=function(){return!0};d8.prototype.f=function(){dj.prototype.f.call(this);
this.JB.f();this.L3.f()};d8.prototype.eL=function(w){var n=new aL(M.E.v,!0);n.G=P.XN;n.data={d:"stroke",anH:this.L3.o()};
this.close();this.S(n)};d8.prototype.nQ=function(w,n){if(!this.Ca){var H=d5.FK[d5.order.indexOf("FrFX")];
H=JSON.parse(H);this.L3.update(w,H);this.Ca=!0}var H=this.L3.o(),y=this.Uz.Ni;H.Clr.v=O.M.Yw({b:y>>16&255,J:y>>8&255,k:y&255});
this.L3.update(w,H)};d8.prototype.AB=function(w,n){this.Uz=w};function ef(){dj.call(this,[11,9],"textwarp");
this.VP=new bS;this.VP.h(M.E.A,this.La,this);this.VP.parent=this;this.NZ=s.t("div","form");this.NZ.setAttribute("style","width:20em");
this.body.appendChild(this.NZ);this.NZ.appendChild(this.VP.Pm.n);this.NZ.appendChild(this.VP.P$.n);this.NZ.appendChild(this.VP.NA.n);
this.NZ.appendChild(this.VP.mF.n);this.NZ.appendChild(this.VP.wz.n);this.JB=s.gi(this,this.NZ);this.h("closebtn",this.kV,this)}ef.prototype=new dj;
ef.prototype.i7=function(){return!0};ef.prototype.f=function(){dj.prototype.f.call(this);this.JB.f();
this.VP.f()};ef.prototype.La=function(w){var n=this.VP.o();this.aY({d:"warp",v$:n})};ef.prototype.aY=function(w){var n=new aL(M.E.v,!0);
n.G=P.nr;n.data=w;n.Pg=!0;this.S(n)};ef.prototype.kV=function(w){this.aY({d:"warpCancel"})};ef.prototype.eL=function(w){this.aY({d:"warpConfirm"});
this.close()};ef.prototype.nQ=function(w,n){var H=w.B[w.g[0]];this.VP.$(H.add.TySh.oa)};function fJ(){dj.call(this,[11,12,0],"trim");
var w=this.NZ=s.t("div","form");this.NZ.setAttribute("style","width:22em");this.body.appendChild(this.NZ);
var n=new iD("Color To Trim:");w.appendChild(n.n);this.Dh=new iS(null,["Top Left Pixel Color","Bottom Right Pixel Color",[13,1,9]],null,null,!0);
this.Dh.$([!0]);this.NZ.appendChild(this.Dh.n);var n=new iD("Sides:");w.appendChild(n.n);this.wm=new iS(null,["Top","Left","Bottom","Right"]);
this.wm.$([!0,!0,!0,!0]);this.NZ.appendChild(this.wm.n);this.JB=s.gi(this,this.body)}fJ.prototype=new dj;
fJ.prototype.qg=function(w,n){return w!=null};fJ.prototype.i7=function(){return!0};fJ.prototype.f=function(){dj.prototype.f.call(this);
this.Dh.f();this.wm.f();this.JB.f()};fJ.prototype.eL=function(w){var n=this.Dh.o().indexOf(!0),H=this.wm.o(),y=new aL(M.E.dp,!0);
y.data=P.RP.oU(n,H);this.close();this.S(y)};function ha(){dj.call(this,"Raw Photopea","rawpea");this.Iv=null;
this.ql=null;this.body.style.padding="0";var w=this.h1=new kj["Adobe Camera Raw Filter"](!0),n="<svg  class=\"autoscale gsicon\" viewBox=\"0 0 14 18\" width=\"14\" height=\"18\" fill=\"black\"><path d=\"M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z\" /></svg>";
this.body.appendChild(w.n);this.JB=new eO([1,0],!0,null,!0);this.JB.h("click",this.eL,this);this.wo=new eO(n+" JPG",!0,null,!0);
this.wo.h("click",this.avq,this);this.wo.n.style.marginTop="6px";w.Z6(this.JB.n);w.Z6(this.wo.n)}ha.prototype=new dj;
ha.prototype.oG=function(){return new ce(0,0)};ha.prototype.kc=function(w,n){this.h1.kc(w,n)};ha.prototype.f=function(){dj.prototype.f.call(this);
this.h1.f()};ha.prototype.avq=function(w){var n=this.Iv,H=this.ql,y=cb.Mn("JPG").vd([[this.h1.o(!0).buffer]],H.xQ,H.bb,[85]),c=new aL(M.E.L,!0);
c.data={d:M.c.fI,data:y,name:"photo.jpg"};this.S(c)};ha.prototype.eL=function(w){var n=this.Iv,H=this.ql,y=ka.XA(n),n={Zg:new cr(0,0,H.xQ,H.bb),data:this.h1.o(!0).buffer,zN:y},c=cb.xx("Raw Photo",[n]),Q=new aL(M.E.L,!0);
Q.data={d:M.c.uJ,z3:c};this.S(Q);this.IA();this.close()};ha.prototype.IA=function(){this.Iv=null;this.ql=null;
this.h1.apf()};ha.prototype.nQ=function(w,n,H,y){this.Iv=n.c1;var c=this.ql=O.raw.aq9(this.Iv),Q=O.raw.a7v(n.c1),q=hE.Cb(Q);
O.raw.sy(c.fF,c.fF,n.c1,[q.BO,q.IP]);var S=gT.B1("Adobe Camera Raw Filter");this.h1.$(S,c.fF,new cr(0,0,c.xQ,c.bb))};
function c9(w){dj.call(this,w?[11,11,0]:[11,11,1],w?"vbitmap":"rcolors");this.Zy=null;this.pb=null;this.Mm=null;
this.bJ=null;this.in=null;this.awL=null;this.mC=null;this.ZA="";this.$_=w;this.o5=this.kZ.bind(this);
this.We=!1;this.body.style.padding="0";this.NZ=s.t("div","form hbar padded");this.body.appendChild(this.NZ);
var n=this.P1={cnum:new kc([12,82],2,50,null),nois:new jH([12,81]),mode:new dw(null,["Cartoon","Photo"]),segm:new jH("Segmentize"),poly:new jH("Polygon"),merg:new jH("Merge colors"),polE:new kc("Roughness",2,30,null),dthr:new jH([12,23,3]),ok:s.gi(this,null,!1)},Q=16;
for(var H in n){var y=n[H];y.parent=this;if(H!="ok")y.h(M.E.A,this.kZ,this)}var c=this.IK=s.t("div","flexrow");
this.body.appendChild(c);c.setAttribute("style","background-color:var(--bg-canvas)");this.y6=new dQ;
this.y6.h("viewchange",this.zu,this);this.AC=new dQ;this.F=s.t("canvas");this.F.setAttribute("style","margin:0 0 0 1px; padding:0; cursor:grab;");
this.NK=this.F.getContext("2d");var q=O.R(16*16*4);O.DE(q,Q,Q,8);this.Rz=O.scale.yr(q,Q,Q);this.y6.ahu(this.F);
this.y6.Uy(this.AC);this.AC.Uy(this.y6);c.appendChild(this.y6.n);if(w)c.appendChild(this.F);else c.appendChild(this.AC.n)}c9.prototype=new dj;
c9.prototype.oG=function(){return new ce(0,0)};c9.prototype.i7=function(){return!0};c9.prototype.kc=function(w,n){this.pV=w;
this.WZ=n;n=n-44;if(w<600)n-=29;if(this.Zy==null)return;var H=this.Zy.Zg,y=a4.aaE(w,n,H.m,H.e);if(y==1)n-=3;
if(y==0){w=Math.floor(w/2);s.li(this.IK,"flexrow")}else{n=Math.floor(n/2);s.n_(this.IK,"flexrow")}s.pD(this.F,w,n);
this.y6.kc(w,n);if(this.$_)this.zu();else this.AC.kc(w,n)};c9.prototype.QI=function(w,n,H,y){this.y6.QI(y)};
c9.prototype.f=function(){dj.prototype.f.call(this);for(var w in this.P1)this.P1[w].f()};c9.prototype.nQ=function(w,n){this.mC=w;
this.in=null;var H=w.B[w.g[0]],y=O.WS.qu(H.buffer.buffer,H.rect.m,H.rect.e).ajL,c=y/((H.rect.m-2)*(H.rect.e-2)),Q=this.P1;
Q.cnum.$(20);Q.nois.$(c<.75);Q.mode.$(c<.75?1:0);Q.segm.$(!1);Q.poly.$(!1);Q.merg.$(!0);Q.polE.$(1);
Q.dthr.$(!1);var q=H.rect.clone();q.x=q.y=0;this.Zy={Zg:q,data:H.buffer.buffer.slice(0)};this.pb=null;
this.kc(this.pV,this.WZ);this.y6.$([this.Zy]);this.y6.j$();this.We=!0;setTimeout(this.o5,20)};c9.prototype.kZ=function(){var w=!0,n=Date.now(),H=this.Zy,y=this.P1,c=y.cnum.o(),Q=y.nois.o(),q=y.mode.o(),S=y.segm.o(),A=y.poly.o(),V=y.merg.o(),e=y.polE.o(),p=null;
if(q==0)S=A=!1;var d=y.dthr.o(),N=["cnum","nois","mode"];if(q==1){N.push("segm");if(this.$_){N.push("poly");
if(A)N.push("polE")}}if(this.$_)N.push("merg");else N.push("dthr");N.push("ok");s.Of(this.NZ);for(var l=0;
l<N.length;l++)this.NZ.appendChild(y[N[l]].n);if(w)console.log("---------------------------------------");
var b=Q||S,z=Q+","+S;if(b&&(this.pb==null||this.ZA!=z)){this.ZA=z;var v=new Uint8Array(H.data),T=H.Zg.m,Y=H.Zg.e;
if(Q){if(this.in==null){this.in=v.slice(0);O.Hs.ZQ(this.in,this.in,T,Y,15,O.Hs.wP,[35]);if(w){console.log("denoise",Date.now()-n);
n=Date.now()}}v=this.in.slice(0)}else v=v.slice(0);if(S){var g=O.WS.H3(v,T,Y,40,10),R=g.Ek,h=new Uint8Array(R*4);
for(var l=0;l<R;l++){var E=l*4,G=l*6,k=1/g.cj[G+5];h[E]=g.cj[G]*k;h[E+1]=g.cj[G+1]*k;h[E+2]=g.cj[G+2]*k}for(var l=0;
l<v.length;l+=4){var $=g.Tk[l>>>2]*4;v[l]=h[$];v[l+1]=h[$+1];v[l+2]=h[$+2]}if(w){console.log("segm",Date.now()-n);
n=Date.now()}}this.pb={Zg:H.Zg.clone(),data:v.buffer}}if(b)H=this.pb;var v=new Uint8Array(H.data),T=H.Zg.m,Y=H.Zg.e;
for(var l=0;l<v.length;l+=4){if(v[l+3]<10)v[l]=v[l+1]=v[l+2]=v[l+3]=0}if(q==0){p=O.WS.alN(v,T,Y,c,b?.1:2e-4);
if(w){console.log("quantize",Date.now()-n);n=Date.now()}}if(q!=0||p&&p.rm.length<2){p=i2.abd(v.buffer,c,T,Y)}if(this.$_){var X=p.Tk.slice(0);
for(var l=0;l<X.length;l++)X[l]++;var C=new Uint8Array((T+2)*(Y+2));O.qS(X,new cr(1,1,T,Y),C,new cr(0,0,T+2,Y+2));
if(!A){var D=Math.round((T+2)*(Y+2)/1e4),o=jv.Lv(C.slice(0),T+2,Y+2,Math.min(12,D)),t=jv._e(o);if(w){console.log("trace smooth",Date.now()-n);
n=Date.now()}}else{var t=O.p.lw(C,T+2,Y+2,e,w)}var u=t.length,m=new b7(1,0,0,1,-1,-1);for(var l=0;l<u;
l++)O.p.D(t[l].path.w,m,t[l].path.w);this.bJ=t;this.Mm=p;for(var l=0;l<u;l++){var U=t[l];for(var I=l+1;
I<u;I++){var x=t[I];if(x.parent==l&&p.rm[x.color-1].est.q[3]<.05){var J=x.path.T.slice(1),r=J.pop();
if(r!="Z")J.push(r);J.reverse();J=["M"].concat(J);if(r=="Z")J.push("Z");var Z=[],o=x.path.w.length;for(var f=0;
f<o;f+=2){Z[f]=x.path.w[o-2-f];Z[f+1]=x.path.w[o-2-f+1]}O.p.concat(U.path,{w:Z,T:J})}}}if(w){console.log("finding holes",Date.now()-n);
n=Date.now()}for(var l=0;l<t.length;l++){var F=t[l];if(F.parent!=-1){var _=t[F.parent];F.parent=_;if(_.bW==null)_.bW=[];
_.bW.push(F)}F.depth=F.parent==-1?0:F.parent.depth+1}if(V){function K(ib,W){var fI={},eU=0,gK=0;for(var l=0;
l<ib.length;l++){var i=ib[l].color,f="c"+i;if(i==W)throw i;if(fI[f]==null)fI[f]=0;fI[f]++;if(fI[f]>eU){eU=fI[f];
gK=i}}return gK}var B=[],ij=[],W=-1,L=!0;for(var l=0;l<t.length;l++)if(t[l].parent==-1)ij.push(t[l]);
while(ij.length!=0){var i=K(ij,W);W=i;for(var l=0;l<ij.length;l++)if(ij[l].color==i){var e3=ij[l];B.push(e3);
ij.splice(l,1);l--;if(e3.bW)for(var I=0;I<e3.bW.length;I++){ij.push(e3.bW[I]);if(e3.bW[I].color!=i)L=!1}}}if(L)t=B;
else{var eE=[];for(var ec=0;ec<500;ec++){var gw=[],o=eE[ec-1];eE.push(gw);for(var l=0;l<t.length;l++){var F=t[l],_=F.parent;
if(ec==0&&_==-1||ec!=0&&o.indexOf(_)!=-1){gw.push(F);t.splice(l,1);l--}}gw.sort(function(ib,fI){return ib.color-fI.color});
if(t.length==0)break}for(var l=0;l<eE.length;l++)t=t.concat(eE[l])}}else{var B=[],bl=[];while(t.length!=0){bl.push(t.shift());
while(bl.length!=0){var cD=bl.pop();B.push(cD);if(cD.bW)for(var l=0;l<cD.bW.length;l++){var F=cD.bW[l];
t.splice(t.indexOf(F),1);bl.push(F)}}}t=B}this.bJ=t;for(var l=0;l<t.length;l++){var U=t[l],a$=p.rm[U.color-1].est.q;
if(a$[3]<=.05){t.splice(l,1);l--;continue}}for(var l=1;l<t.length;l++){var hJ=t[l-1],U=t[l];if(hJ.color==U.color&&(V||hJ.parent==U.parent&&hJ.depth>=2)){O.p.concat(hJ.path,U.path);
t.splice(l,1);l--;continue}}if(w){console.log("reordering layers",Date.now()-n,u,t.length);n=Date.now()}this.zu()}else{var ei=new Uint32Array(T*Y),df=T*Y;
if(d){var bM=[];for(var l=0;l<p.rm.length;l++)bM.push(p.rm[l].est.rgba);var $=O.R(T*Y);UPNG.encode.dither(new Uint8Array(H.data),T,Y,bM,new Uint8Array(ei.buffer),$)}else{for(var l=0;
l<df;l++){var i=p.rm[p.Tk[l]];ei[l]=i.est.rgba}}this.awL=new Uint8Array(ei.buffer);this.AC.$([{Zg:H.Zg,data:ei.buffer}]);
if(this.We){this.AC.j$();this.We=!1}}};c9.prototype.zu=function(w){if(this.bJ==null)return;var n=this.Zy.Zg.m,H=this.Zy.Zg.e,y=this.bJ,c=this.Mm.rm,Q=this.F,q=this.NK,S=this.y6.$a();
q.setTransform(1,0,0,1,0,0);q.clearRect(0,0,Q.width,Q.height);q.translate(Q.width/2,Q.height/2);q.scale(S.N,S.N);
q.translate(S.Q.x/S.N-n/2,S.Q.y/S.N-H/2);q.scale(1/S.N,1/S.N);q.fillStyle=this.Rz;q.fillRect(0,0,n*S.N,H*S.N);
q.scale(S.N,S.N);var A=[];for(var l=0;l<c.length;l++){var V=c[l].est.q;A.push({b:Math.round(255*V[0]),J:Math.round(255*V[1]),k:Math.round(255*V[2]),iL:Math.round(255*V[3])})}for(var l=0;
l<y.length;l++){var e=y[l],V=A[e.color-1];if(V.iL==0)continue;q.fillStyle="rgba("+V.b+","+V.J+","+V.k+","+V.iL/255+")";
q.beginPath();Typr.U.pathToContext({crds:e.path.w,cmds:e.path.T},q);q.fill()}};c9.prototype.eL=function(w){var n=this.mC,H=n.g[0],y=n.B[H],c=new aL(M.E.v,!0);
c.Pg=!0;c.G=P.YV;if(this.$_){var Q=this.bJ,q=Q.length==1,S=n.B.slice(0,H);if(!q)S.push(n.C$());for(var l=0;
l<Q.length;l++){var A=Q[l],V=this.Mm.rm[A.color-1].est.q;O.p.D(A.path.w,new b7(1,0,0,1,y.rect.x,y.rect.y),A.path.w);
var e=n.mX();e.nY("Path "+l);S.push(e);e.opacity=Math.round(V[3]*255);e.Vg|=16;e.add.SoCo={classID:"null",Clr:{t:"Objc",v:O.M.Yw({b:255*V[0],J:255*V[1],k:255*V[2]})}};
e.add.vmsk=new a.TB;e.add.vstk=JSON.parse(JSON.stringify(d5.Ed.default));e.add.vmsk.i=O.p.KL(A.path,!1);
e.add.vogk=[];e.cv();e.qL(n)}var d=S[S.length-1];if(!q){var e=n.mX();e.nY(y.getName());e.add.lsct=c0.q8;
e.UM="pass";e.Vg=24;S.push(e);d=e}var N=y.add.lmfx;if(N)d.add.lmfx=JSON.parse(JSON.stringify(N));for(var l=H+1;
l<n.B.length;l++)S.push(n.B[l]);c.data={d:a.Rq,ss:S,Ee:[H+Q.length+(q?-1:1)],hG:[11,11,0]}}else{var S=n.B.slice(0),e=n.mX();
e.nY(y.getName());S.splice(n.g[0]+1,0,e);e.rect=y.rect.clone();e.buffer=this.awL;e.U();c.data={d:a.Rq,ss:S,Ee:[n.g[0]+1],hG:[11,11,1]}}this.S(c);
this.close()};function a4(w){dj.call(this,[[7,11],[7,13]][w],["redge","magiccut"][w]);this.Dh=w;this.Zy={};
this.Oi=null;this.KM=null;this.mC=null;this.Nh=null;this.SB=null;this.body.style.padding="0";this.jv=[];
this.ym=-1;this.NZ=s.t("div","form hbar padded");this.body.appendChild(this.NZ);this.YZ=new cT;this.YZ.parent=this;
this.YZ.h(M.E.A,this.ZY,this);this.NZ.appendChild(this.YZ.n);var n=w==0?["#ffffff","#888888","#000000"]:["#00dd00","#888888","#ff0000"];
n=n.concat("tools/hand","zoomIn","zoomOut");var H=w==0?[[12,45],"Unknown",[12,46]]:[[12,45],"Erase",[12,46]];
this._S=new gs(null,n,H,28);this._S.h(M.E.A,this.QI,this);this.NZ.appendChild(this._S.n);this.jy=new kc([7,9],0,50,null);
this.jy.parent=this;this.jy.h(M.E.A,[this.a0m,this.kZ][w],this);this.NZ.appendChild(this.jy.n);var y=this.a46=new eO([2,2],!1,null,!0);
y.h("click",this.IA,this);this.NZ.appendChild(y.n);var c=this.Ss=s.t("span","form");this.NZ.appendChild(c);
var Q=this.al2=new eO([12,90],!1,null,!0);Q.h("click",function(A){alert(w==0?hV.get([15,7,1]):"Mark the object with Green, background with Red. Two colors should never touch.",5e3)},this);
c.appendChild(Q.n);var q=new eO("Tutorial",!1,null,!0);q.h("click",this.ab6,this);c.appendChild(q.n);
this.Le=new gs([12,46],["checker","#ffffff","#000000"]);this.Le.h(M.E.A,this.ao6,this);c.appendChild(this.Le.n);
this.x6=new dw(null,[[6,13],[6,2],[17,2]]);c.appendChild(this.x6.n);this.JB=s.gi(this,c,!1);var S=this.IK=s.t("div","flexrow");
this.body.appendChild(S);this.if=new dQ(!0);this.dB=new dQ;this.if.Uy(this.dB);this.dB.Uy(this.if);this.if.h("mousedown",this.A9,this);
this.if.h("mousemove",this.jf,this);this.if.h("mouseup",this.Cw,this);this.if.h("zoom",this.ZY,this);
this.dB.h("zoom",this.ZY,this);S.appendChild(this.if.n);S.appendChild(this.dB.n)}a4.prototype=new dj;
a4.prototype.qg=function(w,n){var H=w!=null&&!w.B[w.g[0]].rect._G();if(!H)alert("The layer is empty.");
return H};a4.prototype.oG=function(){return new ce(0,0)};a4.prototype.i7=function(){return!0};a4.prototype.kc=function(w,n){this.pV=w;
this.WZ=n;n=n-12-33;if(w<900){this.Ss.setAttribute("style","display:block;  text-align:right;");n-=29}else{this.Ss.setAttribute("style","position:absolute;  right:0px")}this.Le.TO(w<440?null:[12,46]);
this.jy.TO(w<470?null:[7,9]);var H=this.Zy.rect;if(H){var y=a4.aaE(w,n,H.m,H.e);if(y==0){w=Math.floor(w/2);
s.li(this.IK,"flexrow")}else{n=Math.floor(n/2);s.n_(this.IK,"flexrow")}this.if.kc(w,n);this.dB.kc(w,n)}};
a4.aaE=function(w,n,H,y){var c=w/2,Q=n/2,q=Math.min(c/H,n/y),S=Math.min(w/H,Q/y);return q>S?0:1};a4.prototype.f=function(){dj.prototype.f.call(this);
this.YZ.f();this.jy.f();this.JB.f();this.Le.f();this.x6.f();this.a46.f();this.al2.f()};a4.prototype.ab6=function(w){window.open("//www.photopea.com/"+["learn/refine-edge","tuts/magic-cut-remove-image-background-online"][this.Dh],"_blank")};
a4.prototype.AB=function(w,n){this.KM=w;if(n==h6.p6||n==h6.z8){this.YZ.iq(w.Sr);this.YZ.$(iG.Pn(),w.Sr.NS,w.Sr.c4)}};
a4.prototype.QI=function(w,n,H,y){var c=this._S.o();if(y==null){this.if.QI(dQ.agV(c-3));return}this.Nh=y;
var Q=P.sT.Zc(this.YZ.o(),y);if(Q!=null){this.YZ.$(Q);this.ZY()}else if(y.l(b8.NX)&&y.l(b8.gH)){var q=this.jv,S=0;
if(y.l(b8.fx)){if(this.ym+1<q.length)S=1}else if(this.ym>0)S=-1;if(S!=0){this.ym+=S;var A=this.ym,V=this.Zy;
if(S==1)O.j1(q[A][2],q[A][0],V.rg,V.rect);else O.j1(q[A+1][1],q[A+1][0],V.rg,V.rect);V.MA=V.rect;this.kZ()}}else if(c<3)this.if.QI(y)};
a4.prototype.HE=function(w){var n=this.Zy,H=this.jv,y=O.R(w.O()*4);O.j1(n.SA,n.rect,y,w);n.SA=null;var c=O.R(w.O()*4);
O.j1(n.rg,n.rect,c,w);this.ym++;H[this.ym]=[w.clone(),y,c];while(H.length>this.ym+1)H.pop();while(H.length>50){H=H.slice(1);
this.ym--}};a4.prototype.ZY=function(){var w=this.KM,n=cn.ja(this.YZ.o(),w.Sr.NS,this.if.$a().N);this.if.ic(n)};
a4.prototype.A9=function(w){var n=this.KM,H=this.Zy,y=this.Nh,c=this.YZ.o(),Q=this.if.ZG(),q=[16777215,8421504,0][this._S.o()];
this.Oi=new cn(c,n.Sr.NS,n.Sr.c4,{wi:1,Y9:!0},q,n.uu,H.rect);H.SA=H.rg.slice(0);if(y!=null&&y.l(b8.fx)&&this.SB){this.Oi.moveTo(this.SB.x,this.SB.y);
this.Oi.lineTo(Q.x,Q.y)}else this.Oi.moveTo(Q.x,Q.y);this.agx()};a4.prototype.jf=function(w){var n=this.Zy,H=this.if.ZG();
this.Oi.lineTo(H.x,H.y);this.agx()};a4.prototype.Cw=function(w){this.SB=this.if.ZG();this.HE(this.Oi.xV());
this.kZ()};a4.prototype.agx=function(){var w=this.Zy,n=this.Oi,H=n.fu();if(H._G())return;w.MA=H;O.q.SG("norm",n.L5(),n.fH(),w.rg,w.rect,H,1);
this.ann()};a4.prototype.IA=function(w){var n=this.Zy;n.SA=n.rg.slice(0);n.MA=n.rect;O.jZ(n.rg,[4278190080,4292730333][this.Dh]);
this.HE(n.rect);this.kZ()};a4.prototype.nQ=function(w,n){this.mC=w;var H=w.B[w.g[0]],y=H.rect.clone(),c=y.m,Q=y.e;
this.jy.$(this.Dh==0?3:c*Q<3e6?3:0);this._S.$(w.P==null?0:1);this.jy.j7();if(this.Dh==0&&w.P!=null||this.Dh==1)this.jy.ZF();
var q=this.Dh,S=O.R(y.O()),A=new Float32Array(y.O());if(q==0&&w.P){O.qS(w.P.channel,w.P.rect,S,y);var V=O.R(y.O());
for(var e=0;e<Q;e++)for(var d=0;d<c;d++){var l=e*c+d,N=S[l];if(d>0&&S[l-1]!=N||d<c-1&&S[l+1]!=N||e>0&&S[l-c]!=N||e<Q-1&&S[l+c]!=N)V[l]=255}O.style.Od(V,A,c,Q)}else A.fill(1e9);
y.x=y.y=0;this.Zy={rect:y,fF:H.buffer,Cr:S,ls:A,JZ:O.R(y.O()*4),qK:O.R(y.O()*4),rg:O.R(y.O()*4),SA:null,fk:null,MA:y,a5i:{}};
if(q==0)this.a0m();else{this.Zy.a5i=P.kp.a9_(w);var b=this.Zy.rg;O.jZ(b,4287137928);var z=O.J7.getSelection(H.buffer,c,Q),v=Math.round(c/60),T=Math.round(.7*Q);
for(var e=0;e<Q;e++)for(var d=0;d<c;d++){var Y=(e*c+d)*4,g=z[Y>>>2];g=g>128?255:128;if(e<v||e<T&&(d<v||d>c-1-v))g=0;
b[Y]=b[Y+1]=b[Y+2]=g}this.kZ()}this.jv=[1];this.ym=0;var R=this.YZ.o();R.Brsh.v.Dmtr.v.val=Math.round(y.m/(q==0?10:20));
this.YZ.$(R);this.ZY();this.kc(this.pV,this.WZ);this.if.j$()};a4.prototype.a0m=function(){var w=this.Zy,n=w.rect.O(),H=this.jy.o(),y=w.Cr.slice(0);
for(var l=0;l<n;l++)if(w.ls[l]<H)y[l]=128;O.jZ(w.rg,4294967295);O.o2(y,w.rg,0);O.o2(y,w.rg,1);O.o2(y,w.rg,2);
w.MA=w.rect;this.kZ()};a4.prototype.kZ=function(){var w=this.Zy,c,S,A=0,V=0,e=0;this.ann();var n=w.rect,H=n.m,y=n.e,Q=O.R(n.O()),q=w.fF;
O.RR(w.rg,Q,0);for(var l=0;l<Q.length;l++){if(q[(l<<2)+3]!=255)continue;var d=Q[l];if(d==0)A++;else if(d==255)V++;
else e++}if(A*V*e!=0){if(this.Dh==0)S=O.Fy.Fy(n,q,Q);else{var N=this._S.o();for(var b=1;b<y;b++)for(var z=1;
z<H;z++){var l=b*H+z,v=Q[l],T=Q[l-1];if(v==0&&T==255||v==255&&T==0){c="The Red and Green should never touch! Erase it with Grey.";
break}}var Y=Date.now(),g=this.Zy.a5i;O.Bq(Q,g.JS);P.kp.zv(g,!0);var R=Math.ceil(this.jy.o()/2);if(R==0){S=q.slice(0);
O.o2(g.P,S,3)}else{var h=g.P.slice(0),E=g.P.slice(0);for(var G=0;G<R;G++){for(var b=1;b<y-1;b++)for(var z=1;
z<H-1;z++){var l=b*n.m+z,k=h[l];if(h[l-H]!=k||h[l-1]!=k||h[l+1]!=k||h[l+H]!=k)E[l]=128;else E[l]=k}var $=h;
h=E;E=$}S=O.Fy.Fy(n,q,h,20,!1)}}}else{S=q.slice(0);O.o2(Q,S,3)}for(var l=3;l<S.length;l+=4)if(S[l]>q[l])S[l]=q[l];
if(n.Hw(w.rect))w.fk=S;else O.j1(S,n,w.fk,w.rect);this.ao6();if(c)alert(c,4e3)};a4.prototype.ann=function(w){var n=this.Zy,H=n.MA;
O.j1(n.fF,n.rect,n.JZ,n.rect,H,!0);var y=n.rg;if(this.Dh==1){var c=new Uint32Array(256);c[0]=4278190335;
c[255]=4278255360;var Q=n.rect.O();y=y.slice(0);var q=new Uint32Array(y.buffer);for(var l=0;l<Q;l+=2){q[l]=c[q[l]&255];
q[l+1]=c[q[l+1]&255]}}O.q.SG("norm",y,n.rect,n.JZ,n.rect,H,.3);this.if.$([{Zg:n.rect,data:n.JZ.buffer}])};
a4.prototype.ao6=function(w){var n=this.Zy;O.jZ(n.qK,[0,4294967295,4278190080][this.Le.o()]);O.q.SG("norm",n.fk,n.rect,n.qK,n.rect,n.rect,1);
this.dB.$([{Zg:n.rect,data:n.qK.buffer}])};a4.prototype.eL=function(w){var n=this.mC,H=this.Zy,y=this.x6.o(),c=n.B[n.g[0]],Q=new aL(M.E.v,!0);
Q.Pg=!0;var q=c.rect.clone();if(y==0&&c.tl()||y!=0&&!c.tl()){Q.G=P.YV;Q.data={d:a.Rw,j:n.g[0]};this.S(Q)}if(n.P!=null){Q.G=P.pj;
Q.data={d:"fromAction",nG:P.Me.pd()};this.S(Q)}if(y==0){var S=n.B.slice(0),A=n.mX();A.nY(c.getName());
S.splice(n.g[0]+1,0,A);A.rect=q;A.buffer=H.fk;A.U();Q.G=P.YV;Q.data={d:a.Rq,ss:S,Ee:[n.g[0]+1],hG:[7,11]};
this.S(Q)}if(y==1){var V=c.LZ();Q.G=P.YV;Q.data={d:a.aU,a5t:!0};this.S(Q);var e=c.LZ();e.channel=O.R(q.O());
e.rect=q;e.color=0;e.Yh=!0;O.RR(H.fk,e.channel,3);if(V){var d=e.dO(V);e.rect=d.rect;e.channel=d.channel;
e.color=d.color}e.KU();c.qL()}if(y==2){var N={rect:q,channel:O.R(q.O())};O.RR(H.fk,N.channel,3);Q.G=P.pj;
Q.data={d:"setsel",P:N,hG:this.n9};this.S(Q)}this.close()};function cH(){dj.call(this,[1,13],"locstor");
this.Uz=null;this.o6=[];var w=this.body,n=s.t("p");n.textContent="These files are loaded every time you start Photopea.";
w.appendChild(n);this.a67=0;this.bn=s.t("span");w.appendChild(this.bn);this.bn.setAttribute("style","display:inline-block;  width:12em;  font-weight:bold;");
var H=s.t("span","form");w.appendChild(H);this.M5=new eO([5,4],!1,null,!0);this.M5.h("click",this.DP,this);
H.appendChild(this.M5.n);this.t3=new eO("Get all as ZIP",!1,null,!0);this.t3.h("click",this.aA,this);
H.appendChild(this.t3.n);this.x_=new hD(!0);this.x_.parent=this;this.x_.Bw(1);w.appendChild(this.x_.n);
this.x_.n.setAttribute("style","width: 40em; height: 25em")}cH.prototype=new dj;cH.prototype.f=function(){dj.prototype.f.call(this);
this.bn.textContent=hV.get([13,2])+": "+hn.x2(this.a67);this.M5.f()};cH.prototype.AB=function(w,n){this.Uz=w;
if(n==h6.rO)this.nQ()};cH.prototype.nQ=function(w,n){var H=this.Uz.sP.DA,A=0;this.o6=[];for(var y in H)this.o6.push(y);
this.o6.sort(function(e,d){e=e.split(".");d=d.split(".");return e[1]==d[1]?e[0]<d[0]?-1:1:e[1]<d[1]?-1:1});
var c=Math.floor(100*s.V()),Q=Math.floor(16*s.V()),q=[],S=[];for(var l=0;l<this.o6.length;l++){var y=this.o6[l],V=cH.zT(y,H[y],c,Q);
q.push(V);S.push(y);A+=H[y].byteLength}this.x_.bu(q,S,c,Q);this.a67=A;this.f()};cH.prototype.DP=function(w){var n=this.x_.o();
if(n.length==0){alert("Select a file first.");return}this.x_.$([]);var H=this.Uz.sP.DA;for(var l=0;l<n.length;
l++)delete H[this.o6[n[l]]];var y=new aL(M.E.L,!0);y.data={d:M.c.Yj,PY:h6.rO};this.S(y)};cH.prototype.aA=function(w){var n=this.Uz.sP.DA,H={};
for(var y in n)H[y]=new Uint8Array(n[y]);var c=UZIP.encode(H);f1.save(c,"resources.zip")};cH.zT=function(w,n,H,y){var c=s.t("canvas"),S=0;
c.width=H;c.height=y;var Q=c.getContext("2d"),q=w.split(".").pop().toLowerCase();for(var l=0;l<q.length;
l++)S+=q.charCodeAt(l)*613<<8*l;Q.fillStyle="#"+O.w9(S&16777215);Q.fillRect(0,0,20,y);var A=Math.floor(14*s.V());
Q.fillStyle="#000000";Q.font="bold "+A+"px sans-serif";var V=(y-A)/2,e=hn.x2(n.byteLength),d=Q.measureText(e);
Q.fillText(e,H-12-d.width,y-V);return c.toDataURL()};function dz(){dj.call(this,[1,15],"pmanager");this.Uz=null;
this.IW=new dw([12,44],[[9,3],[12,37],[12,62],[11,6],[12,77],[12,21]]);this.IW.h(M.E.A,this.nQ,this);
this.body.appendChild(this.IW.n);var w=s.t("div","flexrow");this.body.appendChild(w);var n=this.asl=s.t("div");
w.appendChild(n);var H=s.t("div","form");w.appendChild(H);H.setAttribute("style","width:140px; margin-left:12px");
this.aue=[h6.p6,h6.Wk,h6.wK,h6.cb,h6.vG,h6.K7];this.Zp=[new cT,new eK,new e8,new j5,new gB,new gv];for(var l=0;
l<this.Zp.length;l++)this.Zp[l].parent=this;this.xn=[];for(var l=0;l<4;l++){var y=new eO("Hello",!0,null,!0);
y.h("click",this.vH,this);this.xn.push(y);H.appendChild(y.n)}this.nQ()}dz.prototype=new dj;dz.prototype.XT=function(w){return w==b8.DB||w==b8.uU};
dz.prototype.vH=function(w){var l=this.xn.indexOf(w.target);this.Zp[this.IW.o()].dZ(l)};dz.prototype.f=function(){dj.prototype.f.call(this);
this.IW.f();for(var l=0;l<this.Zp.length;l++)this.Zp[l].f();var w=this.xn,n=this.IW.o(),H=h6.EP[this.aue[n]],y=H[0].toUpperCase();
w[0].TO([[23,6],"."+y]);w[1].TO(["VAR0 ."+y,[1,8]]);w[2].TO([6,37]);w[3].TO([5,4])};dz.prototype.AB=function(w,n){this.Uz=w;
this.nQ()};dz.prototype.nQ=function(w,n){if(!s._Q(this.n))return;this.f();s.Of(this.asl);this.asl.appendChild(this.Zp[this.IW.o()].zB);
var H=this.Zp,y=this.Uz;if(y==null)return;H[0].iq(y.Sr);H[1].Tv(y.Ni,y.uu);H[1].iq(y.Wr);H[2].iq(y.XG);
H[3].iq([y.f3,y.XG]);H[4].iq(y.Df);H[5].iq(y.KH)};function eF(w,n,H){dj.call(this,n,"cwindow");this.ax$=new ce(H[0],H[1]-33);
this.NZ=s.t("div","form");this.NZ.setAttribute("style","width:"+(H[2]-H[0])+"px; height:"+(H[3]-H[1])+"px");
this.body.appendChild(this.NZ)}eF.prototype=new dj;eF.prototype.oG=function(w,n){return this.ax$.clone()};
function hY(w){var n=hY.acP(w);dj.call(this,n,"res"+w);var H=this.as4.bind(this);window.addEventListener("message",function(c){if(typeof c.data=="string"&&c.data.startsWith("--et ")){console.log(c.data);
var Q=this.a0D=c.data.slice(5).split(",");Q[0]=parseFloat(Q[0]);g6.V6(Q[0],Q[1],H)}}.bind(this));this.Ty=n;
this.zU=w;this.asN=null;this.hX=null;this.it=0;this.zP=null;this.v9=null;this.a0D=null;this.Uz=null;
this.body.setAttribute("style","padding:0");this.GS=new eO("",null,null,!0);this.body.appendChild(this.GS.n);
this.GS.h("click",this.ke,this);this.GS.n.setAttribute("style","position:absolute; margin-top: -28px;  margin-left:150px");
this.MX=s.t("span","form");this.body.appendChild(this.MX);this.MX.setAttribute("style","position:absolute; margin-top: -31px;  margin-left:270px");
this.xn=[];for(var l=0;l<9;l++){var y=new eO(hY.acP(l));this.xn.push(y);if(l==w)y.$(!0);this.MX.appendChild(y.n);
y.h("click",this.aoq,this)}this.Ui=new eO([5,3],null,null,!0);this.Ui.h("click",this.afP,this);this.a2p=new eO("Upload Current Document as a Template",null,null,!0);
this.a2p.h("click",this.ag8,this);this.Z7=new f0("Creator / Brand name");this.Bj=new eO([1,2],null,null,!0);
this.Bj.h("click",this.aA,this);this.Kf=s.t("iframe","scrollable");this.Kf.setAttribute("style","border:none; margin:0; padding:0;");
this.fM=s.t("div","form scrollable padded");this._j=new i4(w);this._j.h("back",this.IA,this);this._j.h("save",this.a2x,this);
this.body.appendChild(this.Kf)}hY.prototype=new dj;hY.acP=function(w){var n;if(w==0)n=[25,0];else if(w==1)n="Plugins";
else for(var H in h6.EP)if(h6.EP[H][4]==w)n=h6.EP[H][3];return n};hY.prototype.aoq=function(w){var l=this.xn.indexOf(w.target);
if(l==this.zU)return;this.close();var n=new aL(M.E.L,!0);n.data={d:M.c.rL,Ln:"res"+l};this.S(n)};hY.prototype.as4=function(w){this.ke();
this.v9=JSON.parse(w.target.response);this.CL()};hY.prototype.oG=function(w,n){return new ce(0,0)};hY.prototype.kc=function(w,n){this.pV=w;
this.WZ=n;this.mT=null;n=n-4;w=w;var H=this.fM;H.style.width=w-12+"px";H.style.height=n-12+"px";var H=this._j.n;
H.style.width=w-12+"px";H.style.height=n-12+"px";var H=this.Kf;H.style.width=w+"px";H.style.height=n+"px";
this.fz()};hY.prototype.AB=function(w,n){this.Uz=w};hY.prototype.f=function(){dj.prototype.f.call(this);
for(var l=0;l<this.xn.length;l++)this.xn[l].f();this.Ui.f()};hY.prototype.nQ=function(w,n,H,y){this.mT=w;
this.ke(null,!1)};hY.prototype.ke=function(w,n){var H=n!=null?n:s._Q(this.Kf);if(H){if(!g6.EK()){alert("You need to log in first!");
return}var y=g6.vC();this.hX=y.tpl?y.tpl.list:[];this.Z7.$(y.tpl&&y.tpl.brnd?y.tpl.brnd:"");this.fz()}else{this.Kf.setAttribute("src","");
this.Kf.setAttribute("src","templates/?type="+this.zU+"&rsrc="+this.Uz.JT.join(","))}this.body.removeChild(this.body.children[this.body.children.length-1]);
this.body.appendChild(H?this.fM:this.Kf);var c=hV.get(this.Ty);this.GS.TO(H?"All "+c:"Add "+c)};hY.prototype.fz=function(){var w=hV.get(this.Ty),n=this.hX,H=this.zU,S=450;
if(n==null)return;var y=this.fM;s.Of(y);var c=s.t("h1");y.appendChild(c);c.textContent="Share your "+w+" with the world!";
var Q=s.t("ul");y.appendChild(Q);var q=s.t("li");Q.appendChild(q);q.textContent="By publishing your "+w+", you agree to let others use them for all kinds of purposes, even commercially.";
y.appendChild(this.Ui.n);if(H==0)y.appendChild(this.a2p.n);s.yD(y);y.appendChild(this.Z7.n);y.appendChild(this.Bj.n);
s.yD(y);S=(this.pV-20)/Math.max(1,Math.floor(this.pV/S))-42;var A="display:inline-block; width:"+S+"px; height:140px;  overflow:hidden; background-color:rgba(255,255,255,0.2);  margin:10px 20px 0px 0; line-height:1.5em; padding:10px;";
for(var l=n.length-1;l>=0;l--){var V=n[l];if(V.type==null)V.type=0;if(V.type!=H)continue;var e=s.t("div");
y.appendChild(e);e.setAttribute("style",A);var d=s.t("img");e.appendChild(d);d.setAttribute("src",V.thmb);
d.setAttribute("style","float:left; height:10em; width:10em;  object-fit: contain; margin-right: 1em; margin-bottom:1em;");
var N=s.t("h3");e.appendChild(N);N.textContent=V.name;N.setAttribute("style","margin:0 0 10px 0");var b=s.t("p");
e.appendChild(b);b.textContent=V.desc;b.setAttribute("style","height:76px;  overflow:hidden; margin-bottom: 6px;");
for(var z=0;z<2;z++){var v=new eO(z==0?"Edit":"Delete",null,null,!0);v.ah_=l;v.CL=z==0;v.h("click",this.a7w,this);
e.appendChild(v.n)}}};hY.prototype.ag8=function(w){if(this.mT==null){alert("No document opened.");return}var n=confirm("Your document will be uploaded to Photopea.com and a preview to Imgur.com. Proceed?");
if(!n)return;var H=new aL(M.E.L,!0);H.data={d:M.c.QO,xU:"psd",er:this.asm.bind(this)};this.S(H)};hY.prototype.asm=function(w){this.aez=w;
var n=new aL(M.E.L,!0);n.data={d:M.c.QO,xU:"jpg",er:this.a3t.bind(this),ayx:1400};this.S(n)};hY.prototype.a3t=function(w){this.zP={type:0,catg:0,desc:"",file:this.aez,name:this.mT.name.split(".")[0],thmb:w,publ:!0,utme:""};
this.CL()};hY.prototype.afP=function(w){this.zP={type:0,catg:0,desc:"",file:"",name:"",thmb:"",publ:!0,utme:""};
this.CL()};hY.prototype.a7w=function(w){this.it=w.target.ah_;if(!w.target.CL){if(!window.confirm("Are you sure you want to delete your template?"))return;
this.hX.splice(this.it,1);this.aA();this.fz();return}this.CL()};hY.prototype.CL=function(){if(s._Q(this.fM))this.body.removeChild(this.fM);
this.body.appendChild(this._j.n);var w=this.zP?this.zP:this.v9?this.v9:this.hX[this.it];if(w.type==null)w.type=0;
this._j.$(w)};hY.prototype.a2x=function(w){var n=this._j.o();if(this.zP)this.hX.push(n);else if(this.v9){var H=this.a0D;
g6.V6(H[0],H[1],this.IA.bind(this),JSON.stringify(n));return}else this.hX[this.it]=n;this.aA();this.IA()};
hY.prototype.IA=function(){var w=this.v9;this.zP=null;this.v9=null;this.body.removeChild(this._j.n);
this.body.appendChild(this.fM);this.fz();if(w)this.ke()};hY.prototype.aA=function(){var w=g6.vC();if(this.hX.length==0)delete w.tpl;
else{w.tpl={list:JSON.parse(JSON.stringify(this.hX))};var n=this.Z7.o().trim();if(n!="")w.tpl.brnd=n}g6.Af(w,function(){alert("Saved.")})};
function i$(){dj.call(this,"Make Selection","makesel");this.Uz=null;var w=s.t("div","form");this.body.appendChild(w);
this.qZ=new jH([12,25,1]);this.qZ.$(!0);w.appendChild(this.qZ.n);s.yD(w);this.HO=new e7(!0);w.appendChild(this.HO.n);
this.JB=s.gi(this,this.body)}i$.prototype=new dj;i$.prototype.f=function(){dj.prototype.f.call(this);
this.HO.f();this.qZ.f();this.JB.f()};i$.prototype.eL=function(w){var n=new aL(M.E.v,!0);n.G=P.pj;n.data={d:"frompath",Vm:[null,0,this.HO.o(),this.qZ.o()]};
this.close();this.S(n)};function hx(){dj.call(this,["VAR0 PSD/PSB",[1,2]],"savepsb");this.mT=null;this.n0=null;
this.g8=null;var w=this.ahO=s.t("div","form");w.setAttribute("style","width:20em");this.body.appendChild(w);
this.uw=new iY([12,50],["PSD","PSB"]);this.uw.h(M.E.A,this.Zw,this);w.appendChild(this.uw.n);s.SR(w);
var n=new iD("Minify the file");w.appendChild(n.n);s.yD(w);var H=["Blank preview image","ZIP for pixel data","Remove Smart Object pixels","Put the file into ZIP"];
this.fq=[];for(var l=0;l<H.length;l++){var y=new jH(H[l]);this.fq.push(y);w.appendChild(y.n);y.h(M.E.A,this.Zw,this)}s.SR(w);
this.Ri=new iD("aa.psd");this.XI=new iD("10 kB");w.appendChild(this.XI.n);this.alW=new iD("1000 B");
w.appendChild(this.alW.n);this.JB=new eO([1,2],!0,null,!0);this.JB.h("click",this.eL,this);w.appendChild(this.JB.n);
this.UQ=new eO(["VAR0 (Google Drive)",[1,2]],!0,null,!0);this.UQ.h("click",this.eL,this);w.appendChild(this.UQ.n);
this.h("closebtn",this.kV,this)}hx.prototype=new dj;hx.prototype.nQ=function(w,n,H,y){var c=s._Q(this.UQ.n),Q=w.bD!=null&&w.bD.Ec=="psd";
if(Q&&!c)this.ahO.appendChild(this.UQ.n);if(!Q&&c)this.ahO.removeChild(this.UQ.n);for(var l=0;l<this.fq.length;
l++)this.fq[l].$(!1);this.mT=w;this.Zw()};hx.prototype.eL=function(w){if(w.target==this.JB)f1.save(this.n0,this.g8);
else{if(this.fq[3].o()){alert("You should not save a ZIP as a PSD to Google Drive.");return}es.akk(this.mT,this.n0)}};
hx.prototype.kV=function(){this.mT=null;this.n0=null};hx.prototype.Zw=function(){var w=this.mT,n=[!1,!1,!1,!1];
for(var l=0;l<3;l++)n[l]=this.fq[l].o();var H=this.fq[3].o(),y=n[3]=this.uw.o()==1,c=w.name.slice(0,w.name.length-3),Q=this.n0=cb.Mn("PSD").vd(w,0,0,n),ds=this.g8=c+"ps"+(y?"b":"d");
if(H){var q={};q[ds]=new Uint8Array(Q);Q=this.n0=UZIP.encode(q);ds=this.g8=c+"zip"}this.Ri.$(ds);this.XI.$(hn.x2(Q.byteLength));
this.XI.n.style["font-size"]="2em";this.alW.$(" \u2001 "+Q.byteLength+" B");this.JB.TO(hV.get([1,2])+" \""+ds+"\"")};
hx.prototype.f=function(){dj.prototype.f.call(this);this.uw.f();this.JB.f();this.UQ.f()};function jM(){dj.call(this,"Confirm","confirm");
this.ty=null;var w=s.t("div");w.setAttribute("style","margin-bottom:1em");this.body.appendChild(w);this.hY=s.t("div");
this.hY.textContent="Hello";w.appendChild(this.hY);this.JB=s.gi(this,this.body)}jM.prototype=new dj;
jM.prototype.eL=function(w){console.log("okconfirm");this.close();this.ty()};jM.prototype.nQ=function(w,n){if(n.amj)this.hY.innerHTML=n.Z;
else this.hY.textContent=n.Z;this.ty=n.ty;this.JB.n.focus();if(n.amj!=null)this.n.style.top=Math.random()*(window.innerHeight-150)+"px";
this.ae7=n.amj!=null};jM.prototype.oG=function(w,n){return new ce(Math.max(0,(w-500)/2),Math.max(0,Math.min(60,(n-100)/2)))};
jM.prototype.kc=function(w,n){this.hY.style.width=w-30+"px"};function j3(){dj.call(this,[1,16,2],"newartb");
this.Dh=0;this.Y0=null;var w=s.t("div","form");w.style.width="260px";this.body.appendChild(w);this.x_=new eT;
w.appendChild(this.x_.n);this.JB=s.gi(this,w)}j3.prototype=new dj;j3.prototype.qg=function(w,n){return w!=null};
j3.prototype.eL=function(w){var n=this.x_.o();this.Y0.m=n.x;this.Y0.e=n.y;var H=new aL(M.E.v,!0);H.G=P.G8;
H.data={ana:this.Y0,Ny:this.Dh};this.S(H);this.close()};j3.prototype.f=function(){dj.prototype.f.call(this);
this.x_.f();this.JB.f()};j3.prototype.nQ=function(w,n){this.Dh=n.Ny;var H=new cr(0,0,w.m,w.e);if(w.g.length!=0){var y=w.B[w.g[0]];
if(y.add.artb){H=y.oC();H.x+=H.m+100}if(n.Ny==1)H=P.WJ.fH(w)}this.Y0=H;this.x_.$(new ce(H.m,H.e))};function iB(){dj.call(this,"Storage","storwindow");
this.body.setAttribute("style","padding:0");this.Ej=null;this.h("closebtn",this.oK,this);this.h("canclose",this.oK,this)}iB.prototype=new dj;
iB.prototype.AB=function(w,n){if(this.Ej)this.Ej.AB(w,n)};iB.prototype.oG=function(w,n){return new ce(Math.max(0,Math.min(150,(w-980)/2)),Math.max(0,Math.min(150,(n-590)/2)))};
iB.prototype.kc=function(w,n){this.pV=w;this.WZ=n;w=Math.min(w,980);n=Math.min(n,590);if(this.Ej)this.Ej.kc(w,n)};
iB.prototype.f=function(){dj.prototype.f.call(this);if(this.Ej)this.Ej.f()};iB.prototype.nQ=function(w,n,H,y){this.n9=n.Ny==0?"Open from Storage":"Save to Storage";
this.f();if(this.Ej==null){this.Ej=new jV;this.Ej.parent=this;this.body.appendChild(this.Ej.n);this.f();
this.kc(this.pV,this.WZ)}Storage.Bw(n.Ny,w?w.name:"");jV.Ky(this.Ej)};iB.prototype.oK=function(w){Storage.Bw(0);
jV.K$();if(w.type=="canclose")this.close()};function fL(){dj.call(this,[2,14],"varsdats");var w=this.NZ=s.t("div","form");
w.setAttribute("style","width:300px");this.body.appendChild(w);this.mT=null;this.RB=0;this.Uz=null;this.KA=new iY(null,[[2,14],"Data Sets",[1,8]]);
this.KA.h(M.E.A,this.ae6,this);this.YE=new fL.wL;this.dE=new fL.O2;this.Fk=new fL.Qj;this.dE.h("activate",this.Gn,this);
this.Fk.h("export",this.DU,this);this.JB=s.gi(this)}fL.prototype=new dj;fL.prototype.ae6=function(w){var n=this.KA.o(),H=this.NZ;
s.Of(H);H.appendChild(this.KA.n);s.SR(H);H.appendChild([this.YE,this.dE,this.Fk][n].n);H.appendChild(this.JB.n)};
fL.prototype.eL=function(w){var n=new aL(M.E.v,!0);n.G=P.YV;n.data={d:a.Ef,Z:JSON.stringify([this.YE.o(),this.dE.o()])};
this.S(n);this.close()};fL.prototype.f=function(){dj.prototype.f.call(this);this.JB.f();this.Fk.f()};
fL.prototype.nQ=function(w,n){this.mT=w;if(w==null)return;this.YE.nQ(w,n);this.dE.nQ(w,n);this.KA.$(0);
this.ae6();this.RB=0};fL.prototype.AB=function(w,n){this.Uz=w};fL.prototype.DU=function(w){var n=this.YE.o(),H=this.dE.o(),y=this.Fk.o();
if(n.length==0){alert("There are no variables.");return}if(H.length==0){alert("There are no data sets.");
return}var c=cb.aq7(this.mT,n,H,this.dE.apc(),y[0],y[1],this.Uz,this);if(c!=null)f1.save(c,"images.zip")};
fL.prototype.Gn=function(w){var n=this.dE.g,H=this.YE.o(),y=this.dE.o();if(H.length==0){alert("There are no variables.");
return}if(y.length==0){alert("There are no data sets.");return}this.bC();this.RB+=cb.cK(this.mT,this,H,y,this.dE.apc(),n)};
fL.prototype.bC=function(){var w=new aL(M.E.v,!0);w.G=P.O$;w.data={d:"h_stepbck"};while(this.RB>0){this.S(w);
this.RB--}};fL.Qj=function(){bU.call(this);var w=this.n=s.t("div");this.Ze=["JPG","PNG","PDF"];this.uw=new iY([12,50],this.Ze);
this.uw.h(M.E.A,this.aq6,this);w.appendChild(this.uw.n);this.Ck=new fX;w.appendChild(this.Ck.n);this.aq6();
this.t3=new eO("Export all items",!0,null,!0);this.t3.h("click",this.DU,this);w.appendChild(this.t3.n)};
fL.Qj.prototype=new bU;fL.Qj.prototype.f=function(w){this.uw.f();this.t3.f();this.Ck.f()};fL.Qj.prototype.aq6=function(w){var n=this.Ze[this.uw.o()];
this.Ck.$f(n)};fL.Qj.prototype.DU=function(w){this.S(new aL("export"))};fL.Qj.prototype.o=function(){var w=this.Ze[this.uw.o()];
return[w,this.Ck.o()]};fL.O2=function(){bU.call(this);this.U1=null;this.R_=[];this.g=0;var w=this.n=s.t("div","form");
this.pp=new hd("Import a CSV file");w.appendChild(this.pp.n);this.pp.h(M.E.A,this.adM,this);this.tp=s.t("div","scrollable");
this.tp.setAttribute("style","overflow:scroll;  height:234px;");w.appendChild(this.tp);this.avz=new hd("Source Images",!0);
w.appendChild(this.avz.n)};fL.O2.prototype=new bU;fL.O2.prototype.adM=function(w){var n=this.pp.o();
for(var H in n){n=n[H];break}this.U1=eC.V2(j.NR(n));this.k9()};fL.O2.prototype.apc=function(){return this.avz.o()};
fL.O2.prototype.nQ=function(w,n){var H=this.U1=JSON.parse(JSON.stringify(w.az));this.k9()};fL.O2.prototype.o=function(){return this.U1};
fL.O2.prototype.k9=function(){var w=this.O5.bind(this),n=this.U1,y="max-width: 100px; overflow:hidden; white-space: nowrap; border: 1px solid; padding:0px 5px;";
this.R_=[];var H=s.t("table");H.setAttribute("style","border-collapse: collapse;");for(var l=0;l<n.length;
l++){var c=s.t("tr"),Q=n[l],q=l==0?"th":"td";H.appendChild(c);var S=s.t(q);c.appendChild(S);S.setAttribute("style",y+"cursor:pointer;");
if(l!=0)S.textContent="\u2713";this.R_.push(S);S.addEventListener("click",w,!1);for(var A=0;A<Q.length;
A++){var S=s.t(q);S.textContent=Q[A];c.appendChild(S);S.setAttribute("style",y);S.setAttribute("title",Q[A])}}s.Of(this.tp);
this.tp.appendChild(H)};fL.O2.prototype.O5=function(w){this.g=this.R_.indexOf(w.currentTarget);this.S(new aL("activate"))};
fL.wL=function(){bU.call(this);var w=this.n=s.t("div","form marged");this.y0=null;this.gB=[];this.vF=[];
this.Ei=null;this.RY=new dw([0,3],[]);this.RY.h(M.E.A,this.ach,this);w.appendChild(this.RY.n);this.yQ=[];
var n=["Visibility","Text Content","Pixel Content"];for(var l=0;l<n.length;l++){s.SR(w);var H=new jH(n[l]);
H.h(M.E.A,this.x1,this);w.appendChild(H.n);s.yD(w);var y=new f0("Variable Name");y.h(M.E.A,this.x1,this);
w.appendChild(y.n);this.yQ.push(H,y)}};fL.wL.prototype=new bU;fL.wL.prototype.x1=function(w){var n=this.RY.o(),H=this.Ei[n],y=this.gB[n],c=this.y0["l"+H],Q=this.yQ;
if(c==null)this.y0["l"+H]=c=[];while(c.length!=0)c.pop();for(var l=0;l<3;l++){var q=Q[2*l+1].o();if(!Q[2*l].o())continue;
var S={varName:q,trait:["visibility","textcontent","fileref"][l]};c.push(S);if(l==2){S.align="center";
S.clip="false";S.placementMethod="fit";S.valign="middle"}}if(c.length==0)delete this.y0["l"+H];this.nQ()};
fL.wL.prototype.ach=function(w){var n=this.RY.o(),H=this.Ei[n],y=this.gB[n],c=this.y0["l"+H],Q=this.yQ;
if(c==null)c=[];for(var l=0;l<3;l++){var q=l==0||l==1&&y==0||l==2&&y==1;Q[2*l].rD(q);Q[2*l].$(!1);Q[2*l+1].rD(q);
Q[2*l+1].$("")}for(var l=0;l<c.length;l++){var S=c[l],A=S.trait,V=["visibility","textcontent","fileref"].indexOf(A);
Q[V*2].$(!0);Q[V*2+1].$(S.varName)}};fL.wL.prototype.nQ=function(w,n){if(w){var H=JSON.parse(JSON.stringify(w.Uw)),y=this.y0={};
for(var l=0;l<H.length;l++){var c=H[l],Q=c.docRef;Q="l"+Q.slice(4,Q.length-2);if(y[Q]==null)y[Q]=[];
y[Q].push(c)}this.Ei=[];this.gB=[];this.vF=[];for(var l=w.B.length-1;l>=0;l--){var q=w.B[l],Q=q.add.lyid;
if(q.getName()=="</Layer group>")continue;this.Ei.push(Q);this.gB.push(q.add.TySh?0:1);this.vF.push(q.getName())}}var S=[],A=this.vF;
for(var l=0;l<A.length;l++){S.push(A[l]+(this.y0["l"+this.Ei[l]]?" *":""))}var V=this.RY.o();this.RY.pe(S);
this.RY.$(V);this.ach()};fL.wL.prototype.o=function(){var w=this.y0,n=[];for(var H in w){var y=w[H];
for(var c=0;c<y.length;c++){y[c].docRef="id('"+H.slice(1)+"')";n.push(y[c])}}return n};function ga(){dj.call(this,["VAR0 VAR1",[15,10,22],[8,11,0]],"divslice");
this.CT=!1;var w=this.uL=[],n=s.t("div","form");n.setAttribute("style","width:20em");this.body.appendChild(n);
for(var l=0;l<2;l++){var H=new jH([22,4,2+l]);n.appendChild(H.n);s.yD(n);var y=new iY(null,[["N equal parts"],["N pixels per part"]]);
n.appendChild(y.n);s.yD(n);var c=new kc("N",0,1e3);c.$(4);c.parent=this;n.appendChild(c.n);s.yD(n);if(l==0)s.SR(n);
w.push(H,y,c)}for(var l=0;l<w.length;l++)w[l].h(M.E.A,this.tw,this);w.push(s.gi(this,n));this.h("closebtn",this.bC,this)}ga.prototype=new dj;
ga.prototype.bC=function(){if(this.CT){var w=new aL(M.E.v,!0);w.G=P.O$;w.data={d:"h_stepbck"};this.S(w)}};
ga.prototype.tw=function(w){this.bC();this.CT=!0;var n=[];for(var l=0;l<6;l++)n.push(this.uL[l].o());
var H={__name:"Divide",classID:"divide",null:{t:"obj ",v:[{t:"Enmr",v:{classID:"slice",typeID:"Ordn",enum:"Trgt"}}]}};
for(var y=0;y<2;y++){if(!n[y*3])continue;var c=n[y*3+1],Q=n[y*3+2];H[["slices","pixels"][c]+["Across","Down"][y]]={t:"long",v:Q}}var q=new aL(M.E.dp,!0);
q.data={fd:"divide",ei:H};this.S(q)};ga.prototype.eL=function(w){this.close()};ga.prototype.f=function(){dj.prototype.f.call(this);
var w=this.uL;for(var l=0;l<w.length;l++)w[l].f()};ga.prototype.nQ=function(w,n){this.CT=!1};function eV(w,n,H,y){bU.call(this);
this.name=w;this.aog=H;this.R9=y;this.Tx=s.t("div","");this.Tx.setAttribute("draggable","true");this.vN=s.t("div","pbody");
this.JN=new eO("",!1,"");this.JN.parent=this;this.a85=s.t("span","cross gsicon");this.aB=s.t("span","label");
var c=this.akz.bind(this);this.Tx.addEventListener("mousedown",this.axf.bind(this),!1);this.Tx.addEventListener("contextmenu",c,!1);
this.JN.n.addEventListener("contextmenu",c,!1);this.a85.addEventListener("mousedown",this.oH.bind(this),!1);
this.Tx.appendChild(this.aB);if(n)this.Tx.appendChild(this.a85);this.uq=!1;this.aB.textContent=w}eV.prototype=new bU;
eV.prototype.O6=function(){return null};eV.prototype.f=function(){var w=hV.get(this.name),n=!1,H=this.pV==0?22:Math.round(2+this.pV/50);
if(w.endsWith(" *")){n=!0;w=w.slice(0,w.length-2);H-=2}var y=w.length>H;this.aB.textContent=y?w.slice(0,H-2):w;
if(y)for(var c=0;c<2;c++){var Q=s.t("span");Q.textContent=w.charAt(H-2+c);Q.setAttribute("style","opacity:"+(.6-c*.4));
this.aB.appendChild(Q)}if(n){var Q=s.t("span");Q.textContent=" *";this.aB.appendChild(Q)}var q=w.split(" "),S=q.length==2?q[0].substring(0,2)+q[1][0]:w.substring(0,3);
if(S.charCodeAt(0)>=11776)S=S.substring(0,1);var A=this.aog;if(A==null)this.JN.TO(S,w);else{var V;if(A.startsWith("---"))V="<img src=\""+PIMG[A.slice(3)]+"\" class=\"autoscale gsicon\" style=\"margin:2px 4px;\"/>";
else if(A.startsWith("==="))V="<img src=\""+A.slice(3)+"\" class=\"autoscale gsicon\" style=\"margin:2px 4px;\"/>";
else if(A.indexOf("\"")==-1)V="<img src=\""+A+"\" alt=\""+s.WN(w).replace(/"/g,"&quot;")+"\" height=\"18\" width=\"18\" loading=\"lazy\" style=\"margin:1px 3px;\" />";
this.JN.TO(V,w)}};eV.prototype.enable=function(){this.vN.className="pbody"};eV.prototype.disable=function(){this.vN.className="pbody disabled"};
eV.prototype.AB=function(w,n){};eV.prototype.nQ=function(w,n,H){};eV.prototype.z6=function(w){};eV.prototype.kc=function(w,n){};
eV.prototype.qG=function(w){this.name=w;this.f()};eV.prototype.Tf=function(){};eV.prototype.axf=function(w){if(w.button==0)this.S(new aL("select",!1))};
eV.prototype.akz=function(w){s.yZ(w);if(this.R9!=null&&isNaN(this.R9))return;var n=s.E4(w,document.body),H=this.FS;
if(H==null){H=this.FS=new az([{name:[1,12,0]}]);this.FS.h("select",this.oH,this)}H.update(null);H.f();
H.parent=this;var y=new aL(M.E.L,!0);y.data={d:M.c.hf,_0:H,x:n.x+1,y:n.y+1};this.S(y)};eV.prototype.Oa=function(){this.oH({})};
eV.prototype.oH=function(w){if(w.stopPropagation)w.stopPropagation();if(this.R9!=null&&!isNaN(this.R9)){var n=new aL(M.E.L,!0);
n.data={d:M.c.SP,_0:this.FS};this.S(n);n.data={d:M.c.Yj,PY:h6.gb,Z:parseFloat(this.R9),fB:"del"};this.S(n)}else if(this.amb())this.S(new aL(M.E.n8,!1))};
eV.prototype.amb=function(w){return!0};eV.prototype.mO=function(w,n,H,y,c){};eV.prototype.C9=function(w,n,H,y,c){};
eV.prototype.sh=function(w,n,H,y,c){};eV.wF=function(w,n,H){if(w.childElementCount!=0)return;var y=w.textContent;
this.ZH=this.arT.bind(this);this.a7g=this.a1F.bind(this);this.R$=n;this.aA0=H;this.sD=w;this.axD=y;var c=s.t("input","");
c.setAttribute("type","text");c.setAttribute("size","10");c.setAttribute("value",y);s.Of(w);w.appendChild(c);
c.select();c.focus();s.iV(w);w.addEventListener("keyup",this.ZH,!1);document.body.addEventListener("mousedown",this.a7g,!1)};
eV.wF.prototype.arT=function(w){var n=b8.dy,H=n(w.code,b8.IO);if(n(w.code,b8.RN)||H)this.asW(H)};eV.wF.prototype.a1F=function(w){var n=w.target;
if(n.tagName&&n.tagName.toLowerCase()=="input")return;this.asW(!0)};eV.wF.prototype.asW=function(w){var n=this.sD,H=n.firstChild.value;
n.removeEventListener("keyup",this.ZH);document.body.removeEventListener("mousedown",this.a7g);if(this.aA0||w&&H!=""&&H!=this.axD){this.R$(H)}else{s.Of(n);
n.textContent=this.axD}};eV.AG={O$:"0",ajl:"1",YV:"2",atU:"3",a8n:"4",Y6:"5",CSS:"6",p6:"7",asa:"8",a4l:"9",arg:"10",aum:"11",aqn:"12",Fz:"13",Xs:"14",akZ:"15",apX:"16",WV:"17",av$:"18",a3D:"19",abo:"20",cb:"21",ar6:"22"};
function g9(){eV.call(this,[9,9],!1,"---panels/actions",eV.AG.aum);this.Uz=null;this.rK=[0,0]}g9.prototype=new eV("");
g9.prototype.aa=function(){if(!s._Q(this.vN)||this.dU)return;this.dU=s.t("div","padded scrollable");
this.dU.setAttribute("style","width:260px;  height:260px");this.vN.appendChild(this.dU);this.h(M.E.A,this.xg,this);
this.Wz=s.t("div","lpfoot");this.vN.appendChild(this.Wz);this.Zp=[];var w="<svg  class=\"miniscale gsicon\" viewBox=\"0 0 15 15\" width=\"15\" height=\"15\" fill=\"black\">",n="</svg>",H=w+"<path d=\"M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z\" />"+n,y=w+"<path d=\"M0,0 L15,7.5 L0,15 Z\" />"+n;
this.ag4=w+"<circle cx=\"7.5\" cy=\"7.5\" r=\"7.5\" />"+n;this.ak4=w+"<path d=\"M1,1 L14,1 L14,14 L1,14 Z\" />"+n;
var c=[this.ag4,y,"lrs/folder","lrs/newlayer","lrs/bin",H],Q=[[15,8,0],[5,8],[15,8,1],[15,8,2],[5,4],[1,2]];
for(var l=0;l<c.length;l++){var q=c[l];if(1<l&&l!=c.length-1)q="<img src=\""+PIMG[c[l]]+"\" class=\"miniscale gsicon\" />";
var S=new eO(q,!1,Q[l]);S.h("click",this.alK,this);this.Wz.appendChild(S.n);this.Zp.push(S)}this.k9()};
g9.prototype.f=function(){eV.prototype.f.call(this);if(this.dU==null)return;for(var l=0;l<this.Zp.length;
l++)this.Zp[l].f()};g9.prototype.alK=function(w){var l=this.Zp.indexOf(w.currentTarget),n=this.rK,H=this.Uz,y=H.PF;
if(l==0){var c,Q=H.Ci;if(y.length==0){alert("Create an Action Set first.");return}if(n.length<2){alert("Select a target action first.");
return}if(Q==null){c=this.ak4;Q=this.rK}else{c=this.ag4;Q=null}this.Zp[0].TO(c);H.Ci=Q}else if(l==1)this.amP();
else if(l==2||l==3){var q={hG:"Action Set "+y.length,GN:[],exp:!0};if(l==2||y.length==0){n=[y.length];
y.push(q)}if(l==3){var S=y[n[0]].GN;n=[n[0],S.length];S.push({hG:"Action "+S.length,color:0,GN:[],a8p:!1,shift:!1,exp:!0,cm:S.length})}this.rK=n;
this.k9()}else if(l==4){var A;if(n.length==1)A=y;else if(n.length==2)A=y[n[0]].GN;else A=y[n[0]].GN[n[1]].GN;
var V=n.length-1;A.splice(n[V],1);if(A.length==0)n.pop();else while(n[V]>=A.length)n[V]--;if(n.length==0)n.push(0);
this.k9()}else if(l==5){if(y.length==0){alert("No Actions Present.");return}var e=new aL(M.E.L,!0);e.data={d:M.c.r9,a1l:h6.v,GJ:n[0]};
this.S(e)}};g9.prototype.xg=function(w){var n=this.Uz.PF,H=w.data.d,y=w.data.lE;if(H=="sel")this.rK=y;
if(H=="fold"){if(y.length==1)n[y[0]].exp=!n[y[0]].exp;else n[y[0]].GN[y[1]].exp=!n[y[0]].GN[y[1]].exp}if(H=="enab"){var c=n[y[0]].GN[y[1]].GN[y[2]];
c.C=!c.C}if(H=="nchange"){if(y.length==1)n[y[0]].hG=w.data.xh;else n[y[0]].GN[y[1]].hG=w.data.xh}this.k9()};
g9.prototype.nQ=g9.prototype.Tf=function(){this.aa()};g9.prototype.AB=function(w,n){this.Uz=w;if(this.dU==null)return;
if(n==h6.v||n==h6.z8)this.k9()};g9.prototype.k9=function(){if(this.Uz==null)return;s.Of(this.dU);var w=this.Uz.PF;
if(w.length==0)return;var n=JSON.stringify(this.rK);for(var l=0;l<w.length;l++){var H=w[l],y=new g9.g9([l],n,H.exp,H.hG.split("=").pop());
y.parent=this;this.dU.appendChild(y.n);if(!H.exp)continue;for(var c=0;c<H.GN.length;c++){var Q=H.GN[c],y=new g9.g9([l,c],n,Q.exp,Q.hG.split("=").pop());
y.parent=this;this.dU.appendChild(y.n);if(!Q.exp)continue;for(var q=0;q<Q.GN.length;q++){var S=Q.GN[q],y=new g9.g9([l,c,q],n,null,hV.get(ih.a9A(S)),S.C);
y.parent=this;this.dU.appendChild(y.n)}}}};g9.prototype.amP=function(){var w=this.Uz.PF,n=this.rK;if(w.length==0){alert("No Actions Present");
return}if(n.length==1){alert("Select an Action first");return}if(this.Uz.Ci!=null){alert("You can not apply actions while recording actions");
return}if(n.length==1)n.push(0);var H=w[n[0]],y=H.GN[n[1]],c=new aL(M.E.L,!0);c.data={d:M.c.cX,Vm:[y.hG,H.hG]};
this.S(c)};g9.g9=function(w,n,H,y,c){bU.call(this);this.lE=w;var Q=this.lE.length-1;this.n=s.t("div","layeritem"+(JSON.stringify(w)==n?" selected":""));
this.sM=s.t("div","head");this.n.appendChild(this.sM);this.sM.setAttribute("style","height:24px");this.t6=s.t("div","headL");
this.sM.appendChild(this.t6);if(Q!=0){var q=s.t("div");q.style.width=Q*20+"px";this.t6.appendChild(q)}if(H!=null){var S=this.abC=s.t("div",H?"open":"closed");
this.t6.appendChild(S)}else{var A=this.a2A=s.t("div","cmark");A.setAttribute("style","background-size:12px 12px; opacity:"+(c?1:.3));
this.t6.appendChild(A)}if(Q==0){var V=s.t("div","folder");this.t6.appendChild(V)}var e=this.aB=s.t("div","label");
e.textContent=y;this.t6.appendChild(e);this.n.addEventListener("mouseup",this.Gn.bind(this),!1)};g9.g9.prototype=new bU;
g9.g9.prototype.Gn=function(w){if(w.detail==1&&w.target.tagName.toLowerCase()!="input"){var n="sel";
if(w.target==this.abC)n="fold";if(w.target==this.a2A)n="enab";var H=new aL(M.E.A,!0);H.data={d:n,lE:this.lE};
this.S(H)}else if(this.lE.length<3)var y=new eV.wF(this.aB,this.R$.bind(this))};g9.g9.prototype.R$=function(w){var n=new aL(M.E.A,!0);
n.data={d:"nchange",xh:w,lE:this.lE};this.S(n)};function iu(){eV.call(this,[3],!1,"---lrs/adj",eV.AG.av$)}iu.prototype=new eV("");
iu.prototype.aa=function(){if(!s._Q(this.vN)||this.Zp)return;this.vN.setAttribute("style","text-align:center;  padding:6px; min-width:220px");
this.Zp=[];var l=0;for(var w in fb.names){var n=new eO("<img src=\""+PIMG["adj/"+w]+"\" class=\"autoscale gsicon\" style=\"margin:4px 4px;\"/>",!1,fb.names[w]);
n.h("click",this.asO,this);this.Zp.push(n);this.vN.appendChild(n.n);if(l==4||l==10)s.yD(this.vN);l++}this.f()};
iu.prototype.nQ=function(){this.aa()};iu.prototype.Tf=function(){this.aa()};iu.prototype.f=function(){eV.prototype.f.call(this);
if(this.Zp==null)return;for(var l=0;l<this.Zp.length;l++)this.Zp[l].f()};iu.prototype.asO=function(w){var n=this.Zp.indexOf(w.target),H=dJ.Ag()[n],y=new aL(H.Y,!0);
y.data=H.W;this.S(y)};function i6(){eV.call(this,[12,22],!1,null,eV.AG.cb);this.dU=s.t("div","padded");
this.Uz=null;this.vN.appendChild(this.dU);this.IV=new j5(null,17.7,10);this.IV.parent=this;this.IV.h(M.E.A,this.tw,this);
this.dU.appendChild(this.IV.zB)}i6.prototype=new eV("");i6.prototype.tw=function(w){var n=this.IV.o(),H=new aL(M.E.v,!0);
H.data={d:"setstl",Z:n.fw};H.G=P.C8;this.S(H);H.data={d:"confirm"};this.S(H)};i6.prototype.AB=function(w,n){this.Uz=w;
this.k9()};i6.prototype.k9=function(){var w=this.Uz,n=w.f3;this.IV.iq([n,w.XG])};i6.prototype.nQ=function(){this.k9()};
i6.prototype.Tf=function(){this.k9()};var jY=function(){function w(){eV.call(this,[9,3],!1,"---panels/brush",eV.AG.p6);
this.Aq=null;this.Uz=null}w.prototype=new eV("");w.prototype.aa=function(){var c=s.t("div","");this.vN.appendChild(c);
this.FT=s.t("div","bordered cell");this.FT.setAttribute("style","width:10em; height:28.5em;");c.appendChild(this.FT);
this.VP=[];this.Q6=null;this.cL=[];var Q=this.asg.bind(this);this.p_=[new H("basic"),new H("useTipDynamics"),new H("useScatter"),new H("useColorDynamics"),new H("usePaintDynamics")];
for(var l=0;l<this.p_.length;l++){var q=s.t("div","listitem"),S=this.p_[l],V=null;S.parent=this;S.h("brushchange",this.amh,this);
var A=S.RW;if(l==0){this.Q6=new iD(A);q.appendChild(this.Q6.n)}else{V=new jH(A,!1);V.h(M.E.A,this.avJ,this);
q.appendChild(V.n)}this.cL.push(V);this.FT.appendChild(q);this.VP.push(q);q.addEventListener("click",Q,!1)}this.iu=s.t("div","cell padded");
c.appendChild(this.iu);this.setItem(0);this.F=s.t("canvas");this.F.height=10;c.appendChild(this.F);this.NK=this.F.getContext("2d");
this.kZ()};w.prototype.kc=function(c,Q){if(this.pV==c)return;this.pV=c;this.WZ=Q;this.kZ()};w.prototype.Tf=function(){if(!s._Q(this.vN))return;
if(this.FT){this.kZ();return}this.aa();this.f();this.AB(this.Uz,h6.z8)};w.prototype.f=function(){eV.prototype.f.call(this);
if(this.FT==null)return;this.Q6.f();for(var l=1;l<this.cL.length;l++)this.cL[l].f();for(var l=0;l<this.p_.length;
l++)this.p_[l].f()};w.prototype.amh=function(c){var Q=this.p_.indexOf(c.currentTarget),q=JSON.parse(JSON.stringify(this.p_[Q].Aq)),S=new aL(M.E.L,!0);
S.data={d:M.c.Yj,PY:h6.Ja,Aq:q};this.S(S)};w.prototype.avJ=function(c){this.apm(this.cL.indexOf(c.currentTarget),c.currentTarget.zr())};
w.prototype.asg=function(c){var l=this.VP.indexOf(c.currentTarget);if(c.target.tagName.toLowerCase()=="input")return;
if(this.cL[l]&&!this.cL[l].zr()){this.cL[l].QM();this.apm(l,!0)}this.setItem(l)};w.prototype.apm=function(c,Q){this.p_[c].a7i(Q)};
w.prototype.setItem=function(c){for(var l=0;l<this.p_.length;l++)this.VP[l].className="listitem";if(this.iu.firstChild)this.iu.removeChild(this.iu.firstChild);
this.VP[c].className="listitem selected";this.iu.appendChild(this.p_[c].n)};w.prototype.AB=function(c,Q){this.Uz=c;
if(this.FT==null)return;for(var l=0;l<this.p_.length;l++)this.p_[l].AB(c,Q);if(Q==h6.Ja||Q==h6.z8){this.Aq=c.Sr.TX;
this.kZ()}if(Q==h6.Fz)this.kZ()};w.prototype.kZ=function(){if(this.Aq)this.enable();else{this.disable();
return}if(!s._Q(this.vN))return;var c=this.Uz;for(var l=0;l<this.p_.length;l++){this.p_[l].$(this.Aq);
if(this.cL[l])this.cL[l].$(this.p_[l].zr())}var Q=JSON.parse(JSON.stringify(this.Aq));Q.Brsh.v.Dmtr.v.val=Math.min(Q.Brsh.v.Dmtr.v.val,50);
s.pD(this.F,this.pV,80);var q=new cr(0,0,this.F.width,this.F.height),S=this.Uz.Sr,A=new cn(Q,S?S.NS:null,S?S.c4:null,{wi:1},c.Ni,c.uu,q,null,0),V=q.e/2,e=q.m-V*2;
A.moveTo(V,V);for(var l=0;l<=e;l+=10)A.lineTo(V+l,V+20*Math.sin(2*Math.PI*l/e));A.finish();var d=this.NK.createImageData(q.m,q.e);
O.j1(A.L5(),A.fH(),d.data,q);this.NK.putImageData(d,0,0)};function n(c){bU.call(this);c=c.split(".")[0];
this.X2=c;var Q=this.n=s.t("span"),q=["Off","Fade"];q.push(c=="angleDynamics"?"Direction":"Pen Pressure");
var S=this.IW=new dw("Control",q);S.h(M.E.A,this.x1,this);Q.appendChild(S.n);var V=this.af9=new kc(null,0,100,null,null,null,!0);
V.$(50);V.h(M.E.A,this.x1,this)}n.prototype=new bU;n.prototype.$=function(c){c=c<2?c:2;this.IW.$(c);
this.k9()};n.prototype.o=function(){var c=this.IW.o(),Q=this.X2;c=c<=1?c:Q=="angleDynamics"?6:2;return c};
n.prototype.x1=function(c){this.k9();c.target=c.currentTarget=this;this.S(c)};n.prototype.k9=function(c){this.af9.rD(this.IW.o()==1)};
function H(c){bU.call(this);this.n=s.t("div");this.Aq=null;var Q=["basic","useTipDynamics","useScatter","useColorDynamics","usePaintDynamics"].indexOf(c);
this.RW=[[15,0],[15,1],[15,2],[15,3],"Transfer"][Q];this.Dh=c;this.CM={};this.asV=null;var q=["--br Brsh.Dmtr Brsh.Angl Brsh.Rndn Brsh.Hrdn Brsh.Spcn".split(" "),"szVr.jitter szVr.bVTy szVr.fStp minimumDiameter angleDynamics.jitter angleDynamics.bVTy angleDynamics.fStp roundnessDynamics.jitter minimumRoundness".split(" "),["scatterDynamics.jitter","Cnt","countDynamics.jitter"],["clVr.jitter","H","Strt","Brgh"],"opVr.jitter opVr.bVTy opVr.fStp prVr.jitter prVr.bVTy prVr.fStp".split(" ")][Q];
for(var l=0;l<q.length;l++){var S=q[l],A;if(S=="--br"){A=new cT;this.n.appendChild(A.zB.firstChild)}else if(S=="Brsh.Dmtr")A=new b9([12,14,0],1,1e3," px",0,!0);
else if(S=="Brsh.Angl")A=new b9([12,15],0,359," \xB0");else if(S=="Brsh.Rndn")A=new b9([12,16],0,100," %");
else if(S=="Brsh.Hrdn")A=new b9([12,17],0,100," %");else if(S=="Brsh.Spcn")A=new b9([12,18],1,300," %");
else if(S=="szVr.jitter")A=new b9([15,4,0],0,100,"%");else if(S=="minimumDiameter")A=new b9([15,4,1],0,100,"%");
else if(S=="angleDynamics.jitter")A=new b9([15,4,2],0,100,"%");else if(S.endsWith("bVTy"))A=new n(S);
else if(S.endsWith("fStp"))A=new kc(null,0,100,null,null,null,!0);else if(S=="roundnessDynamics.jitter")A=new b9([15,4,3],0,100,"%");
else if(S=="minimumRoundness")A=new b9([15,4,4],1,100,"%");else if(S=="scatterDynamics.jitter")A=new b9([15,5,0],0,1e3," %");
else if(S=="Cnt")A=new b9([15,5,1],1,20);else if(S=="countDynamics.jitter")A=new b9([15,5,2],0,100," %");
else if(S=="clVr.jitter")A=new b9([15,6,0],0,100," %");else if(S=="H")A=new b9([15,6,1],0,100," %");
else if(S=="Strt")A=new b9([15,6,2],0,100," %");else if(S=="Brgh")A=new b9([15,6,3],0,100," %");else if(S=="opVr.jitter")A=new b9("Opacity Jitter",0,100," %");
else if(S=="prVr.jitter")A=new b9("Flow Jitter",0,100," %");else throw S;this.CM[S]=A;A.parent=this;
A.h(M.E.A,this.x1,this)}}H.prototype=new bU;H.prototype.axC=function(){this.S(new aL("brushchange"))};
H.prototype.$=function(c){this.Aq=JSON.parse(JSON.stringify(c));this.n.className=this.zr()?"":"disabled";
this.kZ()};H.prototype.f=function(){for(var c in this.CM)this.CM[c].f()};H.prototype.zr=function(){return!0};
H.prototype.AB=function(c,Q){if(Q==h6.p6||Q==h6.z8){var q=this.CM["--br"];if(q)q.iq(c.Sr)}};H.prototype.x1=function(c){var Q=c.target,q=this.CM,S;
for(var V in q)if(q[V]==Q)S=V;if(S=="--br"){var e=new aL(M.E.L,!0);e.data={d:M.c.Yj,PY:h6.Ja,Aq:Q.o()};
this.S(e)}else{var d=y(this.Aq,S),N=Q.o();if(d){if(S.endsWith("bVTy")||S.endsWith("fStp")||S=="Cnt")d.v=N;
else d.v.val=N;this.axC()}}};H.prototype.kZ=function(){var c=this.Aq,Q=c.Brsh.v.classID,q=this.CM,S=Q!=this.asV;
this.asV=Q;if(S){s.Of(this.n);for(var A in q){if(Q!="computedBrush"&&Q!="sampledBrush"&&A=="Brsh.Rndn")continue;
if(Q!="computedBrush"&&A=="Brsh.Hrdn")continue;var V=q[A],e=V.n;if(A=="--br"){e=V.PZ.n;e.style.width="auto"}this.n.appendChild(e)}}for(var A in q){if(A=="--br")continue;
var d=y(c,A),N;if(d){if(A.endsWith("bVTy")||A.endsWith("fStp")||A=="Cnt")N=d.v;else N=d.v.val;q[A].$(N);
if(A.endsWith("fStp"))q[A].rD(y(c,A.split(".")[0]+".bVTy").v==1)}}};H.prototype.zr=function(){var c=this.Dh;
return c=="basic"?!0:this.Aq[c].v};H.prototype.a7i=function(c){var Q=this.Dh;if(Q=="basic")return;this.Aq[Q].v=c;
iG.OR.ai7(this.Aq);this.axC()};function y(c,Q){var q=Q.split(".");c=c[q[0]];for(var l=1;l<q.length;l++){if(c==null)return c;
c=c.v[q[l]]}return c}return w}();function bg(){eV.call(this,[9,0],!1,"---panels/history",eV.AG.O$);this.vN.setAttribute("style","min-width:200px;");
this.gp=s.t("div","hpbody scrollable");this.gp.style.height="160px";this.vN.appendChild(this.gp);this.a17=-1;
this._5=[];this.bj="";this.TG=new az([{name:"Clear History"}],[{Y:M.E.v,G:P.O$,W:{d:"h_clear"}}])}bg.prototype=new eV("");
bg.prototype.O6=function(){return this.TG};bg.prototype.kc=function(w,n){this.Tf()};bg.prototype.nQ=function(w){if(w==null){s.Of(this.gp);
this.bj="";return}s.Of(this.gp);var n=0;for(var l=0;l<w.history.length;l++)if(l<=w.Cf&&!w.history[l].SY)n=l;
for(var l=0;l<w.history.length;l++){var H=w.history[l];if(H.SY)continue;var y=new b4(H,l,n);y.parent=this;
this.gp.appendChild(y.n);this._5.push(y)}if(w.Cf==w.history.length-1)this.Tf()};bg.prototype.Tf=function(){this.gp.scrollTop=this.gp.scrollHeight};
bg.prototype.f=function(){eV.prototype.f.call(this);for(var l=0;l<this._5.length;l++)this._5[l].f()};
function b4(w,l,n){bU.call(this);this.index=l;this.n=s.t("div",l==n?"listitem selected":"listitem");
this.Ty=w.name;this.f();if(l>n)this.n.style.opacity=.4;this.n.addEventListener("click",this.mO.bind(this),!1)}b4.prototype=new bU;
b4.prototype.f=function(){this.n.textContent=hV.get(this.Ty)};b4.prototype.mO=function(w){if(this.index==this.parent.a17)return;
this.Bt({d:"h_itemchange",index:this.index})};b4.prototype.Bt=function(w){var n=new aL(M.E.v,!0);n.data=w;
n.G=P.O$;this.S(n)};function eL(){eV.call(this,[9,10],!1,"---panels/histogram",eV.AG.a8n);var w=s.t("div","padded");
this.vN.appendChild(w);this.$W=new fk(256,!0);w.appendChild(this.$W.n);this.mT=null}eL.prototype=new eV("");
eL.prototype.nQ=function(w){this.mT=w;this.k9()};eL.prototype.k9=function(){var w=this.mT;if(!s._Q(this.vN))return;
if(w==null||w.g.length==0){this.$W.$(O.ao(O.R(4)));return}var n=w.E$(),H=new cr(0,0,w.m,w.e),y=H.O();
if(w.P){var c=w.P.rect,Q=O.R(c.O()*4);O.j1(n,H,Q,c);O.CS(w.P.channel,Q);n=Q;H=c;var q=w.P.channel;y=0;
for(var l=0;l<q.length;l++)y+=q[l];y=Math.round(y/255)}var S=O.ao(n);S[0][255]+=3*(y-S[5]);for(var l=1;
l<4;l++)S[l][255]+=y-S[5];this.$W.$(S,y)};eL.prototype.AB=function(w,n){this.$W._U(gd.Fg[w.Eu]["--text-color"])};
eL.prototype.f=function(){eV.prototype.f.call(this);this.$W.f()};eL.prototype.Tf=function(){this.k9()};
function db(){eV.call(this,[9,8],!1,"---adj/clrL",eV.AG.ajl);this.dU=s.t("div","padded");this.vN.appendChild(this.dU);
this.Yn=new fg(10);this.dU.appendChild(this.Yn.n);this.oc=new dU;this.oc.parent=this;this.dU.appendChild(this.oc.zB);
this.oc.zB.style.marginTop="6px";this.Yn.h(M.E.A,this.a2X,this);this.oc.h(M.E.A,this.a2X,this)}db.prototype=new eV("");
db.prototype.a2X=function(w){var n;if(w.target==this.Yn)n=this.Yn.o();else{var H=this.oc.o();n=Math.round(H.b)<<16|Math.round(H.J)<<8|Math.round(H.k)}var y=new aL(M.E.L,!0);
y.data={d:M.c.Yj,PY:h6.Fz,cl:0,Z:n};this.S(y)};db.mr=function(w,n){var H=n==h6.z8,y=w.jP,c=w.Lp,Q=c.strokeStyleContent.v,q=null;
if((n==h6.im||H)&&y.SU==1){q=O.M.cH(y.WL.Clr.v);q=q.b<<16|q.J<<8|q.k}if((n==h6.pE||H)&&c.strokeEnabled.v&&Q.classID=="solidColorLayer"){q=O.M.cH(Q.Clr.v);
q=q.b<<16|q.J<<8|q.k}if(n==h6.Fz||H)q=w.Ni;return q};db.prototype.AB=function(w,n){var H=w.Ni,y=n==h6.z8,c=db.mr(w,n);
if(c!=null){this.Yn.$(c);this.oc.$({b:c>>>16&255,J:c>>>8&255,k:c>>>0&255,Hq:"Color #"+O.w9(c)})}if(n==h6.Ie||y){var Q=w.a6Z;
this.oc.iq(Q)}};function fF(){eV.call(this,[12,72],!1,"---adj/mixr",eV.AG.apX);this._X=null;this.hv=null;
this.gp=s.t("div","lpbody scrollable");this.gp.style.marginTop="4px";this.Wz=s.t("div","lpfoot");this.vN.appendChild(this.gp);
this.vN.appendChild(this.Wz);this.EN=[];this.h("click",this.DC,this);this.vS=[];fF.Kd([[17,2],"Save Selection as Channel",[5,3],[5,4]],this.vS,this.Wz,this.qq.bind(this),this.HP.bind(this));
this.TG=new az([{name:"Merge Channels",JY:!0}],[{Y:M.E.L,W:{d:M.c.rL,Ln:"mergechannels"}}])}fF.prototype=new eV("");
fF.prototype.O6=function(){return this.TG};fF.Kd=function(w,n,H,y,c){for(var l=0;l<w.length;l++){var Q=new eO("W",!1,w[l]);
n.push(Q);s.am(Q.n,y);H.appendChild(Q.n);var q=Q.n;q.addEventListener("drop",c,!1);q.addEventListener("dragover",function(S){S.preventDefault()},!1);
q.addEventListener("dragenter",s.yZ,!1)}};fF.Gx=function(w,n){for(var l=0;l<w.length;l++)if(w[l].n==n.currentTarget)return l};
fF.prototype.qq=function(w){var n=fF.Gx(this.vS,w);if(n==0)this.S(a7.OS(!0,null,w));else{n--;var H=new aL(M.E.dp,!0),y={classID:"null"};
if(n==0)y.null={t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]};else if(n==1)y.Nw={t:"Objc",v:{classID:"Chnl",ClrI:{t:"enum",v:{MskI:"SlcA"}},Opct:{t:"long",v:50}}};
else y.null=ih._K("Chnl",!0);H.data={fd:["duplicate","make","delete"][n],ei:y};this.S(H)}};fF.prototype.HP=function(w){var n=fF.Gx(this.vS,w);
if(n==2){var H=new aL(M.E.dp,!0),y={classID:"null"};y.null=ih._K("Chnl",!0);H.data={fd:"duplicate",ei:y};
this.S(H)}else this.qq(w)};fF.prototype.D8=function(l){var w=this.EN,n=w[l];if(n==null){var H=s.t("canvas");
n=H.getContext("2d");w.push(n)}return n};fF.prototype.DC=function(w){var n=this._X.slice(0),H=w.data.cm,y=n[0]+n[1]+n[2],c=this.hv;
if(-5<H&&H<0){var Q=-H-1;if(w.data.ES){if(Q==0)n=y==3?[0,0,0]:[1,1,1];else{if(n[Q-1]==0)n[Q-1]=1;else if(!0)n[Q-1]=0}}else{if(Q==0)n=[1,1,1];
else{n=[0,0,0];n[Q-1]=1}for(var l=0;l<c.d4.length;l++)c.d4[l].SC=!1;c.np=[]}var q=new aL(M.E.v,!0);q.G=P.em;
q.data={d:"setcls",vE:n};this.S(q);return}if(-1<H){var S=c.B[H],A=S.Ks==1?S.LZ():S.iS(c).z;if(w.data.ES)A.SC=!A.SC;
else{for(var l=0;l<c.d4.length;l++)c.d4[l].SC=!1;c.np=[]}}else{var V=-H-5,A=c.d4[V];if(w.data.ES)A.SC=!A.SC;
else{for(var l=0;l<c.d4.length;l++)c.d4[l].SC=!1;A.SC=!0;c.np=[V];if(y!=0){var q=new aL(M.E.v,!0);q.G=P.em;
q.data={d:"setcls",vE:[0,0,0]};this.S(q)}}}c.Va=c.qF=!0};fF.prototype.Tf=function(){this.Zw()};fF.prototype.nQ=function(w){this.hv=w;
this.Zw()};fF.prototype.Zw=function(){var w=this.hv,n=this.gp,b=4;s.Of(n);if(w==null||!s._Q(n))return;
var H=w.m,y=w.e,c=new cr(0,0,H,y),Q=this._X=w.u.vE.slice(0),q=Q[0]+Q[1]+Q[2],S=Math.round(34*s.V()),A=S;
if(H>y)A=Math.round(A*y/H);else S=Math.round(S*H/y);var V=["RGB"].concat(fb.LQ);for(var l=0;l<4;l++){var e=this.D8(l);
O.mM.nf(e,S,A,c,w.E$(),c,!1,l==0?null:l-1);var d=l==0?q==3:Q[l-1]==1,N=new a7(-1-l,!0,!0,e,V[l],d,d);
N.parent=this;n.appendChild(N.n);s.cY(e.canvas)}for(var l=0;l<w.g.length;l++){var z=w.B[w.g[l]],v=z.Ks;
if(v!=1&&v!=3)continue;var T=v==1?z.LZ():z.iS(w).z,e=this.D8(b+l);b++;O.mM.pq(e,S,A,c,T);var N=new a7(w.g[l],!0,!0,e,z.getName()+(v==1?"":" Filter")+" Mask",!0,T.SC);
N.parent=this;n.appendChild(N.n);s.cY(e.canvas)}for(var l=0;l<w.d4.length;l++){var T=w.d4[l],e=this.D8(b+l);
O.mM.pq(e,S,A,c,T);var N=new a7(-5-l,!0,T.name=="Quick Mask",e,T.name,w.np.indexOf(l)!=-1,T.SC,P.YV,{d:a.cF,cl:"rnm",cm:l});
N.parent=this;n.appendChild(N.n);s.cY(e.canvas)}};fF.prototype.kc=function(w,n){this.gp.style.height=n-30-4+"px";
this.gp.style.width=w+"px"};fF.prototype.f=function(){eV.prototype.f.call(this);this.Zw();fF.IE(this.vS,["lrs/makesel","lrs/mask","lrs/newlayer","lrs/bin"])};
fF.IE=function(w,n){var n=iY.gZ(n,null,"miniscale");for(var l=0;l<w.length;l++)w[l].TO(n[l])};function a7(w,n,H,y,c,Q,q,S,A){bU.call(this);
this.n=s.t("div","layeritem");this.a7H=w;this.awd=n;this.NK=y;this.a0d=S;this.aao=A;this.sM=s.t("div",Q?"head selected":"head");
this.sM.setAttribute("style","height: "+40+"px");var V=s.t("div","headL"),e=s.t("div","headR"),d=15;
this.n.appendChild(this.sM);this.sM.appendChild(V);this.sM.appendChild(e);this.Vz=s.t("div","eye");if(1<s.V()&&s.V()<1.5)d=d/s.V();
this.Vz.setAttribute("style","background-size: "+d+"px "+d+"px;");this.Vz.style.opacity=q?1:.2;if(n)V.appendChild(this.Vz);
this.y4=s.t("div","thumb");if(y)this.y4.appendChild(y.canvas);V.appendChild(this.y4);this.l2=s.t("div","label");
if(H)this.l2.style.fontStyle="italic";this.l2.textContent=hV.get(c);V.appendChild(this.l2);var N=this.sM;
N.setAttribute("draggable","true");N.addEventListener("dragstart",function(b){b.dataTransfer.setData("Text","")},!1);
s.am(this.sM,this.avE.bind(this));if(!H)this.sM.addEventListener("mouseup",this.af_.bind(this),!1)}a7.prototype=new bU;
a7.prototype.R$=function(w){var n=new aL(M.E.v,!0);n.G=this.a0d;n.data=this.aao;n.data.name=w;this.S(n)};
a7.prototype.avE=function(w){var n=w.ctrlKey||w.metaKey,H=this.a7H;if(n&&w.target==this.NK.canvas){this.S(a7.OS(this.awd,H,w))}else{var y=new aL("click",!0);
y.data={cm:H,ES:w.target==this.Vz,Aa:n};this.S(y)}};a7.prototype.af_=function(w){if(w.detail==2&&w.target==this.l2){var n=new eV.wF(this.l2,this.R$.bind(this))}};
a7.OS=function(w,n,H){var y=0;if(H.shiftKey)y++;if(H.altKey)y+=2;var c=new aL(M.E.v,!0);c.G=P.pj;if(w){if(-5<n&&n<0){c=new aL(M.E.dp,!0);
c.data=P.Me.aaG(y,["RGB","Rd","Grn","Bl"][-1-n])}else c.data={d:"fromchannel",Vm:[n,0,y]}}else c.data={d:"frompath",Vm:[n,0,y]};
return c};function dv(){eV.call(this,[8,9],!1,"---panels/paths",eV.AG.WV);this._X=null;this.hv=null;
this.gp=s.t("div","lpbody scrollable");this.gp.style.marginTop="4px";this.Wz=s.t("div","lpfoot");this.vN.appendChild(this.gp);
this.vN.appendChild(this.Wz);this.vN.addEventListener("click",this.az6.bind(this),!1);this.EN=[];this.h("click",this.DC,this);
this.vS=[];fF.Kd(["Fill Path","Stroke Path with Brush",[17,2],"Selection to Path",[5,3],[5,4]],this.vS,this.Wz,this.qq.bind(this),this.HP.bind(this))}dv.prototype=new eV("");
dv.prototype.qq=function(w,n){var H=fF.Gx(this.vS,w),y;if(H<2){y=new aL(M.E.dp,!0);y.data=P.S2.Qi(H)}else if(H==2)y=a7.OS(!1,null,w);
else if(H==3){y=new aL(M.E.dp,!0);y.data={fd:"make",ei:{classID:"null",null:{t:"obj ",v:[{t:"Clss",v:{classID:"Path"}}]},From:{t:"obj ",v:[{t:"prop",v:{classID:"csel",keyID:"fsel"}}]},Tlrn:{t:"UntF",v:{type:"#Pxl",val:2}}}}}else if(H>3){var y=new aL(M.E.v,!0);
y.G=P.ko;y.data={d:"pathedit",cl:["new","del"][H-4],a6b:n}}this.S(y)};dv.prototype.HP=function(w){this.qq(w,!0)};
dv.prototype.D8=function(l){var w=this.EN,n=w[l];if(n==null){var H=s.t("canvas");n=H.getContext("2d");
w.push(n)}return n};dv.prototype.az6=function(w){if(w.target==this.gp){var n=this.hv;n.SV=[];n.t7=[];
n.qF=!0;n.Va=!0}};dv.prototype.DC=function(w){var n=w.data.cm,H=this.hv,y=w.data.Aa,c=0,Q,q;if(n<0){c=-1-n;
Q=H.SV;q=H.t7}else{var S=H._e()[0];for(var l=0;l<S.length;l++){var A=S[l].cm;if(A==n)break;if(A>=0)c++}Q=H.t7;
q=H.SV}if(y){var V=Q.indexOf(c);if(V==-1)Q.push(c);else Q.splice(V,1)}else{while(Q.length!=0)Q.pop();
while(q.length!=0)q.pop();Q.push(c)}H.qF=!0;H.Va=!0};dv.prototype.Tf=function(){this.Zw()};dv.prototype.nQ=function(w){this.hv=w;
this.Zw()};dv.prototype.Zw=function(){var w=this.hv,n=this.gp;s.Of(n);if(w==null||!s._Q(n))return;var H=w.m,y=w.e,c=new cr(0,0,H,y),Q=this._X=w.u.vE.slice(0),q=Q[0]+Q[1]+Q[2],S=Math.round(34*s.V()),A=S;
if(H>y)A=Math.round(A*y/H);else S=Math.round(S*H/y);var V=w._e(),e=V[0];for(var l=0;l<e.length;l++){var d=e[l],N=this.D8(l);
O.mM.a9B(N,S,A,c,d.add.vmsk);var b=new a7(d.cm,!1,d.cm>=0,N,d.name,V[1].indexOf(l)!=-1,!1,P.ko,{d:"pathedit",cl:"rnm",cm:d.cm});
b.parent=this;n.appendChild(b.n);s.cY(N.canvas)}};dv.prototype.kc=function(w,n){this.gp.style.height=n-30-4+"px";
this.gp.style.width=w+"px"};dv.prototype.f=function(){eV.prototype.f.call(this);this.Zw();fF.IE(this.vS,"-\u2B24 -\u25EF lrs/makesel lrs/makepath lrs/newlayer lrs/bin".split(" "))};
function fG(w){eV.call(this,[9,w?4:5],!1,"---panels/"+(w?"character":"paragraph"),w?eV.AG.a4l:eV.AG.arg);
this.vN.setAttribute("style","min-width:240px;");this.a4V=w;this.Gd=null;this.Uz=null}fG.prototype=new eV("");
fG.prototype.aa=function(){this.Gd=new gR;var w=this.Gd,n=this.vN;w.parent=this;if(this.a4V){var H=s.t("div","marged");
n.appendChild(H);H.appendChild(w.HF.n);n.appendChild(s.t("hr"));var y=s.t("div","marged");n.appendChild(y);
y.appendChild(w.rl.n);y.appendChild(w.ML.n);var c=s.t("div","marged");n.appendChild(c);c.appendChild(w.qv.n);
c.appendChild(w.nl.n);n.appendChild(s.t("hr"));var Q=s.t("div","marged");n.appendChild(Q);Q.appendChild(w.bR.n);
Q.appendChild(w.UR.n);var q=s.t("div","marged");n.appendChild(q);q.appendChild(w.LH.n);q.appendChild(w.ct.n);
q.appendChild(w.CJ.n);n.appendChild(s.t("hr"));var S=s.t("div","marged");n.appendChild(S);S.appendChild(w.$d.n);
S.appendChild(w.dI.n);S.appendChild(w.GC.n);S.appendChild(w.z0.n);S.appendChild(w.iQ.n);S.appendChild(w.e3.n);
S.appendChild(w.KE.n);S.appendChild(w.GA.n)}else{var H=s.t("div","marged");n.appendChild(H);H.appendChild(w.hZ.n);
H.appendChild(w.IT.n);H.appendChild(w.PK.n);H.appendChild(w.az8.n);H.appendChild(w.axs.n);H.appendChild(w.ao7.n);
H.appendChild(w.am5.n);n.appendChild(s.t("hr"));var y=s.t("div","marged");n.appendChild(y);y.appendChild(w.zl.n);
y.appendChild(w.yv.n);y.appendChild(w.Fc.n);n.appendChild(s.t("hr"));var c=s.t("div","marged");n.appendChild(c);
c.appendChild(w.ih.n);c.appendChild(w.ZN.n);c.appendChild(w.hB.n);c.appendChild(w.FX.n)}};fG.prototype.Tf=function(){if(!s._Q(this.vN))return;
if(this.Gd==null){this.aa();var w=this.Uz;if(w)this.Gd.$(w.Qx,w.KF,w.h$);this.Gd.f()}};fG.prototype.f=function(){eV.prototype.f.call(this);
if(this.Gd)this.Gd.f()};fG.prototype.AB=function(w,n){this.Uz=w;if(n!=h6.z8&&n!=h6.A_&&n!=h6.Ax&&n!=h6.W3)return;
if(this.Gd)this.Gd.$(w.Qx,w.KF,w.h$)};function kk(){eV.call(this,[9,13],!1,"---panels/glyphs",eV.AG.a3D);
this.Uz=null}kk.prototype=new eV("");kk.prototype.aa=function(){this.Gd=new gR;this.Gd.parent=this;this.awj=null;
this.agw=null;this.lR=null;this.atp=null;this.Ev=Math.round(290*s.V());this.s5=45;this.anJ=4;this.asz=this.k9.bind(this);
this.a5q=0;this.iB=new dw(null,["Hi","Hello"]);this.iB.h(M.E.A,this.k9,this);var w=this.uR=new eO("-",null,null,!0);
w.h("click",this.atb,this);var n=this.a3H=new eO("+",null,null,!0);n.h("click",this.atb,this);this.PZ=new hD(!1);
this.PZ.h(M.E.A,this.wc,this);this.PZ.n.style.height=250+"px";var H=this.ij=s.t("div","form padded");
this.vN.appendChild(H);H.appendChild(this.Gd.HF.n);s.yD(H);H.appendChild(this.iB.n);H.appendChild(w.n);
H.appendChild(n.n);this.vN.appendChild(this.PZ.n)};kk.prototype.kc=function(w,n){if(this.pV==w||this.Gd==null)return;
this.pV=w;this.Ev=Math.floor((w-13)*s.V());this.ij.setAttribute("style","width:"+this.Ev/s.V()+"px;");
this.PZ.n.style.height=n-73+"px";this.k9()};kk.prototype.wc=function(w){var n=this.ayE(),H=Math.round(this.Ev/n);
n/=s.V();var y=this.PZ.o()[0]*H*this.anJ,c=this.PZ.ajO();y+=Math.floor(c.y/n)*H;y+=Math.floor(c.x/n);
var Q=this.lR[this.iB.o()];if(y>=Q.length)return;var q=Q[y],S=this.atp[q],A=new aL(M.E.v,!0);A.G=P.nr;
if(S.LP.length==0)A.data={d:"insertGlyph",Z:y+1};else A.data={d:"insertText",Z:String.fromCodePoint(S.LP[0])};
this.S(A)};kk.prototype.atb=function(w){var n=1.2;if(w.target==this.uR){if(this.s5>20)this.s5/=n}else{if(this.s5<100)this.s5*=n}this.k9()};
kk.prototype.Tf=function(){this.AB(this.Uz)};kk.prototype.AB=function(w,n){this.Uz=w;if(!s._Q(this.vN))return;
if(this.Gd==null)this.aa();this.Gd.$(w.Qx,w.KF,w.h$);var H=w.Qx,y=H.tq.Font,A=0;if(y==null)return;var c=H.II[y].Name;
if(this.awj==c)return;var y=w.KF.WX(c);if(y==null)return;var Q=y.maxp.numGlyphs,q=this.atp=new Array(Q);
for(var l=0;l<Q;l++)q[l]={LP:[]};var S=Date.now(),V=new Uint8Array(1048575);for(var l=0;l<1048575;l++){var e=Typr.U.codeToGlyph(y,l);
if(e!=0&&e<Q){V[l]=1;if(q[e].LP.length==0)A++;q[e].LP.push(l)}}var d=kk.T1,N=[];for(var l=0;l<d.length;
l++)N.push([]);for(var e=1;e<Q;e++){N[0].push(e);var b=q[e].LP[0];if(b==null){continue}for(var z=1;z<d.length;
z++){var v=d[z].bV;for(var l=0;l<v.length;l+=2)if(v[l]<=b&&b<=v[l+1]){N[z].push(e);break}}}this.lR=N;
var T=[];for(var l=0;l<d.length;l++)T.push(d[l].DF+" ("+N[l].length+")");var Y=this.iB.o();this.iB.pe(T);
this.iB.$(Y);this.awj=c;this.agw=y;this.k9()};kk.prototype.ayE=function(w){var n=Math.floor(this.Ev/this.s5);
return Math.floor(this.Ev/n)};kk.prototype.k9=function(w){if(!s._Q(this.vN)||this.lR==null)return;var n=this.lR[this.iB.o()],H=n.length,y=this.agw,c=Typr.U,Q=this.ayE(),q=Q,S=q*.8,A=q*.8/y.head.unitsPerEm,V=[],e=Math.floor(this.Ev/Q),d=Math.ceil(H/e),N=this.anJ,b=Date.now();
for(var z=0;z<d;z+=N){var v=s.t("canvas"),T=v.getContext("2d");v.width=Q*e;v.height=q*N;T.strokeStyle="rgba(0,0,0,0.3)";
T.fillStyle="white";T.fillRect(0,0,e*Q,q*N);for(var Y=0;Y<N;Y++){for(var g=0;g<e;g++){var l=n[(z+Y)*e+g];
if(l==null)break;var R=c.glyphToPath(y,l),h=O.p.hH(R.crds);if(!h._G()){T.fillStyle="#252525";T.beginPath();
var E=g*Q+(Q-h.m*A)*.5-h.x*A,G=Y*q+S;T.translate(E,G);T.scale(A,-A);c.pathToContext(R,T);T.scale(1/A,-1/A);
T.translate(-E,-G);T.fill()}}}T.beginPath();for(var g=0;g<e;g++){var k=g*Q+Q+.5;T.moveTo(k,0);T.lineTo(k,q*N)}for(var Y=0;
Y<N;Y++){var $=Y*q+q+.5;T.moveTo(0,$);T.lineTo(e*Q,$)}T.stroke();V.push(v)}this.PZ.bu(V,null,Q*e,q*N)};
kk.T1=[{DF:"All Glyphs"},{DF:"Basic Latin, Latin 1",bV:[0,127,128,143]},{DF:"Latin Extended-A",bV:[256,383]},{DF:"Latin Extended-B",bV:[384,591]},{DF:"Punctuations",bV:[33,35,37,39,42,42,44,44,46,47,58,59,63,63,64,64,92,92,161,161,167,167,182,183,191,191,894,894,903,903,1370,1375,1417,1417,8192,8303,11776,11903]},{DF:"Greek",bV:[880,1023]},{DF:"Cyrillic",bV:[1024,1279]},{DF:"Hebrew",bV:[1424,1535]},{DF:"Arabic",bV:[1536,1791]},{DF:"Emoji",bV:[9728,10095,127744,129535]}];
function bW(){eV.call(this,[13,0],!1,null,eV.AG.Fz);this.dD=0;this.afz=0;this.Uz=null}bW.prototype=new eV("");
bW.prototype.aa=function(){if(!s._Q(this.vN)||this.SE)return;var w=s.t("div","flexrow padded");this.vN.appendChild(w);
var n=s.t("div");w.appendChild(n);this.SE=[];for(var l=0;l<2;l++){var H=new hF;this.SE.push(H);H.h("click",this.an1,this);
n.appendChild(H.n)}this.KG=new cc(192);console.log("hsb picker");this.KG.h(M.E.A,this._A,this);this.My=new kg;
this.My.parent=this;w.appendChild(this.KG.n);this.AB(this.Uz,h6.z8)};bW.prototype.an1=function(w){var n=w.currentTarget,H=this.SE.indexOf(n);
if(H==this.dD){this.My.Hz(H)}else{this.dD=H;this.k9()}};bW.prototype._A=function(w){var n=this.KG.o();
this.KG.$(n);var H=Math.round(n.b*255)<<16|Math.round(n.J*255)<<8|Math.round(n.k*255),y=new aL(M.E.L,!0);
y.data={d:M.c.Yj,PY:h6.Fz,cl:this.dD,Z:H};this.S(y);this.afz=Date.now()};bW.prototype.k9=function(){if(this.My==null)return;
var w=this.Uz,n=this.dD,H=[w.Ni,w.uu];for(var l=0;l<2;l++){var y=this.SE[l],c=y.n.style;y._U(H[l]);if(l==n)c.filter="drop-shadow(0 0 1px #000000)"}var Q=H[n];
if(Date.now()-this.afz>100)this.KG.$({b:(Q>>>16)/255,J:(Q>>>8&255)/255,k:(Q&255)/255})};bW.prototype.AB=function(w,n){this.Uz=w;
if(this.My==null)return;if(n==h6.z8||n==h6.Fz){this.My.aiS(w.Ni,w.uu);this.k9()}};bW.prototype.nQ=function(){this.aa()};
bW.prototype.Tf=function(){this.aa();this.k9()};function gh(){eV.call(this,"CSS",!1,"---panels/css",eV.AG.CSS);
this.mT=null;var w=s.t("div","padded");this.vN.appendChild(w);this.Bd=s.t("textarea");s.iV(this.Bd);
w.appendChild(this.Bd)}gh.prototype=new eV("");gh.prototype.kc=function(w,n){if(this.pV==w)return;this.pV=w;
this.Bd.setAttribute("style","display:block;tab-size:4;  margin:0; font-family:monospace; width:"+(w-10)+"px; height:"+(n-10)+"px")};
gh.prototype.nQ=function(w){this.mT=w;this.k9()};gh.prototype.AB=function(w,n){if(n==h6.Ax)this.k9()};
gh.prototype.k9=function(){var w=this.mT;if(w==null||w.g.length==0)return;if(!s._Q(this.vN))return;var n=w.B[w.g[0]],H=CSS.az0(n,w);
if(H.length!=0)this.Bd.value=H.join(";\n")+";";else this.Bd.value=""};gh.prototype.Tf=function(){this.k9()};
function bd(){eV.call(this,[9,6],!1,"---panels/info",eV.AG.atU);this.vN.setAttribute("style","min-width:240px;");
this.mT=null;this.Uz=null;var w=this.U3=[];for(var n=0;n<3;n++){var H=s.t("div","marged row");this.vN.appendChild(H);
var y=s.t("div","cell");y.setAttribute("style","width:10em");H.appendChild(y);var c=s.t("div","cell");
c.setAttribute("style","width:10em");H.appendChild(c);for(var l=0;l<(n==2?3:4);l++){var Q=new iD("");
w.push(Q);Q.$(0);Q.n.style.padding="0";var q=n!=1||l<2?y:c;q.appendChild(Q.n);s.yD(q)}if(n<2)s.SR(this.vN)}this.Xq=w[4];
this.pt=w[5];this.$L=w[6];this.zj=w[7]}bd.prototype=new eV("");bd.prototype.C9=function(w,n,H,y,c){if(!s._Q(this.vN)||w==null)return;
var Q=w.u.Sb(c.x,c.y),q=new ce(Math.floor(Q.x),Math.floor(Q.y));if(!c.iO){var S=0,A=0,V=0,e=0,d=this.U3;
if(!c.iO&&!w.ark()&&new cr(0,0,w.m-1,w.e-1).yo(q)){var N=w.E$(),l=w.m*q.y+q.x<<2;S=N[l+0];A=N[l+1];V=N[l+2];
e=N[l+3]}d[0].$("R: "+S);d[1].$("G: "+A);d[2].$("B: "+V);d[3].$("A: "+e);var b=O.vI(S,A,V);d[8].$("H: "+Math.round(b.WZ*360)+"\xB0");
d[9].$("S: "+Math.round(b.ua*100)+"%");d[10].$("B: "+Math.round(b.k*100/255)+"%")}var z=w.u.N>1?new ce(Q.x,Q.y):q;
this.Xq.$("X: "+O.xr.To(z.x,w.uP,H,w.m));this.pt.$("Y: "+O.xr.To(z.y,w.uP,H,w.e));this.KJ()};bd.prototype.KJ=function(){var w=this.mT,n=this.Uz,H=0,y=0;
if(w&&n){if(w.u.HW){H=w.u.HW.m;y=w.u.HW.e}else if(w.P){H=w.P.rect.m;y=w.P.rect.e}H=O.xr.To(Math.abs(H),w.uP,n,w.m);
y=O.xr.To(Math.abs(y),w.uP,n,w.e)}this.$L.$(hV.get([12,41]).charAt(0)+": "+H);this.zj.$(hV.get([12,42]).charAt(0)+": "+y)};
bd.prototype.f=function(){eV.prototype.f.call(this);this.KJ()};bd.prototype.nQ=function(w,n,H){this.mT=w;
this.Uz=H;this.KJ()};function fW(){eV.call(this,[9,1],!1,"---panels/layers",eV.AG.YV);this.vD=null;this.ju=[];
this.z3=null;this.Lh=null;this.sM=s.t("div","lphead");this.gp=s.t("div","lpbody scrollable");this.gp.addEventListener("scroll",this.afH.bind(this),!1);
this.Wz=s.t("div","lpfoot");var w=this.a3B=s.t("span");w.setAttribute("style","display:inline-block; height:26px");
this.sM.appendChild(w);this.Lk=new dw(null,eS.SX,eS.dH);this.Lk.h(M.E.A,this.aug,this);this.sM.appendChild(this.Lk.n);
this.Q7=new kc([12,0],0,100,"%",0);this.Q7.h(M.E.A,this.a5O,this);this.Q7.parent=this;this.sM.appendChild(this.Q7.n);
this.uN=new iS([6,57,2],["<img src=\""+PIMG.trsp3+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG["tools/brush"]+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG.pos+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG["lrs/lock"]+"\" class=\"miniscale gsicon\" />"],!0,["Transparency",[12,76,2],[12,40],[7,0]]);
this.uN.h(M.E.A,this.afO,this);this.sM.appendChild(this.uN.n);this.DV=new kc([12,26],0,100,"%",0);this.DV.h(M.E.A,this.aaf,this);
this.DV.parent=this;this.sM.appendChild(this.DV.n);this.vS=[];this.Kd();this.vN.appendChild(this.sM);
this.vN.appendChild(this.gp);this.gp.addEventListener("dragover",function(c){c.preventDefault()},!1);
this.gp.addEventListener("dragenter",s.yZ,!1);this.gp.addEventListener("drop",this.a82.bind(this),!1);
this.vN.appendChild(this.Wz);this.vN.addEventListener("contextmenu",s.yZ,!1);this.h("rclick",this.aoL,this);
var n=function(c,Q,l){return{NW:this.OL[l]==1}}.bind(this);this.agX=new az([{name:[0,6],C:n},{name:[14,10],C:n},{name:[6,57,2],C:n,Pp:!0},{name:"Long-tap as a right click",C:n,Pp:!0},{name:"\u2796 Thumbnail Size"},{name:"\u2795 Thumbnail Size"},{name:"Thumbnails by Layer",C:function(){return{NW:iP.Vv==0,C:!0}}},{name:"Thumbnails by Document",C:function(){return{NW:iP.Vv==1,C:!0}}}]);
this.agX.h("select",this.a7_,this);this.OL=[0,1,1,0];var H=window.localStorage;if(H){var y=H.getItem("lpOpt");
if(y){y=JSON.parse(y);this.OL=y[0];iP.Kn=y[1];iP.Vv=y[2]}}this.a7_()}fW.prototype=new eV("");fW.prototype.Q1=function(){if(this.adW)return;
var w=dJ.SF(!0),n=dJ.$c(!0);this.adW=new az(w,n);var w=[{name:[14,10]},{name:[14,11],Pp:!0},{name:[6,0]},{name:[11,4]},{name:[5,4],Pp:!0},{name:[6,7,0]},{name:"New Smart Obj. via Copy",C:function(H){return{C:H.B[H.g[0]].add.SoLd!=null}},Pp:!0},{name:[6,8],C:fW.ad_},{name:[6,34],C:function(H){var y=H.B[H.g[0]];
return{C:y.add.lmfx!=null&&!y.Ok()}}},{name:[6,40],Pp:!0,C:function(H){var y=H.B[H.g[0]];return{C:y.add.TySh!=null}}},{name:"",Pp:!0,C:function(H){var y=H.B[H.g[0]],c=y.add.TySh,Q=c?c.EB:null;
return{C:c!=null&&Q.Curve==null,dc:hV.get(c&&j1.O_(Q)==0?[16,3,1]:[16,3,0])}}},fW.a5o(!1),dJ.a9R(),{name:[6,12,0],C:function(H){var y=H==null?0:H.g.length;
return{C:y!=0&&(y!=1||H.g[0]!=0),dc:hV.get(y>1||y==1&&H.B[H.g[0]].Ok()?[6,12,0]:[6,10])}}},{name:[6,12,1],Pp:!0},{name:[13,0],sub:function(){var H=[];
for(var l=0;l<kb.Zx.length;l++)H.push({name:[13,1,l],mM:"#"+O.w9(kb.Zx[l])});return H}()}],n=[{Y:M.E.L,W:{d:M.c.rL,Ln:"layerstyle"}},{Y:M.E.v,G:P.pj,W:{d:"fromlayer",Vm:[null,0,0]}},{Y:M.E.v,G:P.YV,W:{d:a.Bc}},{Y:M.E.L,W:{d:M.c.rL,Ln:"duplinto"}},{Y:M.E.v,G:P.YV,W:{d:a.oM}},{Y:M.E.dp,W:{fd:"newPlacedLayer"}},{Y:M.E.v,G:P.YV,W:{d:a.dz}},{Y:M.E.dp,W:{fd:"rasterizeLayer",ei:{classID:"rasterizeLayer",null:ih._K("Lyr",!0)}}},{Y:M.E.v,G:P.YV,W:{d:a.YB}},{Y:M.E.v,G:P.YV,W:{d:a.amR}},{Y:M.E.v,G:P.nr,W:{d:"switchPntPrgr"}},{Y:M.E.v,G:P.YV,W:{d:a.vg}},dJ.agc(),{Y:M.E.dp,W:{fd:"mergeLayersNew",ei:{__name:"Merge Layers",classID:"Mrg2"}}},{Y:M.E.dp,W:{fd:"flattenImage"}},{sub:function(){var H=[];
for(var l=0;l<8;l++)H.push({Y:M.E.v,G:P.YV,W:{d:a.LD,aoS:l}});return H}()}];this.iu=new az(w,n);var w=[{name:[6,45],C:function(H){var y=H.B[H.g[0]];
return{C:y.iS(H).z==null}}},{name:[6,47]}],n=[{Y:M.E.v,G:P.YV,W:{d:a.yw}},{Y:M.E.v,G:P.YV,W:{d:a.$P}}];
this.ap3=new az(w,n);var w=[{name:"enab/disab",C:function(H){return{dc:hV.get(H.B[H.g[0]].LZ().isEnabled?[6,15]:[6,14])}}},{name:[6,22]},{name:[5,8],C:function(H){return{C:H.BG(!1,!0)}}}],n=[{Y:M.E.v,G:P.YV,W:{d:a.gy}},{Y:M.E.v,G:P.YV,W:{d:a.Xg}},{Y:M.E.v,G:P.YV,W:{d:a.tA}}];
this.av1=new az(w,n);var w=[{name:"enab/disab",C:function(H){return{dc:hV.get(H.B[H.g[0]].iS(H).z.isEnabled?[6,42]:[6,41])}}},{name:[6,46]}],n=[{Y:M.E.v,G:P.YV,W:{d:a.jJ}},{Y:M.E.v,G:P.YV,W:{d:a.Sw}}];
this.adL=new az(w,n);var w=[{name:"enab/disab",C:function(H){return{dc:hV.get(H.B[H.g[0]].add.vmsk.isEnabled?[6,17]:[6,16])}}},{name:[6,24]},{name:[6,8]}],n=[{Y:M.E.v,G:P.YV,W:{d:a.qz}},{Y:M.E.v,G:P.YV,W:{d:a.gc}},{Y:M.E.v,G:P.YV,W:{d:a.vw}}];
this.a0X=new az(w,n);this.a4u=new az(dJ.asM(!0),dJ.Ag(!0));this.afk=new az(dJ.SF(),dJ.$c())};fW.prototype.afH=function(w){var n=this.gp.scrollTop-600;
for(var l=0;l<this.ju.length;l++){var H=this.ju[l],y=H.IY;if(n<H.IY)H.aoe();if(H.IY>n+this.WZ+600)break}};
fW.prototype.O6=function(){return this.agX};fW.prototype.a7_=function(w){var n=this.OL;if(w){var H=w.target.uf(),l=H[0];
if(l<4)n[l]=1-n[l];else if(l<6){if(l==4&&iP.Kn-10>=10)iP.Kn-=10;if(l==5&&iP.Kn+10<=200)iP.Kn+=10;if(this.z3)this.z3.zi=!0}else{if(l==6)iP.Vv=0;
if(l==7)iP.Vv=1;if(this.z3)this.z3.zi=!0}var y=window.localStorage;if(y)y.setItem("lpOpt",JSON.stringify([n,iP.Kn,iP.Vv]))}if(n[0]==1)this.ai6();
var c=[[{n:this.a3B}],[this.Lk,this.Q7],[this.uN,this.DV]];for(var l=0;l<3;l++)for(var Q=0;Q<c[l].length;
Q++)c[l][Q].n.style.display=n[l]==1?"inline-block":"none";this.kc(this.pV,this.WZ)};fW.prototype.aiQ=function(){var w=this.kG;
if(w==null)return!1;if(w.o()){var n=this.Cq.o(),H=this.HA[n].o();if(n==0)return H.indexOf(!0)!=-1;if(n==1)return H!=""}return!1};
fW.a5o=function(w){var n=function(y){var c=y!=null&&y.g.length!=0&&y.B[y.g[0]].Ak;return{NW:c,C:y!=null&&y.q0(y.g[0]),W:{Y:M.E.dp,W:{fd:c?"ungroup":"groupEvent",ei:{classID:c?"Ungr":"GrpL",null:ih._K("Lyr",!0)}}}}},H={name:[6,6,0],Pp:!0,C:n};
if(w)H.Jg=[b8.FO,b8.NX,b8.aj];return H};fW.ad_=function(w,n){if(w)for(var l=0;l<w.g.length;l++){var H=w.B[w.g[l]];
if(H.add.TySh||H.add.SoLd||H.add.SoCo||H.add.GdFl||H.add.PtFl)return{C:!0}}return{C:!1}};fW.prototype.a82=function(w){s.yZ(w);
var n=w.dataTransfer.getData("Text"),H=1,y=0;if(n==""){s.Su(w,this,this.Lh.indexOf(this.z3),y+(H>.5?0:1))}else if(n!="--panel"){var n=JSON.parse(n),c=n.Ph;
if(c=="l")this.Bt({d:a.gq,source:n.GJ,target:y,IG:H})}};fW.prototype.aoL=function(w){var n=this.z3,H=w.data,c;
if(n.g.indexOf(H.j)==-1){var y={d:a.$C,j:w.target.sD.index,uk:H.Ks};this.Bt(y)}if(n.g.indexOf(H.j)==-1)return;
this.Q1();if(H.Ks==1){c=this.av1}else if(H.Ks==2){c=this.a0X}else if(H.Ks==3){c=this.adL}else if(H.Ks==4){c=this.ap3}else if(H.Ks==5){c=this.adW}else{c=this.iu}c.f();
c.update(n);c.parent=this;var Q=new aL(M.E.L,!0);Q.data={d:M.c.hf,_0:c,x:H.gG.x+1,y:H.gG.y+1};this.S(Q)};
fW.prototype.f=function(){eV.prototype.f.call(this);this.Lk.f();this.Q7.f();this.uN.f();this.DV.f();
if(this.kG){this.kG.f();this.HA[0].f()}if(this.z3)this.nQ(this.z3);var w="lrs/link lrs/fx lrs/adj lrs/mask lrs/folder lrs/newlayer lrs/bin".split(" ");
for(var l=0;l<this.vS.length;l++){var n=this.vS[l];n.TO(s.OE(w[l],null,"miniscale"));if(l==1||l==2){n.n.style.position="relative";
var H=s.t("img","gsicon");H.setAttribute("src",PIMG["tools/corner"]);H.setAttribute("style","position:absolute; right:0;  bottom:0; width:100%;  height:100%;");
n.n.appendChild(H)}}};fW.prototype.nQ=function(w,n){if(w&&!w.zi)return;if(w==null)s.li(this.vN,"disabled");
else s.n_(this.vN,"disabled");this.z3=w;this.Lh=n;if(this.vD!=null){s.Of(this.gp);this.vD=null;this.ju=[]}if(w==null)return;
var H=!1;for(var l=0;l<w.d4.length;l++)if(w.d4[l].SC)H=!0;this.vD=new kb(w.root,this,w,{qA:0,bY:!1},{awQ:H,arh:this.aiQ()},this.ju,0,new cr(0,0,w.m,w.e));
if(w.g.length==0||w.B[w.g[0]]==null)s.li(this.sM,"disabled");else{s.n_(this.sM,"disabled");if(w.g.length==1&&w.nR){var y=w.g[0];
for(var l=0;l<this.ju.length;l++){var c=this.ju[l];if(c.sD.index==y&&c.sM.scrollIntoView)c.sM.scrollIntoView({block:"nearest"})}}var Q=w.B[w.g[0]];
if(Q.Ok()){this.Lk.pe([[15,10,27]].concat(eS.SX),[1].concat(eS.dH));var q=eS.$Q.indexOf(Q.UM);this.Lk.$(q+1)}else{this.Lk.pe(eS.SX,eS.dH);
var q=eS.$Q.indexOf(Q.UM);this.Lk.$(q)}this.Q7.$(Math.round(100*Q.opacity/255));this.uN.$([Q.ox(0),Q.ox(1),Q.ox(2),Q.ox(31)]);
var S=w.eV();this.Lk.rD(!S);this.DV.rD(!S);this.Q7.rD(!S);this.uN.rD(!(S&&!Q.ox(31)));this.DV.$(Math.round(100*(Q.add.iOpa!=null?Q.add.iOpa/255:1)))}this.afH(null)};
fW.prototype.kc=function(w,n){this.pV=w;this.WZ=n;var H=this.sM.getBoundingClientRect().height;if(55<H&&H<56)H=60.2;
var y=this.Wz.getBoundingClientRect().height,c=n-(H+y+3);this.gp.style.height=c+"px";this.gp.style.width=w+"px"};
fW.prototype.aug=function(w){this.Bt({d:a.Cx,z2:this.Lk.o()})};fW.prototype.a5O=function(w){this.Bt({d:a.eq,z2:Math.round(255*this.Q7.o()/100)})};
fW.prototype.afO=function(w){this.Bt({d:a.Cz,z2:[this.uN.o(),[0,1,2,31]]})};fW.prototype.aaf=function(w){this.Bt({d:a.OY,z2:Math.round(255*this.DV.o()/100)})};
fW.prototype.ah=function(w){if(w.target==this.Cq)this.ai6();var n=this.kG.o();if(n)s.n_(this.RE,"disabled");
else s.li(this.RE,"disabled");this.f();this.z3.zi=!0;this.nQ(this.z3);this.z3.zi=!1};fW.prototype.ai6=function(){var w=this.RE;
if(w==null){var n=this.a3B,H=this.kG=new jH([0,6]);H.h(M.E.A,this.ah,this);n.appendChild(H.n);w=this.RE=s.t("span","disabled");
n.appendChild(w);this.Cq=new dw(null,["Kind",[12,48]],[]);this.Cq.h(M.E.A,this.ah,this);var y=this.HA=[new iS(null,["<img src=\""+PIMG.pix_layer+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG["lrs/adj"]+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG["tools/htype"]+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG.shape_layer+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG.so_layer+"\" class=\"miniscale gsicon\" />"],!0,[[12,76,2],[3,0],[12,44],[12,77],[6,7,1]]),new f0(null,null,8)];
y[0].h(M.E.A,this.ah,this);y[1].h("input",this.ah,this)}s.Of(w);w.appendChild(this.Cq.n);w.appendChild(this.HA[this.Cq.o()].n)};
fW.prototype.ag$=function(w){this.Q1();this.adF(w,this.a4u)};fW.prototype.a9h=function(w){this.Q1();
this.adF(w,this.afk)};fW.prototype.adF=function(w,n){var H=w.currentTarget;if(s._Q(n.n))return;w.stopPropagation();
var y=H.getBoundingClientRect();n.f();n.update(this.z3);n.parent=this;var c=new aL(M.E.L,!0);c.data={d:M.c.hf,_0:n,x:y.left,y:y.top,a2o:!0};
this.S(c)};fW.prototype.ajs=function(w){this.Bt({d:a.aoJ})};fW.prototype.a1g=function(w){this.Bt({d:this.z3.g.length>1?a.Tl:a.vB})};
fW.prototype.aqN=function(w){this.Bt({d:a.So})};fW.prototype.a65=function(w){var n=this.z3;if(n.g.length==0)return;
var H=n.B[n.g[0]],y=H.Ks;this.Bt({d:y<=0?H.gK?a.gc:a.oM:y==3?a.Sw:a.Xg})};fW.prototype.acJ=function(w){this.Bt({d:a.p7})};
fW.prototype.Bt=function(w){var n=new aL(M.E.v,!0);n.data=w;n.G=P.YV;this.S(n)};fW.prototype.Kd=function(){var w=[[6,54,0],[11,6],[6,1],[6,21],[6,20],[6,13],[5,4]],n=[this.acJ,this.a9h,this.ag$,this.ajs,this.a1g,this.aqN,this.a65],H=this.a4y.bind(this);
for(var l=0;l<w.length;l++){var y=new eO("W",!1,w[l]);this.vS.push(y);s.am(y.n,n[l].bind(this));this.Wz.appendChild(y.n);
if(l>=w.length-3){var c=y.n;c.addEventListener("drop",H,!1);c.addEventListener("dragover",function(Q){Q.preventDefault()},!1);
c.addEventListener("dragenter",s.yZ,!1)}}};fW.prototype.a4y=function(w){s.yZ(w);var n=0,H=this.vS;while(H[n].n!=w.currentTarget)n++;
H[n].k3();var y=w.dataTransfer.getData("Text");if(y=="")return;var y=JSON.parse(y);if(y.Ph=="l"){var c={d:[a.Tl,a.Bc,a.oM][n-4]};
if(this.z3.g.indexOf(y.GJ)==-1)c.j=y.GJ;this.Bt(c)}if(n!=6)return;if(y.Ph=="sm"||y.Ph=="s"){var Q=new aL(M.E.v,!0);
Q.G=P.C8;Q.data={d:y.Ph=="sm"?"st_clear":"st_delsingle",j:y.GJ,GJ:y.bg};this.S(Q)}if(y.Ph=="fm"||y.Ph=="f"){this.Bt({d:y.Ph=="fm"?a.$P:a.a5,src:y.GJ,bg:y.bg})}if(y.Ph=="m"||y.Ph=="vm"){this.Bt({d:y.Ph=="m"?a.Xg:a.gc,j:y.GJ})}};
function kb(w,n,H,y,c,Q,q,S){bU.call(this);this.parent=n;this.IY=q;this.sD=w;Q.push(this);this.mC=H;
this.YL=y;var A=n.gp,V=w.j,e=H.g.indexOf(w.index)!=-1,z=null;this.sM=s.t("div",e?"head selected":"head");
if(V.add.artb!=null){s.li(this.sM,"artb");S=V.oC()}var d=this.abp=Math.floor(10+V.auL/s.V()),N="height: "+d+"px;";
if(e&&c.awQ)N+="background-color:rgba(255,50,50,0.4);";this.sM.setAttribute("style",N);this.IM=S;var b=this.axM=this.a2K.bind(this),v=c.arh&&!this.aep();
if(!v){if(w.depth!=0){A.appendChild(this.sM);q+=d}if(V.iC()||V.RL())if(V.H7()){z=this.ag1=s.t("div","lpineck");
A.appendChild(z);if(V.iC()){z.addEventListener("contextmenu",b,!1);var T=new fW.YP(hV.get([12,1]),"sm","layerstyle",w.depth,0,null);
q+=21;T.parent=this;z.appendChild(T.n);var Y=V.add.lmfx,g=Y.masterFXSwitch.v;T.WH(g);for(var l=0;l<d5.order.length;
l++){var R=Y[d5.tS[l]].v;if(R.length==0)continue;for(var h=0;h<R.length;h++){var T=new fW.YP(hV.get(d5.names[l]),"s","layerstyle",w.depth,1,[l,h]);
q+=21;T.WH(g&&R[h].v.enab.v);T.parent=this;z.appendChild(T.n)}}}if(V.RL()){var E=V.iS(H).z;if(E)this.lP=s.t("div","thumb");
var T=new fW.YP(hV.get([12,55]),"fm",null,w.depth,0,-1,E?this.lP:null);q+=E?d:21;T.parent=this;z.appendChild(T.n);
this.a0S=T.n;this.a0S.addEventListener("contextmenu",b,!1);var Y=V.add.SoLd.filterFX.v,G=Y.filterFXList.v,g=Y.enab.v;
T.WH(g);for(var l=G.length-1;l>=0;l--){var k=G[l].v,$=gT.tu(k);if(fb.LA[$])$=fb.LA[$];var p=k.Nm.v;if(gT.names[$])p=hV.get(gT.names[$]);
if(fb.names[$])p=hV.get(fb.names[$]);var X="afw_"+$,T=new fW.YP(p,"f",X,w.depth,1,l);q+=21;T.WH(g&&k.enab.v);
T.parent=this;z.appendChild(T.n)}}}}var C=V.add.lclr;if(C==null)C=0;C=C==0?y.qA:kb.Zx[C];this.a3b=C;
if(V.Ok()&&(V.add.lsct==c0.q8||c.arh)){var D={qA:C,bY:y.bY||V.ox(31)};for(var l=w.children.length-1;
l>=0;l--){var o=new kb(w.children[l],n,H,D,c,Q,q,S);q=o.agB}}this.agB=q}kb.prototype=new bU;kb.Zx=[16777215,16711680,16748544,16763904,4513024,22015,11141375,7829367];
kb.prototype.aoe=function(){if(this.V$)return;var w=this.sD,n=w.j,H=this.mC,y=this.YL,d=!0,D=!1;w.zT(H,this.IM,!0);
var c=s.t("div","headL"),Q=s.t("div","headR");this.sM.appendChild(c);this.sM.appendChild(Q);var q=this.sM;
q.setAttribute("draggable","true");q.addEventListener("dragstart",this._C.bind(this),!1);q.addEventListener("drop",this.Gs.bind(this),!1);
q.addEventListener("dragover",this.M4.bind(this),!1);q.addEventListener("dragenter",s.yZ,!1);q.addEventListener("dragleave",this._B.bind(this),!1);
var S=[],A=[null,null,null,null],V=n.tl(),e=w;while(e.parent){e=e.parent;V=V&&e.j.tl()}if(n.Ak){for(var l=w.index-1;
l>=0;l--){var N=H.B[l];if(!N.Ak){d=N.tl();break}}}var b=n.tl()?V&&d?2:1:0;this.V$=s.t("div");var z=s.t("div",b==0?"sqr":"eye");
this.V$.appendChild(z);z.style.opacity=[.12,.33,1][b];var v=s.t("div","space");this.l2=s.t("div","label");
this.l2.setAttribute("style","max-width:calc(100% - "+(96+w.depth*20)+"px); margin-top:"+(this.abp-19)/2+"px;");
this.l2.textContent=n.getName();this.Lu=s.t("div","lock");this.axN=s.t("div","lrfx");this.kb=s.t("div","arfx");
var T=this.axM,Y=this.ahr.bind(this);this.sM.addEventListener("click",Y,!1);this.sM.addEventListener("contextmenu",T,!1);
var g=this.a3b,R=[g>>16,g>>8&255,g&255];for(var l=0;l<3;l++){R[l]=Math.round(.5*R[l]+.5*220)}this.V$.setAttribute("style","background-color:rgba("+R.join(",")+","+(g==0?0:1)+");");
var h=this.anZ.bind(this);this.V$.addEventListener("mousedown",h,!1);this.V$.addEventListener("mouseover",h,!1);
this.kb.addEventListener("click",this.afA.bind(this),!1);S[0]=this.V$;S[1]=v;S[10]=this.l2;if(n.Ok()){var E=s.t("div","arrow"),G=s.t("div","folder");
this.dn(G);E.addEventListener("click",this.awA.bind(this),!1);S[2]=E;S[3]=G;E.className=n.add.lsct==c0.q8?"open":"closed"}else{this.y4=s.t("div","thumb");
S[5]=this.y4;kb.ap(this.y4,n.KZ);this.dn(this.y4);if(fb.get(n.add))s.li(n.KZ.canvas,"gsicon")}var k=n.LZ();
if(k){this.RF=s.t("div","chain");this.E8=s.t("div","thumb");kb.ap(this.E8,n.k7,!0);this.RF.style.opacity=k.G9?1:0;
this.RF.addEventListener("click",this.a3j.bind(this),!1)}var $=n.hu()&&n.add.vmsk;if(n.add.vmsk&&!$){this.E_=s.t("div","chain");
this.c9=s.t("div","thumb");kb.ap(this.c9,n.Dz,!0);this.E_.style.opacity=n.add.vmsk.G9?1:0;this.E_.addEventListener("click",this.a6D.bind(this),!1)}if(n.RL()&&n.H7()&&n.iS(H).z){kb.ap(this.lP,n.CZ,!1);
this.dn(this.lP);this.lP.addEventListener("click",Y,!1);this.lP.addEventListener("contextmenu",T,!1)}if(w.index==H.g[0]){var p=n.Ks,X;
if(p<=0)X=this.y4;else if(p==1)X=this.E8;else if(p==3)X=this.lP;if(X)X.className="thumb active";if(n.gK&&this.c9)this.c9.className="thumb active"}v.setAttribute("style","width:"+Math.max(0,w.depth-1)*18+"px");
var C=n.add.lspf!=null&&n.add.lspf!=0||y.bY;this.Lu.style.opacity=n.ox(31)?1:.5;S[4]=n.Ak?s.t("div","clipp"):null;
S[6]=k?this.RF:null;S[7]=k?this.E8:null;S[8]=n.add.vmsk&&!$?this.E_:null;S[9]=n.add.vmsk&&!$?this.c9:null;
var o=n.ds,t=H.g;if(o!=0)for(var l=0;l<t.length;l++)if(H.B[t[l]].ds==o){D=!0;break}if(D){A[0]=s.t("div",n.aD?"link":"linkX");
A[0].addEventListener("click",this.aa7.bind(this),!1)}A[1]=C?this.Lu:null;A[2]=n.iC()?this.axN:null;
A[3]=n.iC()||n.RL()?this.kb:null;this.kb.className=n.H7()?"arfx open  gsicon":"arfx closed  gsicon";
var u=S;for(var l=0;l<u.length;l++)if(u[l])c.appendChild(u[l]);u=A;for(var l=0;l<u.length;l++)if(u[l])Q.appendChild(u[l])};
kb.ap=function(w,n,H){var y=n.canvas;s.cY(y);if(H)w.setAttribute("draggable","true");w.appendChild(y);
y.setAttribute("style",y.getAttribute("style")+"; pointer-events:none")};kb.prototype.dn=function(w){s.am(w,function(n){if(this.parent.OL[3]==0)return;
s.BA(n);s.vM(document.body,function(){clearTimeout(this.auE)}.bind(this));this.auE=setTimeout(function(){var H=new aL("rclick",!0);
H.data={j:this.sD.index,Ks:this.Ks(n),gG:s.E4(n,document.body)};this.S(H)}.bind(this),600)}.bind(this))};
kb.G3=function(w,n){var H=n.getBoundingClientRect();return(w.clientY-H.top)/H.height};kb.prototype._C=function(w){w.stopPropagation();
var n=w.target==this.E8?"m":w.target==this.c9?"vm":"l";w.dataTransfer.setData("Text",JSON.stringify({Ph:n,GJ:this.sD.index}))};
kb.prototype._B=function(w){s.yZ(w);this.BS()};kb.prototype.Gs=function(w){s.yZ(w);this.BS();var n=w.dataTransfer.getData("Text"),H=this.parent.z3,y=kb.G3(w,this.sM),c=this.sD.index;
if(y>.8){var Q=!0,q=H.root.wO(c);while(q.parent!=null){var S=q.parent,A=S.children;if(A.indexOf(q)!=0)Q=!1;
q=q.parent}if(Q){c=0;y=1}}if(n==""){s.Su(w,this,this.parent.Lh.indexOf(H),c+(y>.5?0:1))}else if(n!="--panel"){var n=JSON.parse(n),V=n.Ph;
if(V=="l")this.Bt({d:a.gq,source:n.GJ,target:c,IG:y});else if(V=="m"||V=="vm")this.Bt({d:V=="m"?a.a1S:a.Ng,src:n.GJ,VE:c});
else kb.am9(w,n,this)}};kb.am9=function(w,n,H,y){var c=n.Ph,Q=H.sD.index,q=n.GJ;if(c=="s"||c=="sm")H.Bt({d:a.S7,src:q,VE:Q,bg:n.bg});
if(c=="f"||c=="fm")H.Bt({d:a.a8c,src:q,VE:Q,bg:n.bg,Zj:y==null?0:y})};kb.prototype.M4=function(w){s.yZ(w);
var n=kb.G3(w,this.sM),H=this.sD.j.Ok()&&.5<n&&n<.8;this.BS();var y="inset 0 "+(H?0:n>.5?-3:3)+"px "+(H?"5px black":"0 rgba(0,0,0,0.5)");
this.sM.style.boxShadow=y};kb.prototype.BS=function(w){this.sM.style.boxShadow=""};kb.azY=-1;kb.kO=!1;
kb.ap$=function(w){kb.kO=!1;document.body.removeEventListener("mouseup",kb.ap$)};kb.prototype.anZ=function(w){if(w.button!=0)return;
if(w.type=="mousedown"){kb.kO=!0;document.body.addEventListener("mouseup",kb.ap$,!1)}if(w.type=="mouseover"&&(!kb.kO||kb.azY==this.sD.index))return;
s.yZ(w);this.Bt({d:a.Rw,j:this.sD.index});kb.azY=this.sD.index};kb.prototype.awA=function(w){s.yZ(w);
this.Bt({d:a.ayy,j:this.sD.index})};kb.prototype.a3j=function(w){this.Bt({d:a.sz,j:this.sD.index})};
kb.prototype.a6D=function(w){this.Bt({d:a.Vf,j:this.sD.index})};kb.eF=0;kb.prototype.R$=function(w){this.Bt({d:a.$w,j:this.sD.index,name:w})};
kb.prototype.afA=function(w){this.Bt({d:a.asY,j:this.sD.index})};kb.prototype.aa7=function(w){this.Bt({d:a.TZ,j:this.sD.index})};
kb.prototype.a2K=function(w){if(w.button!=2&&!s.ae$(w))return;var n=this.Ks(w);if(n!=3&&w.currentTarget==this.a0S)n=4;
if(w.target==this.axN||w.currentTarget==this.ag1)n=5;var H=new aL("rclick",!0);H.data={j:this.sD.index,Ks:n,gG:s.E4(w,document.body)};
this.S(H)};kb.prototype.Ks=function(w){var n=w.target,H=n;return H==this.c9?2:H==this.E8?1:H==this.y4?0:H==this.lP?3:-1};
kb.prototype.ahr=function(w){var n=w.target,b;if(n==this.V$.firstChild||n==this.kb||n==this.RF||n==this.E_||n.tagName&&n.tagName.toLowerCase()=="input")return;
var H=this.Ks(w),y=this.parent.z3,c=this.sD.index,Q=y.B[c];if(n==this.Lu){this.Bt({d:a.Cz,j:c,z2:[[!1,!1,!1,!1,!1],[0,1,2,3,31]]});
return}var q=kb.eF,S=Date.now()-q<300;kb.eF=Date.now();if(n==this.l2){if(S){this.sM.setAttribute("draggable","false");
var A=new eV.wF(this.l2,this.R$.bind(this))}else this.Bt({d:a.$C,j:c,uk:H,PB:!0});return}if(w.button==0&&S){if(n==this.l2)return;
var V=new aL(M.E.v,!0),e=new aL(M.E.L,!0),d=new aL(M.E.dp,!0);if(H==0&&Q.add.SoCo){var N=O.M.cH(Q.add.SoCo.Clr.v);
e.data={d:M.c.rL,Ln:"colorpicker",qA:N.b<<16|N.J<<8|N.k,Ro:function(T){var Y=O.M.Yw({k:T&255,J:T>>>8&255,b:T>>16&255});
Y={classID:"null",Clr:{t:"Objc",v:Y}};var g=new aL(M.E.v,!0);g.G=P.YV;g.data={d:a.pk,uy:[c],OO:!0,Z:{SU:1,WL:Y}};
this.S(g)}.bind(this),ZL:!0}}else if(H==0&&(fb.get(Q.add)||Q.add.SoCo||Q.add.GdFl||Q.add.PtFl))e.data={d:M.c.Fp,Ln:eV.AG.Y6};
else if(H!=0&&H!=-1)e.data={d:M.c.Fp,Ln:eV.AG.Y6};else if(H==0&&Q.add.SoLd)d.data={fd:"placedLayerEditContents",ei:{classID:"placedLayerEditContents"}};
else if(H==0&&Q.add.TySh){V.G=P.nr;V.data={d:"editCurr",Nf:c}}else e.data={d:M.c.rL,Ln:"layerstyle",j:c};
this.S(d.data?d:e.data?e:V);return}if(w.button!=0)return;if(H==1||H==3){var z=H==3?Q.iS(y).z:Q.LZ();
b=z.SC?y.u.vE.join("")=="111"?1:2:0}var v={d:a.$C,j:c,uk:H,a52:b,PB:!0};this.Bt(v)};kb.prototype.Bt=function(w){var n=new aL(M.E.v,!0);
n.data=w;n.G=P.YV;this.S(n)};kb.prototype.aep=function(){var w=this.sD.j,n=w.add,H=this.parent.Cq.o(),y=this.parent.HA[H].o();
if(H==0){if(y[0]&&n.SoLd==null&&n.TySh==null&&w.QG())return!0;if(y[1]&&fb.get(n)!=null)return!0;if(y[2]&&n.TySh!=null)return!0;
if(y[3]&&n.vstk!=null)return!0;if(y[4]&&n.SoLd!=null)return!0;return!1}if(H==1)return w.getName().toLowerCase().indexOf(y.toLowerCase())!=-1};
fW.YP=function(w,n,H,y,c,Q,q){bU.call(this);this.at$=n;this.VI=H;this.index=Q;this.n=s.t("div","styleitem");
this.sM=s.t("div","head");this.a8t=null;if(n=="f"){var S=this.a8t=s.t("div","headR");S.textContent="\u2699";
this.sM.appendChild(S)}this.V$=s.t("div","eye gsicon");this.l2=s.t("div","label");this.n.appendChild(this.sM);
this.sM.appendChild(this.V$);if(q){this.E8=q;this.sM.appendChild(q);this.sM.setAttribute("style","height: "+(26/s.V()+10)+"px")}this.l2.innerHTML=w;
this.n.setAttribute("style","margin-left: "+(24+y*16+c*22)+"px");this.sM.appendChild(this.l2);this.V$.addEventListener("click",this.a3n.bind(this),!1);
var A=this.n;A.setAttribute("draggable","true");A.addEventListener("dragstart",this._C.bind(this),!1);
if(!0){A.addEventListener("drop",this.Gs.bind(this),!1);A.addEventListener("dragover",this.M4.bind(this),!1);
A.addEventListener("dragenter",s.yZ,!1);A.addEventListener("dragleave",this._B.bind(this),!1)}this.n.addEventListener("click",this.sh.bind(this),!1)};
fW.YP.prototype=new bU;fW.YP.prototype._C=function(w){w.stopPropagation();w.dataTransfer.setData("Text",JSON.stringify({Ph:this.at$,GJ:this.parent.sD.index,bg:this.index}))};
fW.YP.prototype._B=function(w){s.yZ(w);this.BS()};fW.YP.prototype.Gs=function(w){s.yZ(w);this.BS();var n=w.dataTransfer.getData("Text");
if(n=="")return;var n=JSON.parse(n);kb.am9(w,n,this.parent,this.index+(kb.G3(w,this.sM)>.5?0:1))};fW.YP.prototype.M4=function(w){s.yZ(w);
var n=kb.G3(w,this.sM)>.5;this.BS();var H="border-"+(n?"bottom":"top");this.sM.style[H]="0.2em solid rgba(0,0,0,0.5)"};
fW.YP.prototype.BS=function(w){this.sM.style.border="none"};fW.YP.prototype.WH=function(w){this.V$.style.opacity=w?1:.2};
fW.YP.prototype.sh=function(w){var n=kb.eF,H=Date.now()-n<300;kb.eF=Date.now();if(w.target==this.V$)return;
var y=this.parent.sD.index;if(H&&this.VI!=null){var y=this.parent.sD.index,c=new aL(M.E.L,!0);if(this.VI.indexOf("afw_")==0){var Q=this.VI.slice(4),q=kj[Q]||gT.a[Q],S=w.target==this.a8t;
if(!S&&!q)return;c.data=P.eD.axY(S?"blendOptions":Q,{j:y,index:this.index})}else c.data={d:M.c.rL,Ln:this.VI,j:y,index:this.index};
this.S(c)}else{if(w.target.className!="thumb")this.parent.Bt({d:a.$C,j:y,uk:0})}};fW.YP.prototype.a3n=function(w){var n={fm:a.SZ,f:a.va,sm:a.cQ,s:a.Fh}[this.at$];
this.parent.Bt({d:n,j:this.parent.sD.index,index:this.index})};function ey(){eV.call(this,"Guide Guy",!1,"---panels/guideguy",eV.AG.akZ);
this.mT=null;this.IW=new dw(null,O.xr.RH)}ey.prototype=new eV("");ey.prototype.aa=function(){this.U3=[];
var w=s.t("div","form padded");this.vN.appendChild(w);w.setAttribute("style","width:200px");this.vN.appendChild(w);
var n=s.t("canvas"),H=n.getContext("2d");n.width=n.height=160;var y=[32,0,16,160,0,32,160,16,0,112,160,16],c="Margin Left,Margin Top,Margin Right,Margin Bottom,Column Count,Row Count,Column Width,Row Height,Column Gap,Row Gap".split(","),Q=[0,0,0,0,0,0,0,0,0,0];
w.appendChild(this.IW.n);for(var l=0;l<10;l++){H.clearRect(0,0,160,160);H.setTransform(1,0,0,1,80,80);
H.rotate((l&3)*Math.PI/2);H.translate(-80,-80);H.fillStyle="rgba(0,0,0,0.3)";if(l<4){for(var q=0;q<12;
q+=4){H.fillStyle=q==0?"#000000":"rgba(0,0,0,0.3)";H.fillRect(y[q],y[q+1],y[q+2],y[q+3])}}else if(l<6){var S=8*6;
H.fillRect(0,0,S,160);H.fillRect(8*7,0,S,160);H.fillStyle="#000000";H.fillRect(8*14,0,S,160)}else if(l<8){H.fillRect(0,0,16,160);
H.fillRect(160-16,0,16,160);H.fillRect(32,0,160-64,160);H.fillStyle="#000000";H.fillRect(32,80-8,160-64,8*1)}else{H.fillRect(0,0,8*7,160);
H.fillRect(8*13,0,160,160);H.fillStyle="#000000";H.fillRect(8*7,80-8,8*6,8*1)}var A="<img src=\""+n.toDataURL()+"\" class=\"autoscale gsicon\" /> ",V=new kc(A,0,200,null,l==4||l==5?0:2,null,null,4,c[l]);
V.parent=this;V.h(M.E.A,this.aoX,this);V.$(Q[l]);V.f();this.U3.push(V);w.appendChild(V.n)}var e=[[11,14],[11,15,0]];
this.Zp=[];for(var l=0;l<e.length;l++){var d=new eO(e[l],!0,null,!0);this.Zp.push(d);d.h("click",this.vH,this);
w.appendChild(d.n)}for(var l=0;l<6;l++){H.setTransform(1,0,0,1,80,80);H.rotate(Math.floor(l/3)*Math.PI/2);
H.translate(-80,-80);H.clearRect(0,0,160,160);H.fillStyle="rgba(0,0,0,0.3)";H.fillRect(0,0,160,160);
H.clearRect(16,16,128,128);H.fillStyle="#000000";var N=l%3;H.fillRect([0,9,18][N]*8,0,16,160);var A="<img src=\""+n.toDataURL()+"\" class=\"autoscale gsicon\" /> ",d=new eO(A,!1,null,!1);
this.Zp.push(d);d.h("click",this.vH,this);w.appendChild(d.n)}};ey.prototype.f=function(){eV.prototype.f.call(this);
this.IW.f();if(this.U3==null)return;for(var l=0;l<this.Zp.length;l++)this.Zp[l].f()};ey.prototype.aoX=function(w){var n=this.U3,H=n.indexOf(w.target),y=Math.floor(H/2),c=H&1,Q=[];
for(var l=0;l<4;l++)Q.push(n[2*l+c].o());var q=-1;if(y==2&&Q[2]!=0&&Q[3]!=0&&Q[4]!=0)q=4;if(y==3&&Q[3]!=0&&Q[2]!=0&&Q[4]!=0)q=4;
if(y==4&&Q[4]!=0&&Q[2]!=0&&Q[3]!=0)q=3;if(q!=-1)n[2*q+c].$(0)};ey.prototype.vH=function(w){var n=this.mT,H=this.Zp.indexOf(w.target),y=[[],[]];
if(n==null)return;var c=n.P?n.P.rect:new cr(0,0,n.m,n.e),Q=c.m,q=c.e;if(H==0){var S=[[],[]],A=this.IW.o();
for(var l=0;l<this.U3.length;l++){var V=this.U3[l].o();V=O.xr._Z(V,n.uP,n.m,A);S[l&1].push(V)}var e=[ey.a1C(S[0],c.x,c.x+Q),ey.a1C(S[1],c.y,c.y+q)];
y=ey.s7(e);P.xz.Pw(y,n._P())}else if(H==1){}else{H-=2;var d=Math.floor(H/3),e=[[],[]];e[d].push([c.x,c.x+Q/2,c.x+Q,c.y,c.y+q/2,c.y+q][H]);
y=ey.s7(e);P.xz.Pw(y,n._P())}this.al$(y)};ey.s7=function(w){var n=[],H=[];for(var y=0;y<2;y++)for(var l=0;
l<w[y].length;l++){n.push([y,w[y][l]]);H.push(-1)}return[n,H]};ey.prototype.ap0=function(w){var n=this.axB.indexOf(w.target)};
ey.prototype.al$=function(w){var n=new aL(M.E.v,!0);n.G=P.DX;n.data={d:"gids",wC:w};this.S(n)};ey.a1C=function(w,n,H){var y=[],c=w[2],Q=w[3],q=w[4],S=0;
if(c==0)S++;if(Q==0)S++;if(q==0)S++;if(S>1&&c==0&&Q==0){if(w[0]!=0)y.push(n+w[0]);if(w[1]!=0)y.push(H-w[1]);
return y}var A=H-n-w[0]-w[1];if(c==0){if(q==0){c=Math.floor(A/Q);q=(A-c*Q)/(c-1)}else{c=1;while(Q*c+q*(c-1)+Q+q<=A)c++}}else if(c!=0&&Q!=0){if(c*Q>A)c=Math.floor(A/Q);
q=(A-c*Q)/(c-1)}y.push(n+w[0],H-w[1]);var Q=(A-q*(c-1))/c;for(var l=1;l<c;l++){if(q==0)y.push(n+w[0]+l*Q);
else y.push(n+w[0]+l*Q+(l-1)*q,n+w[0]+l*Q+l*q)}return y};ey.prototype.nQ=function(w,n,H){this.mT=w};
ey.prototype.Tf=function(){if(s._Q(this.vN)&&this.U3==null)this.aa();this.f()};ey.prototype.AB=function(w){this.IW.$(w.al.GZ)};
function ab(){eV.call(this,[9,2],!1,"---panels/properties",eV.AG.Y6);this.afe=null;this.mC=null;this.Uz=null;
this.arl=-1;this.dU=null}ab.prototype=new eV("");ab.prototype.kc=function(w,n){this.pV=w;this.WZ=n;w=w-16;
n=n-12;var H=this.dU;if(H){H.style.width=w+"px";H.style.height=n+"px";for(var l=0;l<3;l++)this.J4[l].kc(w-12,n)}};
ab.prototype.aa=function(){this.dU=s.t("div","padded scrollable");this.vN.appendChild(this.dU);var w=s.t("span");
this.dU.appendChild(w);this.oT=[new eO([0,3]),new eO([12,73]),new eO([12,91,0])];for(var l=0;l<this.oT.length;
l++){var n=this.oT[l];n.h("click",this.at5,this);w.appendChild(n.n);if(l==2)n.n.style.marginRight="0"}this.dU.appendChild(s.t("hr"));
this.MB=new ab.U9;this.MB.parent=this;this.GQ=new ab.Al;this.GQ.parent=this;this.Nz=new ab.Rs;this.Nz.parent=this;
this.J4=[this.MB,this.GQ,this.Nz];this.dU.appendChild(this.MB.n);this.kc(this.pV,this.WZ)};ab.prototype.at5=function(w){var l=this.oT.indexOf(w.currentTarget);
this.qr(l);this.apK(l==1?this.GQ.HT:-1)};ab.prototype.qr=function(w){for(var l=0;l<3;l++){this.oT[l].k3();
var n=this.J4[l].n;if(n.parentNode==this.dU&&l!=w)this.dU.removeChild(n);if(n.parentNode!=this.dU&&l==w)this.dU.appendChild(n)}this.oT[w].QM()};
ab.prototype.apK=function(w){var n=this.mC.g[0],H=this.mC.B[n],y=w+1;if(w==1&&H.gK)return;var c=new aL(M.E.v,!0);
c.G=P.YV;if(w!=1&&H.gK){c.data={d:a.$C,j:n,uk:2};this.S(c)}c.data={d:a.$C,j:n,uk:y};this.S(c)};ab.prototype.f=function(){eV.prototype.f.call(this);
if(this.dU==null)return;this.nQ(this.mC);for(var l=0;l<3;l++){this.oT[l].f();this.J4[l].f()}};ab.prototype.Tf=function(){if(!s._Q(this.vN))return;
if(this.dU==null){this.aa();this.AB(this.Uz,h6.z8);this.nQ(this.afe);this.f()}};ab.prototype.nQ=function(w){this.afe=w;
if(this.dU==null)return;this.MB.nQ(w);this.GQ.nQ(w);this.Nz.nQ(w);if(w==null||w.g.length==0||w.B[w.g[0]]==null){s.li(this.vN,"disabled");
this.mC=null;return}else s.n_(this.vN,"disabled");var n=w.g[0],H=w.B[n],y=w._e(),c=y[0],Q=y[1];if(Q.length!=0){var q=c[Q[0]],S=q.add.vogk,A=!1;
if(S)for(var l=0;l<S.length;l++){var V=S[l].v;if(!O.X.qw(V))continue;A=!0;n=q.cm}}n+=","+A;if(w!=this.mC||this.arl!=n){this.mC=w;
this.arl=n;if(A)this.qr(2);else if(H.Ks<1&&!H.gK||fb.get(H.add))this.qr(0);else this.qr(1)}this.oT[1].rD(this.GQ.HT!=-1);
this.oT[2].rD(A)};ab.prototype.AB=function(w,n){this.Uz=w;if(this.MB)this.MB.AB(w,n);if(this.Nz)this.Nz.AB(w,n)};
ab.U9=function(){bU.call(this);this.n=s.t("div","form");this.aks=new iD("Hello");this.zG=new eO([1,12,2],null,null,!0);
this.zG.n.style.agb="right";this.zG.h("click",this.c_,this);this.n.appendChild(this.aks.n);this.n.appendChild(this.zG.n);
this.ec=null;this.QA=null;this.mC=null;this.Uz=null;this.ajw=-1;this.amC=null;this.JC=null;this.YZ=new g5(0,!0,!0);
this.YZ.parent=this;this.YZ.h(M.E.A,this.al0,this);this.n.appendChild(this.YZ.n);this.kn=new hF(!0);
this.kn.parent=this;this.kn.h(M.E.A,this.awk,this);this.x0=s.t("div","marged hiline");this.x0.appendChild(this.kn.n);
this.lV=new d3("GrFl",!0);this.lV.parent=this;this.lV.h(M.E.A,this.arV,this);this.mp=s.t("div","marged hiline");
var w="Grad Rvrs Type Algn Angl Dthr Scl Ofst".split(" ");for(var l=0;l<w.length;l++){var n=this.lV.CM[w[l]].n;
this.mp.appendChild(n)}this.Uf=new d3("patternFill",!0);this.Uf.parent=this;this.Uf.h(M.E.A,this.anw,this);
this.jr=s.t("div","marged hiline");var w=["Ptrn","Angl","Scl","Algn","phase"];for(var l=0;l<w.length;
l++){var n=this.Uf.CM[w[l]].n;this.jr.appendChild(n)}this.Bm={};for(var H in fb.names){if(kj[H]==null)continue;
this.Bm[H]=new kj[H];this.Bm[H].h(M.E.A,this.aat,this);this.Bm[H].parent=this}var y=this.a2s=s.t("div","marged hiline");
this.jC=new g5(0,!0);y.appendChild(this.jC.n);this.jC.h(M.E.A,this.kD,this);this.amZ=null;this.L9=new k9;
this.L9.parent=this;this.L9.h(M.E.A,this.kD,this);y.appendChild(this.L9.n)};ab.U9.prototype=new bU;ab.U9.prototype.al0=function(w){var n=this.YZ.o(),H=this.JC,y=new cr(n[0],n[1],n[2],n[3]);
if(y.Hw(H))return;this.JC=y;var c=new aL(M.E.v,!0);if(H.m==y.m&&H.e==y.e){c.G=P.DX;c.data={d:"trsl",aH:y.x-H.x,z$:y.y-H.y}}else{c.G=P.xM;
c.data={d:"scl",hG:[2,4],Z:new ce(y.m/H.m,y.e/H.e),An:0}}this.S(c)};ab.U9.prototype.kc=function(w,n){var H=this.Bm;
for(var y in H)H[y].kc(w,n)};ab.U9.prototype.c_=function(w){var n=this.mC,H=n.B[n.g[0]],y=fb.get(H.add);
this.QA.$(gT.B1(y));this.aat()};ab.U9.prototype.f=function(){for(var w in this.Bm)this.Bm[w].f();this.lV.f();
this.Uf.f();this.L9.f();this.jC.f();this.zG.f();this.YZ.f()};ab.U9.prototype.kD=function(w){var n=new aL(M.E.v,!0),H=this.jC.o(),y=this.amZ;
if(w.target==this.jC&&H[2]==y[2]&&H[3]==y[3]){n.G=P.DX;n.data={d:"trsl",aH:H[0]-y[0],z$:H[1]-y[1]}}else{var c=a.hW(new cr(H[0],H[1],H[2],H[3])),Q=this.L9.a9m();
Q.artboardRect={t:"Objc",v:c};n.G=P.YV;n.data={d:a.oO,_r:Q}}this.S(n)};ab.U9.prototype.awk=function(w){var n=this.mC,H=n.g[0];
if(n.B[H].add.SoCo==null)return;var y=JSON.parse(JSON.stringify(n.B[H].add.SoCo));y.Clr.v=this.kn.o();
this.z_({SU:1,WL:y})};ab.U9.prototype.arV=function(w){var n=this.mC,H=n.g[0];if(n.B[H].add.GdFl==null)return;
this.z_({SU:2,WL:this.lV.o()})};ab.U9.prototype.anw=function(w){this.z_({SU:3,WL:this.Uf.o()})};ab.U9.prototype.z_=function(w){this.aos(P.YV,{d:a.pk,uy:[this.mC.g[0]],OO:!0,Z:w})};
ab.U9.prototype.aat=function(w){this.aos(P.bf,{d:"edit_layer",Z:this.QA.o()})};ab.U9.prototype.aos=function(w,n){var H=new aL(M.E.v,!0);
H.G=w;H.data=n;this.S(H)};ab.U9.prototype.nQ=function(w,n){var H=hV.get([0,3]),y=!1,c=!1,Q=null;this.mC=w;
if(w&&w.B.length>0&&w.g.length!=0&&w.B[w.g[0]]){var q=w.B[w.g[0]],S=fb.get(q.add);if(S!=null&&this.Bm[S]!=null){Q=this.Bm[S].n;
this.QA=this.Bm[S];this.Bm[S].$(JSON.parse(JSON.stringify(q.add[S])));if(w.g[0]!=this.ajw){var A=w.E$(w.g[0]-1);
this.amC=O.ao(A)}this.Bm[S].cZ(this.amC);H=hV.get(fb.names[S]);y=!0}if(S==null&&q.add.artb==null){var V=this.JC=O.p.sb(P.WJ.fH(w));
c=!V._G();this.YZ.$([V.x,V.y,V.m,V.e],[w.uP,w.m,this.Uz.al.GZ])}if(q.add.SoCo){Q=this.x0;this.kn.$(q.add.SoCo.Clr.v);
H=hV.get([6,48,0,0])}if(q.add.GdFl){Q=this.mp;this.lV.update(w,q.add.GdFl);H=hV.get([6,48,0,1])}if(q.add.PtFl){Q=this.jr;
this.Uf.update(w,q.add.PtFl);H=hV.get([6,48,0,2])}if(q.add.artb){var e=q.add.artb,d=q.oC();Q=this.a2s;
this.L9.aio(e);var N=this.amZ=[d.x,d.y,d.m,d.e];this.jC.$(N,[w.uP,w.m,this.Uz.al.GZ]);H=hV.get([1,16,0])}this.ajw=w.g[0]}if(Q!=this.ec){if(this.ec)this.n.removeChild(this.ec);
if(Q!=null)this.n.appendChild(Q);this.ec=Q}this.aks.$(H);this.zG.n.style.display=y?"":"none";this.YZ.n.style.display=c?"":"none"};
ab.U9.prototype.AB=function(w,n){this.Uz=w;this.lV.AB(w,n);this.Uf.AB(w,n);if(n==h6.zz)this.nQ(this.mC,w);
for(var H in this.Bm)this.Bm[H].AB(w,n)};ab.Al=function(){bU.call(this);this.n=s.t("div","form");this.mC=null;
this.HT=0;var w=s.t("span","fitem");this.n.appendChild(w);this.oT=[new eO([6,2]),new eO([6,3]),new eO([6,50])];
for(var l=0;l<this.oT.length;l++){var n=this.oT[l];n.h("click",this.a28,this);w.appendChild(n.n)}this.g7=new b9([12,74],0,255);
this.g7.h(M.E.A,this.x1,this);this.n.appendChild(this.g7.n);this.rF=new b9([7,6],0,500,"px",2,!0);this.rF.h(M.E.A,this.x1,this);
this.n.appendChild(this.rF.n);this.Hd=new eO([4,11],null,null,!0);this.Hd.h("click",this.apu,this)};
ab.Al.prototype=new bU;ab.Al.prototype.apu=function(){var w=new aL(M.E.v,!0);w.G=P.bf;w.data={d:"start",k0:"nvrt"};
this.S(w)};ab.Al.prototype.x1=function(w){var n=this.g7.o(),H=this.rF.o(),y=new aL(M.E.v,!0);y.G=P.YV;
y.data={d:a.Q$,_Y:this.mC.g[0],xa:{mU:this.HT,g7:n,rF:H}};this.S(y)};ab.Al.prototype.f=function(){for(var l=0;
l<this.oT.length;l++)this.oT[l].f();this.g7.f();this.rF.f();this.Hd.f()};ab.Al.prototype.nQ=function(w){this.mC=w;
this.Zw()};ab.Al.prototype.a28=function(w){this.Zw(this.oT.indexOf(w.currentTarget));this.parent.apK(this.HT)};
ab.Al.prototype.Zw=function(w){var n=this.mC,H=this.oT;for(var l=0;l<3;l++){var y=H[l];y.k3();y.j7()}if(n==null||n.B.length==0||n.g.length==0||n.B[n.g[0]]==null)return;
var c=-1,Q=n.B[n.g[0]];if(Q.RL()&&Q.iS(n).z!=null){H[2].ZF();c=2}if(Q.add.vmsk){H[1].ZF();c=1}if(Q.LZ()){H[0].ZF();
c=0}if(w!=null)c=w;else if(Q.gK)c=1;else if(Q.Ks==3)c=2;else if(Q.Ks==1)c=0;this.HT=c;if(c==-1){this.g7.j7();
this.rF.j7();return}var q=Q.rP(c);this.g7.ZF();this.rF.ZF();this.g7.$(q.g7);this.rF.$(q.rF);H[c].QM();
var S=this.Hd.n;if(c==0)this.n.appendChild(S);else if(S.parentNode==this.n)this.n.removeChild(S)};ab.Rs=function(){bU.call(this);
this.n=s.t("div","form");this.mT=null;this.Uz=null;this.Yn=-1;this.YZ=new g5(0,!1);this.Ar=new b9([12,15],-180,180,"\xB0",2);
this.ZT=new g5(1,!0);this.G1=new b9([12,94,0],0,100,null,2);this.eY=new b9([12,78],3,30);this.O8=new eO(["\u279C  ",[12,76,0]],null,null,!0);
this.YZ.h(M.E.A,this.bS,this);this.Ar.h(M.E.A,this.bS,this);this.ZT.h(M.E.A,this.bS,this);this.G1.h(M.E.A,this.bS,this);
this.eY.h(M.E.A,this.bS,this);this.O8.h("click",this.bS,this)};ab.Rs.prototype=new bU;ab.Rs.prototype.f=function(){this.YZ.f();
this.Ar.f();this.ZT.f();this.G1.f();this.eY.f()};ab.Rs.prototype.bS=function(w){var n=this.mT,H=O.X.gU(n),y=w.target.o(),c=[this.YZ,this.Ar,this.ZT,this.G1,this.eY,this.O8].indexOf(w.target);
if(c==0){var Q=[];Q[0]=y[0];Q[1]=y[1];Q[2]=Q[0]+y[2];Q[3]=Q[1]+y[3];y=Q}if(c==1)y=y*Math.PI/180;var q={0:1,1:2,2:3,3:3,4:4}[c];
H[q]=y;var S=new aL(M.E.v,!0);S.G=P.YV;S.data={d:a.M_,Z:H,agm:c==5};this.S(S)};ab.Rs.prototype.nQ=function(w){var n=this.n;
this.mT=w;if(w==null)return;var H=this.Uz,y=[w.uP,w.m,H.al.GZ],c=O.X.gU(w),Q=c[0],q=c[1];if(q==null)return;
var S=Q!=this.Yn;this.Yn=Q;if(S)s.Of(n);if(S)n.appendChild(this.YZ.n);if(S)n.appendChild(this.Ar.n);
this.YZ.$([q[0],q[1],q[2]-q[0],q[3]-q[1]],y);this.Ar.$(c[2]*180/Math.PI);if(Q==2){if(S)n.appendChild(this.ZT.n);
var A=c[3];this.ZT.$(A,y)}if(Q==7||Q==8){if(S)n.appendChild(this.G1.n);this.G1.$(c[3])}if(Q==8){if(S)n.appendChild(this.eY.n);
this.eY.$(c[4])}n.appendChild(this.O8.n)};ab.Rs.prototype.AB=function(w,n){this.Uz=w;this.nQ(this.mT)};
function dd(w){eV.call(this,w.name,!0);this.z3=w;this.KM=null;this.iy=new jg(this.vN);this.iy.parent=this}dd.prototype=new eV;
dd.MJ=function(){var w=document.createElement("canvas"),n=document.createElement("canvas"),H=16,y=O.R(16*16*4);
O.DE(y,H,H,8);var c=O.scale.yr(y,H,H);return{YN:w,T9:n,GN:w.getContext("2d"),w$:n.getContext("2d"),Rz:c}}();
dd.prototype.amb=function(){if(this.z3.QS())return window.confirm(hV.get([22,6,3])+" "+this.z3.name+". "+hV.get([22,6,4]));
return!0};dd.prototype.AB=function(w,n){this.KM=w};dd.prototype.nQ=function(w){this.Tf();this.k9()};
dd.prototype.kc=function(w,n){if(w<=0||n<=0)return;this.pV=w;this.WZ=n;var H=this.z3,y=dd.MJ,c=s.V();
H.u.GN.m=Math.floor(w*c);H.u.GN.e=Math.floor(n*c);s.pD(y.YN,w,n);s.pD(y.T9,w,n);s.pD(dy.Ke(),w,n);if(H.u.N==0)H.u.N=P.kL.amX(H.m,H.e,w*c,n*c);
this.k9()};dd.prototype.Tf=function(){var w=this.vN.firstChild,n=dd.MJ,H=dy._k&&this.z3.add.fvec==null;
if(!H&&w==dy.Ke()||H&&w==n.YN)this.vN.removeChild(w);var y=H?dy.Ke():n.YN;if(!s._Q(y))this.vN.appendChild(y)};
dd.prototype.k9=function(){if(this.KM==null)return;var w=this.z3,n=dy._k&&this.z3.add.fvec==null;if(n)this.a5V();
else this.o5()};dd.prototype.a5V=function(){if(dy._k&&dd.hg==null){var w=dd.hg=[],n=[0,2,8,32,128];for(var l=0;
l<5;l++)w[l]=[new dd.vs(!1,n[l],!1),new dd.vs(!0,n[l],!1)];w.push([new dd.vs(!1,0,!0),new dd.vs(!0,0,!0)])}var H=this.z3,y=dd.MJ,d,z=0,E,G;
if(H.eC==null)return;var c=H.u,Q=c.GN.m,q=c.GN.e,S=dy.NK;y.GN.clearRect(0,0,Q,q);var A=this.anD(H);if(c.Ly==null||c.Ly.m!=Q||c.Ly.e!=q)c.Ly=new dy.$Z(Q,q);
if(A){var V=new Uint8Array(y.GN.getImageData(0,0,Q,q).data.buffer);c.Ly.set(V)}else{dy.O0(c.Ly);dy.R6(1)}var e=c.Cc(0,0);
if(dd.aeN==null)dd.aeN=new Float32Array(4*1024);var N=[0,0,0,0],b=dd.aeN;if(H.add.artd){b.fill(0);N=dd.bA(H);
var v=H.m,T=H.e,h=0;for(var l=0;l<H.B.length;l++){var Y=H.B[l],g=Y.add.artb;if(g==null||!Y.tl())continue;
var R=Y.oC();b[z]=R.x/v;b[z+1]=R.y/T;b[z+2]=R.m/v;b[z+3]=R.e/T;z+=4;if(z==b.length)break}if(z>2*4)h++;
if(z>8*4)h++;if(z>32*4)h++;d=dd.hg[h+1];b=new Float32Array(b.buffer,0,[2,8,32,128][h]*4)}else d=dd.hg[H.VQ?5:0];
var k=H.r0();if(k==null)d=d[0];else{d=d[1];G=k[H.add.fcmy==1?6:4];E=k[2]}dy.jq(Q,q);dy.R6(0);dy.jq(Q,q);
d.CX();var $=new b7;$.scale(Q,q);$.concat(c.ZP(!0));$.scale(1/H.m,1/H.e);var p=[$.iL,$.k,0,$.Mg,$.Du,0,$.qH,$.fp,1];
d.LG(c.Ly.iX,H.eC.iX,new Float32Array(p),new Float32Array([Q/8,q/8,e.x/Q,e.y/q]),H.m,H.e,1/H.u.N,Q,q,new Float32Array(N),b,new Float32Array(O.Rc.wf(O.Rc.Pl(c.vE))),G,E);
S.drawArrays(S.TRIANGLES,0,6)};dd.bA=function(w){return[0,0,0,0]};dd.a8m=function(w){var n=O.M.cH(w.v),H=[n.b/255,n.J/255,n.k/255,1];
for(var l=0;l<4;l++)H[l]=Math.min(1,H[l]);return H};dd.Qn=function(w,n){var H=w[2]*255;if(dy._k)H=n?0:Math.max(2,H);
return"rgba("+w[0]*255+","+w[1]*255+","+H+","+w[3]+")"};dd.$j=function(w){var n=w.length;if(dy._k)for(var l=0;
l<n;l+=4){if(w[l+2]==0)w[l+2]=3}};dd.prototype.o5=function(){var w=this.z3,n=dd.MJ;if(w.buffer==null)return;
var H=w.u,y=H.GN,c=y.m,Q=y.e,q=new cr(0,0,w.m,w.e);n.w$.clearRect(0,0,c,Q);n.GN.clearRect(0,0,c,Q);var S=H.ZP(!0),A=S.clone();
A.G$();if(w.add.artd==null){n.GN.save();var V=A.rY(new ce(0,0));A.translate(-V.x,-V.y);n.GN.translate(Math.round(V.x),Math.round(V.y));
n.GN.fillStyle=n.Rz;if(w.VQ)n.GN.fillRect(-5e3,-5e3,2e4,2e4);else{this.Bh(O.p.u3(q),A,n.GN);n.GN.fill()}n.GN.restore()}else{n.GN.fillStyle=dd.Qn(dd.bA(w));
n.GN.fillRect(0,0,c,Q);n.GN.save();n.GN.setTransform(A.iL,A.k,A.Mg,A.Du,A.qH,A.fp);var e=w.root.children;
for(var l=0;l<e.length;l++){var d=e[l].j;if(d.add.artb==null||!d.tl())continue;var N=d.oC(),b=d.Wp();
if(b!=0)continue;n.GN.fillStyle=n.Rz;n.GN.save();n.GN.scale(1/H.N,1/H.N);n.GN.fillRect(H.N*N.x,H.N*N.y,N.m*H.N,N.e*H.N);
n.GN.restore()}n.GN.restore()}if(H.HL.length!=y.O()){H.HL=O.R(y.O());H.d9=O.R(y.O()*4)}H.d9.fill(0);
if(w.add.fvec){var A=H.ZP(!0);A.G$();n.GN.save();var z=O.p.u3(H.GN);O.p.D(z.w,H.ZP(!0),z.w);var v=O.p.w1(z.w);
n.GN.setTransform(A.iL,A.k,A.Mg,A.Du,A.qH,A.fp);this.Bh(O.p.u3(new cr(0,0,w.m,w.e)),null,n.GN);n.GN.clip();
w.root.ak5(w,n.GN,this.KM,v);n.GN.restore()}else{O.scale.c8(w.buffer,q,S,H.d9,y,w.VQ);var T=w.r0();if(T)ICC.U.applyLUT(T[w.add.fcmy==1?5:3],T[2],H.d9,H.d9);
if(H.vE[0]+H.vE[1]+H.vE[2]!=3)O.Rc.cA(H.d9,H.d9,O.Rc.Pl(H.vE));n.w$.putImageData(new ImageData(new Uint8ClampedArray(H.d9.buffer),y.m,y.e),0,0);
n.GN.drawImage(n.T9,0,0);n.GN.getImageData(0,0,1,1)}this.anD(w)};dd.prototype.anD=function(w){var n=w.u,H=n.vE[0]+n.vE[1]+n.vE[2],y=dd.MJ,c=!1,Q=[];
for(var l=0;l<w.g.length;l++){var q=w.B[w.g[l]];if(q==null)continue;var S=q.Ks;if(S!=1&&S!=3)continue;
var A=S==1?q.LZ():q.iS(w).z;if(A.SC)Q.push(A)}for(var l=0;l<w.d4.length;l++)if(w.d4[l].SC)Q.push(w.d4[l]);
for(var l=0;l<Q.length;l++){var A=Q[l];this.aq1(A,n,Q.length==1&&H==0?2:1,A.color,A.qA);c=!0}var V=this.KM;
c=this.aiB(w,y.GN,n,Q.length!=0)||c;if(w.P&&V.OH&&V.al.wH){this.aq1(w.P,n,0,0,null);c=!0}return c};dd.prototype.aq1=function(w,n,H,y,c){var Q=0;
if(c)Q=Math.round(c.k)<<16|Math.round(c.J)<<8|Math.round(c.b);var q=n.ZP(!0),S=n.GN,A=new cr(0,0,n.z3.m,n.z3.e),V=dd.MJ;
if(n.d9==null||n.d9.length!=S.O()*4){n.HL=O.R(S.O());n.d9=O.R(S.O()*4)}n.HL.fill(y);n.d9.fill(0);var e=w.channel,d=w.rect;
O.scale.D(e,d,q,n.HL,S);if(H==0){var N=new Uint32Array([4278190080,4294967295]);dd.$j(new Uint8Array(N.buffer));
O.P.ahp(n.HL,n.d9,S,N,s.V()>1.9)}else{var b=Date.now();O.P.ahY(n.HL,n.d9,S,H,Q);dd.$j(n.d9)}var z=new ImageData(new Uint8ClampedArray(n.d9.buffer),S.m,S.e);
V.w$.putImageData(z,0,0);V.GN.save();if(H!=0){var v=new cr(0,0,A.m,A.e),T=q.clone();T.G$();this.Bh(O.p.u3(v),T,V.GN);
V.GN.clip()}V.GN.drawImage(V.T9,0,0);V.GN.restore()};dd.prototype.aiB=function(w,n,H,y){var c=w.I.sv!=null||w.I.lJ!=null||w.I.lC!=null||w.I.El.length!=0||w.I.n7.length!=0,Q=this.KM,q=Q.al,S=gd.Fg[Q.Eu],A=Math.round(12*s.V()),V=A/w.u.N,e=H.ZP(!0);
e.G$();n.save();n.setTransform(e.iL,e.k,e.Mg,e.Du,e.qH,e.fp);if(w.add.artd){var d=dd.bA(w)[0];d=d<.5?d+.5:d-.5;
d=""+Math.round(d*255).toString(16);while(d.length<2)d="0"+d;n.fillStyle="#"+d+d+d;n.font=V+"px sans-serif";
for(var l=0;l<w.B.length;l++){var b=w.B[l];if(b.add.artb==null||!b.tl())continue;var z=b.oC();n.fillText(b.getName(),z.x+2,z.y-V*.7);
c=!0}}function v(iA){return iA==1||iA==2||iA==4||iA==5}var T=dd.Qn([.1,.5,1,1]),Y=dd.Qn([1,1,1,1]);if(Q.OH&&q.Wh){n.fillStyle=n.strokeStyle=T;
n.lineWidth=1.5/H.N;var g=w._e(),R=g[0],h=g[1];for(var E=0;E<h.length;E++){var b=R[h[E]],G=b.add.vmsk,k=G.i,$=O.p.$n(k);
this.Bh($,null,n);n.stroke();c=!0;var p=3*s.V()/H.N,X=k.length-3;for(var l=0;l<G.Ug.length;l++){var C=O.r.Bs(k,G.Ug[l]);
if(C==null)continue;var D=C.x,o=C.y;n.beginPath();var t=l==0;if(G.XR)t=!t;if(t){n.moveTo(D-p,o-p);n.lineTo(D+p,o+p);
n.moveTo(D-p,o+p);n.lineTo(D+p,o-p);n.stroke()}else{n.arc(D,o,p*1,0,2*Math.PI);n.fill()}c=!0}if(w.g.length!=1)continue;
var u=-1;for(var l=0;l<k.length;l++){if(k[l].type>5)continue;if(k[l].type==0||k[l].type==3){if(k[l].NB!=-1)u++;
continue}if(G.g.indexOf(u)!=-1){var D=k[l].H.x,o=k[l].H.y;n.fillRect(D-p*.8,o-p*.8,2*p*.8,2*p*.8)}if(G.V1.indexOf(l)!=-1){var m=k[l],U=[m.H];
n.beginPath();n.moveTo(m.P7.x,m.P7.y);n.lineTo(m.H.x,m.H.y);n.lineTo(m.f$.x,m.f$.y);var I=k[l-1],x=k[l+1];
if(I&&v(I.type)&&G.V1.indexOf(l-1)==-1){n.moveTo(I.H.x,I.H.y);n.lineTo(I.f$.x,I.f$.y);U.push(I.f$)}if(x&&v(x.type)&&G.V1.indexOf(l+1)==-1){n.moveTo(x.H.x,x.H.y);
n.lineTo(x.P7.x,x.P7.y);U.push(x.P7)}n.stroke();if(!m.H.Hw(m.P7))U.push(m.P7);if(!m.H.Hw(m.f$))U.push(m.f$);
for(var J=0;J<U.length;J++){var C=U[J],D=C.x,o=C.y;if(J==0&&(m.type==2||m.type==5))n.fillRect(D-1.2*p,o-1.2*p,2.4*p,2.4*p);
else{n.beginPath();n.arc(D,o,p*1.2,0,2*Math.PI);n.fill();if(J!=0)n.fillStyle=Y;n.beginPath();n.arc(D,o,p*.8,0,2*Math.PI);
n.fill();n.fillStyle=T}}}c=!0}}}n.lineWidth=1/H.N;if(w.I.us){n.fillStyle=n.strokeStyle=T;var x={w:[],T:[]},r=dd.a8s;
if(r==null){r=dd.a8s={w:[1,0],T:["M"]};for(var l=1;l<30;l++){var Z=Math.PI*2*l/30;r.w.push(Math.cos(Z),Math.sin(Z));
r.T.push("L")}r.T.push("Z","M","L","M","L");r.w.push(-.5,0,.5,0,0,-.5,0,.5)}for(var l=0;l<w.I.us.length;
l++){var I=P.MQ.ars(w.I.us[l],H),f=new b7(I[0],0,0,I[0],I[1],I[2]);O.p.concat(x,r,f)}this.Bh(x,null,n);
n.stroke();c=!0}var F=new b7(1,0,0,1,.5/H.N,.5/H.N);if(w.VQ){n.fillStyle=n.strokeStyle=T;var x={w:[0,0,w.m,0,w.m,w.e,0,w.e],T:["M","L","L","L","Z"]};
this.Bh(x,F,n);n.stroke();c=!0}if(w.I.dm){n.fillStyle=n.strokeStyle=dd.Qn([0,0,0,.5]);this.Bh(w.I.dm,null,n,!0);
n.fill("evenodd")}n.fillStyle=n.strokeStyle=dd.Qn([0,0,0,dy._k&&w.add.fvec==null?1:.5],!0);if(w.I.sv){this.Bh(w.I.sv,null,n);
n.fill()}if(w.I.lJ){this.Bh(w.I.lJ,F,n);n.stroke()}for(var _ in w.I.p4)if(w.I.p4[_].lJ){this.Bh(w.I.p4[_].lJ,null,n);
n.stroke();c=!0}var K=dd.a7s(w.I.aN,n,H);n.stroke();c=c||K;var B=w.I.tE;n.fillStyle=dd.Qn([1,1,1,1]);
n.beginPath();var p=6*s.V()/H.N;for(var l=0;l<B.length;l+=2){c=!0;var D=B[l],o=B[l+1];n.moveTo(D+p,o);
n.arc(D,o,p,0,2*Math.PI)}n.fill();var p=4*s.V()/H.N;for(var l=0;l<B.length;l+=2){c=!0;var D=B[l],o=B[l+1];
n.fillStyle=dd.Qn(w.I.e7.indexOf(l>>>1)!=-1?[0,.6,1,1]:[.7,.7,.7,1]);n.beginPath();n.moveTo(D+p,o);n.arc(D,o,p,0,2*Math.PI);
n.fill()}if(w.I.El.length!=0){for(var l=0;l<w.I.El.length;l++){var ij=w.I.El[l],W=ij[1],L;if(y){L=n.getImageData(W.x,W.y,W.m,W.e);
O.q.SG("norm",ij[0],W,new Uint8Array(L.data.buffer),W,W,1)}else L=new ImageData(new Uint8ClampedArray(ij[0].buffer),W.m,W.e);
n.putImageData(L,W.x,W.y)}}var i=.5/H.N;n.lineWidth=1/H.N;if(w.I.ls){c=!0;var e3=w.I.ls,eE=e3.YA,$={T:[],w:[]};
for(var l=0;l<e3.Oh.length;l++)O.p.concat($,O.p.u3(e3.Oh[l]));$.w=$.w.concat(eE);for(var l=0;l<eE.length;
l+=4){$.T.push("M","L")}for(var l=0;l<$.w.length;l++){$.w[l]+=i}n.strokeStyle=dd.Qn([.9,.2,.2,1]);this.Bh($,null,n);
n.stroke();var ec=s.V(),gw=2/H.N;n.font=V*.9+"px sans-serif";for(var l=0;l<eE.length;l+=4){var D=eE[l],o=eE[l+1],bl=eE[l+2],cD=eE[l+3],a$=Math.sqrt((cD-o)*(cD-o)+(bl-D)*(bl-D));
a$=O.xr.To(a$,w.uP,Q,o==cD?w.m:w.e);var hJ=new ce((D+bl)/2,(o+cD)/2);n.fillStyle=dd.Qn([.9,.2,.2,1]);
var ei=n.measureText(a$).width;n.fillRect(hJ.x-ei/2-gw*ec,hJ.y-3.5*gw*ec,ei+2*gw*ec,7*gw*ec);n.fillStyle=dd.Qn([1,1,1,1]);
n.save();n.translate(hJ.x-ei/2,hJ.y+2*gw*ec);n.scale(.1,.1);n.font=V*9+"px sans-serif";n.fillText(a$,0,0);
n.restore()}}if(Q.OH){if(q.LR){var df=O.xr._Z(q.Rv,w.uP,w.m,q.c$),bM=df;if(q.c$==4)bM*=w.e/w.m;this.DE(w,n,df,bM,1,q.ZW);
c=!0}if(q.jj&&w.u.N>7&&w.add.fvec==null){this.DE(w,n,1,1,.5,q.ZW);c=!0}if(q.V_){var ib=w._P(),fI=w.Zf(),eU=Math.max(w.u.GN.m,w.u.GN.e)/w.u.N;
eU=Math.max(Math.max(w.m,w.e)*2,eU);for(var l=0;l<ib[0].length;l++){var gK=ib[0][l],bs=ib[1][l];if(bs!=-1&&bs!=fI)continue;
var km=H.Cc(gK[1],gK[1]),aJ=H.Sb(Math.floor(km.x)+.5,Math.floor(km.y)+.5);n.beginPath();n.strokeStyle=dd.Qn([0,bs==-1?1:.5,1,1]);
if(gK[0]==0){var ip=aJ.x;n.moveTo(ip,-eU);n.lineTo(ip,eU)}else{var fl=aJ.x;n.moveTo(-eU,fl);n.lineTo(eU,fl)}n.stroke();
c=!0}}var b3=w.B0;if(q.B0&&b3.length!=0){n.font=V*.8+"px sans-serif";var dY=[],k4=[];for(var l=0;l<b3.length;
l++){var aK=P.pI.WT(b3,l);dY.push(aK);if(w.J$.indexOf(l)!=-1)k4.push(aK)}dY.reverse();var jK=Date.now();
dY=O.rect.BM([0,0,w.m,w.e],dY);for(var J=0;J<2;J++)for(var l=0;l<dY.length;l++){var ay=dY[l],u=ay[4],f8=u!=null?b3[u]:null;
if(f8&&J==0||f8==null&&J==1)continue;var D=Math.round(ay[0]),o=Math.round(ay[1]),bl=Math.round(ay[2]),cD=Math.round(ay[3]);
n.strokeStyle=n.fillStyle=dd.Qn(f8?[0,.7,.7,1]:[.8,.8,.8,1]);n.strokeRect(D+i,o+i,bl-D,cD-o);var gN=l+1,d4=n.measureText(gN),ei=d4.width;
n.fillRect(D,o,ei+V/2,V);n.fillStyle=dd.Qn([1,1,1,1]);n.fillText(gN,D+V/4,o+V*.8)}var gw=2/w.u.N,bK=2*gw;
for(var l=0;l<k4.length;l++){var ay=k4[l],D=Math.round(ay[0]),o=Math.round(ay[1]),bl=Math.round(ay[2]),cD=Math.round(ay[3]);
n.strokeStyle=n.fillStyle=dd.Qn([1,.6,0,1]);n.strokeRect(D+i,o+i,bl-D,cD-o);var hf=[D,o,bl,o,bl,cD,D,cD];
for(var bC=0;bC<hf.length;bC+=2){var ip=hf[bC],fl=hf[bC+1],gW=hf[bC+2&7],dn=hf[bC+3&7];n.fillRect(ip-gw,fl-gw,bK,bK);
n.fillRect(Math.round((ip+gW)/2)-gw,Math.round((fl+dn)/2)-gw,bK,bK)}}c=!0}var fq=w.add.Anno;if(fq&&fq.length!=0)for(var l=0;
l<fq.length;l++){var jN=fq[l],cU=jN[2],ip=jN[0]-i,fl=jN[1]-i,bK=30/H.up,jb=.4*bK,ac=.6*bK;n.beginPath();
n.moveTo(ip,fl+ac);n.lineTo(ip,fl);n.lineTo(ip+bK,fl);n.lineTo(ip+bK,fl+bK);n.lineTo(ip+jb,fl+bK);n.closePath();
n.lineTo(ip+jb,fl+ac);n.lineTo(ip+jb,fl+bK);if(l==w.u.$r){n.lineWidth*=5;n.strokeStyle=dd.Qn([0,0,0,.5]);
n.stroke();n.lineWidth/=5}n.fillStyle=dd.Qn([cU.b/255,cU.J/255,cU.k/255,1]);n.fill();n.strokeStyle=dd.Qn([0,0,0,1]);
n.stroke()}}n.strokeStyle=dd.Qn([1,0,0,1]);if(w.I.lC){this.Bh(w.I.lC,F,n);n.stroke()}n.restore();if(Q.Mr){if(w.u.FN==null||w.u.FN.width!=w.u.GN.m||w.u.K2.height!=w.u.GN.e){w.u.FN=n.createImageData(w.u.GN.m,O.xr.iY);
w.u.K2=n.createImageData(O.xr.iY,w.u.GN.e)}var S=gd.Fg[Q.Eu],a_=0,h5=0,jz=w.m,jj=w.e;if(w.Zf()!=-1){var z=w.B[w.Zf()].oC();
a_=z.x;h5=z.y;jz=z.m;jj=z.e}a_*=H.N;h5*=H.N;var H=w.u,jy=[1,w.uP,w.uP/2.54,w.uP/25.4,jz/100][q.GZ],g0=H.N*w.m/2,bt=H.N*w.e/2,kl=[H.N*jy,new ce(H.Q.x+(a_+g0*jy-g0),H.Q.y+(h5+bt*jy-bt))];
if(q.GZ==4)jy*=jj/jz;var iO=[H.N*jy,new ce(H.Q.x+(a_+g0*jy-g0),H.Q.y+(h5+bt*jy-bt))],dN=this.iy.Zr;O.xr.axq(H,S["--text-color"],S["--bg-input"],Math.floor(dN.x),Math.floor(dN.y),kl,iO);
var aG=dQ.aqM(H.N,dd.Qn([1,1,1,1]),w.m,w.e);dd.$j(w.u.K2.data);dd.$j(w.u.FN.data);n.putImageData(w.u.K2,0,0);
n.putImageData(w.u.FN,0,0);n.putImageData(aG,0,w.u.GN.e-aG.height)}if(w.I.n7.length!=0){for(var l=0;
l<w.I.n7.length;l++){var ij=w.I.n7[l],W=ij[1];n.putImageData(new ImageData(new Uint8ClampedArray(ij[0].buffer),W.m,W.e),W.x,W.y)}}return c||Q.Mr};
dd.prototype.DE=function(w,n,H,y,c,Q){while(H*w.u.N<4){H*=2;y*=2}var q=w.m,S=w.e,A=.5/w.u.N;n.strokeStyle=dd.Qn([.5,.5,.5,c],!0);
n.save();n.rect(0,0,q,S);n.clip();n.beginPath();for(var V=0;V<=q;V+=H){n.moveTo(V+A,0);n.lineTo(V+A,S)}if(Q==0){for(var e=0;
e<=S;e+=y){n.moveTo(0,e+A);n.lineTo(q,e+A)}}else{y*=Math.sqrt(4/3);var d=y*Math.floor(q/y),N=q*(y/(2*H));
for(var e=-d;e<=S+d;e+=y){n.moveTo(0,e);n.lineTo(q,e-N);n.moveTo(0,e);n.lineTo(q,e+N)}}n.stroke();n.restore()};
dd.a7s=function(w,n,H,y){n.beginPath();var c=(y?y:1)*(4*s.V()+.5)/H.N,Q=!1;for(var l=0;l<w.length;l+=2){Q=!0;
var q=w[l],S=w[l+1];n.rect(q-c,S-c,2*c,2*c)}return Q};dd.H1=function(w,n,H,y){H.beginPath();if(y)H.rect(-1e5,-1e5,1e6,1e6);
var c=w;if(n){c=O.p.clone(w);O.p.D(c.w,n,c.w)}Typr.U.pathToContext({cmds:c.T,crds:c.w},H)};dd.prototype.Bh=dd.H1;
dd.vs=function(w,n,H){dy.rk.call(this);var y=n!=0,c=H?"true":"in01(sCoord)",Q="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D target;\t\t\t"+(w?"uniform sampler2D lut;  uniform float N;  "+dy.q5.xk:"")+"\t\t\tuniform vec3 contSizeZoom;\t\t\tuniform vec2 cnvSize;\t\t\tuniform mat4 ctrn; \t\t\t"+(y?"uniform vec4 bgClr;  uniform vec4 ars["+n+"]; ":"")+"\t\t\t\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 gCoord;\t\t\t\t\t\t/* This approximates the error function, needed for the gaussian integral */ \t\t\tvec4 erf(vec4 x) { \t\t\t  vec4 s = sign(x), a = abs(x);\t\t\t  x = 1.0 + (0.278393 + (0.230389 + 0.078108 * (a * a)) * a) * a;\t\t\t  x *= x;  \t\t\t  return s - s / (x * x); \t\t\t} \t\t\t/* Return the mask for the shadow of a box from lower to upper */  \t\t\tfloat boxShadow(vec2 lower, vec2 upper, vec2 point, float sigma) { \t\t\t  vec4 query = vec4(point - lower, point-upper); \t\t\t  vec4 integral = 0.5 + 0.5 * erf(query * (sqrt(0.5) / sigma)); \t\t\t  return (integral.z - integral.x) * (integral.w - integral.y); \t\t\t} \t\t\t\t\t\tvec4 simpleBlend(vec4 src, vec4 tgt) {\t\t\t\tfloat na = src.w + tgt.w*(1.0-src.w);\t\t\t\t/* avoid division by zero */ \t\t\t\treturn na==0.0 ? vec4(0,0,0,0) : vec4( (src.xyz*src.w + tgt.w*tgt.xyz*(1.0-src.w))*(1.0/na), na);\t\t\t} \t\t\t\t\t\t"+dy.q5.B4+"\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 src = texture2D(source, tCoord); \t\t\t\tvec4 tgt = texture2D(target, sCoord"+(H?"-floor(sCoord)":"")+"); \t\t\t\t"+(w?"tgt.rgb = mapLut(tgt, lut, N).rgb; ":"")+"\t\t\t\ttgt = ctrn * tgt; "+(y?"\t\t\t\t\tbool inr = false; vec4 BG = bgClr; \t\t\t\t\tfor(int i=0; i<"+n+"; i++) { \t\t\t\t\t\tvec4 ar = ars[i]; \t\t\t\t\t\tvec2 nsc = sCoord - ar.xy; \t\t\t\t\t\tif( ar.z!=0.0 && in01(nsc/ar.zw) ){\t\t\t\t\t\tinr=true; BG=mod(floor(gCoord.x) + floor(gCoord.y), 2.0)==1.0 ? vec4(0.784,0.784,0.784,1) : vec4(1,1,1,1); }\t\t\t\t\t}\t\t\t\t":"\t\t\t\t\tfloat shdw = 0.3*boxShadow(vec2(0,0),contSizeZoom.xy, sCoord*contSizeZoom.xy+vec2(0.0,-6.0*contSizeZoom.z) , 10.0*contSizeZoom.z);\t\t\t\t\tvec4 grid = mod(floor(gCoord.x) + floor(gCoord.y), 2.0)==1.0 ? vec4(0.784,0.784,0.784,1) : vec4(1,1,1,1);\t\t\t\t\tvec4 BG = "+c+" ? grid : vec4(0.0,0.0,0.0,shdw); \t\t\t\t")+"\t\t\t\tvec4 outc = "+c+" ?  simpleBlend(tgt,BG) :  BG ;  \t\t\t\tif(src.b == 0.0 && src.a >0.5) gl_FragColor = mix(outc, vec4(vec3(1,1,1)-outc.rgb,1.0), src.w); \t\t\t\telse             gl_FragColor = simpleBlend(src,outc); \t\t\t\t\t\t\t}",q="\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 gCoord;\t\t\t\t\t\tuniform mat3 tmat;\t\t\tuniform vec4 gsize;\t\t\tvoid main(void) {\t\t\t\ttCoord = verPos;\t\t\t\tsCoord = (tmat*vec3(verPos,1.0)).xy;\t\t\t\tgCoord = (verPos-gsize.zw) * gsize.xy ; \t\t\t\tgl_Position = vec4(vec2(-1.0, 1.0) + 2.0*vec2(verPos.x,-verPos.y), 0.0, 1.0);\t\t\t}";
this.Dg(Q,q)};dd.vs.prototype=new dy.rk;dd.vs.prototype.LG=function(w,n,H,y,c,Q,q,S,A,V,e,d,N,b){this.s_("tmat gsize source target lut N contSizeZoom cnvSize bgClr ars ctrn".split(" "));
var z=dy.NK,v=this.LF;z.uniformMatrix3fv(v.tmat,!1,H);z.uniform4fv(v.gsize,y);z.uniform3f(v.contSizeZoom,c,Q,q);
z.uniform2f(v.cnvSize,S,A);z.uniformMatrix4fv(v.ctrn,!1,d);if(this.a0o){z.uniform4fv(v.ars,e);z.uniform4fv(v.bgClr,V)}z.uniform1i(v.source,0);
z.uniform1i(v.target,1);z.activeTexture(z.TEXTURE0);z.bindTexture(z.TEXTURE_2D,w);z.activeTexture(z.TEXTURE1);
z.bindTexture(z.TEXTURE_2D,n);if(N){z.uniform1f(v.N,b);z.uniform1i(v.lut,2);z.activeTexture(z.TEXTURE2);
z.bindTexture(z.TEXTURE_2D,N.iX);var T=z.LINEAR;z.texParameteri(z.TEXTURE_2D,z.TEXTURE_MIN_FILTER,T);
z.texParameteri(z.TEXTURE_2D,z.TEXTURE_MAG_FILTER,T)}z.activeTexture(z.TEXTURE0)};function kp(){eV.call(this,[9,7],!1,"---panels/layercomps",eV.AG.asa);
this.vN.setAttribute("style","min-width:240px;");this.mC=null;this.Ix=-1;this.ju=[];this.gp=s.t("div","scrollable");
this.gp.style.height="160px";this.vN.appendChild(this.gp);this.Wz=s.t("div","lpfoot");this.vN.appendChild(this.Wz);
this.Zp=[];var w=["<svg  class=\"miniscale gsicon\" viewBox=\"0 0 15 15\" width=\"15\" height=\"15\" fill=\"black\"><path d=\"M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z\" /></svg>","reload","lrs/newlayer","lrs/bin"],n=["Layer Comps to Files",[5,10],[5,3],[5,4]];
for(var l=0;l<w.length;l++){var H=w[l];if(l>0)H="<img src=\""+PIMG[w[l]]+"\" class=\"miniscale gsicon\" />";
var y=new eO(H,!1,n[l]);y.h("click",this.acK,this);this.Wz.appendChild(y.n);this.Zp.push(y)}}kp.prototype=new eV("");
kp.prototype.kc=function(w,n){this.vN.setAttribute("style","width:"+(w-2)+"px;");this.gp.style.height=n-28+"px"};
kp.prototype.Bt=function(w){var n=new aL(M.E.v,!0);n.data=w;n.G=P.xt;this.S(n)};kp.afb="var opts = new ExportOptionsSaveForWeb(); opts.format = SaveDocumentType.PNG; opts.PNG8 = false; opts.quality = 100; var doc = app.activeDocument;var lc = doc.layerComps;  if(lc.length==0) alert(\"No layer comps.\"); else { \tvar stat = doc.historyStates.length - 1;\t\tfor(var i=0; i<lc.length; i++) {\t\tlc[i].apply();\t\tpngFile = new File(lc[i].name+\".png\");\t\tapp.activeDocument.exportDocument(pngFile, ExportType.SAVEFORWEB, opts);\t}\t\tdoc.activeHistoryState = doc.historyStates[stat];}";
kp.prototype.acK=function(w){var l=this.Zp.indexOf(w.currentTarget)-1;if(l==-1){var n=new aL(M.E.L,!0);
n.data={d:M.c._t,kB:kp.afb};this.S(n);return}if(l!=1)if(this.Ix==-1)return;this.Bt({d:["updLC","addLC","delLC"][l],cm:this.Ix});
if(l==2)this.Ix=-1};kp.prototype.f=function(){eV.prototype.f.call(this);for(var l=0;l<this.Zp.length;
l++)this.Zp[l].f()};kp.prototype.nQ=function(w){if(w==null)s.li(this.vN,"disabled");else s.n_(this.vN,"disabled");
this.mC=w;s.Of(this.gp);if(w==null)return;var n=w.PU.lastAppliedComp?w.PU.lastAppliedComp.v:0,H=w.PU.list.v.slice(0);
H.unshift({v:{Nm:{v:"Last Document State"},compID:{v:0},capturedInfo:{v:0}}});for(var l=0;l<H.length;
l++){var y=H[l].v,c=new e$(y.Nm.v,y.compID.v,y.capturedInfo.v,n,this.Ix);c.h("activate",this.Gn,this);
c.parent=this;this.gp.appendChild(c.n);this.ju.push(c)}};kp.prototype.Gn=function(w){this.Ix=w.currentTarget.cm;
this.nQ(this.mC)};function e$(w,l,n,H,y){bU.call(this);this.cm=l;this.n=s.t("div","head listitem"+(l==y?" selected":""));
var c=l==H,Q=new eO(c?"\u2713":"\u2014");if(c)Q.QM();this.n.appendChild(Q.n);Q.h("click",this.du,this);
var q=this.aB=s.t("span");q.textContent=w;this.n.appendChild(q);this.Zp=[];if(l!=0){this.n.addEventListener("mouseup",this.Gn.bind(this),!1);
this.av3=s.t("span","headR");this.n.appendChild(this.av3);var S=["lrs/eye","pos","lrs/fx"],A=["Visibility","Position","Appearance"];
for(var V=0;V<S.length;V++){var e=new eO("<img src=\""+PIMG[S[V]]+"\" class=\"autoscale gsicon\" />",!1,A[V]);
if((n>>V&1)==0)e.n.setAttribute("style","opacity:0.3");e.h("click",this.aqc,this);this.av3.appendChild(e.n);
this.Zp.push(e)}}}e$.prototype=new bU;e$.prototype.Gn=function(w){if(w.target!=this.aB&&w.target!=this.n)return;
if(w.detail==1)this.S(new aL("activate",!1));else{var n=new eV.wF(this.aB,this.R$.bind(this))}};e$.prototype.aqc=function(w){var l=this.Zp.indexOf(w.currentTarget);
this.Bt({d:"editLC",a2h:l,cm:this.cm})};e$.prototype.R$=function(w){this.Bt({d:"editLC",xh:w,cm:this.cm})};
e$.prototype.du=function(w){this.Bt({d:"setLC",cm:this.cm})};e$.prototype.Bt=function(w){var n=new aL(M.E.v,!0);
n.data=w;n.G=P.xt;this.S(n)};function dB(){eV.call(this,[9,11],!1,"---panels/navigator",eV.AG.aqn);var w=s.t("div","padded");
w.setAttribute("style","min-width:15em");this.vN.appendChild(w);var n=s.t("div");w.appendChild(n);n.setAttribute("style","cursor:grab;");
this.F=s.t("canvas");this.F.width=100;n.appendChild(this.F);s.g0(this.F);s.am(this.F,this.dK.bind(this));
this.N_=new jc(null,2,6400,"%",null,!0);this.N_.h(M.E.A,this.amg,this);w.appendChild(this.N_.n);this.asL=this.jb.bind(this);
this.acY=this.eE.bind(this);this.mT=null;this.rE=null;this.Lf=!1}dB.prototype=new eV("");dB.prototype.kc=function(w,n){this.k9()};
dB.prototype.amg=function(w){var n=this.N_.o(),H=this.mT,y=n/100;if(.8<y&&y<1.2)y=1;else if(1.8<y)y=Math.round(y);
var c=new aL(M.E.v,!0);c.G=P.uD;c.data={d:"zoom",N:y};this.S(c)};dB.prototype.dK=function(w){var n=this.mT;
if(n==null)return;this.Lf=!0;s.I7(window,this.asL);s.vM(window,this.acY)};dB.prototype.jb=function(w){var n=s.E4(w,this.F),H=this.mT,y=this.F.width,c=this.F.height,Q=(n.x*s.V()-y/2)/y,q=(n.y*s.V()-c/2)/c,S=s.V()*H.u.N,A=Math.round(-H.u.N*H.m*Q),V=Math.round(-H.u.N*H.e*q);
P.RT.EI(H,A,V)};dB.prototype.eE=function(w){s.kg(window,this.asL);s.v8(window,this.acY);this.Lf=!1};
dB.prototype.nQ=function(w){if(w==null&&this.mT!=null)this.F.width=100;this.mT=w;this.k9()};dB.prototype.atX=function(){var w=300*s.V(),n=0,H=this.mT,y=[H.E$(),new cr(0,0,H.m,H.e)];
O.Qt(y);while(Math.max(y[n+1].m,y[n+1].e)>w){n+=2}this.rE=y.slice(n)};dB.prototype.k9=function(){var w=this.mT;
if(w==null||w.u.N==0)return;var n=w.u;if(!s._Q(this.vN))return;this.N_.$(n.N*100);if(!this.Lf)this.atX();
var H=this.rE[0],y=this.rE[1],c=y.m,Q=y.e,q=this.F;q.width=c;q.height=Q;s.cD(q,c,Q);var S=q.getContext("2d"),A=S.createImageData(c,Q);
O.Bq(H,A.data);S.putImageData(A,0,0);var V=n.GN,e=n.Sb(V.x,V.y),d=n.Sb(V.x+V.m,V.y+V.e),N=c/w.m;S.scale(N,N);
S.lineWidth=4/N;S.strokeStyle="#ff0000";S.strokeRect(e.x,e.y,d.x-e.x,d.y-e.y)};dB.prototype.AB=function(w,n){};
dB.prototype.Tf=function(){this.k9()};function hl(w,n){eV.call(this,w.name,!1,w.icon,n);this.aif=w}hl.prototype=new eV("");
hl.prototype.aa=function(){var w=this.vN,n=this.aif;if(!s._Q(w)||this.l7)return;var H=this.l7=s.t("iframe");
H.setAttribute("src",n.url);this.vN.appendChild(H)};hl.prototype.Tf=hl.prototype.nQ=function(){this.aa()};
hl.prototype.z6=function(w){if(s._Q(this.l7))this.l7.contentWindow.postMessage(w,"*")};hl.prototype.kc=function(w,n){if(this.l7==null)return;
this.l7.setAttribute("style","width:"+w+"px; height:"+n+"px")};function fT(){eV.call(this,[9,12],!1,"---panels/tpreset",eV.AG.Xs);
this.Uz=null;this.Ac=new gY(P.p6);this.Ac.parent=this;var w=s.t("div","padded");w.setAttribute("style","width:20em");
this.vN.appendChild(w);w.appendChild(this.Ac.zB)}fT.prototype=new eV("");fT.prototype.Tf=function(){this.Ac.iq(this.Uz.QV)};
fT.prototype.AB=function(w,n){this.Uz=w;if(n==h6.z8||n==h6.Xs)this.Ac.iq(w.QV)};fT.prototype.kc=function(w,n){this.Ac.axg(this.Uz.ZR)};
fT.prototype.f=function(){eV.prototype.f.call(this);this.Ac.f()};var ch=function(){var w=[],n=null,H=null,y=null,c=[[100,180,255],[100,255,100],[255,200,100],[200,100,255],[255,100,200]];
function Q(){eV.call(this,"Memory",!1,null,eV.AG.abo);var N=s.t("div","padded");this.vN.appendChild(N);
H=new eO(["<< VAR0",[0,13,2]],!1,null,!0);H.addEventListener("click",function(b){w.pop();S()});N.appendChild(H.n);
n=s.t("div","scrollable");n.setAttribute("style","width:20em;  height:26em; margin-top:8px;");N.appendChild(n)}Q.prototype=new eV("");
Q.prototype.nQ=function(N,b,z){y=b;this.Tf()};Q.prototype.Tf=function(){H.rD(!1);if(!s._Q(n))return;
var N={os:"Total:",A6:[]};for(var l=0;l<y.length;l++)N.A6.push(V(y[l]));d(N);w=[N];S()};Q.prototype.f=function(){eV.prototype.f.call(this);
H.f()};function q(N){var b=N.currentTarget,l=0;while((b=b.previousSibling)!=null)l++;w.push(w[w.length-1].A6[l-1]);
S()}function S(){H.rD(w.length>1);var N=w[w.length-1];s.Of(n);A(N,n,0);N.A6.sort(function(b,z){return z.uv[0]-b.uv[0]});
for(var l=0;l<N.A6.length;l++)A(N.A6[l],n,1)}function A(N,b,z){var v=hn.x2,T=z!=0&&N.A6,Y="margin-left:"+z*10+"px; margin-bottom:8px; padding:3px 5px;";
if(T)Y+="cursor:pointer;";if(N.Ph!=null)Y+="background-color:rgba("+c[N.Ph].join(",")+",0.2);";var g=s.t("div");
b.appendChild(g);g.setAttribute("style",Y);g.innerHTML=s.WN(N.os)+"<br />"+"RAM: <b>"+v(N.uv[0])+"</b>\u2001GPU: <b>"+v(N.uv[1])+"</b>";
if(T)g.addEventListener("click",q,!1)}function V(N){var b={os:N.name,A6:[],Ph:0},z=dy._k?1:0,v=1-z,T={os:"Final Image",uv:[N.m*N.e*4,z*N.m*N.e*4],Ph:2};
b.A6.push(T);for(var l=0;l<N.B.length;l++){var Y=e(N.B[l]);if(Y.A6.length!=0)b.A6.push(Y)}var g=N.add.lnk2;
if(g)for(var l=0;l<g.length;l++){var Y=g[l],R={os:Y.w5,A6:[],Ph:4},h=0;R.A6.push({os:"Raw file",uv:[Y.raw.length,0]});
if(Y.TM)for(var E=0;E<Y.TM.length;E+=2)h+=Y.TM[E].length;if(h!=0)R.A6.push({os:"Decoded pixels",uv:[h,0]});
d(R);b.A6.push(R)}d(b);return b}function e(N){var b={os:N.getName(),A6:[],Ph:1},z=dy._k?1:0,v=1-z,T=N.rect.O();
if(T!=0)b.A6.push({os:"Layer pixels",uv:[T*4,z*T*4]});if(N.add.lmfx&&N.Sh.f3.type){var Y=N.Sh.f3.type,E=0;
for(var g in Y){var R=0;for(var h=0;h<Y[g].length;h++)if(g=="ebbl"){if(Y[g][h].K5)R+=Y[g][h].K5.la.O();
if(Y[g][h].wG)R+=Y[g][h].wG.la.O();if(Y[g][h].zR)R+=Y[g][h].zR.la.O();if(Y[g][h].TL)R+=Y[g][h].TL.la.O()}else R+=Y[g][h].la.O();
if(R!=0)b.A6.push({os:hV.get(d5.names[d5.order.indexOf(g)]),uv:[v*R*4,z*R*4],Ph:3})}if(N.Sh.JZ)E+=T;
if(N.Sh.qK)E+=T;if(N.Sh.cC)E+=T;if(N.Sh.cC)E+=T;if(N.Sh.H$)E+=T;if(N.Sh._u)E+=T;var G=N.Sh.wX?N.Sh.wX.length:0;
if(E+G!=0)b.A6.push({os:"Additional Blending Data",uv:[v*E*4+G,z*E*4]})}var k=N.LZ(),$=k?k.rect.O():0;
if($!=0){b.A6.push({os:"Raster Mask",uv:[$,0]})}var k=N.add.vmsk,$=k&&k.lZ?k.lZ.rect.O():0;if($!=0){b.A6.push({os:"Vector Mask",uv:[$,0]})}d(b);
return b}function d(N){N.uv=[0,0];for(var l=0;l<N.A6.length;l++){N.uv[0]+=N.A6[l].uv[0];N.uv[1]+=N.A6[l].uv[1]}}return Q}();
function b$(){eV.call(this,[9,14],!1,"---panels/notes",eV.AG.ar6);this.vN.setAttribute("style","min-width:240px;");
var w=s.t("div","padded");this.vN.appendChild(w);this.Ap=new f0("Author");w.appendChild(this.Ap.n);this.Bd=s.t("textarea");
s.iV(this.Bd);w.appendChild(this.Bd);var n=new eO("<<",null,null,!0);w.appendChild(n.n);this.awq=n;var H=new eO(">>",null,null,!0);
w.appendChild(H.n);n.h("click",this.Rj,this);H.h("click",this.Rj,this);var y=this.aa_=new iD("");w.appendChild(y.n)}b$.prototype=new eV("");
b$.prototype.Rj=function(w){var n=w.target==this.awq?-1:1,H=this.mT,y=H.add.Anno;if(y==null)return;var c=y.length,Q=H.u.$r;
H.u.$r=(Q+n+c)%c;H.qF=!0;this.k9()};b$.prototype.k9=function(){var w=this.mT;if(w==null)return;var n=w.add.Anno;
if(n==null||n.length==0)return;var H=w.u.$r,y=n[H];this.Bd.value=y[4];this.aa_.$(H+1+" / "+n.length);
this.Ap.$(y[3])};b$.prototype.kc=function(w,n){if(this.pV==w)return;this.pV=w;n=Math.min(n,200);this.Bd.setAttribute("style","display:block;tab-size:4;  margin:0; font-family:monospace; width:"+(w-10)+"px; height:"+(n-66)+"px")};
b$.prototype.nQ=function(w,n,H){this.mT=w;this.k9()};function aj(){bU.call(this);this.G=0;this.Ux=null;
this.n=s.t("div","toolconf");this.Ac=null;this.iH=null;this.body=new s.t("div","body")}aj.prototype=new bU;
aj.prototype.afa=function(w,n){this.G=w;this.Ux=n;if(P._g[w]){var H=this.Ac=new gY(w);this.n.appendChild(H.n);
H.parent=this}else{this.iH=s.t("div");this.n.appendChild(this.iH)}this.n.appendChild(this.body);this.f()};
aj.prototype.aja=function(w,n){};aj.prototype.a1V=function(w){};aj.prototype.AB=function(w,n){if(n==h6.z8||n==h6.Xs)if(this.Ac)this.Ac.iq(w.QV)};
aj.prototype.TV=function(w){};aj.prototype.f=function(){if(this.Ac)this.Ac.f();else this.iH.innerHTML=s.OE(this.Ux,null,"toolicon");
this.I5()};aj.prototype.I5=function(){};function bj(){aj.call(this);this.L9=new k9;this.L9.h(M.E.A,this.kD,this);
this.body.appendChild(this.L9.n)}bj.prototype=new aj;bj.prototype.I5=function(){this.L9.f()};bj.prototype.kD=function(w){var n=new aL(M.E.L,!0);
n.data={d:M.c.ns,G:this.G,PY:this.L9.a9m()};this.S(n)};bj.prototype.TV=function(w){this.L9.aio(w.ml)};
function ah(w){aj.call(this);if(w==null)return;this.Uz=null;this.U3={};if(w.indexOf("brush")!=-1&&w.indexOf("prsr")==-1)w.push("prsr");
for(var l=0;l<w.length;l++){var n=w[l],H=null;if(n=="brush"){H=new cT}if(n=="bmode"){H=new dw([12,19,0],eS.SX,eS.dH)}if(n=="bmode0"){H=new dw([12,19,0],eS.SX.slice(23))}if(n=="emode"){H=new dw([12,36],[[9,3],[10,38]])}if(n=="opacity"){H=new kc([12,0],0,100,"%");
H.$(100)}if(n=="flow"){H=new kc([12,63],0,100,"%");H.$(100)}if(n=="smth"){H=new kc([19,3,0],0,100,"%");
H.$(0)}if(n=="samp"){H=new dw([12,36],[[12,25,4],[12,25,5],[12,46]])}if(n=="wconf"){H=new bZ;H.$([40,!0,!0])}if(n=="sall"){H=new jH([12,25,2])}if(n=="strn"){H=new kc([12,64],1,100,"%");
H.$(50)}if(n=="smode"){H=new dw([12,36],[[19,7,0],[19,7,1]]);H.$(1)}if(n=="pdetail"){H=new jH([12,65]);
H.QM()}if(n=="rng"){H=new dw([12,12],[[19,6,0],[19,6,1],[19,6,2]]);H.$(1)}if(n=="expo"){H=new kc([12,5],0,100,"%");
H.$(50)}if(n=="algnd"){H=new jH([12,75]);H.$(!1)}if(n=="sfrom"){H=new dw([12,70],[[17,1],[17,3],[17,0]])}if(n=="alt"){H=new iS(null,["Alt"],!0,["Select Source"])}if(n=="qsmode"){H=new iY([12,36],["<img src=\""+PIMG["set/front"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.zoomIn+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.zoomOut+"\" class=\"autoscale gsicon\" />"],[[5,3],[18,1],[18,2]])}if(n=="redge"){H=new eO([7,11],!1,null,!0)}if(n=="setop"){H=new e7}if(n=="patch"){H=new iY(null,[[12,70],[12,71]])}if(n=="prsr"){H=this.U3.brush.iZ}this.body.appendChild(H.n);
if(n=="prsr")continue;H.parent=this;this.U3[n]=H;if(n=="brush")H.h(M.E.A,this.aqv,this);else if(n=="redge")H.h("click",this.Kw,this);
else H.h(M.E.A,this.rw,this)}}ah.prototype=new aj;ah.prototype.aja=function(w,n){w=w[1];var H=this.U3;
if(w.Md)H.bmode.$(eS.HN.indexOf(w.Md.v.BlnM));if(w.Opct)H.opacity.$(w.Opct.v);if(w.flow)H.flow.$(w.flow.v);
if(w.Brsh)H.brush.$(w,n.Sr.NS,n.Sr.c4);if(w.FrgC){var y=O.M.cH(w.FrgC.v),c=new aL(M.E.L,!0);c.data={d:M.c.Yj,PY:h6.Fz,cl:0,Z:y.b<<16|y.J<<8|y.k};
this.S(c)}this.aqv();this.rw()};ah.prototype.a1V=function(){if(P._g[this.G]==null)return null;var w=this.U3,n=JSON.parse(JSON.stringify(w.brush.o()));
n.classID=P._g[this.G][1][0];if(w.bmode)n.Md={t:"enum",v:{BlnM:eS.HN[w.bmode.o()]}};if(w.opacity)n.Opct={t:"long",v:w.opacity.o()};
if(w.flow)n.flow={t:"long",v:w.flow.o()};var H=this.Uz.Ni;H={b:H>>>16,J:H>>>8&255,k:H&255};n.FrgC={t:"Objc",v:O.M.Yw(H)};
return["Brush Preset "+n.Brsh.v.Dmtr.v.val,n]};ah.prototype.Kw=function(){var w=new aL(M.E.L,!0);w.data={d:M.c.rL,Ln:"redge"};
this.S(w)};ah.prototype.I5=function(){for(var w in this.U3)this.U3[w].f()};ah.prototype.TV=function(w){if(w.alb=="showBrushOpts"){this.U3.brush.atI(w.gG.x,w.gG.y)}for(var n in w.oz){var H=w.oz[n];
if(n!="qsmode")H*=100;if(this.U3[n])this.U3[n].$(H)}};ah.prototype.AB=function(w,n){aj.prototype.AB.call(this,w,n);
this.Uz=w;var H=this.U3.brush;if(H==null)return;if(n==h6.z8||n==h6.p6)H.iq(w.Sr);if(n==h6.Ja){H.$(w.Sr.TX,w.Sr.NS,w.Sr.c4)}};
ah.prototype.aqv=function(){var w=new aL(M.E.L,!0);w.data={d:M.c.Yj,PY:h6.Ja,Aq:this.U3.brush.o()};this.S(w)};
ah.prototype.rw=function(){var w=new aL(M.E.L,!0);w.data={d:M.c.ns,G:this.G};for(var n in this.U3){if(n=="brush"||n=="redge")continue;
var H=this.U3[n].o();if(["opacity","flow","smth","strn","expo"].indexOf(n)!=-1)w.data[n]=H/100;else if(n=="bmode")w.data.bmode=eS.$Q[H];
else if(n=="bmode0")w.data.bmode=eS.$Q[23+H];else w.data[n]=H}this.S(w)};function di(w,n){aj.call(this);
if(w)return;this.U3={};for(var l=0;l<n.length;l++){var H=n[l],y=null;if(H=="binop")y=new e7;if(H=="feat"){y=new kc([7,6],0,100,"px");
y.$(0)}if(H=="redge")y=new eO([7,11],!1,null,!0);if(H=="wconf")y=new bZ;if(H=="cstr")y=new jL;if(H=="anta"){y=new jH([12,25,1]);
y.$(!0)}if(H=="sall")y=new jH([12,25,2]);if(H=="redge")y.h("click",this.Kw,this);else y.h(M.E.A,this.rw,this);
y.parent=this;this.body.appendChild(y.n);this.U3[H]=y}}di.prototype=new aj;di.prototype.TV=function(w){if(w.AX!=null)this.U3.binop.$(w.AX);
else if(w.kT){for(var n in w.kT)if(this.U3[n])this.U3[n].$(w.kT[n])}else{var H=di.KV;if(H==null){var y=iv.azE(!0);
H=di.KV=new az(y.items,y.Lx)}H.f();H.parent=this;H.update(w.UE,w.KM);var c=new aL(M.E.L,!0);c.data={d:M.c.hf,_0:H,x:w.nu.JV+2,y:w.nu.m6+1};
this.S(c)}};di.prototype.I5=function(){for(var w in this.U3)this.U3[w].f()};di.prototype.Kw=function(){var w=new aL(M.E.L,!0);
w.data={d:M.c.rL,Ln:"redge"};this.S(w)};di.prototype.rw=function(){var w=new aL(M.E.L,!0);w.data={d:M.c.ns,G:this.G,kT:{}};
for(var n in this.U3)w.data.kT[n]=this.U3[n].o();this.S(w)};function ff(){ah.call(this,["brush","strn"])}ff.prototype=new ah;
function hU(){ah.call(this,"brush bmode opacity flow smth prsr".split(" "))}hU.prototype=new ah;function hv(){ah.call(this,["brush","bmode0","samp","wconf"])}hv.prototype=new ah;
function bA(){ah.call(this,["brush"])}bA.prototype=new ah;function gj(){ah.call(this,["brush","bmode","opacity","smth","prsr"])}gj.prototype=new ah;
function fz(){ah.call(this,["brush","rng","expo"])}fz.prototype=new ah;function jk(){ah.call(this,"brush bmode opacity algnd sfrom alt".split(" "))}jk.prototype=new ah;
function aB(w){aj.call(this);if(w==null)return;var n=s.t("span","fitem");this.body.appendChild(n);var H=[[17,0],[17,1],[11,12,0],[17,2]];
this.oT=[];for(var l=0;l<H.length;l++){var y=new eO(H[l],!1,null,!0);this.oT.push(y);y.h("click",this.ahA,this);
if(!w||l==1)n.appendChild(y.n)}this.Nt=new jL;this.Nt.h(M.E.A,this.ar_,this);if(!w)this.body.appendChild(this.Nt.n);
this.qU=new eO([15,7,6],!1,null,!0);this.qU.h("click",this.ahA,this);if(!w)this.body.appendChild(this.qU.n);
this.pX=new jH([15,7,10]);this.pX.h(M.E.A,this.ar_,this);if(!w)this.body.appendChild(this.pX.n);this.i0=new bp;
this.i0.h("click",this.sk,this)}aB.prototype=new aj;aB.prototype.I5=function(){this.i0.f();for(var l=0;
l<this.oT.length;l++)this.oT[l].f();this.Nt.f();this.pX.f();this.qU.f()};aB.prototype.TV=function(w){var n=this.i0.n;
if(w.E3)this.body.appendChild(n);else if(this.body.contains(n))this.body.removeChild(n);if(w.Nt)this.Nt.$(w.Nt)};
aB.prototype.sk=function(w){var n={d:M.c.ns,G:this.G,TC:this.i0.o()?"commit":"cancel"},H=new aL(M.E.L,!0);
H.data=n;this.S(H)};aB.prototype.ahA=function(w){w.target.n.blur();var n={d:M.c.ns,G:this.G,TC:"cropby",a3A:this.oT.indexOf(w.target)};
if(w.target==this.qU)n.TC="straighten";var H=new aL(M.E.L,!0);H.data=n;this.S(H)};aB.prototype.ar_=function(w){var n={d:M.c.ns,G:this.G,TC:"config",uF:{JF:this.Nt.o(),_6:this.pX.o()},aqo:w.target==this.Nt},H=new aL(M.E.L,!0);
H.data=n;this.S(H)};function f_(){aB.call(this,!1)}f_.prototype=new aB;function ak(){aB.call(this,!0)}ak.prototype=new aB;
function iR(){ah.call(this,["brush","rng","expo"])}iR.prototype=new ah;function cN(){ah.call(this,"brush emode opacity flow smth prsr".split(" "))}cN.prototype=new ah;
function gU(){ah.call(this,["brush","samp","wconf"])}gU.prototype=new ah;function a8(){di.call(this,!1,["binop","feat","anta","redge","cstr"])}a8.prototype=new di(!0);
function gn(){aj.call(this);var w=this.U3=[new dw([12,20,0],["1x1","3x3","5x5","11x11","31x31"]),new dw([12,70],[[17,1],[17,3],[17,0]]),new jH([12,20,1]),new jH([8,0])];
w[1].$(2);w[2].$(!0);for(var l=0;l<w.length;l++){var n=w[l];n.h(M.E.A,this.rw,this);this.body.appendChild(n.n)}}gn.prototype=new aj;
gn.prototype.rw=function(w){var n=this.U3,H=[];for(var l=0;l<n.length;l++)H[l]=n[l].o();var y=new aL(M.E.L,!0);
y.data={d:M.c.ns,G:this.G,kT:H};this.S(y)};gn.prototype.I5=function(){for(var l=0;l<this.U3.length;l++)this.U3[l].f()};
function at(){aj.call(this);this.h3=new eK(!1);this.h3.parent=this;this.h3.h(M.E.A,this.x1,this);this.body.appendChild(this.h3.n);
this.h3.$(JSON.parse(d5.n0.avu).v);this.p0=new dw(null,d5.M.names.slice(0,5));this.p0.h(M.E.A,this.x1,this);
this.body.appendChild(this.p0.n);this.pW=new dw([12,19,0],eS.SX,eS.dH);this.pW.h(M.E.A,this.x1,this);
this.body.appendChild(this.pW.n);this.Z1=new kc([12,0],0,100,"%");this.Z1.parent=this;this.Z1.h(M.E.A,this.x1,this);
this.body.appendChild(this.Z1.n);this.Z1.$(100);this.sZ=new jH([12,23,0]);this.sZ.h(M.E.A,this.x1,this);
this.body.appendChild(this.sZ.n);this.rQ=new jH([12,23,3]);this.rQ.h(M.E.A,this.x1,this);this.body.appendChild(this.rQ.n)}at.prototype=new aj;
at.prototype.I5=function(){this.p0.f();this.pW.f();this.Z1.f();this.sZ.f();this.rQ.f()};at.prototype.AB=function(w,n){aj.prototype.AB.call(this,w,n);
var H=n==h6.Fz;this.h3.Tv(w.Ni,w.uu);if(H||n==h6.Wk||n==h6.z8)this.h3.iq(w.Wr)};at.prototype.x1=function(){var w=new aL(M.E.L,!0);
w.data={d:M.c.ns,G:this.G};w.data.PY={M:this.h3.o(),fw:d5.M.types[this.p0.o()],XR:this.sZ.zr(),MT:this.rQ.zr(),ao0:eS.$Q[this.pW.o()],wi:this.Z1.o()/100};
this.S(w)};function de(){aj.call(this);this.UT=new jH([8,7,1]);this.body.appendChild(this.UT.n);this.UT.h(M.E.A,this.rw,this)}de.prototype=new aj;
de.prototype.rw=function(){var w={d:M.c.ns,G:this.G,QH:this.UT.o()},n=new aL(M.E.L,!0);n.data=w;this.S(n)};
function fp(){aj.call(this);var w=s.t("span","fitem");this.body.appendChild(w);this.GL=[new kc([12,15],-180,180,"\xB0"),new eO([1,12,2],null,null,!0)];
for(var l=0;l<this.GL.length;l++){var n=this.GL[l];n.parent=this;w.appendChild(n.n);n.h(l==1?"click":M.E.A,this.xg,this)}}fp.prototype=new aj;
fp.prototype.I5=function(){for(var l=0;l<this.GL.length;l++)this.GL[l].f()};fp.prototype.TV=function(w){this.GL[0].$(w.lQ*180/Math.PI)};
fp.prototype.xg=function(w){var n=this.GL.indexOf(w.target),H=new aL(M.E.L,!0);H.data={d:M.c.ns,G:this.G,lQ:n==1?0:w.target.o()*Math.PI/180};
this.S(H)};function ks(){ah.call(this,["brush","algnd","sfrom","alt"])}ks.prototype=new ah;function b_(){aj.call(this);
this.Fb=new gR;this.Fb.parent=this;this.body.appendChild(this.Fb.HF.n);this.body.appendChild(this.Fb.rl.n);
this.body.appendChild(this.Fb.ct.n);this.body.appendChild(this.Fb.CJ.n);var w=s.t("span","fitem");this.body.appendChild(w);
w.appendChild(this.Fb.hZ.n);w.appendChild(this.Fb.IT.n);w.appendChild(this.Fb.PK.n);this.m2=new dw("Aa",[[22,5,0],[12,95,0],[12,95,1],[12,95,2],[12,95,3]]);
this.m2.h(M.E.A,this.sk,this);this.body.appendChild(this.m2.n);this.tx=new eO([11,9],!1,null,!0);this.tx.h("click",this.aw1,this);
this.body.appendChild(this.tx.n);this.i0=new bp;this.i0.h("click",this.sk,this)}b_.prototype=new aj;
b_.prototype.I5=function(){this.i0.f();this.Fb.f();this.tx.f()};b_.prototype.aw1=function(w){var n={d:M.c.ns,G:this.G,TC:"showwarp"},H=new aL(M.E.L,!0);
H.data=n;this.S(H)};b_.prototype.TV=function(w){if(w.TC=="showactive")this.body.appendChild(this.i0.n);
if(w.TC=="hideactive")this.body.removeChild(this.i0.n);if(w.TC=="changeAA")this.m2.$(w.z2);if(w.TC=="showpan"){var n=[{name:[0,1],Pp:!0}],H=[{Y:M.E.v,G:P.nr,W:{d:"editCurr",Nf:w.Nf}}],y=w.nu;
if(w.aey){n=[{name:["VAR0: VAR1",[0,5],[7,0]],Pp:!0}];H=[{Y:M.E.dp,W:P.Me.pd(!0)}];var c=iv.acW();n=n.concat(c[0]);
H=H.concat(c[1])}n.push({name:[11,9]});H.push({Y:M.E.L,W:{d:M.c.ns,G:this.G,TC:"showwarp"}});var Q=new az(n,H);
Q.parent=this;Q.f();Q.update(w.UE,w.KM);var q=new aL(M.E.L,!0);q.data={d:M.c.hf,_0:Q,x:y.JV+2,y:y.m6+1};
this.S(q)}};b_.prototype.AB=function(w,n){aj.prototype.AB.call(this,w,n);if(n!=h6.z8&&n!=h6.A_&&n!=h6.Ax&&n!=h6.W3)return;
this.Fb.$(w.Qx,w.KF,w.h$)};b_.prototype.sk=function(w){var n={d:M.c.ns,G:this.G,TC:this.i0.o()?"commit":"cancel"};
if(w.target==this.m2){n.TC="changeAA";n.z2=this.m2.o()}var H=new aL(M.E.L,!0);H.data=n;this.S(H)};function iW(){di.call(this,!1,["binop","feat","anta","redge"])}iW.prototype=new di(!0);
function h4(){aj.call(this);var w=[],H="<svg  class=\"autoscale gsicon\" viewBox=\"0 0 14 18\" width=\"14\" height=\"18\" fill=\"black\"><path d=\"M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z\" /></svg>";
this.gn=new jH([12,85]);this.gn.h(M.E.A,this.rw,this);w.push(this.gn.n);this.zt=new dw(null,[[0,4],[0,3]]);
this.zt.h(M.E.A,this.rw,this);this.zt.$(1);w.push(this.zt.n);this.L6=new jH([20,1]);this.L6.h(M.E.A,this.rw,this);
w.push(this.L6.n);this.m1=new jH([12,83]);this.m1.h(M.E.A,this.rw,this);w.push(this.m1.n);this.dP=new bU;
this.dP.n=s.t("div","floatcont form");this.dP.n.setAttribute("style","max-width: 200px;");this.dP.parent=this;
var n=this.dP.n;this.asB=new dw("Scale for exported files",["1x","2x","3x","4x"]);n.appendChild(this.asB.n);
this.qa=new eO(H+" PNG",!1,"Save selected layers as PNG",!0);n.appendChild(this.qa.n);this.qa.h("click",this.zk,this);
this.a2Q=new eO(H+" SVG",!1,"Save selected layers as SVG",!0);n.appendChild(this.a2Q.n);this.a2Q.h("click",this.zk,this);
var y=new eO(H,!1,"Save selected layers",!0);w.push(y.n);y.h("click",function(A){if(s._Q(this.dP.n))return;
var V=y.n.getBoundingClientRect(),e=new aL(M.E.L,!0);e.data={d:M.c.hf,_0:this.dP,x:V.left,y:V.top+V.height,i2:!0};
this.S(e)},this);var c=s.t("span","fitem");w.push(c);var Q=s.t("span","fitem");w.push(Q);this.Zp=[];
for(var l=0;l<8;l++){var q=l==3||l==7?[20,4,6]:[20,4,l<3?l:l-1],S=new eO("Hi",!1,q);(l<4?c:Q).appendChild(S.n);
S.h("click",this.zk,this);this.Zp.push(S)}for(var l=0;l<w.length;l++)this.body.appendChild(w[l]);this.af8=w}h4.prototype=new aj;
h4.prototype.TV=function(w){var n=w.ml,H=w.axQ;this.gn.$(n.xY);this.L6.$(n.pY);this.m1.$(n.ls);if(H){s.Of(this.body);
for(var l=0;l<H.length;l++)if(H[l]==1&&this.af8[l])this.body.appendChild(this.af8[l])}};h4.prototype.zk=function(w){var n=this.Zp.indexOf(w.target),H;
if(n==-1){H=new aL(M.E.L,!0);H.data={d:M.c.ns,G:this.G,cl:w.target==this.qa?"getPNG":"getSVG",x5:this.asB.o()+1}}else{H=new aL(M.E.v,!0);
H.G=P.DX;H.data={d:"algn",Z:n}}this.S(H)};h4.prototype.rw=function(w){var n=new aL(M.E.L,!0);n.data={d:M.c.ns,G:this.G,cl:"prms",xY:this.gn.zr(),aaD:this.zt.o(),pY:this.L6.zr(),ls:this.m1.zr()};
this.S(n)};h4.prototype.I5=function(){this.gn.f();this.zt.f();this.L6.f();this.m1.f();var w="h0 h1 h2 hG v0 v1 v2 vG".split(" ");
for(var l=0;l<8;l++){this.Zp[l].TO(s.OE("align/"+w[l],null,"autoscale"))}};function e6(){di.call(this,!1,["binop","feat","redge","wconf","sall"])}e6.prototype=new di(!0);
function bY(){ah.call(this,["setop","patch"])}bY.prototype=new ah;function fR(){ah.call(this,["setop"])}fR.prototype=new ah;
function aa(){ah.call(this,["bmode","opacity","wconf","sall"])}aa.prototype=new ah;function dT(){di.call(this,!1,["binop","feat","anta","redge"])}dT.prototype=new di(!0);
function cX(){di.call(this,!1,["binop","feat","anta","redge"])}cX.prototype=new di(!0);function iU(){di.call(this,!1,["binop","feat","redge","cstr"])}iU.prototype=new di(!0);
function hm(){aj.call(this);this.Uz=null;this.YL=null;this.zo=[new f0("X",null,3.2,null,!0),new f0("Y",null,3.2,null,!0),new f0("W",null,3.2,null,!0),new f0("H",null,3.2,null,!0),new f0([12,15],"\xB0",3.7,null,!0),new f0(["VAR0 1",[12,80,0]],null,3.5,null,!0),new f0(["VAR0 2",[12,80,0]],null,3.5,null,!0),new eO([15,7,6],!1,null,!0),new eO([2,2],!1,null,!0)];
for(var l=0;l<this.zo.length;l++){var w=this.zo[l];this.body.appendChild(w.n);if(l>6)w.h("click",this.di,this)}this.eo=0}hm.prototype=new aj;
hm.prototype.di=function(w){var n=this.zo.indexOf(w.target)==7,H=new aL(M.E.v,!0);if(n){if(this.eo==0)return;
H.G=P.xM;H.data={d:"rot",hG:[2,5],Z:-this.eo}}else{H.G=P.s0;for(var l=0;l<6;l++)this.zo[l].$(null)}this.S(H)};
hm.prototype.TV=function(w){function n(S,A,V){var e=Math.sqrt(Math.pow(A.x-S.x,2)+Math.pow(A.y-S.y,2)),d=Math.sqrt(Math.pow(A.x-V.x,2)+Math.pow(A.y-V.y,2)),N=Math.sqrt(Math.pow(V.x-S.x,2)+Math.pow(V.y-S.y,2));
return Math.acos((d*d+e*e-N*N)/(2*d*e))}if(w==null)return;this.YL=w;var H=w.a4z,y=w.rN,c=y.x-H.x,Q=y.y-H.y;
this.eo=-Math.atan2(Q,c);if(w.GI)this.eo=n(y,H,w.GI);var q=this.zo;q[0].$(this.Dc(w,H.x));q[1].$(this.Dc(w,H.y));
q[2].$(this.Dc(w,c));q[3].$(this.Dc(w,Q));q[4].$((this.eo*180/Math.PI).toFixed(2));q[5].$(this.Dc(w,ce.Re(H,y)));
if(w.GI){q[6].$(this.Dc(w,ce.Re(H,w.GI)))}else q[6].$("")};hm.prototype.Dc=function(w,n){var H=O.xr.To(n,w.uP,this.Uz,w.aaC,!1);
return parseFloat(H).toFixed(2)};hm.prototype.AB=function(w,n){this.Uz=w;this.TV(this.YL)};hm.prototype.I5=function(){var w=this.zo;
for(var l=0;l<w.length;l++)w[l].f();s.KY(w[2],w[3])};function c3(){ah.call(this,["brush","strn","pdetail"])}c3.prototype=new ah;
function cs(){ah.call(this,["brush","sfrom"]);this.a1Z=[];var w=[[7,12]];for(var l=0;l<w.length;l++){var n=new eO(w[l],!1,null,!0);
this.a1Z.push(n);n.parent=this;this.body.appendChild(n.n);n.h("click",this.a8h,this)}}cs.prototype=new ah;
cs.prototype.a8h=function(w){var n=this.a1Z.indexOf(w.currentTarget),H=new aL(M.E.dp,!0);H.data=P.sT.ba("contentAware");
this.S(H)};function c4(){ah.call(this,["brush","strn"])}c4.prototype=new ah;function ag(){ah.call(this,["brush","flow","smode"])}ag.prototype=new ah;
function je(){aj.call(this);this.G$=!1;var w=s.t("span","fitem");this.body.appendChild(w);this.sC=new iY(null,["<img src=\""+PIMG.zoomIn+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.zoomOut+"\" class=\"autoscale gsicon\" />"]);
w.appendChild(this.sC.n);this.sC.h(M.E.A,this.rw,this);this.XB=new eO([20,2]);this.body.appendChild(this.XB.n);
this.XB.h("click",this.a96,this);this.Hx=new eO([20,3]);this.body.appendChild(this.Hx.n);this.Hx.h("click",this.a96,this);
this.UT=new jH([8,7,1]);this.body.appendChild(this.UT.n);this.UT.h(M.E.A,this.rw,this)}je.prototype=new aj;
je.prototype.I5=function(){this.XB.f();this.Hx.f()};je.prototype.rw=function(){var w={d:M.c.ns,G:this.G,wy:this.sC.o()==0,QH:this.UT.o()},n=new aL(M.E.L,!0);
n.data=w;this.S(n)};je.prototype.TV=function(w){if(this.G$!=w.G$)this.sC.$(1-this.sC.o());this.G$=w.G$};
je.prototype.a96=function(w){var n=new aL(M.E.v,!0);n.G=P.uD;n.data={d:"adapt",Z:w.target==this.XB?"pixel":"fitscr"};
this.S(n)};function cq(w,n){aj.call(this);if(w==null)return;this.ZA=w;this.P1={};this.aqr=n;for(var l=0;
l<w.length;l++){var H=w[l],y=null;if(H=="tmode"){y=new dw(null,[[12,76,1],[12,76,0],[12,76,2]]);y.$(0);
if(n)y.anh(2)}if(H=="make"){y=new iY("Make",[[17,2],[12,76,1]],null,!0)}if(H=="anta"){y=new jH([12,25,1]);
y.$(!0)}if(H=="binop"){y=new dw(null,[[6,13],[18,1],[18,2],[18,3],[18,4]])}if(H=="pshape")y=new dw(null,[[12,93,0],[12,93,1],[12,93,4],[12,93,2]]);
if(H=="shape")y=new gB([12,76,1]);if(H=="crad"){y=new kc([12,94,0],0,50,"px");y.$(0)}if(H=="cstr"){y=new jL}if(H=="irad"){y=new kc([12,94,1],0,100,"%");
y.$(40)}if(H=="length"){y=new kc([12,80,0],4,40);y.$(4)}if(H=="sides"){y=new kc([12,78],3,30);y.$(5)}if(H=="width"){y=new kc([12,41],1,100,"px");
y.$(5)}if(H=="tolr"){y=new kc([12,24],0,100);y.$(5)}if(H=="fstyle"){y=new bN([12,26])}if(H=="sstyle"){y=new aI}if(H=="psnap"){y=new jH([8,10])}if(H=="crnr"){y=new eO("\u2312",!1,[12,94,0],!0)}if(H=="aopts"){y=new j7;
y.$([!1,!1,50,60,0])}y.parent=this;this.body.appendChild(y.n);this.P1[H]=y;y.h(H=="crnr"?"click":M.E.A,this.rw,this)}}cq.prototype=new aj;
cq.prototype.TV=function(w){if(w.AX!=null)this.P1.binop.$(w.AX);else if(w.cl=="vals")for(var n in w.arC)this.P1[n].$(w.arC[n]);
else{var H=cq.KV;if(H==null)H=cq.KV=new az([{name:"Remove Anchor Point",C:function(c){var Q=c?c._e():null;
return{C:c&&Q[1].length!=0&&Q[0][Q[1][0]].add.vmsk.V1.length!=0}}},{name:"Remove Path",C:function(c){var Q=c?c._e():null;
return{C:c&&Q[1].length!=0&&Q[0][Q[1][0]].add.vmsk.g.length!=0}},Pp:!0},{name:"Make Selection"},{name:[2,3]},{name:[14,9]}],[{Y:M.E.v,G:P.Dl,W:{d:"remove",gY:!0}},{Y:M.E.v,G:P.ko,W:{d:"remove"}},{Y:M.E.L,W:{d:M.c.rL,Ln:"makesel"}},{Y:M.E.dp,W:P.S2.Qi(0)},{Y:M.E.dp,W:P.S2.Qi(1)}]);
H.parent=this;H.update(w.UE,w.KM);var y=new aL(M.E.L,!0);y.data={d:M.c.hf,_0:H,x:w.nu.JV+2,y:w.nu.m6+1};
this.S(y)}};cq.prototype.a4d=function(l){return null};cq.prototype.I5=function(){for(var w in this.P1){this.P1[w].f()}};
cq.prototype.rw=function(w){var n=new aL(M.E.L,!0),H=this.P1;if(w.target==H.crnr){n=new aL(M.E.v,!0);
n.G=P.Dl;n.data={d:"crnr"}}else if(w.target==H.make){var l=w.target.o();console.log(l);if(l==0)n.data={d:M.c.rL,Ln:"makesel"};
else{n=new aL(M.E.v,!0);n.G=P.S0;n.data={d:"newfill",Ph:0}}}else if(w.target==H.fstyle){n.data={d:M.c.Yj,PY:h6.im,Z:H.fstyle.o()}}else if(w.target==H.sstyle){n.data={d:M.c.Yj,PY:h6.pE,Z:H.sstyle.o()}}else if(w.target==H.tmode){n.data={d:M.c.Yj,PY:h6.Zu,Z:H.tmode.o()}}else{if(H.pshape)this.No();
n.data={d:M.c.ns,G:this.G};for(var y in H)n.data[y]=H[y].o()}this.S(n)};cq.prototype.No=function(){var w=this.P1,n=w.tmode.o(),H=w.pshape?this.a4d(w.pshape.o()):this.ZA,y;
if(n==0)y=["anta","make"];if(n==1)y=["anta","fstyle","sstyle"];if(n==2)y=["make","binop","fstyle","sstyle"];
var c=w.binop;if(c){var Q=c.o();if(n==0){c.anB(0)}else{c.anh(0);if(Q==0){c.$(1);this.rw({target:c})}}}s.Of(this.body);
for(var l=0;l<H.length;l++){var q=H[l];if(y.indexOf(q)!=-1)continue;this.body.appendChild(w[q].n)}};
cq.prototype.AB=function(w,n){aj.prototype.AB.call(this,w,n);var H=this.P1.fstyle,y=this.P1.sstyle,c=this.P1.tmode;
if(H)H.AB(w,n);if(y)y.AB(w,n);if(n==h6.z8||n==h6.vG)if(w.Df.length!=0&&this.P1.shape){this.P1.shape.iq(w.Df)}if(n==h6.z8||n==h6.im)if(H)H.$(null,w.jP,w.a5X);
if(n==h6.z8||n==h6.pE)if(y)y.$(null,w.Lp,w.aza);if(n==h6.z8||n==h6.Zu){var Q=w.zd;if(this.aqr&&Q==2)Q=0;
if(c){c.$(Q);this.No()}}};function fK(){cq.call(this,["tmode","make","fstyle","sstyle","binop"],!0)}fK.prototype=new cq;
function gu(){cq.call(this,"tmode make anta fstyle sstyle binop".split(" "))}gu.prototype=new cq;function be(){cq.call(this,["fstyle","sstyle"]);
this.a8b=null;this.a4b=null;this.a30=null;this.ax=new dw([12,76,0],[[18,1],[18,2],[18,3],[18,4],[18,5]],[4]);
this.Lf=new eO("\u25BC");this.Lf.QM();this.gS=new eO("\u25B2");this.gS.QM();this.FY=[this.ax,this.Lf,this.gS];
for(var l=0;l<this.FY.length;l++){var w=this.FY[l];this.body.appendChild(w.n);w.parent=this;w.h(l==0?M.E.A:"click",this.tw,this)}}be.prototype=new cq;
be.prototype.TV=function(w){if(w.TC=="main"){var n=this.FY,H=w.N1;if(H){this.a4b=H.clone();this.a30=JSON.stringify(w.X);
var y=H.g.slice(0),c=y.length;for(var l=0;l<y.length;l++)y[l]++;y.sort(function(A,V){return A-V});n[0].ZF();
n[1].rD(c!=0);n[2].rD(c!=0);n[0].TO(c==0?"No Paths":c==1?"Path "+y[0]:"Paths "+y.slice(0,3).join(",")+(c>3?"..":""));
if(c!=0){var Q=H.g[0],q=O.r.Pt(H.i,Q),S=H.i[q];this.ax.$([3,0,1,2][S.NB])}}else for(var l=0;l<n.length;
l++)n[l].j7()}else cq.prototype.TV.call(this,w)};be.prototype.I5=function(){cq.prototype.I5.call(this);
this.ax.f()};be.prototype.tw=function(w){if(w.target==this.ax||w.target==this.Lf||w.target==this.gS){var n={},H=this.a4b,y=H.i,c=H.g,Q=O.r.xD(y),q=JSON.parse(this.a30);
c.sort(function(R,h){return R-h});if(w.target==this.ax){var S=this.ax.o();if(S<4)for(var l=0;l<c.length;
l++)y[O.r.Pt(y,c[l])].NB=[1,2,3,0][S];else{if(Q<=1)return;H.i=O.r.Yv(y);H.g=H.i.length==2?[]:[0];H.V1=[];
q=[O.X.By()]}}else{var A=w.target==this.Lf?-1:1,V=[];for(var l=0;l<Q;l++){var e=O.r.Pt(y,l),d=e+1+y[e].length;
V.push(y.slice(e,d))}var N=c.slice(0);for(var l=0;l<c.length;l++)N[l]=Math.max(l,Math.min(Q-1-(c.length-1-l),N[l]+A));
if(c.join(",")==N.join(","))return;var b=JSON.parse(JSON.stringify(q));for(var l=0;l<c.length;l++){var z=A==-1?l:c.length-1-l,e=c[z],d=N[z];
if(e!=d){var v=V[e];V[e]=V[d];V[d]=v;v=b[e];b[e]=b[d];b[d]=v}}var T=y.slice(0,2);for(var l=0;l<V.length;
l++)T=T.concat(V[l]);H.i=T;H.g=N;q=b}n.N1=H;n.X=q;var Y=new aL(M.E.L,!0);Y.data={d:M.c.ns,G:this.G,Vm:n};
this.S(Y)}};function cO(){cq.call(this,["fstyle","sstyle","crnr","psnap"])}cO.prototype=new cq;function c1(){cq.call(this,"tmode make anta fstyle sstyle binop cstr crad".split(" "))}c1.prototype=new cq;
function gf(){cq.call(this,"tmode make anta fstyle sstyle binop cstr".split(" "))}gf.prototype=new cq;
function jd(){cq.call(this,"tmode make anta fstyle sstyle binop pshape sides irad crad width aopts length".split(" "));
this.P1.aopts.$([!1,!0,50,60,0])}jd.prototype=new cq;jd.prototype.a4d=function(l){var w=[["sides","crad"],["sides","irad","crad"],["width","aopts"],["length"]];
return"tmode make fstyle sstyle binop pshape".split(" ").concat(w[l])};function j4(){cq.call(this,"tmode make anta fstyle sstyle binop width aopts".split(" "))}j4.prototype=new cq;
function br(){cq.call(this,"tmode make anta fstyle sstyle binop cstr shape".split(" "))}br.prototype=new cq;
function eo(){di.call(this,!1,["binop","feat","redge"])}eo.prototype=new di(!0);function g3(){ah.call(this,["brush","qsmode","redge"])}g3.prototype=new ah;
function ji(){aj.call(this);this.bt=[];for(var l=0;l<2;l++){var w=new eO(l==0?[8,11,3]:["VAR0...",[15,10,22]],null,null,!0);
this.bt.push(w);w.h("click",this.tw,this);this.body.appendChild(w.n)}}ji.prototype=new aj;ji.prototype.tw=function(w){var n;
if(this.bt.indexOf(w.target)==0){n=new aL(M.E.dp,!0);n.data={fd:"make",ei:{__name:"Make",classID:"Mk",null:{t:"obj ",v:[{t:"Clss",v:{classID:"slice"}}]},Usng:{t:"type",v:{classID:"Gd"}}}}}else{n=new aL(M.E.L,!0);
n.data={d:M.c.rL,Ln:"divslice"}}this.S(n)};ji.prototype.I5=function(w){for(var l=0;l<this.bt.length;
l++)this.bt[l].f()};function iM(){aj.call(this);var w=this.uL=[new eO("\u25BC",null,null,!0),new eO("\u25B2",null,null,!0),new eO([5,4],null,null,!0),new eO(["VAR0...",[15,10,22]],null,null,!0)];
for(var l=0;l<4;l++){var n=w[l];this.body.appendChild(n.n);n.h("click",this.tw,this)}}iM.prototype=new aj;
iM.prototype.tw=function(w){var n=this.uL.indexOf(w.target),H;if(n==3){H=new aL(M.E.L,!0);H.data={d:M.c.rL,Ln:"divslice"}}else{H=new aL(M.E.v,!0);
H.G=P.Fn;H.data={d:n==2?"delete":"reorder",dir:n==0?-1:1}}this.S(H)};iM.prototype.f=function(){aj.prototype.f.call(this);
for(var l=0;l<4;l++)this.uL[l].f()};function av(w,n){aj.call(this);if(window.Typr==null||w)return;this.aa6=n;
this.Kb=null;this.a9H=s.t("span","");this.ap1=s.t("span","");var H=1;this.HB={An:new b5(null,24),Xq:new kc("X",0,0,"px",0,!1,!0,4),pt:new kc("Y",0,0,"px",0,!1,!0,4),$L:new kc("W",0,0,["%","px"],2,!1,!0,5),mA:new eO("<img src=\""+PIMG["lrs/link"]+"\" class=\"autoscale gsicon\" />",null,[12,51],null),zj:new kc("H",0,0,["%","px"],2,!1,!0,5),ati:new kc("\u2221",0,0,"\xB0",H,!1,!0),aeg:new kc("\u25B1 H",-85,85,"\xB0",H,!1,!0),adj:new kc("\u25B1 V",-85,85,"\xB0",H,!1,!0),fV:new dw(null,[[12,14,2],[12,14,3],"Bicubic Sharper"])};
this.HB.fV.$(1);this.HB.mA.$(!0);for(var y in this.HB){var c=this.HB[y];if(n&&(c==this.HB.ati||c==this.HB.aeg||c==this.HB.adj||c==this.HB.fV)){}else this.a9H.appendChild(c.n);
var Q=c==this.HB.mA?"click":M.E.A;c.h(Q,this.aex,this)}this.r8=new bS(!0,!0,!0);this.r8.h(M.E.A,this.a1u,this);
this.r8.parent=this;var q=this.ap1,S=this.r8;q.appendChild(S.Pm.n);q.appendChild(S.P$.n);q.appendChild(S.NA.n);
q.appendChild(S.mF.n);q.appendChild(S.wz.n);this.tx=new eO([11,9]);this.tx.h("click",this.ahL,this);
this.i0=new bp;this.i0.h("click",this.sk,this)}av.prototype=new aj;av.prototype.TV=function(w){if(w.nu){var n=av,H=this.KV;
if(H==null)H=this.KV=new az(n.al_(),n.a2J(this.G));H.f();H.parent=this;H.update(w.UE,w.KM);var y=new aL(M.E.L,!0);
y.data={d:M.c.hf,_0:H,x:w.nu.JV+2,y:w.nu.m6+1};this.S(y);return}s.Of(this.body);this.Kb=w;if(w.HB){var c=w.HB.U2,Q=w.HB.Yx.clone(),q=Math.atan2(-Q.k,Q.iL),S=new b7;
S.rotate(-q);Q.concat(S);var A=this.HB;A.An.$(w.HB.CD);A.Xq.$(w.HB._O.x);A.pt.$(w.HB._O.y);A.$L.$(Q.iL*(A.$L.T6()=="%"?100:c.m));
A.zj.$(Q.Du*(A.zj.T6()=="%"?100:c.e));A.ati.$(-q*180/Math.PI);A.aeg.$(Math.atan(Q.Mg/Q.Du)*180/Math.PI);
A.adj.$(0*180/Math.PI);this.body.appendChild(this.a9H);this.tx.k3();if(w.HB.nO!=null)A.mA.$(w.HB.nO)}if(w.cB){this.r8.$(w.cB);
this.body.appendChild(this.ap1);this.tx.QM()}this.body.appendChild(this.i0.n);if(w.aak&&!this.aa6)this.body.appendChild(this.tx.n)};
av.prototype.aex=function(w){var n=this.HB,H=this.Kb.HB.U2;if(w.target==n.mA)n.mA.$(!n.mA.o());else if(n.mA.zr()){var y=n.zj,c=n.$L,Q=H.e,q=H.m;
if(w.target==n.$L){y=n.$L;c=n.zj;Q=H.m;q=H.e}var S=y.o()/(y.T6()=="%"?100:Q);S*=c.T6()=="%"?100:q;c.$(S)}var A=[];
for(var V in n)if(n[V]!=n.mA&&n[V]!=n.An){var S=n[V].o();if((n[V]==n.$L||n[V]==n.zj)&&S==0){S=.1;n[V].$(S)}if(n[V]==n.$L&&n[V].T6()=="px")S/=H.m/100;
if(n[V]==n.zj&&n[V].T6()=="px")S/=H.e/100;A.push(S)}var e=new ce(A[0],A[1]);if(w.target==n.An){this.fy({TC:"ctyp",CD:n.An.o()})}else if(w.target==n.Xq||w.target==n.pt){this.fy({TC:"cen",_O:e})}else{var d=this.Kb.HB.Yx.clone(),N=d.clone(),b=Math.atan2(-d.k,d.iL);
N.translate(-e.x,-e.y);N.rotate(-b);var z=new b7(N.iL,N.k,N.Mg,N.Du,0,0);z.G$();N.concat(z);var v=A[2]/100,T=A[3]/100;
N.concat(new b7(v,v*Math.tan(A[6]*Math.PI/180),T*Math.tan(A[5]*Math.PI/180),T,0,0));N.rotate(-A[4]*Math.PI/180);
N.translate(e.x,e.y);this.Kb.HB.Yx=N;this.fy({TC:"trn",HB:N,yV:this.HB.fV.o(),nO:n.mA.o()})}};av.prototype.a1u=function(w){this.fy({TC:"wrp",cB:this.r8.o()})};
av.prototype.ahL=function(w){this.fy({TC:"switchWarp"})};av.prototype.sk=function(w){this.fy({TC:this.i0.o()?"commit":"cancel"})};
av.prototype.fy=function(w){w.d=M.c.ns;w.G=this.G;var n=new aL(M.E.L,!0);n.data=w;this.S(n)};av.prototype.I5=function(){var w=this.HB;
for(var n in w)w[n].f();s.KY(w.$L,w.zj);this.i0.f();this.r8.f();this.tx.f()};av.al_=function(){var w=function(n){var H=!0;
if(n==null||n.g.length==0)H=!1;else{var y=n.g;for(var l=0;l<y.length;l++){if(n.B[y[l]].add.TySh)H=!1}}return{C:H}};
return[{name:[5,9],Jg:"Shift+Alt+Ctrl + T",Pp:!0},{name:[12,38]},{name:[2,5]},{name:[24,4],C:w},{name:[2,9],C:w},{name:[11,9],C:function(n){if(n==null||n.g.length!=1)return{C:!1};
var H=n.B[n.g[0]];return{C:H.add.TySh==null&&!H.Ok()}},Pp:!0},{name:["VAR0 90\xB0 \u21BB",[2,5]]},{name:["VAR0 90\xB0 \u21BA",[2,5]]},{name:["VAR0 180\xB0",[2,5]]},{name:[[2,6],[22,4,2]]},{name:[[2,6],[22,4,3]]}]};
av.a2J=function(w){if(w==null)w=P.xM;return[{Y:M.E.v,G:w,W:{d:"again"}},{Y:M.E.L,W:{d:M.c.DY,G:w,ml:{Ny:3}}},{Y:M.E.L,W:{d:M.c.DY,G:w,ml:{Ny:4}}},{Y:M.E.L,W:{d:M.c.DY,G:w,ml:{Ny:2}}},{Y:M.E.L,W:{d:M.c.DY,G:w,ml:{Ny:1}}},{Y:M.E.L,W:{d:M.c.DY,G:w,ml:{Ny:-1}}},{Y:M.E.dp,W:P.WJ.kU(!0,90,!0)},{Y:M.E.dp,W:P.WJ.kU(!0,-90,!0)},{Y:M.E.dp,W:P.WJ.kU(!0,-180,!0)},{Y:M.E.dp,W:P.WJ.kU(!1,"Hrzn",!0)},{Y:M.E.dp,W:P.WJ.kU(!1,"Vrtc",!0)}]};
function gJ(){av.call(this)}gJ.prototype=new av(!0);function fA(){av.call(this)}fA.prototype=new av(!0);
function e5(){av.call(this,!1,!0)}e5.prototype=new av(!0);function h9(){aj.call(this);var w=this.ZA=[new dw([12,36],["Rigid",[15,10,0],[24,4]]),new dw([12,74],[[19,8,0],[19,8,1],[19,8,2]]),new kc([7,4],0,100,"px"),new jH("Show Mesh"),new eO("\u25BC",null,null,!0),new eO("\u25B2",null,null,!0)];
for(var l=0;l<w.length;l++){var n=w[l];n.parent=this;this.body.appendChild(n.n);n.h(l<4?M.E.A:"click",this.arm,this)}this.i0=new bp;
this.i0.h("click",this.sk,this);this.body.appendChild(this.i0.n)}h9.prototype=new aj;h9.prototype.I5=function(){var w=this.ZA;
for(var l=0;l<4;l++)w[l].f();this.i0.f()};h9.prototype.TV=function(w){var w=w.PY;for(var l=0;l<4;l++)this.ZA[l].$(w[l])};
h9.prototype.arm=function(w){var n=[];for(var l=0;l<4;l++)n[l]=this.ZA[l].o();var H=this.ZA.indexOf(w.target);
if(H<4)this.fy({TC:"prm",PY:n});else this.fy({TC:"moveDepth",a9q:H==5})};h9.prototype.sk=function(w){this.fy({TC:this.i0.o()?"commit":"cancel"})};
h9.prototype.fy=function(w){w.d=M.c.ns;w.G=this.G;var n=new aL(M.E.L,!0);n.data=w;this.S(n)};function a9(){bU.call(this);
this.n=s.t("div","cmanager");window.alert=function(y,c){this.axb(y,c);console.log("Alert: "+y)}.bind(this);
window.onblur=function(y){var c=this;c.ft()}.bind(this);this.pV=0;this.WZ=0;this.Mi=[];this.zJ={};this.lM=s.t("div","alertcont");
this.n.appendChild(this.lM);this.a6V=s.t("div","alertcont");this.n.appendChild(this.a6V);this.kh=s.t("div","alertcont");
this.anz=0;this.AQ=-1;this.al9=null;this.bt=null;var w=this.arR=s.t("div","alertpanel");w.setAttribute("style","padding:0.7em 1em 0.1em 1em;");
this.kh.appendChild(w);var n=this.ey=s.t("input");n.setAttribute("type","text");s.iV(n);n.setAttribute("style","background-color:white; color:black; font-size:1.2em; width:100%;  margin:0;");
n.addEventListener("input",this.a1U.bind(this),!1);n.addEventListener("keydown",this.afV.bind(this),!1);
w.appendChild(n);var H=this.a63=s.t("div","contextpanel scrollable");H.setAttribute("style","text-align:left; box-shadow:none; margin:0.5em 0 1em 0;color:#888;");
H.addEventListener("click",this.aoZ.bind(this),!1);w.appendChild(H);s.am(document.body,this.a3P.bind(this))}a9.prototype=new bU;
a9.prototype.Pc=function(){if(s._Q(this.kh))this.n.removeChild(this.kh)};a9.prototype.aaV=function(w,n){var H=this.al9=[],y=n.alQ;
for(var l=0;l<iv.data.length;l++){var c=iv.data[l],Q=[hV.get(c.name)],q=[l];a9.afC(c.items,Q,q,H,w,n,y==null?null:y[l]==null?0:y[l])}var S=fV.a;
for(var l=0;l<S.length;l+=3){if(n.dA&&n.dA.indexOf(S[l+2])==-1)continue;H.push([["Tools",hV.get(S[l])],[-1,S[l+2]],S[l+1]])}this.n.appendChild(this.kh);
var A=this.ey;A.focus();A.select();this.k9()};a9.prototype.a1U=function(w){this.AQ=-1;this.k9()};a9.prototype.k9=function(){var w=this.ey.value.toLowerCase().trim().replace(/  +/g," "),n=this.al9,H=[],y=[],c=w.split(" ");
if(w!="")for(var l=0;l<n.length;l++){var Q=n[l][0],q=[],S=0;for(var A=0;A<Q.length;A++)q[A]=-1;for(var V=0;
V<c.length;V++)for(var A=0;A<Q.length;A++){var e=Q[A].toLowerCase().indexOf(c[V]);if(e!=-1){q[A]=[e,e+c[V].length];
S++;break}}if(S==c.length){H.push(n[l]);y.push(q)}}var d=[],N=this.a63;s.Of(N);for(var l=0;l<H.length;
l++){var b=H[l],z=b[0],e=y[l],v="enab",Y="";if(l==this.AQ)v+=" active";var T=s.t("div",v);d.push(T);
N.appendChild(T);for(var A=0;A<z.length;A++){var g=e[A],R=c[A],h=z[A];if(g!=-1)h=h.slice(0,g[0])+"<span style=\"color:black\">"+h.slice(g[0],g[1])+"</span>"+h.slice(g[1]);
Y+=h;if(A<z.length-1)Y+=" \uFE65 "}if(b[2]&&(typeof b[2]!="string"||b[2].length==1))Y+=" <span style=\"border:1px solid; margin-left:16px; padding:1px 5px; border-radius:5px; background-color:#f4f4f4;\">"+b8.nS(b[2])+"</span>";
T.innerHTML=Y}this.bt=[H,d]};a9.prototype.afV=function(w){var n=b8.dy,H=w.code;if(n(H,b8.RN))this.Pc();
var y=n(H,b8.sm),c=n(H,b8.JL),Q=n(H,b8.IO);if(y||c){this.AQ=Math.max(0,Math.min(this.bt[0].length-1,this.AQ+(y?-1:1)));
this.k9()}if(Q&&this.AQ!=-1)this.aa2(this.AQ)};a9.afC=function(w,n,H,y,c,Q,q){if(typeof q=="number"){if(q==0)return;
if(q==1)q=null}for(var l=0;l<w.length;l++){if(q!=null&&(q[l]==0||q[l]==null))continue;var S=w[l],A=n.slice(0),V=H.slice(0),e=hV.get(S.name);
if(S.C){var d=S.C(c,Q,l);if(d.dc)e=d.dc;if(d.C==!1)continue}A.push(e);V.push(l);if(S.sub)a9.afC(S.sub,A,V,y,c,Q,q?q[l]:null);
else y.push([A,V,S.Jg])}};a9.prototype.aoZ=function(w){var n=w.target;if(n.tagName.toLowerCase()=="span")n=n.parentNode;
var H=this.bt[1].indexOf(n);if(H!=-1)this.aa2(H)};a9.prototype.aa2=function(w){var n=this.bt[0][w][1];
if(n[0]==-1){var H=new aL(M.E.L,!0);H.data={d:M.c.DY,G:n[1]};this.S(H)}else{var y=iv.data[n[0]].Lx[n[1]];
for(var l=2;l<n.length;l++)y=y.sub[n[l]];var c=new aL(y.Y,!0);c.G=y.G;c.data=y.W;this.S(c)}this.Pc()};
a9.prototype.kc=function(w,n){this.pV=w;this.WZ=n;this.a63.style["max-height"]=n-120+"px"};a9.prototype.avY=function(w){var n=s.t("div","alertpanel");
n.textContent=hV.get(w);this.lM.appendChild(n);this.zJ[JSON.stringify(w)]=n};a9.prototype.a4t=function(w){var n=this.zJ[JSON.stringify(w)];
this.lM.removeChild(n);delete this.zJ[JSON.stringify(w)]};a9.prototype.axb=function(w,n){var H=this.a6V;
for(var l=0;l<H.children.length;l++)if(H.children[l].textContent==w)return;var y=s.t("div","alertpanel tpanel");
y.textContent=w;y.setAttribute("style","opacity:0.5; transform:scale(0.9)\t");H.appendChild(y);if(n==null)n=1500;
var c=n,Q=Math.max(Date.now()+c,this.anz+c);setTimeout(function(){y.setAttribute("style","transform:scale(1); opacity:1;")},10);
setTimeout(function(){H.setAttribute("style","margin-top: -3.6em; transform: translateY(3.6em);")},Q-Date.now()-30);
setTimeout(function(){H.removeChild(H.firstChild);H.setAttribute("style","transition: transform 0.7s;  margin-top: 1em;  transform: translateY(0em);")},Q-Date.now());
this.anz=Q};a9.prototype.a3P=function(w){var n=this.Mi;for(var l=n.length-1;l>=0;l--){var H=n[l],y=w.target;
while(y!=null){if(y==H.n){this.ft(H);return}y=y.parentNode}}this.ft();var c=w.target;while(c!=this.kh&&c!=document.body)c=c.parentNode;
if(c!=this.kh)this.Pc()};a9.prototype.ft=function(w){var n=this.Mi;for(var l=0;l<n.length;l++){if(w&&w.aqj(n[l]))continue;
var H=n[l].n;if(!(n[l]instanceof az))s.ul(n[l],this.n);else this.n.removeChild(H);H.style.height="auto";
s.n_(H,"scrollable");n.splice(l,1);l--}};a9.prototype.a8x=function(w){this.ft(w._0);var n=w._0,H=n.n;
if(this.Mi.indexOf(n)!=-1)return;this.Mi.push(n);this.n.appendChild(H);var y=this.pV,c=this.WZ,Q=w.x,q=w.y,S=this.n.getBoundingClientRect(),A=n instanceof az,V=-1,e=c-2;
if(A||w.i2){var d=n.YG(),N=n.aqT();if(A)d=Math.min(d,200);var b=y-d-2,z=c-N-2;if(q<z)V=2;else if(Q<b)V=1;
else if(0<q-N-2)V=0;else V=3;if(w.a2o)V=0;if(w.a43)V=2;if(V==2){Q=Math.min(Q,b)}else if(V==1){q=Math.min(q,z)}else if(V==0){q=q-N-2;
Q=Math.min(Q,b);e=w.y}else if(V==3){Q=Q-d-2;q=Math.min(q,z)}}q=Math.max(2,q);var top=Math.round(q-S.y+this.n.offsetTop);
H.style.position="absolute";H.style["z-index"]=10;if(q+n.aqT()>e){H.style.height=e-q+"px";s.li(H,"scrollable");
if(V==3)Q-=10}H.style.left=Math.round(Q)+"px";H.style.top=top+"px";if(!(n instanceof az))s.tf(n)};a9.prototype.auz=function(w){var n=w._0,H=this.Mi.indexOf(n);
if(H==-1)return;this.Mi.splice(H,1);var y=n.n;if(!(n instanceof az))s.ul(n,this.n);else this.n.removeChild(n.n)};
a9.prototype.O9=function(){var w=this.Mi;return w.length==0?null:w[w.length-1]};a9.prototype.a9p=function(){this.auz({_0:this.O9()})};
function gz(){bU.call(this);this.n=s.t("div","confbar")}gz.prototype=new bU;gz.prototype.acL=function(w){w.parent=this;
s.Of(this.n);this.n.appendChild(w.n)};function f1(w){bU.call(this);f1.dU=this;f1.KR=w;this.Uz=null;this.zM=s.t("input","");
this.zM.setAttribute("type","file");this.zM.setAttribute("multiple","");this.zM.addEventListener("change",function(n){this.an(n.target.files,null,this.YS,null);
this.YS=null}.bind(this),!1);document.body.appendChild(this.zM);this.zM.setAttribute("style","display:none");
this.ajX=[];this.r2=!1;this.arH=[];this.s3=!1;this.acE={};this.YS=null}f1.prototype=new bU;f1.KR=null;
f1._D=function(w){try{var n={};n[w.type]=w;navigator.clipboard.write([new ClipboardItem(n)])}catch(hV){console.error(hV,hV.message)}};
f1.mJ=function(w,n){navigator.clipboard.read().then(function(H){for(var l=0;l<H.length;l++){try{var y=H[l],c={},Q=0,q=0;
for(var S=0;S<y.types.length;S++){var A=y.types[S];Q++;y.getType(A).then(function(V){var e=A;new Response(V).arrayBuffer().then(function(d){c[this.Ph]=d;
q++;if(q==Q)f1.alG(c,w,n)}.bind({Ph:this.Ph}))}.bind({Ph:A}))}}catch(hV){console.error(hV,hV.message)}}}).catch(function(H){})};
f1.at0=function(w){navigator.permissions.query({name:"clipboard-read"}).then(function(n){w(n.state)})};
f1.alG=function(w,n,H){var y=["text/plain","image/png","text/html","text/plain"];for(var c in w)console.log(c,c.startsWith("text")?j.NR(new Uint8Array(w[c])).slice(0,100)+"...":w[c]);
for(var Q=0;Q<y.length;Q++){var q=y[Q],S=w[q];if(S==null)continue;if(q=="image/png"){f1.KR({name:"image.png"},S,n,H);
return}if(q=="text/plain"){var A=j.NR(new Uint8Array(S));if(Q==0)if(!A.startsWith("<!--")&&!A.startsWith("<svg"))continue;
if(H&&A.startsWith("<svg"))continue;var V=new aL(M.E.L,!0);V.data={d:M.c.a4h,Z:A};n.S(V);return}if(q=="text/html"){var A=j.NR(new Uint8Array(S)),e=A.indexOf("src=\"");
if(e!=-1&&A.slice(e+5,e+9)!="http"){var d=e+10;while(A[d]!="\"")d++;var N=A.slice(e+5,d);f1.KR({name:"chart.png"},cb.Vt(N).buffer,n,H);
return}}}};f1.prototype.sN=function(w){if(w==null)w=[23,5];var n=JSON.stringify(w),H=this.acE;if(H[n]==null)H[n]=0;
if(H[n]==0){var y=new aL(M.E.L,!0);y.data={d:M.c.el,D0:w};this.S(y)}H[n]++};f1.prototype.Kv=function(w){if(w==null)w=[23,5];
var n=JSON.stringify(w),H=this.acE;if(H[n]==null)H[n]=0;H[n]--;if(H[n]==0){var y=new aL(M.E.L,!0);y.data={d:M.c.yW,D0:w};
this.S(y)}};f1.prototype.at1=function(w,n){this.YS=w;var H=window.showOpenFilePicker;if(H&&window.self==window.top){var y=this;
H({multiple:!0}).then(function(q){var S=[];function A(V){S.push(V);if(S.length==q.length){y.an(S,null,y.YS,null,q);
y.YS=null}else q[S.length].getFile().then(A)}q[S.length].getFile().then(A)});return}var c=this.zM;if(n)c.setAttribute("accept",n);
else c.removeAttribute("accept");var Q=document.createEvent("MouseEvents");Q.initMouseEvent("click",!0,!0,document.defaultView,1,0,0,0,0,!1,!1,!1,!1,0,null);
c.dispatchEvent(Q)};f1.prototype.$e=function(w){if(w.url.indexOf("photopea.com#i")!=-1||w.url.indexOf("photopea.com/#i")!=-1){this.J5(w.url.split("#i").pop());
return}this.ajX.push(w);this.amI()};f1.prototype.amI=function(){var w=this.ajX;if(w.length==0||this.r2)return;
this.r2=!0;var n=w.shift();this.sN();if(n.fB==null)n.fB={};var H=new XMLHttpRequest;H.Gm=n;var y=n.url;
if(n.oD&&!y.startsWith("data:image"))y="mirror.php?url="+encodeURIComponent(y);H.open("GET",y);if(n.MN)for(var c in n.MN)H.setRequestHeader(c,n.MN[c]);
H.responseType="arraybuffer";H.onload=this.apb.bind(this);H.send()};f1.prototype.an=function(w,n,H,y,c){for(var l=0;
l<w.length;l++){this.sN();var Q=w[l],q=new FileReader;q.Gm=Q;q.Gm.Ws=H;q.Gm.wq=y;q.a3u=n;if(c)q.Gm.Nm=c[l];
q.onload=this.apb.bind(this);q.onerror=function(S){this.Kv()}.bind(this);this.arH.push([q,Q])}this.zM.value=null;
this.akY()};f1.prototype.akY=function(){var w=this.arH;if(w.length==0||this.s3)return;this.s3=!0;var n=w.shift();
n[0].readAsArrayBuffer(n[1])};f1.prototype.arY=function(w,n,H){this.sN("Saving ...");this.Uz=n;setTimeout(H.bind({jQ:w,caller:this}),50)};
f1.ug=function(w){var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",H=new Uint8Array(w),y=H.length,c=y%3,Q=y-c,q=[],S=0,A=0,V=0;
for(var l=0;l<Q;l+=3){S=H[l];A=H[l+1];V=H[l+2];q.push(n[S>>2]+n[(S&3)<<4|A>>4]+n[(A&15)<<2|V>>6]+n[V&63])}if(c==1){S=H[Q];
q.push(n[S>>2]+n[(S&3)<<4]+"==")}if(c==2){S=H[Q];A=H[Q+1];q.push(n[S>>2]+n[(S&3)<<4|A>>4]+n[(A&15)<<2]+"=")}var e=q.join("");
return e};f1.a3T=function(w,n){var H="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",y=new Uint8Array(64),S=0,A=0,V=0,d=0;
for(var l=0;l<64;l++)y[l]=H.charCodeAt(l);var c=new Uint8Array(w),Q=n%3,q=n-Q,e=new Uint8Array(Math.floor(n/3)*4+(Q==0?0:4));
for(var l=0;l<q;l+=3){S=c[l];A=c[l+1];V=c[l+2];e[d]=y[S>>>2];e[d+1]=y[(S&3)<<4|A>>>4];e[d+2]=y[(A&15)<<2|V>>>6];
e[d+3]=y[V&63];d+=4}if(Q==1){S=c[q];e[d]=y[S>>2];e[d+1]=y[(S&3)<<4];e[d+2]=61;e[d+3]=61}if(Q==2){S=c[q];
A=c[q+1];e[d]=y[S>>2];e[d+1]=y[(S&3)<<4|A>>4];e[d+2]=y[(A&15)<<2];e[d+3]=61}return e};f1.prototype.apb=function(w){var n,H=w.target.Gm;
if(w.target instanceof XMLHttpRequest)n=w.target.response;else n=w.target.result;f1.KR(H,n,this,w.target.a3u);
this.Kv();if(w.target instanceof XMLHttpRequest){this.r2=!1;this.amI()}else{this.s3=!1;this.akY()}};
f1.a5Q=function(w,n){var H=new XMLHttpRequest;H.open("POST","https://api.imgur.com/3/image",!0);H.er=n;
H.setRequestHeader("Authorization","Client-ID 3ad80d2d9969219");H.setRequestHeader("Content-type","application/x-www-form-urlencoded");
H.setRequestHeader("Accept","application/json");H.addEventListener("load",f1.ad8);H.send("type=base64&image="+encodeURIComponent(f1.ug(w)));
alert("Saving to Imgur ...",4e3)};f1.ad8=function(w){var n=JSON.parse(w.target.response);if(n.success){if(w.target.er)w.target.er(n.data.link);
else window.open(n.data.link,"Imgur")}};f1.prototype.J5=function(w,n,H){this.sN();var y=new XMLHttpRequest;
y.responseType="arraybuffer";y.open("GET","https://f000.backblazeb2.com/file/"+(H?"pp-resources":"psdshared")+"/"+w);
y.onload=this.afv.bind(this);y.send();y.YL=[Date.now(),w,n?w:null,H]};f1.prototype.afv=function(w){var n=w.target.YL,H=new Uint8Array(w.target.response);
console.log(H.length+" B,",Date.now()-n[0]+" ms");for(var l=0;l<H.length;l++)H[l]=255-H[l];H=pako.inflateRaw(H);
var y=JSON.parse(j.NR(H,0,2e3));f1.KR({name:y.name,XV:n[2]},H.slice(2e3).buffer,this);this.Kv();if(!n[3])f1.b4("act=0&id="+n[1])};
f1.prototype.a3g=function(w,n,H,y){if(!(w instanceof ArrayBuffer))throw"e";w=new Uint8Array(w);var c=new Uint8Array(w.length+2e3),N="";
for(var l=0;l<2e3;l++)c[l]=32;j.GG(JSON.stringify({name:n}),c,0);c.set(w,2e3);w=c;w=pako.deflateRaw(w);
for(var l=0;l<w.length;l++)w[l]=255-w[l];w=w.buffer;var Q=w.byteLength,q=hn.x2(Q),S=~~(609e5/2),A=~~(209e5/2);
if(Q>S){confirm("Your file is "+q+". Our limit is "+hn.x2(S)+". Delete some layers and try again.");
return}if(Q>A){var V=confirm("Your file is quite large ("+q+"). Opening it will take a lot of time. Do you still want to proceed?");
if(!V)return}var e=sha1(w),d=[];for(var l=0;l<20;l++){var b=parseInt(e.slice(l*2,l*2+2),16);d.push(b);
N+=String.fromCharCode(b)}var z=btoa(N).replace(/\+/g,"-").replace(/\//g,"_").slice(0,8);if(f1.avO(z,y)){console.log("file already exists");
if(H)H(z);else window.open("https://www.photopea.com#i"+z);return}this.sN("Publishing ...");var v=new XMLHttpRequest;
v.YL=[w,e,z,H,y];v.open("GET","/papi/img/publish.php?rnd="+Math.random()+"&id="+z+"&size="+Q+"&bname="+y);
v.onload=this.atf.bind(this);v.send()};f1.avO=function(w,n){try{var H=new XMLHttpRequest;H.open("HEAD","https://f000.backblazeb2.com/file/"+n+"/"+w,!1);
H.send();if(H.status==200)return!0}catch(hV){return!1}return!1};f1.prototype.atf=function(w){console.log(w.target.response);
var n=JSON.parse(w.target.response),H=w.target.YL,y=new XMLHttpRequest;y.open("POST",n.uploadUrl);y.setRequestHeader("Authorization",n.authorizationToken);
y.setRequestHeader("X-Bz-File-Name",H[2]);y.setRequestHeader("Content-Type","b2/x-auto");y.setRequestHeader("X-Bz-Content-Sha1",H[1]);
y.send(new Blob([H[0]]));y.onload=this.an7.bind({ZZ:this,YL:H})};f1.prototype.an7=function(w){this.ZZ.Kv("Publishing ...");
if(this.YL[3])this.YL[3](this.YL[2]);else window.open("https://www.photopea.com#i"+this.YL[2]);if(this.YL[4]=="psdshared")f1.b4("act=2&id="+this.YL[2]+"&fileId="+JSON.parse(w.target.response).fileId)};
f1.b4=function(w){var n=new XMLHttpRequest;n.open("GET","/papi/img/update.php?"+w+"&rnd="+Math.random());
n.send()};f1.save=function(w,n){var H=new Uint8Array(w),y=document.createElement("a");if(typeof y.download=="string"){var c=new Blob([H]),Q=window.URL.createObjectURL(c);
y.href=Q;y.download=n;document.body.appendChild(y);y.click();document.body.removeChild(y)}else{var q="data:application/octet-stream;base64,"+f1.ug(w);
window.open(q)}};function cJ(){this.size=16;this.data=O.R(16)}cJ.prototype.ED=function(w,n){if(w+n<=this.size)return;
var H=this.size;while(w+n>this.size)this.size*=2;var y=O.R(this.size);for(var l=0;l<H;l++)y[l]=this.data[l];
this.data=y};var es={};es.ki=function(w,n,H){var y=n.split(":"),c=y[0],Q=null;if(y.length==2){if(c=="jpg")Q=[Math.round(100*parseFloat(y[1]))];
if(c=="webp")Q=[Math.round(100*parseFloat(y[1])),100,0,!1,!1];if(c=="psd")Q=[!0,!0];if(c=="svg")Q=y[1].split(",").map(function(S){return S=="true"})}var q=cb._L(w,c.toUpperCase(),null,null,Q,H);
return q};es.ary=function(w,n,H){var y=w.E$(),c=n[0];return es.ki(w,c,H)};es.akU=function(){var w=this.jQ,n=this.caller,H=w.fB.bF,y=H.formats,c,Q;
w.E$();var q=Date.now();if(H.version==1){var S=[],A=0,e=0;for(var l=0;l<y.length;l++){var V=es.ki(w,y[l],n.Uz);
S.push(V);A+=V.byteLength}c=new Uint8Array(2e3+A);var d="{ \"source\": "+JSON.stringify(w.WY)+", \"versions\": [\n";
for(var l=0;l<y.length;l++){var N=new Uint8Array(S[l]);d+="\t{\"format\": \""+y[l].split(":")[0]+"\", \"start\": "+e+", \"size\": "+N.length+" }"+(l+1<y.length?", ":"")+"\n";
c.set(N,2e3+e);e+=S[l].byteLength}d+="] }";var b=j.GG(d,c,0);for(var l=b;l<2e3;l++)c[l]=32;Q="application/octet-stream"}else{var z=new cJ,v=0,T="",Y=encodeURIComponent;
T="p="+Y("{ \"source\": "+JSON.stringify(w.WY)+", \"versions\": [");j.a_(z,v,T);v+=T.length;for(var l=0;
l<y.length;l++){T=Y(" {\"format\": \""+y[l].split(":")[0]+"\", \"data\": \"");j.a_(z,v,T);v+=T.length;
var V=es.ki(w,y[l],n.Uz),g=f1.a3T(V,V.byteLength),b=g.length;z.ED(v,b);for(var R=0;R<b;R++){z.ED(v,3);
var h=g[R];if(h==43){z.data[v]=37;z.data[v+1]=50;z.data[v+2]=66;v+=3}else if(h==47){z.data[v]=37;z.data[v+1]=50;
z.data[v+2]=70;v+=3}else if(h==61){z.data[v]=37;z.data[v+1]=51;z.data[v+2]=68;v+=3}else{z.data[v]=h;
v++}}T=Y("\" }"+(l+1<y.length?", ":""));j.a_(z,v,T);v+=T.length}T=Y("] }");j.a_(z,v,T);v+=T.length;c=z.data.slice(0,v);
Q="application/x-www-form-urlencoded"}var E=new XMLHttpRequest;E.open("POST",H.url,!0);if(Q)E.setRequestHeader("Content-Type",Q);
E.addEventListener("load",es.aeI.bind(this));E.send(new Blob([c.buffer]))};es.aeI=function(w){this.caller.Kv("Saving ...");
var n=w.target.response;if(n.charAt(0)=="{"){n=JSON.parse(n);if(n.newSource)this.jQ.WY=n.newSource;if(n.message)alert(n.message,2e3);
if(n.script){var H=new aL(M.E.L,!0);H.data={d:M.c._t,kB:n.script};this.caller.S(H)}}else alert("Saved. Response: "+n,1500)};
es.akA=function(w){var n=w.SI,H=n[1].split(".").pop(),y=es.ki(w,H),c=Storage.a8W(n[0]);c.a3K(n[1],y)};
es.akk=function(w,n){var H=w.bD.Ec;if(n==null)n=es.ki(w,H);a2.mb(function(){var y=new XMLHttpRequest,c="https://www.googleapis.com/upload/drive/v3/files/"+w.bD.file.id+"?uploadType=media"+"&"+a2.xd();
y.open("PATCH",c,!0);y.addEventListener("load",function(Q){var q=JSON.parse(Q.target.response);alert(q.name+" updated")});
y.send(n);alert("Saving \""+w.bD.file.name+"\" to Google Drive ...")})};es.KR=function(w,n,H,y){if(window.location.href.indexOf("photopea.com")==-1||window.top!=window.self)es.aay(w,n,H,y);
else{try{es.aay(w,n,H,y)}catch(hV){if(hV=="low_ram"){}else{var c="Error. Please, send your file to support@photopea.com and we will solve it.";
if(cb.mj(n)=="eps")c="We support only basic EPS files. Convert your file into PDF (with an online converter) and open the PDF in Photopea.";
alert(c,1e4)}}}};es.aay=function(w,n,H,y){var c;if(w.name){var Q=w.name.lastIndexOf(".");c=Q==-1?w.name:w.name.slice(0,Q)}else{if(w.url.substring(0,5)=="data:"||w.url.indexOf("googleapis")!=-1)c="image";
else c=w.url.substring(w.url.lastIndexOf("/")+1).split(".")[0];c=c.slice(0,50)}var q=w.name?w.name:w.url,S=new Uint8Array(n),A=cb.mj(n),V=window.gtag;
if(Math.random()<.25&&V&&A!=null&&cb.Mn(A))V("event",A,{event_category:"Formats"});if(A==null)A=j.QN(S,0,4);
if(q&&q.toLowerCase().endsWith(".raw")){var e=new aL(M.E.L,!0);e.data={d:M.c.rL,Ln:"importraw",rj:n,w5:q.split("/").pop()};
H.S(e);return}else if(A=="json"){var d="";for(var l=0;l<S.length;l++)d+=String.fromCharCode(S[l]);d=decodeURIComponent(escape(d));
var N=JSON.parse(d);if(N.name&&N.url){var e=new aL(M.E.L,!0);e.data={d:M.c.aea,Z:N};H.S(e)}else{alert("Unknown JSON file opened. See the content in the console.",5e3);
console.log(N)}return}if(A=="html"){var d=j.NR(S,0,S.length),b=new DOMParser,z=b.parseFromString(d,"text/html"),v=z.getElementsByTagName("meta");
for(var l=0;l<v.length;l++){var T=v[l],Y=T.getAttribute("property"),R=T.getAttribute("content"),h=null;
if(Y=="og:image")h=R;if(Y==null&&R&&R.startsWith("0;url=/imgres?")){var E=R.slice(14).split("&");for(var G=0;
G<E.length;G++)if(E[G].startsWith("imgurl"))h=decodeURIComponent(E[G].slice(7))}if(h==null)continue;
var e=new aL(M.E.L,!0);e.data={d:M.c.Jx,PY:{url:h,oD:!0,Ws:w.Ws}};H.S(e)}return}if(cb.Mn(A)){var k,$,p=cb.Mn(A);
if(w.Ws!=null&&"jpg png gif pdf svg ai psd".split(" ").indexOf(A)!=-1){var e=new aL(M.E.L,!0);if(0<=w.Ws)e.data={d:M.c.Tr,target:w.Ws,Nf:w.wq,z3:n,RW:c};
else{e=new aL(M.E.v,!0);e.data={d:a.s8,data:new Uint8Array(n),w5:c+"."+A};e.G=P.YV}H.S(e);return}var X=[c,p,A,w,H,y,n];
if(p.ht){k=new iC(c+(A=="psd"?"":"-"+A)+".psd");p._N(n,k,es.gv,X)}else{$=p._N(n,null,es.gv,X,H)}if(p.AD!=!0)es.gv(k,$,X);
else H.sN();return}var C=new aL(M.E.L,!0);C.data={d:M.c.ka,rj:n,os:w.name};var D=w instanceof File&&w.ah$!=!0,e=new aL(M.E.L,!0);
e.data={d:M.c.Yj,fB:"add",PY:null,JT:null,ady:w.ah$};if(A=="zip"){var o=Date.now(),t=UZIP.parse(n),u="xml rels plist iwa db ds_store txt rtf".split(" ");
for(var m in t){var U=!1;for(var l=0;l<u.length;l++)if(m.toLowerCase().endsWith("."+u[l]))U=!0;if(m.startsWith("__MACOSX/")||t[m].length==0)U=!0;
if(U)continue;var I=m.split("/").pop();es.KR({name:I},t[m].buffer,H,y)}}else if(A=="jsx"||q&&q.toLowerCase().endsWith(".jsx")){var d=j.NR(new Uint8Array(n));
e.data={d:M.c._t,kB:d};H.S(e)}else if(A=="otf"){if(D)H.S(C);var x=Typr.parse(n);e.data.PY=h6.Ax;for(var l=0;
l<x.length;l++){e.data.JT=x[l];H.S(e)}}else if(A=="asl"){if(D)H.S(C);var x=dW.V2(n);e.data.PY=h6.wK;
e.data.JT=x.rM;H.S(e);e.data.PY=h6.cb;e.data.JT=x.xJ;H.S(e)}else if(A=="tpl"){if(D)H.S(C);var x=kh.V2(n);
e.data.PY=h6.p6;e.data.JT={NS:x.NS,c4:x.c4,list:[]};H.S(e);if(x.a0K.length!=0){e.data.PY=h6.vG;e.data.JT=x.a0K;
H.S(e)}if(x.xJ.length!=0){e.data.PY=h6.cb;e.data.JT=x.xJ;H.S(e)}e.data.PY=h6.Xs;e.data.JT=x.list;H.S(e)}else{var J="";
for(var r in h6.EP)if(h6.EP[r][0]==A)J=r;if(J!=""){if(D)H.S(C);e.data.JT=h6.EP[J][2].V2(n,q);e.data.PY=J;
H.S(e)}else alert("Unknown file format: "+JSON.stringify(A))}};es.gv=function(w,n,H){var y=H[0],c=H[1],Q=H[2],q=H[3],S=H[4],A=H[5],V=H[6];
if(c.AD)S.Kv();if(!c.ht){if(n.length==0)return;if(n[0].t33421||n[0].t50706){O.raw.normalize(n[0],V);
console.log(n[0]);var e=new aL(M.E.L,!0);e.data={d:M.c.rL,Ln:"rawpea",c1:n[0]};S.S(e);return}if(A){A(new Uint8Array(n[0].data),n[0].Zg);
return}w=cb.xx(y,n)}w.XV=q.XV;w.VV=Q;w.fB=q.fB;w.WY=q.url;w.Is=q.Is;w.bD=q.bD;w.Nm=q.Nm;w.SI=q.SI;if(w.bD)w.bD.Ec=Q;
if(w.B.length!=0){var e=new aL(M.E.L,!0);e.data={d:q.Ws==null?M.c.uJ:M.c.Tr,target:q.Ws,Nf:q.wq,z3:w};
S.S(e)}};function dL(w){bU.call(this);this.gW=dL.gW++;this.qV=w;this.a64=this.ai_.bind(this);this.a7O=this.ag7.bind(this);
this.a6t=this.ts.bind(this);this.a10=this.aje.bind(this);this.a12=this.adQ.bind(this);this.az9=this.aoh.bind(this);
this.Jz=0;this.a61=0;this.ame=0;this.n=s.t("div","panelblock");this.VX=s.t("div","block");this.yA=s.t("div","collapsed");
this.n.appendChild(this.VX);this.uq=-1;this.Nx=!0;this.pa=s.t("div","panelhead");this.VX.appendChild(this.pa);
this.vj(this.pa);this.V7=new eO("\u2261");this.V7.n.setAttribute("style","position:absolute; right:0;");
this.V7.h("click",this.auP,this);this.gp=s.t("div","body");this.VX.appendChild(this.gp);this.VP=[];this.IL=null;
this.Vw=null}dL.gW=0;dL.prototype=new bU;dL.Ib=26.1;dL.prototype.auP=function(w){var n=this.VP[this.uq].O6(),H=w.currentTarget.n.getBoundingClientRect();
n.f();n.update();n.parent=this;var y=new aL(M.E.L,!0);y.data={d:M.c.hf,_0:n,x:H.left,y:H.top+H.height+2};
this.S(y)};dL.prototype.CQ=function(w){var n=this.VX,H=this.pa,y=this.gp;if(s._Q(H))n.removeChild(H);
if(s._Q(y))n.removeChild(y);if(w==0)n.appendChild(H);n.appendChild(y);this.ame=w};dL.yZ=function(w){w.stopPropagation();
w.preventDefault()};dL.prototype.ai_=function(w){var n=w.dataTransfer.types;if(n[1]!=null&&n[1]!=this.gW+"")return;
dL.yZ(w);var ds=w.currentTarget;if(w.target==ds)s.li(ds,"highlight")};dL.prototype.ag7=function(w){dL.yZ(w);
var ds=w.currentTarget;if(w.target==ds)s.n_(ds,"highlight")};dL.prototype.vj=function(w){w.addEventListener("dragenter",this.a64,!1);
w.addEventListener("dragleave",this.a7O,!1);w.addEventListener("dragover",dL.yZ,!1);w.addEventListener("drop",this.a6t,!1);
w.addEventListener("dragstart",function(n){n.dataTransfer.setData("Text","--panel");n.dataTransfer.setData(this.gW+"","")}.bind(this),!1)};
dL.prototype.ts=function(w){this.a7O(w);var n=null,ds=w.currentTarget,H=this.a74(ds);if(ds==this.gp&&this.uq!=-1)n=this.uq;
else if(ds==this.pa)n=null;else if(H!=-1)n=H;var y=w.dataTransfer.getData("Text");if(y==""||y.startsWith("http"))s.Su(w,this,n);
else if(y=="--panel"){var c=s.E4(w,ds),Q=this.VP,q=Q.slice(0),l=this.uq,S=H==-1?Q.length:c.x<ds.getBoundingClientRect().width/2?H:H+1;
if(l==S||l+1==S||ds==this.gp)return;var A=l<S?S-1:S,V=Q[l];Q.splice(l,1);Q.splice(A,0,V);s.Of(this.pa);
for(var e=0;e<Q.length;e++)this.pa.appendChild(Q[e].Tx);this.Yl(A);var d=[];for(var l=0;l<Q.length;l++)d[l]=q.indexOf(Q[l]);
var N=new aL("shuffleItems",!1);N.data={aiX:d};this.S(N)}else if(n!=null&&this instanceof i0){var N=new aL(M.E.L,!0);
N.data={d:M.c.agn,ab8:n};this.S(N)}};dL.prototype.OT=function(){return null};dL.prototype.awE=function(){if(this.OT()){this.pa.style.padding="0px";
this.Vw=this.OT();this.gp.appendChild(this.Vw);this.dV.rD(!1);var w=new aL(M.E.L,!0);w.data={d:M.c.GK,Z:1};
this.S(w)}};dL.prototype.aq$=function(){if(this.Vw){this.pa.style.padding="";this.gp.removeChild(this.Vw);
this.Vw=null;this.dV.rD(!0);var w=new aL(M.E.L,!0);w.data={d:M.c.GK,Z:0};this.S(w)}};dL.prototype.a74=function(w){var n=this.VP;
for(var l=0;l<n.length;l++)if(n[l].Tx==w)return l;return-1};dL.prototype.KQ=function(){for(var l=0;l<this.VP.length;
l++)this.VP[l].JN.k3()};dL.prototype.tO=function(){return this.uq};dL.prototype.C_=function(){if(this.Nx)return;
this.Nx=!0;this.n.removeChild(this.yA);this.n.appendChild(this.VX)};dL.prototype.collapse=function(){if(!this.Nx)return;
this.Nx=!1;this.n.appendChild(this.yA);this.n.removeChild(this.VX)};dL.prototype.Ib=function(){var w=0;
if(this.ame==0){w=this.pa.getBoundingClientRect().height+1;w=Math.max(w,dL.Ib)}return w};dL.prototype.af4=function(){return this.Ib()+this.gp.getBoundingClientRect().height};
dL.prototype.kc=function(w,n){this.pa.style.maxWidth=w+"px";var H=this.Ib();if(this.uq!=-1)this.VP[this.uq].kc(w,n-H);
return n-H};dL.prototype.AB=function(w,n){if(this.uq!=-1)this.VP[this.uq].AB(w,n)};dL.prototype.nQ=function(w,n,H){this.VP[this.uq].nQ(w,n,H)};
dL.prototype.Im=function(w){this.aq$();if(this.VP.indexOf(w)!=-1){this.Yl(this.VP.indexOf(w));return}w.parent=this;
this.VP.push(w);this.pa.appendChild(w.Tx);w.Tx.addEventListener("mouseover",this.a10,!1);this.vj(w.Tx);
this.yA.appendChild(w.JN.n);w.JN.h("click",this.aqq,this);w.h("select",this.ayB,this);w.h(M.E.n8,this.ayg,this);
this.Yl(this.VP.length-1)};dL.prototype.aje=function(w){if(w.buttons==0)return;var n=w.currentTarget,H=n,l=0;
while((H=H.previousSibling)!=null)l++;this.a61=l;n.addEventListener("mouseout",this.a12,!1);this.Jz=setTimeout(this.az9,700)};
dL.prototype.adQ=function(w){var n=w.currentTarget,H=n,l=0;while((H=H.previousSibling)!=null)l++;n.removeEventListener("mouseout",this.a12);
clearTimeout(this.Jz)};dL.prototype.aoh=function(w){this.S(new aL(M.E.a8j,!1))};dL.prototype.agp=function(w){return this.a61};
dL.prototype.xE=function(l){var w=new aL(M.E.n8,!1);w.data={f8:l};this.S(w);var n=this.VP[l];this.VP.splice(l,1);
this.pa.removeChild(n.Tx);this.yA.removeChild(n.JN.n);n.Tx.className="";n.JN.removeEventListener("click",this.aqq,this);
n.JN.k3();n.removeEventListener("activate",this.ayB);n.removeEventListener(M.E.n8,this.ayg);var H=this.uq;
if(l<H)H--;else if(l==H&&l==this.VP.length)H--;this.Yl(H);if(this.VP.length==0)this.awE()};dL.prototype.a7e=function(){return this.VP.length};
dL.prototype.Oa=function(){if(this.VP.length!=0)this.VP[this.uq].Oa()};dL.prototype.Yl=function(w,n){if(n==null)n=!0;
for(var l=0;l<this.VP.length;l++)this.VP[l].Tx.className="";if(this.IL)this.gp.removeChild(this.IL);
this.IL=null;this.uq=w;if(w==-1)return;var H=this.VP[this.uq];this.IL=H.vN;this.gp.appendChild(H.vN);
H.Tx.className="active";if(!this.Nx){this.S(new aL("showFloat"));this.VP[w].JN.QM()}if(n)this.S(new aL(M.E.A,!1));
H.Tf();var y=this.V7.n;if(y.parentNode)this.pa.removeChild(y);if(H.O6())this.pa.appendChild(y);var c=new aL(M.E.L,!0);
c.data={d:M.c.bc};this.S(c)};dL.prototype.ayB=function(w){if(this.qV&&!this.qV.aqR())return;var l=this.VP.indexOf(w.currentTarget);
this.Yl(l)};dL.prototype.ayg=function(w){if(this.qV&&!this.qV.aqR())return;var l=this.VP.indexOf(w.currentTarget);
this.xE(l)};dL.prototype.aqq=function(w){var n=this.VP.indexOf(w.currentTarget.parent);if(this.VP[n].JN.zr())this.S(new aL("hideFloat"));
else this.Yl(n)};dL.prototype.a42=function(w){this.S(w)};function i0(w){dL.call(this,w);this.pV=0;this.WZ=0;
s.vM(this.pa,this.apy.bind(this));this.rW=0;this.a0N=this.amN.bind(this);this.vj(this.gp);this.Ru=["default;"];
this.dV=new s.vL(this.gp);this.q7=new jV(!0);this.q7.parent=this;this.Kx=this.q7.n;jV.Ky(this.q7)}i0.prototype=new dL;
i0.prototype.apy=function(w){if(w.target!=this.pa)return;var n=this.rW;this.rW=Date.now();if(Date.now()-n>300)return;
var H=new aL(M.E.L,!0);H.data={d:M.c.rL,Ln:"newproject"};this.S(H)};i0.prototype.ic=function(w,n){if(n)this.Ru.push(w);
else{var H=this.Ru.length-1;if(this.Ru[H]==w)return;this.Ru[H]=w}this.X1()};i0.prototype.aha=function(){this.Ru.pop();
this.X1()};i0.prototype.X1=function(){var w=this.Ru[this.Ru.length-1];this.dV.nQ(w,this.OC)};i0.prototype.AB=function(w,n){dL.prototype.AB.call(this,w,n);
this.q7.AB(w,n);if(!w.C0){}};i0.prototype.f=function(){dL.prototype.f.call(this);this.q7.f()};i0.prototype.nQ=function(w,n){for(var l=0;
l<n.length;l++){var H=n[l];this.VP[l].qG(H.name+(H.QS()?" *":""))}dL.prototype.nQ.call(this,w,n)};i0.prototype.OT=function(){return this.Kx};
i0.prototype.kc=function(w,n){if(this.VP.length==0)n+=dL.Ib-1;this.pV=w;this.WZ=n;n=dL.prototype.kc.call(this,w,n);
this.OC="height:"+n+"px; width:"+w+"px; overflow:hidden; position:relative;";this.X1();this.q7.kc(w,n)};
i0.prototype.Im=function(w){dL.prototype.Im.call(this,w);w.Tx.addEventListener("click",this.a0N,!1)};
i0.prototype.xE=function(l){var w=this.VP[l];s.v8(w.Tx,this.a0N);dL.prototype.xE.call(this,l)};i0.prototype.amN=function(w){var n=this.rW;
this.rW=Date.now();if(Date.now()-n>300)return;var H=this.a74(w.currentTarget),y=this.VP[H].z3.name,c=new aL(M.E.L,!0),Q={Y:M.E.v,G:P.YV,W:{d:a.lj}};
c.data={d:M.c.rL,Ln:"namewindow",EV:y.slice(0,y.length-4),yk:Q};this.S(c)};function g_(w){bU.call(this);
if(w)return;gd.a6Q(1);this.n=s.t("div","flexrow app");this.jD=s.t("div");this.n.appendChild(this.jD);
setTimeout(function(){var H=window.hideCap;if(H)H()},25e3);this.ma=new b8;window.addEventListener("blur",function(H){this.ma.reset()}.bind(this),!1);
window.addEventListener("resize",this.Px.bind(this),!1);var n=this.jD;this.MC=new is;this.MC.parent=this;
n.appendChild(this.MC.n);this.o4=new a9;this.o4.parent=this;n.appendChild(this.o4.n);this.Yy=new gA(!0);
this.Yy.parent=this;n.appendChild(this.Yy.n);this.h(M.E.L,this.aQ,this);this.JU=this.oh.bind(this);window.requestAnimationFrame(this.JU)}g_.prototype=new bU;
g_.prototype.oh=function(w){this.wu();window.requestAnimationFrame(this.JU)};g_.prototype.f=function(){};
g_.prototype.Px=function(w){var n=window.innerWidth,H=window.innerHeight;this.kc(n,H)};g_.prototype.kc=function(w,n){this.o4.kc(w,n);
this.MC.kc(w,n)};g_.prototype.aQ=function(w){var n=w.data.d;if(n==M.c.hf)this.o4.a8x(w.data);if(n==M.c.SP)this.o4.auz(w.data);
if(n==M.c.el)this.o4.avY(w.data.D0);if(n==M.c.yW)this.o4.a4t(w.data.D0);if(n==M.c.my)this.o4.ft()};function gD(){g_.call(this);
this.Zr={x:0,y:0,iO:!1};this.yi=!1;this.l4=!1;this.lp=null;this.ah6=0;this.ar$=!1;this.vO=0;window.onmessage=function(T){if(Storage.au1(T.source))return;
if(T.data instanceof ArrayBuffer){var Y=cb.mj(T.data),g=cb.Mn(Y);f1.KR({url:"file"},T.data,this);if(g==null)this._4()}else if(T.data instanceof Object||T.data.startsWith("{")||T.data.startsWith("amp-")||T.data.startsWith("0=goog")||T.data.startsWith("3PCoo")){}else if(T.data.startsWith("--ur ")){var R=T.data.split(" ").pop(),p=null;
R=R.length==0?[]:R.split(",");console.log(R);var h=this.bB.JT,E=new aL(M.E.L,!0);E.data={d:M.c.Yj,PY:h6.et,z2:R};
this.S(E);var G=R,k=h;if(k.length>G.length){var $=k;k=G;G=$}for(var l=0;l<G.length;l++)if(k.indexOf(G[l])==-1)p=G[l];
f1.b4("act=3&id="+p+"&dif="+(G==R?1:-1));alert((G==R?"Resource added.":"Resource removed.")+" "+p)}else if(T.data.startsWith("--ot ")){this.MC.O9().close();
this.Wn.J5(T.data.split(" ").pop(),!0)}else if(T.data.startsWith("--et ")){}else{var E=new aL(M.E.L,!0);
E.data={d:M.c._t,kB:T.data};this.S(E);this._4()}}.bind(this);window.onbeforeunload=function(T){for(var l=0;
l<this.oE.length;l++)if(this.oE[l].QS())return this.oE[l].name}.bind(this);window.setInterval(function(){var T=this.Xz();
if(T==null)return;var Y=(Date.now()-T.eB)/6e4;if(this.bB.yT==1&&T.Cf!=T.kX&&Y>60){var g="You haven't saved your work ("+T.name+") for "+Math.round(Y)+" minutes. Would you like to save it now? "+"You can disable this message in Edit > Preferences.",R=new aL(M.E.L);
R.data={d:M.c.rL,Ln:"confirm"};R.data.Z=g;R.data.ty=function(){var R=new aL(M.E.L);R.data={d:M.c.Da};
this.S(R)}.bind(this);this.S(R)}}.bind(this),30*60*1e3);var w=this,S="",A="";if(window.indexedDB&&(!eY.vp()||document.hasStorageAccess==null)){var n={ED:window.indexedDB.open("pp",1)};
n.ED.onupgradeneeded=function(T){var Y=T.target.result,g=Y.createObjectStore("rsrc",{keyPath:"k"})};
n.ED.onsuccess=function(T){var Y=w.bB.sP.ix=T.target.result,g=Y.transaction(["rsrc"],"readwrite").objectStore("rsrc"),R=g.get("fs0");
R.onsuccess=function(T){if(T.target.result){var h=w.bB.sP.DA=T.target.result.fset;for(var E in h){if(!E.endsWith(".jsx"))f1.KR({url:E,ah$:!0},h[E],w)}}}}}var H=["rwx~#.-(;.]6EF","rx'|#1,6><@87f?NO"],y=s.L2[iQ.h8][iQ.bE];
for(var l=0;l<H.length;l++){var c=s.na(H[l]);if(y.indexOf(c)!=-1){var Q=s.L2[iQ.h8][iQ.gp],q=s.na("M|H:15=3/iQ6EEKQ{\\PTbV/Y[`kjxx\"}vOz( %0b1=?HcMFZH zy#Wby9Sti'~uu3{}&428H-Cm7Ji{X[^w=Xbjhldc3kz{MC K[");
s.Of(Q);Q[iQ.aoC]=q;return}}this.a={a6S:[{G:P.uD,Yd:!1,Jg:[b8.a4o,b8.QQ]},{G:P.em,Yd:!1,Jg:[b8.QQ]},{G:P.Fn,Yd:!0,Jg:[b8.NX],xe:[P.Pj]},{G:P.Pj,Yd:!0,Jg:[b8.NX],xe:[P.Fn]},{G:P.Dl,Yd:!0,Jg:[b8.NX],xe:[P.ko,P.f2,P.Ea]},{G:P.ko,Yd:!0,Jg:[b8.NX],xe:[P.Dl,P.S0,P.sr,P.Te,P.DG,P.ri]},{G:P.DX,Yd:!0,Jg:[b8.NX]}],VA:[[{G:new P.xz,gV:h4},{G:new P.MQ,gV:bj}],[{G:new P.eR,gV:iU},{G:new P.yB,gV:a8}],[{G:new P.uH,gV:iW},{G:new P.pN,gV:dT},{G:new P.Dd,gV:cX}],[{G:new P.s1,gV:e6},{G:new P.kp,gV:g3},{G:new P.tc,gV:eo}],[{G:new P.ayL,gV:f_},{G:new P.a1E,gV:ak},{G:new P.pI,gV:ji},{G:new P.Fv,gV:iM}],[{G:new P.Xd,gV:gn},{G:new P.Dw,gV:hm}],[{G:new P.Eb,gV:cs},{G:new P.wx,gV:ks},{G:new P.rV,gV:bY},{G:new P.azD,gV:fR},{G:new P.w7,gV:bA}],[{G:new P.a7,gV:hU},{G:new P.XH,gV:gj},{G:new P.bo,gV:hv}],[{G:new P.oB,gV:jk}],[{G:new P.v0,gV:cN},{G:new P.lx,gV:gU}],[{G:new P.H2,gV:at},{G:new P.Kj,gV:aa}],[{G:new P.MM,gV:ff},{G:new P.fU,gV:c3},{G:new P.Ir,gV:c4}],[{G:new P.Ia,gV:iR},{G:new P.H9,gV:fz},{G:new P.Mb,gV:ag}],[{G:new P.m_,gV:b_},{G:new P.amq,gV:b_}],[{G:new P.QY(0),gV:fK},{G:new P.Gp,gV:gu},{G:new P.QY(1),gV:fK}],[{G:new P.qQ,gV:be},{G:new P.YF,gV:cO}],[{G:new P.Rect,gV:c1},{G:new P.r1,gV:gf},{G:new P.Ou,gV:j4},{G:new P.jW,gV:jd},{G:new P.YU,gV:br}],[{G:new P.RT,gV:de},{G:new P.Ts,gV:fp}],[{G:new P.kL,gV:je}]],KW:[],keys:[b8.wQ,b8.nH,b8.qm,b8.to,b8.sO,b8.Vp,b8.fs,b8.bU,b8.M9,b8.E,b8.aj,null,b8.R3,b8.Sh,b8.aR,b8.c,b8.LF,b8.mD,b8.gH],rX:[{G:new P.ajg,gV:gJ},{G:new P.a6w,gV:fA},{G:new P.a45,gV:e5},{G:new P.Xd(!0),gV:gn},{G:new P.zO,gV:h9}],Lr:[{G:new P.LV},{G:new P.History},{G:new P.nd},{G:new P.e1},{G:new P.D1},{G:new P.eD}],map:{},YD:null,Lo:null,u7:null};
for(var l=0;l<this.a.VA.length;l++){var V=this.a.VA[l];if(V=="---")continue;var e=this.a.keys[l];for(var d=0;
d<V.length;d++){this.a.map[V[d].G.id]=V[d];V[d].Gv=l;V[d].alZ=d;var N=hV.get(V[d].G.name);A+="<li>"+V[d].G.id+": "+N+"</li>";
S+="\t"+JSON.stringify(V[d].G.name)+", "+(e?"\""+e.DF+"\"":"null")+", "+V[d].G.id+", // "+N+"\n"}this.a.KW[l]=0}for(var l=0;
l<this.a.rX.length;l++)this.a.map[this.a.rX[l].G.id]=this.a.rX[l];for(var l=0;l<this.a.Lr.length;l++)this.a.map[this.a.Lr[l].G.id]=this.a.Lr[l];
this.bB={a72:!1,ZR:null,PO:0,Sr:{c4:[],NS:[],list:[],TX:null},QV:[],acH:[],Wr:[],KH:[],Aj:[],XG:[],a6Z:[],azT:[],Aj:[],Df:[ca.B1()],f3:[],PF:[],Ci:null,zd:0,jP:{SU:1,WL:JSON.parse(JSON.stringify(d5.Um[0]))},Lp:JSON.parse(JSON.stringify(d5.Ed.default)),a5X:[null].concat(d5.Um),aza:[null].concat(d5.Um),KF:new da(function(T){var Y=new aL(M.E.L,!0);
Y.data={d:M.c.Jx,PY:{url:"rsrc/fonts/"+T}};this.S(Y)}.bind(this)),Qx:{II:[],tq:null,AW:null},font:null,h$:[],JT:[],a0P:{},Ni:0,uu:16777215,Mr:!1,OH:!0,al:{V_:!0,LR:!1,wH:!0,Wh:!0,jj:!0,B0:!0,Rv:20,c$:0,ZW:0,GZ:0},yd:!0,Wg:[!0,!0,!1,!0,!0],p_:[0,1,2,3,5,6,7,9,10,16,17,100],Eu:1,BV:!0,T0:{},C0:!0,a6_:!1,compact:!1,yT:1,Kx:!0,a9:null,sP:{axz:!1,acX:!1,DA:{},ix:null},a9U:0,aqt:null,jR:null,amL:null,R2:null};
this.a9l={U2:new cr,HZ:new ce};this.bB.Qx=j1.a06();this.DM=new iv;this.de=new gz;this.xS=new aE(this.a,!0);
this.nJ=new as;this.IZ=new i0(this);this.Qm=s.t("div");this.VR=!1;this.oy=this.alk.bind(this);s.li(this.IZ.n,"mainblock");
this.Yy.parent=this.DM.parent=this.de.parent=this.xS.parent=this.nJ.parent=this.IZ.parent=this;this.IZ.h(M.E.A,this.uM,this);
this.IZ.h(M.E.n8,this.acs,this);this.IZ.h("shuffleItems",this.a1O,this);this.IZ.h(M.E.a8j,this.av9,this);
this.h("mouse",this.a7h,this);this.h(M.E.v,this.dZ,this);this.h(M.E.dp,this.akT,this);document.body.addEventListener("keydown",this.v6.bind(this),!1);
window.addEventListener("keyup",this.ZH.bind(this),!1);window.addEventListener("paste",this.ain.bind(this),!1);
window.addEventListener("copy",this.arA.bind(this),!1);window.addEventListener("wheel",function(T){if(T.ctrlKey)T.preventDefault()},{passive:!1});
window.addEventListener("beforeinstallprompt",function(T){if(window.innerWidth>400)T.preventDefault();
this.bB.a9=T}.bind(this));if(window.location.href.indexOf("photopea.com")!=-1&&"serviceWorker"in navigator){navigator.serviceWorker.register("sw.js",{scope:"./"}).then(function(T){if(T.ajy){console.log("Service worker installing")}else if(T.aef){console.log("Service worker installed")}else if(T.active){console.log("Service worker active")}}).catch(function(T){console.log("Registration failed with "+T)})}this.yu=0;
this.oE=[];this.Wn=new f1(es.KR);this.Wn.parent=this;var b=this.jD,z=this.fl=s.t("div");z.appendChild(this.DM.n);
z.appendChild(this.de.n);this.Yy.alH(z);var v=this.aoM=s.t("div","flexrow");b.appendChild(v);v.appendChild(this.xS.n);
v.appendChild(this.IZ.n);v.appendChild(this.nJ.n);this.Wn.$e({url:"rsrc/basic/basic.zip"});this.xO(P.DX);
g6.Dg(this.ajb.bind(this))}gD.prototype=new g_(!0);gD.prototype._4=function(w){var n=new aL(M.E.L);n.data={d:M.c.$p,PY:w?w:"done"};
this.S(n)};gD.prototype.ajb=function(){s.L2[iQ.Kl](this.amn.bind(this),Math.pow(Math.PI,8)+s.L2[iQ.awx][iQ.ajd]()*1e4);
var w=g6.vC();if(w!=null&&w.globals!=null)this.Mw(w.globals);else{this.ar$=!0;var n=navigator.languages;
if(n&&n.length!=0){var H=n[0];hV.RK(H,this.oy)}}if(!this._9()){var y=s.avB();if(y==0)this.a6_=!0;if(y==2)this.bB.C0=!1;
if(y!=1&&Math.random()<.002)s.a0I()}if(!eY.vp()||!this.bB.C0){this.atT();this.BZ()}else{var c=s.nT(s.L2[iQ.Ls]);
c[iQ.Xj](iQ.NU,this.anL.bind(this));c[iQ.le](s.hj("61="),s.hj("_MYOqDLGJa;A:6"));c[iQ.Og]()}this.yi=!0;
this._4()};gD.prototype.anL=function(w){var n=JSON.parse(w.target[iQ.Dr]),H=s.L2[iQ.zs][iQ.a2b]()/1e3,y=s.L2[iQ.h8][iQ.bE],c=!1;
for(var Q in n)if(Q.indexOf(".")!=-1&&y.indexOf(Q)!=-1&&parseInt(n[Q])>H)c=!0;if(c)this.bB.C0=!1;this.atT();
this.BZ()};gD.prototype.BZ=function(w){this.l4=!0;if(!this.bB.Kx)this.IZ.Kx=null;else if(this.oE.length==0)this.IZ.awE();
this.Zb(h6.z8);this.f();this.Px();this.nJ.nQ(this.Xz(),this.oE,this.bB)};gD.prototype.Mw=function(w){var n=this.bB;
if(w.fcolor!=null)n.Ni=w.fcolor;if(w.bcolor!=null)n.uu=w.bcolor;if(w.rulers!=null)n.Mr=w.rulers;if(w.extras!=null)n.OH=w.extras;
if(w.favFam!=null)n.h$=w.favFam;if(w.rsrc!=null)n.JT=w.rsrc;if(w.font!=null)n.Qx.II[0].Name=w.font;if(w.panels!=null)n.p_=w.panels;
if(w.as!=null)n.yT=w.as;if(w.eparams){var H=w.eparams,y=n.al;if(H.guides!=null)y.V_=H.guides;if(H.grid!=null)y.LR=H.grid;
if(H.gsize!=null)y.Rv=H.gsize;if(H.gunits!=null)y.c$=H.gunits;if(H.gtype!=null)y.ZW=H.gtype;if(H.runits!=null)y.GZ=H.runits;
if(H.sels!=null)y.wH=H.sels;if(H.paths!=null)y.Wh=H.paths;if(H.pgrid!=null)y.jj=H.pgrid;if(H.slices!=null)y.B0=H.slices}if(w.lang!=null)hV.RK(w.lang,this.oy);
if(w.theme!=null)n.Eu=w.theme;if(w.topt||n.a1){var c=w.topt?w.topt:{},Q=n.a1?n.a1:{};for(var q in this.a.map){if(q>=103)continue;
var S="t"+q;if(c[S]||Q[S])this.a.map[q].G.th(c[S],Q[S],this)}}};gD.prototype.atT=function(){if(this.bB.a72)return;
this.bB.a72=!0;var w=null,n=window.location.href,H=n.indexOf("="),y=n.indexOf("#");if(H!=-1)w=n.substring(n.indexOf("?")+1,H);
if(y!=-1&&y!=n.length-1){w="p";H=y}if(y!=-1&&n[y+1]=="i"){this.Wn.J5(n.slice(y+2))}else if(y!=-1&&n[y+1]=="t"){this.Wn.J5(n.slice(y+2).split("").reverse().join(""),!0)}else if(w=="p"||w=="state"){var c=n.substring(H+1,n.length);
c=JSON.parse(decodeURI(c));if(w=="p"){if(c.script=="alert(73)")this.bB.C0=!1;if(c.script)ir.azf(this);
if(c.server)this.lp=c.server;if(c.resources)for(var l=0;l<c.resources.length;l++)this.Wn.$e({url:c.resources[l]});
if(c.files)for(var l=0;l<c.files.length;l++)this.Wn.$e({url:c.files[l],fB:{bF:c.server,ale:c.script}});
var Q=c.environment;if(Q==null)Q={};if(Q.plugins!=null)this.nJ.aev(Q.plugins);if(Q.localsave!=null)this.bB.BV=Q.localsave;
if(Q.customIO!=null)this.bB.T0=Q.customIO;if(Q.vmode!=null){var q=Q.vmode;if(q==1)this.bB.compact=!0;
if(q==2)this.CQ(1)}if(Q.intro!=null)this.bB.Kx=Q.intro;if(Q.menus!=null)this.bB.alQ=Q.menus;if(Q.tmnu!=null)this.bB.a1=Q.tmnu;
if(Q.panels!=null)this.bB.p_=Q.panels;if(Q.showtools!=null){var S=Q.showtools,A=S.indexOf(this.bB.ZR);
this.bB.dA=S;if(A==-1)this.xO(S[0])}if(Q.phrases!=null)hV.aju(Q.phrases);if(Q.autosave!=null){this.bB.yT=0;
window.setInterval(function(){var d=new aL(M.E.L);d.data={d:M.c.Da};this.S(d)}.bind(this),Q.autosave*1e3)}if(Q.icons!=null){for(var V in Q.icons)if(Q.icons[V].indexOf("\"")==-1){if((V==iQ.atM||V==iQ.a0U)&&this.bB.C0)continue;
PIMG[V]=Q.icons[V];PIMG["__"+V]=!0}}this.Mw(Q);if(c.files==null&&c.script){fE.Qy(c.script,this);this._4()}}else if(w=="state"){var e=this.Wn;
if(c.action=="create"){var d=new aL(M.E.L);d.data={d:M.c.rL,Ln:"newproject",a6o:c.folderId};this.S(d)}if(c.action=="open"){for(var l=0;
l<c.ids.length;l++)a2.mb(function(){var b="https://www.googleapis.com/drive/v3/files/"+this.aon,z=new XMLHttpRequest;
z.open("GET",b);z.setRequestHeader("Authorization",a2.yF());z.send();z.onload=function(v){var T=JSON.parse(v.target.response);
e.$e({url:b+"?alt=media",name:T.name,bD:{file:T,Ec:""},MN:{Authorization:a2.yF()}})}}.bind({aon:c.ids[l]}));
alert("Loading files from Google Drive ...")}}}else{var N=window.launchQueue;if(N){var e=this.Wn;N.setConsumer(function(b){var z=b.files;
console.log(z);for(var l=0;l<z.length;l++){var v=z[l];v.getFile().then(function(T){e.an([T],null,null,null,[v])})}})}}};
gD.prototype.f=function(){var w=document.getElementById("cap");if(w){var n=!1,H=w.getElementsByTagName("h1")[0],Q=0,S=0,A=0;
H.textContent=n?"Photopea":hV.get([0,17,0]);var y=w.getElementsByTagName("p"),c=s.WN(hV.get([0,17,1])),q=["PSD","XCF","Sketch","XD","CDR"];
for(var l=0;l<q.length;l++)c=c.replace(q[l],"<b>"+q[l]+"</b>");if(!n)c+=" (<b>Adobe Photoshop</b>, <b>GIMP</b>, <b>Sketch App</b>,  <b>Adobe XD</b>, <b>CorelDRAW</b>).";
y[0].innerHTML=c;c=hV.get([0,17,2])+" "+hV.get([0,17,3]);for(var l=0;l<c.length;l++){var V=c[l];if(V=="<")S++;
if(V==">")A++}if(!n&&S*A==9){var e=["//github.com/photopea/photopea/issues","//www.facebook.com/photopea/","//blog.photopea.com/introduction.html"];
for(var l=0;l<3;l++){var d=c.indexOf("<",Q),N=c.indexOf(">",Q),b=c.slice(0,d)+"<a href=\""+e[l]+"\" target=\"_blank\">"+c.slice(d+1,N)+"</a>";
Q=b.length;c=b+c.slice(N+1)}y[1].innerHTML=c}else y[1].innerHTML=hV.get([0,17,2])}var z=document.getElementById("sponsors");
if(z)z.textContent=hV.get([0,17,4]);this.Yy.f();this.DM.f();this.nJ.f();this.xS.f();this.MC.f();this.IZ.f();
for(var v in this.a.map)if(this.a.map[v].BF)this.a.map[v].BF.f()};gD.prototype._9=function(){return 4<s.L2[iQ.sS][iQ.J3][iQ.ahW](iQ.hj("'$!|"))};
gD.prototype.kc=function(w,n){w=Math.floor(w);n=Math.floor(n);var H=s.hj("WUMK&AM"),y=iQ.HN,c=s.L2[iQ.h8],Q=Math.max(w,window.screen.width),q=Math.max(n,window.screen.height),d=0;
if(this.yf==null)this.yf=Math.min(Q,q)<500||Q<750?0:Q<1600?1:2;var S=this.yf,A=!this.l4||this._9()||!this.bB.C0||g6.qx()||S==0;
if(!A&&eY.vp()){if(this.a2$==null)this.a2$=Math.random()<.5;A=this.a2$}if(A){if(S!=0&&s.L2[H]&&this.l4)s.L2[H]()}else{if(S==0)n-=60;
else w-=S==1?180:320}g_.prototype.kc.call(this,w,n);if(A&&this.VR){this.n[iQ.T5](this.Qm);s.Of(this.Qm);
this.VR=!1}if(!A&&!this.VR){var V=function(z){if(Math.random()<.002){g6.event(eY.S1()?"gota_0":"gota_1")}this.abK(w,n);
var v=S==0?c[iQ.gp]:this.n;v.appendChild(this.Qm);this.Qm[iQ.Qe](y,s.hj("_MMJLNDfKCAg")+(S==0?10:10)+s.hj("_d$ebOS?I:==Ba-+# }$M"));
this.Qm[y][s.hj("_MMJLND&<:E")]=(S==0?0:19)+s.hj("_d");this.Qm[y][s.hj("i5WJHX")]=S==0?0:1}.bind(this);
function e(){eY.a5T(V)}setTimeout(e,2300);this.VR=!0}if(s._Q(this.DM.n))d+=31;if(s._Q(this.de.n))d+=32;
this.Yy.ano=this.bB.C0&&this.l4;this.Yy.kc(w,d);var N=n-d,b=s.hj("_d");this.Qm[y][iQ.awp]=(S==0?100>>>1:n-11)+b;
this.Qm[y][iQ.C2]=(S==0?w:6*Math.pow(10,2))+b;if(s._Q(this.xS.n))this.xS.kc(w,N);this.nJ.kc(w,N);this.IZ.kc(w-this.xS.YG()-this.nJ.YG(),N)};
gD.prototype.abK=function(w,n){var H=function(){var y=new aL(M.E.L);y.data={d:M.c.rL,Ln:"account"};this.S(y)}.bind(this);
eY.adV(w,n,this.Qm,H,this.yf)};gD.prototype.arA=function(w){console.log("systemCopy")};gD.prototype.ain=function(w){if(s.tr())return;
console.log("systemPaste");if(!w.clipboardData)return;var n=w.target.tagName.toLowerCase(),H=w.clipboardData.items;
if(H==null)return;var y=this.azu.bind(this);for(var l=0;l<H.length;l++){var c=H[l],Q=c.getAsFile();if(c.type.indexOf("text")!=-1){c.getAsString(this.abz.bind(this))}if(c.type.indexOf("image")!=-1){if(Q.size==this.bB.a9U)return;
this.bB.a9U=Q.size;if(Q){Q.name="image.png";this.Wn.an([Q],y)}}}};gD.prototype.abz=function(w){if(w.startsWith("http")){if(w==this.bB.aeM)return;
this.bB.aeM=w;var n=new aL(M.E.L,!0);n.data={d:M.c.Jx,PY:{url:w,oD:!0}};this.S(n)}};gD.prototype.azu=function(w,n){var H={buffer:w,rect:n},y=this.bB;
if(s.tr()){var c=this.a9l,Q=c.U2;if(Q.m==n.m&&Q.e==n.e){H.rect=Q;H.HZ=c.HZ}}else{if(y.jR){var q=new aL(M.E.v,!0);
q.G=P.O$;q.data={d:"h_stepbck"};this.S(q)}}y.jR=H;var q=new aL(M.E.L,!0);q.data={d:M.c.Yu,a4K:!0};this.S(q)};
gD.prototype.agr=function(){if(this.MC.O9()!=null)alert(hV.get([15,7,8]));else alert("Escape or Confirm the current action (in the top menu).")};
gD.prototype.dZ=function(w){var n=this.Xz();if(n==null){alert(hV.get([15,7,7]));return}var H=w.G==P.em||w.G==P.uD;
if(this.MC.i7()&&w.Pg!=!0&&!H){this.agr();return}var y=this.a,c=this.bB.ZR,Q=w.G;if(Q==P.nr&&c==P.CC)Q=P.CC;
if(c!=Q&&y.map[c].G.i7()&&!H&&!(c==P.OF&&Q==P.NJ)){console.log("disabling",c);y.map[c].G.disable(n,this,this.bB,this.ma)}var q=this.a.map[Q].G;
q.dZ(w.data,this,n,this.ma,this.bB)};gD.prototype.akT=function(w){var n=this.bB;if(w.data.mu!=!0)ih.a0p({fd:w.data.fd,ei:w.data.ei},this,n,this.Xz());
var H=n.Ci,y=n.PF;if(H==null)return;var c={ayh:!1,T2:"Step",a7R:0,C:!0,exp:!1,fd:w.data.fd};if(H[2]==null)H[2]=y[H[0]].GN[H[1]].GN.length-1;
if(w.data.ei)c.ei=w.data.ei;y[H[0]].GN[H[1]].GN.splice(H[2]+1,0,c);H[2]++;this.Zb(h6.v)};gD.prototype.aQ=function(w){if(this.a6_){w.data=0;
return w.type}g_.prototype.aQ.call(this,w);var n=w.data.d;if(n==M.c.cX)ih.a89(this.Xz(),this.bB.PF,w.data.Vm[0],w.data.Vm[1],this);
if(n==M.c.agn){this.ajV(w.data.ab8)}if(n==M.c.a3l){this.f();this.Px()}if(n==M.c.bc)this.Px();if(n==M.c.a00)if(this.bB.a9){this.bB.a9.prompt();
this.bB.a9=null}if(n==M.c.N4)this.IZ.ic(w.data.Xn,w.data.push);if(n==M.c.a5w)this.IZ.aha();if(n==M.c.afG)this.uM(null,w.data.dir);
if(n==M.c.fT)this.IZ.xE(this.oE.indexOf(w.data.jQ));if(n==M.c.GK){if(w.data.Lq&&document.fullscreenEnabled){if(document.fullscreenElement)document.exitFullscreen();
else document.body.requestFullscreen()}else if(w.data.Lq)document.body.webkitRequestFullScreen();if(w.data.Z!=null)this.CQ(w.data.Z)}if(n==M.c.a2e){if(w.data.iO)this.ma.hJ(w.data.ab5);
else this.ma.hV(w.data.ab5);this.QI(w.data.iO?"down":"up")}if(n==M.c.aea){var H=w.data.Z;this.nJ.aev([H]);
this.f()}if(n==M.c.iI){var y=this.Xz(),c=y.E$().slice(0),Q=y.B[y.g[0]],q=new cr(0,0,y.m,y.e),S=iC.aX()+"-d71c-11e5-b1ae-a548a96e5f9f",A=new aL(M.E.L,!0);
if(w.data.PY==0){var V={name:y.name.split(".")[0],id:S,TP:[c,q]};A.data={d:M.c.Yj,fB:"add",PY:h6.wK,JT:[V]};
this.S(A)}if(w.data.PY==1){var e=O.R(q.O()*4);O.jZ(e,4294967295);O.q.SG("norm",c,q,e,q,q,1);var d=O.R(q.O());
O._i(e,d);O.G$(d);var N=O.zX(d,q);if(N._G())N=q;var b=O.R(N.O());O.qS(d,q,b,N);N.x=N.y=0;var z={U2:N,id:S,TP:[b,N]},v=iG.Pn(S),T=v.Brsh.v;
T.Dmtr.v.val=Math.max(N.m,N.e);T.Spcn.v.val=10;A.data={d:M.c.Yj,fB:"add",PY:h6.p6,JT:{list:[{t:"Objc",v:v}],NS:[z],c4:[]}};
this.S(A);A.data={d:M.c.Yj,PY:h6.Ja,Aq:v};this.S(A)}if(w.data.PY==2){var Y=y._e(),R=Y[0][Y[1][0]],h={S6:Q.getName(),E5:S,i:R.add.vmsk.clone().i},E=O.r.dF(h.i),G=new b7(E.m,0,0,E.e,E.x,E.y);
G.G$();O.r._R(h.i,G);E.x=E.y=0;h.C5=E.clone();A.data={d:M.c.Yj,fB:"add",PY:h6.vG,JT:[h]};this.S(A)}}if(n==M.c.Jx)this.Wn.$e(w.data.PY);
if(n==M.c.hN){var k=w.data.aiq,$=w.data.OQ;if(k!=!0&&$!=!0&&this.T4("open"))return;var p=this.IZ.tO();
if($)p=-1-p;this.Wn.at1(k||$?p:null,w.data.ail)}if(n==M.c.r9){var X=w.data.a1l,C=w.data.Tk,D=this._m(X);
if(C){var o=X==h6.p6,t=[];for(var l=0;l<C.length;l++)t.push((o?D.list:D)[C[l]]);D=o?{c4:D.c4,NS:D.NS,list:t}:t}if(X==h6.cb){var q=new iC;
for(var l=0;l<D.length;l++){var u=D[l].fw.Lefx;if(u)hO.aaU(u,q,this.bB.XG)}D={rM:q.add.Patt?q.add.Patt:[],xJ:D}}if(X==h6.Xs){var m=this.bB.Sr;
D={NS:[],c4:[],list:D};console.log(D)}if(X==h6.v)D=D[w.data.GJ];var U=h6.EP[X],c=U[2].Z8(D);f1.save(c,U[1]+"."+U[0])}if(n==M.c.ka){var I=this.bB.sP,x=w.data.afd;
if(I.ix&&!I.axz&&!x){I.acX=window.confirm("Load \""+w.data.os+"\" also next time you use the editor?\nManage it in Edit - Local Storage.");
I.axz=!0}if((I.acX||x)&&I.ix){I.DA[w.data.os]=w.data.rj;var A=new aL(M.E.L);A.data={d:M.c.Yj,PY:h6.rO};
this.S(A)}}if(n==M.c.aeu){var y=this.Xz(),Z="<!DOCTYPE HTML>";if(y==null)return;var J=cb.m8(y.E$().buffer,y.m,y.e),r=window.open();
Z+="<head><script>setTimeout(function() {window.print();}, 10);</script></head>";Z+="<body><img src=\""+J+"\" /></body>";
Z+="</html>";r.document.write(Z)}if(n==M.c.QO){if(this.T4("publishOnline"))return;var f=w.data.xU!="psd",y=this.Xz();
if(y==null)return;if(!f&&y.XV)return;var F="Your picture will be published at "+(f?"Imgur":"Photopea")+".com under a public URL (known only to you). Proceed?";
if(!f)F+=" We guarantee 6 months of storage (or more, if your file is opened often).";var _=w.data.er?!0:confirm(F);
if(_){if(!f){var A=new aL(M.E.v,!0);A.G=P.YV;A.data={d:a.rd};this.S(A);var K=new cr(0,0,y.m,y.e);for(var l=0;
l<y.B.length;l++){var Q=y.B[l];if(Q.rect._G()||Q.Ok()||Q.LZ()||Q.QB()||Q.hu()||Q.add.TySh||Q.add.vmsk||Q.add.SoLd)continue;
var B=K.Fa(Q.rect);if(!B.Hw(Q.rect)&&!B._G()){var ij=O.R(B.O()*4);O.j1(Q.buffer,Q.rect,ij,B);Q.buffer=ij;
Q.rect=B}if(!O.O7(Q.buffer,Q.rect.m,Q.rect.e))continue;var W=Q.tl(),L=Q.opacity,i=Q.UM,e3=Q.Ak;Q.WH(!0);
Q.opacity=255;Q.UM="norm";y.g=[l];A.data={d:a.Oq,xU:"jpg"};this.S(A);var eE=y.B[l];Q.WH(W);eE.WH(W);
Q.opacity=eE.opacity=L;Q.UM=eE.UM=i,Q.Ak=eE.Ak=e3}}if(y.FJ){y.eU()}var ec=y.m,gw=y.e,bl=w.data.ayx,cD;
if(bl)while(Math.max(ec,gw)>bl){ec=ec>>>1;gw=gw>>>1}console.log(ec,gw);if(w.data.xU=="psd")cD=cb._L(y,"psd",0,0,[!0,!0,!0]);
else if(w.data.xU=="png")cD=cb._L(y,"png",ec,gw);else{var a$=cb._L(y,"png",ec,gw),hJ=cb._L(y,"jpg",ec,gw);
cD=a$.byteLength<hJ.byteLength?a$:hJ}if(f)f1.a5Q(cD,w.data.er);else this.Wn.a3g(cD,y.name,w.data.er,"psdshared")}}if(n==M.c.Da){var y=this.Xz(),ei=!1;
if(y==null)return;if(y.FJ){y.eU()}if(w.data.qJ){if(!this.Os(y,w.data.qJ))return;var c=es.ary(y,w.data.qJ,this.bB);
this._4(c);ei=!0}else if(y.Is){if(this.oE.indexOf(y.Is.tD)!=-1){var c=new Uint8Array(cb.Mn("PSD").vd(y,null,null,[!0,!1])),A=new aL(M.E.v,!0);
A.data={d:a.s8,z3:y.Is.tD,data:c,id:y.Is.a5m,w5:y.name};A.G=P.YV;this.S(A);alert("Smart Object updated")}ei=!0}else if(this.T4("save")){ei=!0}else if(y.bD){es.akk(y);
ei=!0}else if(y.SI){es.akA(y);ei=!0}else if(y.fB&&y.fB.bF){if(!this.Os(y,y.fB.bF.formats))return;this.Wn.arY(y,this.bB,es.akU);
ei=!0}else if(y.Nm&&"psd jpg png gif webp svg bmp".split(" ").indexOf(y.VV)!=-1){this.auF();return}if(ei){y.kX=y.Cf;
y.eB=Date.now();y.Va=!0}else{var A=new aL(M.E.L,!0);A.data={d:M.c.Ul};this.S(A)}}if(n==M.c.Ul){if(!this.bB.BV){alert("function is disabled");
return}if(this.T4("saveAsPSD"))return;var y=this.Xz();if(y==null)return;if(!this.Os(y))return;var A=new aL(M.E.v,!0);
A.data={d:a.rd};A.G=P.YV;this.S(A);if(y.B.length>8e3&&!confirm("Your document has "+y.B.length+" layers."+" Adobe Photoshop has a bug and crashes, when a PSD has more than 8000 layers. Do you want to proceed?"))return;
var df={X5:[]};y.root.auD([],df);var bM=df.X5;if(bM.length>11&&!confirm("One layer is nested "+(bM.length-1)+" times."+" Adobe Photoshop crashes, when a layer in a PSD is nested more than 10 times. Do you want to proceed?\n\nLongest nesting: "+bM.join(" \uD83E\uDC1A ")+"."))return;
var ib=window.showSaveFilePicker;if(window.parent!=window)ib=null;if(ib&&!w.data.a3G){var fI={suggestedName:y.name,types:[{description:"PSD Files",accept:{"image/psd":[".psd"]}}]};
ib(fI).then(function(w){y.Nm=w;y.name=w.name;y.qF=!0;y.VV="psd";this.auF()}.bind(this));return}var eU=window.gtag;
if(y.cV()&&eU)eU("event",y.VV+":"+s.na(g6.qx()?"\"'|('61":"w'| "),{event_category:"Formats"});if(y.FJ){y.eU()}if(w.data.a3G){var c=y.VV=="psd"?cb.Mn("PSD").vd(y):es.ki(y,y.VV,this.bB);
this.afp(c,y,this)}else{var c=cb.Mn("PSD").vd(y);f1.save(c,y.name);y.kX=y.Cf;y.eB=Date.now();y.Va=!0}}if(n==M.c.ee)window.open(w.data.link,"_blank");
if(n==M.c.a6q){if(this.MC.i7()){this.agr();return}var y=this.Xz(),Q=y.B[y.g[0]],H=y._7(Q.add.SoLd.Idnt.v);
for(var l=0;l<this.oE.length;l++){var gK=this.oE[l].Is;if(gK!=null&&gK.a5m==H.h4&&gK.tD==y){this.IZ.Yl(l);
return}}f1.KR({name:H.w5,Is:{a5m:Q.add.SoLd.Idnt.v,tD:y}},H.raw.buffer,this)}if(n==M.c.a9F){var y=this.Xz(),Q=y.B[y.g[0]],H=y._7(Q.add.SoLd.Idnt.v);
f1.save(H.raw.buffer,H.w5)}if(n==M.c.aj1){console.log(w.data);f1.KR({name:w.data.SI[1].split("/").pop(),SI:w.data.SI},w.data.G_,this)}if(n==M.c.a18){var y=this.Xz();
y.SI=w.data.SI;y.name=y.SI[1].split("/").pop();var A=new aL(M.E.L);A.data={d:M.c.Da};this.S(A)}if(n==M.c.VN){this.a9s()}if(n==M.c.sX){this.adA(w.data.Wi,w.data.qn,w.data.g1)}if(n==M.c.Yu){this.awF(w.data.a4K,w.data.mB,w.data.g1)}if(n==M.c.a4h){var bs=w.data.Z;
if(this.bB.ZR==P.nr&&this.vf().i7()){var A=new aL(M.E.v,!0);A.G=P.nr;A.data={d:"insertText",Z:bs};this.S(A);
return}if(bs.startsWith("vcb;")){var km=JSON.parse(bs.slice(4));km[0]=ca.TK(km[0]);var A=new aL(M.E.v,!0);
A.G=P.ko;A.data={d:"append",hG:"Paste Paths",azk:km};this.S(A)}else if(bs.startsWith("lrs;")){var aJ=bs.split(";"),ip=this.oE[parseInt(aJ[1])];
if(ip==null)return;var fl=this.Xz(),b3=ip.g;ip.g=JSON.parse(aJ[2]);var dY=ip.e_(null,ip!=fl),A=new aL(M.E.v,!0);
A.data={d:a.J6,B:dY,tD:ip,d3:fl};A.G=P.YV;this.S(A);ip.g=b3}else if(bs.startsWith("<!--")||bs.startsWith("<svg")){var k4=j.bv(bs),aK=cb.Mn("svg"),q=new iC("image.psd");
aK._N(k4.buffer,q);if(this.oE.length!=0){var jK=q.B;if(jK.length==3&&jK[0].getName()=="</Layer group>"&&jK[2].Ok())jK=[jK[1]];
var A=new aL(M.E.v,!0);A.G=P.YV;A.data={d:a.J6,B:jK,tD:q,d3:this.Xz()};this.S(A)}else this.asb(q)}}if(n==M.c._t){fE.Qy(w.data.kB,this)}if(n==M.c.$p){if(window.parent!=window)window.parent.postMessage(w.data.PY,"*");
this.nJ.z6(w.data.PY)}if(n==M.c.Fp){var ay=parseFloat(w.data.Ln);if(this.bB.p_.indexOf(ay)==-1){var A=new aL(M.E.L,!0);
A.data={d:M.c.Yj,PY:h6.gb,Z:ay,fB:"add"};this.S(A)}this.nJ.a2T(w.data.Ln)}if(n==M.c.i9){this.o4.aaV(this.Xz(),this.bB)}if(n==M.c.rL){var f8="open_from_url openFromURL camera takePic templates showTemplates newproject new eassets exportLayers".split(" ");
for(var l=0;l<f8.length;l+=2)if(w.data.Ln==f8[l]&&this.T4(f8[l+1]))return;if(!this.bB.BV&&w.data.window=="saveforweb"){alert("function is disabled");
return}this.MC.aj7(w.data.Ln,this.Xz(),w.data,this.oE,this.ma)}if(n==M.c.fI)f1.save(w.data.data,w.data.name);
if(n==M.c.uJ){if(!this.MC.i7()||w.Pg)this.asb(w.data.z3)}if(n==M.c.Tr){this.IZ.Yl(w.data.target);var A=new aL(M.E.v,!0);
A.data={d:a.ack,z3:w.data.z3,RW:w.data.RW,Nf:w.data.Nf};A.G=P.YV;this.S(A);this.xO(P.xM)}if(n==M.c.a7K){dy._k=!dy._k;
if(this.oE.length>0)this.Xz().U()}if(n==M.c.al1){var gN=g6.vC();if(gN!=null&&gN.globals!=null)this.Mw(gN.globals);
this.BZ()}if(n==M.c.nh){this.Wn.an(w.data.data,null,w.data.Ws,w.data.wq,w.data.a20)}if(n==M.c.DY){var d4=this.vf();
if(!this.MC.O9()!=null)this.xO(w.data.G,w.data.ml);var bK=this.vf();if(bK!=d4&&w.data.abD)bK.mO(this.Xz(),this,this.bB,this.ma,this.Zr)}if(n==M.c.po){if(this.a.YD)this.xO(this.a.YD)}if(n==M.c.ns){var hf=this.a.map[w.data.G].G,y=this.Xz();
hf.ro(w.data,this,y,this.ma,this.bB);if(y)y.zi=!0;this.ad3()}if(n==M.c.Hi){var bC=this.a.map[w.data.G];
this.acz(bC);bC.BF.TV(w.data)}if(n==M.c.Yj){var y=this.Xz(),gW=w.data.PY,dn=w.data.JT,fq=this.bB;if(w.data.fB=="set"){var bK=P.a7z(dn);
if(fq.ZR!=bK)this.xO(bK);this.a.map[bK].BF.aja(dn,fq)}if(w.data.fB=="add"){var U=h6.EP[gW];if(gW==h6.gb){fq.p_.push(w.data.Z);
fq.p_.sort(function(co,c7){return co-c7})}else if(U==null){if(dn)fq.KF.asD(dn,w.data.ady);if(y)y.Va=!0}else{var jN=this._m(gW);
if(gW==h6.p6){jN.NS=jN.NS.concat(dn.NS);jN.c4=jN.c4.concat(dn.c4);jN=jN.list;dn=dn.list}if(gW==h6.cb&&y){for(var l=0;
l<dn.length;l++){var u=dn[l].fw.Lefx;if(u)hO.aal(u,y,fq.XG)}}if(gW==h6.Xs&&dn==null){var q=this.a.map[fq.ZR].BF.a1V();
if(q==null)return;dn=[q]}for(var l=0;l<dn.length;l++)jN.push(dn[l]);if(gW==h6.vG){var jb={};for(var l=0;
l<jN.length;l++){var ac=jN[l].S6;while(jb[ac]!=null)ac=jN[l].S6=ac+"X";jb[ac]=!0}}if(w.data.ady!=!0)if(jN.length!=dn.length||gW==h6.Ie||gW==h6.cb||gW==h6.FG||gW==h6.v)alert(hV.get(U[3])+" "+hV.get([23,1])+".")}}if(w.data.fB=="del"){if(gW==h6.gb){fq.p_.splice(fq.p_.indexOf(w.data.Z),1)}else{var U=h6.EP[gW],C=w.data.Tk,jN=this._m(gW);
if(gW==h6.p6)jN=jN.list;for(var l=0;l<C.length;l++)jN[C[l]]=null;for(var l=0;l<jN.length;l++)if(jN[l]==null){jN.splice(l,1);
l--}alert(hV.get(U[3])+" deleted.")}}if(w.data.fB=="rnm"){var U=h6.EP[gW],jN=this._m(gW);if(gW==h6.p6)jN=jN.list;
if(jN[w.data.Tk[0]]==null)return;U[2].qG(jN[w.data.Tk[0]],w.data.Z)}if(gW==h6.im){var a_=w.data.Z;fq.jP=a_;
fq.a5X[a_.SU]=a_.WL}if(gW==h6.pE){var a_=w.data.Z;fq.Lp=JSON.parse(JSON.stringify(a_));var h5=a_.strokeEnabled.v,jz=a_.strokeStyleContent.v,jj=h5?{SU:1+d5.Ed.oj.indexOf(jz.classID),WL:jz}:{SU:0};
fq.aza[jj.SU]=jj.WL}if(gW==h6.Zu){fq.zd=w.data.Z}if(gW==h6.A_){fq.Qx=w.data.Qx}if(gW==h6.Ja){var ij=JSON.parse(JSON.stringify(w.data.Aq)),jy=ij.useBrushSize;
if(jy&&jy.v){ij.Brsh.v.Dmtr.v.val=fq.Sr.TX.Brsh.v.Dmtr.v.val;jy.v=!1}fq.Sr.TX=ij}if(gW==h6.W3){fq.h$=w.data.z2}if(gW==h6.et){fq.JT=w.data.z2}if(gW==h6.Fz){var g0,bt="Clrs";
if(w.data.cl<2){var kl=w.data.Z,iO=w.data.cl==0,dN=O.M.Yw({b:kl>>>16,J:kl>>>8&255,k:kl&255});if(iO)fq.Ni=kl;
else fq.uu=kl;bt=iO?"FrgC":"BckC";g0={fd:"set",ei:{__name:"Set",classID:"setd",T:{t:"Objc",v:dN}}}}if(w.data.cl==2){var aG=fq.Ni;
fq.Ni=fq.uu;fq.uu=aG;g0={fd:"exchange",ei:{__name:"Exchange",classID:"Exch"}}}if(w.data.cl==3){fq.Ni=0;
fq.uu=16777215;if(y!=null&&y.g.length!=0&&y.B[y.g[0]].Ks==1){var aG=fq.Ni;fq.Ni=fq.uu;fq.uu=aG}g0={fd:"reset",ei:{__name:"Reset",classID:"Rset"}}}if(g0){g0.ei.null={t:"obj ",v:[{t:"prop",v:{classID:"Clr",keyID:bt}}]};
var bC=this.vf();bC.ZZ=this;bC.track(g0)}}if(gW==h6.kF){fq.Mr=!fq.Mr;this.Px()}if(gW==h6.$T){fq.OH=!fq.OH;
this.Px()}var iA=fq.al;if(gW==h6.Gh){iA.wH=!iA.wH;this.Px()}if(gW==h6.WV){iA.Wh=!iA.Wh;this.Px()}if(gW==h6.Oc){iA.V_=!iA.V_;
this.Px()}if(gW==h6.JW){iA.LR=!iA.LR;this.Px()}if(gW==h6.v4){iA.jj=!iA.jj;this.Px()}if(gW==h6.bq){iA.B0=!iA.B0;
this.Px()}if(gW==h6.zz){fq.al=w.data.z2;this.Px()}if(gW==h6.a4F){fq.yd=!fq.yd;this.Px()}if(gW==h6.XY){fq.Wg[w.data.kP]=!fq.Wg[w.data.kP];
this.Px()}if(gW==h6.Gr){hV.xT(w.data.lang,this.oy)}if(gW==h6.EO){fq.Eu=w.data.Eu;this.f()}if(gW==h6.rO&&fq.sP.ix){var a0=fq.sP.ix.transaction(["rsrc"],"readwrite").objectStore("rsrc"),cd=a0.put({k:"fs0",fset:fq.sP.DA});
cd.onerror=function(w){console.log(w);alert("Storing failed. Browser says: "+w.target.error.message,7e3)}}this.Zb(gW)}};
gD.prototype.auF=function(){var w=new aL(M.E.L,!0);w.data={d:M.c.el,D0:"Saving ..."};this.S(w);setTimeout(function(){var w=new aL(M.E.L,!0);
w.data={d:M.c.Ul,a3G:!0};this.S(w)}.bind(this),20)};gD.prototype.afp=function(w,n){n.Nm.createWritable().then(function(H){H.write(w);
return H}).then(function(H){return H.close()}).then(function(H){n.kX=n.Cf;n.eB=Date.now();n.Va=!0;var y=new aL(M.E.L,!0);
y.data={d:M.c.yW,D0:"Saving ..."};this.S(y)}.bind(this)).catch(function(H){var y=new aL(M.E.L,!0);y.data={d:M.c.yW,D0:"Saving ..."};
this.S(y)}.bind(this))};gD.prototype.aeA=function(){var w=this.bB,n=w.JT,H=w.a0P;for(var l=0;l<n.length;
l++){var y=n[l];if(H[y])continue;H[y]=!0;this.Wn.J5(y,!1,!0)}};gD.prototype.alk=function(){this.f();
this.Px()};gD.prototype.T4=function(w){var n=this.bB.T0[w];if(n){var H=new aL(M.E.L,!0);H.data={d:M.c._t,kB:n};
this.S(H)}return n!=null};gD.prototype.Os=function(w,n){var H=!0,q=15;if(n){H=!1;for(var l=0;l<n.length;
l++)if(n[l].startsWith(s.hj("__M")))H=!0}var y=w.cV()||w.Is&&w.Is.tD.cV();if(this._9())y=!1;var c=new s.L2[iQ.zs],Q=(c[s.na("xy,b-66:")]()&1)*60+c[s.hj("VQ]3LNRN<G")]();
if(y&&!g6.qx()&&Q>q&&H){var S=s.L2[s.na("}$z{2*35")][s.na("y'|!")],A=s.hj("C[hMHT\\GFB6GJ.44>+.(2sq koomg\\beyj;PGS?Ad+sL>6Cpp^7w!|\"mwuhkguVQ[iII`SN=9Q>:5?B$2, \"w-~oi!ddjhfn|}ePIKOK9DM0>*48;--\"/tx{us+");
A+="\n\n"+s.hj("6Q]eD_-L<A:C8G&%\"+.$'/4ouu qb\\sf\\WQRKSA=U430/:7II:''1&lqy\"")+(-Q+120)+s.hj("nYRTXTBMd");
if(S.indexOf(s.na("\"|'/-1)(W0?@"))==-1)A=hV.get([0,11+6,3+2]);s.L2._cwY(A);return!1}return!0};gD.prototype._m=function(w){var n=this.bB,H=[h6.p6,h6.Wk,h6.K7,h6.FG,h6.wK,h6.vG,h6.cb,h6.Ie,h6.v,h6.Xs,h6.vR],y=[n.Sr,n.Wr,n.KH,n.Aj,n.XG,n.Df,n.f3,n.a6Z,n.PF,n.QV,n.acH];
return y[H.indexOf(w)]};gD.prototype.a9s=function(){var w=this.adA(),n=this.Xz();if(n==null||n.g.length==0)return;
var H=n.B[n.g[0]],y=new aL(M.E.v);if(w==1){y.G=P.ko;y.data={d:"remove",hG:"Cut Paths"}}else{y=new aL(M.E.dp);
y.data={fd:"delete"}}this.S(y)};gD.prototype.adA=function(w,n,H){if(w==null)w=!1;var y=this.bB;console.log("doCopy",w,n);
var c=this.Xz();if(y.ZR==P.nr&&this.vf().i7()){var Q=new aL(M.E.v,!0);Q.G=P.nr;Q.data={d:"copyText"};
this.S(Q);return}if(c==null||c.g.length==0)return;var q=c.B[n==null?c.g[0]:n],S=c._e(),A=S[0],V=S[1],e=A[V[0]];
if(!w&&e!=null&&e.add.vmsk.g.length!=0){var d=P.S2.Q0(e.add.vmsk,e.add.vogk);if(s.tr()){d[0]=ca.a7p(d[0]);
var N="vcb;"+JSON.stringify(d);f1._D(new Blob([N],{type:"text/plain"}))}else y.R2=d;return 1}else if(c.P==null){if(s.tr()){var N="lrs;"+this.oE.indexOf(c)+";"+JSON.stringify(c.g);
f1._D(new Blob([N],{type:"text/plain"}))}}else{var b,z;if(w){var v=new cr(0,0,c.m,c.e);z=v.Fa(c.P.rect);
b=O.R(z.O()*4);O.j1(c.E$(),v,b,z);O.lf(c.P.channel,c.P.rect,b,z)}else if(c.np.length!=0){z=c.P.rect.clone();
b=O.R(z.O()*4);var T=c.d4[c.np[0]],Y=T.iU(z);O.Bk(Y,b);O.o2(c.P.channel,b,3)}else{var R=q.Ih(c,c.P);
if(R==null){alert("Copied area is empty");return}b=R.G_;z=R.rect}var h=c.u.vE,E=h[0]+h[1]+h[2];if(E==1){var G=h.indexOf(1);
for(var l=0;l<b.length;l+=4)b[l]=b[l+1]=b[l+2]=b[l+G]}var k=new ce(c.m,c.e);if(s.tr()&&H!=!0){var $=cb.Mn("PNG").ar3(b.buffer,z.m,z.e);
f1._D(new Blob([new Uint8Array($)],{type:"image/png"}));this.a9l={U2:z,HZ:k}}else y.jR={buffer:b,rect:z,HZ:k};
y.aqt=z.clone();y.R2=null}};gD.prototype.awF=function(w,n,H){if(n)this.ajF=!0;console.log("doPaste");
var y=this.bB,c=y.jR,A;if(this.oE.length==0){if(!w&&s.tr()){f1.mJ(this,null);return}if(c){var Q=cb.xx("image.psd",[{data:c.buffer.buffer,Zg:c.rect}]),q=new aL(M.E.L);
q.data={d:M.c.uJ,z3:Q};this.S(q)}return}var Q=this.Xz();if(y.ZR==P.nr&&this.vf().i7()){f1.mJ(this,null);
return}var S=Q.B[Q.g.length==0?Q.B.length-1:Q.g[0]];if(y.R2){var V=Q._e(!0),e=V[0],d=V[1];A=e[d[0]]}var q=new aL(M.E.v,!0);
if(y.R2!=null&&A!=null){q.G=P.ko;q.data={d:"append",hG:"Paste Paths",azk:y.R2}}else if(!w&&s.tr()&&H!=!0){f1.mJ(this,this.azu.bind(this));
return}else{if(c==null)return;if(Q.BG(!1)&&(Q.u.vE.join("")!="111"||Q.np.length!=0||S.Ks>0||S.rect._G())){q.G=P.p6;
q.data={d:"draw",avj:!0,hG:[5,2]}}else{q.G=P.YV;q.data={d:a.iJ,mB:this.ajF};this.ajF=!1}q.data.jR=c}this.S(q)};
gD.prototype.awc=function(){var w=this.bB.KF;if(w.aoa())return;for(var l=0;l<this.oE.length;l++){var n=this.oE[l];
if(!kn.q2(n,w,this))continue;if(n.se)kn.aqu(n,w,this);var H=n.add.lnk2;if(H)for(var y=0;y<H.length;y++){var c=H[y];
if(c.se)P.LV.ZO(n,c.h4,c.TM[1],c.TM[1],w)}if(n.auy)continue;n.auy=!0;if(n.fB&&n.fB.ale)fE.Qy(n.fB.ale,this);
this._4();var Q=new aL(M.E.v);Q.G=P.YV;Q.data={d:a.Rf};var q=new aL(M.E.L);q.data={d:M.c.Fp,Ln:eV.AG.aum};
q.data={d:M.c.rL,Ln:"saveforweb",xU:9}}};gD.prototype.Zb=function(w){this.aeA();var n=this.bB,H=n.ZR,q=!1;
if(w==h6.Ja){if(this.a.map[H].BF)this.a.map[H].BF.AB(n,w)}else for(var y in this.a.map)if(this.a.map[y].BF)this.a.map[y].BF.AB(n,w);
if(w==h6.Ax){if(H!=P.nr)this.a.map[P.nr].G.AB(n,w);this.awc()}this.IZ.AB(n,w);this.xS.AB(n,w);this.MC.AB(n,w);
this.vf().AB(n,w);this.nJ.AB(n,w);this.DM.AB(n,w);if(w==h6.EO||w==h6.z8){gd.a6Q(n.Eu);this.update(!0)}var c=n.Qx,Q=c.tq.Font;
if(w==h6.A_&&Q!=null&&c.II[Q].Name!=n.font){n.font=c.II[Q].Name;q=!0}if([h6.gb,h6.W3,h6.et,h6.Fz,h6.kF,h6.$T,h6.zz,h6.Oc,h6.JW,h6.Gh,h6.WV,h6.v4,h6.bq,h6.Gr,h6.EO].indexOf(w)!=-1||q)this.ad3()};
gD.prototype.ad3=function(){if(!this.yi)return;var w={},n=this.a.map;for(var H in n){var y=n[H].G;if(y.ae&&y.ae()!=null)w["t"+H]=y.ae()}var c=this.bB,Q=c.al,q={fcolor:c.Ni,bcolor:c.uu,rulers:c.Mr,extras:c.OH,favFam:c.h$,rsrc:c.JT,panels:c.p_,eparams:{guides:Q.V_,grid:Q.LR,sels:Q.wH,paths:Q.Wh,pgrid:Q.jj,slices:Q.B0,gsize:parseFloat(Q.Rv.toFixed(2)),gunits:Q.c$,gtype:Q.ZW,runits:Q.GZ},lang:hV.dq(),theme:c.Eu,as:c.yT,topt:w};
if(c.font!=null)q.font=c.font;var S=g6.vC();if(S==null)S={};S.globals=q;g6.Af(S)};gD.prototype.Pf=function(w){var n=this.ma,H=this.Zr,y=this.bB.ZR,c=this.a.map[y].G,Q=null,q=!1;
for(var l=0;l<this.a.a6S.length;l++){var S=this.a.a6S[l],A=!0;for(var V=0;V<S.Jg.length;V++){var e=S.Jg[V];
if(!n.l(e))A=!1}if(A&&(!S.Yd||!c.i7())&&(S.xe==null||S.xe.indexOf(y)!=-1)){Q=S.G;q=S.Yd;break}}if((!H.iO||y==P.Y4||w)&&this.a.Lo!=Q&&(Q!=y||!q)){var d=this.Xz();
if(this.a.Lo!=null&&Q==null)this.vf().disable(d,this,this.bB,n,!0);this.a.Lo=Q;this.vf().enable(d,this,this.bB,n,Q!=null&&Q!=y)}};
gD.prototype.QJ=function(w){var n=this.bB.ZR,H=this.Xz();if(n!=null){this.a.map[n].G.disable(H,this,this.bB,this.ma)}};
gD.prototype.acz=function(w){if(w.BF==null){w.BF=new w.gV;w.BF.afa(w.G.id,w.G.Ux);w.BF.AB(this.bB,h6.z8);
w.BF.f()}};gD.prototype.xO=function(w,n){if(w==P.xM&&this.MC.O9())return;var H=this.Xz(),y=this.bB;if(this.a.map[w].G.nX(H,y)){this.QJ();
if(w!=y.ZR)this.a.YD=y.ZR?y.ZR:P.DX;y.ZR=w;this.xS.xO(y.ZR);var c=this.a.map[w];this.a.KW[c.Gv]=c.alZ;
this.acz(c);this.de.acL(c.BF);var Q=c.G;Q.enable(H,this,this.bB,this.ma,!1,n);if(H)H.zi=!0;this.Px();
this.Yy.ayZ()}};gD.prototype.vf=function(w){var n=this.a,H=n.u7,y=n.Lo,c=this.bB.ZR;if(H)c=H;else if(y&&w==null)c=y;
return n.map[c].G};gD.prototype.asb=function(w){var n=this.bB,H=this.oE.indexOf(w);if(H!=-1){this.IZ.Yl(H);
return}if(this.lp&&(w.fB==null||w.fB.bF==null)){w.fB={bF:this.lp}}if(w.WY==null){w.WY="local,"+this.ah6+","+w.name;
this.ah6++}w.eB=Date.now();if(eY.S1()!=0&&!this.ar$&&s.L2[s.na("t$&!'31")].toString().indexOf(s.na(" u,$4&"))==-1){alert(s.na("j$--=#66A@5EU`KQaFVjSih\\hpirt2,x&5&+#++A4<8SFOO_FUMQ|"));
return}for(var l=0;l<w.B.length;l++){var y=w.B[l];if(y.add.SoLd!=null){var c=Date.now()}}var Q=w.B.length,q=iQ._z(),S=Math.PI*(5465<<14)+(s.jg(31)?20:10)*7e7;
if(q>S){var Q=w.B.length;w.B=[];return Q}if(dy._k){dy.jU(Math.max(w.m,w.e));for(var l=0;l<w.B.length;
l++){var y=w.B[l];if(y.QG())dy.jU(Math.max(y.rect.m,y.rect.e))}}w.C1();w.gF();if(w.a9W)w.asi();else w.U();
w.a9W=!1;this.oE.push(w);this.IZ.Im(new dd(w));w.zi=!0;w.Va=!0;this.awc();var A=new aL(M.E.v);A.G=P.bf;
A.data={d:"auto",ME:2}};gD.prototype.Xz=function(){return this.oE[this.yu]};gD.prototype.aqR=function(){return this.MC.O9()==null};
gD.prototype.uM=function(w,n){this.QJ();var H=this.oE.length;if(n!=null)this.IZ.Yl((this.IZ.tO()+n+H)%H);
this.yu=this.IZ.tO();var y=this.Xz();this.DM.akp(y,this.bB);this.nJ.nQ(y,this.oE,this.bB);this.Px();
if(y)y.zi=!0};gD.prototype.acs=function(w){this.QJ();var n=this.oE[w.data.f8];this.oE.splice(w.data.f8,1);
if(this.oE.length==0){this.uM(w);var H=dy.Ke(),y=dd.MJ.YN;if(H.parentNode)H.parentNode.removeChild(H);
if(y.parentNode)y.parentNode.removeChild(y)}};gD.prototype.a1O=function(w){var n=[],H=w.data.aiX;for(var l=0;
l<H.length;l++)n[l]=this.oE[H[l]];this.oE=n;this.yu=this.IZ.tO()};gD.prototype.av9=function(w){var n=this.IZ,H=n.agp(),y=this.vf(),c=this.Xz();
if(H==n.tO()||!y.agj())return;this.ajV(H,y)};gD.prototype.ajV=function(w,n){console.log("dup2doc");var H=this.bB,y=this.IZ,c=this.Xz(),Q=this.oE[w],q,S=new aL(M.E.v,!0);
S.G=P.YV;if(c.P==null){S.data={d:a.J6,B:c.e_(null,!0),tD:c,d3:Q};this.S(S)}else q=c.B[c.g[0]].Ih(c,c.P);
var A=this.Zr,V=H.Mr;H.Mr=!1;A=c.u.Sb(A.x,A.y);if(n)n.Pq(c,this,H,this.ma);y.Yl(w);if(c.P){S.data={d:a.iJ,jR:{buffer:q.G_,rect:q.rect}};
this.S(S)}A=Q.u.Cc(A.x,A.y);A.x+=49;A.y+=112;if(n)n.mO(Q,this,H,this.ma,A);H.Mr=V};gD.prototype.a7h=function(w){var n=this.Xz(),H=this.ma,y=this.bB,c=w.nj;
if(c)this.Zr=c;if(this.DK==null)this.DK=0;if(w.action=="multidown"){this.gz=w.pf.length;this.DK=Date.now()}if(w.action=="up"&&Date.now()-this.DK<100){var Q=new aL(M.E.v);
Q.G=P.O$;Q.data={d:this.gz==2?"h_stepbck":"h_stepfwd"};this.S(Q)}if(w.action.startsWith("multi")){var q=new aL(M.E.v,!0);
q.data={d:w.action,pf:w.pf};q.G=P.uD;this.S(q);return}var S=this.a.map[P.DX].G;if((w.action=="down"||w.action=="rdown")&&y.ZR!=P.DX&&this.a.Lo!=P.DX&&S.a0e(n,this,y,H,c)){this.a.u7=P.DX;
S.enable(n,this,y,H,!0)}if(w.action=="idown"){H.hJ("Space");this.Pf(!0);w.action="down"}var A=this.MC.O9(),V=A!=null&&A.PG()&&this.a.Lo==null?A:this.vf();
if(w.action=="scroll"){var e=!H.l(b8.NX)&&w.Aa,q=new aL(M.E.v,!0);q.data={d:"scroll",c5:w.c5.clone(),nj:c,azH:e};
q.G=H.l(b8.FO)||e?P.uD:P.em;this.S(q)}if(A!=null&&V!=A&&this.MC.i7()&&V.id!=P.em&&V.id!=P.uD)return;
if(w.action=="down")V.mO(n,this,y,H,c);if(w.action=="rdown")V.QP(n,this,y,H,c);if(w.action=="move")V.C9(n,this,y,H,c);
if(w.action=="up"||w.action=="iup"||w.action=="cancellast")V.sh(n,this,y,H,c,w.action=="cancellast");
if(w.action=="rup")V.Qz(n,this,y,H,c);if(w.action=="iup"){H.hV("Space");this.Pf(!0)}if(w.action=="cancellast"){if(n&&n.history.length!=0&&Date.now()-n.history[n.history.length-1].a99<200){var Q=new aL(M.E.v);
Q.G=P.O$;Q.data={d:"h_stepbck"};this.S(Q)}}var d=this.nJ;if(w.action=="down")d.mO(n,this,y,H,c);if(w.action=="move")d.C9(n,this,y,H,c);
if(w.action=="up")d.sh(n,this,y,H,c);if(w.action=="down"||w.action=="up"){this.Pf()}if(w.action=="down"||w.action=="up"||w.action=="ctx"){n.zi=!0}if((w.action=="up"||w.action=="rup")&&this.a.u7){this.a.u7=null;
S.disable(n,this,y,H)}};gD.prototype.wu=function(w){var n=this.Xz(),H=this.Zr;if(n&&this.vf().U8(H,this.ma)){var y=n.u,c=y.GN.m,Q=y.GN.e,q=0,S=0,A=16;
if(H.x<A)q=A-H.x;if(H.x>c-A)q=H.x-(c-A);if(H.y<A)S=A-H.y;if(H.y>Q-A)S=H.y-(Q-A);var V=this.ma.l(b8.fx)?8:1;
if((q!=0||S!=0)&&(n.m*y.N>c||n.e*y.N>Q)){q=Math.min(5,q*.5)*V;S=Math.min(5,S*.5)*V;if(!(H.x<A||H.y<A)){q=-q;
S=-S}y.Q.x+=q;y.Q.y+=S;this.a7h({nj:this.Zr,action:"move"});n.qF=!0}}this.update()};gD.prototype.update=function(w){var n=this.Xz();
if(n==null)return;if(n.zi){var H=this.a.map;for(var y in H){if(H[y].G.BK)H[y].G.BK(n,this,this.bB,this.ma)}}if(n.FJ)if(dy._k)dy.jU(Math.max(n.m,n.e));
if(n.FJ){n.eU()}var c=n.u,Q=this.vO,q=this.vO=Date.now();if(n.FJ||n.Ii||n.Va||n.qF||w||c.up!=c.N||!c.kk.Hw(c.Q)){var S=c.up;
if(c.up!=c.N){var A=P.kL.azs(c.N,c.up>c.N),V=.12;if(c.up<c.N&&c.up<A)c.up=A;if(c.up>c.N&&c.up>A)c.up=A;
var e=Math.abs(c.N-A)*(q-Q)*.001/V;if(c.up<c.N)c.up=Math.min(c.N,c.up+e);else c.up=Math.max(c.N,c.up-e)}var d=S==c.N?0:(c.up-c.N)/(S-c.N);
c.kk.x=c.Q.x+d*(c.kk.x-c.Q.x);c.kk.y=c.Q.y+d*(c.kk.y-c.Q.y);this.IZ.AB(this.bB,null);this.IZ.nQ(n,this.oE)}if((n.FJ||n.qF||n.zi)&&(!this.Zr.iO||n.QR)){if(n.zi)n.gF();
this.nJ.nQ(n,this.oE,this.bB);this.xS.aqW(n,this.ma);n.nR=!1}n.QR=!1;n.zi=!1;n.FJ=null;n.Ii=n.Va=n.qF=!1};
gD.prototype.v6=function(w){var n=w.target.tagName.toLowerCase(),H=w.target.getAttribute("type"),y=b8,c=y.dy(w.code,y.IO);
if(!((n=="input"||n=="select"||n=="button")&&y.dy(w.code,y.Ba))){if(y.Fq(w)){w.preventDefault()}this.ma.hJ(y.J2(w));
this.QI("down")}};gD.prototype.ZH=function(w){if(w.key==" ")this.ma.RA();if(b8.dy(w.code,b8.P3))this.ma.reset();
this.ma.hV(b8.J2(w));var n=w.target.tagName.toLowerCase();if(b8.Fq(w)){w.preventDefault()}this.QI("up")};
gD.prototype.QI=function(w){var n=this.ma,H=this.Xz(),y=H!=null&&H.g.length!=0;if(this.o4.O9()!=null){if(n.l(b8.RN)){this.o4.a9p()}return}this.Pf();
var c=this.S3(b8.NX),Q=n.l(b8.FO),q=n.l(b8.fx);if(c&&n.l(b8.gH)&&w=="down"){var S=new aL(M.E.v),A=new aL(M.E.L);
S.G=P.O$;if(q){S.data={d:"h_stepfwd"}}else{S.data={d:"h_stepbck"}}if(this.MC.O9()!=null&&this.MC.O9().i7()){}else this.S(S)}if(c){var S=new aL(M.E.v),V=new aL(M.E.dp),A=new aL(M.E.L);
if(n.l(b8.Vp)&&n.l(b8.LF)){A.data={d:M.c.rL,Ln:"storwindow"};this.S(A)}if(!Q&&w=="down")for(var e in fb.keys){var d=fb.keys[e],N=!0;
for(var l=0;l<d.length;l++)if(!n.l(d[l]))N=!1;if(N){S.G=P.bf;if(e=="hue2"&&q&&H.B[H.g[0]].add.SoLd==null)S.data={d:"auto",ME:3};
else S.data={d:"start",k0:e}}}if(n.l(b8.c)){V.data=P.Me.pd(!0)}if(n.l(b8.sO)){if(Q)A.data={d:M.c.rL,Ln:"csize"};
else if(H)A.data={d:M.c.sX,Wi:q}}if(n.l(b8.JK)){V.data=P.Me.pd()}if(n.l(b8.E)&&w=="down"){if(q)V.data={fd:"mergeVisible"};
else V.data={fd:"mergeLayersNew",ei:{__name:"Merge Layers",classID:"Mrg2"}}}if(n.l(b8.kN)){if(q&&this.bB.ZR!=P.xM)A.data={d:M.c.rL,Ln:"afw_fade"};
else if(Q){S.G=P.NJ;S.data={d:"applylast"}}else A.data={d:M.c.i9}}if(n.l(b8.aj)){if(Q&&H&&H.q0(H.g[0])){S.G=P.YV;
S.data={d:a.vg}}else{S.G=P.YV;S.data={d:a.Tl,lD:q}}}if(n.l(b8.mD)){A.data={d:M.c.Yj,PY:h6.$T}}if(n.l(b8.Vp)){if(q){S.data=null;
if(Q)A.data={d:M.c.rL,Ln:"finfo"};else V.data={fd:"inverse"}}else if(Q)A.data={d:M.c.rL,Ln:"isize"}}if(n.l(b8.fs)){V.data={fd:(q?"cut":"copy")+"ToLayer"}}if(n.l(b8.Ek)){A.data={d:M.c.rL,Ln:"preferences"}}if(n.l(b8.Sp)){if(q){S.G=P.YV;
S.data={d:a.So}}else if(w=="down")A.data={d:M.c.rL,Ln:"newproject"}}if(n.l(b8.R3)){if(Q)A.data={d:M.c.rL,Ln:"storwindow",Ny:0};
else{A.data={d:M.c.hN};n.reset()}}if(n.l(b8.aR)){A.data={d:M.c.aeu};n.reset()}if(n.l(b8.AG)){A.data={d:M.c.Yj,PY:h6.kF}}if(n.l(b8.M9)&&w=="down"){if(q){if(Q)A.data={d:M.c.rL,Ln:"saveforweb"};
else A.data={d:M.c.Ul}}else A.data={d:M.c.Da}}if(n.l(b8.Sh)){if(q){S.G=P.xM;S.data={d:"again"}}else A.data={d:M.c.DY,G:P.xM}}if(n.l(b8.wQ)){A.data={d:M.c.Yu}}if(n.l(b8.to)){this.IZ.Oa()}if(n.l(b8.K_)&&H&&H._w()){A.data={d:M.c.VN}}if(n.l(b8.gT)||n.l(b8.vn)){S.G=P.YV;
S.data={d:a.JP,cl:0};if(n.l(b8.gT))S.data.cl=q?3:2;else S.data.cl=q?0:1}if(n.l(b8.Il)&&H){S.G=P.YV;S.data={d:a.Rw}}if(n.l(b8.IO)&&H){var b=0;
if(q)b++;if(Q)b+=2;S.G=P.pj;S.data={d:"frompath",Vm:[null,0,b]}}if(n.l(b8.Cd)){V.data=P.RP.oU(0)}if(n.l(b8.Ba)){var z=this.oE.length,v=n.l(b8.fx)?-1:1;
if(z>1)this.IZ.Yl((this.IZ.tO()+z+v)%z)}if(n.l(b8.Ch)){A.data={d:M.c.Yj,PY:h6.Oc}}if(n.l(b8.lr)){A.data={d:M.c.Yj,PY:h6.JW}}P.kL.aho(n,S);
if(this.MC.O9()!=null&&this.MC.O9().i7()){}else{if(S.data)this.S(S);if(V.data)this.S(V);if(A.data)this.S(A)}}if(!c&&Q){var T;
if(n.l(b8.gT))T="Bckw";if(n.l(b8.vn))T="Frwr";if(n.l(b8.Il))T="Back";if(n.l(b8.Cd))T="Frnt";if(T){var V=new aL(M.E.dp);
V.data={fd:"select",ei:{__name:"Select",classID:"slct",null:{t:"obj ",v:[{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:T}}]},MkVs:{t:"bool",v:!1}}};
this.S(V)}}if(H&&H.g.length!=0){var Y=H.B[H.g[0]],g=Y.Ks;if(g==1||g==3||c){var S=new aL(M.E.v),R=g==3?Y.iS(H).z:Y.LZ();
if(R){var h=R.SC?H.u.vE.join("")=="111"?1:2:0;S.G=P.uD;if(R&&n.l(b8.RN)&&h!=0){S.data={d:"mskView",Z:0}}if(R&&n.l(b8.abe)){S.data={d:"mskView",Z:h==1?0:1}}if(R&&n.l(b8.am$)){S.data={d:"mskView",Z:h==2?0:2}}if(S.data)this.S(S)}}}var E=n.RQ();
if(H&&c&&2<=E&&E<=5){var G=[1,1,1];if(E>2){G=[0,0,0];G[E-3]=1}var k=new aL(M.E.v,!0);k.G=P.em;k.data={d:"setcls",vE:G};
this.S(k)}if(!n.l(b8.NX)&&!Q&&w=="down"){var S=new aL(M.E.v),A=new aL(M.E.L),$=this.a.map[this.bB.ZR],p=-1;
for(var l=0;l<this.a.keys.length;l++)if(this.a.keys[l]&&this.S3(this.a.keys[l]))p=l;if(p!=-1){var X=null;
if($.Gv!=p)X=this.a.KW[p];if($.Gv==p&&q)X=($.alZ+1)%this.a.VA[p].length;if(X!=null){var C=this.a.VA[p][X].G.id,D=this.bB.dA;
if((D==null||D.indexOf(parseInt(C))!=-1)&&!this.Zr.iO)A.data={d:M.c.DY,G:C}}}if(n.l(b8.mD))A.data={d:M.c.DY,G:P.em};
if(n.l(b8.AG))A.data={d:M.c.DY,G:P.xy};if(n.l(b8.K_))A.data={d:M.c.Yj,PY:h6.Fz,cl:2};if(n.l(b8.JK))A.data={d:M.c.Yj,PY:h6.Fz,cl:3};
if(A.data)this.S(A);if(n.l(b8.a8d)&&H&&H.g.length==1){var Y=H.B[H.g[0]];S.G=P.YV;var o=Y.ox(0)||Y.ox(1)||Y.ox(2)||Y.ox(31);
S.data={d:a.Cz,z2:o?[[!1,!1,!1,!1],[0,1,2,31]]:[[!0],[31]]};this.S(S)}var E=n.RQ();if(y&&E!=-1&&this.S3(b8.KK[E])){var t=H.g[0],Y=H.B[t],u=b8._J(Math.round(100*Y.opacity/255),E);
S.G=P.YV;S.data={d:a.eq,z2:Math.round(255*u/100)};this.S(S)}var m=this.bB.PO;if(n.l(b8.Ba)){A.data={d:M.c.GK,Z:m==0?1:0};
this.S(A)}if(n.l(b8.kN)||n.l(b8.RN)&&m==2){var U=document.fullscreenElement!=null==(m==2);A.data={d:M.c.GK,Z:m==0?2:0,Lq:U};
this.S(A)}if(n.l(b8.zg)&&!this.Zr.iO){S.G=P.pj;S.data={d:"qmask"};this.S(S)}}if(!n.l(b8.NX)&&!Q&&q){var S=new aL(M.E.v),A=new aL(M.E.L);
if(n.l(b8.Il))A.data={d:M.c.rL,Ln:"shortcuts"};if(n.l(b8.Vh))A.data={d:M.c.rL,Ln:"fill"};if(n.l(b8.anc))A.data={d:M.c.rL,Ln:"sel_feather"};
if(y&&(n.l(b8.iA)||n.l(b8.u_))){var t=H.g[0],Y=H.B[t],I=eS.$Q,x=I.length,J=I.indexOf(Y.UM);S.G=P.YV;
S.data={d:a.Cx,z2:(J+x+(n.l(b8.iA)?1:-1))%x};this.S(S)}if(A.data)this.S(A)}var S=new aL(M.E.v),r=w=="down"&&(this.S3(b8.DB)||this.S3(b8.uU));
if((c||Q)&&r){S=new aL(M.E.dp);S.data=P.sT.ba(c?"BckC":"FrgC");this.S(S)}else if(H&&r&&!this.Zr.iO){if(H.P!=null){S=new aL(M.E.dp);
S.data={fd:"delete"}}else if(H.g.length!=0){var Y=H.B[H.g[0]];if(Y.Ks==1)S.data={d:a.Xg};else if(Y.Ks==3)S.data={d:a.Sw};
else S.data={d:a.oM};S.G=P.YV}this.S(S)}if(this.MC.O9()!=null){if(n.l(b8.RN)){this.MC.O9().a5E()}else{this.MC.O9().QI(H,this,this.bB,n)}}if(this.bB.ZR==null)return;
var $=this.vf();if(this.MC.O9()==null||this.a.Lo)$.QI(H,this,this.bB,n)};gD.prototype.S3=function(w){var n=this.ma,H=this.a.map[this.bB.ZR].G,top=this.MC.O9(),y=this.Xz();
return n.l(w)&&!H.XT(w,y)&&(top==null||!top.XT(w,y))};gD.prototype.CQ=function(w){var n=this.aoM,H=this.jD;
this.bB.PO=w;var y=s._Q,c=this.DM.n;if(y(c))this.fl.removeChild(c);var Q=this.de.n;if(y(Q))this.fl.removeChild(Q);
var q=this.xS.n;if(y(q))n.removeChild(q);var S=this.IZ.n;if(y(S))n.removeChild(S);var A=this.nJ.n;if(y(A))n.removeChild(A);
if(w==0){this.fl.appendChild(c);this.fl.appendChild(Q);H.appendChild(n);n.appendChild(q);n.appendChild(S);
n.appendChild(A)}if(w==1){this.fl.appendChild(c);n.appendChild(S)}if(w==2){n.appendChild(S)}this.IZ.CQ(w==2?1:0);
this.Px()};gD.prototype.amn=function(w){if(this._9())return 1;if(s.avB()==0){this.bB={};this.kc=function(n,H){return Math.sqrt(n*H)}}return-1};
function j$(w){bU.call(this);if(w==null)return;this.pV=null;this.WZ=null;this.n=s.t("div","sbar"+" "+w);
this.Bl=new s.t("div","top");this.Bl.innerHTML="> <";this.n.appendChild(this.Bl);this.cu=1;this.Bl.addEventListener("click",this.aiW.bind(this),!1)}j$.prototype=new bU;
j$.prototype.aiW=function(w){if(this.pV!=null&&this.pV<500&&this.cu==0)return;if(this.cu==0)this.C_(!0);
else this.collapse(!0)};j$.prototype.a0B=function(w){this.cu=w;this.Bl.innerHTML=this.cu==0?"< >":"> <"};
j$.prototype.acf=function(){var w=new aL(M.E.L,!0);w.data={d:M.c.bc};this.S(w)};j$.prototype.C_=function(w){this.a0B(1);
if(w)this.acf()};j$.prototype.collapse=function(w){this.a0B(0);if(w)this.acf()};j$.prototype.dX=function(){return this.cu==1};
function iw(w,n){j$.call(this,"vcolumn");this.E1=w;this.arZ=n;this.jc();this.Y_=s.t("div");this.Y_.setAttribute("style","cursor:default;");
this.a1_=this.aqE.bind(this);this.aeX=this.a7G.bind(this);this.a7n=this.ahT.bind(this);s.am(this.n,this.a1_);
this.n.appendChild(this.Y_);this.nb=s.t("div");this.Y_.appendChild(this.nb);this.uO=-1;this.ayR=s.t("div","float");
var H=this.pM=s.t("canvas","gsicon"),y=Math.round(12*s.V());H.width=H.height=y;var c=H.getContext("2d");
c.moveTo(2,2);c.lineTo(y-2,y-2);c.moveTo(2,7);c.lineTo(y-7,y-2);c.stroke();this.pM.setAttribute("style","position:absolute; bottom:0;  left:0;  cursor:nesw-resize;");
s.g0(this.pM);s.am(this.pM,this.a1_);s.cY(H);this.En=[];this.e4=[];this.aqz=null;this.Pd=null;this.ahN=0}iw.prototype=new j$;
iw.prototype.aqE=function(w){var n=w.target==this.pM;if(!n){if(w.target!=this.n)return;if(!this.dX())return}else{var H=this.En[this.uO].VX;
H.style.pointerEvents="none";var y=H.getBoundingClientRect();this.aqz=[y.width,y.height];this.e4[this.uO]=[y.width,y.height]}w.stopPropagation();
this.Pd=s.E4(w,document.body);this.ahN=this.E1;s.I7(document,this.aeX);s.vM(document,this.a7n)};iw.prototype.a7G=function(w){var n=s.E4(w,document.body);
if(this.dX()){this.E1=this.ahN+this.Pd.x-n.x;this.jc()}else{var H=this.e4[this.uO],y=this.aqz;H[0]=y[0]+this.Pd.x-n.x;
H[1]=y[1]+n.y-this.Pd.y}var c=new aL(M.E.L,!0);c.data={d:M.c.bc};this.S(c)};iw.prototype.ahT=function(w){if(!this.dX()){var n=this.En[this.uO].VX;
n.style.pointerEvents="auto"}s.kg(document,this.aeX);s.v8(document,this.a7n)};iw.prototype.awS=function(w){w.h("showFloat",this.ak0,this);
w.h("hideFloat",this.Ff,this);this.En.push(w);w.parent=this;this.Y_.appendChild(w.n)};iw.prototype.a8B=function(l){var w=this.En[l];
w.removeEventListener("showFloat",this.ak0,this);w.removeEventListener("hideFloat",this.Ff,this);this.En.splice(l,1);
w.parent=null;this.Y_.removeChild(w.n)};iw.prototype.a1s=function(){return this.En.length};iw.prototype.KQ=function(){for(var l=0;
l<this.En.length;l++)this.En[l].KQ()};iw.prototype.ak0=function(w){this.KQ();var n=this.ayR;this.nb.appendChild(n);
this.uO=this.En.indexOf(w.currentTarget);var H=this.En[this.uO].VX;s.Of(n);n.appendChild(H);n.appendChild(this.pM);
this.kc(this.pV,this.WZ)};iw.prototype.Ff=function(w){this.KQ();if(this.uO!=-1){this.nb.removeChild(this.ayR);
this.uO=-1}};iw.prototype.jc=function(){function w(n){return Math.round(n*s.V())/s.V()}this.n.setAttribute("style","width: "+this.E1+"px; border-left-width:"+w(4)+"px; cursor:ew-resize;")};
iw.prototype.C_=function(w){this.jc();this.Ff();for(var l=0;l<this.En.length;l++)this.En[l].C_();j$.prototype.C_.call(this,w)};
iw.prototype.collapse=function(w){this.n.removeAttribute("style");for(var l=0;l<this.En.length;l++)this.En[l].collapse();
j$.prototype.collapse.call(this,w)};iw.alP=11;iw.prototype.kc=function(w,n){this.pV=w;this.WZ=n;n-=iw.alP;
var H=this.En.length;if(H==0)return;if(!this.dX()){var y=n<400?n:400+(n-400)*.5;for(var l=0;l<H;l++){var c=this.En[l],Q=this.e4[l];
c.kc(Q?Q[0]:this.E1,Q?Q[1]:y)}}else{var q=n;for(var l=0;l<H;l++){var c=this.En[l],S=c.af4();if(l==H-1){S=q;
c.n.style.borderBottom="none"}c.kc(this.E1,S);q-=S+4}}};function gA(w){bU.call(this);this.n=s.t("div");
this.Y_=null;this.ff=0;this.ia=0;this.aci=w;this.ade=this.A9.bind(this);this.aki=this.jf.bind(this);
this.a1f=this.Cw.bind(this);this.GM=null;this.j4=null;this.be=null;s.am(this.n,this.ade);var n=this.n,y="<svg class=\"gsicon\" width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">";
n.addEventListener("touchmove",s.BA,!1);this.ano=!0;this.Zp=[];var H=this.a0c=s.t("div");H.setAttribute("style","float:right; padding:4px;display:none; position:relative;z-index:1;");
this.n.appendChild(H);var c=[[0,13,3],[0,13,4],[0,13,5],"Blog","API",y+"<path d=\"m21.325 9.308c-.758 0-1.425.319-1.916.816-1.805-1.268-4.239-2.084-6.936-2.171l1.401-6.406 4.461 1.016c0 1.108.89 2.013 1.982 2.013 1.113 0 2.008-.929 2.008-2.038s-.889-2.038-2.007-2.038c-.779 0-1.451.477-1.786 1.129l-4.927-1.108c-.248-.067-.491.113-.557.365l-1.538 7.062c-2.676.113-5.084.928-6.895 2.197-.491-.518-1.184-.837-1.942-.837-2.812 0-3.733 3.829-1.158 5.138-.091.405-.132.837-.132 1.268 0 4.301 4.775 7.786 10.638 7.786 5.888 0 10.663-3.485 10.663-7.786 0-.431-.045-.883-.156-1.289 2.523-1.314 1.594-5.115-1.203-5.117zm-15.724 5.41c0-1.129.89-2.038 2.008-2.038 1.092 0 1.983.903 1.983 2.038 0 1.109-.89 2.013-1.983 2.013-1.113.005-2.008-.904-2.008-2.013zm10.839 4.798c-1.841 1.868-7.036 1.868-8.878 0-.203-.18-.203-.498 0-.703.177-.18.491-.18.668 0 1.406 1.463 6.07 1.488 7.537 0 .177-.18.491-.18.668 0 .207.206.207.524.005.703zm-.041-2.781c-1.092 0-1.982-.903-1.982-2.011 0-1.129.89-2.038 1.982-2.038 1.113 0 2.008.903 2.008 2.038-.005 1.103-.895 2.011-2.008 2.011z\"/>",y+"<path d=\"M23.954 4.569c-.885.389-1.83.654-2.825.775 1.014-.611 1.794-1.574 2.163-2.723-.951.555-2.005.959-3.127 1.184-.896-.959-2.173-1.559-3.591-1.559-2.717 0-4.92 2.203-4.92 4.917 0 .39.045.765.127 1.124C7.691 8.094 4.066 6.13 1.64 3.161c-.427.722-.666 1.561-.666 2.475 0 1.71.87 3.213 2.188 4.096-.807-.026-1.566-.248-2.228-.616v.061c0 2.385 1.693 4.374 3.946 4.827-.413.111-.849.171-1.296.171-.314 0-.615-.03-.916-.086.631 1.953 2.445 3.377 4.604 3.417-1.68 1.319-3.809 2.105-6.102 2.105-.39 0-.779-.023-1.17-.067 2.189 1.394 4.768 2.209 7.557 2.209 9.054 0 13.999-7.496 13.999-13.986 0-.209 0-.42-.015-.63.961-.689 1.8-1.56 2.46-2.548l-.047-.02z\"/></svg>",y+"<path d=\"M23.9981 11.9991C23.9981 5.37216 18.626 0 11.9991 0C5.37216 0 0 5.37216 0 11.9991C0 17.9882 4.38789 22.9522 10.1242 23.8524V15.4676H7.07758V11.9991H10.1242V9.35553C10.1242 6.34826 11.9156 4.68714 14.6564 4.68714C15.9692 4.68714 17.3424 4.92149 17.3424 4.92149V7.87439H15.8294C14.3388 7.87439 13.8739 8.79933 13.8739 9.74824V11.9991H17.2018L16.6698 15.4676H13.8739V23.8524C19.6103 22.9522 23.9981 17.9882 23.9981 11.9991Z\"/></svg>"];
for(var l=0;l<c.length;l++){var Q=new eO(c[l]);this.Zp.push(Q);Q.n.setAttribute("style","margin-left:"+(l<7?4:0)+"px;cursor:pointer;");
Q.h("click",this.vH,this)}}gA.prototype=new bU;gA.prototype.f=function(){var w=this.a0c;s.Of(w);for(var l=0;
l<this.Zp.length;l++){var n=this.Zp[l];if(l<5)n.f();w.appendChild(n.n)}};gA.prototype.vH=function(w){var l=this.Zp.indexOf(w.currentTarget);
if(l==0){if(window.showCap)window.showCap();return}var n=" issues learn blog api twitter facebook".split(" "),H=" //github.com/photopea/photopea/issues //www.photopea.com/learn //blog.photopea.com //www.photopea.com/api //www.reddit.com/r/photopea //www.twitter.com/photopeacom //www.facebook.com/photopea".split(" "),y=window.ga;
if(y)y("send","event","Links",n[l]);var c=new aL(M.E.L,!0);c.data={d:M.c.ee,link:H[l]};this.S(c)};gA.prototype.A9=function(w){if(w.agd){w.preventDefault();
w.stopPropagation()}var n=window;s.I7(n,this.aki);s.vM(n,this.a1f);n=this.Y_;this.GM=new ce(parseInt(n.style.left),parseInt(n.style.top));
this.j4=s.E4(w,this.n);this.be=n.getBoundingClientRect()};gA.prototype.jf=function(w){var n=s.E4(w,this.n),H=this.GM.x+n.x-this.j4.x,y=this.GM.y+n.y-this.j4.y,c=this.ff-this.be.width,Q=this.ia-this.be.height;
if(this.aci)this.Y_.style.left=Math.min(0,Math.max(c,H))+"px";else this.Y_.style.top=Math.min(0,Math.max(Q,y))+"px";
if(H-10>0){this.j4.x=n.x-10;this.GM.x=0}if(H+10<c){this.j4.x=n.x+10;this.GM.x=c}};gA.prototype.Cw=function(w){var n=window;
s.kg(n,this.aki);s.v8(n,this.a1f)};gA.prototype.alH=function(w){if(this.Y_){this.n.removeChild(this.Y_)}this.Y_=w;
this.n.appendChild(w);w.style.position="absolute";if(this.aci)w.style.left=0;else w.style.top=0};gA.prototype.kc=function(w,n){this.ff=w;
this.ia=n;this.n.setAttribute("style","position:relative; width: "+w+"px; height: "+n+"px; overflow:hidden; white-space: nowrap; ");
var H=this.Y_.firstChild,y=this.a0c,c=H?H.firstChild.getBoundingClientRect().width+80:1e9,Q=170,q=this.ano&&w>c+Q;
y[iQ.HN][iQ.aeO]=q?"":iQ.Uh;var S=this.Zp;for(var l=0;l<S.length;l++){var A=l>4||w-c>500?"":iQ.Uh,V=S[l];
V.n.style.display=A}};gA.prototype.ayZ=function(){this.Y_.style.left="0";this.Y_.style.top="0"};function as(){bU.call(this);
this.Uz=null;this.vv=as.aR;this.a0E="";this.n=s.t("div","rightbar");this.$S=[new iw(300),new iw(268,!0)];
this.En=[new dL,new dL,new dL,new dL,new dL,new dL,new dL];this.att=[]}as.prototype=new bU;as.prototype.f=function(){var w=this.vv;
for(var l=0;l<w.length;l++)w[l]._0.f()};as.aR=[{_0:new g9,UI:3},{_0:new iu,UI:1},{_0:new jY,UI:4},{_0:new fF,UI:2},{_0:new fG(!0),UI:5},{_0:new bW,UI:0},{_0:new kk,UI:5},{_0:new eL,UI:3},{_0:new bg,UI:0},{_0:new bd,UI:3},{_0:new fW,UI:2},{_0:new kp,UI:4},{_0:new dB,UI:3},{_0:new b$,UI:5},{_0:new fG(!1),UI:5},{_0:new dv,UI:2},{_0:new ab,UI:3},{_0:new i6,UI:1},{_0:new db,UI:0},{_0:new fT,UI:5},{_0:new gh,UI:6,ig:!0},{_0:new ey,UI:6,ig:!0},{_0:new ch,UI:6,ig:!0}];
(function(){var w=[{id:eV.AG.awD,name:"Gallery",url:"plugins/gallery.html",icon:"===data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKAAAACgBAMAAAB54XoeAAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAB5QTFRFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAtyhvagAAAAp0Uk5TAP+mc4pfC+rILiKk3cQAAALjSURBVHic7dq/bxMxFAdwKy1HM16up4QtDCDYkv8gTIgtZWGNWMpIJKhgLAtriyrx71Lnh8/2e76c3/tOxW9olUb56Fvf3bPPOWNKlSpVqtSxPv6uIfXj1d77hOFs/bTeGc6r68UjuESCjTHPkF5dr801FrwxV1iwNS+x4MRs7a+3iNP5j5Vmxv5sEN7+fJnuwDkGHFlrB95hwLEDNxiwciDGM+Zpgw9v6vrXBxg4fr+/Lr6F54cYrNz1OtlAQK/Hf0eAI78bzPVgdRu0l40avAgblhdRCEYddKIFySS0VoJkErpRgmTO6P5nETiOPa+disBzCq5U4HMKflWB9xR8oQLfUfBSBTILA3eYReAtBWcqkHrd5ws4rOAHBX7aMCe2Ww2KwHsK6i49eHOAty94g4VPAfhJSjGNngUj7ko+0e/OYXoPMwrB+WDwcIIs4r9XQcSMxdJy/4kTEb2AJ0B3p08iChecy+NnLslboiWxtxWxIm9KFu1em6IRBbcVwcDTiHz1gUEfHXo/3QNGTYoe6FwwavQDI6bB6OryG4AMJD2v1YFMmx8UMQkyU+WgiCmQjGAU8Tx14FMgu9nkRUz0ySTIBvQipvpkEkzshrmIhxFmIvJgIqCL2NMneTC5XXeItIxenwKTAQ8RvT5JIrJgz35iGwRkInJgT0BacUQOzNrwjCMyYFZAEpEBM3dk21NgZsC4CVEwe8u47QeZPpgVkYCCPe2mD8weQVuLHlC06d6kQcEIRhEjUPitQJsCP8s8P2IIMvetuREDUHSIo4gBqPhepeVARcAuogdW4hG01VDwi8ZzETtQF9CtwjtQGfAYsQPVX501ISi+SLpaB6ByBG21AYioNRps0aA90FiwQYOPEcFggwbrBRps0GBdwAIW8AmBW6w3la8z+Zrhn7e5woIt/pkl4d1JqlbqpWFYs40xf5GgfdZtvMV50zvVLRSt1/ul8QPqccF4X7tUqVKl/uf6BxTPzN+MDvNvAAAAAElFTkSuQmCC"}];
for(var l=0;l<w.length;l++)as.aR.push({_0:new hl(w[l],100+l),UI:6,ig:!0})}());as.prototype.aev=function(w){for(var l=0;
l<w.length;l++){var n=w[l],H=new hl(n,"plg_"+n.name);this.vv.push({_0:H,UI:6});this.att.push(H.R9)}this.k9()};
as.prototype.AB=function(w,n){this.Uz=w;var H=this.vv;for(var l=0;l<H.length;l++)H[l]._0.AB(w,n);if(n==h6.gb||n==h6.z8)this.k9()};
as.prototype.z6=function(w){var n=this.vv;for(var l=0;l<n.length;l++)n[l]._0.z6(w)};as.prototype.kc=function(w,n){this.pV=w;
this.WZ=n;this.k9();this.$S[0].kc(w,n);this.$S[1].kc(w,n)};as.prototype.k9=function(){var w=this.Uz,n=this.pV,H=this.WZ;
if(w==null||n==0)return;var y=w.p_.concat(this.att),c=n<500||n<700&&n<H,Q=JSON.stringify(y)+","+c;if(Q!=this.a0E){this.a0E=Q;
s.Of(this.n);var q=[];for(var l=0;l<this.$S.length;l++){var S=this.$S[l];q[l]=S.dX();while(S.a1s()!=0)S.a8B(0);
S.C_()}var A=[];for(var l=0;l<this.En.length;l++){var V=this.En[l];V.C_();while(V.a7e()!=0)V.xE(0);A.push(0)}for(var l=0;
l<y.length;l++){var e=this.a7y(y[l].toString());if(e==null)continue;this.En[e.UI].Im(e._0);this.En[e.UI].Yl(0);
A[e.UI]++}var d=[];for(var l=0;l<A.length;l++){if(A[l]==0)continue;var N=l<3||c?1:0,S=this.$S[N];S.parent=this;
S.awS(this.En[l]);d[N]=!0}for(var l=0;l<this.$S.length;l++)if(d[l])this.n.appendChild(this.$S[l].n);
this.$S[0].collapse();if(n<700||this.Uz.compact||!q[1]){this.$S[1].collapse()}var b=new aL(M.E.L,!0);
b.data={d:M.c.bc};this.S(b)}};as.prototype.a7y=function(w){for(var l=0;l<this.vv.length;l++)if(this.vv[l]._0.R9==w)return this.vv[l]};
as.prototype.a2T=function(w){var n=this.a7y(w);this.En[n.UI].Im(n._0)};as.prototype.nQ=function(w,n,H){var y=this.vv;
for(var l=0;l<y.length;l++)y[l]._0.nQ(w,n,H)};as.prototype.mO=function(w,n,H,y,c){var Q=this.vv;for(var l=0;
l<Q.length;l++)Q[l]._0.mO(w,n,H,y,c)};as.prototype.C9=function(w,n,H,y,c){var Q=this.vv;for(var l=0;
l<Q.length;l++)Q[l]._0.C9(w,n,H,y,c)};as.prototype.sh=function(w,n,H,y,c){var Q=this.vv;for(var l=0;
l<Q.length;l++)Q[l]._0.sh(w,n,H,y,c)};function aE(w,n){j$.call(this,"toolbar");this.n.removeChild(this.Bl);
this.b1=s.t("div","tools");this.n.appendChild(this.b1);this.dA=null;this.ZR=null;this.atg=n;this.Nh=null;
this.auA=-1;this.at3={};this.ajp=w;this.a=null;this.VP=null;this.tT=null;this.Y5=null;this.TG=new kg;
this.TG.n.style.marginTop="5px";this.TG.n.style.marginBottom="3px";this.TG.parent=this;this.LM=new eO(s.OE("lrs/mask"),!1,[6,6,1]);
this.LM.h("click",function(Q){var q=new aL(M.E.v,!0);q.G=P.pj;q.data={d:"qmask"};this.S(q)},this);var H=new iS(null,["Ctrl","Alt","Shift","No Touch"],!0,null,null,!0);
H.h(M.E.A,this.aim,this);var y=s.t("span","rangecontFloat form padded");y.appendChild(H.n);y.setAttribute("style","position:absolute; width:119px; z-index:2;  padding-right:0px; ");
var c=document.body;this.a6m=[!1,!1,!1,!1];this.Ox=new eO(s.OE("kb"),!1,"Virtual Keys");this.Ox.h("click",function(Q){var q=this.Ox.n.getBoundingClientRect();
y.style.top=q.top-40+"px";y.style.left=q.left+q.width+8+"px";if(s._Q(y)){s.ul({n:y},c)}else{c.appendChild(y);
s.tf({n:y})}},this)}aE.prototype=new j$;aE.prototype.aim=function(w){var n=w.target.o();this.Ox.$(n[0]||n[1]||n[2]||n[3]);
var H=new aL(M.E.L,!0);for(var l=0;l<4;l++){if(n[l]!=this.a6m[l]){H.data={d:M.c.a2e,iO:n[l],ab5:["ControlLeft","AltLeft","ShiftLeft","NoTouch"][l]};
this.S(H)}}this.a6m=n.slice(0)};aE.prototype.aqW=function(w,n){this.Nh=n;if(w==null||w.g.length==0||w.B[w.g[0]]==null)return;
var H=w.LM()!=null,y=w.u.vE,c=w.B[w.g[0]].Ks,Q=c==1||c==3||H||y[0]+y[1]+y[2]==1;this.TG.atE(Q);this.LM.$(H)};
aE.prototype.a9T=function(w,n){var H=w.length,y=[];for(var l=0;l<H;l++)y[l]=w[l].slice(0);w=y;var c=[1,2,4,5,7,8,7,9,11,12,14,15,14,16,10,11,1,3,17,18,7,6,13,14],Q=Math.min(c.length/2,H-n);
for(var l=0;l<Q;l++){var q=c[2*l],S=c[2*l+1];w[q]=w[q].concat(w[S]);w[S]=null}for(var l=0;l<w.length;
l++)if(w[l]==null){w.splice(l,1);l--}return w};aE.prototype.acl=function(w,n){for(var l=0;l<n.length;
l++)for(var H=0;H<n[l].length;H++)if(n[l][H].G.id==w)return l};aE.prototype.a93=function(w){var n=this.ajp;
this.VP=[];this.tT=[];this.Y5=[];this.a=[];var H=n.VA;if(w!=null&&this.atg)H=this.a9T(H,w);var y=this.dA;
if(y){var c=[];for(var l=0;l<H.length;l++){var Q=[];for(var q=0;q<H[l].length;q++){var S=H[l][q];if(y==null||y.indexOf(parseInt(S.G.id))!=-1)Q.push(S)}if(Q.length>0)c.push(Q)}H=c}for(var l=0;
l<H.length;l++){var A=[],V=this.VP.length,e=null,d=-1;for(var q=0;q<H[l].length;q++){var S=H[l][q].G,N=this.acl(S.id,n.VA),b=n.keys[N];
if(b==b8.mD&&q==1)b=b8.AG;this.a.push(S);var z=new cp(S.name,b,S.Ux,this.VP.length,l,H[l].length>1);
this.VP.push(z);var v=this.at3[S.id];if(v==null)v=0;if(v>d){d=v;e=z}z.h(M.E.A,this.cI,this);z.h("mover",this.X6,this);
A.push({name:S.name,mM:S.Ux,Jg:b?b.DF:""})}this.tT.push(e);this.Y5.push(A.length==1?null:[A,V])}};aE.prototype.kc=function(w,n){var H=this.WZ=n,y=32;
if(1<s.V()&&s.V()<1.5)y=18+14*(1/s.V());var c=39+23,Q=Math.floor((H-c)/y);if(Q!=this.auA){this.auA=Q;
this.a93(Q);this.xO()}var q=this.tT.length*y+c,S=Math.min(1,H/q);if(.75<=S){this.b1.setAttribute("style","width:34px; transform-origin: top left; transform: scale("+S+","+S+");");
this.n.setAttribute("style","height:"+(n-2)+"px; overflow:hidden;")}else{H-=4;this.b1.setAttribute("style","height: "+H+"px;  width:"+Math.ceil(q/H)*34+"px");
this.n.setAttribute("style","")}};aE.prototype.f=function(){if(this.a==null)return;for(var l=0;l<this.VP.length;
l++)this.VP[l].f()};aE.prototype.cI=function(w){var n=new aL(M.E.L,!0);n.data={d:M.c.DY,G:this.a[w.id].id};
this.S(n)};aE.prototype.amK=function(w){var n=w.target.azy+w.target.uf()[0];this.VP[n].Cw(null,!0)};
aE.prototype.X6=function(w){var n=this.Nh,H=new aL(M.E.L,!0);H.data={d:M.c.my};this.S(H);var y=w.target,c=this.Y5[y.Gv];
if(c==null)return;var Q=new az(c[0],null,!0);Q.azy=c[1];Q.Gv=y.Gv;Q.h("select",this.amK,this);Q.parent=this;
Q.f();var q=y.n.getBoundingClientRect(),H=new aL(M.E.L,!0);H.data={d:M.c.hf,_0:Q,x:q.left+q.width+8,y:q.top};
if(n==null||!(n.l(b8.QQ)||n.l(b8.NX)))this.S(H)};aE.prototype.xO=function(w){if(w==null)w=this.ZR;this.ZR=w;
if(this.a==null)return;this.at3[w]=Date.now();var n=-1;for(var l=0;l<this.a.length;l++)if(this.a[l].id==w)n=l;
for(var l=0;l<this.VP.length;l++){var H=this.VP[l];H.a4E(n==l)}if(n==-1)return;this.tT[this.VP[n].Gv]=this.VP[n];
s.Of(this.b1);var y=this.tT;for(var l=0;l<y.length;l++){this.b1.appendChild(y[l].n)}if(!this.atg)return;
this.b1.appendChild(this.TG.n);if(this.WZ>640)this.b1.appendChild(this.LM.n);this.b1.appendChild(this.Ox.n)};
aE.prototype.AB=function(w,n){if(n==h6.z8&&w.dA){this.dA=w.dA;this.a93();this.xO()}this.TG.aiS(w.Ni,w.uu)};
function cp(w,n,H,y,c,Q){bU.call(this);this.Jz=0;this.iy=this.ak3.bind(this);this.Gv=c;this.lE=y;this.Ty=w;
this.X2=n;this.aaP=Q;this.Ux=H;this.n=s.t("button","");this.n.innerHTML=s.OE(this.Ux);if(this.aaP){var q=s.t("img","gsicon");
q.setAttribute("src",PIMG["tools/corner"]);q.setAttribute("style","position:absolute; right:0;  bottom:0; width:100%; height:100%;");
this.n.appendChild(q)}this.n.addEventListener("touchstart",s.BA,!1);this.f();s.am(this.n,this.A9.bind(this));
s.vM(this.n,this.Cw.bind(this));this.n.addEventListener("contextmenu",this.iy,!1);this.n.addEventListener("contextmenu",cp.yZ,!1)}cp.prototype=new bU;
cp.yZ=function(w){w.stopPropagation();w.preventDefault();return!1};cp.prototype.f=function(){var w=this.X2?" ("+this.X2.DF+")":"";
this.n.setAttribute("title",hV.get(this.Ty)+w)};cp.prototype.A9=function(w){cp.Yn=this.lE;this.Jz=setTimeout(this.iy,160)};
cp.prototype.Cw=function(w,n){if(n==null&&cp.Yn!=this.lE)return;clearTimeout(this.Jz);var H=new aL(M.E.A,!1);
H.target=this;H.id=this.lE;this.S(H)};cp.prototype.ak3=function(w){var n=new aL("mover",!1);n.target=this;
n.id=this.lE;this.S(n)};cp.prototype.a4E=function(w){this.n.className=w?"toolbtn active":"toolbtn"};
function iv(){bU.call(this);this.n=s.t("div","topbar");this.hE=s.t("span","");this.afn=0;this.n.appendChild(this.hE);
this.hv=null;this.HX=null;this.gd=[];this.p_=[];var w=this.A9.bind(this);for(var l=0;l<iv.data.length;
l++){var n=s.t("button");this.gd.push(n);this.hE.appendChild(n);n.addEventListener("mouseover",w,!1);
s.am(n,w)}this.FI=new eO([0,13,0],!1,null,!0);this.FI.h("click",this.b5,this);this.n.appendChild(this.FI.n);
this.oS=new eO(s.OE("tools/zoom",null,"autoscale"),!1,[12,86]);this.oS.h("click",this.b5,this);this.n.appendChild(this.oS.n);
this.B2=new eO("<svg class=\"gsicon\" version=\"1.1\"  width=\"20\" height=\"20\" viewBox=\"8 8 20 20\"><path d=\"m 10,16 2,0 0,-4 4,0 0,-2 L 10,10 l 0,6 0,0 z\"></path><path d=\"m 20,10 0,2 4,0 0,4 2,0 L 26,10 l -6,0 0,0 z\"></path><path d=\"m 24,24 -4,0 0,2 L 26,26 l 0,-6 -2,0 0,4 0,0 z\"></path><path d=\"M 12,20 10,20 10,26 l 6,0 0,-2 -4,0 0,-4 0,0 z\"></path></svg>",!1,"Fullscreen");
this.B2.h("click",this.b5,this);this.n.appendChild(this.B2.n)}iv.prototype=new bU;iv.prototype.a9t=function(){if(this.p_.length!=0)return;
for(var l=0;l<iv.data.length;l++){var w=iv.data[l],n=new az(w.items,w.Lx);n.parent=this;this.p_.push(n)}this.f()};
iv.prototype.f=function(){this.FI.f();this.oS.f();this.B2.f();for(var l=0;l<this.gd.length;l++)this.gd[l].textContent=hV.get(iv.data[l].name);
this.ao4();for(var l=0;l<this.p_.length;l++)this.p_[l].f()};iv.prototype.b5=function(w){var n=new aL(M.E.L,!0);
if(w.target==this.FI)n.data={d:M.c.rL,Ln:"account"};else if(w.target==this.oS)n.data={d:M.c.i9};else n.data={d:M.c.GK,Lq:!0};
this.S(n)};iv.prototype.akp=function(w,n){this.hv=w;this.HX=n};iv.prototype.AB=function(w,n){this.HX=w;
if(n==h6.z8){var H=w.alQ;s.Of(this.hE);for(var l=0;l<this.gd.length;l++){if(H==null||H[l]==1||H[l]instanceof Array)this.hE.appendChild(this.gd[l]);
if(H!=null&&H[l]instanceof Array){this.a9t();this.p_[l].awm(H[l])}}this.n.removeChild(this.FI.n);this.n.removeChild(this.oS.n);
this.n.removeChild(this.B2.n);if(w.C0)this.n.appendChild(this.FI.n);this.n.appendChild(this.oS.n);this.n.appendChild(this.B2.n)}this.ao4()};
iv.prototype.ao4=function(w,n){var H=this.FI,y=12255232;if(g6.gA())y=g6.qx()?43520:16755200;H.n.setAttribute("style","color:#ffffff; background-color:#"+O.w9(y))};
iv.prototype.A9=function(w){this.a9t();var l=this.gd.indexOf(w.currentTarget),n=this.p_[l];if(w.type=="mouseover"&&!s._Q(this.p_[this.afn].n))return;
if(s._Q(n.n))return;w.agd=!0;this.afn=l;for(var l=0;l<iv.data.length;l++)this.p_[l].update(this.hv,this.HX);
var H=w.target.getBoundingClientRect(),y=new aL(M.E.L,!0);y.data={d:M.c.hf,_0:n,x:H.left,y:H.top+H.height+2,a43:!0};
this.S(y)};iv.azE=function(w){var n=b8,H=n.NX,y=n.fx,c=n.FO,Q=function(V){return{C:V!=null}},q=function(V){return{C:V!=null&&V.P!=null}},S={name:[0,5],items:[{name:[7,0],C:Q,Jg:[H,n.c]},{name:[7,1],Jg:[H,n.JK],C:q},{name:[7,2],Jg:[y,H,n.Vp],C:q,Pp:!0},{name:[7,8],C:Q,JY:!0},{name:[7,13],JY:!0,C:function(V){return{C:V!=null&&V.g.length!=0&&!V.B[V.g[0]].rect._G()}},Pp:!0},{name:[7,11],JY:!0,C:function(V){return{C:V!=null&&V.g.length!=0&&!V.B[V.g[0]].rect._G()}}},{name:[7,3],C:Q,Pp:!0,sub:[{name:[7,9],JY:!0,C:q},{name:[19,3,0],JY:!0,C:q},{name:[7,4],JY:!0,C:q},{name:[7,5],JY:!0,C:q},{name:[7,6],JY:!0,C:q,Jg:"Shift+F6"}]},{name:"Grow",C:q},{name:"Similar",C:q,Pp:!0},{name:[7,10],C:q,Pp:!0},{name:[6,6,1],C:function(V){return{C:V!=null,NW:V!=null&&V.LM()!=null}},Jg:[n.zg],Pp:!0},{name:["VAR0 VAR1",[1,2],[17,2]],C:q}],Lx:[{Y:M.E.dp,W:P.Me.pd(!0)},{Y:M.E.dp,W:P.Me.pd()},{Y:M.E.dp,W:{fd:"inverse"}},{Y:M.E.L,W:{d:M.c.rL,Ln:"crange"}},{Y:M.E.L,W:{d:M.c.rL,Ln:"magiccut"}},{Y:M.E.L,W:{d:M.c.rL,Ln:"redge"}},{sub:[{Y:M.E.L,W:{d:M.c.rL,Ln:"sel_border"}},{Y:M.E.L,W:{d:M.c.rL,Ln:"sel_smoothness"}},{Y:M.E.L,W:{d:M.c.rL,Ln:"sel_expand"}},{Y:M.E.L,W:{d:M.c.rL,Ln:"sel_contract"}},{Y:M.E.L,W:{d:M.c.rL,Ln:"sel_feather"}}]},{Y:M.E.dp,W:{fd:"grow",ei:{classID:"null",null:{t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]}}}},{Y:M.E.dp,W:{fd:"similar",ei:{classID:"null",null:{t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]}}}},{Y:M.E.L,W:{d:M.c.DY,G:P._c}},{Y:M.E.v,G:P.pj,W:{d:"qmask"}},{Y:M.E.dp,W:{fd:"duplicate",ei:{classID:"null",null:{t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]}}}}]};
if(w){var A=S.items.length-1;S.items.splice(A-2,0,{name:[6,49],Jg:[H,n.fs],Pp:!0});S.Lx.splice(A-2,0,{Y:M.E.dp,W:{fd:"copyToLayer"}});
S.items.splice(A-1,0,{name:[10,16],Jg:[c,H,n.Sh]});S.Lx.splice(A-1,0,{Y:M.E.L,W:{d:M.c.DY,G:P.xM}})}return S};
iv.Lw=function(w,n){if(w==null||w.g.length==0)return!1;var H=w.B[w.g[0]];return H.add.TySh!=null&&n.ZR==P.nr};
iv.acW=function(){var w=b8,n=w.NX,H=w.fx,y=w.FO,c=function(Q){return{C:Q!=null}};return[[{name:[5,0],Jg:[n,w.K_],C:function(Q,q){return{C:Q!=null&&(Q._w()||iv.Lw(Q,q))}}},{name:[5,1],Jg:[n,w.sO],C:c},{name:[5,2],Jg:[n,w.wQ],C:function(Q,q){return{C:iv.Lw()||s.tr()||q.jR!=null||q.R2!=null||q.aeM!=null}}},{name:[2,2],C:function(Q,q){return{C:Q!=null&&(Q.P!=null||iv.Lw(Q,q))}},Jg:"Delete",Pp:!0}],[{Y:M.E.L,W:{d:M.c.VN}},{Y:M.E.L,W:{d:M.c.sX}},{Y:M.E.L,W:{d:M.c.Yu}},{Y:M.E.dp,W:{fd:"delete"}}]]};
iv.data=function(){var w=b8,n=w.NX,H=w.fx,y=w.FO,c=function(b){return{C:b!=null&&b.g.length!=0}},Q=function(b){return{C:b!=null&&b.g.length!=0&&b.B[b.g[0]].add.SoLd!=null}},q=function(b){return{C:b!=null}},S=function(b){return{C:b!=null&&b.BG(!1)}},A=[],V=[],e="none maxx avrg medn minn rang stdv summ vari".split(" "),d=[[22,5,0],[24,17,2],[24,3,0],[24,7,3],[24,17,3],[12,12],"Standard Deviation","Summation","Variance"];
for(var l=0;l<e.length;l++){A.push({name:d[l],C:function(b,z){if(b==null||b.g.length!=1)return{C:!1};
var v=b.B[b.g[0]].add.SoLd;if(v==null)return{C:!1};return{C:!0,NW:v.Impr.v.classID==this.awl}}.bind({awl:e[l]})});
V.push({Y:M.E.v,G:P.YV,W:{d:a.pn,z2:e[l]}})}var N=iv.acW(!0);return[{name:[0,0],items:[{name:[5,3],Jg:[y,n,w.Sp],title:[11,7],JY:!0},{name:[1,0],Jg:[n,w.R3],JY:!0},{name:[1,11],JY:!0,C:q},{name:["VAR0 VAR1",[1,0],[0,14]],Pp:!0,sub:[{name:"Storage",JY:!0,Jg:[y,n,w.R3]},{name:[1,5],JY:!0},{name:[11,0],JY:!0},{name:["PSD VAR0",[25,0]],JY:!0}]},{name:[1,1],Pp:!0,C:q,sub:[{name:"PNG",Jg:"Imgur.com",C:function(b,z){return{C:b!=null&&z.BV}}},{name:"JPG",Jg:"Imgur.com",C:function(b,z){return{C:b!=null&&z.BV}}},{name:"PSD",Jg:"Photopea.com",C:function(b,z){return{C:b!=null&&z.BV&&!b.XV}}}]},{name:"Save ...",Jg:[n,w.M9],C:function(b,z){var v=hV.get([1,2]),T=!0;
if(b){if(b.Is)v+=" ("+hV.get([6,7,1])+")";if(b.bD)v+=" (Google Drive)";if(b.SI)v+=" ("+Storage.list[b.SI[0]][0]+")";
T="psd jpg png gif webp svg bmp".split(" ").indexOf(b.VV)!=-1}return{C:b!=null&&(b.SI!=null||b.Nm!=null&&T||b.Is!=null||b.fB!=null&&b.fB.bF!=null||b.bD!=null||z.T0.save!=null),dc:v}}},{name:[1,3],C:function(b,z){return{C:b!=null&&z.BV}}},{name:["VAR0 VAR1",[1,2],[0,14]],C:q,sub:[{name:"PSD to Storage",C:function(b,z){return{C:b!=null&&z.BV}}},{name:["VAR0 PSD/PSB",[1,2]],JY:!0,C:function(b,z){return{C:b!=null&&z.BV}}}]},{name:[1,8],C:q,sub:function(){var b=cb.Y8(0),z=[];
for(var l=0;l<b.length;l++)z.push({name:b[l],Jg:"."+b[l].toLowerCase()});z.push({name:[0,14],sub:function(){var b=cb.Y8(1),z=[];
for(var l=0;l<b.length;l++)z.push({name:b[l],Jg:"."+b[l].toLowerCase()});return z}()});return z}()},{name:[1,4],JY:!0,C:q,Pp:!0},{name:[1,9],JY:!0,C:q},{name:"Export Color Lookup",JY:!0,C:q,Pp:!0},{name:[1,14],JY:!0,C:q,Pp:!0},{name:[1,17],sub:[{name:"PDF Presentation",JY:!0},{name:"Convert Formats",JY:!0}]},{name:[1,10]}],Lx:[{Y:M.E.L,W:{d:M.c.rL,Ln:"newproject"}},{Y:M.E.L,W:{d:M.c.hN}},{Y:M.E.L,W:{d:M.c.hN,aiq:!0}},{sub:[{Y:M.E.L,W:{d:M.c.rL,Ln:"storwindow",Ny:0}},{Y:M.E.L,W:{d:M.c.rL,Ln:"open_from_url"}},{Y:M.E.L,W:{d:M.c.rL,Ln:"camera"}},{Y:M.E.L,W:{d:M.c.rL,Ln:"res0"}}]},{sub:[{Y:M.E.L,W:{d:M.c.QO,xU:"png"}},{Y:M.E.L,W:{d:M.c.QO,xU:"jpg"}},{Y:M.E.L,W:{d:M.c.QO,xU:"psd"}}]},{Y:M.E.L,W:{d:M.c.Da}},{Y:M.E.L,W:{d:M.c.Ul}},{sub:[{Y:M.E.L,W:{d:M.c.rL,Ln:"storwindow",Ny:1}},{Y:M.E.L,W:{d:M.c.rL,Ln:"savepsb"}}]},{sub:function(){var b=cb.Y8(0),z=[];
for(var l=0;l<b.length;l++)z.push({Y:M.E.L,W:{d:M.c.rL,Ln:"saveforweb",xU:l}});z.push({sub:function(){var v=cb.Y8(0).length,b=cb.Y8(1),z=[];
for(var l=0;l<b.length;l++)z.push({Y:M.E.L,W:{d:M.c.rL,Ln:"saveforweb",xU:v+l}});return z}()});return z}()},{Y:M.E.L,W:{d:M.c.rL,Ln:"saveforweb",xU:4,aou:!0}},{Y:M.E.L,W:{d:M.c.rL,Ln:"eassets"}},{Y:M.E.L,W:{d:M.c.rL,Ln:"exlut"}},{Y:M.E.L,W:{d:M.c.rL,Ln:"finfo"}},{sub:[{Y:M.E.L,W:{d:M.c.rL,Ln:"pdfpres"}},{Y:M.E.L,W:{d:M.c.rL,Ln:"cformat"}}]},{Y:M.E.L,W:{d:M.c.rL,Ln:"script"}}]},{name:[0,1],items:[{name:[2,8],C:q},{name:[2,0],C:q,Jg:[H,n,w.gH]},{name:[2,1],C:q,Jg:[n,w.gH],Pp:!0},{name:[2,11],Jg:[H,n,w.kN],Pp:!0,JY:!0,C:function(b,z){return{C:ex.axJ(b)&&z.ZR!=P.xM}}},N[0][0],N[0][1],{name:[5,7],Jg:[H,n,w.sO],C:function(b){return{C:b!=null&&b._w()}}},N[0][2],N[0][3],{name:[2,3],C:q,JY:!0,Jg:[H,w.Vh]},{name:[14,9],C:q,JY:!0,Pp:!0},{name:[10,48],C:S},{name:[10,46],C:function(b){return{C:P.zO.amE(b)}}},{name:[10,16],C:q,Jg:[y,n,w.Sh]},{name:[2,4],C:q,sub:av.al_()},{name:[2,10,1],C:q},{name:[2,10,0],C:q,Pp:!0},{name:[12,87],C:q,sub:[{name:[12,62],C:q},{name:[9,3],C:q},{name:[10,31],C:function(b){return{C:b!=null&&b._e()[1].length!=0}}}]},{name:[1,15],JY:!0},{name:[12,79],JY:!0,Jg:[n,w.Ek]},{name:[1,13],JY:!0}],Lx:[{Y:M.E.v,G:P.O$,W:{d:"h_undoredo"}},{Y:M.E.v,G:P.O$,W:{d:"h_stepfwd"}},{Y:M.E.v,G:P.O$,W:{d:"h_stepbck"}},{Y:M.E.L,W:{d:M.c.rL,Ln:"afw_fade"}},N[1][0],N[1][1],{Y:M.E.L,W:{d:M.c.sX,Wi:!0}},N[1][2],N[1][3],{Y:M.E.L,W:{d:M.c.rL,Ln:"fill"}},{Y:M.E.L,W:{d:M.c.rL,Ln:"stroke"}},{Y:M.E.L,W:{d:M.c.DY,G:P.i1}},{Y:M.E.v,G:P.NJ,W:{d:"start",e8:"rigidTransform"}},{Y:M.E.L,W:{d:M.c.DY,G:P.xM}},{sub:av.a2J()},{Y:M.E.dp,W:{fd:"align",ei:{classID:"null",null:{t:"obj ",v:[{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Trgt"}}]},Usng:{t:"enum",v:{ADSt:"ADSContent"}},alignToCanvas:{t:"bool",v:!1},Aply:{t:"enum",v:{projection:"Auto"}},vignette:{t:"bool",v:!1},radialDistort:{t:"bool",v:!1}}}},{Y:M.E.v,G:P.YV,W:{d:a.Rf}},{sub:[{Y:M.E.L,W:{d:M.c.iI,PY:0}},{Y:M.E.L,W:{d:M.c.iI,PY:1}},{Y:M.E.L,W:{d:M.c.iI,PY:2}}]},{Y:M.E.L,W:{d:M.c.rL,Ln:"pmanager"}},{Y:M.E.L,W:{d:M.c.rL,Ln:"preferences"}},{Y:M.E.L,W:{d:M.c.rL,Ln:"locstor"}}]},{name:[0,2],items:[{name:[12,36],C:q,Pp:!0,sub:[{name:"RGB",C:function(b){if(b==null)return{C:!1};
return{NW:b.add.fcmy==null,C:!0}}},{name:"CMYK",C:function(b){if(b==null)return{C:!1};return{NW:b.add.fcmy!=null,C:!0}},Pp:!0},{name:"Raster",C:function(b){if(b==null)return{C:!1};
return{NW:b.add.fvec==null,C:!0}}},{name:"Vector (Beta)",C:function(b){if(b==null)return{C:!1};return{NW:b.add.fvec!=null,C:!0}}}]},{name:[3],C:q,Pp:!0,sub:function(){var b=[];
for(var z in fb.names){b.push({name:fb.names[z],JY:kj[z]!=null,Jg:fb.keys[z],Pp:fb.ap_.indexOf(z)!=-1});
if(z=="selc"){b.push({name:["VAR0/VAR1",[19,6,0],[19,6,2]],JY:!0,Pp:!0});b.push({name:[19,7,0],Jg:[n,H,w.LF],C:S});
b.push({name:[4,18],JY:!0,C:S})}}return b}()},{name:[4,16,0],C:S},{name:[4,16,1],C:S},{name:[4,16,2],C:S,Pp:!0},{name:[11,11,1],C:S},{name:[11,11,0],C:S,Pp:!0},{name:[11,3],C:q,JY:!0,Jg:[y,n,w.sO]},{name:[11,10],C:q,JY:!0,Jg:[y,n,w.Vp]},{name:[2,4],C:q,sub:[{name:["VAR0 90\xB0 \u21BB",[2,5]]},{name:["VAR0 90\xB0 \u21BA",[2,5]]},{name:["VAR0 180\xB0",[2,5]]},{name:[[2,6],[22,4,2]]},{name:[[2,6],[22,4,3]]}]},{name:[11,12,1],C:function(b){return{C:b!=null&&b.P!=null}}},{name:[11,12,0],C:q,Jg:[n,w.Cd],JY:!0},{name:[11,12,2],C:q,Pp:!0},{name:[2,12],C:S,JY:!0,Pp:!0},{name:[2,14],C:q,JY:!0}],Lx:[{sub:[{Y:M.E.v,G:P.DX,W:{d:"fcmy",Z:0}},{Y:M.E.v,G:P.DX,W:{d:"fcmy",Z:1}},{Y:M.E.v,G:P.DX,W:{d:"fvec",Z:0}},{Y:M.E.v,G:P.DX,W:{d:"fvec",Z:1}}]},{sub:function(){var b=[];
for(var z in fb.names){b.push({Y:M.E.v,G:P.bf,W:{d:"start",k0:z}});if(z=="selc"){b.push({Y:M.E.v,G:P.NJ,W:{d:"start",e8:"adaptCorrect"}});
b.push({Y:M.E.dp,W:{fd:"desaturate"}});b.push({Y:M.E.v,G:P.bf,W:{d:"start",k0:"matc"}})}}return b}()},{Y:M.E.dp,W:{fd:"levels",ei:{classID:"Lvls",Auto:{t:"bool",v:!0}}}},{Y:M.E.dp,W:{fd:"levels",ei:{classID:"Lvls",AuCo:{t:"bool",v:!0}}}},{Y:M.E.dp,W:{fd:"levels",ei:{classID:"Lvls",autoBlackWhite:{t:"bool",v:!0},autoNeutrals:{t:"bool",v:!0}}}},{Y:M.E.L,W:{d:M.c.rL,Ln:"rcolors"}},{Y:M.E.L,W:{d:M.c.rL,Ln:"vbitmap"}},{Y:M.E.L,W:{d:M.c.rL,Ln:"csize"}},{Y:M.E.L,W:{d:M.c.rL,Ln:"isize"}},{sub:[{Y:M.E.dp,W:P.WJ.kU(!0,90)},{Y:M.E.dp,W:P.WJ.kU(!0,-90)},{Y:M.E.dp,W:P.WJ.kU(!0,-180)},{Y:M.E.dp,W:P.WJ.kU(!1,"Hrzn")},{Y:M.E.dp,W:P.WJ.kU(!1,"Vrtc")}]},{Y:M.E.dp,W:{fd:"crop",ei:{__name:"Crop",classID:"Crop"}}},{Y:M.E.L,W:{d:M.c.rL,Ln:"trim"}},{Y:M.E.dp,W:{fd:"revealAll",ei:{classID:"RvlA"}}},{Y:M.E.v,G:P.bf,W:{d:"start",k0:"aply"}},{Y:M.E.L,W:{d:M.c.rL,Ln:"varsdats"}}]},{name:[0,3],items:[{name:[5,3],C:q,sub:[{name:[0,3],Jg:[H,n,w.Sp]},{name:[0,4]},{name:[1,16,0],JY:!0},{name:[1,16,3],JY:!0,Pp:!0},{name:[6,49,0],Jg:[n,w.fs]},{name:[6,49,1],Jg:[H,n,w.fs],C:function(b){return{C:b!=null&&b.P!=null&&b.BG(!1)}}}]},{name:[6,0],C:c,Jg:[n,w.fs]},{name:[11,4],C:c},{name:[5,4],C:c,Pp:!0},{name:[11,6],C:c,Pp:!0,sub:dJ.SF(!0)},{name:[6,48,1],C:q,sub:[{name:[6,48,0,0]},{name:[6,48,0,1]},{name:[6,48,0,2]}]},{name:[6,1],C:q,Pp:!0,sub:dJ.asM()},{name:[6,2],C:q,sub:[{name:[6,4],C:function(b){return{C:b!=null&&b.g.length!=0&&b.B[b.g[0]].LZ()==null}}},{name:[6,5,0],C:function(b){return{C:b!=null&&b.g.length!=0&&b.B[b.g[0]].LZ()==null}}},{name:[6,5,1],C:function(b){return{C:b!=null&&b.g.length!=0&&b.B[b.g[0]].LZ()==null&&b.P!=null}}},{name:[6,5,2],C:function(b){return{C:b!=null&&b.g.length!=0&&b.B[b.g[0]].LZ()==null&&b.P!=null}}},{name:[6,5,3],C:function(b){return{C:b!=null&&b.g.length!=0&&b.B[b.g[0]].LZ()==null}},Pp:!0},{name:[5,4],C:function(b){return{C:b!=null&&b.g.length!=0&&b.B[b.g[0]].LZ()!=null}}},{name:[5,8],C:function(b){return{C:b!=null&&b.g.length!=0&&b.B[b.g[0]].LZ()!=null&&b.BG(!1,!0)}}},{name:["VAR0/VAR1",[5,5],[5,6]],C:function(b){return{C:b!=null&&b.g.length!=0&&b.B[b.g[0]].LZ()!=null}}}]},{name:[6,3],C:q,sub:[{name:[6,4],C:function(b){return{C:b!=null&&b.g.length!=0&&b.B[b.g[0]].add.vmsk==null}}},{name:[6,5,0],C:function(b){return{C:b!=null&&b.g.length!=0&&b.B[b.g[0]].add.vmsk==null}}},{name:[12,76,7],C:function(b){return{C:b!=null&&b.g.length!=0&&b.B[b.g[0]].add.vmsk==null}},Pp:!0},{name:[5,4],C:function(b){return{C:b!=null&&b.g.length!=0&&b.B[b.g[0]].add.vmsk!=null}}},{name:["VAR0/VAR1",[5,5],[5,6]],C:function(b){return{C:b!=null&&b.g.length!=0&&b.B[b.g[0]].add.vmsk!=null}}}]},fW.a5o(!0),{name:[6,7,1],C:q,Pp:!0,sub:[{name:[6,7,0],Pp:!0},{name:"Open (Edit Contents)",C:Q,JY:!0},{name:"Replace Contents",C:Q,JY:!0},{name:"Export Contents",C:Q,JY:!0,Pp:!0},{name:[6,36,4],C:Q,sub:A},{name:"Turn into JPG",C:Q}]},{name:[6,8],C:fW.ad_},{name:[6,34],Pp:!0,C:function(b){if(b==null||b.g.length==0)return{C:!1};
var z=b.B[b.g[0]];return{C:z.add.lmfx!=null&&!z.Ok()}}},{name:[6,9],C:q,Pp:!0,Jg:[n,w.aj]},{name:[6,55],C:q,Pp:!0,sub:[{name:[6,56,0],Jg:[H,n,w.vn]},{name:[6,56,1],Jg:[n,w.vn]},{name:[6,56,2],Jg:[n,w.gT]},{name:[6,56,3],Jg:[H,n,w.gT]}]},{name:[6,58],C:q,Pp:!0,sub:[{name:["Make Frames"]},{name:["Unmake Frames"]},{name:[18,5]}]},{name:[6,12,0],Jg:[n,w.E],C:function(b){var z=b==null?0:b.g.length;
return{C:z!=0&&(z!=1||b.g[0]!=0),dc:hV.get(z>1||z==1&&b.B[b.g[0]].Ok()?[6,12,0]:[6,10])}}},{name:[6,12,1],C:q},{name:[2,13],C:q}],Lx:[{sub:[{Y:M.E.v,G:P.YV,W:{d:a.So}},{Y:M.E.v,G:P.YV,W:{d:a.vB}},{Y:M.E.L,W:{d:M.c.rL,Ln:"newartb",Ny:0}},{Y:M.E.L,W:{d:M.c.rL,Ln:"newartb",Ny:1}},{Y:M.E.dp,W:{fd:"copyToLayer"}},{Y:M.E.dp,W:{fd:"cutToLayer"}}]},{Y:M.E.v,G:P.YV,W:{d:a.Bc}},{Y:M.E.L,W:{d:M.c.rL,Ln:"duplinto"}},{Y:M.E.v,G:P.YV,W:{d:a.oM}},{sub:dJ.$c(!0)},{sub:[{Y:M.E.v,G:P.S0,W:{d:"newfill",Ph:0}},{Y:M.E.dp,W:P.FQ.ba(1)},{Y:M.E.dp,W:P.FQ.ba(2)}]},{sub:dJ.Ag()},{sub:[{Y:M.E.v,G:P.YV,W:{d:a.aU,Ny:"RvlA"}},{Y:M.E.v,G:P.YV,W:{d:a.aU,Ny:"HdAl"}},{Y:M.E.v,G:P.YV,W:{d:a.aU,Ny:"RvlS"}},{Y:M.E.v,G:P.YV,W:{d:a.aU,Ny:"HdSl"}},{Y:M.E.v,G:P.YV,W:{d:a.aU,Ny:"Trns"}},{Y:M.E.v,G:P.YV,W:{d:a.Xg}},{Y:M.E.v,G:P.YV,W:{d:a.tA}},{Y:M.E.v,G:P.YV,W:{d:a.gy}}]},{sub:[{Y:M.E.v,G:P.YV,W:{d:a.s4,a37:!1}},{Y:M.E.v,G:P.YV,W:{d:a.s4,a37:!0}},{Y:M.E.v,G:P.YV,W:{d:a.s4,a9P:!0}},{Y:M.E.v,G:P.YV,W:{d:a.gc}},{Y:M.E.v,G:P.YV,W:{d:a.qz}}]},{Y:M.E.v,G:P.YV,W:{d:a.vg}},{sub:[{Y:M.E.dp,W:{fd:"newPlacedLayer"}},{Y:M.E.dp,W:{fd:"placedLayerEditContents",ei:{classID:"placedLayerEditContents"}}},{Y:M.E.dp,W:{fd:"placedLayerReplaceContents",ei:{classID:"placedLayerReplaceContents"}}},{Y:M.E.dp,W:{fd:"placedLayerExportContents",ei:{classID:"placedLayerExportContents"}}},{sub:V},{Y:M.E.v,G:P.YV,W:{d:a.aba}}]},{Y:M.E.dp,W:{fd:"rasterizeLayer",ei:{classID:"rasterizeLayer",null:ih._K("Lyr",!0)}}},{Y:M.E.v,G:P.YV,W:{d:a.YB}},{Y:M.E.v,G:P.YV,W:{d:a.Tl}},{sub:[{Y:M.E.v,G:P.YV,W:{d:a.JP,cl:0}},{Y:M.E.v,G:P.YV,W:{d:a.JP,cl:1}},{Y:M.E.v,G:P.YV,W:{d:a.JP,cl:2}},{Y:M.E.v,G:P.YV,W:{d:a.JP,cl:3}}]},{sub:[{Y:M.E.v,G:P.YV,W:{d:a.N6,cl:"makeframes"}},{Y:M.E.v,G:P.YV,W:{d:a.N6,cl:"unmakeframes"}},{Y:M.E.v,G:P.YV,W:{d:a.N6,cl:"merge"}}]},{Y:M.E.dp,W:{fd:"mergeLayersNew",ei:{__name:"Merge Layers",classID:"Mrg2"}}},{Y:M.E.dp,W:{fd:"flattenImage"}},{Y:M.E.v,G:P.NJ,W:{d:"start",e8:"defr"}}]},iv.azE(!1),function(){var b={name:[0,6],items:[{name:[24,18,4],Jg:[y,n,w.kN],C:q,Pp:!0}],Lx:[{Y:M.E.v,G:P.NJ,W:{d:"applylast"}}]};
for(var l=0;l<gT.T1.length;l++){var z=gT.T1[l];if(z.WL!=null){b.items.push({name:gT.names[z.WL],JY:!0,Pp:z.Pp,C:q});
b.Lx.push({Y:M.E.v,G:P.NJ,W:{d:"start",e8:z.WL}});continue}var v={name:z.Hq,sub:[],C:q};b.items.push(v);
var T={sub:[]};b.Lx.push(T);for(var Y=0;Y<z.ac.length;Y++){var g={name:gT.names[z.ac[Y]],JY:gT.B1(z.ac[Y])!=null};
v.sub.push(g);var R={Y:M.E.v,G:P.NJ,W:{d:"start",e8:z.ac[Y]}};T.sub.push(R)}}return b}(),{name:[0,7],items:[{name:[8,0],C:q,Jg:[n,w.iA]},{name:[8,1],C:q,Jg:[n,w.u_]},{name:[20,3],C:q,Jg:[n,w.W$]},{name:[20,2],C:q,Jg:[n,w.gP]},{name:[8,14],C:function(b,z){return{C:b!=null,NW:b!=null&&b.VQ}},Pp:!0},{name:[12,36],Pp:!0,sub:[{name:"Fullscreen",C:function(b,z){return{NW:document.fullscreenElement!=null}},Pp:!0},{name:"Standard",C:function(b,z){return{NW:z.PO==0}}},{name:"Menu Bar and Canvas",C:function(b,z){return{NW:z.PO==1}}}]},{name:[8,13],Jg:[n,w.mD],C:function(b,z){return{NW:z.OH}}},{name:[8,12],Pp:!0,sub:[{name:[17,2],C:function(b,z){return{C:z.OH,NW:z.al.wH}}},{name:[8,9],C:function(b,z){return{C:z.OH,NW:z.al.Wh}}},{name:[8,2],C:function(b,z){return{C:z.OH,NW:z.al.V_}},Jg:[n,w.Ch]},{name:[8,4],C:function(b,z){return{C:z.OH,NW:z.al.LR}},Jg:[n,w.lr]},{name:[8,8],C:function(b,z){return{C:z.OH,NW:z.al.jj}}},{name:[8,11,0],C:function(b,z){return{C:z.OH,NW:z.al.B0}}}]},{name:[8,3],C:function(b,z){return{NW:z.Mr}},Jg:[n,w.AG],Pp:!0},{name:[8,5],C:function(b,z){return{NW:z.yd}}},{name:[8,6],Pp:!0,sub:[{name:[8,2],C:function(b,z){return{NW:z.Wg[0]}}},{name:[8,4],C:function(b,z){return{NW:z.Wg[1]}}},{name:[9,1],C:function(b,z){return{NW:z.Wg[2]}}},{name:[8,11,0],C:function(b,z){return{NW:z.Wg[3]}}},{name:[8,7,0],C:function(b,z){return{NW:z.Wg[4]}}}]},{name:[11,15,2],C:function(b,z){return{C:b!=null,NW:b!=null&&b.cU}}},{name:[11,15,0],C:q},{name:[11,14],C:q,JY:!0},{name:[11,15,1],C:function(b,z){return{C:b!=null&&b.g.length!=0}},Pp:!0},{name:[8,11,2],C:function(b,z){return{C:b!=null&&b.B0.length!=0}}}],Lx:[{Y:M.E.v,G:P.uD,W:{d:"zoom",wy:!0}},{Y:M.E.v,G:P.uD,W:{d:"zoom",wy:!1}},{Y:M.E.v,G:P.uD,W:{d:"adapt",Z:"fitscr"}},{Y:M.E.v,G:P.uD,W:{d:"adapt",Z:"pixel"}},{Y:M.E.v,G:P.DX,W:{d:"pview"}},{sub:[{Y:M.E.L,W:{d:M.c.GK,Lq:!0}},{Y:M.E.L,W:{d:M.c.GK,Z:0}},{Y:M.E.L,W:{d:M.c.GK,Z:1}},{Y:M.E.L,W:{d:M.c.GK,Z:2}}]},{Y:M.E.L,W:{d:M.c.Yj,PY:h6.$T}},{sub:[{Y:M.E.L,W:{d:M.c.Yj,PY:h6.Gh}},{Y:M.E.L,W:{d:M.c.Yj,PY:h6.WV}},{Y:M.E.L,W:{d:M.c.Yj,PY:h6.Oc}},{Y:M.E.L,W:{d:M.c.Yj,PY:h6.JW}},{Y:M.E.L,W:{d:M.c.Yj,PY:h6.v4}},{Y:M.E.L,W:{d:M.c.Yj,PY:h6.bq}}]},{Y:M.E.L,W:{d:M.c.Yj,PY:h6.kF}},{Y:M.E.L,W:{d:M.c.Yj,PY:h6.a4F}},{sub:[{Y:M.E.L,W:{d:M.c.Yj,PY:h6.XY,kP:0}},{Y:M.E.L,W:{d:M.c.Yj,PY:h6.XY,kP:1}},{Y:M.E.L,W:{d:M.c.Yj,PY:h6.XY,kP:2}},{Y:M.E.L,W:{d:M.c.Yj,PY:h6.XY,kP:3}},{Y:M.E.L,W:{d:M.c.Yj,PY:h6.XY,kP:4}}]},{Y:M.E.v,G:P.DX,W:{d:"lockguides"}},{Y:M.E.v,G:P.DX,W:{d:"gids",wC:[[],[]]}},{Y:M.E.L,W:{d:M.c.rL,Ln:"addguides"}},{Y:M.E.v,G:P.DX,W:{d:"gidsFromLayer"}},{Y:M.E.v,G:P.Fn,W:{d:"deleteAll"}}]},function(){var b={name:[0,8],items:[{name:[0,14],Pp:!0,sub:[]},{name:"Plugins",Pp:!0}],Lx:[{sub:[]},{Y:M.E.L,W:{d:M.c.rL,Ln:"res1"}}]};
for(var l=0;l<as.aR.length;l++){var z=as.aR[l],v=function(){var T=z._0.R9;return function(Y,g){return{NW:g.p_.indexOf(parseInt(T))!=-1}}}();
(z.ig?b.items[0].sub:b.items).push({name:z._0.name,C:v});(z.ig?b.Lx[0].sub:b.Lx).push({Y:M.E.L,W:{d:M.c.Fp,Ln:z._0.R9}})}return b}(),function(){var b={name:[0,14],items:[],Lx:[]},z={name:[0,9],sub:[]};
b.items.push(z);var v={sub:[]};b.Lx.push(v);var T=hV.aaX();for(var l=0;l<T.length;l++){var Y=T[l],g=Y.code,R=hV.axU(g);
z.sub.push({name:Y.name,Jg:g,C:function(h,E){return{NW:this.Jg==hV.dq()}}});v.sub.push({Y:M.E.L,W:{d:M.c.Yj,PY:h6.Gr,lang:R}})}z.sub.push({name:[0,12]});
v.sub.push({Y:M.E.L,W:{d:M.c.ee,link:"https://www.photopea.com/translate/"}});var z={name:[0,15],sub:[]};
b.items.push(z);var v={sub:[]};b.Lx.push(v);for(var l=0;l<gd.Fg.length;l++){z.sub.push({name:gd.Fg[l].name,C:function(h,E){return{NW:this.name==gd.Fg[E.Eu].name}}});
v.sub.push({Y:M.E.L,W:{d:M.c.Yj,PY:h6.EO,Eu:l}})}b.items.push({name:[0,17,6],C:function(h,E){return{C:E.a9!=null}}});
b.Lx.push({Y:M.E.L,W:{d:M.c.a00}});b.items.push({name:[11,13]});b.Lx.push({Y:M.E.L,W:{d:M.c.rL,Ln:"shortcuts"}});
b.items.push({name:[0,16],C:function(h){return{NW:dy._k,C:dy.Wu}},Pp:!0});b.Lx.push({Y:M.E.L,W:{d:M.c.a7K}});
b.items.push({name:"",C:function(h,E){return E.C0?{dc:"About Photopea",C:!0}:{dc:"",C:!1}}});b.Lx.push({Y:M.E.L,W:{d:M.c.rL,Ln:"aboutpp"}});
return b}()]}();function is(){bU.call(this);this.n=s.t("div","");this.ff=0;this.ia=0;this.Uz=null;this.UI=s.t("div","");
this.UI.setAttribute("style","width:200em; height:100em; position:absolute;");this.Ji=[];this.IB=[];
this.Ca={}}is.prototype=new bU;is.prototype.aa=function(w){var n=Date.now(),H=[];if(w=="-")H=[new hh,new c2,new aS("pdfpres"),new aS("cformat"),new bw,new ci,new hn,new ev,new bo,new d6,new cC,new cM,new gk,new fV,new jQ,new hw,new jS,new dJ,new bh,new b2,new fJ,new f5,new cl,new ef,new jI,new ha,new f6,new d8,new c9(!1),new c9(!0),new a4(0),new a4(1),new dh,new cx,new eu,new ga,new cH,new dz,new hY(0),new hY(1),new hY(2),new hY(3),new hY(4),new hY(5),new hY(6),new hY(7),new hY(8),new i$,new hx,new h$,new jM,new j3,new iB,new fL,new aQ("border",[7,9],"px"),new aQ("smoothness",[19,3,0],"px"),new aQ("expand",[7,4],"px"),new aQ("contract",[7,5],"px"),new aQ("feather",[7,6],"px"),new gM(0,"namewindow",[12,48]),new gM(2,"billto","Bill To"),new gM(1,"cornerradius",[12,94,0],"px",!0,!0),new gM(1,"scaleeffects",[6,30,1],"%",!0),new gM(1,"doczoom","Zoom","%",!0),new gM(1,"setFPS","Set FPS","fps",!1)];
else H=[new ex(w.slice(4))];this.a8P(H);this.Ca[w]=!0};is.prototype.a8P=function(w){var n=this.Uz;for(var l=0;
l<w.length;l++){var H=w[l];H.parent=this;this.IB.push(H);this.PH(H);H.f();if(n)H.AB(n,h6.z8);H.h(M.E.n8,this.or,this);
s.ul(H)}};is.prototype.kc=function(w,n){this.ff=w;this.ia=n;for(var l=0;l<this.IB.length;l++)this.PH(this.IB[l])};
is.prototype.f=function(){for(var l=0;l<this.IB.length;l++)this.IB[l].f()};is.prototype.O9=function(){return this.Ji.length==0?null:this.Ji[this.Ji.length-1]};
is.prototype.i7=function(){for(var l=0;l<this.Ji.length;l++)if(this.Ji[l].i7())return!0;return!1};is.prototype.aj7=function(w,n,H,y,c){var Q=w.startsWith("afw_"),q=null;
if(!Q&&!this.Ca["-"])this.aa("-");if(Q&&!this.Ca[w])this.aa(w);if(typeof w=="object"){q=w;if(!q.auK(M.E.n8,this.or))q.h(M.E.n8,this.or,this);
q.parent=this}else for(var l=0;l<this.IB.length;l++)if(this.IB[l].id==w)q=this.IB[l];if(this.i7()&&q.i7()){alert("Finish the current action first");
return}if(!q.qg(n))return;if(this.Ji.indexOf(q)!=-1){if(w=="colorpicker")q.nQ(n,H,y,c);return}var S=this.Ji.length-1;
if(S>=0)s.li(this.Ji[S].n,"wdisabled");this.n.appendChild(q.n);this.Ji.push(q);this.PH(q);s.tf(q);q.nQ(n,H,y,c)};
is.prototype.PH=function(w){var n=this.ff,H=this.ia,y=w.oG(n,H),c;if(y!=null){c=y}else{y=new ce(0,0);
c=w.ayY();if(c==null){var Q=this.Ji.indexOf(w)+1;if(n<450||H<450)c=new ce(0,0);else c=new ce(Q*150,Q*150)}}w.n.style.left=c.x+"px";
w.n.style.top=this.n.offsetTop+c.y+"px";w.kc(this.ff-y.x*2,this.ia-y.y*2-34)};is.prototype.AB=function(w,n){this.Uz=w;
for(var l=0;l<this.IB.length;l++)this.IB[l].AB(w,n)};is.prototype.or=function(w){var n=this.Ji.pop();
s.ul(n,this.n);var H=this.Ji.length-1;if(H>=0)s.n_(this.Ji[H].n,"wdisabled");if(this.UI.parentNode==this.n)this.n.removeChild(this.UI)};
window.onload=function(){document.body.appendChild(new gD().n)}}())